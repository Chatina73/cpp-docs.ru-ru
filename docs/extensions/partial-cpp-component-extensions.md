---
title: partial (C++/CLI и C++/CX)
ms.date: 10/12/2018
ms.topic: reference
f1_keywords:
- partial_CPP
helpviewer_keywords:
- partial
- C++/CX, partial
ms.assetid: 43adf1f5-10c5-44aa-a66f-7507e2bdabf8
ms.openlocfilehash: eb9b3907008147cb21f04aec5f42e4896fa35b3c
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "65516479"
---
# <a name="partial--ccli-and-ccx"></a>partial (C++/CLI и C++/CX)

Ключевое слово **partial**, которое позволяет различным частям того же класса ссылки создаваться независимо друг от друга и в разных файлах.

## <a name="all-runtimes"></a>Все среды выполнения

(Эта возможность языка поддерживается только в среде выполнения Windows.)

## <a name="windows-runtime"></a>Среда выполнения Windows

Для класса ссылки, которая имеет два частичных определения, ключевое слово **partial** применяется для первого вхождения определения, и обычно это делает автоматически созданный код, чтобы программист не злоупотреблял использованием ключевого слова. Для всех последующих частичных определений класса модификатор **partial** опускается из ключевого слова *class-key* и идентификатора класса. Когда компилятор обнаруживает ранее определенный класс ссылки и идентификатор класса, но не ключевое слово **partial**, он объединяет все части определения класса ссылки в одно.

### <a name="syntax"></a>Синтаксис

```cpp
partial class-key identifier {
   /* The first part of the partial class definition.
      This is typically auto-generated */
}
// ...
class-key identifier {
   /* The subsequent part(s) of the class definition. The same
      identifier is specified, but the "partial" keyword is omitted. */
}
```

### <a name="parameters"></a>Параметры

*class-key*<br/>
Ключевое слово, которое объявляет класс или структуру, поддерживаемую средой выполнения Windows. Это **ref class**, **value class**, **ref struct** или **value struct**.

*identifier*<br/>
Имя определенного типа.

### <a name="remarks"></a>Примечания

Разделяемый класс предназначен для сценариев, где вы изменяете часть определения класса в одном файле, а программное обеспечение для автоматического построения кода (например, конструктор XAML) изменяет код в этом же классе в другом файле. Использование разделяемого класса позволяет предотвратить изменение вашего кода автоматическим генератором кода. В проекте Visual Studio к сгенерированному файлу автоматически применяется модификатор **partial**.

Содержимое: С двумя исключениями определение разделяемого класса может содержать любые конструкции, которые могли бы содержаться в полном определении класса, если бы ключевое слово **partial** не было указано. Однако доступность класса (например, `public partial class X { ... };`) и **declspec** задать нельзя.

Описатели доступа, используемые в определении разделяемого класса для *identifier*, не влияют на доступность по умолчанию в последующем разделяемом или полном определении класса *identifier*. Встроенные определения статических элементов данных также допускаются.

Объявление. Частичное определение класса *identifier* содержит только имя *identifier*, но *identifier* нельзя использовать способом, требующим определения класса. Имя *identifier* не позволяет узнать размер *identifier* и использовать базу или элемент *identifier* до обнаружения компилятором полного определения *identifier*.

Количество и порядок указания. Для *identifier* может существовать одно определение разделяемого класса, несколько таких определений или ни одного. Каждому определению разделяемого класса *identifier* должно лексически предшествовать одно полное определение *identifier* (если оно существует; в противном случае использование класса невозможно, за исключением наличия опережающего объявления), но не обязательно предшествовать опережающим объявлениям *identifier*. Все ключевые слова объявления класса должны совпадать.

Полное определение. Когда компилятор встречает полное определение класса *identifier*, он действует, как если бы именно в нем были объявлены все базовые классы, элементы и т. д. в том порядке, в котором они определены в разделяемых классах.

Шаблоны. Разделяемый класс не может быть шаблоном.

Универсальные шаблоны. Разделяемый класс может быть универсальным, если полное определение может быть универсальным. Но каждый разделяемый и полный класс должен иметь точно такие же универсальные параметры, включая имена формальных параметров.

Дополнительные сведения об использовании ключевого слова **partial** см. в статье [Partial Classes (C++/CX)](http://go.microsoft.com/fwlink/p/?LinkId=249023) (Разделяемые классы (C++/CX)).

### <a name="requirements"></a>Требования

Параметр компилятора: `/ZW`

## <a name="common-language-runtime"></a>Среда CLR

(Эта возможность языка не поддерживается в среде CLR.)

## <a name="see-also"></a>См. также

[Partial Classes (C++/CX)](http://go.microsoft.com/fwlink/p/?LinkId=249023) (Разделяемые классы (C++/CX))