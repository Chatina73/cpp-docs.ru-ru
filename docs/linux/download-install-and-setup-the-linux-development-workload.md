---
title: Установка рабочей нагрузки Linux для проектов C++ в Visual Studio
description: Скачивание, установка и настройка рабочей нагрузки Linux для проектов C++ в Visual Studio.
ms.date: 03/05/2019
ms.assetid: e11b40b2-f3a4-4f06-b788-73334d58dfd9
ms.openlocfilehash: 74155724abb3a0e02cc27dd8a8d144f142ee4b6f
ms.sourcegitcommit: dedd4c3cb28adec3793329018b9163ffddf890a4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/11/2019
ms.locfileid: "57747726"
---
# <a name="download-install-and-set-up-the-linux-workload"></a>Загрузка, установка и настройка рабочей нагрузки Linux

Visual Studio 2017 IDE в Windows можно использовать для создания, редактирования и отладки проектов C++, которые выполняются на физическом компьютере Linux, на виртуальной машине или в [подсистеме Windows для Linux](/windows/wsl/about). 

Вы можете работать с существующей базой кода, где используется CMake или другая система сборки, и не преобразовывать ее в проект Visual Studio. Если база кода является кроссплатформенной, в Visual Studio можно создавать решения как для Windows, так и для Linux. Например, вы можете изменять, отлаживать и профилировать код на Windows с помощью Visual Studio, а затем быстро изменить целевую платформу проекта на Linux для дальнейшего тестирования. Файлы заголовков Linux автоматически копируются на локальный компьютер, где Visual Studio использует их для предоставления полной поддержки технологии IntelliSense (завершение операторов, "Перейти к определению" и т. д.).
 
Чтобы использовать любой из этих сценариев, требуется рабочая нагрузка **Разработка для Linux на C++**. 

## <a name="visual-studio-setup"></a>Установка Visual Studio

1. В поле поиска Windows введите "Visual Studio Installer": ![Поле поиска Windows](media/visual-studio-installer-search.png)
2. Найдите установщик в разделе **Приложения** и дважды щелкните его. Когда откроется установщик, щелкните **Изменить** и перейдите на вкладку **Рабочие нагрузки**. Прокрутите вниз до раздела **Другие наборы инструментов** и выберите рабочую нагрузку **Разработка для Linux на C++**.

   ![Рабочая нагрузка "Разработка на Visual C++ для Linux"](media/linuxworkload.png)

1. Если вы используете CMake или нацеливаетесь на платформы Интернета вещей или Embedded, в разделе **Разработка для Linux на C++** перейдите вправо к панели **Сведения об установке**, разверните элемент **Дополнительные компоненты** и выберите нужные компоненты.

    **Visual Studio 2017 версии 15.4 и выше**<br/>: При установке рабочей нагрузки Linux для проектов C++ в Visual Studio по умолчанию выбирается поддержка CMake для Linux.

1. Для продолжения установки нажмите кнопку **Изменить**.

## <a name="options-for-creating-a-linux-environment"></a>Варианты создания среды Linux

Если у вас нет компьютера Linux, можно создать виртуальную машину Linux в Azure. Дополнительные сведения см. в разделе [Краткое руководство. Создание виртуальной машины Linux на портале Azure](/azure/virtual-machines/linux/quick-create-portal).

Еще один вариант — активировать в Windows 10 подсистему Windows для Linux. Дополнительные сведения см. в [руководстве по установке Windows 10](/windows/wsl/install-win10).

## <a name="linux-setup-ubuntu"></a>Установка Linux: Ubuntu

На целевом компьютере Linux должны быть установлены **openssh-server**, **g++**, **gdb** и **gdbserver** и запущена управляющая программа SSH. **ZIP** необходим для автоматической синхронизации удаленных заголовков на локальном компьютере, чтобы обеспечить поддержку Intellisense. Если эти приложения отсутствуют, их можно установить следующим образом.

1. В командной строке оболочки на компьютере Linux выполните следующую команду:

   `sudo apt-get install openssh-server g++ gdb gdbserver zip`

   Для выполнения команды sudo вам может быть предложено ввести пароль учетной записи root.  Введите его и продолжите. После завершения будут установлены требуемые службы и средства.

1. Запустите службу ssh на компьютере Linux, выполнив следующую команду:

   `sudo service ssh start`

   Эта команда запустит службу в фоновом режиме в режиме готовности к принятию подключений.

## <a name="linux-setup-fedora"></a>Установка Linux: Fedora

На целевой машине под управлением Fedora используются установщик пакетов **dnf**. Чтобы скачать **openssh-server**, **g ++**, **gdb**, **gdbserver** и **zip**, а затем перезапустить ssh управляющую программу, сделайте следующее:

1. В командной строке оболочки на компьютере Linux выполните следующую команду:

   `sudo dnf install openssh-server gcc-g++ gdb gdb-gdbserver zip`

   Для выполнения команды sudo вам может быть предложено ввести пароль учетной записи root.  Введите его и продолжите. После завершения будут установлены требуемые службы и средства.

1. Запустите службу ssh на компьютере Linux, выполнив следующую команду:

   `sudo systemctl start sshd`

   Эта команда запустит службу в фоновом режиме в режиме готовности к принятию подключений.

## <a name="ensure-you-have-cmake-38-on-the-remote-linux-machine"></a>Убедитесь, что на удаленном компьютере Linux есть CMake 3.8

В дистрибутиве Linux может быть более ранняя версия CMake. Для поддержки CMake в Visual Studio требуется поддержка режима сервера, которая была введена в CMake 3.8. Для версии CMake от Майкрософт скачайте последние готовые двоичные файлы на компьютер Linux по адресу [https://github.com/Microsoft/CMake/releases](https://github.com/Microsoft/CMake/releases).
