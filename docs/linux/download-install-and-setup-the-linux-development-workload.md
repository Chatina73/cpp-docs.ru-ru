---
title: Установка рабочей нагрузки Linux для проектов C++ в Visual Studio
description: Скачивание, установка и настройка рабочей нагрузки Linux для проектов C++ в Visual Studio.
ms.date: 06/07/2019
ms.assetid: e11b40b2-f3a4-4f06-b788-73334d58dfd9
ms.openlocfilehash: af4e3ec0ac21951163e92786555559cd02e8148f
ms.sourcegitcommit: 8adabe177d557c74566c13145196c11cef5d10d4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/10/2019
ms.locfileid: "66821577"
---
# <a name="download-install-and-set-up-the-linux-workload"></a>Загрузка, установка и настройка рабочей нагрузки Linux


::: moniker range=">=vs-2017"

Visual Studio IDE в Windows можно использовать для создания, редактирования и отладки проектов C++, которые выполняются на физическом компьютере Linux, на виртуальной машине или в [подсистеме Windows для Linux](/windows/wsl/about). 

Вы можете работать с существующей базой кода, где используется CMake или другая система сборки, и не преобразовывать ее в проект Visual Studio. Если база кода является кроссплатформенной, в Visual Studio можно создавать решения как для Windows, так и для Linux. Например, вы можете изменять, отлаживать и профилировать код на Windows с помощью Visual Studio, а затем быстро изменить целевую платформу проекта на Linux для дальнейшего тестирования. Файлы заголовков Linux автоматически копируются на локальный компьютер, где Visual Studio использует их для предоставления полной поддержки технологии IntelliSense (завершение операторов, "Перейти к определению" и т. д.). 
 
Чтобы использовать любой из этих сценариев, требуется рабочая нагрузка **Разработка для Linux на C++** . 

::: moniker-end

::: moniker range="vs-2019"

В Visual Studio 2019 г. можно указать отдельные целевые устройства для сборки и отладки. При нацеливании WSL, больше не бывает необходимо добавить подключение к удаленному или настроить SSH.

Поддержка [AddressSanitizer (ASan)](https://github.com/google/sanitizers/wiki/AddressSanitizer) интегрирован в Visual Studio для проектов Linux.

::: moniker-end

::: moniker range=">=vs-2017"

## <a name="visual-studio-setup"></a>Установка Visual Studio

1. В поле поиска Windows введите "Visual Studio Installer": ![Поле поиска Windows](media/visual-studio-installer-search.png)
2. Найдите установщик в разделе **Приложения** и дважды щелкните его. Когда откроется установщик, щелкните **Изменить** и перейдите на вкладку **Рабочие нагрузки**. Прокрутите вниз до раздела **Другие наборы инструментов** и выберите рабочую нагрузку **Разработка для Linux на C++** .

   ![Рабочая нагрузка "Разработка на Visual C++ для Linux"](media/linuxworkload.png)

1. Если вы ориентируетесь, IoT или внедренные платформы, перейдите к **сведения об установке** панели справа в разделе **разработка приложений Linux на C++** , разверните **дополнительные компоненты**и выбрать нужные компоненты. По умолчанию выбирается поддержка CMake для Linux.

1. Для продолжения установки нажмите кнопку **Изменить**.

## <a name="options-for-creating-a-linux-environment"></a>Варианты создания среды Linux

Если у вас нет компьютера Linux, можно создать виртуальную машину Linux в Azure. Дополнительные сведения см. в разделе [Краткое руководство. Создание виртуальной машины Linux на портале Azure](/azure/virtual-machines/linux/quick-create-portal).

В Windows 10 можно установить и целевой избранные дистрибутив Linux в подсистеме Windows для Linux (WSL). Дополнительные сведения см. в разделе [подсистемы Windows для руководство по установке Linux для Windows 10](/windows/wsl/install-win10). WSL — это среда удобный консоли, но не рекомендуется для приложения. 

::: moniker-end

::: moniker range="vs-2019"

## <a name="linux-setup-ubuntu-on-wsl"></a>Установка Linux: Ubuntu в WSL

На WSL нет удаленного подключения не требуется. **ZIP** и **rsync** являются обязательными для автоматической синхронизации заголовков Linux с помощью Visual Studio для поддержки Intellisense. Если необходимые приложения еще не сделано, их можно установить следующим образом:

```bash
sudo g++ gdb make rsync zip
```
::: moniker-end

::: moniker range=">=vs-2017"

## <a name="ubuntu-on-remote-linux-systems"></a>Ubuntu в удаленных системах Linux

Целевой системе Linux должен иметь **openssh-server**, **g ++** , **gdb**, и **gdbserver** установлен и ssh управляющую программу должна быть запущена. **ZIP** необходим для автоматической синхронизации удаленных заголовков на локальном компьютере, чтобы обеспечить поддержку Intellisense. Если эти приложения отсутствуют, их можно установить следующим образом.

1. В командной строке оболочки на компьютере Linux выполните следующую команду:

   ```bash
   sudo apt-get install openssh-server g++ gdb gdbserver zip
   ```

   Для выполнения команды sudo вам может быть предложено ввести пароль учетной записи root.  Введите его и продолжите. После завершения будут установлены требуемые службы и средства.

1. Запустите службу ssh на компьютере Linux, выполнив следующую команду:

   ```bash
   sudo service ssh start
   ```
   Эта команда запустит службу в фоновом режиме в режиме готовности к принятию подключений.

::: moniker-end

::: moniker range="vs-2019"

## <a name="fedora-on-wsl"></a>Fedora на WSL

Использует Fedora **dnf** пакет установщика. Чтобы скачать **g ++** , **gdb**, **rsync** и **zip**, выполните:

   ```bash
   sudo dnf install gcc-g++ gdb rsync zip
   ```

**ZIP** и **rsync** являются обязательными для автоматической синхронизации заголовков Linux с помощью Visual Studio для поддержки Intellisense.

::: moniker-end

::: moniker range=">=vs-2017"

## <a name="fedora-on-remote-linux-systems"></a>Fedora в удаленных системах Linux

На целевой машине под управлением Fedora используются установщик пакетов **dnf**. Чтобы скачать **openssh-server**, **g ++** , **gdb**, **gdbserver** и **zip**, а затем перезапустить ssh управляющую программу, сделайте следующее:

1. В командной строке оболочки на компьютере Linux выполните следующую команду:

   ```bash
   sudo dnf install openssh-server gcc-g++ gdb gdb-gdbserver zip
   ```
   Для выполнения команды sudo вам может быть предложено ввести пароль учетной записи root.  Введите его и продолжите. После завершения будут установлены требуемые службы и средства.

1. Запустите службу ssh на компьютере Linux, выполнив следующую команду:

   ```bash
   sudo systemctl start sshd
   ```

   Эта команда запустит службу в фоновом режиме в режиме готовности к принятию подключений.

::: moniker-end

::: moniker range="vs-2015"

Поддержка Linux C++ разработки в Visual Studio 2017 и более поздних версий.

::: moniker-end

## <a name="next-steps"></a>Следующие шаги

Теперь вы готовы для создания или открытия проекта Linux и настроить его для работы в целевой системе. Дополнительные сведения:

- [Создание проекта Linux](create-a-new-linux-project.md)
- [Настройка проекта Linux CMake](cmake-linux-project.md)
