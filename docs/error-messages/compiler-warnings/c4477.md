---
title: C4477 предупреждения компилятора
ms.date: 02/16/2018
helpviewer_keywords:
- C4477
ms.openlocfilehash: 21db3a5890f08eea2c03a7373494bea30922af5c
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50516835"
---
# <a name="compiler-warning-level-1-c4477"></a>Компилятор предупреждение (уровень 1) C4477

> "*функция*": строка формата "*строка*«требуется аргумент типа»*тип*", но вариативный аргумент *номер* имеет тип "*тип*"

Компилятор обнаружил несоответствие тип аргумента, необязателен заполнителя в строке формата и тип аргумента. Правильное использование функций с переменным числом аргументов функции printf и scanf семейств требует, чтобы вы указали аргумента типа, заданного в строке формата. Несоответствие обычно означает, что это ошибка в коде.

Сведения о аргументы, связанные с заполнители строк семейства формата printf, см. в разделе [синтаксис описания формата: функции printf и wprintf](../../c-runtime-library/format-specification-syntax-printf-and-wprintf-functions.md). См. в документации для получения сведений о функции *функция*.

Это предупреждение впервые появился в Visual Studio 2015.

## <a name="example"></a>Пример

В этом примере показано два предупреждения C4477 для первой функции printf_s, в том случае, если было найдено два аргумента с неверным типом, а также показано, как устранить проблемы.

```cpp
// C4477p.cpp
// compile with: cl /c /W4 C4477p.cpp
#include <stdio.h>

void print_func(int a, float f)
{
    printf_s("This takes int and double arguments %d and %f.\n", f, a); // C4477, expected int then double
    printf_s("This takes int and double arguments %d and %f.\n", a, f); // fix: types in correct order
}
```

В первое сообщение об ошибке, компилятор обнаруживает, что **двойные** аргумента при **int** ожидается. Объект **float** автоматически повышается до **двойные** в списке аргументов с переменным числом аргументов. Второе сообщение об ошибке показывает, что компилятор ожидал **двойные** аргумент, но **int** был указан. Компилятор не может определить, что был переключен порядок аргументов. Необходимо проверить строку формата для определения порядка фактического аргумента и укажите правильные типы аргументов.
