---
title: Предупреждение компилятора C4477
ms.date: 02/16/2018
f1_keywords:
- C4477
helpviewer_keywords:
- C4477
ms.openlocfilehash: 43867f65c380cb67d2174947fe0159011c13f126
ms.sourcegitcommit: 8762a3f9b5476b4dee03f0ee8064ea606550986e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2019
ms.locfileid: "74810690"
---
# <a name="compiler-warning-level-1-c4477"></a>Предупреждение компилятора (уровень 1) C4477

> "*функция*": строка формата "*строка*" требует аргумент типа "*тип*", но *номер* аргумента Variadic имеет тип "*тип*"

Компилятор обнаружил несоответствие между типом аргумента, который требуется для удовлетворения заполнителя в строке формата, и типом переданного аргумента. Правильное использование семейств функций scanf и printf в функциях Variadic требует указания аргументов типов, указанных в строке формата. Несоответствие обычно означает наличие ошибки в коде.

Дополнительные сведения о аргументах, связанных с заполнителями строки формата для семейства printf, см. в разделе [синтаксис спецификации формата: printf и wprintf functions](../../c-runtime-library/format-specification-syntax-printf-and-wprintf-functions.md). Сведения, относящиеся к *функции*Function, см. в документации.

Это предупреждение является новым в Visual Studio 2015.

## <a name="example"></a>Пример

В этом примере показаны два предупреждения C4477 для первой функции printf_s, если два аргумента имеют неверный тип, а также показано, как устранить проблемы.

```cpp
// C4477p.cpp
// compile with: cl /c /W4 C4477p.cpp
#include <stdio.h>

void print_func(int a, float f)
{
    printf_s("This takes int and double arguments %d and %f.\n", f, a); // C4477, expected int then double
    printf_s("This takes int and double arguments %d and %f.\n", a, f); // fix: types in correct order
}
```

В первом сообщении об ошибке компилятор обнаруживает, что аргумент **Double** указывается, когда ожидается **тип int** . **Число с плавающей запятой** автоматически повышается до **Double** в списке аргументов Variadic. Второе сообщение об ошибке показывает, что компилятор ожидал аргумент **Double** , **но было указано целое** число. Компилятор не может определить, что вы заменяли порядок аргументов. Необходимо проверить строку формата, чтобы определить фактический порядок аргументов и указать правильные типы аргументов.
