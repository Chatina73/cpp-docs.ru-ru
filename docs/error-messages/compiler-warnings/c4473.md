---
title: Предупреждение компилятора C4473
ms.date: 02/16/2018
f1_keywords:
- C4473
helpviewer_keywords:
- C4473
ms.openlocfilehash: a1d46676dddf3089dc573be9e84fe0779fb18c87
ms.sourcegitcommit: 8762a3f9b5476b4dee03f0ee8064ea606550986e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2019
ms.locfileid: "74810706"
---
# <a name="compiler-warning-level-1-c4473"></a>Предупреждение компилятора (уровень 1) C4473

> "*функция*": недостаточно аргументов, переданных для заполнителей строки форматирования, и их параметры предполагают *число* аргументов Variadic *, но для* строки формата "*format_string*" требуется отсутствующий *индекс* аргумента Variadic. Этот аргумент используется описателем преобразования. Этот аргумент используется в качестве значения ширины поля

Компилятор обнаружил несоответствие между числом аргументов, требуемых для удовлетворения заполнители в строке формата, и количество переданных аргументов. Правильное использование семейств функций Variadic printf и scanf требует указать столько аргументов, сколько указано в строке формата. Некоторым заполнителям требуются дополнительные аргументы для указания ширины, точности или размера буфера, а также аргумента для содержимого. Несоответствие обычно означает наличие ошибки в коде.

Дополнительные сведения о аргументах, связанных с заполнителями строки формата для семейства printf, см. в разделе [синтаксис спецификации формата: printf и wprintf functions](../../c-runtime-library/format-specification-syntax-printf-and-wprintf-functions.md). Сведения, относящиеся к *функции*Function, см. в документации.

Это предупреждение является новым в Visual Studio 2015.

## <a name="example"></a>Пример

В этих примерах показаны два способа предупреждения C4473, которые могут возникать из-за несоответствия строки формата и ее аргументов, а также показано, как устранить проблемы.

```cpp
// c4473p.cpp
// compile with: cl /c /W4 c4473p.cpp
#include <stdio.h>

void print_func(int a, float f)
{
    printf_s("This takes %*f arguments.\n", f); // C4473, missing * width argument
    printf_s("This takes %*f arguments.\n", a, f); // fix: supply width argument
}
```

В первом сообщении об ошибке компилятор обнаруживает, что аргумент отсутствует, но не может определить, является ли отсутствующий аргумент шириной или содержимым, так что предполагается, что аргумент Missing является первым, для ширины, а отсутствующий аргумент — второй. , для описателя преобразования типа. Необходимо проверить строку формата, чтобы определить фактический отсутствующий аргумент.

```cpp
// c4473s.cpp
// compile with: cl /c /W4 c4473s.cpp
#include <stdio.h>

void scan_func(int a, float f)
{
    char name[20];

    scanf_s("%s", &name);                // C4473, missing buffer size argument
    scanf_s("%s", &name, sizeof(name));  // fix: supply buffer size argument
}
```

В этом примере **scanf_s** требует два аргумента для каждого заполнителя, один для предоставления адреса для записи, а второй — для указания размера первого. Ознакомьтесь с документацией по каждой библиотечной функции, чтобы получить объяснение обязательных аргументов.
