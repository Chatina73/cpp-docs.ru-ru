---
title: C4473 предупреждения компилятора
ms.date: 02/16/2018
helpviewer_keywords:
- C4473
ms.openlocfilehash: fbf940a4b2659542c9e5533687094bd1d45efe1a
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62281209"
---
# <a name="compiler-warning-level-1-c4473"></a>Компилятор предупреждение (уровень 1) C4473

> "*функция*": передано недостаточно аргументов для заполнители строку формата и их параметры ожидают *номер* переменное число аргументов, но *номер* были предоставлены пропущен аргумент с переменным числом аргументов *индекс* требуется строка формата "*format_string*" Этот аргумент используется этот аргумент используется в качестве ширины поля, этот аргумент используется описателем преобразования как точность этот аргумент используется в качестве размера буфера

Компилятор обнаружил несоответствие между числом аргументов, необязателен заполнители в строке формата и число аргументов. Правильное использование функций с переменным числом аргументов функции printf и scanf семейств требует, чтобы вы указали столько аргументов, как указано в строке формата. Определенные заполнители требуются дополнительные аргументы для указания ширины, точности или размер буфера, а также аргумент для содержимого. Несоответствие обычно означает, что это ошибка в коде.

Сведения о аргументы, связанные с заполнители строк семейства формата printf, см. в разделе [синтаксис описания формата: функции printf и wprintf](../../c-runtime-library/format-specification-syntax-printf-and-wprintf-functions.md). См. в документации для получения сведений о функции *функция*.

Это предупреждение впервые появился в Visual Studio 2015.

## <a name="example"></a>Пример

Следующих примеров показано два способа, предупреждение C4473 может быть результатом строку формата несоответствие с ее аргументами, а также показано, как устранить проблемы.

```cpp
// c4473p.cpp
// compile with: cl /c /W4 c4473p.cpp
#include <stdio.h>

void print_func(int a, float f)
{
    printf_s("This takes %*f arguments.\n", f); // C4473, missing * width argument
    printf_s("This takes %*f arguments.\n", a, f); // fix: supply width argument
}
```

В первое сообщение об ошибке компилятор обнаруживает, что аргумент отсутствует, но не может определить, является ли отсутствующий аргумент ширины или содержимое, поэтому предполагается, предоставленный аргумент является первым, ширину, и отсутствующий аргумент является второй , для описателя преобразования типа. Необходимо проверить строку формата для определения фактического отсутствующий аргумент.

```cpp
// c4473s.cpp
// compile with: cl /c /W4 c4473s.cpp
#include <stdio.h>

void scan_func(int a, float f)
{
    char name[20];

    scanf_s("%s", &name);                // C4473, missing buffer size argument
    scanf_s("%s", &name, sizeof(name));  // fix: supply buffer size argument
}
```

В этом примере **scanf_s** необходимо два аргумента для каждого местозаполнителя, один для предоставления адреса для записи, а второй — чтобы указать размер первого. Обратитесь к документации для каждой функции библиотеки объяснение обязательные аргументы.
