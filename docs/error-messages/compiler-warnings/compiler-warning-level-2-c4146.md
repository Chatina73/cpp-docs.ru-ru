---
title: Компилятор предупреждение (уровень 2) C4146
ms.date: 11/04/2016
f1_keywords:
- C4146
helpviewer_keywords:
- C4146
ms.assetid: d6c31ab1-3120-40d5-8d80-32b5f7046e32
ms.openlocfilehash: 8b3090f1bc3a64752ede4dab2b1e1b5cd800057d
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50555575"
---
# <a name="compiler-warning-level-2-c4146"></a>Компилятор предупреждение (уровень 2) C4146

Применение унарного минуса к беззнаковому типу без знака

Беззнаковые типы может содержать только неотрицательные значения, поэтому унарного минуса (отрицание) не имеет смысла обычно при применении к типу без знака. Операнд и результат не являются отрицательными.

На практике это происходит, когда программист пытается выразить минимальное целое значение, которое равно -2147483648. Это значение нельзя записать в качестве -2147483648, поскольку выражение обрабатывается в два этапа:

1. Число 2147483648 вычисляется. Так как это больше, чем максимальное целое значение 2147483647, тип числа 2147483648 не [int](../../c-language/integer-types.md), но `unsigned int`.

1. Унарный минус применяется к значению с результатом без знака, который также является 2147483648.

Без знака типа результата может привести к непредвиденному поведению. Если результат используется в сравнении, то сравнение без знака может использоваться, например, если другой операнд представляет `int`. Это объясняет, почему Приведенная ниже программа выводит только одну строку.

Ожидаемая вторая строка `1 is greater than the most negative int`, не выводится, так как `((unsigned int)1) > 2147483648` имеет значение false.

Можно избежать с помощью INT_MIN из файла limits.h, который имеет тип C4146 **целочисленное число со знаком**.

## <a name="example"></a>Пример

Следующий пример приводит к возникновению ошибки C4146:

```
// C4146.cpp
// compile with: /W2
#include <stdio.h>

void check(int i)
{
    if (i > -2147483648)   // C4146
        printf_s("%d is greater than the most negative int\n", i);
}

int main()
{
    check(-100);
    check(1);
}
```