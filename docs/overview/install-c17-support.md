---
title: Установка поддержки C11 и C17 в Visual Studio
description: Установка Windows SDK и поддержки ЭЛТ для C11 и C17 в Visual Studio
ms.date: 09/11/2020
helpviewer_keywords:
- Install preview Windows SDK
ms.assetid: 45138d70-719d-42dc-90d7-1d0ca31a2f54
ms.openlocfilehash: 84e3e17c7d65fc129e789634e6cf0b442565e26b
ms.sourcegitcommit: bf6d8a220f6392f1f19c0c0605d1467d0221ef6c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105551752"
---
# <a name="install-c11-and-c17-support-in-visual-studio"></a>Установка поддержки C11 и C17 в Visual Studio

::: moniker range="<=msvc-150"

Для поддержки стандартов C11 и C17 требуется Visual Studio 2019 версии 16.8 или более поздней. Чтобы отобразилась документация для этой версии, установите в этой статье селектор **Версия** Visual Studio в положение "Visual Studio 2019". Он находится в верхней части оглавления на этой странице.

::: moniker-end

::: moniker range="msvc-160"

Поддержка стандартов C11 и C17 доступна начиная с Visual Studio 2019 версии 16.8. Для поддержки требуется обновленная универсальная среда выполнения C (UCRT) и последние обновления Windows SDK. Это гарантирует правильную работу с соответствующим препроцессором ([`/Zc:preprocessor`](../build/reference/zc-preprocessor.md)).

Выпуски Windows SDK соответствуют выпускам ОС Windows. Так как в Windows не было выпусков с этими изменениями, вам потребуется *пакет Windows SDK Insider Preview*. Это предварительная версия Windows SDK, соответствующая сборкам Windows, к которым в настоящее время *предоставлен доступ* или они тестируются с помощью участников программы предварительной оценки Windows. После установки пакета SDK для Windows 10 Insider Preview в проектах Visual Studio, для которых настроено использование последнего пакета Windows SDK, будет использоваться Insider Preview.

## <a name="prerequisites"></a>Предварительные условия

- Установленная и запущенная на компьютере среда Visual Studio 2019 версии 16.8 или более поздняя. При установке включите рабочую нагрузку "Разработка классических приложений на C++". Скачайте установщик предварительной версии на странице [Visual Studio Preview](https://visualstudio.microsoft.com/vs/preview/). Если Visual Studio еще не установлено, ознакомьтесь с инструкциями по установке в статье [Установка поддержки C и C++ в Visual Studio](../build/vscpp-step-0-installation.md).

## <a name="step-1-sign-in-by-using-an-insider-microsoft-account"></a>Шаг 1. Вход с помощью учетной записи Insider Microsoft

Любой пользователь может создать бесплатную [учетную запись Майкрософт](https://signup.live.com/), а затем принять участие в программе предварительной оценки. Перейдите на страницу [программы предварительной оценки Windows для разработчиков](https://insider.windows.com/for-developers), выберите **Регистрация** и выполните вход.

После регистрации вы можете начать фокус-тестирование версий программ предварительной оценки Windows. Этот шаг не является обязательным для загрузки и использования пакета SDK для Windows 10 Insider. Когда вы регистрируетесь, чтобы стать участником программы предварительной оценки Windows, новые тестовые пакеты Windows не будут автоматически загружены на ваши компьютеры.

После перехода на страницу **приветствия программы предварительной оценки Windows** вам не нужно выбирать **Flight now** (Предоставить доступ сейчас). Перейдите к следующему шагу, чтобы скачать пакет SDK Windows 10 Insider Preview.

## <a name="step-2-download-the-insider-preview-windows-10-sdk"></a>Шаг 2. Скачивание пакета SDK для Windows 10 Insider Preview

Вы можете установить пакет SDK для Windows Insider Preview с [этой страницы](https://www.microsoft.com/software-download/windowsinsiderpreviewSDK). Если появится сообщение, что необходимо быть членом программы предварительной оценки Windows, убедитесь, что вы вошли в учетную запись. Используйте ту же учетная запись Майкрософт, как и для программы предварительной оценки. Если отобразится сообщение We are sorry, the page you requested cannot be found (К сожалению, запрашиваемая страница не найдена), попробуйте изменить языковой стандарт в URL-адресе на *en-us*.

Для работы на странице программы предварительной оценки необходимо использовать ОС Windows 10 Insider Preview. Это необходимо только для некоторого содержимого, включенного в Windows SDK. Это содержимое может зависеть от новых API-интерфейсов, отсутствующих в более старых версиях Windows. Тем не менее, заголовки Windows и универсальной среды выполнения C можно установить и использовать без ОС программы предварительной оценки.

Выберите **Get SDK Insider Preview – Build 20211** (Получить Insider Preview пакета SDK — сборка 20211) (или более поздней версии), чтобы начать скачивание. Более поздние версии Windows SDK также будут работать.

## <a name="step-3-install-the-insider-preview-windows-10-sdk"></a>Шаг 3. Установка пакета SDK для Windows 10 Insider Preview

Пакет SDK для Windows Insider Preview будет скачан в виде файла *`.iso`* . В проводнике откройте папку, содержащую скачанный файл. Чтобы начать установку, подключите файл *`.iso`* , а затем запустите *`WinSDKSetup.exe`* .

На странице **Выбор расположения** выберите **Install the Windows Software Development Kit - \<version> to this computer** (Установите пакет средств разработки программного обеспечения для Windows версии \<version> на этот компьютер), а затем нажмите кнопку **Далее**. На странице **Конфиденциальность комплектов Windows** выберите, следует ли разрешить корпорации Майкрософт собирать аналитические сведения о комплектах Windows 10, а затем нажмите кнопку **Далее**. Нажмите кнопку **Принять**, чтобы принять условия лицензионного соглашения. На странице **выбора компонентов для установки** выберите только эти компоненты:  

- Средства подписывания Windows SDK для классических приложений;

- Windows SDK для приложений под управлением UWP;

- Windows SDK для приложений UWP C++;

- Windows SDK для классических приложений C++ x86 (если планируется сборка для x86);

- Windows SDK для классических приложений C++ amd64 (если планируется сборка для amd64);

- Windows SDK для классических приложений C++ arm (если планируется сборка для arm);

- Windows SDK для классических приложений C++ arm64 (если планируется сборка для arm64).

![Снимок экрана установщика Windows SDK с компонентами, выбранными для установки](media/c11-7-windows-sdk-installer-select-features.png)

Нажмите кнопку **Установить**, чтобы установить выбранные компоненты пакета SDK. Для завершения установки пакета SDK требуется несколько минут. После завершения откройте Visual Studio.

## <a name="step-4-configuring-c11-or-c17-mode-in-visual-studio"></a>Шаг 4. Настройка режима C11 или C17 в Visual Studio

В Visual Studio последовательно откройте новый или существующий проект C, а затем — диалоговое окно **Страницы свойств** проекта.

Настройте проект для использования пакета SDK для Windows 10 Insiders Preview. На странице **Свойства конфигурации** > **Общие** задайте для свойства **Версия Windows SDK** значение **10.0 (последняя установленная версия)** или укажите конкретную предварительную версию, которую вы установили.

Также отобразится новый параметр: **Стандарт языка C**. Присвойте ему значение **ISO C11 Standard (`/std:c11`)** (Стандарт ISO C11 (/std:c11)) или **ISO C17 (2018) Standard (`/std:c17`)** (Стандарт ISO C17 (2018) (/std:c17)).  

![Снимок экрана диалогового окна страниц свойств на странице конфигурации общих свойств с раскрывающимся списком свойств стандарта языка C и выбранным пунктом ISO C17](media/c11-9-project-property-page-c-language-standard.png)

Стандарт языка C++ используется, если языком является C++. По умолчанию файл имеет расширение *`.cpp`* . Версия стандарта языка C используется, если языком является C. По умолчанию файл имеет расширение *`.c`* . Чтобы выполнить сборку с помощью C11 или C17, разместите исходный код в файле *`.c`* или задайте код для компиляции как C. Это свойство можно задать на странице **Свойства конфигурации** > **C/C++**  > **Дополнительно**. Установите для свойства **Компилировать как** значение **Компилировать как C код (/TC)** .

Поздравляем! Вы настроили все компоненты для создания кода C11 и C17 в Visual Studio.

## <a name="see-also"></a>См. также

[`/std` (определение стандартной версии языка)](../build/reference/std-specify-language-standard-version.md)

::: moniker-end
