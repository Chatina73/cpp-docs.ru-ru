---
title: Новые возможности C++ в Visual Studio
description: Новые возможности и исправления для компилятора и средства C/C++ в Visual Studio 2019.
ms.date: 03/03/2021
ms.technology: cpp-ide
ms.openlocfilehash: c48b733ad18d57917220b443bd18830441dc693c
ms.sourcegitcommit: f8ba5db09d05683b24c58505f0e57c21f85545dc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/11/2021
ms.locfileid: "103087185"
---
# <a name="whats-new-for-c-in-visual-studio"></a>Новые возможности C++ в Visual Studio

В Visual Studio 2019 реализовано множество изменений и исправлений для среды Microsoft C++. Мы исправили множество ошибок и проблем с компилятором и средствами. Сообщения о многих из них были отправлены клиентами с помощью инструментов [Сообщить о проблеме](/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2019&preserve-view=true) и [Отправить предложение](https://aka.ms/feedback/suggest?space=62) в разделе **Отправить отзыв**. Спасибо, что сообщаете нам об ошибках!

Дополнительные сведения о новых возможностях всех компонентов Visual Studio см. на странице [What's new in Visual Studio 2019](/visualstudio/ide/whats-new-visual-studio-2019) (Новые возможности Visual Studio 2019). Сведения о новых возможностях для C++ в Visual Studio 2017 см. в статье [What's New for C++ in Visual Studio 2017](what-s-new-for-cpp-2017.md) (Новые возможности для C++ в Visual Studio 2017). Сведения о новых возможностях для C++ в Visual Studio 2015 и более ранних версиях см. в статье [Visual C++ What's New 2003 through 2015](../porting/visual-cpp-what-s-new-2003-through-2015.md) (Новые возможности Visual C++ в версиях с 2003 по 2015). Сведения об изменениях в документации по C++ см. в разделе [Документация по C++: новое](whats-new-cpp-docs.md).

## <a name="whats-new-for-c-in-visual-studio-version-169"></a>Новые возможности C++ в Visual Studio версии 16.9

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.9 см. в статье [Новые возможности Visual Studio 2019 версии 16.9](/visualstudio/releases/2019/release-notes#--visual-studio-2019-version-1690-).

- [Санитайзер адресов](../sanitizers/asan.md):

  - Предоставление поддержки санитайзера адресов в Windows в экспериментальном режиме завершено, и теперь она общедоступна.

  - Расширена поддержка `RtlAllocateHeap`, устранена проблема совместимости для перехватчиков `RtlCreateHeap` и `RtlAllocateHeap` при создании исполняемых пулов памяти.

  - Добавлена поддержка устаревшего семейства функций работы с памятью `GlobalAlloc` и `LocalAlloc`. Вы можете включить эти перехватчики, установив флаг среды `ASAN_OPTIONS=windows_hook_legacy_allocators=true`.

  - Обновлены сообщения об ошибках, связанные с пересечением теневой памяти и сбоями перехвата, чтобы предоставлять четкие сведения о проблемах и методах решения.

  - Интеграция с интегрированной средой разработки теперь поддерживает полную коллекцию исключений, о которых может сообщать ASan.

  - Компилятор и компоновщик предложат выдавать отладочную информацию, если обнаружат выполнение сборки с помощью ASan без выдачи отладочной информации.

- Теперь вы можете ориентироваться на версию LLVM среды выполнения OpenMP с помощью нового параметра компилятора **`/openmp:llvm`** . Это добавит поддержку предложения `lastprivate` в разделах `#pragma omp` и переменных индексов без знака в параллельных циклах `for`. Параметр **`/openmp:llvm`** в настоящее время доступен только для целевой платформы amd64 и считается экспериментальным.

- Для проектов Visual Studio CMake теперь предоставляется первоклассная поддержка удаленной разработки Windows. Сюда включается настройка проекта CMake для целевой платформы Windows ARM64, развертывание проекта на удаленном компьютере Windows и его отладка на удаленном компьютере Windows из Visual Studio.

- Версия Ninja, поставляемая с Visual Studio в Windows, была обновлена до 1.10. Дополнительные сведения о включенных возможностях см. в [заметках о выпуске Ninja 1.10](https://groups.google.com/g/ninja-build/c/piOltAhywFA/m/zPfkrTtRCwAJ?pli=1).

- Версия CMake, поставляемая с Visual Studio, была обновлена до 3.19. Дополнительные сведения о включенных возможностях см. в [заметках о выпуске CMake 3.19](https://cmake.org/cmake/help/latest/release/3.19.html).

- [В библиотеке STL многие типы блокировок и условий помечены как `nodiscard`](https://github.com/microsoft/STL/pull/1495).

- IntelliSense.

  - Улучшена стабильность и функциональные возможности IntelliSense по предоставлению имен импортированных модулей и блоков заголовков.

  - Добавлена функция "Перейти к определению" для импорта модулей, поддержка индексирования `export {...}` и более точная ссылка на модуль для модулей с одинаковым именем.

  - Улучшена совместимость IntelliSense с языком C++ за счет добавления поддержки [инициализации копированием для временной прямой инициализации в ссылке](https://wg21.link/P1358R0), `__builtin_memcpy` и `__builtin_memmove`, [исправления несогласованности между функциями `constexpr` и `consteval`](https://wg21.link/P1937R2), [продлеваемых на все время существования временных элементов в константных выражениях](https://wg21.link/P1968R0), а также [подобных типов и привязки ссылок](https://wg21.link/P1358R0).

  - Добавлено завершение для make_unique, make_shared, emplace и emplace_back, что обеспечивает завершение на основе указанного параметра типа.

- MSVC теперь определяет правильные среды выполнения для санитайзера адресов, необходимые для двоичных файлов. Проект Visual Studio автоматически получит новые изменения. При использовании санитайзера адресов в командной строке теперь необходимо передать компилятору только [`/fsanitize=address`](../build/reference/fsanitize.md).

- Диспетчер соединений Visual Studio теперь поддерживает закрытые ключи с помощью алгоритма открытого ключа ECDSA.

- LLVM и Clang, поставляемые в нашем установщике, обновлены до версии 11. Дополнительные сведения см. в заметках о выпуске для [LLVM](https://releases.llvm.org/11.0.0/docs/ReleaseNotes.html) и [Clang](https://releases.llvm.org/11.0.0/tools/clang/docs/ReleaseNotes.html).

- Теперь Visual Studio будет использовать переменные CMake из файлов цепочки инструментов для настройки IntelliSense. Это обеспечит лучшую производительность при разработке встраиваемых приложений и Android.

- Реализация предложения о [дополнительных контейнерах constexpr](https://wg21.link/P0784R7), которая позволяет деструкторам и новым выражениям представлять **`constexpr`** . Это создает условия для использования таких служебных программ, как **`constexpr`** `std::vector` и `std::string`.

- Расширенная поддержка IntelliSense для модулей C++20, включая переход к определению, переход к модулю и завершение элементов.

- [Сокращенные шаблоны функций](https://en.cppreference.com/w/cpp/language/function_template#Abbreviated_function_template) теперь поддерживаются в компиляторе MSVC.

## <a name="whats-new-for-c-in-visual-studio-version-168"></a>Новые возможности C++ в Visual Studio версии 16.8

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.8 см. в статье [Новые возможности Visual Studio 2019 версии 16.8](/visualstudio/releases/2019/release-notes-v16.8).

- Теперь поддерживаются сопрограммы C++20 при указании [`/std:c++latest`](../build/reference/std-specify-language-standard-version.md) и заголовка \<coroutine>.

- Теперь технология IntelliSense обеспечивает поддержку заголовков C++20 \<concepts> и \<ranges>, а также переименование и просмотр определений концепций.

- Наша версия библиотеки STL теперь поддерживает большинство диапазонов C++20.

- Компилятором MSVC теперь поддерживаются [условно тривиальные специальные функции-члены](https://wg21.link/P0848R3).

- C11 и C17 теперь поддерживаются для параметров [`/std:c11``/std:c17` и ](../build/reference/std-specify-language-standard-version.md).

- Внедрены также такие дополнительные улучшения STL, как полная поддержка [`std::atomic_ref`](https://wg21.link/p0019r8), [`std::midpoint`, `std::lerp`](https://wg21.link/p0811r3) и [`std::execution::unseq`](https://wg21.link/p1001r2), оптимизации для [`std::reverse_copy`](../standard-library/algorithm-functions.md#reverse_copy) и многое другое.

- Обновленная версия CMake поставляется с Visual Studio для [CMake 3.18](https://cmake.org/cmake/help/latest/release/3.18.html).

- Наши средства анализа кода теперь поддерживают SARIF 2.1 — отраслевой стандартный формат журнала статического анализа.

- Отсутствующие средства сборки в проектах Linux теперь будут вызывать предупреждение на панели инструментов и четкое описание отсутствующих средств в списке ошибок.

- Теперь можно выполнять отладку дампов ядра Linux в удаленной системе Linux или WSL непосредственно из Visual Studio.

- Для создания комментариев в C++ Doxygen мы добавили дополнительные варианты стиля комментариев (`/*!` и `//!`).

- Дополнительные [объявления о vcpkg](https://aka.ms/vcpkg/team).

- Включена поддержка компилятора для лямбда-выражений в невычисляемых контекстах.

- Повышена производительность ссылки [`/DEBUG:FULL`](../build/reference/debug-generate-debug-info.md) путем создания PDB-файлов в многопоточном режиме. Для некоторых крупных приложений и AAA-игр компоновка выполняется в 2–4 раза быстрее.

- Отладчик Visual Studio теперь поддерживает **`char8_t`** .

- Включена поддержка проектов ARM64 с использованием clang-cl.

- Включена поддержка [встроенных объектов Intel AMX](https://software.intel.com/content/www/us/en/develop/documentation/cpp-compiler-developer-guide-and-reference/top/compiler-reference/intrinsics/intrinsics-for-intel-advanced-matrix-extensions-intel-amx-instructions.html).

## <a name="whats-new-for-c-in-visual-studio-version-167"></a>Новые возможности C++ в Visual Studio версии 16.7

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.7 см. в статье [Новые возможности Visual Studio 2019 версии 16.7](/visualstudio/releases/2019/release-notes-v16.7).

- Теперь в рамках удаленной поддержки C++ поддерживается более широкий набор дистрибутивов и оболочек Linux, включая sh, csh, bash, tsch, ksh, zsh и dash. Можно переопределить возможность выбора оболочки для удаленного подключения, изменив свойство новой оболочки с помощью ConnectionManager.exe. Эта поддержка была протестирована в проектах Linux на основе MSBuild и проектах CMake, предназначенных для удаленной системы Linux или WSL.

- Теперь вы можете использовать Ninja (систему сборки, которая очень быстро оценивает добавочные сборки) для оптимизации времени добавочной сборки для проектов Linux на основе MSBuild. Чтобы включить эту функцию, задайте параметру "Включить добавочную сборку" значение "С Ninja" на странице свойств "Общие". Система Ninja (ninja-build) должна быть установлена в удаленной системе Linux или WSL.

- Реализованы новые функции стандартной библиотеки C++ 20. Подробный список см. в [журнале изменений STL на GitHub](https://github.com/microsoft/STL/wiki/Changelog).

- Теперь можно изменять удаленные подключения SSH и задавать удаленные подключения SSH по умолчанию в [диспетчере подключений](../linux/connect-to-your-remote-linux-computer.md#set-up-the-remote-connection). Это означает, что можно изменить существующее удаленное подключение (например, если изменился его IP-адрес) и задать используемые по умолчанию подключения в файлах CMakeSettings.json и launch.vs.json. Удаленные подключения SSH позволяют создавать и отлаживать проекты C++ в удаленной системе Linux непосредственно из Visual Studio.

- Улучшенная поддержка IntelliSense для Clang в Windows (clang-cl) в Visual Studio. Путь включения clang теперь содержит библиотеки clang, мы улучшили отображение волнистых линий в редакторе при использовании библиотеки std, а также добавили поддержку языка C++2a в режиме clang.

- теперь вы можете изучать ошибки в коде и просматривать другие предлагаемые быстрые исправления в проектах C++. Включите эту функцию в разделе **Сервис > Параметры > Текстовый редактор > C/C++ > Экспериментальное**. Установите для параметра **Disable Experimental Code Linter** (Отключить экспериментальный анализатор кода) значение False. Дополнительные сведения см. в [Блоге группы разработчиков C++](https://aka.ms/cpp/isensecodelinter).

- Мы добавили четыре новых правила анализа кода для включения дополнительных функций безопасности в C++ : [C26817](../code-quality/c26817.md), [C26818](../code-quality/c26818.md), [C26819](../code-quality/c26819.md) и [C26820](../code-quality/c26820.md).

- Мы добавили превосходную поддержку отладки проектов CMake в удаленных системах с помощью gdbserver.

- Вы сможете легко находить ошибки повреждения памяти с помощью экспериментальной реализации AddressSanitizer для C++ в Visual Studio, которая теперь доступна для собственных проектов x64. Также поддерживаются среды выполнения отладки ( **`/MTd`** , **`/MDd`** , **`/LDd`** ).

- Технология IntelliSense теперь обеспечивает базовую поддержку концепций, назначенных инициализаторов и некоторых других возможностей C++20.

- Файлы с расширением *`.ixx`* и *`.cppm`* теперь распознаются как файлы C++ и обрабатываются как таковые с использованием маркера синтаксиса и технологии IntelliSense.

## <a name="whats-new-for-c-in-visual-studio-version-166"></a>Новые возможности C++ в Visual Studio версии 16.6

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.6 см. в статье [Новые возможности Visual Studio 2019 версии 16.6](/visualstudio/releases/2019/release-notes-v16.6).

- **Улучшена возможность создания комментариев Doxygen/XML**. Автоматическое создание заглушки с комментариями Doxygen или XML при вводе `///` или `/**` над функцией. Теперь они также отображаются в подсказках с краткими сведениями.

- **Поддержка Ninja для CMake для Linux/WSL:** используйте Ninja в качестве базового генератора при создании проектов CMake в WSL или удаленной системе. Ninja теперь является генератором по умолчанию при добавлении новой конфигурации Linux или WSL.

- **Отладочные шаблоны для удаленной отладки CMake**: мы упростили шаблоны для отладки проектов CMake в удаленной системе Linux или WSL с помощью gdb.

- **Базовая поддержка концепций C++20.** Теперь IntelliSense распознает [концепции C++20](https://devblogs.microsoft.com/cppblog/c20-concepts-are-here-in-visual-studio-2019-version-16-3/) и предлагает их в списке членов.

## <a name="whats-new-for-c-in-visual-studio-version-165"></a>Новые возможности C++ в Visual Studio версии 16.5

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.5 см. в статье [Новые возможности Visual Studio 2019 версии 16.5](/visualstudio/releases/2019/release-notes-v16.5).

- **Поддержка модели команд для дополнений IntelliCode и переменных-членов**. Разработчики C++ теперь могут обучать модели IntelliCode по собственным базам кода. Мы называем это моделью завершения команды, так как вы получаете преимущества командной работы. Кроме того, мы улучшили предложения IntelliCode для переменных-членов.

- **Улучшения IntelliSense**:
  -  IntelliSense теперь отображает более удобочитаемые имена типов при работе со стандартной библиотекой.
  - Мы добавили возможность переключения функций **ввода**, **пробела** и **табуляции** в качестве символов фиксации и возможность выбора клавиши **TAB** для вставки фрагмента кода. Эти параметры расположены в разделе **Сервис > Параметры > Текстовый редактор > C/C++ > Дополнительно > IntelliSense**.

- **Работа с диспетчером подключений через командную строку**. Теперь вы можете взаимодействовать с сохраненными удаленными подключениями через командную строку. Это удобно для таких задач, как подготовка нового компьютера для разработки или настройка Visual Studio в непрерывной интеграции.

- **Отладка и развертывание для WSL**. Используйте встроенную поддержку WSL в Visual Studio, чтобы отделить систему сборки от системы удаленного развертывания. Теперь вы можете создавать собственные компоненты на WSL и развертывать артефакты сборки во второй удаленной системе для отладки. Этот рабочий процесс поддерживается как проектами CMake, так и проектами Linux на основе MSBuild.

- **Поддержка режима соответствия FIPS 140-2**. Теперь Visual Studio поддерживает режим соответствия FIPS 140-2 при разработке приложений на C++, предназначенных для удаленной системы Linux.

- **Языковые службы для файлов языка CMake и более эффективное управление проектом CMake:**
  - Копирование исходного файла для проектов CMake, предназначенных для удаленной системы Linux, было оптимизировано. Visual Studio теперь сохраняет файл отпечатка последнего набора источников, скопированного удаленно, и оптимизирует поведение в зависимости от количества измененных файлов.
  -  Теперь функции навигации по коду, такие как переход к определению и поиск всех ссылок, поддерживаются для функций, переменных и целевых объектов в файлах скриптов CMake.

  - Добавляйте, удаляйте и переименовывайте исходные файлы и целевые объекты в проектах CMake из IDE без изменения скриптов CMake вручную. При добавлении или удалении файлов с помощью обозревателя решений Visual Studio автоматически отредактирует проект CMake. Кроме того, можно добавлять, удалять и переименовывать целевые объекты проекта из представления целевых объектов обозревателя решений.

- **Улучшения для проектов Linux**. Проекты Visual Studio Linux получили более точную функцию IntelliSense. Это позволяет управлять синхронизацией удаленных заголовков отдельно для каждого проекта.

## <a name="whats-new-for-c-in-visual-studio-version-164"></a>Новые возможности C++ в Visual Studio версии 16.4

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.4 см. в статье [Новые возможности Visual Studio 2019 версии 16.4](/visualstudio/releases/2019/release-notes-v16.4).

- В Code Analysis реализована встроенная поддержка средства [`Clang-Tidy`](https://aka.ms/cpp/clangtidy) для проектов MSBuild и CMake при использовании набора инструментов MSVC или Clang. Проверки clang-tidy могут выполняться в рамках анализа кода в фоновом режиме, а их результаты отображаются в виде предупреждений в редакторе (подчеркивания) и в Списке ошибок.

- Теперь у проектов Visual Studio CMake есть [обзорные](https://devblogs.microsoft.com/cppblog/usability-improvements-for-cmake-in-visual-studio-2019-version-16-4-launch-target-selection-and-overview-pages/) страницы, которые помогут приступить к работе с кросс-платформенной разработкой. Эти страницы являются динамическими и помогают подключиться к системе Linux и добавить конфигурацию Linux или WSL в проект CMake.

- [Раскрывающееся меню запуска для проектов CMake](https://devblogs.microsoft.com/cppblog/usability-improvements-for-cmake-in-visual-studio-2019-version-16-4-launch-target-selection-and-overview-pages/) теперь отображает последние использованные целевые объекты и может быть отфильтровано.

- [C++/CLI](https://devblogs.microsoft.com/cppblog/an-update-on-cpp-cli-and-dotnet-core/) теперь поддерживает взаимодействие с .NET Core 3.1 и более поздними версиями в Windows.

- Теперь можно включить [ASan](https://aka.ms/cpp/asanmsvc) для проектов, скомпилированных с помощью MSVC в Windows, для инструментирования кода C++ в среде выполнения, чтобы обнаруживать ошибки памяти.

- Обновления стандартной библиотеки C++ MSVC:
  - C++17 Реализована общая точность `to_chars()`, выполнение [P0067R5](https://wg21.link/P0067R5) Преобразования элементарных строк (charconv). Это завершает реализацию всех функций библиотеки в C++ 17 Standard.
  - C++20. Реализовано [P1754R1](https://wg21.link/P1754R1) Переименование концепций в standard_case. Чтобы включить предварительные версии функций в последней рабочей черновой версии C++, используйте параметр компилятора **`/std:c++latest`** . Этот параметр также можно задать на странице свойств проекта (**Свойства конфигурации > C/C++ > Язык**) с помощью свойства **Стандарт языка C++** .

- Теперь доступна новая коллекция средств [C++ Build Insights](../build-insights/get-started-with-cpp-build-insights.md). Дополнительные сведения об объявлении см. в [блоге группы разработчиков C++](https://devblogs.microsoft.com/cppblog/introducing-c-build-insights/).

## <a name="whats-new-for-c-in-visual-studio-version-163"></a>Новые возможности C++ в Visual Studio версии 16.3

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.3 см. в статье [Новые возможности Visual Studio 2019 версии 16.3](/visualstudio/releases/2019/release-notes-v16.3).

- Теперь разработчики C++ могут переключать комментарии строк с помощью сочетания клавиш **CTRL + K**, **CTRL + /** .

- Списки элементов IntelliSense теперь отфильтрованы на основе квалификаторов типа, например `const std::vector` теперь отфильтровывает такие методы, как `push_back`.

- Мы добавили следующие предварительные версии функций стандартной библиотеки C++20 (доступны в **`/std:c++latest`** ):
  - [P0487R1](https://wg21.link/P0487R1): Исправление `operator>>(basic_istream&, CharT*)`
  - [P0616R0](https://wg21.link/P0616R0): Использование `move()` в `<numeric>`
  - [P0758R1](https://wg21.link/P0758R1): `is_nothrow_convertible`
  - [P0734R0](https://wg21.link/P0734R0): Расширения C++ для основных понятий
  - [P0898R3](https://wg21.link/P0898R3): Основные понятия стандартной библиотеки
  - [P0919R3](https://wg21.link/P0919R3): Разнородный поиск для неупорядоченных контейнеров

- [Новые правила проверки рекомендаций C++ Core](https://devblogs.microsoft.com/cppblog/new-c-core-check-rules/), в том числе новый набор правил перечисления, а также дополнительные правила для `const`, `enum` и типов.

- Новая схема семантической раскраски по умолчанию, благодаря которой повышается удобство чтения кода. Также предусмотрена возможность настроить скрытие аргументов шаблона в окне стека вызовов и по умолчанию включена технология C++ IntelliCode.

- Для настройки целевых объектов отладки и пользовательских задач с переменными среды можно использовать файлы CMakeSettings.json или CppProperties.json, а также новый тег "env" для отдельных целевых объектов и задач в файлах launch.vs.json и tasks.vs.json.

- Теперь с помощью быстрого действия для отсутствующих пакетов vcpkg пользователи могут автоматически открывать консоль и устанавливать заданную по умолчанию версию пакета vcpkg.

- Оптимизирована функция копирования удаленного заголовка для проектов Linux ([CMake](../linux/cmake-linux-project.md) и [MSBuild](../linux/configure-a-linux-project.md)), которая теперь может выполняться параллельно.

- [Собственная поддержка WSL](https://devblogs.microsoft.com/cppblog/c-with-visual-studio-2019-and-windows-subsystem-for-linux-wsl/) в Visual Studio теперь также включает поддержку параллельных сборок для проектов Linux на основе MSBuild.

- Теперь пользователь может указать список локальных результатов сборки, которые будут развертываться в удаленной системе с проектами Makefile в Linux.

- Описание параметров в [редакторе параметров CMake](https://devblogs.microsoft.com/cppblog/introducing-the-new-cmake-project-settings-ui/) теперь содержит больше контекстной информации и дополнительные ссылки на полезную документацию.

- Базовая модель C++ для IntelliCode теперь включена по умолчанию. Чтобы изменить этот параметр, последовательно выберите **Сервис** > **Параметры** > **IntelliCode**.

## <a name="whats-new-for-c-in-visual-studio-version-162"></a>Новые возможности C++ в Visual Studio версии 16.2

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.2 см. в статье [Новые возможности Visual Studio 2019 версии 16.2](/visualstudio/releases/2019/release-notes-v16.2).

- Для локальных проектов CMake с Clang при анализе кода теперь выполняется проверка совместимости с Clang в рамках анализа кода в фоновом режиме, результаты которой отображаются в виде предупреждений в редакторе (подчеркивания) и в Списке ошибок.

- Обновлен файл заголовка `<charconv>` для [P0067R5](https://wg21.link/P0067R5) (простые преобразования строк) из C++17.
  - Добавлены перегрузки `to_chars()` для плавающей запятой с точностью `chars_format::fixed` и `chars_format::scientific` (единственная еще не реализованная часть — `chars_format::general precision`).
  - Сделана оптимизация `chars_format::fixed` с кратчайшей длиной.

- Добавлены следующие предварительные версии функции стандартной библиотеки C++20:
  - Доступно в **`/std:c++latest`** :
    - [P0020R6](https://wg21.link/P0020R6) — `atomic<floating-point>`.
    - [P0463R1](https://wg21.link/P0463R1) — порядок перечисления.
    - [P0482R6](https://wg21.link/P0482R6) — `char8_t` тип для символов и строк UTF-8.
    - [P0653R2](https://wg21.link/P0653R2) — `to_address()` для преобразования указателя в необработанный указатель.
  - Доступно в `/std:c++17` и `/std:c++latest`:
    - [P0600R1](https://wg21.link/P0600R1) — `[[nodiscard]]` в библиотеке.
  - Доступно безусловно:
    - [P0754R2](https://wg21.link/P0754R2) — файл заголовка `<version>`.
    - [P0771R1](https://wg21.link/P0771R1) — конструктор переноса `std::function` должен быть `noexcept`.

- Windows SDK больше не является зависимостью для компонентов CMake для Windows и CMake для Linux.

- Усовершенствования [компоновщика C++](https://aka.ms/cpp/162linker) для значительного сокращения времени сборки итераций для самых крупных входных данных. Теперь время выполнения **`/DEBUG:FAST`** и **`/INCREMENTAL`** в среднем вдвое меньше, а **`/DEBUG:FULL`** в три — шесть раз быстрее.

## <a name="whats-new-for-c-in-visual-studio-version-161"></a>Новые возможности C++ в Visual Studio версии 16.1

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.1 см. в статье [Новые возможности Visual Studio 2019 версии 16.1](/visualstudio/releases/2019/release-notes-v16.1).

### <a name="c-compiler"></a>компилятор C++

- В компиляторе C++, доступном в **`/std:c++latest`** , были реализованы следующие предварительные версии функций C++20:
  - улучшена возможность поиска шаблонов функций с помощью зависящего от аргументов поиска выражений вызова функции с явно заданными аргументами шаблона ([P0846R0](http://wg21.link/p0846r0));
  - выделена инициализация ([P0329R4](https://wg21.link/p0329r4)), что позволяет выбирать определенные члены в агрегатной инициализации, например с помощью синтаксиса `Type t { .member = expr }`.

- Полностью переработана поддержка лямбда-выражений и устранено большое количество давних проблем. При использовании **`/std:c++latest`** это изменение включено по умолчанию. В режимах языка **`/std:c++17`** и в режиме по умолчанию ( **`/std:c++14`** ) новое средство синтаксического анализа можно включить с помощью **`/experimental:newLambdaProcessor`** , например `/std:c++17 /experimental:newLambdaProcessor`.

### <a name="c-standard-library-improvements"></a>Улучшения стандартной библиотеки C++

- В реализацию стандартной библиотеки C++, доступной в **`/std:c++latest`** , добавлены следующие предварительные версии функций C++20:
  - `starts_with` и `ends_with` для `basic_string` и `basic_string_view`.
  - `contains` для ассоциативных контейнеров;
  - `remove`, `remove_if` и `unique` для `list` и `forward_list` теперь возвращают `size_type`;
  - `shift_left`и `shift_right` добавлены в `<algorithm>`.

### <a name="c-ide"></a>IDE C++

#### <a name="intellicode-for-c"></a>IntelliCode для C++

IntelliCode теперь предоставляется в виде дополнительного компонента в рабочей нагрузке **Разработка классических приложений на C++** . Подробные сведения см. в записи блога [Improved C++ IntelliCode now Ships with Visual Studio 2019](https://devblogs.microsoft.com/cppblog/improved-c-intellicode-now-ships-with-visual-studio-2019/) (Улучшенный компонент IntelliCode для C++ теперь предоставляется с Visual Studio 2019).

IntelliCode использует обучение и контекст кода для вывода тех вариантов, которые вы чаще всего используете, в верхней части списка завершения. Он также часто устраняет необходимость прокручивать список. IntelliCode для C++ работает наиболее эффективно при использовании популярных библиотек, таких как стандартная библиотека.

Функции IntelliCode предварительной версии (пользовательские модели, поддержка C++ и вывод EditorConfig) отключены по умолчанию. Чтобы включить их, откройте меню **Средства > Параметры > IntelliCode > Общие**. В этой версии IntelliCode повышен уровень точности и включена поддержка бесплатных функций. Дополнительные сведения см. в разделе [Рекомендации по завершению кода на базе ИИ в C++ через IntelliCode](https://devblogs.microsoft.com/cppblog/cppintellicode/).

#### <a name="quick-info-improvements"></a>Улучшение подсказок

- При отображении подсказок теперь учитывается семантическая подсветка в редакторе. Также доступна новая ссылка **Поиск в Интернете**, с помощью которой можно находить онлайн-документацию по конструкции кода, на которую наведен указатель мыши. Для кода, подчеркнутого волнистой красной линией, ссылка в подсказке позволяет выполнить поиск сведений об ошибке в Интернете. То есть вам не придется повторно вводить сообщение в браузере. Подробные сведения см. в записи блога [Quick Info Improvements in Visual Studio 2019: Colorization and Search Online](https://devblogs.microsoft.com/cppblog/quick-info-improvements-in-visual-studio-2019-colorization-and-search-online/) (Улучшения подсказок в Visual Studio 2019: подсветка и поиск в Интернете).

#### <a name="general-improvements"></a>Общие улучшения

- Теперь панель шаблонов может заполнять раскрывающееся меню на основе экземпляров шаблона в базе кода.

- Лампочки для отсутствующих директив `#include`, которые могут быть установлены с помощью vcpkg, и автозавершение доступных пакетов для директивы CMake `find_package`.

- Изменена страница свойств **Общие** для проектов C++. Некоторые параметры теперь отображаются на новой странице **Дополнительно**. На странице **Дополнительно** также находятся новые свойства для архитектуры набора инструментов, отладочных библиотек, дополнительного номера версии набора инструментов MSVC и сборок Unity (JUMBO).

### <a name="cmake-support"></a>Поддержка CMake

- Версия CMake, которая поставляется с Visual Studio, обновлена до версии 3.14. В этой версии появилась встроенная поддержка генераторов MSBuild, предназначенных для проектов Visual Studio 2019, а также API интеграции интегрированной среды разработки на основе файлов.

- Добавлены усовершенствования для редактора параметров CMake, в том числе поддержка для подсистемы Windows для Linux (WSL) и конфигураций из существующих кэшей, изменения корневых каталогов сборки и установки по умолчанию и поддержка переменных среды в конфигурациях Linux CMake.

- Завершения и краткие сведения для встроенных команд, переменных и свойств CMake упрощают редактирование файлов *`CMakeLists.txt`* .

- Встроенная поддержка редактирования, сборки и отладки проектов CMake с Clang/LLVM. Подробные сведения см. в записи блога [Clang/LLVM Support in Visual Studio](https://devblogs.microsoft.com/cppblog/clang-llvm-support-in-visual-studio/) (Поддержка Clang/LLVM в Visual Studio).

### <a name="linux-and-the-windows-subsystem-for-linux"></a>Linux и подсистема Windows для Linux.

- Теперь поддерживается [AddressSanitizer (ASan)](https://github.com/google/sanitizers/wiki/AddressSanitizer) в Linux и кроссплатформенных проектах CMake. Подробные сведения см. в записи блога [AddressSanitizer (ASan) for the Linux Workload in Visual Studio 2019](https://devblogs.microsoft.com/cppblog/addresssanitizer-asan-for-the-linux-workload-in-visual-studio-2019/) (AddressSanitizer (ASan) для рабочей нагрузки Linux в Visual Studio 2019).

- Интегрирована поддержка Visual Studio для использования C++ с подсистемой Windows для Linux (WSL). Теперь можно использовать локальную подсистему Windows для Linux (WSL) с C++ без дополнительной настройки или SSH-подключения благодаря встроенной поддержке Visual Studio. Подробные сведения см. в записи блога [C++ with Visual Studio 2019 and Windows Subsystem for Linux (WSL)](https://devblogs.microsoft.com/cppblog/c-with-visual-studio-2019-and-windows-subsystem-for-linux-wsl/) (C++ с Visual Studio 2019 и подсистемой Windows для Linux (WSL)).

### <a name="code-analysis"></a>Анализ кода

- Добавлены новые быстрые исправления для проверок неинициализированных переменных. В меню со значком лампочки для соответствующих строк доступны предупреждения Code Analysis [C6001. Использование неинициализированной памяти &lt;переменная&gt;](../code-quality/c6001.md) и [C26494 VAR_USE_BEFORE_INIT](../code-quality/c26494.md). Они включены по умолчанию в минимальном рекомендуемом корпорацией Майкрософт наборе правил для машинного кода и наборе правил для типа C++ Core Check соответственно. Подробные сведения см. в записи блога [New code analysis quick fixes for uninitialized memory (C6001) and use before init (C26494) warnings](https://devblogs.microsoft.com/cppblog/new-code-analysis-quick-fixes-for-uninitialized-memory-c6001-and-use-before-init-c26494-warnings/) (Новые быстрые исправления анализа кода для предупреждений о неинициализированной памяти (C6001) и использовании переменных перед инициализацией (C26494)).

### <a name="remote-builds"></a>Удаленные сборки

- Теперь при разработке для Linux можно изолировать компьютеры удаленной сборки от компьютеров удаленной отладки (доступно для проектов MSBuild и CMake).

- Улучшенное ведение журнала для удаленных подключений упрощает диагностику проблем, связанных с кроссплатформенной разработкой.

## <a name="whats-new-for-c-in-visual-studio-version-160"></a>Новые возможности C++ в Visual Studio версии 16.0

Сводные сведения о новых возможностях и исправлениях ошибок в Visual Studio версии 16.0 см. в статье [Новые возможности Visual Studio 2019 версии 16.0](/visualstudio/releases/2019/release-notes-v16.0).

### <a name="c-compiler"></a>компилятор C++

- Улучшенная поддержка функций C++17 и корректирующие исправления, а также экспериментальная поддержка функций C++20, таких как модули и сопрограммы. Подробные сведения см. в статье [Улучшения соответствия C++ в Visual Studio 2019](cpp-conformance-improvements.md).

- Параметр [`/std:c++latest`](../build/reference/std-specify-language-standard-version.md) теперь поддерживает функции C++20, которые не обязательно завершены, включая начальную поддержку оператора C++20 **`<=>`** ("космический корабль") для трехстороннего сравнения.

- Параметр компилятора C++ [`/Gm`](../build/reference/gm-enable-minimal-rebuild.md) теперь считается устаревшим. Рекомендуется отключить параметр **`/Gm`** в скриптах сборки, если он задан явно. Можно просто проигнорировать предупреждение об устаревании **`/Gm`** , так как оно не считается ошибкой при использовании режима "Обрабатывать предупреждения как ошибки" ([`/WX`](../build/reference/compiler-option-warning-level.md)).

- В MSVC уже внедряются функции из проекта стандарта C++20 с флагом **`/std:c++latest`** , поэтому **`/std:c++latest`** теперь несовместим с **`/clr`** (все варианты), **`/ZW`** и **`/Gm`** . В Visual Studio 2019 используйте режим `/std:c++17` или `/std:c++14` при компиляции с параметром `/clr`, `/ZW` или `/Gm` (но обратите внимание на предыдущий пункт).

- Предкомпилированные заголовки больше не создаются по умолчанию для консоли C++ и настольных приложений.

#### <a name="codegen-security-diagnostics-and-versioning"></a>Создание кода, безопасность, диагностика и управления версиями

Доступен параметр [`/Qspectre`](../build/reference/qspectre.md) для более эффективного анализа и устранения рисков, связанных с уязвимостью Spectre 1-го варианта ([CVE-2017-5753](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-5753)). Дополнительные сведения см. в записи блога [Устранение рисков Spectre в MSVC](https://devblogs.microsoft.com/cppblog/spectre-mitigations-in-msvc/).

### <a name="c-standard-library-improvements"></a>Улучшения стандартной библиотеки C++

- Реализация дополнительных функций библиотек и корректирующих исправлений C++17 и C++20. Подробные сведения см. в статье [Улучшения соответствия C++ в Visual Studio 2019](cpp-conformance-improvements.md).

- Для улучшения читаемости кода в заголовках стандартной библиотеки C++ используется Clang-Format.

- Так как Visual Studio теперь поддерживает функцию "Только мой код" для C++, стандартная библиотека больше не должна предоставлять настраиваемый механизм для `std::function` и `std::visit`, чтобы обеспечить такой же результат. Удаление этого механизма будет почти незаметным для пользователя. Одно исключение: компилятор больше не будет сообщать о наличии проблем в строках 15732480 и 16707566 для \<type_traits> или \<variant>.

### <a name="performancethroughput-improvements-in-the-compiler-and-standard-library"></a>Повышение производительности и пропускной способности в компиляторе и стандартной библиотеке

- Реализованы усовершенствования пропускной способности сборки, включая обработку компоновщиком ввода-вывода файлов и время компоновки при объединении и создании типа PDB.

- Добавлена базовая поддержка векторизации OpenMP SIMD. Вы можете включить ее с помощью нового параметра компилятора **`/openmp:experimental`** . Эта опция позволяет при необходимости векторизовать циклы, аннотированные с `#pragma omp simd`. Векторизация не гарантируется, и циклы с аннотацией, но без векторизации, будут выдавать предупреждение. Предложения SIMD не поддерживаются, они просто игнорируются с предупреждением.

- Добавлен новый параметр встраивания командной строки **`/Ob3`** , который представляет собой более эффективную версию **`/Ob2`** . **`/O2`** (оптимизация двоичного файла для скорости) по-прежнему подразумевает **`/Ob2`** по умолчанию. Если обнаружится, что компилятор неэффективно выполняет встраивание, попробуйте передать **`/O2 -Ob3`** .

- Добавлена поддержка встроенных функций Short Vector Math Library (SVML). Эти функции вычисляют 128-разрядные, 256-разрядные или 512-разрядные векторные эквиваленты. Мы добавили их для поддержки векторизации вручную циклов с вызовами функций математических библиотек и некоторых других операций, таких как целочисленное деление. См. раздел [Руководство по встроенным функциям Intel](https://software.intel.com/sites/landingpage/IntrinsicsGuide/#!=undefined&techs=SVML) с определениями поддерживаемых функций.

- Новые и улучшенные оптимизации:

  - Свертывание констант и арифметические упрощения для выражений с помощью встроенных функций SIMD (вектор) для чисел с плавающей запятой и целых чисел.

  - Более эффективный анализ для извлечения данных из потока управления (инструкции if/else/switch) для удаления ветвей, которые всегда имеют значение true или false.

  - Улучшенное развертывание memset для использования векторных инструкций SSE2.

  - Улучшенное удаление бесполезных копий структур или классов, особенно для программ C++, которые передают по значению.

  - Улучшена оптимизация кода с использованием `memmove`, например конструкции `std::copy` или `std::vector` и `std::string`.

- Оптимизирована физическая структура стандартной библиотеки, чтобы избежать компиляции ее частей, которые явно не включены. Это в два раза ускоряет сборку пустого файла, включающего только \<vector>. В результате этого изменения вам, возможно, потребуется добавить директивы `#include` для заголовков, которые ранее были включены косвенно. Например, если в коде используется `std::out_of_range`, теперь в него нужно добавить `#include <stdexcept>`. В коде с оператором вставки потока, возможно, потребуется добавить `#include <ostream>`. Преимущество заключается в том, что нагрузка на пропускную способность будет возникать только при компиляции тех единиц преобразования, которые фактически используют компоненты \<stdexcept> или \<ostream>.

- `if constexpr` теперь более широко применяется в стандартной библиотеке для снижения нагрузки на пропускную способность и уменьшения размера кода в операциях копирования и преобразования (обращение и вращение), а также в библиотеке параллельных алгоритмов.

- Стандартная библиотека теперь внутренне использует `if constexpr` для ускорения компиляции даже в режиме C++14.

- При обнаружении динамической компоновки в среде выполнения для библиотеки параллельных алгоритмов для хранения массива с указателями на функции больше не используется целая страница. Использование этой памяти только для чтения более не считается важным для безопасности.

- Конструктор `std::thread` больше не ожидает запуска потока и не вставляет так много уровней вызова функции между базовой библиотекой C `_beginthreadex` и предоставляемым вызываемым объектом. Ранее `std::thread` размещал шесть функций между `_beginthreadex` и предоставляемым вызываемым объектом. Это число функций уменьшено до трех, две из которых просто `std::invoke`. Это изменение также позволяет устранить редкую ошибку, связанную со временем, когда конструктор `std::thread` переставал отвечать на запросы, если системное время было изменено в момент создания `std::thread`.

- Устранена проблема с производительностью в `std::hash`, которая начала появляться после добавления `std::hash<std::filesystem::path>`.

- Иногда для обеспечения корректности стандартная библиотека теперь использует деструкторы, а не блоки catch. Это изменение приводит к улучшению взаимодействия с отладчиком: Исключения, которые вызывались через библиотеку в затронутых расположениях, теперь будут отображаться как исключения из расположения их возникновения (а не из расположения повторного вызова). Устранены не все блоки catch стандартной библиотеки. Мы планируем сократить число блоков catch в последующих выпусках MSVC.

- Проблема с неоптимальной работой генератора кода в `std::bitset` из-за условного вызова в функции `noexcept` устранена. Для этого путь вызова был вынесен за скобки.

- `std::list` и семейство `std::unordered_*` более широко внутренне используют итераторы без возможности отладки.

- Несколько членов `std::list` теперь не освобождают и не выделяют заново узлы списков, а при возможности повторно используют их. Например, если размер `list<int>` уже равен 3, вызов `assign(4, 1729)` теперь перезапишет значения `int` в первых трех узлах списков и выделит один новый узел списка со значением 1729.

- Все вызовы `erase(begin(), end())` из стандартной библиотеки изменены на `clear()`.

- В некоторых случаях `std::vector` теперь более эффективно инициализирует и удаляет элементы.

- Усовершенствован `std::variant` для более удобной работы с оптимизатором, что приводит к улучшению сформированного кода. Встраивание кода теперь гораздо лучше с `std::visit`.

### <a name="c-ide"></a>IDE C++

#### <a name="live-share-c-support"></a>Поддержка Live Share C++

[Live Share](/visualstudio/liveshare/) теперь поддерживает C++, позволяя разработчикам, использующим Visual Studio или Visual Studio Code, сотрудничать в режиме реального времени. Дополнительные сведения см. в статьях [Объявление Live Share для C++: общий доступ и совместная работа в режиме реального времени](https://devblogs.microsoft.com/cppblog/cppliveshare/)

#### <a name="template-intellisense"></a>Шаблон IntelliSense

В **строке шаблона** теперь используется пользовательский интерфейс **Окно просмотра**, а не модальное окно, поддерживаются вложенные шаблоны и автоматически заполняются аргументы по умолчанию в **Окне просмотра**. Дополнительные сведения см. в статье [Усовершенствования шаблона IntelliSense для Visual Studio 2019, предварительная версия 2](https://devblogs.microsoft.com/cppblog/template-intellisense-improvements-for-visual-studio-2019-preview-2/). Раскрывающийся список **Недавно использовавшиеся** в **строке шаблона** позволяет быстро переключаться между предыдущими наборами аргументов шаблона.

#### <a name="new-start-window-experience"></a>Новый интерфейс начального окна

При запуске интегрированной среды разработки откроется новое начальное окно. С помощью элементов в нем можно открыть последние проекты, клонировать код из системы управления версиями, открыть локальный код как решение или папку и создать новый проект. Диалоговое окно создания проекта также теперь ориентировано на поиск и фильтрацию.

#### <a name="new-names-for-some-project-templates"></a>Новые имена для некоторых шаблонов проектов

Мы изменили несколько имен и описаний шаблонов проектов в соответствии с обновленным диалоговым окном создания проекта.

#### <a name="various-productivity-improvements"></a>Различные улучшения производительности

Visual Studio 2019 включает в себя следующие возможности, которые помогут сделать процесс кодирования более простым и интуитивным:

- Быстрые исправления для:
  - Добавление отсутствующего оператора `#include`
  - `NULL` — `nullptr`
  - Добавление недостающих точек с запятой.
  - Разрешение отсутствующего пространства имен или области
  - Замена неправильных операндов косвенного обращения (`*` на `&` и `&` на `*`)
- Краткие сведения для блока при наведении указателя на закрывающую скобку
- Просмотреть файл заголовка или кода
- Функция "Перейти к определению" для `#include` открывает файл

Дополнительные сведения см. в статье [Улучшения производительности C++ в Visual Studio 2019, предварительная версия 2](https://devblogs.microsoft.com/cppblog/c-productivity-improvements-in-visual-studio-2019-preview-2/).

### <a name="cmake-support"></a>Поддержка CMake

- Поддержка CMake 3.14

- Visual Studio теперь может открыть существующие кэши CMake, созданные внешними средствами, например CMakeGUI или пользовательскими системами мета-сборки, или создать скрипты, которые сами вызывают cmake.exe.

- Усовершенствование производительности IntelliSense.

- Новый редактор параметров предоставляет альтернативу редактированию файла CMakeSettings.json вручную и частичное равенство с CMakeGUI.

- Visual Studio помогает начать разработку на C++ с помощью CMake в Linux, определяя наличие совместимой версии CMake на компьютере Linux. Если она отсутствует, предлагается ее установить.

- Несовместимые параметры в CMakeSettings, например несоответствие архитектур или несовместимые параметры генератора CMake, выделены волнистыми линиями в редакторе JSON и отображаются в списке ошибок.

- Цепочка инструментов vcpkg автоматически обнаруживается и включается для проектов CMake, которые открыты в интегрированной среде разработки, после запуска `vcpkg integrate install`. Это поведение можно отключить, указав пустой файл цепочки инструментов в CMakeSettings.

- Проекты CMake теперь включают отладку "Только мой код" по умолчанию.

- Предупреждения статического анализа теперь обрабатываются в фоновом режиме и отображаются в редакторе для проектов CMake.

- Более понятные сообщения о конце и начале сборки и конфигурации для проектов CMake и поддержка пользовательского интерфейса хода сборки Visual Studio. Кроме того, теперь есть параметр детализации CMake в разделе **Сервис > Параметры** для настройки уровня детализации сообщений о сборке и конфигурации CMake в окне вывода.

- Параметр `cmakeToolchain` теперь поддерживается в CMakeSettings.json для указания цепочек инструментов без изменения командной строки CMake вручную.

- Новое сочетание клавиш для меню **Собрать все** — **CTRL+SHIFT+B**.

### <a name="incredibuild-integration"></a>Интеграция IncrediBuild

IncrediBuild теперь включается в виде дополнительного компонента в рабочую нагрузку **Разработка классических приложений на C++** . Монитор сборки IncrediBuild полностью интегрирован в IDE Visual Studio. Подробные сведения см. в записи блога [Visualize your build with IncrediBuild’s Build Monitor and Visual Studio 2019](https://devblogs.microsoft.com/cppblog/visualize-your-build-with-incredibuilds-build-monitor-and-visual-studio-2019/) (Визуализация сборки с помощью монитора сборки IncrediBuild и Visual Studio 2019).

### <a name="debugging"></a>Отладка

- Для приложений на C++, работающих в Windows, PDB-файлы теперь загружаются в отдельном 64-разрядном процессе. Это изменение устраняет ряд сбоев, вызванных нехваткой памяти для отладчика. Например, были возможны сбои при отладке приложений, содержащих большое количество модулей и PDB-файлов.

- Поиск включен в окнах **контрольных значений**, **видимых переменных** и **локальных переменных**.

### <a name="windows-desktop-development-with-c"></a>Разработка классических приложений для Windows на C++

- Следующие мастера C++, ATL и MFC больше не доступны:

  - Мастер компонентов ATL COM+ 1.0
  - Мастер компонентов ATL ASP
  - Мастер поставщика ATL OLE DB
  - Мастер страницы свойств ATL
  - Мастер потребителя ATL OLE DB
  - Потребитель ODBC MFC
  - Класс MFC из элемента управления ActiveX
  - Класс MFC из TypeLib.

  Пример кода для этих технологий находится в архиве в документации Майкрософт и репозитории VCSamples на GitHub.

- Пакет средств разработки программного обеспечения (SDK) Windows 8.1 больше не доступен в установщике Visual Studio. Обновите проекты C++ до последней версии пакета SDK для Windows 10. Если у вас есть жесткая зависимость от версии 8.1, ее можно скачать из архива Windows SDK.

- Windows XP больше нельзя выбрать в качестве целевой платформы для последнего набора инструментов C++. XP для библиотек и компилятора MSVC уровня VS 2017 по-прежнему поддерживается и может устанавливаться через раздел "Отдельные компоненты".

- В нашей документации настоятельно не рекомендуется использовать модули слияния для развертывания среды выполнения Visual C++. В этом выпуске мы принимаем дополнительные меры, чтобы отметить MSM как нерекомендуемые. Возможно, следует перенести центральное развертывание VCRuntime из MSM в распространяемый пакет.

### <a name="mobile-development-with-c-android-and-ios"></a>Разработка мобильных приложений на C++ (для iOS и Android)

C++ для Android теперь по умолчанию равняется на Android SDK 25 и пакет NDK для Android 16b.

### <a name="clangc2-platform-toolset"></a>Набор средств платформы Clang/C2

Экспериментальный компонент Clang/C2 удален. Для обеспечения полного соответствия стандартам C++ используйте набор инструментов MSVC с параметрами `/permissive-` и `/std:c++17` или же цепочку инструментов Clang/LLVM для Windows.

### <a name="code-analysis"></a>Анализ кода

- Анализ кода теперь выполняется автоматически в фоновом режиме. Предупреждения отображаются зелеными волнистыми линиями в редакторе при вводе. Дополнительные сведения см. в разделе [Анализа кода в редакторе в Visual Studio 2019, предварительная версия 2](https://devblogs.microsoft.com/cppblog/in-editor-code-analysis-in-visual-studio-2019-preview-2/).

- Новые экспериментальные правила ConcurrencyCheck для хорошо известных типов стандартной библиотеки из заголовка \<mutex>. Дополнительные сведения см. в разделе [Параллельный анализ кода в Visual Studio 2019](https://devblogs.microsoft.com/cppblog/concurrency-code-analysis-in-visual-studio-2019/).

- Обновленная частичная реализация [инструмента проверки профиля времени существования](https://herbsutter.com/2018/09/20/lifetime-profile-v1-0-posted/) для обнаружения висячих указателей и ссылок. Дополнительные сведения см. в разделе [Обновление профиля времени существования в Visual Studio 2019, предварительная версия 2](https://devblogs.microsoft.com/cppblog/lifetime-profile-update-in-visual-studio-2019-preview-2/).

- Дополнительные проверки сопрограмм, включая [C26138](../code-quality/c26138.md), [C26810](../code-quality/c26810.md), [C26811](../code-quality/c26811.md), и экспериментальное правило [C26800](../code-quality/c26800.md). Дополнительные сведения см. в разделе [Новые проверки анализа кода в Visual Studio 2019: использование после перемещения и сопрограмма](https://devblogs.microsoft.com/cppblog/new-code-analysis-checks-in-visual-studio-2019-use-after-move-and-coroutine/).

### <a name="unit-testing"></a>Модульное тестирование

Шаблон управляемого тестового проекта C++ больше не доступен. Вы можете продолжить использование платформы управляемых тестов C++ в существующих проектах. Но для новых модульных тестов мы рекомендуем использовать собственные тестовые платформы, для которых Visual Studio предоставляет шаблоны (MSTest, Google Test), или шаблон управляемого тестового проекта C#.
