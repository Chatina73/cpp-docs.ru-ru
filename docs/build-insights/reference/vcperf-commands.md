---
title: 'Ссылка: команды вкперф'
description: Справочник по служебной программе командной строки вкперф. exe.
ms.date: 11/03/2019
helpviewer_keywords:
- C++ Build Insights
- throughput analysis
- build time analysis
- vcperf.exe
ms.openlocfilehash: b85320ce4517eb41410c59a11bd79553405b8402
ms.sourcegitcommit: 3e8fa01f323bc5043a48a0c18b855d38af3648d4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2020
ms.locfileid: "78333884"
---
# <a name="reference-vcperf-commands"></a>Ссылка: команды вкперф

::: moniker range="<=vs-2017"

Средства C++ сборки Insights доступны в Visual Studio 2019. Чтобы просмотреть документацию по этой версии, присвойте элементу управления выбора версии Visual Studio для этой статьи значение Visual Studio 2019.

::: moniker-end
::: moniker range="vs-2019"

В этой статье перечислены и описаны команды, доступные в *вкперф. exe*, а также способы их использования.

## <a name="commands-to-start-and-stop-traces"></a>Команды для запуска и завершения трассировки

*ВАЖНО. для всех следующих команд требуются права администратора.*

| Параметр           | Аргументы и описание |
|------------------|---------------------------|
| `/start`         | `[/nocpusampling]` `<sessionName>` |
|                  | Указывает *вкперф. exe* запустить трассировку по заданному имени сеанса. На данном компьютере может быть только один активный сеанс за раз. <br/><br/> Если указан параметр `/nocpusampling`, *вкперф. exe* не выполняет сбор примеров использования ЦП. Это предотвращает использование представления "Загрузка ЦП (с выборкой)" в анализаторе производительности Windows, но позволяет уменьшить объем собираемых трассировок. <br/><br/> После запуска трассировки *вкперф. exe* немедленно возвращает значение. События собираются во всей системе для всех процессов, запущенных на компьютере. Это означает, что вам не нужно создавать проект из той же командной строки, которая использовалась для запуска *вкперф. exe*. Например, можно выполнить сборку проекта из Visual Studio. |
| `/stop`          | `<sessionName>` `<outputFile.etl>` |
|                  | Останавливает трассировку, идентифицированную по заданному имени сеанса. Запускает шаг последующей обработки трассировки для создания файла, отображаемого в анализаторе производительности Windows (WPA). Для наилучшего просмотра используйте версию WPA, включающую надстройку C++ Build Insights. Дополнительные сведения см. в статье [Приступая C++ к работе со службой аналитики](/cpp/build-insights/get-started-with-cpp-build-insights). Параметр `<outputFile.etl>` указывает, где следует сохранить выходной файл. |
| `/stopnoanalyze` | `<sessionName>` `<rawOutputFile.etl>` |
|                  | Останавливает трассировку, идентифицированную по заданному имени сеанса, и записывает необработанные, необработанные данные в указанный выходной файл. Полученный файл не предназначен для просмотра в WPA. <br/><br/> Этап последующей обработки, участвующий в команде `/stop`, иногда может быть слишком длинным. Чтобы отложить этот шаг после обработки, можно использовать команду `/stopnoanalyze`. Используйте команду `/analyze`, когда будете готовы к созданию файла, отображаемого в анализаторе производительности Windows. |

## <a name="miscellaneous-commands"></a>Разные команды

| Параметр     | Аргументы и описание |
|------------|---------------------------|
| `/analyze` | `<rawInputFile.etl> <outputFile.etl>` |
|            | Принимает необработанный файл трассировки, созданный командой `/stopnoanalyze`. Запускает на этой трассировке шаг после обработки для создания файла, отображаемого в анализаторе производительности Windows. Для наилучшего просмотра используйте версию WPA, включающую надстройку C++ Build Insights. Дополнительные сведения см. в статье [Приступая C++ к работе со службой аналитики](/cpp/build-insights/get-started-with-cpp-build-insights). |

## <a name="see-also"></a>См. также раздел

Приступая [к C++ работе с аналитическими](/cpp/build-insights/get-started-with-cpp-build-insights) сведениями\
[Учебник. основные\ анализатора производительности Windows](/cpp/build-insights/tutorials/wpa-basics)
[Справочник: представления анализатора производительности Windows](wpa-views.md)\
[Windows Performance Analyzer](/windows-hardware/test/wpt/windows-performance-analyzer)

::: moniker-end
