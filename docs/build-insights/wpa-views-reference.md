---
title: 'C++Аналитика сборки: Справочник по представлениям анализатора производительности Windows'
description: Справочные C++ сведения о представлениях Build Insights, доступных в анализаторе производительности Windows.
ms.date: 11/03/2019
helpviewer_keywords:
- C++ Build Insights
- throughput analysis
- build time analysis
- vcperf.exe
ms.openlocfilehash: e574e7ef4c1b4c5832785d69dbc90ba043cf996a
ms.sourcegitcommit: 0cfc43f90a6cc8b97b24c42efcf5fb9c18762a42
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/05/2019
ms.locfileid: "73633216"
---
# <a name="c-build-insights-windows-performance-analyzer-views-reference"></a>C++Аналитика сборки: Справочник по представлениям анализатора производительности Windows

::: moniker range="<=vs-2017"

Средства C++ сборки Insights доступны в Visual Studio 2019. Чтобы просмотреть документацию по этой версии, присвойте элементу управления выбора версии Visual Studio для этой статьи значение Visual Studio 2019.

::: moniker-end
::: moniker range="vs-2019"

В этой статье приводятся подробные сведения C++ о всех представлениях Build Insights, доступных в Windows Performance Analyzer (WPA). Используйте эту страницу, чтобы найти:

- описания столбцов данных; перетаскивани
- доступные предустановки для каждого представления, включая предполагаемое использование и предпочтительный режим просмотра.

Если вы не знакомы с WPA, мы рекомендуем сначала ознакомиться с [основами WPA для получения C++ ценной информации](wpa-basics.md).

## <a name="build-explorer"></a>Обозреватель сборки

Представление обозревателя сборок используется для:

- Диагностика проблем параллелизма,
- Определите, находится ли время сборки в процессе синтаксического анализа, создания кода или связывания.
- выявление узких мест и необычно длительных операций сборки.

### <a name="build-explorer-view-data-columns"></a>Столбцы данных представления обозревателя сборок

| Имя столбца | Описание |
|-|-|
| буилдтимелинедескриптион | Текстовое описание временной шкалы, в которой встречается текущее действие или свойство. |
| буилдтимелинеид          | Отсчитываемый от нуля Идентификатор для временной шкалы, в которой встречается текущее действие или свойство. |
| Компонент                | Компонент, компилируемый или связываемый при порождении текущего события. Значение этого столбца — *\<сведения о вызове X\>* , если с этим событием не связан ни один компонент. X — это уникальный числовой идентификатор для вызова, выполняемого на момент создания события. Этот идентификатор совпадает со столбцом в столбце InvocationId для этого события. |
| Количество                    | Число действий или свойств, представленных этой строкой данных. Это значение всегда равно 1, и его можно использовать только в сценариях статистической обработки при группировании нескольких строк. |
| ексклусивекпутиме         | Количество времени ЦП в миллисекундах, используемое этим действием. Время, затраченное на дочерние действия, не входит в этот объем. |
| ексклусиведуратион        | Длительность действия в миллисекундах. Длительность дочерних действий не включена в этот объем. |
| инклусивекпутиме         | Количество времени ЦП в миллисекундах, используемое этим действием и всеми дочерними действиями. |
| инклусиведуратион        | Длительность этого действия в миллисекундах, включая все дочерние действия. |
| инвокатиондескриптион    | Текстовое описание вызова этого события в. Описание включает в себя файл *CL. exe* или *Link. exe*и уникальный числовой идентификатор вызова. Если применимо, он включает полный путь к компоненту, скомпилированному или связанному во время вызова. Для вызовов, которые не создают ни одного компонента, или для тех, которые создают несколько компонентов, путь пуст. Идентификатор вызова такой же, как и в столбце InvocationId. |
| InvocationId             | Уникальный числовой идентификатор для вызова этого события, возникшего в. |
| Название                     | Имя действия или свойства, представленного этим событием. |
| Time                     | Отметка времени, определяющая время возникновения события. |
| Средство                     | Средство, выполняемое при возникновении этого события. Значением этого столбца является либо CL, либо Link. |
| Type                     | Тип текущего события. Это значение является либо действием, либо свойством. |
| значения                    | Если текущее событие является свойством, этот столбец содержит его значение. Если текущее событие является действием, этот столбец остается пустым. |

### <a name="build-explorer-view-presets"></a>Предварительные установки представления обозревателя сборок

| Имя предустановленной конфигурации           | Предпочтительный режим просмотра | Использование |
|-----------------------|---------------------|------------|
| Статистика действий   | Диаграмма/таблица       | Используйте эту предустановку для просмотра агрегированной статистики для всех действий обозревателя сборок. В табличном режиме сразу же проскажите, если сборка построена с помощью синтаксического анализа, создания кода или компоновщика. Агрегированные длительности для каждого действия сортируются в порядке убывания. Выполните детализацию, развернув верхний узел, чтобы легко найти, какие вызовы занимают больше всего времени для выполнения этих основных действий. При желании можно настроить параметры WPA для отображения средних или других типов агрегатов. В режиме диаграммы Узнайте, когда каждое действие активно во время сборки. |
| Вызовов           | Graph               | Прокрутите вниз список вызовов в представлении графа, отсортированном по времени начала. Его можно использовать вместе с представлением ЦП (выборка) для поиска вызовов, которые выводятся в соответствии с низкими зонами использования ЦП. Обнаружение проблем параллелизма. |
| Свойства вызова | Таблица               | Быстрый поиск основных сведений об определенном компиляторе или вызове компоновщика. Определите версию, Рабочий каталог или полную командную строку, используемую для ее вызова. |
| Временные шкалы             | Graph               | См. линейчатую диаграмму того, как была выполнена параллельная сборка. Быстро выявлять проблемы параллелизма и узкие места. Настройте WPA, чтобы присвоить столбцам различные значения в соответствии с вашими потребностями. Выберите описание вызова в поле последний сгруппированный столбец для просмотра цветовой линейчатой диаграммы всех вызовов. Он позволяет быстро выявить длительные причины. Затем можно увеличить масштаб и выбрать имя действия как последний сгруппированный столбец для просмотра наиболее длинных частей. |

## <a name="files"></a>Файлы

Представление файлы используется для:

- Определите, какие заголовки включаются чаще всего, и
- Помогите выбрать, что следует включить в предварительно скомпилированный заголовок (PCH).

### <a name="files-view-data-columns"></a>Столбцы данных представления файлов

| Имя столбца              | Описание |
|--------------------------|-------------|
| ActivityName             | Действие, выполняемое при выдаче этого события файла. В настоящее время всегда выполняется *синтаксический анализ*этого значения. |
| буилдтимелинедескриптион | * |
| буилдтимелинеид          | * |
| Компонент                | * |
| Количество                    | * |
| Глубина                    | Отсчитываемая от нуля координата в дереве включения, в которой находится этот файл. Подсчет начинается в корне дерева включения. Значение 0 обычно соответствует файлу c/. cpp. |
| ексклусиведуратион        | * |
| инклудедби               | Полный путь к файлу, включающему текущий файл. |
| инклудедпас             | Полный путь к текущему файлу. |
| инклусиведуратион        | * |
| InvocationId             | * |
| StartTime                | Отметка времени, представляющая время, когда было вырождено текущее событие файла. |
| Средство                     | * |

\* значение этого столбца аналогично значению в представлении [обозревателя сборок](#build-explorer-view-data-columns) .

### <a name="files-view-presets"></a>Предварительные установки представления файлов

| Имя предустановленной конфигурации | Предпочтительный режим просмотра | Использование |
|-------------|---------------------|------------|
| Статистика  | Таблица               | Узнайте, какие файлы имели наибольшее общее время синтаксического анализа, просмотрев список в порядке убывания. Используйте эти сведения для реструктуризации заголовков или выбора того, что следует включить в PCH. |

## <a name="functions"></a>Функции

Представление "функции" используется для обнаружения функций с чрезмерно длинным временем формирования кода.

### <a name="functions-view-data-columns"></a>Столбцы данных представления "функции"

| Имя столбца              | Описание |
|--------------------------|-------------|
| ActivityName             | Действие, выполняемое при выдаче этого события функции. В настоящее время это значение всегда равно *стратегию*. |
| буилдтимелинедескриптион | * |
| буилдтимелинеид          | * |
| Компонент                | * |
| Количество                    | * |
| Продолжительность                 | Длительность действия создания кода для этой функции. |
| functionName             | Имя функции, которая будет генерировать код. |
| InvocationId             | * |
| StartTime                | Отметка времени, представляющая момент создания события текущей функции. |
| Средство                     | * |

\* значение этого столбца аналогично значению в представлении [обозревателя сборок](#build-explorer-view-data-columns) .

### <a name="functions-view-presets"></a>Предустановки представления "функции"

| Имя предустановленной конфигурации | Предпочтительный режим просмотра | Использование |
|-------------|---------------------|------------|
| Статистика  | Таблица               | Узнайте, какие функции имели наибольшее общее время создания кода, просмотрев список в порядке убывания. Они могут посоветовать, где код чрезмерно использует ключевое слово **__forceinline** или что некоторые функции могут быть слишком большими. |
| Временные шкалы   | Graph               | Посмотрите на эту линейчатую диаграмму, чтобы узнать расположение и длительность выполнения функций, которые выводят наибольшее время. Проверьте, не совпадают ли они с узкими местами в представлении обозревателя сборок. В противном случае примите соответствующие меры, чтобы сократить время создания кода и повысить эффективность построения. |

## <a name="see-also"></a>См. также

Приступая [к C++ работе с аналитическими](get-started-with-cpp-build-insights.md) сведениями\
[Справочник по вкперф. exe](vcperf-reference.md)\
[Основные сведения об анализаторе производительности Windows](wpa-basics.md)\
[Windows Performance Analyzer](/windows-hardware/test/wpt/windows-performance-analyzer)

::: moniker-end
