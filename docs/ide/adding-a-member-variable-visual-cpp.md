---
title: Добавление переменной-члена
ms.date: 11/09/2018
f1_keywords:
- vc.codewiz.classes.member.variable
- vc.codewiz.variable.overview
helpviewer_keywords:
- member variables, adding
- member variables
- add member variable wizard [C++]
- dialog box controls, member variables
- dialog box controls, variable types
- variables, dialog box control member variables
ms.assetid: 437783bd-8eb4-4508-8b73-7380116e9d71
ms.openlocfilehash: e7fd5bd93198c494f18fe18755d13d40fe7fbf96
ms.sourcegitcommit: ec6dd97ef3d10b44e0fedaa8e53f41696f49ac7b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/25/2020
ms.locfileid: "88845137"
---
# <a name="add-a-member-variable"></a>Добавление переменной-члена

Вы можете добавить переменную-член для класса с помощью представления классов. Переменные-члены могут использоваться для [обмена данными и их проверки](../mfc/dialog-data-exchange-and-validation.md) либо могут быть универсальными. Мастер переменных-членов данных предназначен для получения релевантной информации и ее использования для вставки элементов в исходные файлы в нужных расположениях. Вы можете добавить переменную-член из [редактора диалоговых окон](../windows/dialog-editor.md) в [представлении ресурсов](../windows/how-to-create-a-resource-script-file.md#create-resources) или из [представления классов](/visualstudio/ide/viewing-the-structure-of-code).

> [!NOTE]
> При проектировании и реализации диалогового окна может оказаться, что эффективнее использовать редактор диалоговых окон для добавления элементов управления диалоговых окон, а затем реализовать переменные-члены для элементов управления.

**Добавление переменной-члена для элемента управления диалогового окна в представлении ресурсов с помощью мастера добавления переменной-члена**

1. В представлении ресурсов разверните узел проекта и узел диалогового окна, чтобы отобразить список диалоговых окон проекта.

1. Дважды щелкните диалоговое окно, для которого хотите добавить переменную-член, чтобы открыть его в редакторе диалоговых окон.

1. В диалоговом окне, отображаемом в редакторе диалоговых окон, щелкните правой кнопкой мыши элемент управления, к которому требуется добавить переменную-член.

1. В контекстном меню выберите команду **Добавить переменную**, чтобы отобразить [мастер добавления переменной-члена](#add-member-variable-wizard).

   > [!NOTE]
   > Значение по умолчанию уже указано в поле **Идентификатор элемента управления**.

1. Укажите сведения в соответствующих полях мастера. Дополнительные сведения см. в разделе [Элементы управления "Диалоговое окно" и типы переменных](#dialog-box-controls-and-variable-types).

1. Нажмите кнопку **Готово**, чтобы добавить в проект код определения и реализации, и закройте мастер.

**Добавление переменной-члена из представления классов с помощью мастера добавления переменной-члена**

1. В [представлении классов](/visualstudio/ide/viewing-the-structure-of-code) разверните узел проекта, чтобы отобразить классы в проекте.

1. Щелкните правой кнопкой мыши класс, куда нужно добавить переменную.

1. В контекстном меню выберите **Добавить** и затем **Добавить переменную**, чтобы отобразить мастер добавления переменной-члена.

1. Укажите сведения в соответствующих полях мастера. Дополнительные сведения см. в разделе [Мастер добавления переменной-члена](#add-member-variable-wizard).

1. Нажмите кнопку **Готово**, чтобы добавить в проект код определения и реализации, и закройте мастер.

## <a name="in-this-section"></a>В этом разделе

- [Мастер добавления переменной-члена](#add-member-variable-wizard)
- [Элементы управления "Диалоговое окно" и типы переменных](#dialog-box-controls-and-variable-types)

## <a name="add-member-variable-wizard"></a>Мастер добавления переменной-члена

Этот мастер добавляет объявления переменной-члена в файл заголовка. В зависимости от параметров он может добавить код в CPP-файл. После добавления переменной-члена с помощью мастера вы можете редактировать код в среде разработки.

- **Доступ**

  Задает уровень доступа к переменной-члену. Модификаторы доступа — это ключевые слова, которые определяют доступ других классов к переменной-члену. Дополнительные сведения о задании доступа см. в разделе [Контроль доступа членов](../cpp/member-access-control-cpp.md). Для переменной-члена по умолчанию задан уровень доступа **`public`** .

  - [public](../cpp/public-cpp.md)
  - [protected](../cpp/protected-cpp.md)
  - [private](../cpp/private-cpp.md)

- **Тип переменной**

  Задает тип возвращаемого значения для добавляемой переменной-члена.

  - При добавлении переменной-члена, не являющейся элементом управления диалогового окна, выберите один из доступных типов в списке.

    Сведения о типах см. в разделе [Фундаментальные типы](../cpp/fundamental-types-cpp.md).

    - **`char`**
    - **`double`**
    - **`float`**
    - **`int`**
    - **`long`**
    - **`short`**
    - **`unsigned char`**
    - **`unsigned int`**
    - **`unsigned long`**

  - При добавлении переменной-члена для элемента управления диалогового окна это поле заполняется типом объекта, возвращаемого для элемента управления или значения. Если выбрать **Элемент управления**, то поле **Тип переменной**  будет указывать базовый класс элемента управления, выбранного в поле **Идентификатор элемента управления**. Если элемент управления диалогового окна может содержать значение и вы выбрали **Значение**, то **Тип переменной** будет указывать соответствующий тип для значения, которое может содержать элемент управления. Дополнительные сведения см. в разделе [Элементы управления "Диалоговое окно" и типы переменных](#dialog-box-controls-and-variable-types).

    Это значение зависит от выбора в поле **Идентификатор элемента управления** и не может быть изменено.

- **Имя переменной**

  Задает имя для добавляемой переменной-члена. Переменные-члены обычно начинаются с идентифицирующей строки `m_`, которая указывается по умолчанию.

- **Control variable** (Переменная элемента управления)

  Указывает, что переменная-член управляет элементом управления в диалоговом окне с поддержкой [обмена данными и проверки данных](../mfc/dialog-data-exchange-and-validation.md). Дополнительные сведения см. в разделе [DoDataExchange](../mfc/reference/cwnd-class.md#dodataexchange). Этот параметр доступен только для переменных-членов, которые добавлены в классы, производные от [CDialog](../mfc/reference/cdialog-class.md). Установите этот флажок, чтобы активировать параметры **Идентификатор элемента управления** и **Тип элемента управления**.

- **Идентификатор элемента управления**

  Задает идентификатор для добавляемой переменной элемента управления. Выберите в списке идентификатор для типа элемента управления, для которого вы добавляете переменную-член. Этот список активен только при выбранном поле **Переменная элемента управления** и ограничен идентификаторами для элементов управления, уже добавленных в диалоговое окно. Например, стандартная кнопка **ОК** имеет идентификатор элемента управления **IDOK**.

  |Параметр|Описание:|
  |------------|-----------------|
  |**Управление**|Этот параметр по умолчанию задан для типа элемента управления. Он управляет самим элементом управления, а не его состоянием или содержимым (как это может потребоваться для списка, поля со списком или поля ввода).|
  |**Значение**|Этот параметр доступен для типов элементов управления, которые могут содержать значение или отображать состояние, например для поля ввода или флажка. Он также доступен для типов элементов управления, для которых можно управлять диапазоном, содержимым или состоянием. Дополнительные сведения см. в разделе [Элементы управления "Диалоговое окно" и типы переменных](#dialog-box-controls-and-variable-types).|

- **Категория**

  Указывает, основана ли переменная на типе или на значении элемента управления.

- **Тип элемента управления**

  Задает тип добавляемого элемента управления. Это поле невозможно изменить. Например, кнопка имеет тип элемента управления **BUTTON**, а поле со списком — **COMBOBOX**. Дополнительные сведения см. в разделе [Элементы управления "Диалоговое окно" и типы переменных](#dialog-box-controls-and-variable-types).

- **Max characters** (Максимальное число символов)

  Доступно, только если для параметра **Тип переменной** задано значение [CString](../atl-mfc-shared/reference/cstringt-class.md). Указывает наибольшее число символов, которое может содержать элемент управления.

- **Минимальное значение**

  Доступно только для типов переменной `BOOL`, **`int`** , `UINT`, **`long`** , `DWORD`, **`float`** , **`double`** , `BYTE`, **`short`** , [COLECurrency](../mfc/reference/colecurrency-class.md) или [CTime](../atl-mfc-shared/reference/ctime-class.md). Указывает наименьшее значение, допустимое для масштаба или диапазона дат.

- **Максимальное значение**

  Доступно только для типов переменной `BOOL`, **`int`** , `UINT`, **`long`** , `DWORD`, **`float`** , **`double`** , `BYTE`, **`short`** , `COLECurrency` или `CTime`. Указывает наибольшее значение, допустимое для масштаба или диапазона дат.

- **H-файл**

  Для элементов управления ActiveX, переменным-членам требуется класс-оболочка. Задает имя файла заголовка для добавления объявления класса.

- **CPP-файл**

  Для элементов управления ActiveX, переменным-членам требуется класс-оболочка. Задает имя файла реализации для добавления определения класса.

- **Комментарий**

  Предоставляет комментарий в файле заголовка для переменной-члена.

## <a name="dialog-box-controls-and-variable-types"></a>Элементы управления "Диалоговое окно" и типы переменных

Вы можете использовать [мастер добавления переменной-члена](#add-member-variable-wizard) для добавления переменной-члена в элемент управления диалогового окна, созданный с помощью MFC. Тип элемента управления, для которого вы добавляете переменную-член, определяет параметры, отображаемые в диалоговом окне.

В следующей таблице описаны все типы элементов управления диалогового окна, поддерживаемые в MFC и [редакторе диалоговых окон](../windows/dialog-editor.md). В таблице также содержатся доступные типы и значения для них.

|Control|Тип элемента управления|Тип переменной элемента управления|Тип переменной значения|Минимальное и максимальное значения (только тип значения)|
|-------------|------------------|---------------------------|-------------------------|-----------------------------------------|
|Элемент управления "Анимация"|SysAnimate32|[CAnimateCtrl](../mfc/reference/canimatectrl-class.md)|Нет, только элемент управления|Недоступно|
|Кнопка|BUTTON|[CButton](../mfc/reference/cbutton-class.md)|Нет, только элемент управления|Недоступно|
|Флажок|CHECK|[CButton](../mfc/reference/cbutton-class.md)|`BOOL`|Минимальное и максимальное значения|
|Поле со списком|COMBOBOX|[CComboBox](../mfc/reference/ccombobox-class.md)|[CString](../atl-mfc-shared/reference/cstringt-class.md)|Максимальное число символов|
|Элемент управления "Выбор даты и времени"|SysDateTimePick32|[CDateTimeCtrl](../mfc/reference/cdatetimectrl-class.md)|[CTime](../atl-mfc-shared/reference/ctime-class.md)|Минимальное и максимальное значения|
|Поле ввода|EDIT|[CEdit](../mfc/reference/cedit-class.md)|`CString`, int, UINT, long, DWORD, float, double, BYTE, short, BOOL, `COleDateTime` или `COleCurrency`|Минимальное и максимальное значения; некоторые поддерживают максимальное количество символов|
|Элемент управления "Сочетание клавиш"|msctls_hotkey32|[CHotKeyCtrl](../mfc/reference/chotkeyctrl-class.md)|Нет, только элемент управления|Недоступно|
|Список|LISTBOX|[CListBox](../mfc/reference/clistbox-class.md)|`CString`|Максимальное число символов|
|Элемент управления "Список"|SysListView32|[CListCtrl](../mfc/reference/clistctrl-class.md)|Нет, только элемент управления|Недоступно|
|Элемент управления "Календарь месяца"|SysMonthCal32|[CMonthCalCtrl](../mfc/reference/cmonthcalctrl-class.md)|`CTime`|Минимальное и максимальное значения|
|Progress control|msctls_progress32|[CProgressCtrl](../mfc/reference/cprogressctrl-class.md)|Нет, только элемент управления|Недоступно|
|Элемент управления Rich Edit 2|RichEdit20A|[CRichEditCtrl](../mfc/reference/cricheditctrl-class.md)|`CString`|Максимальное число символов|
|Элемент управления Rich Edit|RICHEDIT|`CRichEditCtrl`|`CString`|Максимальное число символов|
|Полоса прокрутки (вертикальная или горизонтальная)|SCROLLBAR|[CScrollBar](../mfc/reference/cscrollbar-class.md)|**`int`**|Минимальное и максимальное значения|
|Ползунок - элемент управления|msctls_trackbar32|[CSliderCtrl](../mfc/reference/csliderctrl-class.md)|**`int`**|Минимальное и максимальное значения|
|Spin control|msctls_updown32|[CSpinButtonCtrl](../mfc/reference/cspinbuttonctrl-class.md)|Нет, только элемент управления|Недоступно|
|Элемент управления табуляции|SysTabControl32|[CTabCtrl](../mfc/reference/ctabctrl-class.md)|Нет, только элемент управления|Недоступно|
|Элемент управления "Дерево"|SysTreeView32|[CTreeCtrl](../mfc/reference/ctreectrl-class.md)|Нет, только элемент управления|Н/Д|
