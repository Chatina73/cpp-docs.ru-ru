---
title: C26436
ms.date: 11/15/2017
ms.topic: conceptual
f1_keywords:
- C26436
helpviewer_keywords:
- C26436
ms.assetid: 82d14d5d-5c5d-4e27-bdc8-268f9973a312
ms.openlocfilehash: 2d01036fd8a14eab945cd48b187d415414873613
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81369531"
---
# <a name="c26436-need_virtual_dtor"></a>C26436 NEED_VIRTUAL_DTOR

"Тип с виртуальной функцией нуждается либо в публичном виртуальном, либо в защищенном невиртуальном деструкторах".

**Основные руководящие принципы**: C.35: Деструктор базового класса должен быть как публичным, так и виртуальным, либо защищенным и невиртуальным

Если класс определяет виртуальную функцию, он становится полиморфным, что означает, что выведенные классы могут изменить свое поведение, включая логику управления ресурсами и разрушения. Поскольку код клиента может вызывать полиморфные типы с помощью указателей в базовые классы, клиент не может явно выбирать, какое поведение является целесообразным без снижения. Чтобы убедиться, что ресурсы управляются последовательно и разрушение происходит в соответствии с правилами фактического типа рекомендуется определить общедоступный виртуальный деструктор. Если иерархия типов предназначена для того, чтобы запретить клиентский код уничтожать объекты напрямую, деструкторов следует определить как защищенные невиртуальные.

## <a name="remarks"></a>Remarks

- Предупреждение отображается на первом виртуальном определении функции типа (это может быть виртуальный деструктор, если он не является общедоступным), один раз в типе.
  - Поскольку определение может быть размещено отдельно от декларации, оно не всегда может иметь какой-либо из виртуальных спецификаторов. Но предупреждение по-прежнему действует - он проверяет фактическую "виртуальность" функции.
