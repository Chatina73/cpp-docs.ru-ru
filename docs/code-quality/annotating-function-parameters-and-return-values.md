---
title: Аннотирование параметров функции и значений возврата
description: Справочное руководство по функции параметра и аннотации значения возврата.
ms.date: 10/15/2019
ms.topic: conceptual
f1_keywords:
- _Outptr_opt_result_bytebuffer_to_
- _Inout_updates_all_opt_
- _Post_equal_to_
- _Outptr_opt_result_maybenull_
- _Out_writes_bytes_all_
- _Out_writes_all_opt_
- _In_opt_
- _Outptr_
- _Outptr_result_maybenull_
- _Outref_result_bytebuffer_all_maybenull_
- _Inout_updates_opt_z_
- _Inout_updates_z_
- _Out_writes_
- _Out_writes_to_ptr_opt_z_
- _In_reads_to_ptr_opt_
- _Ret_writes_to_maybenull_
- _Outref_result_maybenull_
- _Ret_writes_bytes_
- _Outptr_result_bytebuffer_
- _Out_writes_opt_
- _Inout_updates_bytes_opt_
- _In_z_
- _Inout_updates_to_
- _Ret_maybenull_
- _Ret_writes_bytes_to_
- _Ret_z_
- _COM_Outptr_
- _Ret_maybenull_z_
- _Out_opt_
- _In_reads_opt_z_
- _Outptr_result_bytebuffer_to_
- _Ret_notnull_
- _COM_Outptr_opt_result_maybenull_
- _Inout_updates_to_opt_
- _Inout_updates_
- _Outptr_opt_result_buffer_
- _Outptr_result_buffer_to_
- _Out_writes_to_ptr_opt_
- _Out_writes_bytes_all_opt_
- _Inout_updates_all_
- _Deref_inout_range_
- _Ret_writes_
- _Out_writes_z_
- _Ret_writes_to_
- _Out_writes_to_ptr_z_
- _Out_writes_bytes_to_opt_
- _In_reads_or_z_
- _Inout_updates_bytes_to_
- _In_reads_z_
- _In_opt_z_
- _Outref_result_buffer_maybenull_
- _Ret_range_
- _COM_Outptr_opt_
- _Outptr_opt_result_maybenull_z_
- _In_reads_opt_
- _Inout_
- _Field_range_
- _Ret_writes_z_
- _Out_writes_to_
- _Out_writes_to_ptr_
- _Inout_opt_z_
- _Outref_
- _Deref_out_range_
- _Outref_result_buffer_
- _Outref_result_buffer_to_
- _Outref_result_bytebuffer_to_maybenull_
- _In_reads_bytes_
- _Outptr_opt_result_buffer_to_
- _Outref_result_buffer_all_
- _Out_writes_bytes_to_
- _Result_zeroonfailure_
- _In_reads_bytes_opt_
- _Outref_result_buffer_to_maybenull_
- _Outref_result_bytebuffer_all_
- _Outref_result_buffer_all_maybenull_
- _Ret_writes_maybenull_z_
- _In_range_
- _Inout_updates_bytes_all_opt_
- _Outref_result_bytebuffer_to_
- _Inout_updates_bytes_to_opt_
- _Pre_equal_to_
- _Ret_writes_bytes_maybenull_
- _COM_Outptr_result_maybenull_
- _Ret_writes_maybenull_
- _Out_writes_bytes_
- _Outptr_opt_
- _Out_writes_opt_z_
- _Outref_result_nullonfailure_
- _Outptr_opt_result_z_
- _Inout_opt_
- _Deref_in_range_
- _Outptr_result_z_
- _In_reads_to_ptr_opt_z_
- _Struct_size_bytes_
- _Outptr_result_nullonfailure_
- _In_
- _Inout_updates_bytes_
- _In_reads_to_ptr_z_
- _Ret_writes_bytes_to_maybenull
- _Outptr_opt_result_nullonfailure_
- _In_reads_to_ptr_
- _Outptr_result_buffer_
- _Out_
- _Outref_result_bytebuffer_maybenull_
- _Outptr_result_maybenull_z_
- _In_reads_
- _Inout_updates_opt_
- _Out_writes_to_opt_
- _Outptr_opt_result_bytebuffer_
- _Out_writes_all_
- _Out_range_
- _Inout_updates_bytes_all_
- _Inout_z_
- _Outref_result_bytebuffer_
- _Result_nullonfailure_
- _Ret_null_
- _Scanf_format_string_
- _Scanf_s_format_string_
- _Printf_format_string_
ms.assetid: 82826a3d-0c81-421c-8ffe-4072555dca3a
ms.openlocfilehash: c787dcfb252da1abe47251d66c46689db289cf15
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81328007"
---
# <a name="annotating-function-parameters-and-return-values"></a>Аннотирование параметров функции и значений возврата

В этой статье описывается типичное использование аннотаций для простых параметров функции - скаляров и указателей на структуры и классы и большинство видов буферов. В этой статье также показаны общие шаблоны использования аннотаций. Для дополнительных аннотаций, связанных с функциями, [см.](../code-quality/annotating-function-behavior.md)

## <a name="pointer-parameters"></a>Параметры указателя

Для аннотаций в следующей таблице, когда параметр указателя аннотируется, анализатор сообщает об ошибке, если указатель является нулевым. Эта аннотация применяется к указателям и любому элементу данных, на который указывается.

### <a name="annotations-and-descriptions"></a>Аннотации и описания

- `_In_`

     Аннотирует параметры ввода, которые являются сккаларами, структурами, указателями на структуры и тому подобное. Явно может быть использован на простых скаларов. Параметр должен быть действителен в предварительном состоянии и не будет изменен.

- `_Out_`

     Аннотирует параметры вывода, которые являются сккаларами, структурами, указателями на структуры и тому подобное. Не применяйте эту аннотацию к объекту, который не может вернуть значение, например, к скалатору, который передается по значению. Параметр не должен быть действителен в предварительном состоянии, но должен быть действительным в пост-состоянии.

- `_Inout_`

     Аннотирует параметр, который будет изменен функцией. Он должен быть действителен как в предгосударственном, так и в пост-состоянии, но предполагается, что они имеют разные значения до и после вызова. Должно применяться к изменяемому значению.

- `_In_z_`

     Указатель на нулевую строку, используемую в качестве ввода. Строка должна быть действительна в предварительном состоянии. Варианты `PSTR`, которые уже имеют правильные аннотации, являются предпочтительными.

- `_Inout_z_`

     Указатель на нулевой упраздненный массив символов, который будет изменен. Он должен быть действителен до и после вызова, но предполагается, что значение изменилось. Терминатор null может быть перемещен, но доступны только элементы до исходного терминатора.

- `_In_reads_(s)`

     `_In_reads_bytes_(s)`

     Указатель на массив, который считывается функцией. Массив элементов `s` размера, все из которых должны быть действительными.

     Вариант `_bytes_` дает размер в байтах вместо элементов. Используйте этот вариант только тогда, когда размер не может быть выражен в качестве элементов. Например, `char` строки будут `_bytes_` использовать вариант только в `wchar_t` том случае, если аналогичная функция, которая использует бы.

- `_In_reads_z_(s)`

     Указатель на массив, который является нулевым и имеет известный размер. Элементы до нулевого терминатора, `s` или если нет нулевого терминатора, должны быть действительны в предварительном состоянии. Если размер известен в байтах, масштабируйте `s` по размеру элемента.

- `_In_reads_or_z_(s)`

     Указатель на массив, который незавершенный или имеет известный размер, или и то, и другое. Элементы до нулевого терминатора, `s` или если нет нулевого терминатора, должны быть действительны в предварительном состоянии. Если размер известен в байтах, масштабируйте `s` по размеру элемента. (Используется для `strn` семьи.)

- `_Out_writes_(s)`

     `_Out_writes_bytes_(s)`

     Указатель на массив `s` элементов (resp. байты), которые будут написаны функцией. Элементы массива не должны быть действительными в предварительном состоянии, и количество элементов, действительных в пост-состоянии, не уточняется. Если есть аннотации по типу параметра, они применяются в пост-состоянии. Например, рассмотрим следующий код.

     ```cpp
     typedef _Null_terminated_ wchar_t *PWSTR;
     void MyStringCopy(_Out_writes_(size) PWSTR p1, _In_ size_t size, _In_ PWSTR p2);
     ```

     В этом примере вызываюец `size` предоставляет `p1`буфер элементов для . `MyStringCopy`делает некоторые из этих элементов действительными. Что еще `_Null_terminated_` более важно, `PWSTR` аннотация на средства, которые `p1` являются недействительными в пост-государстве. Таким образом, количество допустимых элементов по-прежнему четко определено, но определенное количество элементов не требуется.

     Вариант `_bytes_` дает размер в байтах вместо элементов. Используйте этот вариант только тогда, когда размер не может быть выражен в качестве элементов. Например, `char` строки будут `_bytes_` использовать вариант только в `wchar_t` том случае, если аналогичная функция, которая использует бы.

- `_Out_writes_z_(s)`

     Указатель на массив `s` элементов. Элементы не должны быть действительными в предварительном состоянии. В пост-государстве элементы, перебираемые через нулевой терминатор, который должен присутствовать, должны быть действительными. Если размер известен в байтах, масштабируйте `s` по размеру элемента.

- `_Inout_updates_(s)`

     `_Inout_updates_bytes_(s)`

     Указатель на массив, который читается и пишется в функции. Это элементы `s` размера, и действительны в предварительном состоянии и после состояния.

     Вариант `_bytes_` дает размер в байтах вместо элементов. Используйте этот вариант только тогда, когда размер не может быть выражен в качестве элементов. Например, `char` строки будут `_bytes_` использовать вариант только в `wchar_t` том случае, если аналогичная функция, которая использует бы.

- `_Inout_updates_z_(s)`

     Указатель на массив, который незавершенный и имеет известный размер. Элементы, перебравшиеся через нулевой терминатор, который должен присутствовать, должны быть действительны как в предгосударственном, так и в пост-состоянии. Значение в пост-государстве, как предполагается, отличается от значения в предварительном состоянии; включает в себя расположение нулевого терминатора. Если размер известен в байтах, масштабируйте `s` по размеру элемента.

- `_Out_writes_to_(s,c)`

     `_Out_writes_bytes_to_(s,c)`

     `_Out_writes_all_(s)`

     `_Out_writes_bytes_all_(s)`

     Указатель на массив `s` элементов. Элементы не должны быть действительными в предварительном состоянии. В пост-состоянии элементы `c`до -th элемента должны быть действительными. Вариант `_bytes_` может быть использован, если размер известен в байтах, а не в количестве элементов.

     Пример:

     ```cpp
     void *memcpy(_Out_writes_bytes_all_(s) char *p1, _In_reads_bytes_(s) char *p2, _In_ int s);
     void *wordcpy(_Out_writes_all_(s) DWORD *p1, _In_reads_(s) DWORD *p2, _In_ int s);
     ```

- `_Inout_updates_to_(s,c)`

     `_Inout_updates_bytes_to_(s,c)`

     Указатель на массив, который читается и пишется функцией. Это элементы `s` размера, все из которых должны быть действительны `c` в предварительном состоянии, и элементы должны быть действительными в пост-состоянии.

     Вариант `_bytes_` дает размер в байтах вместо элементов. Используйте этот вариант только тогда, когда размер не может быть выражен в качестве элементов. Например, `char` строки будут `_bytes_` использовать вариант только в `wchar_t` том случае, если аналогичная функция, которая использует бы.

- `_Inout_updates_all_(s)`

     `_Inout_updates_bytes_all_(s)`

     Указатель на массив, который читается и пишется `s` функцией элементов размера. Определяется как эквивалент:

     `_Inout_updates_to_(_Old_(s), _Old_(s))    _Inout_updates_bytes_to_(_Old_(s), _Old_(s))`

     Другими словами, каждый элемент, `s` который существует в буфере до в предварительном состоянии, действителен в пред-состоянии.

     Вариант `_bytes_` дает размер в байтах вместо элементов. Используйте этот вариант только тогда, когда размер не может быть выражен в качестве элементов. Например, `char` строки будут `_bytes_` использовать вариант только в `wchar_t` том случае, если аналогичная функция, которая использует бы.

- `_In_reads_to_ptr_(p)`

     Указатель на массив, `p - _Curr_` для которого `p` `_Curr_`(т.е. минус) является допустимым выражением. Элементы, `p` прежде чем должны быть действительны в предварительном состоянии.

    Пример:

    ```cpp
    int ReadAllElements(_In_reads_to_ptr_(EndOfArray) const int *Array, const int *EndOfArray);
    ```

- `_In_reads_to_ptr_z_(p)`

     Указатель на нулевые массивы, `p - _Curr_` для которого `p` `_Curr_`выражение (т.е. минус) является допустимое выражение. Элементы, `p` прежде чем должны быть действительны в предварительном состоянии.

- `_Out_writes_to_ptr_(p)`

     Указатель на массив, `p - _Curr_` для которого `p` `_Curr_`(т.е. минус) является допустимым выражением. Элементы, `p` прежде чем не должны быть действительными в предварительном состоянии и должны быть действительными в пост-состоянии.

- `_Out_writes_to_ptr_z_(p)`

     Указатель на нулевую возможность `p - _Curr_` массива, `p` для `_Curr_`которого (т.е. минус) является допустимое выражение. Элементы, `p` прежде чем не должны быть действительными в предварительном состоянии и должны быть действительными в пост-состоянии.

## <a name="optional-pointer-parameters"></a>Дополнительные параметры указателя

Когда аннотация параметра `_opt_`указателя включает в себя, это указывает на то, что параметр может быть нулевым. В противном случае аннотация ведет себя так же, `_opt_`как версия, которая не включает в себя. Вот список `_opt_` вариантов аннотаций параметра указателя:

||||
|-|-|-|
|`_In_opt_`<br /><br /> `_Out_opt_`<br /><br /> `_Inout_opt_`<br /><br /> `_In_opt_z_`<br /><br /> `_Inout_opt_z_`<br /><br /> `_In_reads_opt_`<br /><br /> `_In_reads_bytes_opt_`<br /><br /> `_In_reads_opt_z_`|`_Out_writes_opt_`<br /><br /> `_Out_writes_opt_z_`<br /><br /> `_Inout_updates_opt_`<br /><br /> `_Inout_updates_bytes_opt_`<br /><br /> `_Inout_updates_opt_z_`<br /><br /> `_Out_writes_to_opt_`<br /><br /> `_Out_writes_bytes_to_opt_`<br /><br /> `_Out_writes_all_opt_`<br /><br /> `_Out_writes_bytes_all_opt_`|`_Inout_updates_to_opt_`<br /><br /> `_Inout_updates_bytes_to_opt_`<br /><br /> `_Inout_updates_all_opt_`<br /><br /> `_Inout_updates_bytes_all_opt_`<br /><br /> `_In_reads_to_ptr_opt_`<br /><br /> `_In_reads_to_ptr_opt_z_`<br /><br /> `_Out_writes_to_ptr_opt_`<br /><br /> `_Out_writes_to_ptr_opt_z_`|

## <a name="output-pointer-parameters"></a>Параметры указателя вывода

Параметры указателя вывода требуют специальной обозначения для disambiguate nullness на параметре и указал к местоположению.

### <a name="annotations-and-descriptions"></a>Аннотации и описания

- `_Outptr_`

   Параметр не может быть нулевым, а в пост-состоянии местоположение заострение не может быть нулевым и должно быть действительным.

- `_Outptr_opt_`

   Параметр может быть нулевым, но в пост-состоянии заостренный к местоположению не может быть нулевым и должен быть действительным.

- `_Outptr_result_maybenull_`

   Параметр не может быть нулевым, а в пост-состоянии заостренный к местоположению может быть нулевым.

- `_Outptr_opt_result_maybenull_`

   Параметр может быть нулевым, а в пост-состоянии заостренный к местоположению может быть нулевым.

  В следующей таблице дополнительные подстроки вставляются в аннотационное имя для дальнейшего квалифицирования значения аннотации. `_z`Различные подстроки, `_COM_` `_buffer_`, `_bytebuffer_`, `_to_`и .

> [!IMPORTANT]
> Если интерфейс, который вы аннотируете, является COM, используйте форму COM этих аннотаций. Не используйте аннотации COM с любым другим интерфейсом типа.

- `_Outptr_result_z_`

   `_Outptr_opt_result_z_`

   `_Outptr_result_maybenull_z_`

   `_Outptr_opt_result_maybenull_z_`

   Возвращается указатель `_Null_terminated_` имеет аннотацию.

- `_COM_Outptr_`

   `_COM_Outptr_opt_`

   `_COM_Outptr_result_maybenull_`

   `_COM_Outptr_opt_result_maybenull_`

   Возвращенный указатель имеет семантику COM, и поэтому несет `_On_failure_` в себе пост-условие, что возвращенный указатель недействителен.

- `_Outptr_result_buffer_(s)`

   `_Outptr_result_bytebuffer_(s)`

   `_Outptr_opt_result_buffer_(s)`

   `_Outptr_opt_result_bytebuffer_(s)`

   Возвращенный указатель указывает на допустимый буфер элементов размера `s` или байтов.

- `_Outptr_result_buffer_to_(s, c)`

   `_Outptr_result_bytebuffer_to_(s, c)`

   `_Outptr_opt_result_buffer_to_(s,c)`

   `_Outptr_opt_result_bytebuffer_to_(s,c)`

   Возвращается указатель указывает на `s` буфер элементов размера или `c` байтов, из которых первый являются действительными.

Некоторые конвенции интерфейса предполагают, что параметры вывода аннулируются при сбое. За исключением явно гомокода, формы в следующей таблице являются предпочтительными. Для кода COM используйте соответствующие формы COM, перечисленные в предыдущем разделе.

- `_Result_nullonfailure_`

   Модифицирует другие аннотации. Результат устанавливается в результате сбоя функции.

- `_Result_zeroonfailure_`

   Модифицирует другие аннотации. Результат устанавливается до нуля, если функция выходит из строя.

- `_Outptr_result_nullonfailure_`

   Возвращается указатель указывает на допустимый буфер, если функция успешно, или свести на нет, если функция выходит из строя. Эта аннотация предназначена для необязательного параметра.

- `_Outptr_opt_result_nullonfailure_`

   Возвращается указатель указывает на допустимый буфер, если функция успешно, или свести на нет, если функция выходит из строя. Эта аннотация предназначена для дополнительного параметра.

- `_Outref_result_nullonfailure_`

   Возвращается указатель указывает на допустимый буфер, если функция успешно, или свести на нет, если функция выходит из строя. Эта аннотация предназначена для эталонного параметра.

## <a name="output-reference-parameters"></a>Параметры ссылки на выводы

Общее использование эталонного параметра для параметров вывода. Для простых параметров `int&`ссылки вывода, таких как , `_Out_` обеспечивает правильную семантику. Однако, когда значение вывода является `int *&`указателем, например, эквивалентные `_Outptr_ int **` аннотации указателя, как не обеспечивают правильную семантику. Чтобы кратко выразить семантику параметров ссылок вывода для типов указателей, используйте эти композитные аннотации:

### <a name="annotations-and-descriptions"></a>Аннотации и описания

- `_Outref_`

     Результат должен быть действителен в пост-состоянии и не может быть нулевым.

- `_Outref_result_maybenull_`

     Результат должен быть действителен в пост-государстве, но может быть нулевым в пост-состоянии.

- `_Outref_result_buffer_(s)`

     Результат должен быть действителен в пост-состоянии и не может быть нулевым. Указывает на допустимый буфер элементов размера. `s`

- `_Outref_result_bytebuffer_(s)`

     Результат должен быть действителен в пост-состоянии и не может быть нулевым. Указывает на допустимый буфер байтов размера. `s`

- `_Outref_result_buffer_to_(s, c)`

     Результат должен быть действителен в пост-состоянии и не может быть нулевым. Указывает на `s` буфер элементов, `c` из которых первые действительны.

- `_Outref_result_bytebuffer_to_(s, c)`

     Результат должен быть действителен в пост-состоянии и не может быть нулевым. Указывает на `s` буфер байтов, `c` из которых первые действительны.

- `_Outref_result_buffer_all_(s)`

     Результат должен быть действителен в пост-состоянии и не может быть нулевым. Указывает на действительный `s` буфер действительных элементов размера.

- `_Outref_result_bytebuffer_all_(s)`

     Результат должен быть действителен в пост-состоянии и не может быть нулевым. Указывает на действительный буфер байтов `s` действительных элементов.

- `_Outref_result_buffer_maybenull_(s)`

     Результат должен быть действителен в пост-государстве, но может быть нулевым в пост-состоянии. Указывает на допустимый буфер элементов размера. `s`

- `_Outref_result_bytebuffer_maybenull_(s)`

     Результат должен быть действителен в пост-государстве, но может быть нулевым в пост-состоянии. Указывает на допустимый буфер байтов размера. `s`

- `_Outref_result_buffer_to_maybenull_(s, c)`

     Результат должен быть действителен в пост-государстве, но может быть нулевым в пост-состоянии. Указывает на `s` буфер элементов, `c` из которых первые действительны.

- `_Outref_result_bytebuffer_to_maybenull_(s,c)`

     Результат должен быть действителен в пост-состоянии, но может быть нулевым в состоянии поста. Указывает на `s` буфер байтов, `c` из которых первые действительны.

- `_Outref_result_buffer_all_maybenull_(s)`

     Результат должен быть действителен в пост-состоянии, но может быть нулевым в состоянии поста. Указывает на действительный `s` буфер действительных элементов размера.

- `_Outref_result_bytebuffer_all_maybenull_(s)`

     Результат должен быть действителен в пост-состоянии, но может быть нулевым в состоянии поста. Указывает на действительный буфер байтов `s` действительных элементов.

## <a name="return-values"></a>Возвращаемые значения

Значение возврата функции напоминает `_Out_` параметр, но находится на другом уровне де-ссылки, и вам не нужно рассматривать понятие указателя на результат. Для следующих аннотаций значение возврата является аннотированным объектом – скалатором, указателем на структуру или указателем на буфер. Эти аннотации имеют ту же семантику, что и соответствующая `_Out_` аннотация.

|||
|-|-|
|`_Ret_z_`<br /><br /> `_Ret_writes_(s)`<br /><br /> `_Ret_writes_bytes_(s)`<br /><br /> `_Ret_writes_z_(s)`<br /><br /> `_Ret_writes_to_(s,c)`<br /><br /> `_Ret_writes_maybenull_(s)`<br /><br /> `_Ret_writes_to_maybenull_(s)`<br /><br /> `_Ret_writes_maybenull_z_(s)`|`_Ret_maybenull_`<br /><br /> `_Ret_maybenull_z_`<br /><br /> `_Ret_null_`<br /><br /> `_Ret_notnull_`<br /><br /> `_Ret_writes_bytes_to_`<br /><br /> `_Ret_writes_bytes_maybenull_`<br /><br /> `_Ret_writes_bytes_to_maybenull_`|

## <a name="format-string-parameters"></a>Параметры строки формата

- `_Printf_format_string_`Означает, что параметр является строкой `printf` формата для использования в выражении.

     **Пример**

    ```cpp
    int MyPrintF(_Printf_format_string_ const wchar_t* format, ...)
    {
           va_list args;
           va_start(args, format);
           int ret = vwprintf(format, args);
           va_end(args);
           return ret;
    }
    ```

- `_Scanf_format_string_`Означает, что параметр является строкой `scanf` формата для использования в выражении.

     **Пример**

    ```cpp
    int MyScanF(_Scanf_format_string_ const wchar_t* format, ...)
    {
           va_list args;
           va_start(args, format);
           int ret = vwscanf(format, args);
           va_end(args);
           return ret;
    }
    ```

- `_Scanf_s_format_string_`Означает, что параметр является строкой `scanf_s` формата для использования в выражении.

     **Пример**

    ```cpp
    int MyScanF_s(_Scanf_s_format_string_ const wchar_t* format, ...)
    {
           va_list args;
           va_start(args, format);
           int ret = vwscanf_s(format, args);
           va_end(args);
           return ret;
    }
    ```

## <a name="other-common-annotations"></a>Другие распространенные аннотации

### <a name="annotations-and-descriptions"></a>Аннотации и описания

- `_In_range_(low, hi)`

     `_Out_range_(low, hi)`

     `_Ret_range_(low, hi)`

     `_Deref_in_range_(low, hi)`

     `_Deref_out_range_(low, hi)`

     `_Deref_inout_range_(low, hi)`

     `_Field_range_(low, hi)`

     Параметр, поле или результат находится в диапазоне (включительно) от `low` `hi`. Эквивалент `_Satisfies_(_Curr_ >= low && _Curr_ <= hi)` нотированный объект применяется вместе с соответствующими условиями предварительного или постсостояния.

    > [!IMPORTANT]
    > Хотя имена содержат "в" и "вне", `_In_` `_Out_` семантика и **не** применяются к этим аннотациям.

- `_Pre_equal_to_(expr)`

     `_Post_equal_to_(expr)`

     Аннотированное значение точно `expr`. Эквивалент `_Satisfies_(_Curr_ == expr)` нотированный объект применяется вместе с соответствующими условиями предварительного или постсостояния.

- `_Struct_size_bytes_(size)`

     Применяется к декларированию структуры или класса. Указывается, что допустимый объект такого типа может быть больше заявленного `size`типа, при этом количество байтов дается . Пример:

     `typedef _Struct_size_bytes_(nSize) struct MyStruct {    size_t nSize;    ... };`

     Размер буфера в байтах `pM` `MyStruct *` параметра типа затем принимается как:

     `min(pM->nSize, sizeof(MyStruct))`

## <a name="related-resources"></a>Связанные ресурсы

[Код Анализ команды блог](https://blogs.msdn.microsoft.com/codeanalysis/)

## <a name="see-also"></a>См. также раздел

- [Использование аннотаций SAL для сокращения количества дефектов в коде C/C++](../code-quality/using-sal-annotations-to-reduce-c-cpp-code-defects.md)
- [Основные сведения о языке SAL](../code-quality/understanding-sal.md)
- [Аннотация поведения функций](../code-quality/annotating-function-behavior.md)
- [Аннотация структур и классов](../code-quality/annotating-structs-and-classes.md)
- [Аннотация поведения блокировки](../code-quality/annotating-locking-behavior.md)
- [Указание времени и места применения примечания](../code-quality/specifying-when-and-where-an-annotation-applies.md)
- [Встроенные функции](../code-quality/intrinsic-functions.md)
- [Рекомендации и примеры](../code-quality/best-practices-and-examples-sal.md)
