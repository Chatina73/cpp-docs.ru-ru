---
title: Объявления массивов
ms.date: 11/04/2016
helpviewer_keywords:
- multidimensional arrays
- declaring arrays
- arrays [C++], declaring
ms.assetid: 5f958b97-cef0-4058-bbc6-37c460aaed9b
ms.openlocfilehash: 4bc75e86601da77758490544cc5b02c485dcee46
ms.sourcegitcommit: f4be868c0d1d78e550fba105d4d3c993743a1f4b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/12/2019
ms.locfileid: "56147780"
---
# <a name="array-declarations"></a>Объявления массивов

"Объявление массива" именует массив и задает тип его элементов. Он также может определять число элементов в массиве. Переменная с типом массива считается указателем на тип элементов массива.

## <a name="syntax"></a>Синтаксис

*declaration*:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*declaration-specifiers* *init-declarator-list*<sub>opt</sub> **;**

*init-declarator-list*:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*init-declarator*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*init-declarator-list*  **,**  *init-declarator*

*init-declarator*:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*declarator*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*declarator* **=** *initializer*

*declarator*:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*pointer*<sub>opt</sub> *direct-declarator*

*direct-declarator*: /\* Декларатор функции \*/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*direct-declarator*  **[**  *constant-expression*<sub>opt</sub> **]**

Так как значение *constant-expression* является необязательным, этот синтаксис имеет две формы:

- Первая форма определяет переменную массива. Аргумент *constant-expression* в квадратных скобках задает число элементов в массиве. Аргумент *constant-expression* (при наличии) должен иметь целочисленный тип и значение больше нуля. Каждый элемент имеет тип, заданный с помощью *type-specifier*, который может быть любым типом, кроме `void`. Элемент массива не может являться типом функции.

- Вторая форма объявляет переменную, которая определена в другом месте. В этом типе пропущен аргумент *constant-expression* в квадратных скобках, но не сами скобки. Эту форму можно использовать, только если ранее массив был инициализирован, объявлен в качестве параметра или ссылки на массив, явно определенный в другом месте программы.

В обеих формах *direct-declarator* именует переменную и может изменить тип переменной. Квадратные скобки (**[ ]**) после *direct-declarator* изменяют декларатор на тип массива.

Квалификаторы типов могут появиться в объявлении объекта типа массивов, но квалификаторы применяются к элементам, а не самому массиву.

Можно объявить массив массивов (многомерный массив), поместив после декларатора массива список константных выражений в квадратных скобках в следующем виде:

> *type-specifier* *declarator* **[** *constant-expression* **]** **[** *constant-expression* **]** ...

Каждый аргумент *constant-expression* в квадратных скобках указывает число элементов в определенном измерении: двумерные массивы имеют два выражения в квадратных скобках, трехмерные массивы — три выражения и так далее. Можно опустить первое константное выражение, если ранее массив был инициализирован, объявлен в качестве параметра или ссылки на массив, явно определенный в другом месте программы.

Можно определить массивы указателей на различные типы объектов с помощью сложных деклараторов, как описано в разделе [Interpreting More Complex Declarators](../c-language/interpreting-more-complex-declarators.md) (Интерпретация более сложных деклараторов).

Массивы сохраняются по строкам. Например, следующий массив состоит из двух строк по три столбца каждая.

```C
char A[2][3];
```

Три столбца первой строки сохраняются первыми, за ними следуют три столбца второй строки. Это означает, что последний индекс меняется наиболее быстро.

Для обращения к одиночному элементу массива используется выражение индекса, как описано в разделе [Постфиксные операторы](../c-language/postfix-operators.md).

## <a name="examples"></a>Примеры

В следующих примерах показаны объявления массивов.

```C
float matrix[10][15];
```

Двумерный массив с именем `matrix` включает 150 элементов, каждый из которых относится к типу **float**.

```C
struct {
    float x, y;
} complex[100];
```

Это объявление массива структур. Этот массив содержит 100 элементов, каждый элемент — это структура, содержащая два члена.

```C
extern char *name[];
```

Эта инструкция объявляет тип и имя массива указателей на `char`. Фактическое определение `name` происходит в другом месте.

**Блок, относящийся только к системам Microsoft**

Тип целого числа, необходимый для удержания максимального размера массива, — это размер **size_t**. Определенный в файле заголовка STDDEF.H параметр **size_t** представляет собой `unsigned int` с диапазоном от 0x00000000 до 0x7CFFFFFF.

**Завершение блока, относящегося только к системам Майкрософт**

## <a name="see-also"></a>См. также

[Деклараторы и объявления переменных](../c-language/declarators-and-variable-declarations.md)
