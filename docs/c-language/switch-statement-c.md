---
title: switchОператор (C)
ms.date: 04/25/2020
f1_keywords:
- switch
helpviewer_keywords:
- switch keyword [C]
ms.assetid: fbede014-23bd-4ab1-8094-c8d9d9cb963a
no-loc:
- switch
- case
- default
- break
ms.openlocfilehash: 5858447602a28dcc5573aa3138e869d106b5aa23
ms.sourcegitcommit: 2f9ff2041d70c406df76c5053151192aad3937ea
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2020
ms.locfileid: "82587373"
---
# <a name="switch-statement-c"></a>`switch`Оператор (C)

Операторы __`switch`__ и __`case`__ помогают управлять сложными условными операциями и ветвлением. __`switch`__ Оператор передает управление оператору внутри его тела.

## <a name="syntax"></a>Синтаксис

> *`selection-statement`*:<br/>
> &nbsp;&nbsp;&nbsp;&nbsp; __`switch (`__&nbsp;*`expression`* &nbsp;__`)`__&nbsp;*`statement`*

> *`labeled-statement`*:<br/>
> &nbsp;&nbsp;&nbsp;&nbsp; __`case`__&nbsp;*`constant-expression`*&nbsp;__`:`__&nbsp;*`statement`*<br/>
> &nbsp;&nbsp;&nbsp;&nbsp; __`default`__&nbsp;__`:`__&nbsp;*`statement`*

## <a name="remarks"></a>Примечания

__`switch`__ Оператор заставляет элемент управления передавать его *`labeled-statement`* в тело оператора в зависимости от значения *`expression`*.

Значения и каждого *`expression`* из них *`constant-expression`* должны иметь целочисленный тип. Объект *`constant-expression`* должен иметь однозначное Постоянное целочисленное значение во время компиляции.

Управление передается **`case`** в инструкцию, значение которой *`constant-expression`* соответствует *`expression`* значению параметра. __`switch`__ Инструкция может включать любое количество __`case`__ экземпляров. Однако ни одно из *`constant-expression`* двух значений в одной __`switch`__ инструкции не может иметь одинаковое значение. Выполнение тела __`switch`__ оператора начинается с первого оператора в или после сопоставления *`labeled-statement`*. Выполнение продолжается до конца тела или до тех пор, пока __`break`__ оператор не передаст управление из тела.

Использование __`switch`__ оператора обычно выглядит примерно так:

```C
switch ( expression )
{
    // declarations
    // . . .
    case constant_expression:
        // statements executed if the expression equals the
        // value of this constant_expression
        break;
    default:
        // statements executed if expression does not equal
        // any case constant_expression
}
```

__`break`__ Оператор можно использовать для завершения обработки определенной помеченной инструкции в __`switch`__ операторе. Он подразделяется на конец __`switch`__ оператора. Без __`break`__ этого программа переходит к следующему оператору с меткой, выполняя операторы до тех __`break`__ пор, пока не будет достигнут конец оператора или. Это продолжение может быть предпочтительным в некоторых ситуациях.

Инструкция __`default`__ выполняется, если значение не __`case`__ *`constant-expression`* равно значению *`expression`*. Если инструкция не __`default`__ найдена и не __`case`__ найдено совпадений, то ни один из операторов в __`switch`__ теле не будет выполнен. Может существовать не более одного __`default`__ оператора. __`default`__ Оператор не обязательно должен находиться в конце. Он может находиться в любом месте текста __`switch`__ инструкции. Метка __`case`__ или __`default`__ может использоваться только внутри __`switch`__ оператора.

Тип __`switch`__ *`expression`* __`case`__ и *`constant-expression`* должен быть целочисленным. Значение каждого из них __`case`__ *`constant-expression`* должно быть уникальным в теле оператора.

Метки __`case`__ и __`default`__ тела __`switch`__ инструкции являются значимыми только в первоначальном тесте, который определяет, где начинается выполнение в теле оператора. __`switch`__ операторы могут быть вложенными. Все статические переменные инициализируются перед выполнением в __`switch`__ любых инструкциях.

> [!NOTE]
> Объявления могут находиться в заголовке составного оператора, формирующего __`switch`__ тело, но инициализации, содержащиеся в объявлениях, не выполняются. __`switch`__ Оператор передает управление непосредственно исполняемому оператору в теле, минуя строки, содержащие инициализации.

В следующих примерах показаны __`switch`__ инструкции:

```C
switch( c )
{
    case 'A':
        capital_a++;
    case 'a':
        letter_a++;
    default :
        total++;
}
```

__`switch`__ Все три оператора текста в этом примере выполняются `c` `'A'`, если равен, поскольку оператор не __`break`__ отображается перед следующим. __`case`__ Управления передается первому оператору (`capital_a++;`) и продолжается по-порядку во всей остальной части тела. Если переменная `c` равна `'a'`, увеличиваются значения переменных `letter_a` и `total`. Увеличивается `total` только в том случае `c` , если `'A'` не `'a'`равно или.

```C
switch( i )
{
    case -1:
        n++;
        break;
    case 0 :
        z++;
        break;
    case 1 :
        p++;
        break;
}
```

В этом примере __`break`__ оператор следует за каждым оператором __`switch`__ тела. __`break`__ Оператор принудительно выполняет выход из тела оператора после выполнения одной инструкции. Если переменная `i` равна –1, увеличивается только значение переменной `n`. __`break`__ Следующая инструкция `n++;` приводит к тому, что управление выполнением передается из тела инструкции, минуя оставшиеся инструкции. Аналогично, если переменная `i` равна 0, увеличивается только значение переменной `z`; если переменная `i` равна 1, увеличивается только значение переменной `p`. Последняя __`break`__ инструкция не является строго необходимой, так как управление передается из тела в конце составного оператора. Он включается для обеспечения согласованности.

Одна инструкция может содержать несколько __`case`__ меток, как показано в следующем примере:

```C
switch( c )
{
    case 'a' :
    case 'b' :
    case 'c' :
    case 'd' :
    case 'e' :
    case 'f' :  convert_hex(c);
}
```

В этом примере, если *константное выражение* равно любой букве в диапазоне от `'a'` до `'f'`, вызывается функция `convert_hex`.

### <a name="microsoft-specific"></a>Специально для систем Майкрософт

Microsoft C не ограничивает количество __`case`__ значений в __`switch`__ операторе. Это число ограничивается только объемом доступной памяти. ANSI C требует, __`case`__ __`switch`__ чтобы в инструкции было разрешено по крайней мере 257 меток.

default Для Microsoft C включено расширение Microsoft. Чтобы отключить эти расширения, используйте параметр компилятора [/Za](../build/reference/za-ze-disable-language-extensions.md) .

## <a name="see-also"></a>См. также раздел

[switchОператор (C++)](../cpp/switch-statement-cpp.md)
