---
title: Преобразования типов с плавающей запятой
ms.date: 10/02/2019
helpviewer_keywords:
- converting floating point
- floating-point conversion
ms.assetid: 96804c8e-fa3b-4742-9006-0082ed9e57f2
ms.openlocfilehash: c2f7c25015b36545f969796a1f85d355d715427a
ms.sourcegitcommit: c51b2c665849479fa995bc3323a22ebe79d9d7ce
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/07/2019
ms.locfileid: "71998713"
---
# <a name="conversions-from-floating-point-types"></a>Преобразования типов с плавающей запятой

Значение с плавающей запятой, которое преобразуется в другой тип с плавающей запятой, не изменяется в значении, если исходное значение представлено точно в типе результата. Если исходное значение является числовым, но отсутствует в точности, результатом будет либо следующее большее или следующее меньшее значение. См. раздел [ограничения констант с плавающей запятой](../c-language/limits-on-floating-point-constants.md) для диапазона типов с плавающей запятой.

Значение с плавающей запятой, которое преобразуется в целочисленный тип, сначала усекается путем удаления любого дробного значения. Если это усеченное значение может быть представлено в типе результата, результатом должно быть это значение. Если он недоступен для представления, результирующее значение не определено.

**Блок, относящийся только к системам Microsoft**

Компиляторы Майкрософт используют представление binary32 IEEE-754 для значений с **плавающей запятой** и представление binary64 для **длинных Double** и **double**. Поскольку **длинные Double** и **Double** используют одно и то же представление, они имеют одинаковый диапазон и точность.

Когда компилятор преобразует число **типа Double** или **Long** с плавающей запятой в **float**, оно округляет результат в соответствии с элементами управления среды с плавающей запятой, которые по умолчанию имеют значение "округлить до ближайшего числа, а также привязывается к четному". Если числовое значение слишком велико или слишком мало для представления в виде числового значения **float** , результат преобразования будет положительным или отрицательным бесконечностью в соответствии со знаком исходного значения, и возникает исключение переполнения, если оно включено.

При преобразовании в целочисленные типы результат преобразования в тип, меньший **Long** , является результатом преобразования значения в **Long**, а затем преобразования в тип результата.

Для преобразования в целочисленные типы по крайней мере до крупных типов преобразование значения, которое слишком велико или слишком мало для представления в типе **результата, может**вернуть любое из следующих значений:

- Результатом может быть *значение Sentinel*, которое представляет собой наиболее подходящие значения от нуля. Для подписанных типов это наименьшее представимое значение (0x800... 0). Для неподписанных типов это наибольшее значение, которое может быть представлено (0xFF... F).

- Результат может быть *насыщенным*, где значения, которые слишком высоки для представления, преобразуются в наиболее подходящие значения, а значения слишком низкие для представления преобразуются в наименьшее представимое значение. Одно из этих двух значений также используется в качестве значения Sentinel.

- Для преобразования в **длинные или** **беззнаковые**long в результате преобразования значений вне допустимого диапазона может быть некоторое значение, отличное от самого высокого или наименьшего значения. Является ли результат отметками или насыщенным значением или не зависит от параметров компилятора и целевой архитектуры. Будущие выпуски компилятора могут возвращать значение насыщенного или Sentinel.

**Завершение блока, относящегося только к системам Майкрософт**

В следующей таблице перечислены преобразования из типов с плавающей запятой.

## <a name="table-of-conversions-from-floating-point-types"></a>Таблица преобразований из типов с плавающей запятой

|Исходный тип|Кому|Метод|
|----------|--------|------------|
|**float**|**char**|Преобразование в значение **long**; преобразование значения **long** в **char**|
|**float**|**short**|Преобразование в значение **long**; преобразование значения **long** в **short**|
|**float**|**int**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **int**, результат не определен.|
|**float**|**long**|Усечение до десятичной запятой. Если результат слишком большой для представления в качестве значения **long**, результат не определен.|
|**float**|**long long**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **длинного**длинного, результат не определен.|
|**float**|**unsigned char**|Преобразовать в значение **Long**; Преобразование **Long** в **char без знака**|
|**float**|**unsigned short**|Преобразование в значение **long**; преобразование значения **long** в **unsigned short**|
|**float**|**unsigned**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **неподписанного**результата, результат не определен.|
|**float**|**unsigned long**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **беззнакового типа Long**, результат не определен.|
|**float**|**длинное целое без знака**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **беззнакового типа**Long, результат не определен.|
|**float**|**double**|Представлять как **Double**.|
|**float**|**long double**|Представляется как **длинное двойное**значение.|
|**double**|**char**|Преобразование в значение **float**; преобразование значения **float** в **char**|
|**double**|**short**|Преобразование в значение **float**; преобразование значения **float** в **short**|
|**double**|**int**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **int**, результат не определен.|
|**double**|**long**|Усечение до десятичной запятой. Если результат слишком большой для представления в качестве значения **long**, результат не определен.|
|**double**|**unsigned char**|Преобразовать в значение **Long**; Преобразование **Long** в **char без знака**|
|**double**|**unsigned short**|Преобразование в значение **long**; преобразование значения **long** в **unsigned short**|
|**double**|**unsigned**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **неподписанного**результата, результат не определен.|
|**double**|**unsigned long**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **беззнакового типа Long**, результат не определен.|
|**double**|**длинное целое без знака**|Усечение до десятичной запятой. Если результат слишком велик для представления в виде **беззнакового типа**Long, результат не определен.|
|**double**|**float**|Представление в качестве значения **float**. Если **Двойное** значение не может быть представлено точно так же, как **float**, происходит ошибка потери точности. Если значение слишком большое для представления в качестве значения **float**, результат не определен.|
|**double**|**long double**|Значение **long double** обрабатывается как **double**.|

Преобразования из **типа long double** следуют тому же методу, что и преобразования из **Double**.

## <a name="see-also"></a>См. также

[Преобразования назначений](../c-language/assignment-conversions.md)
