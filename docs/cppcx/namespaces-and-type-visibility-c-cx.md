---
title: Пространства имен и видимость типов (C++/CX)
ms.date: 12/30/2016
ms.assetid: cbc01a3a-3b69-4ded-9c42-ecbf0fd0a00e
ms.openlocfilehash: 78d5f5af761cef985ec43cf448251b4dc3c70bc2
ms.sourcegitcommit: ec6dd97ef3d10b44e0fedaa8e53f41696f49ac7b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/25/2020
ms.locfileid: "88837805"
---
# <a name="namespaces-and-type-visibility-ccx-"></a>Пространства имен и видимость типов (C++/CX)

Пространство имен — стандартная конструкция C++, которая предназначена для группирования типов, имеющих связанную функциональность, и для предотвращения конфликтов имен в библиотеках. Система типов среда выполнения Windows требует, чтобы все типы открытых среда выполнения Windows, включая их в собственном коде, были объявлены в пространстве имен в области видимости пространства имен. Объявление открытых типов в глобальной области видимости или вложенными в другой класс приведет к ошибке времени компиляции.

WINMD-файл должен иметь одно имя с корневым пространством имен. Например, экземпляр класса с именем A.B.C.MyClass может быть создан, только если он определен в файле метаданных с именем A.winmd, A.B.winmd или A.B.C.winmd. Имя исполняемого файла не обязательно должно соответствовать имени WINMD-файла.

## <a name="type-visibility"></a>Видимость типов

В пространстве имен среда выполнения Windows типы, в отличие от стандартных типов C++, имеют доступ как к частным, так и к открытым. По умолчанию типы являются закрытыми. Только открытые типы являются видимыми для метаданных и поэтому могут использоваться из приложений и компонентов, которые написаны на языках, отличных от C++. В общем случае правила для видимых типов являются более жесткими, чем правила для невидимых типов, поскольку видимые типы не могут предоставлять доступ к характерным для C++ возможностям, не поддерживаемым в языках .NET или JavaScript.

> [!NOTE]
> Метаданные используются языками .NET и JavaScript только во время выполнения. Когда приложение или компонент C++ взаимодействуют с другим приложением или компонентом C++ (включая компоненты Windows, написанные на C++), во время выполнения метаданные не требуются.

## <a name="member-accessibility-and-visibility"></a>Режим доступа и видимость членов

В закрытых ссылочных классах, интерфейсах или делегатах никакие члены не передаются в метаданные, даже если эти члены являются открытыми. В открытых ссылочных классах можно управлять видимостью членов в метаданных независимо от доступности этих членов в исходном коде. Как и в стандартном C++, здесь действует принцип минимальных полномочий; члены не следует делать видимыми в метаданных, если нет явной потребности в этом.

Используйте следующие модификаторы доступа для управления видимостью в метаданных и доступностью в исходном коде.

| Модификатор | Значение | Передается в метаданные? |
|--|--|--|
| **`private`** | Режим доступа по умолчанию. То же значение, что и в стандартном C++. | Нет |
| **`protected`** | То же значение, что и в стандартном C++, как в приложении или компоненте, так и в метаданных. | Да |
| **`public`** | То же значение, что и в стандартном C++. | Да |
| **`public protected`** ни **`protected public`** | Защищенный доступ в метаданных, открытый в приложении или компоненте. | Да |
| **`protected private`** или **`private protected`** | Невидим в метаданных; защищенный доступ в приложении или компоненте. |  |
| **`internal`** или **`private public`** | Член открыт в приложении или компоненте, но невидим в метаданных. | Нет |

## <a name="windows-runtime-namespaces"></a>Пространства имен среда выполнения Windows

Windows API состоит из типов, объявленных в \* пространствах имен Windows::. Эти пространства имен зарезервированы для Windows, и в них нельзя добавлять типы. В **Обозреватель объектов**можно просмотреть эти пространства имен в файле windows.winmd. Документацию по этим пространствам имен см. в разделе [API Windows](/uwp/api/).

## <a name="ccx-namespaces"></a>пространства имен C++/CX

C++/CX определяет определенные типы в этих пространствах имен как часть проекции системы типов среда выполнения Windows.

| Пространство имен | Описание |
|--|--|
| default | Содержит встроенные числовые типы и типы char16. Эти типы находятся в области действия в каждом пространстве имен, и **`using`** оператор не требуется. |
| `Platform` | Содержит в основном открытые типы, соответствующие типам Среда выполнения Windows, таким как `Array<T>` ,, `String` `Guid` и `Boolean` . Также включает специальные вспомогательные типы, такие как `Platform::Agile<T>` и `Platform::Box<T>`. |
| `Platform::Collections` | Содержит классы конкретных коллекций, реализующих интерфейсы коллекции среда выполнения Windows `IVector` , `IMap` и т. д. Эти типы определены в файле заголовка collection.h, а не в файле platform.winmd. |
| `Platform::Details` | Содержит типы, используемые компилятором; они не предназначены для общедоступного потребления. |

## <a name="see-also"></a>См. также раздел

[Система типов (C++/CX)](../cppcx/type-system-c-cx.md)
