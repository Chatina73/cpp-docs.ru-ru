---
title: Функции управления памятью
ms.date: 11/04/2016
helpviewer_keywords:
- memory management functions [Concurrency Runtime]
ms.assetid: d303dd2a-dfa4-4d90-a508-f6aa290bb9ea
ms.openlocfilehash: 9a7810267c3eaa11ad7592774440365620e7e8f4
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62413870"
---
# <a name="memory-management-functions"></a>Функции управления памятью

В этом документе описываются функции управления памятью, которые предоставляет среда выполнения с параллелизмом для выделения и освобождения памяти в параллельном режиме.

> [!TIP]
>  Среда выполнения с параллелизмом предоставляет планировщик по умолчанию, и таким образом не требуется создавать планировщик в приложении. Поскольку планировщик задач помогает оптимизировать производительность приложений, мы рекомендуем начать с [библиотеки параллельных шаблонов (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) или [Asynchronous Agents Library](../../parallel/concrt/asynchronous-agents-library.md) при наличии создать среду выполнения с параллелизмом.

Среда выполнения с параллелизмом предоставляет две функции управления памятью, оптимизированные для выделения и освобождения блоков памяти в параллельном режиме. [Concurrency::Alloc](reference/concurrency-namespace-functions.md#alloc) функция выделяет блок памяти с использованием заданного размера. [Concurrency::Free](reference/concurrency-namespace-functions.md#free) функция освобождает память, выделенную `Alloc`.

> [!NOTE]
>  `Alloc` И `Free` функции зависят от друг с другом. Используйте `Free` функция только для освобождения памяти, выделенной с помощью `Alloc` функции. Кроме того, при использовании `Alloc` функцию выделения памяти, используйте только `Free` функции для освобождения памяти.

Используйте `Alloc` и `Free` функции при выделении и освобождении фиксированных наборов выделяемых размеров из разных потоков или задач. Среда выполнения с параллелизмом кэширует память, выделенную из кучи среды выполнения C. Среда выполнения с параллелизмом содержит отдельный кэш памяти для каждого выполняемого потока; Таким образом среда выполнения управляет памятью без использования блокировки или барьеры памяти. Приложения преимущества больший доход от `Alloc` и `Free` функции, если часто используемые кэша в памяти. Например, поток, который часто вызывает оба `Alloc` и `Free` преимущества более чем поток, который в первую очередь вызывает `Alloc` или `Free`.

> [!NOTE]
>  При использовании этих функции управления памятью и приложение использует много памяти, приложение может ввести условие нехватки памяти быстрее, чем ожидалось. Поскольку блоки памяти, кэшируются одним потоком не доступны для любого другого потока, если один поток занимает значительный объем памяти, что память не доступна.

## <a name="example"></a>Пример

Пример, использующий `Alloc` и `Free` функции для повышения производительности памяти, см. в разделе [как: Использование функций Alloc и Free для повышения производительности памяти](../../parallel/concrt/how-to-use-alloc-and-free-to-improve-memory-performance.md).

## <a name="see-also"></a>См. также

[Планировщик задач](../../parallel/concrt/task-scheduler-concurrency-runtime.md)<br/>
[Практическое руководство. Использование функций Alloc и Free для повышения производительности операций с памятью](../../parallel/concrt/how-to-use-alloc-and-free-to-improve-memory-performance.md)
