---
description: 'Подробнее: E. поведение, определяемое реализацией, в OpenMP C/C++'
title: Д. Поведения, определяемые реализацией, в OpenMP C/C++
ms.date: 01/22/2019
ms.assetid: b8d660ca-9bb3-4b6b-87af-45c67d43a731
ms.openlocfilehash: e8ebc8a336578a888ff8a7152552d4381a9d5add
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97342482"
---
# <a name="e-implementation-defined-behaviors-in-openmp-cc"></a>Д. Поведения, определяемые реализацией, в OpenMP C/C++

В этом приложении перечислены поведения, описанные в этом API как «определенные реализацией».  Каждое поведение перекрестной ссылки возвращается к описанию в основной спецификации.

## <a name="remarks"></a>Комментарии

Реализация необходима для определения и документирования его поведения в таких случаях, но этот список может быть неполным.

- **Число потоков:** Если во время динамической корректировки количества потоков обнаружена параллельная область, а число потоков, запрошенных для параллельной области, превышает число, которое может предоставить система времени выполнения, то поведение программы определяется реализацией (см. стр. 9).

   В Visual C++ для невложенной параллельной области будет предоставлено 64 потоков (максимум).

- **Число процессоров:** Число физических процессоров, на которых фактически размещаются потоки в любой заданный момент времени, определяется реализацией (см. стр. 10).

   В Visual C++ это число не является постоянным и управляется операционной системой.

- **Создание команд потоков:** Число потоков в команде, выполняющих вложенную параллельную область, определяется реализацией (см. стр. 10).

   В Visual C++ это значение определяется операционной системой.

- **Расписание (среда выполнения):** Решение о планировании откладывается до времени выполнения. Тип расписания и размер фрагмента можно выбрать во время выполнения, задав `OMP_SCHEDULE` переменную среды. Если эта переменная среды не задана, результирующее расписание определяется реализацией (см. стр. 13).

   В Visual C++ тип расписания не имеет `static` размера блока.

- **Планирование по умолчанию:** При отсутствии предложения Schedule Расписание по умолчанию определяется реализацией (см. стр. 13).

   В Visual C++ тип расписания по умолчанию — без `static` размера блока.

- **Атомарная:** Реализация определяется в зависимости от того, заменяет ли реализация все `atomic` директивы `critical` директивами с одинаковым уникальным именем (см. стр. 20).

   В Visual C++, если данные, измененные [атомарными](reference/openmp-directives.md#atomic) , не имеют естественного выравнивания или если это один или два байта, все атомарные операции, которые соответствуют этому свойству, будут использовать один критический раздел. В противном случае критические разделы не будут использоваться.

- **[omp_get_num_threads](3-run-time-library-functions.md#312-omp_get_num_threads-function):** Если число потоков не было явно задано пользователем, значение по умолчанию определяется реализацией (см. стр. 9).

   В Visual C++ количество потоков по умолчанию равно числу процессоров.

- **[omp_set_dynamic](3-run-time-library-functions.md#317-omp_set_dynamic-function):** Значение по умолчанию для динамической настройки потока определяется реализацией.

   В Visual C++ значение по умолчанию — `FALSE` .

- **[omp_set_nested](3-run-time-library-functions.md#319-omp_set_nested-function):** Если включен вложенный параллелизм, то число потоков, используемых для выполнения вложенных параллельных регионов, определяется реализацией.

   В Visual C++ число потоков определяется операционной системой.

- [OMP_SCHEDULE](4-environment-variables.md#41-omp_schedule) переменная среды: значение по умолчанию для этой переменной среды определяется реализацией.

   В Visual C++ тип расписания не имеет `static` размера блока.

- [OMP_NUM_THREADS](4-environment-variables.md#42-omp_num_threads) переменная среды: Если для переменной среды не указано значение `OMP_NUM_THREADS` или если указанное значение не является положительным целым числом или если значение больше максимального числа потоков, поддерживаемых системой, число используемых потоков определяется реализацией.

   В Visual C++, если указанное значение равно нулю или меньше нуля, число потоков равно числу процессоров.  Если значение больше 64, число потоков равно 64.

- [OMP_DYNAMIC](4-environment-variables.md#43-omp_dynamic) переменная среды: значение по умолчанию определяется реализацией.

   В Visual C++ значение по умолчанию — `FALSE` .
