---
title: Оператор sizeof
ms.date: 11/04/2016
f1_keywords:
- sizeof_cpp
helpviewer_keywords:
- sizeof operator
ms.assetid: 8bc3b6fb-54a1-4eb7-ada0-05f8c5efc532
ms.openlocfilehash: bc1165cf1df3933575013906d1b24673467f0b36
ms.sourcegitcommit: 857fa6b530224fa6c18675138043aba9aa0619fb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/24/2020
ms.locfileid: "80178721"
---
# <a name="sizeof-operator"></a>Оператор sizeof

Возвращает размер операнда по отношению к размеру типа **char**.

> [!NOTE]
>  Дополнительные сведения об операторе `sizeof ...` см. в разделе [шаблоны Ellipse и Variadic](../cpp/ellipses-and-variadic-templates.md).

## <a name="syntax"></a>Синтаксис

```
sizeof unary-expression
sizeof  ( type-name )
```

## <a name="remarks"></a>Remarks

Результат оператора **sizeof** имеет тип `size_t`, целочисленный тип, определенный в включаемом файле \<STDDEF. h >. Этот оператор позволяет избежать задания зависимых от компьютера размера данных в программах.

Операнд для **sizeof** может быть одним из следующих:

- Имя типа. Чтобы использовать **sizeof** с именем типа, имя должно быть заключено в круглые скобки.

- Выражение. При использовании с выражением **sizeof** можно указать с круглыми скобками или без них. Значение выражения не вычисляется.

Если оператор **sizeof** применяется к объекту типа **char**, он возвращает 1. Когда оператор **sizeof** применяется к массиву, он возвращает общее число байтов в этом массиве, а не размер указателя, представленного идентификатором массива. Чтобы получить размер указателя, представленного идентификатором массива, передайте его в качестве параметра функции, использующей **sizeof**. Пример:

## <a name="example"></a>Пример

```cpp
#include <iostream>
using namespace std;

size_t getPtrSize( char *ptr )
{
   return sizeof( ptr );
}

int main()
{
   char szHello[] = "Hello, world!";

   cout  << "The size of a char is: "
         << sizeof( char )
         << "\nThe length of " << szHello << " is: "
         << sizeof szHello
         << "\nThe size of the pointer is "
         << getPtrSize( szHello ) << endl;
}
```

## <a name="sample-output"></a>Пример выходных данных

```Output
The size of a char is: 1
The length of Hello, world! is: 14
The size of the pointer is 4
```

Если оператор **sizeof** применяется к типу **класса**, **структуры**или **объединения** , результатом является число байтов в объекте этого типа, а также любое дополнение, добавленное для выровняйте члены по границам слов. Результат не обязательно должен соответствовать размеру, вычисляемому путем добавления требований к хранению отдельных членов. Параметр компилятора [/Zp](../build/reference/zp-struct-member-alignment.md) и директива pragma [Pack](../preprocessor/pack.md) влияют на границы выравнивания для элементов.

Оператор **sizeof** никогда не возвращает значение 0 даже для пустого класса.

Оператор **sizeof** не может использоваться со следующими операндами:

- функции. (Однако **sizeof** можно применить к указателям на функции.)

- Битовые поля.

- Неопределенные классы.

- Тип **void**.

- Динамически создаваемые массивы.

- Внешние массивы.

- Неполные типы.

- Заключенные в скобки имена неполных типов.

При применении оператора **sizeof** к ссылке результат будет таким же, как если бы оператор **sizeof** был применен к самому объекту.

Если неразмерный массив является последним элементом структуры, оператор **sizeof** возвращает размер структуры без массива.

Оператор **sizeof** часто используется для вычисления количества элементов в массиве с помощью выражения в форме:

```cpp
sizeof array / sizeof array[0]
```

## <a name="see-also"></a>См. также раздел

[Выражения с унарными операторами](../cpp/expressions-with-unary-operators.md)<br/>
[Ключевые слова](../cpp/keywords-cpp.md)
