---
title: Оператор sizeof
ms.date: 11/04/2016
f1_keywords:
- sizeof_cpp
helpviewer_keywords:
- sizeof operator
ms.assetid: 8bc3b6fb-54a1-4eb7-ada0-05f8c5efc532
ms.openlocfilehash: c9ae581b1b3bea522f2c1557b8be44ee1f32eef1
ms.sourcegitcommit: 89d9e1cb08fa872483d1cde98bc2a7c870e505e9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2020
ms.locfileid: "82032295"
---
# <a name="sizeof-operator"></a>Оператор sizeof

Урожайность размером своей оперы по отношению к размеру типа **char.**

> [!NOTE]
> Для получения `sizeof ...` информации об операторе, см [Ellipsis и вариативные шаблоны](../cpp/ellipses-and-variadic-templates.md).

## <a name="syntax"></a>Синтаксис

```
sizeof unary-expression
sizeof  ( type-name )
```

## <a name="remarks"></a>Remarks

Результат **sizeof** оператор типа, `size_t`интегральный тип, определенный \<в включают файл stddef.h>. Этот оператор позволяет избежать задания зависимых от компьютера размера данных в программах.

Операнд до **sizeof** может быть одним из следующих:

- Имя типа. Чтобы использовать **sizeof** с именем типа, имя должно быть заключено в скобки.

- Выражение. При использовании с выражением, **размер** может быть указан с или без скобки. Значение выражения не вычисляется.

Когда **оператор sizeof** применяется к объекту **символа**типа, он дает 1. Когда **оператор sizeof** применяется к массиву, он дает общее количество байтов в этом массиве, а не размер указателя, представленного идентификатором массива. Чтобы получить размер указателя, представленного идентификатором массива, передайте его в качестве параметра функции, **использующей sizeof.** Пример:

## <a name="example"></a>Пример

```cpp
#include <iostream>
using namespace std;

size_t getPtrSize( char *ptr )
{
   return sizeof( ptr );
}

int main()
{
   char szHello[] = "Hello, world!";

   cout  << "The size of a char is: "
         << sizeof( char )
         << "\nThe length of " << szHello << " is: "
         << sizeof szHello
         << "\nThe size of the pointer is "
         << getPtrSize( szHello ) << endl;
}
```

## <a name="sample-output"></a>Пример выходных данных

```Output
The size of a char is: 1
The length of Hello, world! is: 14
The size of the pointer is 4
```

Когда **оператор sizeof** применяется к **классу,** **структурированию**или типу **соединения,** результатом является количество байтов в объекте этого типа, плюс любая обивка, добавленная для выравнивания участников на границах слов. Результат не обязательно должен соответствовать размеру, вычисляемому путем добавления требований к хранению отдельных членов. Опция компилятора [/P](../build/reference/zp-struct-member-alignment.md) и прагма [пакета](../preprocessor/pack.md) влияют на границы выравнивания для участников.

**Оператор sizeof** никогда не дает 0, даже для пустого класса.

Оператор **sizeof** не может быть использован со следующими операндами:

- функции. (Однако **размер** может быть применен к указателям на функции.)

- Битовые поля.

- Неопределенные классы.

- Тип **пустоты**.

- Динамически создаваемые массивы.

- Внешние массивы.

- Неполные типы.

- Заключенные в скобки имена неполных типов.

Когда **размер** оператора применяется к ссылке, результат такой же, как если бы **размер** был применен к самому объекту.

Если негабаритный массив является последним элементом структуры, **то оператор sizeof** возвращает размер структуры без массива.

Оператор **sizeof** часто используется для расчета количества элементов в массиве с помощью выражения формы:

```cpp
sizeof array / sizeof array[0]
```

## <a name="see-also"></a>См. также раздел

[Выражения с унарными операторами](../cpp/expressions-with-unary-operators.md)<br/>
[Keywords](../cpp/keywords-cpp.md)
