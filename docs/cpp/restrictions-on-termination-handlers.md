---
title: Ограничения обработчиков завершения
description: Ограничения для обработчиков завершения обработки структурированных исключений.
ms.date: 08/24/2020
helpviewer_keywords:
- termination handlers [C++], limitations
- restrictions, termination handlers
- try-catch keyword [C++], termination handlers
ms.assetid: 8b1cb481-303f-4e79-b409-57a002a9fa9e
ms.openlocfilehash: 60fdb4c2a105f2fce4a32f475563a04f8e7bfaf9
ms.sourcegitcommit: efc8c32205c9d610f40597556273a64306dec15d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/26/2020
ms.locfileid: "88898263"
---
# <a name="restrictions-on-termination-handlers"></a>Ограничения обработчиков завершения

Нельзя использовать **`goto`** инструкцию для перехода в **`__try`** блок операторов или **`__finally`** блок операторов. Входить в этот блок необходимо только через обычный поток управления. (Однако можно перейти к **`__try`** блоку операторов.) Кроме того, нельзя вложить обработчик исключений или обработчик завершения внутри **`__finally`** блока.

Некоторые виды кода, разрешенные в обработчике завершения, позволяют получить сомнительные результаты, поэтому следует использовать их с осторожностью, если вообще. Один из них — **`goto`** оператор, который выполняет переход из **`__finally`** блока операторов. Если блок выполняется как часть нормального завершения работы, ничего необычного не происходит. Но если система перематывает стек, то эта очистка останавливается. Затем текущая функция получает управление как при отсутствии аномального завершения.

**`return`** Оператор в **`__finally`** блоке операторов представляет примерно такую же ситуацию. Управление возвращается непосредственно вызывающему объекту функции, содержащей обработчик завершения. Если система перематывает стек, этот процесс прерывается. Затем программа будет работать так, как будто исключения не возникали.

## <a name="see-also"></a>См. также

[Написание обработчика завершения](../cpp/writing-a-termination-handler.md)<br/>
[Structured Exception Handling (C/C++)](../cpp/structured-exception-handling-c-cpp.md)
