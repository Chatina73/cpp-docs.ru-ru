---
title: Типы анонимных классов
ms.date: 11/04/2016
helpviewer_keywords:
- class types [C++], anonymous
- anonymous class types
ms.assetid: 9ba667b2-8c2a-4c29-82a6-fa120b9233c8
ms.openlocfilehash: 611c1ed9853fc7e6e0788a7276890b14ec84a523
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81373340"
---
# <a name="anonymous-class-types"></a>Типы анонимных классов

Классы могут быть анонимными – то есть они могут быть объявлены без *идентификатора.* Это полезно при замене имени класса на имя **typedef,** как и в следующем:

```cpp
typedef struct
{
    unsigned x;
    unsigned y;
} POINT;
```

> [!NOTE]
> Использование анонимных классов, показанное в предыдущем примере, полезно для поддержки совместимости с существующими кодом C. В некоторых C-коде широко распространено использование **typedef** в сочетании с анонимными структурами.

Анонимные классы также полезны, если требуется, чтобы ссылка на член класса отображалась так, как если бы она не содержалась в отдельном классе, как показано в следующем примере.

```cpp
struct PTValue
{
    POINT ptLoc;
    union
    {
        int  iValue;
        long lValue;
    };
};

PTValue ptv;
```

В предыдущем коде `iValue` можно получить доступ с помощью оператора по выбору членов объекта **(.**) следующим образом:

```cpp
int i = ptv.iValue;
```

Анонимные классы имеют некоторые ограничения. (Для получения дополнительной информации об анонимных профсоюзах [см. Профсоюзы.)](../cpp/unions.md) Анонимные занятия:

- Не могут иметь конструктор или деструктор.

- Не могут быть переданы в качестве аргументов в функции (если проверка типов не отменена с помощью многоточия).

- Не могут быть возвращены в качестве возвращаемых значений из функций.

## <a name="anonymous-structs"></a>Анонимные структуры

**Microsoft Специфический**

Расширение Microsoft C позволяет объявить переменную структуры в другой структуре без указания ее имени. Эти вложенные структуры называются анонимными структурами. В C++ анонимные структуры не допускаются.

Можно получить доступ к членам анонимной структуры, как если бы они были членами содержащей их структуры.

```cpp
// anonymous_structures.c
#include <stdio.h>

struct phone
{
    int  areacode;
    long number;
};

struct person
{
    char   name[30];
    char   gender;
    int    age;
    int    weight;
    struct phone;    // Anonymous structure; no name needed
} Jim;

int main()
{
    Jim.number = 1234567;
    printf_s("%d\n", Jim.number);
}
//Output: 1234567
```

**END Microsoft Специфический**
