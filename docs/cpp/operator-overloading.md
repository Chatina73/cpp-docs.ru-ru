---
title: Перегрузка операторов
ms.date: 11/04/2016
f1_keywords:
- operator_cpp
- operator
helpviewer_keywords:
- redefinable operators [C++]
- non-redefinable operators [C++]
- operator keyword [C++]
- operators [C++], overloading
- operator overloading
ms.assetid: 56ad4c4f-dd0c-45e0-adaa-08fe98cb1f8e
ms.openlocfilehash: d6a294af3ea7ef6085eae0f7069ea2d1fdbb30e4
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50621745"
---
# <a name="operator-overloading"></a>Перегрузка операторов

**Оператор** ключевое слово объявляет функцию, которая указывает, что *символ оператора* означает, что при применении к экземпляру класса. Это дает оператору более одного значения — "перегружает" его. Компилятор различает разные значения оператора, проверяя типы его операндов.

## <a name="syntax"></a>Синтаксис

> *Тип* **оператор** *символ оператора* **(** *список параметров* **)**

## <a name="remarks"></a>Примечания

Функцию большинства встроенных операторов можно переопределить глобально или для отдельных классов. Перегруженные операторы реализуются в виде функции.

Называется перегруженного оператора **оператор** *x*, где *x* — это оператор, как оно указано в следующей таблице. Например, для перегрузки оператора сложения, следует определить функцию с именем **оператор +**. Аналогичным образом, для перегрузки оператора сложения и присваивания, **+=**, определить функцию с именем **оператор +=**.

### <a name="redefinable-operators"></a>Переопределяемые операторы

|Оператор|Имя|Тип|
|--------------|----------|----------|
|**,**|Comma|Binary|
|**\!**|Логическое НЕ|Унарный|
|**\!=**|Неравенство|Binary|
|**%**|Модуль|Binary|
|**%=**|Назначение модуля|Binary|
|**&**|Побитовое И|Binary|
|**&**|Взятие адреса|Унарный|
|**&&**|Логическое И|Binary|
|**&=**|Назначение побитового И|Binary|
|**( )**|Вызов функции |—|
|**( )**|Оператор приведения типа|Унарный|
|**&#42;**|Умножение|Binary|
|**&#42;**|Разыменование указателя|Унарный|
|**&#42;=**|Присваивание умножения|Binary|
|**+**|Сложение|Binary|
|**+**|Унарный плюс|Унарный|
|**++**|Приращение <sup>1</sup>|Унарный|
|**+=**|Присваивание сложения|Binary|
|**-**|Вычитание|Binary|
|**-**|Унарное отрицание|Унарный|
|**--**|Уменьшение <sup>1</sup>|Унарный|
|**-=**|Присваивание вычитания|Binary|
|**->**|Выбор члена|Binary|
|**"->"&#42;**|Выбор указателя на член|Binary|
|**/**|Деление|Binary|
|**/=**|Присваивание деления|Binary|
|**\<**|Меньше|Binary|
|**<<**|Сдвиг влево|Binary|
|**<<=**|Сдвиг влево и присваивание|Binary|
|**<=**|Меньше или равно|Binary|
|**=**|Присваивание|Binary|
|**==**|Равенство|Binary|
|**>**|Больше|Binary|
|**>=**|Больше или равно|Binary|
|**>>**|Сдвиг вправо|Binary|
|**>>=**|Сдвиг вправо и присваивание|Binary|
|**[ ]**|Нижний индекс массива|—|
|**^**|Исключающее ИЛИ|Binary|
|**^=**|Исключающее ИЛИ/присваивание|Binary|
|**&#124;**|Побитовое включающее ИЛИ|Binary|
|**&#124;=**|Назначение побитового включающего ИЛИ|Binary|
|**&#124;&#124;**|Логическое ИЛИ|Binary|
|**~**|Дополнение до единицы|Унарный|
|**delete**|Удаление|—|
|**new**|Новый|—|
|операторы преобразования|операторы преобразования|Унарный|

<sup>1</sup> две версии унарных увеличения и существует операторы декремента: префиксная и постфиксная.

См. в разделе [общие правила перегрузки операторов](../cpp/general-rules-for-operator-overloading.md) Дополнительные сведения. Ограничения для разных категорий перегруженных операторов описываются в следующих разделах.

- [Унарные операторы](../cpp/overloading-unary-operators.md)

- [Бинарные операторы](../cpp/binary-operators.md)

- [Назначение](../cpp/assignment.md)

- [Вызов функции](../cpp/function-call-cpp.md)

- [Индексация](../cpp/subscripting.md)

- [Доступ к членам класса](../cpp/member-access.md)

- [Увеличение и уменьшение](../cpp/increment-and-decrement-operator-overloading-cpp.md).

- [Пользовательские преобразования типов](../cpp/user-defined-type-conversions-cpp.md)

Операторы, перечисленные в следующей таблице, не могут быть перегружены. В таблице содержатся символы препроцессора **#** и **##**.

### <a name="nonredefinable-operators"></a>Непереопределяемые операторы

|Оператор|name|
|-|-|
|**.**|Выбор члена|
|**.&#42;**|Выбор указателя на член|
|**::**|Разрешение области|
|**? :**|Условие|
|**#**|Препроцессор: преобразование в строку|
|**##**|Препроцессор: конкатенация|

Хотя перегруженные операторы обычно называются компилятором неявным образом при их появлении в коде, их можно вызывать и явным образом — точно так же, как и любую функцию-член или функцию, не являющуюся членом.

```cpp
Point pt;
pt.operator+( 3 );  // Call addition operator to add 3 to pt.
```

## <a name="example"></a>Пример

Следующий пример перегрузок **+** оператор, чтобы добавить два комплексных числа и возвращает результат.

```cpp
// operator_overloading.cpp
// compile with: /EHsc
#include <iostream>
using namespace std;

struct Complex {
   Complex( double r, double i ) : re(r), im(i) {}
   Complex operator+( Complex &other );
   void Display( ) {   cout << re << ", " << im << endl; }
private:
   double re, im;
};

// Operator overloaded using a member function
Complex Complex::operator+( Complex &other ) {
   return Complex( re + other.re, im + other.im );
}

int main() {
   Complex a = Complex( 1.2, 3.4 );
   Complex b = Complex( 5.6, 7.8 );
   Complex c = Complex( 0.0, 0.0 );

   c = a + b;
   c.Display();
}
```

```Output
6.8, 11.2
```

## <a name="in-this-section"></a>Содержание раздела

- [Общие правила перегрузки операторов](../cpp/general-rules-for-operator-overloading.md)

- [Перегрузка унарных операторов](../cpp/overloading-unary-operators.md)

- [Бинарные операторы](../cpp/binary-operators.md)

- [Назначение](../cpp/assignment.md)

- [Вызов функции](../cpp/function-call-cpp.md)

- [Индексация](../cpp/subscripting.md)

- [Доступ к членам](../cpp/member-access.md)

## <a name="see-also"></a>См. также

[Встроенные операторы C++, приоритет и ассоциативность](../cpp/cpp-built-in-operators-precedence-and-associativity.md)<br/>
[Ключевые слова](../cpp/keywords-cpp.md)