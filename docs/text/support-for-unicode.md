---
title: Поддержка Юникода
ms.date: 01/09/2018
helpviewer_keywords:
- globalization [C++], character sets
- portable data types [MFC]
- Unicode [C++]
- wide characters [C++], about wide characters
- character sets [C++], Unicode
- localization [C++], character sets
- Unicode [C++], installing support
ms.openlocfilehash: 90c07874b61656a8bec0f9ef373f2ee8f339e994
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87215378"
---
# <a name="support-for-unicode"></a>Поддержка Юникода

Юникод — это спецификация для поддержки всех наборов символов, включая те, которые не могут быть представлены в одном байте.  При программировании на международном рынке рекомендуется использовать либо Юникод, либо [многобайтовую](../text/support-for-multibyte-character-sets-mbcss.md) кодировку (MBCS). Или постройте программу, чтобы ее можно было создать путем изменения параметра.

Расширенный символ — это двухбайтовый многоязыковой код символа. Десятки тысяч символов, включающие почти все символы, используемые в современных вычислениях во всем мире, включая технические символы и специальные символы публикации, могут быть представлены в соответствии со спецификацией Юникода в виде одного расширенного символа, закодированного с помощью UTF-16. Символы, которые не могут быть представлены только в одном расширенном символе, можно представить в паре Юникода с помощью суррогатной пары Юникода. Поскольку почти каждый символ в общем использовании представлен в кодировке UTF-16 в одном 16-разрядном расширенном символе, использование расширенных символов упрощает программирование с использованием международных наборов символов. Широкие символы, закодированные с помощью UTF-16LE (для прямого порядка байтов), являются собственными символьными форматами для Windows.

Строка расширенных символов представляется как массив `wchar_t[]`, и на нее указывает указатель `wchar_t*`. Любой символ ASCII может быть представлен как расширенный символ путем добавления к нему префикса "L". Например, "L'\0'" является шестнадцатибитным расширенным символом для значения NULL. Подобным образом все строковые литералы, составленные из символов ASCII, могут быть представлены как строковые литералы из расширенных символов путем добавления к литералу ASCII префикса "L" (L"Hello").

Как правило, расширенные символы занимают больше памяти, чем многобайтовые символы, однако они обрабатываются быстрее. Кроме того, в многобайтовой кодировке может быть представлен только один языковой стандарт, в то время как все наборы символов в мире представлены одновременно в представлении Юникода.

Поддержка Юникода обеспечивается для всех компонентов платформы MFC. MFC обеспечивает поддержку Юникода с помощью переносимых макросов, как показано в следующей таблице.

## <a name="portable-data-types-in-mfc"></a>Типы переносимых данных в MFC

|Непереносимый тип данных|Макрос, которым он заменяется|
|-----------------------------|----------------------------|
|**`char`**, **`wchar_t`**|`_TCHAR`|
|**`char*`**, `LPSTR` (Тип данных Win32),`LPWSTR`|`LPTSTR`|
|`const char*`, `LPCSTR` (Тип данных Win32),`LPCWSTR`|`LPCTSTR`|

Класс `CString` использует `_TCHAR` в качестве базового и предоставляет конструкторы и операторы для простоты преобразований. Большинство операций со строками Юникода может быть написано с помощью средств, которые используются для обработки кодировки Windows ANSI. Единственным отличием является то, что основной единицей операции является шестнадцатибитный символ, а не восьмибитный. В отличие от многобайтовых кодировок нет необходимости (и не следует) обрабатывать символы Юникода как два отдельных байта. Однако необходимо иметь дело с возможностью использования одного символа, представленного суррогатной парой расширенных символов. Как правило, не следует писать код, который предполагает, что длина строки совпадает с количеством символов, будь то узкие или широкие, которые она содержит.

## <a name="what-do-you-want-to-do"></a>Выбор действия

- [Использовать Юникод и поддержку многобайтовой кодировки (MBCS) в MFC](../atl-mfc-shared/unicode-and-multibyte-character-set-mbcs-support.md)

- [Использование Юникода в программе](../text/international-enabling.md)

- [Одновременное использование Юникода и многобайтовых кодировок в программе](../text/internationalization-strategies.md)

- [Использование Юникода для создания многоязыковых программ](../text/unicode-programming-summary.md)

- [Узнайте о преимуществах Юникода](../text/benefits-of-character-set-portability.md)

- [Использование wmain для передачи аргументов, содержащих расширенные символы, в программу](../text/support-for-using-wmain.md)

- [Сводная информация о программировании с использованием Юникода](../text/unicode-programming-summary.md)

- [Сведения о переносимости обычного текста в байтовый формат](../text/generic-text-mappings-in-tchar-h.md)

## <a name="see-also"></a>См. также раздел

[Текст и строки](../text/text-and-strings-in-visual-cpp.md)<br/>
[Поддержка использования wmain](../text/support-for-using-wmain.md)
