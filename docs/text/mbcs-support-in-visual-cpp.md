---
title: Поддержка многобайтовой кодировки MBCS в Visual C++
ms.date: 11/04/2016
f1_keywords:
- _mbcs
helpviewer_keywords:
- tools [C++], MBCS support
- Asian languages [C++]
- Code Editor [C++], MBCS support
- IME [C++]
- Chinese characters [C++]
- Input Method Editor [C++], MBCS
- resource editors [C++], MBCS support
- debugger [C++], MBCS support
- character sets [C++], multibyte
- Japanese characters [C++]
- multibyte characters [C++]
- Kanji character support [C++]
- NMAKE program, MBCS support
- double-byte character sets [C++]
- IME [C++], MBCS
- Input Method Editor [C++]
- MBCS [C++], enabling
ms.assetid: 6179f6b7-bc61-4a48-9267-fb7951223e38
ms.openlocfilehash: b292bb12888ce0c08f96d3c46e27297f61bc428d
ms.sourcegitcommit: dedd4c3cb28adec3793329018b9163ffddf890a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/11/2019
ms.locfileid: "57750498"
---
# <a name="mbcs-support-in-visual-c"></a>Поддержка многобайтовой кодировки MBCS в Visual C++

При запуске на многобайтовую версию Windows, системы разработки Visual C++ (включая средства редактора, отладчик и командной строки интеграции исходного кода), многобайтовую, за исключением окна "память".

Окна "память" не распознает байтов данных, как символы в многобайтовой Кодировке, несмотря на то, что он может интерпретировать их как символы ANSI или Юникода. ANSI символы всегда имеют размер 1 байт и символы Юникода — 2 байта. С многобайтовой Кодировкой символы могут быть 1 или 2 байта в размере и их интерпретация зависит от того, какая кодовая страница уже используется. По этой причине трудно для окна "память", чтобы надежно отобразить символы в многобайтовой Кодировке. Окна "память" не может знать, какой байт является началом символа. Разработчик может просмотреть байтовых значений в окне памяти и искать значения в таблицы, чтобы определить представление символа. Это возможно потому, что разработчик знает начальный адрес строки на основе исходного кода.

Visual C++ принимает двухбайтовые символы, везде, где это возможно. Сюда входят имена пути и имена файлов в диалоговых окнах и записей текста в редакторе ресурсов Visual C++ (например, статический текст в редакторе диалоговых окон) и записи статический текст в редактор значков. Кроме того, препроцессор распознает некоторые двухбайтовые директивы — например, имена файлов, в `#include` инструкций и в качестве аргументов `code_seg` и `data_seg` директивы pragma. В редакторе исходного кода принимаются двухбайтовые символы в комментариях и строковые литералы, хотя и не в элементы языка C/C++ (например, имена переменных).

##  <a name="_core_support_for_the_input_method_editor_.28.ime.29"></a> Поддержка для редактора метода ввода (IME)

Приложения, написанные для восточно-азиатских рынков, обычно используют многобайтовую Кодировку (например, Японии) поддерживает Windows IME для ввода обоих одним - и двухбайтовых символов. Среда разработки Visual C++ содержит полную поддержку IME.

На японских клавиатурах напрямую не поддерживают символы кандзи и символы. Редактор IME переводит фонетические строки, введенные в одном из других японских алфавитов (ромадзи катакана и хирагана) в его способы представления кандзи. Если неоднозначность, можно выбрать из нескольких вариантов. При выборе символа алфавита Кандзи, редактор IME передает два `WM_CHAR` сообщений управляющее приложение.

Редактор метода ввода, активируемые ALT +\` сочетание клавиш, отображается как набор кнопок (индикатора) и окна перехода. Приложение размещает окно в точку вставки текста. Приложение должно обрабатывать `WM_MOVE` и `WM_SIZE` сообщения по окно переходов в соответствии с новым расположением или размера целевого окна.

Если необходимо, чтобы пользователи приложения, чтобы иметь возможность вводить символы кандзи, приложение должно обрабатывать сообщения Windows IME. Дополнительные сведения о программировании IME см. в разделе [диспетчера методов ввода](/windows/desktop/intl/input-method-manager).

## <a name="visual-c-debugger"></a>Отладчик Visual C++

Отладчик Visual C++ предоставляет возможность установки точек останова на сообщений IME. Кроме того в окне памяти могут отображаться двухбайтовые символы.

## <a name="command-line-tools"></a>Программы командной строки

Средства командной строки Visual C++, включая компилятор NMAKE и компилятор ресурсов (RC. EXE-файла), с поддержкой многобайтовой Кодировки. /C-параметр компилятора ресурсов можно использовать для изменения кодовой страницей по умолчанию при компиляции ресурсов приложения.

Чтобы изменить язык по умолчанию во время компиляции исходного кода, используйте [#pragma setlocale](../preprocessor/setlocale.md).

## <a name="graphical-tools"></a>Графические средства

Средства Windows Visual C++, такие как Spy ++ и редактирование ресурсов, полностью поддерживать IME строк.

## <a name="see-also"></a>См. также

[Поддержка многобайтовых кодировок](../text/support-for-multibyte-character-sets-mbcss.md)<br/>
[Советы по программированию многобайтовой кодировки](../text/mbcs-programming-tips.md)
