---
title: Использование на международном уровне
ms.date: 11/04/2016
helpviewer_keywords:
- globalization [C++], character sets
- strings [C++], international enabling
- localization [C++], character sets
- MBCS [C++], enabling
- Unicode [C++], enabling
ms.assetid: b077f4ca-5865-40ef-a46e-d9e4d686ef21
ms.openlocfilehash: b6c645bafef87ed0b2d43903f4752ef659d79f89
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81375807"
---
# <a name="international-enabling"></a>Использование на международном уровне

Большинство традиционных кодов C и C, делает предположения о характере и манипуляции строки, которые не работают хорошо для международных приложений. В то время как MFC и библиотека времени выполнения поддерживают Unicode или MBCS, вам еще предстоит поработать. Для руководства вами, этот раздел объясняет значение "международного включения" в Visual C

- Как Unicode, так и MBCS включены с помощью портативных типов данных в списках параметров функций MFC и типах возврата. Эти типы условно определяются соответствующим образом, в зависимости от `_UNICODE` того, `_MBCS` определяет ли сборка символ или символ (что означает DBCS). Различные варианты библиотек MFC автоматически связаны с вашим приложением, в зависимости от того, какой из этих двух символов определяет ваша сборка.

- Классный библиотечный код использует портативные функции времени выполнения и другие средства для обеспечения правильного поведения Unicode или MBCS.

- В коде по-прежнему необходимо выполнять определенные задачи интернационализации:

  - Используйте те же портативные функции времени выполнения, которые делают MFC портативным в любой среде.

  - Сделайте буквальные строки и символы портативными в любой среде, `_T` используя макрос. Для получения дополнительной информации [см.](../text/generic-text-mappings-in-tchar-h.md)

  - Примите меры предосторожности при разборе строк под MBCS. Эти меры предосторожности не нужны в соответствии с Unicode. Для получения дополнительной информации, см [MBCS Программирование Советы](../text/mbcs-programming-tips.md).

  - Будьте осторожны, если вы смешиваете в приложении символы ANSI (8-битный) и Unicode (16 бит). В некоторых частях программы можно использовать символы ANSI, а в других — в Unicode, но вы не можете смешивать их в одной строке.

  - Не закавыруйте строки жесткого кода в приложении. Вместо этого сделайте их ресурсами STRINGTABLE, добавив их в файл .rc приложения. Приложение может быть локализовано без необходимости изменений исходного кода или перекомпиляции. Для получения дополнительной информации [String Editor](../windows/string-editor.md)о ресурсах STRINGTABLE см.

> [!NOTE]
> Европейские и MBCS наборы символов имеют некоторые символы, такие как акцентированные буквы, с кодами символов больше, чем 0x80. Поскольку большинство кодов использует подписанные символы, эти символы больше, чем 0x80, продлеваются при преобразовании **в Int.** Это проблема для индексирования массива, поскольку символы, расширенные знаками, будучи отрицательными, индексируются за пределами массива. Языки, которые используют MBCS, такие как японский, также уникальны. Поскольку символ может состоять из 1 или 2 байтов, вы всегда должны манипулировать обоими байтами одновременно.

## <a name="see-also"></a>См. также раздел

[Юникод и многобайтовая кодировка](../text/unicode-and-mbcs.md)<br/>
[Стратегии международного использования](../text/internationalization-strategies.md)
