---
description: 'Дополнительные сведения о: Общие советы по программированию многобайтовых кодировок'
title: Общие советы по программированию многобайтовой кодировки
ms.date: 11/04/2016
helpviewer_keywords:
- MBCS [C++], dialog box fonts
- MS Shell Dlg
- MBCS [C++], programming
- dialog boxes [C++], fonts
ms.assetid: 7b541235-f3e5-4af0-b2c2-a0112cd5fbfb
ms.openlocfilehash: 9ed4fcd4909b643e2c233482a420e82d01125efa
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97187537"
---
# <a name="general-mbcs-programming-advice"></a>Общие советы по программированию многобайтовой кодировки

Используйте следующие советы.

- Для гибкости Используйте макросы времени выполнения, например `_tcschr` и, `_tcscpy` если это возможно. Дополнительные сведения см. [в разделе Универсальные текстовые сопоставления в файле Tchar. h](../text/generic-text-mappings-in-tchar-h.md).

- Используйте функцию времени выполнения C `_getmbcp` для получения сведений о текущей кодовой странице.

- Не используйте строковые ресурсы повторно. В зависимости от целевого языка заданная строка может иметь другой смысл при переводе. Например, "файл" в главном меню приложения может отличаться от строки "файл" в диалоговом окне. Если необходимо использовать несколько строк с одинаковыми именами, используйте разные идентификаторы строк для каждой из них.

- Может потребоваться узнать, работает ли приложение в операционной системе с поддержкой многобайтовой кодировки. Для этого установите флаг при запуске программы. не полагайтесь на вызовы API.

- При проектировании диалоговых окон разрешите около 30% дополнительного пространства в конце статических текстовых элементов управления для преобразования MBCS.

- Будьте внимательны при выборе шрифтов для приложения, так как некоторые шрифты доступны не во всех системах.

- При выборе шрифта для диалоговых окон используйте [MS Shell Dlg](/windows/win32/Intl/using-ms-shell-dlg-and-ms-shell-dlg-2) вместо MS Sans Serif или Helvetica. Перед созданием диалогового окна MS Shell Dlg заменяется правильным шрифтом системы. Использование MS Shell Dlg гарантирует, что любые изменения в операционной системе для работы с этим шрифтом будут автоматически доступны. (MFC заменяет MS Shell Dlg DEFAULT_GUI_FONT или системным шрифтом в Windows 95, Windows 98 и Windows NT 4, поскольку эти системы не обрабатывали MS Shell Dlg правильно.)

- При проектировании приложения определите, какие строки могут быть локализованы. В случае сомнений Предположим, что любая заданная строка будет локализована. Таким образом, не следует смешивать строки, которые могут быть локализованы с помощью тех, которые не могут.

## <a name="see-also"></a>См. также раздел

[Советы по программированию многобайтовых кодировок](../text/mbcs-programming-tips.md)<br/>
[Увеличение и уменьшение указателей](../text/incrementing-and-decrementing-pointers.md)
