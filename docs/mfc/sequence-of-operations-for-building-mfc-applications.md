---
title: Последовательность операций для сборки приложений MFC
ms.date: 09/09/2019
helpviewer_keywords:
- applications [MFC], developing
ms.assetid: 6973c714-fe20-48c6-926b-de88356b3a3d
ms.openlocfilehash: ab5f9bcd50ab2f2c5456ca666ef79f7033966589
ms.sourcegitcommit: 3caf5261b3ea80d9cf14038c116ba981d655cd13
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2019
ms.locfileid: "70907578"
---
# <a name="sequence-of-operations-for-building-mfc-applications"></a>Последовательность операций для сборки приложений MFC

В следующей таблице описана общая последовательность, которая обычно может соблюдаться при разработке приложения MFC.

### <a name="sequence-for-building-an-application-with-the-framework"></a>Последовательность для создания приложения с помощью платформы

|Задача|Вы|Платформа выполняет|
|----------|------------|------------------------|
|Создание каркасного приложения.|Запустите [Мастер приложений MFC](../mfc/reference/mfc-application-wizard.md). Укажите необходимые параметры на страницах параметров. Параметры включают в себя создание приложением COM-компонента, контейнера или и того, и другого. Добавление службы автоматизации; и сделать приложение с учетом базы данных.|Мастер приложений MFC создает файлы для каркасного приложения, включая исходные файлы для приложения, документа, представления и окон фрейма. файл ресурсов; файл проекта; и другие, адаптированные к вашим спецификациям.|
|Узнайте, что делает платформа и мастер приложений MFC без добавления собственной строки кода.|Создайте каркас приложения и запустите его в Visual C++.|Выполняющееся приложение скелета получает множество команд меню " **файл**", " **Правка**", " **Просмотр**" и " **Справка** " из платформы. Для приложений MDI вы также получаете полностью функциональное меню Windows, а платформа управляет созданием, размещением и уничтожением дочерних окон MDI.|
|Создайте пользовательский интерфейс приложения.|Используйте C++ [редакторы](../windows/resource-editors.md) визуальных ресурсов для визуального редактирования пользовательского интерфейса приложения:<br /><br /> — Создание меню.<br />— Определите ускорители.<br />— Создание диалоговых окон.<br />— Создание и изменение точечных рисунков, значков и курсоров.<br />— Измените панель инструментов, созданную мастером приложений MFC.<br />— Создание и изменение других ресурсов.<br /><br /> Также можно проверить диалоговые окна в редакторе диалоговых окон.|Файл ресурсов по умолчанию, созданный мастером приложений MFC, предоставляет множество необходимых ресурсов. Визуальный C++ элемент позволяет изменять существующие ресурсы и легко и наглядно добавлять новые ресурсы.|
|Сопоставьте меню с функциями обработчика.|Используйте кнопку **события** в [окне **свойства** ](/visualstudio/ide/reference/properties-window) в **представление классов** (или на вкладке **команды** в [мастере классов](reference/mfc-class-wizard.md)), чтобы подключить меню и ускорители к функциям обработчика в коде.|Эти средства вставляют записи схемы сообщений и пустые шаблоны функций в указанные исходные файлы и управляют множеством задач ручного кодирования.|
|Напишите код обработчика.|Используйте представление классов, чтобы перейти непосредственно к коду в редакторе исходного кода. Заполните код для функций обработчика. Дополнительные сведения об использовании представление классов и мастерах, которые добавляют код в проект, см. в разделе [Добавление функций с помощью мастеров кода](../ide/adding-functionality-with-code-wizards-cpp.md).|Представление классов открывает редактор, прокручивает к шаблону пустая функция и позиционирует курсор.|
|Сопоставьте кнопки панели инструментов с командами.|Сопоставьте каждую кнопку на панели инструментов с меню или командой ускорителя, назначая кнопке соответствующий идентификатор команды.|Платформа управляет рисованием, включением, отключением, проверкой и другими визуальными аспектами кнопок панели инструментов.|
|Протестируйте функции обработчика.|Перестройте программу и используйте встроенные средства отладки, чтобы проверить правильность работы обработчиков.|Вы можете выполнить шаг или выполнить трассировку кода, чтобы увидеть, как вызываются обработчики. Если вы заполнили код обработчика, обработчики выполняют команды. Платформа автоматически отключит элементы меню и кнопки панели инструментов, которые не обрабатываются.|
|Добавление [диалоговых](../mfc/dialog-boxes.md)окон.|Диалоговое окно конструктора — шаблонные ресурсы с помощью редактора диалоговых окон. Затем создайте класс диалогового окна и код, обрабатывающий диалоговое окно.|Платформа управляет диалоговым окном и упрощает получение сведений, вводимых пользователем.|
|Инициализация, проверка и извлечение данных диалоговых окон.|Можно также определить способ инициализации и проверки элементов управления диалогового окна. С помощью Visual Studio добавьте переменные члена в класс диалогового окна и сопоставьте их с элементами управления диалогового окна. Укажите правила проверки, применяемые к каждому элементу управления при вводе пользователем данных. При необходимости укажите собственные пользовательские проверки.|Платформа управляет инициализацией и проверкой диалоговых окон. Если пользователь вводит недопустимые данные, платформа отображает окно сообщения и позволяет пользователю повторно ввести данные.|
|Создайте дополнительные классы.|Используйте представление классов, чтобы создать дополнительные классы документов, представлений и кадровых окон, не превышающие созданные автоматически мастером приложений MFC. Можно создавать дополнительные классы набора записей базы данных, классы диалоговых окон и т. д. (С представление классов можно создавать классы, не являющиеся производными от классов MFC.)|Представление классов добавляет эти классы в исходные файлы и помогает определить их соединения с любыми обрабатываемыми ими командами.|
|Добавьте готовые к использованию компоненты в приложение.|`New Item dialog box` Используйте для добавления множества элементов.|Эти элементы легко интегрируются в приложение и позволяют сэкономить много работы.|
|Реализуйте класс документа.|Реализуйте класс документа или классы конкретного приложения. Добавьте переменные члена для хранения структур данных. Добавьте функции элементов, чтобы предоставить интерфейс для данных.|Платформа уже знает, как взаимодействовать с файлами данных документов. Он может открывать и закрывать файлы документов, читать и записывать данные документа, а также управлять другими пользовательскими интерфейсами. Вы можете сосредоточиться на том, как обрабатываются данные документа.|
|Реализуйте команды открытия, сохранения и сохранения в виде.|Напишите код для функции `Serialize` элемента документа.|Платформа отображает диалоговые окна команд **Открыть**, **сохранить**и **Сохранить как** в меню **файл** . Он записывает и считывает документ, используя формат данных, указанный в `Serialize` функции-члене.|
|Реализуйте класс представления.|Реализуйте один или несколько классов представлений, соответствующих вашим документам. Реализуйте функции элементов представления, сопоставленные с пользовательским интерфейсом, с представление классов. Доступны разнообразные классы, производные от класса [CView](../mfc/reference/cview-class.md), включая [CListView](../mfc/reference/clistview-class.md) и [CTreeView](../mfc/reference/ctreeview-class.md).|Платформа управляет большей частью связи между документом и его представлением. Функции-члены представления обращаются к документу представления для отрисовки его изображения на экране или на печатной странице, а также для обновления структур данных документа в ответ на команды редактирования пользователем.|
|Улучшение печати по умолчанию.|Если требуется поддержка многостраничной печати, переопределите функции элементов представления.|Платформа поддерживает команды **Печать**, **Настройка страницы**и **Предварительный просмотр** в меню **файл** . Необходимо сообщить о том, как разбить документ на несколько страниц.|
|Добавьте прокрутку.|Если требуется поддержка прокрутки, создайте класс представления или классы из [кскроллвиев](../mfc/reference/cscrollview-class.md).|Представление автоматически добавляет полосы прокрутки, когда окно просмотра станет слишком маленьким.|
|Создание представлений форм.|Если вы хотите создать представления на основе ресурсов диалогового окна, создайте класс представления или классы от [CFormView](../mfc/reference/cformview-class.md).|В представлении для отображения элементов управления используется ресурс диалогового шаблона. Пользователь может перейти от элемента управления к элементу управления в представлении.|
|Создание форм базы данных.|Если требуется приложение для доступа к данным на основе форм, создайте класс представления из класса [CRecordView](../mfc/reference/crecordview-class.md) (для программирования ODBC).|Представление работает как представление формы, но его элементы управления соединяются с полями объекта [CRecordset](../mfc/reference/crecordset-class.md) , представляющего таблицу базы данных. MFC перемещает данные между элементами управления и набором записей.|
|Создайте простой текстовый редактор.|Если вы хотите, чтобы представление было простым текстовым редактором, создайте класс представления или классы из [CEditView](../mfc/reference/ceditview-class.md) или [CRichEditView](../mfc/reference/cricheditview-class.md).|Представление предоставляет функции редактирования, поддержку буфера обмена, а также ввод и вывод файлов. `CRichEditView`предоставляет текст в стиле.|
|Добавление окон разделителей.|Если требуется поддержка разбиения окна, добавьте объект [CSplitterWnd](../mfc/reference/csplitterwnd-class.md) в окно фрейма SDI или в дочернее окно MDI и присоедините его к функции-члену [онкреатеклиент](../mfc/reference/cframewnd-class.md#oncreateclient) окна.|Платформа предоставляет элементы управления "разделитель" рядом с полосами прокрутки и управляет разделением представления на несколько панелей. Если пользователь разделяет окно, платформа создает и присоединяет к документу дополнительные объекты представления.|
|Сборка, тестирование и отладка приложения.|Используйте средства Visual C++ для создания, тестирования и отладки приложения.|Visual C++ позволяет настраивать компиляцию, компоновку и другие параметры. Он также позволяет просматривать исходный код и структуру классов.|

## <a name="see-also"></a>См. также

[Последовательность операций для создания приложений OLE](../mfc/sequence-of-operations-for-creating-ole-applications.md)<br/>
[Последовательность операций при создании элементов управления ActiveX](../mfc/sequence-of-operations-for-creating-activex-controls.md)<br/>
[Последовательность операций для создания приложений баз данных](../mfc/sequence-of-operations-for-creating-database-applications.md)<br/>
[Сборка в платформе](../mfc/building-on-the-framework.md)
