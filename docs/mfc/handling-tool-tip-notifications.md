---
description: 'Дополнительные сведения: обработка уведомлений с помощью всплывающих подсказок'
title: Обработка уведомлений всплывающих подсказок
ms.date: 11/04/2016
helpviewer_keywords:
- TOOLTIPTEXT structure [MFC]
- CToolBarCtrl class [MFC], handling notifications
- notifications [MFC], tool tips
- tool tips [MFC], notifications
ms.assetid: ddb93b5f-2e4f-4537-8053-3453c86e2bbb
ms.openlocfilehash: 02bb1fb0760cf91c76e3c3be75fe097d5d57b71e
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97254863"
---
# <a name="handling-tool-tip-notifications"></a>Обработка уведомлений всплывающих подсказок

При указании стиля **TBSTYLE_TOOLTIPS** панель инструментов создает и управляет элементом управления "всплывающая подсказка". Всплывающая подсказка — это небольшое всплывающее окно, содержащее строку текста с описанием кнопки на панели инструментов. Всплывающая подсказка скрыта, и появляется, только когда пользователь наводит курсор на кнопку на панели инструментов и оставляет его примерно раз в половину секунды. Рядом с курсором отображается всплывающая подсказка.

Перед отображением всплывающей подсказки сообщение с уведомлением **TTN_NEEDTEXT** отправляется в окно владельца панели инструментов, чтобы получить описательный текст для кнопки. Если окно-владелец панели инструментов является `CFrameWnd` окном, всплывающие подсказки отображаются без каких-либо дополнительных усилий, так как `CFrameWnd` имеет обработчик по умолчанию для уведомления **TTN_NEEDTEXT** . Если окно-владелец панели инструментов не является производным от `CFrameWnd` , например диалогового окна или представления формы, необходимо добавить запись в схему сообщений окна владельца и предоставить обработчик уведомлений в схеме сообщений. Запись в схему сообщения окна владельца выглядит следующим образом:

[!code-cpp[NVC_MFCControlLadenDialog#40](codesnippet/cpp/handling-tool-tip-notifications_1.cpp)]

## <a name="remarks"></a>Комментарии

*мемберфксн*<br/>
Функция-член, вызываемая, когда для этой кнопки требуется текст.

Обратите внимание, что идентификатор подсказки всегда равен 0.

Помимо **TTN_NEEDTEXT** уведомления, элемент управления "всплывающая подсказка" может отправлять следующие уведомления в элемент управления Toolbar:

|Уведомление|Значение|
|------------------|-------------|
|**TTN_NEEDTEXTA**|Для элемента управления "Подсказка" требуется текст ASCII (только для Windows 95)|
|**TTN_NEEDTEXTW**|Для элемента управления "Подсказка" требуется текст в Юникоде (только для Windows NT)|
|**TBN_HOTITEMCHANGE**|Указывает, что активный (выделенный) элемент изменился.|
|**NM_RCLICK**|Показывает, что пользователь щелкнул правой кнопкой мыши кнопку.|
|**TBN_DRAGOUT**|Показывает, что пользователь щелкнул кнопку и переместил указатель мыши за пределы кнопки. Это позволяет приложению реализовать перетаскивание из кнопки на панели инструментов. При получении этого уведомления приложение начнет операцию перетаскивания.|
|**TBN_DROPDOWN**|Показывает, что пользователь щелкнул кнопку, которая использует стиль **TBSTYLE_DROPDOWN** .|
|**TBN_GETOBJECT**|Показывает, что пользователь переместил указатель мыши на кнопку, которая использует стиль **TBSTYLE_DROPPABLE** .|

Пример функции обработчика и дополнительные сведения о включении всплывающих подсказок см. в разделе [всплывающие подсказки](tool-tips-in-windows-not-derived-from-cframewnd.md).

## <a name="see-also"></a>См. также раздел

[Использование CToolBarCtrl](using-ctoolbarctrl.md)<br/>
[Элементы управления](controls-mfc.md)
