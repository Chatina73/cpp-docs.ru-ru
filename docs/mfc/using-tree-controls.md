---
title: Использование элементов управления древовидного типа
ms.date: 11/04/2016
helpviewer_keywords:
- CTreeCtrl class [MFC], using
- tree controls [MFC], about tree controls
ms.assetid: 4e92941a-e477-4fb1-b1ce-4abeafbef1c1
ms.openlocfilehash: 9cff48018d728ef9578be38c0d94300011265fa1
ms.sourcegitcommit: c3093251193944840e3d0a068ecc30e6449624ba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2019
ms.locfileid: "57258324"
---
# <a name="using-tree-controls"></a>Использование элементов управления древовидного типа

Типичное применение элемента управления дерева ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) соответствует шаблону ниже:

- Создается элемент управления. Если элемент управления, заданный в шаблон диалогового окна, или если вы используете `CTreeView`, создание выполняется автоматически при создании диалогового окна или представления. Если вы хотите создать дерево управления как дочернего окна другие окна, используйте [создать](../mfc/reference/ctreectrl-class.md#create) функция-член.

- Если вы хотите использовать изображения элемента управления дерева, задать список изображений, вызвав [SetImageList](../mfc/reference/ctreectrl-class.md#setimagelist). Можно также изменить величину отступа, вызвав [SetIndent](../mfc/reference/ctreectrl-class.md#setindent). Самое время сделать это — в [OnInitDialog](../mfc/reference/cdialog-class.md#oninitdialog) (для элементов управления в диалоговых окнах) или [OnInitialUpdate](../mfc/reference/cview-class.md#oninitialupdate) (для представлений).

- Поместить данные в элемент управления путем вызова `CTreeCtrl` [InsertItem](../mfc/reference/ctreectrl-class.md#insertitem) функцию один раз для каждого элемента данных. `InsertItem` Возвращает дескриптор для элемента, который можно использовать для ссылки на него в более поздней версии, например, при добавлении дочерних элементов. Самое время для инициализации данных находится в `OnInitDialog` (для элементов управления в диалоговых окнах) или `OnInitialUpdate` (для представлений).

- При взаимодействии пользователя с элементом управления, он будет отправлять различные сообщения уведомления. Можно указать функцию для обработки каждого из сообщений, которые необходимо обработать путем добавления макроса ON_NOTIFY_REFLECT в схеме сообщений окна элемента управления или путем добавления макроса ON_NOTIFY родительского окна сообщений. См. в разделе [уведомляющие сообщения древовидного элемента управления](../mfc/tree-control-notification-messages.md) далее в этом разделе перечислены возможные уведомления.

- Вызывайте различные функции-члены набора для задания значений для элемента управления. Изменения, которые планируется сделать включают параметр отступы и изменение текста, изображения или данные, связанные с элементом.

- Используйте различные функции Get для просмотра содержимого элемента управления. Можно также выполнить обход содержимого элемента управления дерева с помощью функций, которые дают возможность получить маркеры для родительских, дочерних и одноуровневых элементов указанного элемента. Можно даже сортировать дочерние узлы определенного узла.

- После завершения с помощью элемента управления, убедитесь, что он правильно уничтожен. Если элемент управления дерева в диалоговом окне, или если это представление, он и `CTreeCtrl` объект будет удален автоматически. Если нет, то необходимо убедиться, что оба элемента управления и `CTreeCtrl` объекта удаляются должным образом.

## <a name="see-also"></a>См. также

[Использование CTreeCtrl](../mfc/using-ctreectrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
