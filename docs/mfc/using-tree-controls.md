---
description: 'Дополнительные сведения: использование элементов управления "дерево"'
title: Использование элементов управления древовидного типа
ms.date: 11/04/2016
helpviewer_keywords:
- CTreeCtrl class [MFC], using
- tree controls [MFC], about tree controls
ms.assetid: 4e92941a-e477-4fb1-b1ce-4abeafbef1c1
ms.openlocfilehash: 7b8a10acc3ee256f4b26c9988c4de7df900e1535
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97143199"
---
# <a name="using-tree-controls"></a>Использование элементов управления древовидного типа

Типичное использование элемента управления "дерево" ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) соответствует шаблону ниже:

- Элемент управления создан. Если элемент управления указан в шаблоне диалогового окна или используется `CTreeView` , при создании диалогового окна или представления автоматически создается. Если вы хотите создать элемент управления "дерево" в качестве дочернего окна другого окна, используйте функцию [создания](../mfc/reference/ctreectrl-class.md#create) члена.

- Если вы хотите, чтобы элемент управления "дерево" использовал изображения, установите список изображений, вызвав [сетимажелист](../mfc/reference/ctreectrl-class.md#setimagelist). Можно также изменить отступ, вызвав [сетиндент](../mfc/reference/ctreectrl-class.md#setindent). Для этого достаточно времени в [онинитдиалог](../mfc/reference/cdialog-class.md#oninitdialog) (для элементов управления в диалоговых окнах) или [онинитиалупдате](../mfc/reference/cview-class.md#oninitialupdate) (для представлений).

- Помещайте данные в элемент управления, вызывая `CTreeCtrl` функцию [InsertItem](../mfc/reference/ctreectrl-class.md#insertitem) один раз для каждого элемента данных. `InsertItem` Возвращает маркер элемента, который можно использовать для ссылки на него позже, например при добавлении дочерних элементов. Хорошим временем инициализации данных является в `OnInitDialog` (для элементов управления в диалоговых окнах) или `OnInitialUpdate` (для представлений).

- По мере того как пользователь взаимодействует с элементом управления, он будет отсылать различные сообщения с уведомлениями. Можно указать функцию для работы с каждым из сообщений, которые необходимо обменять, добавив макрос ON_NOTIFY_REFLECT в схему сообщений окна управления или добавив макрос ON_NOTIFY в схему сообщения родительского окна. Список возможных уведомлений см. в разделе [сообщения об уведомлениях элемента управления "дерево](../mfc/tree-control-notification-messages.md) " Далее в этой статье.

- Вызовите различные функции члена множества, чтобы задать значения для элемента управления. Изменения, которые можно сделать, включают настройку отступов и изменение текста, изображения или данных, связанных с элементом.

- Используйте различные функции Get для проверки содержимого элемента управления. Кроме того, можно перемещаться по содержимому элемента управления "дерево" с помощью функций, позволяющих получать дескрипторы родителей, потомков и одноуровневых элементов указанного элемента. Можно даже отсортировать дочерние элементы определенного узла.

- Завершив работу с элементом управления, убедитесь, что он правильно уничтожен. Если элемент управления "дерево" находится в диалоговом окне или является представлением, он и `CTreeCtrl` объект будут уничтожены автоматически. В противном случае необходимо убедиться, что элемент управления и `CTreeCtrl` объект должным образом уничтожены.

## <a name="see-also"></a>См. также раздел

[Использование CTreeCtrl](../mfc/using-ctreectrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
