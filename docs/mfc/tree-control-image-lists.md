---
title: Списки изображений древовидного элемента управления
ms.date: 11/04/2016
helpviewer_keywords:
- images [MFC], lists in tree controls
- tree controls [MFC], image lists
- CTreeCtrl class [MFC], image lists
ms.assetid: f560c4f2-20d2-4d28-ac33-4017e65fb0a6
ms.openlocfilehash: 2b680ece131df434b65f02501f78f0cdb6507f08
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50551766"
---
# <a name="tree-control-image-lists"></a>Списки изображений древовидного элемента управления

Каждый элемент в виде дерева ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) может иметь пару точечных рисунков, связанных с ним. То изображения появляются слева от метки элемента. Одно изображение отображается в том случае, когда элемент выбран, и другой отображается, если элемент не выбран. Например элемент может отображаться открыть папку, когда он выбран и закрытую папку, если он не выбран.

Чтобы использовать образы элемента, необходимо создать список изображений, создав [CImageList](../mfc/reference/cimagelist-class.md) объекта и с помощью [CImageList::Create](../mfc/reference/cimagelist-class.md#create) функции для создания списка связанное изображение. Затем добавьте нужный точечные рисунки в список и связать список с помощью элемента управления дерева с помощью [SetImageList](../mfc/reference/ctreectrl-class.md#setimagelist) функция-член. По умолчанию все элементы первого образа в списке изображений для выбранного и невыбранные состояний. Можно изменить поведение по умолчанию для определенного элемента, указав индексы выбранных и невыбранные изображений при добавлении элемента управления дерева с помощью [InsertItem](../mfc/reference/ctreectrl-class.md#insertitem) функция-член. Индексы можно изменить после добавления элемента с помощью [SetItemImage](../mfc/reference/ctreectrl-class.md#setitemimage) функция-член.

Списки изображений элемента управления дерева может также содержать наложение изображений, которые предназначены для быть наложены друг на друга в образах элемента. Ненулевое значение в бит 8 по 11, состояния элемента управления дерева указывает отсчитываемый от единицы индекс изображения, наложения (0 указывает на изображение для наложения). Так как бит 4, от единицы индекс используется, образы наложения должны быть среди первых 15 изображений в списках изображений. Дополнительные сведения о состояниях элемента древовидного элемента управления, см. в разделе [Общие сведения о состояниях элемента управления дерева](../mfc/tree-control-item-states-overview.md) ранее в этом разделе.

Если указан список изображений состояния, дерево резервирует пространство слева от значка каждого элемента для изображения состояния. Приложение может использовать изображения состояния, такие как операторы checked и очищенных флажки для указания состояния элементов, определяемые приложением. Ненулевое значение (в битах) 12 по 15 указывает отсчитываемый от единицы индекс изображения состояния (0 означает, что образ не состояния).

Путем указания **I_IMAGECALLBACK** значения вместо индекса изображения, вы можете отложить Выбор изображения выбранным или невыбранным, пока элемент недоступен перерисовку. **I_IMAGECALLBACK** направляет дерево для запроса приложения для индекса, отправляя [TVN_GETDISPINFO](/windows/desktop/Controls/tvn-getdispinfo) сообщение уведомления.

[GetImageList](../mfc/reference/ctreectrl-class.md#getimagelist) функция-член возвращает дескриптор списка изображений элемента управления дерева. Эта функция полезна в том случае, если вам нужно добавить в список дополнительные образы. Дополнительные сведения о списках изображений, см. в разделе [использование CImageList](../mfc/using-cimagelist.md), [CImageList](../mfc/reference/cimagelist-class.md) в *Справочник по библиотеке MFC*, и [списки изображений](https://msdn.microsoft.com/library/windows/desktop/bb761389) в Windows SDK.

## <a name="see-also"></a>См. также

[Использование CTreeCtrl](../mfc/using-ctreectrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)

