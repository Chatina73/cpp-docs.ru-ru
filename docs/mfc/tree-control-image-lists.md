---
title: Списки изображений древовидного элемента управления
ms.date: 11/04/2016
helpviewer_keywords:
- images [MFC], lists in tree controls
- tree controls [MFC], image lists
- CTreeCtrl class [MFC], image lists
ms.assetid: f560c4f2-20d2-4d28-ac33-4017e65fb0a6
ms.openlocfilehash: 8f9e323244657ea6a7cc132deab6deedfcd1a167
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69513372"
---
# <a name="tree-control-image-lists"></a>Списки изображений древовидного элемента управления

Каждый элемент в элементе управления "дерево" ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) может иметь пару растровых изображений, связанных с ним. Изображения отображаются в левой части метки элемента. Одно изображение отображается, когда элемент выбран, а другой отображается, если элемент не выбран. Например, элемент может отображать открытую папку, когда она выбрана, и закрытую папку, если она не выбрана.

Чтобы использовать изображения элементов, необходимо создать список изображений, создав объект [CImageList](../mfc/reference/cimagelist-class.md) и используя функцию [CImageList:: Create](../mfc/reference/cimagelist-class.md#create) , чтобы создать связанный список изображений. Затем добавьте нужные растровые изображения в список и свяжите список с элементом управления "дерево" с помощью функции члена [сетимажелист](../mfc/reference/ctreectrl-class.md#setimagelist) . По умолчанию все элементы отображают первое изображение в списке изображений для выбранных и невыбранных состояний. Поведение по умолчанию для определенного элемента можно изменить, указав индексы выбранных и невыбранных изображений при добавлении элемента в древовидный элемент управления с помощью функции-члена [InsertItem](../mfc/reference/ctreectrl-class.md#insertitem) . Индексы можно изменить после добавления элемента с помощью функции члена [сетитемимаже](../mfc/reference/ctreectrl-class.md#setitemimage) .

Списки изображений элемента управления "дерево" также могут содержать изображения наложения, которые предназначены для положения изображений элементов. Ненулевое значение в битах 8 – 11 из состояния элемента управления "дерево" задает отсчитываемый от единицы индекс изображения-оверлея (0 означает отсутствие изображения оверлея). Так как используется 4-разрядный индекс, наложение изображений должно быть между первыми 15 изображениями в списках изображений. Дополнительные сведения о состояниях элементов древовидного элемента управления см. в разделе [Общие сведения](../mfc/tree-control-item-states-overview.md) о состояниях элементов управления деревом выше в этой статье.

Если задан список изображений состояния, элемент управления "дерево" резервирует место слева от значка каждого элемента для изображения состояния. Приложение может использовать образы состояний, такие как флажки установленного и снятого флажков, для обозначения состояний элементов, определенных приложением. Ненулевое значение в битах от 12 до 15 указывает индекс изображения, отсчитываемый от единицы (0 означает, что изображение состояния отсутствует).

Указав значение **I_IMAGECALLBACK** вместо индекса изображения, можно отложить указание выбранного или невыбранного изображения, пока элемент не будет перерисован. **I_IMAGECALLBACK** направляет элемент управления "дерево" на запрос к приложению для индекса, отправив сообщение уведомления [TVN_GETDISPINFO](/windows/win32/Controls/tvn-getdispinfo) .

Функция-член [ImageList](../mfc/reference/ctreectrl-class.md#getimagelist) получает маркер списка изображений древовидного элемента управления. Эта функция полезна, если необходимо добавить в список дополнительные изображения. Дополнительные сведения о списках изображений см. в статьях [Использование CImageList](../mfc/using-cimagelist.md), [CImageList](../mfc/reference/cimagelist-class.md) в справочнике по *MFC*и [списки изображений](/windows/win32/controls/image-lists) в Windows SDK.

## <a name="see-also"></a>См. также

[Использование CTreeCtrl](../mfc/using-ctreectrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
