---
title: Управление памятью. Выделение кадров
ms.date: 11/04/2016
helpviewer_keywords:
- memory leaks [MFC], frame allocation
- memory [MFC], detecting leaks
- memory [MFC], reclaiming
- memory allocation [MFC], frames
- frame variables [MFC], automatic deletion of
- scope [MFC], frame variables
- heap allocation [MFC], vs. frame allocation
- variables [MFC], frame variables
- memory leaks [MFC], detecting
- memory, releasing [MFC]
- stack frames [MFC]
- memory leaks [MFC], allocating objects on the frame
- detecting memory leaks [MFC]
- frame allocation [MFC]
- frame variables [MFC]
ms.assetid: 945a211a-6f4f-4679-bb6a-b0f2a0d4a6c1
ms.openlocfilehash: 1acf2ce89e18dd64c166103b59b5eb7007214efd
ms.sourcegitcommit: c1f646c8b72f330fa8cf5ddb0f8f261ba10d16f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/21/2019
ms.locfileid: "58328458"
---
# <a name="memory-management-frame-allocation"></a>Управление памятью. Выделение кадров

Выделение в кадре занимает его имя из «кадра стека», заданный при каждом вызове функции. Кадр стека — это область памяти, которая временно содержит аргументы для функции, а также любые переменные, определенные локальным для данной функции. Переменные часто называются «автоматически» переменные, так как компилятор автоматически выделяет место для их.

Есть два основных характеристик рамки выделения. Во-первых при определении локальной переменной, достаточно пространство выделяется в кадре стека для хранения всей переменной, даже в случае большого массива или структуры данных. Во-вторых переменные будут автоматически удалены, когда они выходят за пределы области действия:

[!code-cpp[NVC_MFC_Utilities#10](../mfc/codesnippet/cpp/memory-management-frame-allocation_1.cpp)]

Для переменных локальной функции этого перехода области происходит, когда функция завершает работу, но рамки переменной фрейма может быть меньше, чем функция, если используются вложенные скобки. Это автоматическое удаление переменными фрейма, очень важно. В случае простые типы-примитивы (такие как **int** или **байтов**), массивами или структурами данных, автоматическое удаление просто освобождает память, используемую в переменной. Так как переменная вышла за пределы области, он недоступен в любом случае. В случае объектов C++, однако процесс автоматического удаления немного более сложен.

Если объект определен как переменной фрейма, его конструктор автоматически вызывается в точке, где встречается определение. Когда объект выходит за пределы области действия, его деструктор вызывается автоматически до освобождения памяти для объекта. Это автоматическое создание и уничтожение может оказаться очень удобным, но необходимо иметь в виду автоматического вызовов, особенно деструктор.

Ключа выделением объектов в кадре удобен тем, что они будут автоматически удалены. При выделении объектов в кадре, не нужно беспокоиться о забытых объектов, причиной утечки памяти. (Дополнительные сведения об утечках памяти, см. в статье [обнаружение утечек памяти в MFC](/previous-versions/visualstudio/visual-studio-2010/c99kz476(v=vs.100)).) Недостатком выделение кадров является то, что переменные нельзя использовать за пределами их области. Еще одним фактором при выборе выделение кадров и выделение кучи является то, что для больших структур и объектов, лучше часто используют кучу вместо стека для хранения, так как пространство стека ограничено часто.

## <a name="see-also"></a>См. также

[Управление памятью](../mfc/memory-management.md)
