---
description: 'Дополнительные сведения о: TN023: стандартные ресурсы MFC'
title: TN023. Стандартные ресурсы MFC
ms.date: 11/04/2016
helpviewer_keywords:
- resources [MFC]
- TN023
- standard resources
ms.assetid: 60af8415-c576-4c2f-a711-ca5da0b9a1f2
ms.openlocfilehash: 8a78a029d67920b7cd711be6200ccced86d243e3
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97215772"
---
# <a name="tn023-standard-mfc-resources"></a>TN023. Стандартные ресурсы MFC

В этом заметке описываются стандартные ресурсы, предоставляемые библиотекой MFC и необходимые для них.

## <a name="standard-resources"></a>Стандартные ресурсы

MFC предлагает две категории предопределенных ресурсов, которые можно использовать в приложении: картинки и ресурсы стандартной платформы.

Графические ресурсы — это дополнительные ресурсы, которые не зависят от платформы, но которые может потребоваться добавить в пользовательский интерфейс приложения. Приведенные ниже ресурсы коллекции картинок содержатся в [клипах](../overview/visual-cpp-samples.md)общего примера MFC.

- Common. rc: один файл ресурсов, содержащий:

  - Большая коллекция значков, представляющих разнообразные задачи обработки и бизнес-данных.

  - Несколько общих курсоров (см. также AFXRES. RC).

  - Точечный рисунок панели инструментов, содержащий несколько кнопок на панели инструментов.

  - Ресурсы растрового изображения и значков, используемые Commdlg.dll.

- Укажите. rc: содержит строковые ресурсы для индикаторов состояния ключа строки состояния, например "CAP" для Caps Lock.

- Prompts. rc: содержит строковые ресурсы для каждой предопределенной команды, например "создать новый документ" для ID_FILE_NEW.

- Коммдлг. rc: Visual C++ совместимый RC-файл, содержащий стандартные шаблоны диалоговых окон КОММДЛГ.

Стандартные ресурсы платформы — это ресурсы с идентификаторами, определяемыми AFX, которые платформа использует для внутренних реализаций. Вам редко приходится изменять эти ресурсы, определяемые AFX. В этом случае следует выполнить процедуру, описанную далее в этом разделе.

Следующие ресурсы платформы содержатся в каталоге МФК\ИНКЛУДЕ:

- AFXRES. rc: общие ресурсы, используемые платформой.

- Афкспринт. rc: ресурсы, относящиеся к печати.

- Афксолекл. rc: ресурсы, относящиеся к клиентским приложениям OLE.

- Афксолев. rc: ресурсы, относящиеся к полным серверным приложениям OLE.

## <a name="using-clip-art-resources"></a>Использование ресурсов Clip-Art

#### <a name="to-use-a-clip-art-binary-resource"></a>Использование двоичного ресурса cliping Art

1. Откройте файл ресурсов приложения в Visual C++.

1. Откройте Common. rc. Этот файл содержит все двоичные графические ресурсы. Это может занять некоторое время, так как компилируется файл Common. rc.

1. Удерживая нажатой клавишу CTRL, перетащите ресурсы, которые нужно использовать из файла common. RC, в файл ресурсов приложения.

Чтобы использовать другие графические ресурсы, выполните те же действия. Единственное отличие заключается в том, что вы откроете соответствующий RC-файл вместо Common. rc.

> [!NOTE]
> Будьте внимательны, чтобы не случайно переместить ресурсы из Common. rc без возможности восстановления. Если при перетаскивании ресурсов удерживать нажатой клавишу CTRL, будет создана копия. Если во время перетаскивания не удерживать клавишу CTRL, ресурсы будут перемещены. Если вы беспокоитесь о том, что вы случайно внесли изменения в файл Common. RC, нажмите кнопку "нет" при запросе на сохранение изменений в файле Common. rc.

> [!NOTE]
> Файлы ресурсов RC имеют специальный ресурс ресурса TEXTINCLUDE, который не позволит случайно сохранить поверх стандартных RC-файлов.

### <a name="customizing-standard-framework-resources"></a>Настройка стандартных ресурсов платформы

Стандартные ресурсы платформы обычно включаются в приложение с помощью команды #include в файле ресурсов приложения. Помощью мастера создаст файл ресурсов. Этот файл включает в себя соответствующие стандартные ресурсы платформы в зависимости от выбранных параметров помощью мастера. Вы можете просматривать, добавлять или удалять ресурсы, включаемые, изменяя директивы времени компиляции. Для этого откройте меню **ресурсов** и выберите **Set включения**. Просмотрите элемент изменение элемента "директивы времени компиляции". Пример:

```
#include "afxres.rc"
#include "afxprint.rc"
```

Наиболее распространенным случаем настройки стандартных ресурсов платформы является добавление или удаление дополнительных включаемых компонентов для печати, OLE-клиента и поддержки сервера OLE.

В некоторых редких случаях может потребоваться настроить содержимое стандартных ресурсов платформы для конкретного приложения, а не просто добавить и удалить весь файл. Ниже показано, как ограничить количество включаемых ресурсов.

##### <a name="to-customize-the-contents-of-a-standard-resource-file"></a>Настройка содержимого стандартного файла ресурсов

1. Откройте файл ресурсов в Visual C++.

1. Использование команды Resource Set включает в себя удаление `#include` для стандартного RC-файла, который требуется настроить. Например, чтобы настроить панель инструментов «печать-просмотр», удалите `#include "afxprint.rc"` строку.

1. Откройте соответствующие стандартные файлы ресурсов в МФК\ИНКЛУДЕ. В примере, приведенном ранее в этом разделе, соответствующий файл — Мфк\инклуде\аафкспринт.РК

1. Скопируйте все ресурсы из стандартного RC-файла в файл ресурсов приложения.

1. Измените копию стандартных ресурсов в файле ресурсов приложения.

> [!NOTE]
> Не изменяйте ресурсы непосредственно в стандартных RC-файлах. Это приведет к изменению ресурсов, доступных в каждом приложении, а не только в том, на котором вы сейчас работаете.

## <a name="see-also"></a>См. также раздел

[Технические примечания по номеру](../mfc/technical-notes-by-number.md)<br/>
[Технические примечания по категориям](../mfc/technical-notes-by-category.md)
