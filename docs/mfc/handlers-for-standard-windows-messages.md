---
title: Обработчики для стандартных сообщений Windows
ms.date: 11/04/2016
f1_keywords:
- afx_msg
helpviewer_keywords:
- Windows messages [MFC], handlers
- message handling [MFC], Windows message handlers
- handler functions, standard Windows messages
- functions [MFC], handler
- messages [MFC], Windows
ms.assetid: 19412a8b-2c38-4502-81da-13c823c7e36c
ms.openlocfilehash: 84e12a8f4ca0ce6384bc60b2fa01bfaf7824c864
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50585423"
---
# <a name="handlers-for-standard-windows-messages"></a>Обработчики для стандартных сообщений Windows

По умолчанию обработчики для стандартных сообщений Windows (**WM_**) предопределены в классе `CWnd`. Библиотека классов задает имена для этих обработчиков на основе имя сообщения. Например, обработчик **WM_PAINT** сообщение объявляется в `CWnd` как:

`afx_msg void OnPaint();`

**Afx_msg** ключевое слово предлагает последствия C++ **виртуального** ключевое слово by отличия от других обработчиков `CWnd` функций-членов. Обратите внимание, что эти функции не являются фактически виртуальными; Вместо этого они реализуются с помощью схемы сообщений. Схемы сообщений зависят от исключительно на стандартные макросы препроцессора не на все расширения языка C++. **Afx_msg** ключевое слово разрешается в пустое пространство после предварительной обработки.

Чтобы переопределить обработчика, определенные в базовом классе, просто определите функцию с тот же прототип в производном классе и чтобы сделать запись схемы сообщений для обработчика. Обработчик «переопределяет» любой обработчик с тем же именем в любой из базовых классов вашего класса.

В некоторых случаях обработчик должен вызывать переопределенный обработчик в базовом классе, базовые классы и Windows могут работать в сообщении. Где вызвать обработчик базового класса в переопределении зависит от обстоятельств. Иногда необходимо сначала вызвать обработчик базового класса и иногда последним. Иногда вызывается обработчик базового класса по условию, если вы решили не обрабатывать сообщение самостоятельно. Иногда следует вызвать обработчик базового класса, а затем выполнять собственный код обработчика, в зависимости от значения или состояния, возвращаемого обработчиком базового класса.

> [!CAUTION]
>  Это не безопасно изменять аргументы, переданные в обработчик, если вы собираетесь передать их в обработчик базового класса. Например, может возникнуть желание изменить *nChar* аргумент `OnChar` обработчик (для преобразования в верхний регистр, например). Такое поведение довольно запутанным, но если вам необходимо выполнить этот эффект, используйте `CWnd` функция-член `SendMessage` вместо этого.

Как определить правильный способ переопределить данное сообщение, когда окно свойств записывает скелет функции обработчика для заданного сообщения — `OnCreate` обработчик для **WM_CREATE**, например — чертежей его в виде функция рекомендуемые переопределенному члену. Следующий пример рекомендует обработчик сначала вызвать обработчик базового класса и продолжить только при условии, что он не возвращает -1.

[!code-cpp[NVC_MFCMessageHandling#3](../mfc/codesnippet/cpp/handlers-for-standard-windows-messages_1.cpp)]

По соглашению имена этих обработчиков начинаются с префикса «On». Некоторые из этих обработчиков не принимают аргументов, тогда как другие принимают несколько. Также есть тип возвращаемого значения отличные от **void**. Обработчики по умолчанию для всех **WM_** сообщений описаны в *Справочник по библиотеке MFC* как функции-члены класса `CWnd` , имена которых начинаются с «Включен». В объявлениях функций-членов `CWnd` начинаются с префикса **afx_msg**.

## <a name="see-also"></a>См. также

[Объявление функций обработчиков сообщений](../mfc/declaring-message-handler-functions.md)
