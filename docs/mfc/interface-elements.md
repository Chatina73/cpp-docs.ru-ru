---
title: Элементы интерфейса
ms.date: 11/19/2018
helpviewer_keywords:
- architecture [MFC], MFC Feature Pack
- MFC Feature Pack, architecture
ms.assetid: eead6827-9602-40a3-8038-8986e8207385
ms.openlocfilehash: fa6dc78c95717f9201e18346f1cbe573fa3c48d2
ms.sourcegitcommit: c3093251193944840e3d0a068ecc30e6449624ba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2019
ms.locfileid: "57262887"
---
# <a name="interface-elements"></a>Элементы интерфейса

В этом документе описаны элементы интерфейса, которые впервые появились в Visual Studio 2008 с пакетом обновления 1 и также описываются различия с более ранней версии библиотеки.

Ниже показано приложение, созданное с помощью новых элементов интерфейса.

![Приложение примера MFC Feature Pack](../mfc/media/mfc_featurepack.png "приложение примера MFC Feature Pack")

## <a name="window-docking"></a>Закрепление окон

Возможности закрепления окна похоже на закрепление, что графического пользовательского интерфейса Visual Studio использует окон.

## <a name="control-bars-are-now-panes"></a>Панели элементов управления являются теперь панелями

Панели элементов управления, теперь называется областей и являются производными от [класс CBasePane](../mfc/reference/cbasepane-class.md). В более ранних версиях MFC, базовый класс для панелей элементов управления была `CControlBar`.

Окна главного фрейма приложения обычно представлены в виде [класс CFrameWndEx](../mfc/reference/cframewndex-class.md) или [класс CMDIFrameWndEx](../mfc/reference/cmdiframewndex-class.md). Вызывается главного фрейма *сайта закрепления*. Области может иметь одно из трех типов родительские элементы: сайта закрепления, панель закрепления или окна области.

Существует два типа областей: неизменяемый и раскрывающимися списками. Переменного размера области, например строках состояния и панели инструментов, можно изменять с помощью разделителей, или ползунки. Переменного размера области могут формировать контейнеры (одной панели можно закрепить на другую панель, создание разделителя между ними). Тем не менее области регулируемого размера, невозможно подключить (закрепления) Закрепление панели.

Если приложение использует неизменяемый панелей, являются производными их из [класс CPane](../mfc/reference/cpane-class.md).  Если приложение использует области регулируемого размера, являются производными их из [класс CDockablePane](../mfc/reference/cdockablepane-class.md)

## <a name="dock-site"></a>Сайте закрепления

Сайте закрепления (или фрейма главного окна) является владельцем всех панелей и области окна приложения. На сайте закрепления содержит [CDockingManager](../mfc/reference/cdockingmanager-class.md) член. Этот член поддерживает список всех областей, находящиеся на сайте закрепления. Список упорядочен, чтобы областей, созданных на внешних краях сайта закрепления располагаются в начале списка. Когда платформа перерисовывает на сайте закрепления, он перебирает этот список и настраивает макет каждой панели, чтобы включить текущий ограничивающий прямоугольник на сайте закрепления. Можно вызвать `AdjustDockingLayout` или `RecalcLayout` , если для настройки макета закрепления, и платформа перенаправляет этот вызов в диспетчере закрепления.

## <a name="dock-bars"></a>Закрепление панели

Каждое окно главного фрейма можно расположить *закрепления панели* вдоль ее границы. Панель закрепления — это область, принадлежит [класс CDockSite](../mfc/reference/cdocksite-class.md). Закрепления панели может принимать объекты, производные от [CPane](../mfc/reference/cpane-class.md), такие как панели инструментов. Чтобы создать закрепления панели, когда инициализируется фрейма главного окна, вызовите `EnableDocking`. Чтобы включить автоматическое скрытие панелей, вызовите `EnableAutoHideBars`. `EnableAutoHideBars` Создает [CAutoHideDockSite](../mfc/reference/cautohidedocksite-class.md) объектов и располагает их рядом с каждой панели закрепления.

Каждый столбик закрепления состоит из строк закрепления. Закрепление строк представляется [класс CDockingPanesRow](../mfc/reference/cdockingpanesrow-class.md). Каждая строка закрепления содержит список панелей инструментов. Если пользователь закрепляет панели инструментов или перемещение панели инструментов из одной строки в другую в ту же панель закрепления, платформа создает новую строку и соответствующим образом изменяет размер панели закрепления или оно располагает панели инструментов на существующей строке.

## <a name="mini-frame-windows"></a>Области Windows

Плавающую панель находится в окне области. Окна представлены два класса: [Класс CMDITabInfo](../mfc/reference/cmditabinfo-class.md) (который может содержать только одну область) и [класс CMultiPaneFrameWnd](../mfc/reference/cmultipaneframewnd-class.md) (который может содержать несколько областей). Чтобы перемещаться в области в коде, вызовите [CBasePane::FloatPane](../mfc/reference/cbasepane-class.md#floatpane). После отображается панель, платформа автоматически создает окна области и этого окна минифрейма становится родительской области с плавающей запятой. Закрепляет область с плавающей запятой, платформа сбрасывает его родительского и становится плавающую панель закрепления строки (для панели инструментов) или (для изменяемого размера области) сайта закрепления.

## <a name="pane-dividers"></a>Разделители области

Разделители панели (также называются ползунки или разделителей) представлены [класс CPaneDivider](../mfc/reference/cpanedivider-class.md). Когда пользователь закрепляет область, платформа создает разделителей области, независимо от того, закреплена ли области на сайте закрепления или на другую панель. Закрепляет область на сайте закрепления, разделитель области называется *по умолчанию разделитель*. Разделитель области по умолчанию несет ответственность за макет закрепления панели на сайте закрепления. В диспетчере закрепления поддерживает список разделителей области по умолчанию и список областей. Dock диспетчеры отвечают за макет закрепления панелей.

## <a name="containers"></a>Контейнеры

В любой области регулируемого размера, при закреплении друг к другу, хранятся в контейнерах. Контейнеры, представляются [класс CPaneContainer](../mfc/reference/cpanecontainer-class.md). Каждый контейнер содержит указатели на его левой, правой панели, левой вложенным контейнером, правом вложенным контейнером и разделитель между левой и правой частей. (*Слева* и *правой* ссылается физических сторон, но вместо этого определите ветви, структуры дерева.) Таким образом можно собрать в дереве области и разделителей и таким образом добиться сложные макеты панелей, которые могут изменяться вместе. `CPaneContainer` Класс поддерживает дерево контейнеров; Кроме того, обеспечена два списка областей и ползунки, которые находятся в этом дереве. Диспетчеры контейнер области обычно внедряются в ползунки по умолчанию и области windows, которые содержат несколько областей.

## <a name="auto-hide-control-bars"></a>Автоматическое скрытие панелей элементов управления

По умолчанию каждый `CDockablePane` поддерживает функцию автоматического скрытия. Когда пользователь щелкает кнопку закрепления в заголовок `CDockablePane`, платформа области переключается в режим автоматического скрытия. Для обработки щелчка, платформа создает [класс CMFCAutoHideBar](../mfc/reference/cmfcautohidebar-class.md) и [класс CMFCAutoHideButton](../mfc/reference/cmfcautohidebutton-class.md) связанные с `CMFCAutoHideBar` объекта. Платформа помещает новый `CMFCAutoHideBar` на [CAutoHideDockSite](../mfc/reference/cautohidedocksite-class.md). Кроме того, платформа присоединяет `CMFCAutoHideButton` панель инструментов. [CDockingManager Class](../mfc/reference/cdockingmanager-class.md) поддерживает `CDockablePane`.

## <a name="tabbed-control-bars-and-outlook-bars"></a>С вкладками панели элементов управления и панели Outlook

[Класс CMFCBaseTabCtrl](../mfc/reference/cmfcbasetabctrl-class.md) реализует базовую функциональность окна с вкладками с отделяемыми вкладками. Чтобы использовать `CMFCBaseTabCtrl` объекта, инициализировать [класс CBaseTabbedPane](../mfc/reference/cbasetabbedpane-class.md) в приложении. `CBaseTabbedPane` является производным от `CDockablePane` и поддерживает указатель `CMFCBaseTabCtrl` объекта. `CBaseTabbedPane` Дает пользователям возможность закрепления и изменение размера панелей элементов управления с вкладками. Используйте [CDockablePane::AttachToTabWnd](../mfc/reference/cdockablepane-class.md#attachtotabwnd) для динамического создания панелей элементов управления, которые закреплено и с вкладками.

Элемент управления панели Outlook также основана на полосы с вкладками. [Класс CMFCOutlookBar](../mfc/reference/cmfcoutlookbar-class.md) является производным от `CBaseTabbedPane`. Дополнительные сведения о том, как использовать панель Outlook см. в разделе [класс CMFCOutlookBar](../mfc/reference/cmfcoutlookbar-class.md).

## <a name="see-also"></a>См. также

[Основные понятия](../mfc/mfc-concepts.md)
