---
title: Инициализация и очистка документов и представлений
ms.date: 11/04/2016
helpviewer_keywords:
- initializing documents [MFC]
- views [MFC], cleaning up
- documents [MFC], initializing
- documents [MFC], cleaning up
- views [MFC], initializing
- initializing objects [MFC], document objects
- document objects [MFC], life cycle of
- initializing views [MFC]
ms.assetid: 95d6f09b-a047-4079-856a-ae7d0548e9d2
ms.openlocfilehash: c5beed5618d4fa991160ad1688a5a686aeaa842f
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84626369"
---
# <a name="initializing-and-cleaning-up-documents-and-views"></a>Инициализация и очистка документов и представлений

Используйте следующие рекомендации для инициализации и очистки документов и представлений:

- Платформа MFC инициализирует документы и представления. Вы инициализируйте все добавленные в них данные.

- Платформа очищается по мере закрытия документов и представлений. необходимо освободить память, выделенную в куче, из функций элементов этих документов и представлений.

> [!NOTE]
> Помните, что инициализация всего приложения лучше всего выполняется в переопределении функции-члена [InitInstance](reference/cwinapp-class.md#initinstance) класса `CWinApp` , а очистка для всего приложения лучше всего выполняется в переопределении `CWinApp` функции-члена [ExitInstance](reference/cwinapp-class.md#exitinstance).

Жизненный цикл документа (и его фрейм окна, представления или представления) в приложении MDI выглядит следующим образом:

1. Во время динамического создания вызывается конструктор документа.

1. Для каждого нового документа вызывается [онневдокумент](reference/cdocument-class.md#onnewdocument) или [OnOpenDocument](reference/cdocument-class.md#onopendocument) документа.

1. Пользователь взаимодействует с документом в течение всего его времени существования. Обычно это происходит, когда пользователь работает с данными документа через представление, выбирая и редактируя данные. Представление передает изменения в документ для хранения и обновления других представлений. В это время как документ, так и представление могут работать с командами.

1. Платформа вызывает [делетеконтентс](reference/cdocument-class.md#deletecontents) для удаления данных, относящихся к документу.

1. Вызывается деструктор документа.

В приложении SDI шаг 1 выполняется один раз при первом создании документа. Шаги с 2 по 4 выполняются повторно при каждом открытии нового документа. Новый документ повторно использует существующий объект документа. Наконец, шаг 5 выполняется при завершении приложения.

## <a name="what-do-you-want-to-know-more-about"></a>Что вы хотите узнать подробнее

- [Инициализация документов и представлений](initializing-documents-and-views.md)

- [Очистка документов и представлений](cleaning-up-documents-and-views.md)

## <a name="see-also"></a>См. также раздел

[Архитектура документа/представления](document-view-architecture.md)
