---
title: Понятие объекта CArchive
ms.date: 11/04/2016
f1_keywords:
- CArchive
helpviewer_keywords:
- archive objects [MFC]
- archives [MFC], for serialization
- buffers, serializable objects
- CArchive class [MFC], about CArchive class [MFC]
- buffering, serializable objects
ms.assetid: 843f1825-288d-4d89-a1fa-70e1f92d9b8b
ms.openlocfilehash: 4bae451168449ce3e120ba9d172a615864ac2157
ms.sourcegitcommit: c6f8e6c2daec40ff4effd8ca99a7014a3b41ef33
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/24/2019
ms.locfileid: "64346377"
---
# <a name="what-is-a-carchive-object"></a>Понятие объекта CArchive

Объект `CArchive` объект предоставляет типобезопасный механизм буферизации для записи или чтения сериализуемые объекты с клиента или на `CFile` объекта. Обычно `CFile` представляет файл на диске; тем не менее, это также может быть файл памяти (`CSharedFile` объекта), возможно, представляющий в буфер обмена.

Заданный `CArchive` объекта либо хранилищ (записывает, сериализует) данных или загружает (считывает, десериализует) данных, но не оба. Жизненного цикла `CArchive` объект ограничена одному проходу по записи объектов в файл или при чтении объектов из файла. Таким образом, два последовательно создан `CArchive` объекты необходимы для сериализации данных в файл и затем десериализовать его обратно из файла.

Когда архив сохраняет объекты в файл, архив присоединяет `CRuntimeClass` имя к объектам. Затем, когда другой архива загружает объекты из файла в память, `CObject`-производные объекты воссоздаются динамически на основе `CRuntimeClass` объектов. Данный объект может ссылаться более одного раза, как он записывается в файл путем сохранения архива. При загрузке резервной копии, тем не менее, будет восстановления объекта только один раз. Сведения о как архив присоединяет `CRuntimeClass` сведения объекты и восстанавливает объекты, учитывая возможные несколько ссылок, описаны в [технические Примечание 2](../mfc/tn002-persistent-object-data-format.md).

Как данные сериализуются в архив, архив накапливает данные до полного заполнения буфера. Затем архив записывает свой буфер в `CFile` объекта, на который указывает `CArchive` объекта. Точно так же как для чтения данных из архива, он считывает данные из файла в буфер, а затем из буфера для вашей Десериализованный объект. Эту буферизацию уменьшает количество раз, когда жесткий диск физически считывается, что повышает производительность вашего приложения.

## <a name="see-also"></a>См. также

[Сериализация. Сериализация объекта](../mfc/serialization-serializing-an-object.md)
