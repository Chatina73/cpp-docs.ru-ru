---
title: 'TN029: Окна разделителей'
ms.date: 11/04/2016
f1_keywords:
- vc.windows.splitter
helpviewer_keywords:
- TN029
- splitter windows [MFC], about splitter windows
ms.assetid: 2c57ce99-2a3c-4eff-9cea-baccb13af075
ms.openlocfilehash: 0c27545c6f425eda952e87c80ed1d37de9e1093a
ms.sourcegitcommit: c3093251193944840e3d0a068ecc30e6449624ba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2019
ms.locfileid: "57294997"
---
# <a name="tn029-splitter-windows"></a>TN029: Окна разделителей

Эта заметка описывает MFC [класса CSplitterWnd](../mfc/reference/csplitterwnd-class.md), он предоставляет окно разделяет, а также управляет изменение размера окон другие области.

## <a name="splitter-styles"></a>Стили разделителя

Объект `CSplitterWnd` поддерживает два различных стиля разделения windows.

В «статический разделителями» окна разделителя создает область при его создании. Никогда не изменяйте порядок и число областей. Полосы разделения используются для изменения размеров различных областей. Этот стиль можно использовать для отображения класс другое представление в каждой панели. Графический редактор Visual C++ и диспетчер файлов Windows являются примерами программ, использующих этот стиль разделителя. Этот стиль окна разделителя не использует разделитель полей.

В «динамический разделителями» дополнительные области создаются и удаляются как пользователь разбиения и разбиения отмены новые представления. Этот разделитель начинается с одним представлением и предоставляет разделитель поля для пользователя инициировать разделения. Разделитель окна динамически создает новый объект представления, при разбиении представления в одном направлении. Этот новый объект представления представляет новую область. Если представление будет разбит в двух направлениях, с помощью интерфейса клавиатуры, разделитель окна создает три новых объектов представления для трех новых областей. При активном разбиения Windows как разделитель между областями отображается разделитель. Windows удаляет объекты дополнительное представление, когда пользователь удаляет разбиения, но исходное представление остается до самого окна разделителя уничтожается. Microsoft Excel и Microsoft Word являются примерами приложений, использующих динамический разделитель стиль.

При создании любого вида окна разделителя, необходимо указать максимальное число строк и столбцов, которые будут управлять разделителя. Статический разделитель будет создавать области для заполнения всех строк и столбцов. Динамический разделитель будет создан только первая область при `CSplitterWnd` создается.

Максимальное число областей, которые можно указать для статических разделителей — 16 строк по 16 столбцов. Ниже приведены рекомендуемые конфигурации.

- 1 строка x 2 столбцы: обычно с помощью различных областей

- столбец 2 строки x 1: обычно с помощью различных областей

- столбцы 2 строки x 2: обычно которых аналогичные области

Максимальное число областей, которые можно указать для динамического разделителей — 2 строк с двумя столбцами. Ниже приведены рекомендуемые конфигурации.

- 1 строка x 2 столбцы: для хранения данных

- столбец 2 строки x 1: текстовое или других данных.

- столбцы 2 строки x 2: для сетки или таблицы ориентированного данных

## <a name="splitter-examples"></a>Примеры разделителя

Многие из примеров программ MFC используют окна разделителей, прямо или косвенно. Пример MFC Общие [VIEWEX](../visual-cpp-samples.md) показано несколько раз используется статический разделителей, в том числе о способах размещения разделителя в разделителе.

ClassWizard также можно создать несколько документов интерфейса (MDI) дочерний класс окна фрейма, содержащий окна разделителя. Дополнительные сведения о окна разделителей, см. в разделе [несколько типов документов, представлений и фрейма Windows](../mfc/multiple-document-types-views-and-frame-windows.md).

## <a name="terminology-used-by-implementation"></a>Терминология, используемая в реализации

Ниже приведен список терминов, относящихся к окна разделителей:

`CSplitterWnd`: Окно, которое предоставляет разделения панели элементов и полосами прокрутки, которые являются общими для всех областей в строке или столбце. Выбор строк и столбцов с числами, отсчитываемый от нуля (Первая область является строкой, = 0 и столбце = 0).

Область: Откроется окно приложения, `CSplitterWnd` управляет. Область обычно является объект, который является производным от [CView Class](../mfc/reference/cview-class.md), но может быть любым [CWnd](../mfc/reference/cwnd-class.md) объекта с идентификатором соответствующее дочернее окно.

Для использования `CWnd`-производным, передать RUNTIME_CLASS объекта `CreateView` работать как при использовании `CView`-производного класса. Класс необходимо использовать DECLARE_DYNCREATE и IMPLEMENT_DYNCREATE, так как инфраструктура использует динамическое создание во время выполнения. Несмотря на то, что есть много кода в `CSplitterWnd` об `CView` класс, [CObject::IsKindOf](../mfc/reference/cobject-class.md#iskindof) всегда используется, прежде чем эти действия выполняются.

Разделитель: Элемент управления, который помещается между строками и столбцами из панелей. Он может использоваться для настройки размеров строк или столбцов из панелей.

Поле разделитель: Элемент управления в динамический `CSplitterWnd` , можно использовать для создания новых строк или столбцов из панелей. Он находится в верхней части вертикальных полос прокрутки или слева от горизонтальные полосы прокрутки.

Пересечение разделителя: Пересечение на вертикальный разделитель и на горизонтальный разделитель. Можно перетащить его, чтобы изменить размер строки и столбца панели одновременно.

## <a name="shared-scroll-bars"></a>Общей полосы прокрутки

`CSplitterWnd` Класс также поддерживает полос прокрутки общего. Этих элементов управления полосы прокрутки являются дочерними элементами `CSplitterWnd` и являются общими для различных областей в разделителя.

Например, в окне столбца 1 строка x 2, можно указать WS_VSCROLL при создании `CSplitterWnd`. Windows создает специальный полосы прокрутки, при который разделяется между двумя областями.

```
[      ][      ][^]
[pane00][pane01][|]
[      ][      ][v]
```

Когда пользователь перемещает полосу прокрутки, WM_VSCROLL сообщения будут отправляться в обоих представлениях. При любом представления задает положение полосы прокрутки, полосы прокрутки общего будут устанавливаться.

Обратите внимание, что полосы прокрутки общего наиболее полезных с аналогичными объектами представления. Если используются представления различных типов в разделитель, может потребоваться писать специальный код, чтобы координировать свои позиции прокрутки. Любой `CView`-производный класс, который использует `CWnd` полосы прокрутки, API-интерфейсы будут делегировать полосу прокрутки общего, если он существует. `CScrollView` Реализации является одним из примеров `CView` класс, который поддерживает shared полосы прокрутки. Классы, которые не являются производными от `CView`, классы, которые зависят от полос прокрутки без элемента управления или классы, использующие стандартные реализации Windows (например, `CEditView`) не будет работать с функцией прокрутки общей панели `CSplitterWnd`.

## <a name="minimum-sizes"></a>Минимальный размер

Для каждой строки имеется минимальную высоту строки, и для каждого столбца есть минимальную ширину колонки. Это минимальное значение гарантирует, что панель не слишком мал для отображения в полные подробные сведения.

Для окна со статическим разделителем начальной строки минимальное высоте и столбец ширина равна 0. Для окно с динамическим разделителем, ширина высоте и столбец начальное минимальное строки задаются *sizeMin* параметр `CSplitterWnd::Create` функции.

Эти минимальные размеры можно изменить с помощью [CSplitterWnd::SetRowInfo](../mfc/reference/csplitterwnd-class.md#setrowinfo) и [CSplitterWnd::SetColumnInfo](../mfc/reference/csplitterwnd-class.md#setcolumninfo) функции.

## <a name="actual-vs-ideal-sizes"></a>Фактический vs. Идеальный размер

Макет панели окна разделителя зависит от размера кадра, который содержит их. При изменении пользователем размера содержащего кадр `CSplitterWnd` перемещает и изменяет размер области, чтобы разместить их, а также возможно.

Пользователь может вручную задать строку размеры ширины высоте и столбец, или программа могут идеального размера с помощью `CSplitterWnd` класса. Фактический размер может быть меньше или больше идеальный вариант. Windows скорректирует фактический размер, если не хватает места, чтобы отобразить идеального размера или если имеется слишком много пустого пространства, по правому или нижнему краю окна разделителя.

## <a name="custom-controls"></a>Пользовательские элементы управления

Вы можете переопределить множество функций для обеспечения настроенное поведение и функциональный интерфейс. Можно переопределить этот первый набор для предоставления альтернативного изображения для различных компонентов графического окна-разделителя.

- `virtual void OnDrawSpltter(CDC* pDC, ESplitType nType, const CRect& rect);`

- `virtual void OnInvertTracker(const CRect& rect);`

Эта функция для создания общего полосы прокрутки. Его можно переопределить для создания дополнительных элементов управления рядом с полосой прокрутки.

- `virtual BOOL CreateScrollBarCtrl(DWORD dwStyle, UINT nID);`

Эти функции реализации логики окно с динамическим разделителем. Их можно переопределить для предоставления более сложную логику разделителя.

- `virtual void DeleteView(int row, int col);`

- `virtual BOOL SplitRow(int cyBefore);`

- `virtual BOOL SplitColumn(int cxBefore);`

- `virtual void DeleteRow(int rowDelete);`

- `virtual void DeleteColumn(int colDelete);`

## <a name="cview-functionality"></a>Функциональные возможности CView

`CView` Класс использует следующие команды верхнего уровня на делегирование для `CSplitterWnd` реализации. Так как эти команды являются виртуальными, стандарте `CView` реализации не потребуется всего `CSplitterWnd` реализации должны быть связаны в. Для приложений, использующих `CView` , но не `CSplitterWnd`, `CSplitterWnd` реализации не будут связаны с приложением.

- `virtual BOOL CanActivateNext(BOOL bPrev = FALSE);`

   Проверяет, является ли ID_NEXT_PANE или ID_PREV_PANE сейчас невозможно.

- `virtual void ActivateNext(BOOL bPrev = FALSE);`

   Выполняет команду «Следующая область» или «Предыдущая область».

- `virtual BOOL DoKeyboardSplit();`

   Выполняет команду, обычно «разделить окно» разделения клавиатуры.

## <a name="see-also"></a>См. также

[Технические примечания по номеру](../mfc/technical-notes-by-number.md)<br/>
[Технические примечания по категории](../mfc/technical-notes-by-category.md)
