---
title: Макрос ON_UPDATE_COMMAND_UI
ms.date: 09/06/2019
f1_keywords:
- ON_UPDATE_COMMAND_UI
helpviewer_keywords:
- ON_UPDATE_COMMAND_UI macro [MFC]
- update handlers [MFC]
- command-handler macros
- updating user-interface objects [MFC]
ms.assetid: 3e72b50f-4119-4c82-81cf-6e09b132de05
ms.openlocfilehash: ba5a48fabb9142c080e688e189e0983ad5ba2eda
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84624050"
---
# <a name="on_update_command_ui-macro"></a>Макрос ON_UPDATE_COMMAND_UI

Чтобы подключить объект пользовательского интерфейса к обработчику обновления команд в целевом объекте Command, откройте **представление классов**, щелкните правой кнопкой мыши класс, в который будет добавлен обработчик, и выберите пункт **мастер классов**. Найдите идентификатор объекта пользовательского интерфейса в списке слева, а затем выберите **UPDATE_COMMAND_UI** на правой панели и нажмите кнопку **Добавить обработчик**. При этом создается функция обработчика в классе и добавляется соответствующая запись в схеме сообщений. Дополнительные сведения см. [в разделе Сопоставление сообщений с функциями](reference/mapping-messages-to-functions.md) . На панели **сообщений** можно указать дополнительные сообщения для работы.

Например, чтобы обновить команду Очистить все в меню редактирования программы, используйте **мастер классов** для добавления записи схемы сообщения в выбранный класс, объявление функции для обработчика командного обновления, вызываемого `OnUpdateEditClearAll` в объявлении класса, и пустой шаблон функции в файле реализации класса. Прототип функции выглядит следующим образом:

[!code-cpp[NVC_MFCDocView#2](codesnippet/cpp/on-update-command-ui-macro_1.h)]

Как и все обработчики, в объявлении функции отображается ключевое слово **afx_msg** . Как и все обработчики обновлений, он принимает один аргумент — указатель на `CCmdUI` объект.

## <a name="see-also"></a>См. также раздел

[Практическое руководство. Обновление объектов интерфейса пользователя](how-to-update-user-interface-objects.md)
