---
title: Макрос ON_UPDATE_COMMAND_UI
ms.date: 09/06/2019
f1_keywords:
- ON_UPDATE_COMMAND_UI
helpviewer_keywords:
- ON_UPDATE_COMMAND_UI macro [MFC]
- update handlers [MFC]
- command-handler macros
- updating user-interface objects [MFC]
ms.assetid: 3e72b50f-4119-4c82-81cf-6e09b132de05
ms.openlocfilehash: 467e130f3e6518cc4ec554f6574fb9fcbabaf1f3
ms.sourcegitcommit: 3caf5261b3ea80d9cf14038c116ba981d655cd13
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2019
ms.locfileid: "70907951"
---
# <a name="on_update_command_ui-macro"></a>Макрос ON_UPDATE_COMMAND_UI

Чтобы подключить объект пользовательского интерфейса к обработчику обновления команд в целевом объекте Command, откройте **представление классов**, щелкните правой кнопкой мыши класс, в который будет добавлен обработчик, и выберите пункт **мастер классов**. Найдите идентификатор объекта пользовательского интерфейса в списке слева, а затем выберите **UPDATE_COMMAND_UI** в правой области и нажмите кнопку **Добавить обработчик**. При этом создается функция обработчика в классе и добавляется соответствующая запись в схеме сообщений. Дополнительные сведения см. [в разделе Сопоставление сообщений с функциями](../mfc/reference/mapping-messages-to-functions.md) . На панели **сообщений** можно указать дополнительные сообщения для работы. 

Например, чтобы обновить команду Очистить все в меню редактирования программы, используйте **мастер классов** , чтобы добавить запись схемы сообщения в выбранный класс, объявление функции для обработчика обновления команд, вызываемого `OnUpdateEditClearAll` в объявлении класса, и пустой элемент шаблон функции в файле реализации класса. Прототип функции выглядит следующим образом:

[!code-cpp[NVC_MFCDocView#2](../mfc/codesnippet/cpp/on-update-command-ui-macro_1.h)]

Как и все обработчики, объявление функции показывает ключевое слово **afx_msg** . Как и все обработчики обновлений, он принимает один аргумент — указатель на `CCmdUI` объект.

## <a name="see-also"></a>См. также

[Практическое руководство. Обновление объектов пользовательского интерфейса](../mfc/how-to-update-user-interface-objects.md)
