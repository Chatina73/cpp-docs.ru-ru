---
title: Рисование изображений из списка изображений
ms.date: 11/04/2016
helpviewer_keywords:
- CImageList class [MFC], drawing images from
- drawing [MFC], images from image lists
- image lists [MFC], drawing images from
- images [MFC], drawing
ms.assetid: 2f6063fb-1c28-45f8-a333-008c064db11c
ms.openlocfilehash: e2058c727620c9aae4ccd9a3fbeaae02c78ce8c6
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62262805"
---
# <a name="drawing-images-from-an-image-list"></a>Рисование изображений из списка изображений

Чтобы рисовать изображения, используйте [CImageList::Draw](../mfc/reference/cimagelist-class.md#draw) функция-член. Вы указываете указатель на объект контекста устройства, индекс изображения для рисования, расположение, в контексте устройства, по которому должно быть нарисовано изображение, а также набор флагов, чтобы указать стиль рисования.

При указании **ILD_TRANSPARENT** стиль, `Draw` использует для рисования скрытого изображения в два этапа. Во-первых, он выполняет логическую- и операции на биты изображения и биты маски. Затем он выполняет операцию логического исключающего или на результаты первой операции и биты фона контекста устройства назначения. Этот процесс создает прозрачные области в создаваемое изображение; т. е каждого белый бита в маске вызывает соответствующий бит в создаваемое изображение прозрачным.

До начала рисования скрытого изображения на сплошной цветной фон, следует использовать [SetBkColor](../mfc/reference/cimagelist-class.md#setbkcolor) функция-член для задания цвета фона списка изображений тот же цвет в качестве места назначения. Задание цвета избавляет от необходимости Создание прозрачных областей на рисунке и позволяет `Draw` просто скопировать образ в контексте устройства назначения, приводит к значительному увеличению производительности. Для рисования изображения, укажите **ILD_NORMAL** при вызове в стиле `Draw`.

Можно задать цвет фона, список скрытого изображения ([CImageList](../mfc/reference/cimagelist-class.md)) в любое время, так что он правильно рисует на любой сплошной фон. Установка цвета фона **CLR_NONE** вызывает образы рисуется прозрачно по умолчанию. Получить цвет фона элемента списка изображений с помощью [GetBkColor](../mfc/reference/cimagelist-class.md#getbkcolor) функция-член.

**ILD_BLEND25** и **ILD_BLEND50** стили сглаживание изображения с системным цветом выделения. Эти стили полезны при использовании маскированные изображение для представления объекта, пользователь может выбрать. Например, можно использовать **ILD_BLEND50** стиля для рисования изображения в том случае, когда пользователь выбирает его.

Nonmasked образ копируется в контексте устройства назначения с помощью `SRCCOPY` растровая операция. На рисунке одинаковых независимо от того, цвет фона контекста устройства. Стили рисования, указанный в `Draw` также не оказывают влияния на nonmasked изображения.

В дополнение к функции-члену Draw, другую функцию [DrawIndirect](../mfc/reference/cimagelist-class.md#drawindirect), расширяет возможности отрисовки изображения. `DrawIndirect` принимает в качестве параметра, [IMAGELISTDRAWPARAMS](/windows/desktop/api/commctrl/ns-commctrl-_imagelistdrawparams) структуры. Эту структуру можно использовать для настройки обработки текущего изображения, включая использование коды растровых операций (Верхнем). Дополнительные сведения о кодах ROP, см. в разделе [коды растровых операций](/windows/desktop/gdi/raster-operation-codes) и [растровых изображений как кисти](/windows/desktop/gdi/bitmaps-as-brushes) в пакете Windows SDK.

## <a name="see-also"></a>См. также

[Использование CImageList](../mfc/using-cimagelist.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
