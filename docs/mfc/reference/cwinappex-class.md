---
title: Класс CWinAppEx
ms.date: 11/04/2016
f1_keywords:
- CWinAppEx
- AFXWINAPPEX/CWinAppEx
- AFXWINAPPEX/CWinAppEx::CWinAppEx
- AFXWINAPPEX/CWinAppEx::CleanState
- AFXWINAPPEX/CWinAppEx::EnableLoadWindowPlacement
- AFXWINAPPEX/CWinAppEx::EnableTearOffMenus
- AFXWINAPPEX/CWinAppEx::EnableUserTools
- AFXWINAPPEX/CWinAppEx::ExitInstance
- AFXWINAPPEX/CWinAppEx::GetBinary
- AFXWINAPPEX/CWinAppEx::GetContextMenuManager
- AFXWINAPPEX/CWinAppEx::GetDataVersion
- AFXWINAPPEX/CWinAppEx::GetDataVersionMajor
- AFXWINAPPEX/CWinAppEx::GetDataVersionMinor
- AFXWINAPPEX/CWinAppEx::GetInt
- AFXWINAPPEX/CWinAppEx::GetKeyboardManager
- AFXWINAPPEX/CWinAppEx::GetMouseManager
- AFXWINAPPEX/CWinAppEx::GetObject
- AFXWINAPPEX/CWinAppEx::GetRegSectionPath
- AFXWINAPPEX/CWinAppEx::GetRegistryBase
- AFXWINAPPEX/CWinAppEx::GetSectionBinary
- AFXWINAPPEX/CWinAppEx::GetSectionInt
- AFXWINAPPEX/CWinAppEx::GetSectionObject
- AFXWINAPPEX/CWinAppEx::GetSectionString
- AFXWINAPPEX/CWinAppEx::GetShellManager
- AFXWINAPPEX/CWinAppEx::GetString
- AFXWINAPPEX/CWinAppEx::GetTooltipManager
- AFXWINAPPEX/CWinAppEx::GetUserToolsManager
- AFXWINAPPEX/CWinAppEx::InitContextMenuManager
- AFXWINAPPEX/CWinAppEx::InitKeyboardManager
- AFXWINAPPEX/CWinAppEx::InitMouseManager
- AFXWINAPPEX/CWinAppEx::InitShellManager
- AFXWINAPPEX/CWinAppEx::InitTooltipManager
- AFXWINAPPEX/CWinAppEx::IsResourceSmartUpdate
- AFXWINAPPEX/CWinAppEx::IsStateExists
- AFXWINAPPEX/CWinAppEx::LoadState
- AFXWINAPPEX/CWinAppEx::OnAppContextHelp
- AFXWINAPPEX/CWinAppEx::OnViewDoubleClick
- AFXWINAPPEX/CWinAppEx::OnWorkspaceIdle
- AFXWINAPPEX/CWinAppEx::SaveState
- AFXWINAPPEX/CWinAppEx::SetRegistryBase
- AFXWINAPPEX/CWinAppEx::ShowPopupMenu
- AFXWINAPPEX/CWinAppEx::WriteBinary
- AFXWINAPPEX/CWinAppEx::WriteInt
- AFXWINAPPEX/CWinAppEx::WriteObject
- AFXWINAPPEX/CWinAppEx::WriteSectionBinary
- AFXWINAPPEX/CWinAppEx::WriteSectionInt
- AFXWINAPPEX/CWinAppEx::WriteSectionObject
- AFXWINAPPEX/CWinAppEx::WriteSectionString
- AFXWINAPPEX/CWinAppEx::WriteString
- AFXWINAPPEX/CWinAppEx::LoadCustomState
- AFXWINAPPEX/CWinAppEx::LoadWindowPlacement
- AFXWINAPPEX/CWinAppEx::OnClosingMainFrame
- AFXWINAPPEX/CWinAppEx::PreLoadState
- AFXWINAPPEX/CWinAppEx::PreSaveState
- AFXWINAPPEX/CWinAppEx::ReloadWindowPlacement
- AFXWINAPPEX/CWinAppEx::SaveCustomState
- AFXWINAPPEX/CWinAppEx::StoreWindowPlacement
- AFXWINAPPEX/CWinAppEx::m_bForceImageReset
helpviewer_keywords:
- CWinAppEx [MFC], CWinAppEx
- CWinAppEx [MFC], CleanState
- CWinAppEx [MFC], EnableLoadWindowPlacement
- CWinAppEx [MFC], EnableTearOffMenus
- CWinAppEx [MFC], EnableUserTools
- CWinAppEx [MFC], ExitInstance
- CWinAppEx [MFC], GetBinary
- CWinAppEx [MFC], GetContextMenuManager
- CWinAppEx [MFC], GetDataVersion
- CWinAppEx [MFC], GetDataVersionMajor
- CWinAppEx [MFC], GetDataVersionMinor
- CWinAppEx [MFC], GetInt
- CWinAppEx [MFC], GetKeyboardManager
- CWinAppEx [MFC], GetMouseManager
- CWinAppEx [MFC], GetObject
- CWinAppEx [MFC], GetRegSectionPath
- CWinAppEx [MFC], GetRegistryBase
- CWinAppEx [MFC], GetSectionBinary
- CWinAppEx [MFC], GetSectionInt
- CWinAppEx [MFC], GetSectionObject
- CWinAppEx [MFC], GetSectionString
- CWinAppEx [MFC], GetShellManager
- CWinAppEx [MFC], GetString
- CWinAppEx [MFC], GetTooltipManager
- CWinAppEx [MFC], GetUserToolsManager
- CWinAppEx [MFC], InitContextMenuManager
- CWinAppEx [MFC], InitKeyboardManager
- CWinAppEx [MFC], InitMouseManager
- CWinAppEx [MFC], InitShellManager
- CWinAppEx [MFC], InitTooltipManager
- CWinAppEx [MFC], IsResourceSmartUpdate
- CWinAppEx [MFC], IsStateExists
- CWinAppEx [MFC], LoadState
- CWinAppEx [MFC], OnAppContextHelp
- CWinAppEx [MFC], OnViewDoubleClick
- CWinAppEx [MFC], OnWorkspaceIdle
- CWinAppEx [MFC], SaveState
- CWinAppEx [MFC], SetRegistryBase
- CWinAppEx [MFC], ShowPopupMenu
- CWinAppEx [MFC], WriteBinary
- CWinAppEx [MFC], WriteInt
- CWinAppEx [MFC], WriteObject
- CWinAppEx [MFC], WriteSectionBinary
- CWinAppEx [MFC], WriteSectionInt
- CWinAppEx [MFC], WriteSectionObject
- CWinAppEx [MFC], WriteSectionString
- CWinAppEx [MFC], WriteString
- CWinAppEx [MFC], LoadCustomState
- CWinAppEx [MFC], LoadWindowPlacement
- CWinAppEx [MFC], OnClosingMainFrame
- CWinAppEx [MFC], PreLoadState
- CWinAppEx [MFC], PreSaveState
- CWinAppEx [MFC], ReloadWindowPlacement
- CWinAppEx [MFC], SaveCustomState
- CWinAppEx [MFC], StoreWindowPlacement
- CWinAppEx [MFC], m_bForceImageReset
ms.assetid: a3d3e053-3e22-463f-9444-c73abb1bb9d7
ms.openlocfilehash: c222567703d0e57480c00f6f2bf9e78f16979150
ms.sourcegitcommit: c3093251193944840e3d0a068ecc30e6449624ba
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2019
ms.locfileid: "57288835"
---
# <a name="cwinappex-class"></a>Класс CWinAppEx

`CWinAppEx` Обрабатывает состояние приложения, сохраняет состояние в реестр, загружает состояние из реестра, инициализирует диспетчеры приложения и приводятся ссылки на эти те же диспетчеры приложения.

   Дополнительные сведения см. в исходном коде, расположенном в папке **VC\\atlmfc\\src\\mfc** каталога установки Visual Studio.
## <a name="syntax"></a>Синтаксис

```
class CWinAppEx : public CWinApp
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание:|
|----------|-----------------|
|[CWinAppEx::CWinAppEx](#cwinappex)|Создает объект `CWinAppEx`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CWinAppEx::CleanState](#cleanstate)|Удаляет сведения о приложении из реестра Windows.|
|[CWinAppEx::EnableLoadWindowPlacement](#enableloadwindowplacement)|Указывает, будет ли приложение загрузить исходный размер и расположение фрейма главного окна из реестра.|
|[CWinAppEx::EnableTearOffMenus](#enabletearoffmenus)|Включает перемещаемое меню для приложения.|
|[CWinAppEx::EnableUserTools](#enableusertools)|Позволяет пользователю создавать пользовательских команд меню в приложении.|
|[CWinAppEx::ExitInstance](#exitinstance)|Вызывается платформой изнутри `Run` функцию-член для выхода из этого экземпляра приложения. (Переопределяет [CWinApp::ExitInstance](../../mfc/reference/cwinapp-class.md#exitinstance).)|
|[CWinAppEx::GetBinary](#getbinary)|Считывает двоичные данные, связанные со значением указанного раздела.|
|[CWinAppEx::GetContextMenuManager](#getcontextmenumanager)|Возвращает указатель на глобальную [CContextMenuManager](../../mfc/reference/ccontextmenumanager-class.md) объекта.|
|[CWinAppEx::GetDataVersion](#getdataversion)||
|[CWinAppEx::GetDataVersionMajor](#getdataversionmajor)|Возвращает основной номер версии приложения, сохраненных в реестре Windows.|
|[CWinAppEx::GetDataVersionMinor](#getdataversionminor)|Возвращает дополнительный номер версии приложения, сохраненных в реестре Windows.|
|[CWinAppEx::GetInt](#getint)|Считывает числовых данных, связанный с указанным значением из реестра.|
|[CWinAppEx::GetKeyboardManager](#getkeyboardmanager)|Возвращает указатель на глобальную [CKeyboardManager](../../mfc/reference/ckeyboardmanager-class.md) объекта.|
|[CWinAppEx::GetMouseManager](#getmousemanager)|Возвращает указатель на глобальную [CMouseManager](../../mfc/reference/cmousemanager-class.md) объекта.|
|[CWinAppEx::GetObject](#getobject)|Считывает `CObject`-производные данные, связанные с указанным значением из реестра.|
|[CWinAppEx::GetRegSectionPath](#getregsectionpath)|Возвращает строку, — это путь к разделу реестра. Этот путь соединяет предоставленный относительный путь на путь приложения.|
|[CWinAppEx::GetRegistryBase](#getregistrybase)|Возвращает путь в реестре для приложения.|
|[CWinAppEx::GetSectionBinary](#getsectionbinary)|Считывает двоичных данных, связанный с указанным ключом и значением из реестра.|
|[CWinAppEx::GetSectionInt](#getsectionint)|Считывает числовые данные из реестра, связанные с указанным ключом и значением.|
|[CWinAppEx::GetSectionObject](#getsectionobject)|Считывает `CObject` данные, связанные с указанным ключом и значением из реестра.|
|[CWinAppEx::GetSectionString](#getsectionstring)|Считывает строки данных, связанный с указанным ключом и значением из реестра.|
|[CWinAppEx::GetShellManager](#getshellmanager)|Возвращает указатель на глобальную [CShellManager](../../mfc/reference/cshellmanager-class.md) объекта.|
|[CWinAppEx::GetString](#getstring)|Считывает строки данных, связанный с указанным значением из реестра.|
|[CWinAppEx::GetTooltipManager](#gettooltipmanager)|Возвращает указатель на глобальную [CTooltipManager](../../mfc/reference/ctooltipmanager-class.md) объекта.|
|[CWinAppEx::GetUserToolsManager](#getusertoolsmanager)|Возвращает указатель на глобальную [CUserToolsManager](../../mfc/reference/cusertoolsmanager-class.md) объекта.|
|[CWinAppEx::InitContextMenuManager](#initcontextmenumanager)|Инициализирует `CContextMenuManager` объекта.|
|[CWinAppEx::InitKeyboardManager](#initkeyboardmanager)|Инициализирует `CKeyboardManager` объекта.|
|[CWinAppEx::InitMouseManager](#initmousemanager)|Инициализирует `CMouseManager` объекта.|
|[CWinAppEx::InitShellManager](#initshellmanager)|Инициализирует `CShellManager` класса|
|[CWinAppEx::InitTooltipManager](#inittooltipmanager)|Инициализирует `CTooltipManager` класса.|
|[CWinAppEx::IsResourceSmartUpdate](#isresourcesmartupdate)||
|[CWinAppEx::IsStateExists](#isstateexists)|Указывает, является ли указанный ключ в реестре.|
|[CWinAppEx::LoadState](#loadstate)|Загружает состояние приложения из реестра.|
|[CWinAppEx::OnAppContextHelp](#onappcontexthelp)|Вызывается платформой, когда пользователь запрашивает контекстная справка для **настройки** диалоговое окно.|
|[CWinAppEx::OnViewDoubleClick](#onviewdoubleclick)|Вызывает определяемую пользователем команду, при двойном щелчке в любом месте в приложении.|
|[CWinAppEx::OnWorkspaceIdle](#onworkspaceidle)||
|[CWinAppEx::SaveState](#savestate)|Записывает состояние платформы приложений в реестр Windows.|
|[CWinAppEx::SetRegistryBase](#setregistrybase)|Задает путь к разделу реестра по умолчанию. Этот ключ будет использоваться в качестве корневого для всех последующих обращений.|
|[CWinAppEx::ShowPopupMenu](#showpopupmenu)|Отображает всплывающее меню.|
|[CWinAppEx::WriteBinary](#writebinary)|Записывает двоичные данные для указанного значения реестра.|
|[CWinAppEx::WriteInt](#writeint)|Записывает указанный параметр реестра числовые данные.|
|[CWinAppEx::WriteObject](#writeobject)|Записывает данные, полученные из [класс CObject](../../mfc/reference/cobject-class.md) для указанного значения реестра.|
|[CWinAppEx::WriteSectionBinary](#writesectionbinary)|Записывает двоичные данные в значение из указанного раздела реестра.|
|[CWinAppEx::WriteSectionInt](#writesectionint)|Записывает значение из указанного раздела реестра числовые данные.|
|[CWinAppEx::WriteSectionObject](#writesectionobject)|Записывает данные, получаемые из `CObject` класс значение из указанного раздела реестра.|
|[CWinAppEx::WriteSectionString](#writesectionstring)|Записывает данные строки значение указанного раздела реестра.|
|[CWinAppEx::WriteString](#writestring)|Записывает указанный параметр реестра строковые данные.|

### <a name="protected-methods"></a>Защищенные методы

|Имя|Описание|
|----------|-----------------|
|[CWinAppEx::LoadCustomState](#loadcustomstate)|Вызывается платформой при загрузке состояния приложения.|
|[CWinAppEx::LoadWindowPlacement](#loadwindowplacement)|Вызывается платформой при загрузке размер и расположение приложения из реестра. Загруженные данные включает размер и расположение основного фрейма во время последнего закрытия приложения.|
|[CWinAppEx::OnClosingMainFrame](#onclosingmainframe)|Вызывается платформой, обрабатывая событие WM_CLOSE фрейма главного окна.|
|[CWinAppEx::PreLoadState](#preloadstate)|Вызывается платформой непосредственно перед загрузкой состояния приложения.|
|[CWinAppEx::PreSaveState](#presavestate)|Вызывается платформой непосредственно перед сохранением состояния приложения.|
|[CWinAppEx::ReloadWindowPlacement](#reloadwindowplacement)|Перезагружает размер и расположение окна, предоставленного из реестра|
|[CWinAppEx::SaveCustomState](#savecustomstate)|Вызвано структурой после он записывает состояние приложения в реестр.|
|[CWinAppEx::StoreWindowPlacement](#storewindowplacement)|Вызывается платформой для записи в реестр размер и расположение основного фрейма.|

### <a name="data-members"></a>Элементы данных

|name|Описание:|
|----------|-----------------|
|[CWinAppEx::m_bForceImageReset](#m_bforceimagereset)|Указывает ли платформа приведет к сбросу всех изображениям значков панели инструментов при загрузке окна фрейма, который содержит панели инструментов.|

## <a name="remarks"></a>Примечания

Большая часть функциональных возможностях, предоставляемых платформой MFC зависит `CWinAppEx` класса. Можно включить `CWinAppEx` класс в свое приложение в одном из двух способов:

- Создать `CWinAppEx` класс в основном потоке.

- Наследуйте класс от основного приложения `CWinAppEx`.

После внедрения `CWinAppEx` в приложение, вы можете инициализировать один из диспетчеров приложений. Прежде чем использовать диспетчер приложения, необходимо инициализировать его путем вызова метода соответствующие инициализации. Чтобы получить указатель на иному менеджеру, вызовите метод get связан. `CWinAppEx` Класс управляет следующие диспетчеры приложения: [Класс CMouseManager](../../mfc/reference/cmousemanager-class.md), [класс CContextMenuManager](../../mfc/reference/ccontextmenumanager-class.md), [класс CKeyboardManager](../../mfc/reference/ckeyboardmanager-class.md), [класс CUserToolsManager](../../mfc/reference/cusertoolsmanager-class.md), и [ Класс CMenuTearOffManager](../../mfc/reference/cmenutearoffmanager-class.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWinThread](../../mfc/reference/cwinthread-class.md)

[CWinApp](../../mfc/reference/cwinapp-class.md)

[CWinAppEx](../../mfc/reference/cwinappex-class.md)

## <a name="requirements"></a>Требования

**Заголовок:** afxwinappex.h

##  <a name="cleanstate"></a>  CWinAppEx::CleanState

Удаляет все сведения о приложении из реестра Windows.

```
virtual BOOL CleanState(LPCTSTR lpszSectionName=NULL);
```

### <a name="parameters"></a>Параметры

*lpszSectionName*<br/>
[in] Строка, содержащая путь раздела реестра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод был выполнен успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Этот метод очищает данные приложения из указанного раздела реестра. Этот раздел, чтобы очистить с помощью параметра можно указать *lpszSectionName*. Если *lpszSectionName* имеет значение NULL, этот метод будет использовать путь реестра по умолчанию, хранящиеся в `CWinAppEx` объекта. Чтобы получить путь к реестру по умолчанию, используйте [CWinAppEx::GetRegistryBase](#getregistrybase).

##  <a name="cwinappex"></a>  CWinAppEx::CWinAppEx

Создает объект `CWinAppEx`.

```
CWinAppEx(BOOL bResourceSmartUpdate = FALSE);
```

### <a name="parameters"></a>Параметры

*bResourceSmartUpdate*<br/>
[in] Логический параметр, который указывает, должен ли объект рабочей области определения и обработки обновления ресурса.

### <a name="remarks"></a>Примечания

`CWinAppEx` Класс содержит методы инициализации, предоставляет функциональные возможности для сохранения и загрузки сведений о приложении в реестр и управляет глобальные параметры приложения. Он также позволяет использовать глобальный диспетчеры, такие как [класс CKeyboardManager](../../mfc/reference/ckeyboardmanager-class.md) и [класс CUserToolsManager](../../mfc/reference/cusertoolsmanager-class.md). Каждое приложение может иметь только один экземпляр `CWinAppEx` класса.

##  <a name="enableloadwindowplacement"></a>  CWinAppEx::EnableLoadWindowPlacement

Указывает, будет ли приложение загрузить исходный размер и расположение фрейма главного окна из реестра.

```
void EnableLoadWindowPlacement(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
[in] Указывает, загружает ли приложение, исходный размер и расположение фрейма главного окна из реестра.

### <a name="remarks"></a>Примечания

По умолчанию размер и расположение основного фрейма загружается из реестра и другие параметры приложения. Это происходит во время [CWinAppEx::LoadState](#loadstate). Если вы не хотите загрузить размещения начального окна из реестра, этот метод вызывается со *bEnable* значение FALSE.

##  <a name="enabletearoffmenus"></a>  CWinAppEx::EnableTearOffMenus

Создает и инициализирует [CMenuTearOffManager](../../mfc/reference/cmenutearoffmanager-class.md) объекта.

```
BOOL EnableTearOffMenus(
    LPCTSTR lpszRegEntry,
    const UINT uiCmdFirst,
    const UINT uiCmdLast);
```

### <a name="parameters"></a>Параметры

*lpszRegEntry*<br/>
[in] Строка, содержащая путь к разделу реестра. Приложение использует этот раздел реестра для хранения сведений о перемещаемыми меню.

*uiCmdFirst*<br/>
[in] Идентификатор первого tear меню.

*uiCmdLast*<br/>
[in] Идентификатор последнего tear меню.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если `CMenuTearOffManager` создан и инициализирован успешно; Значение FALSE, если произошла ошибка, или если `CMenuTearOffManager` уже существует.

### <a name="remarks"></a>Примечания

Эта функция используется для включения перемещаемые меню в приложении. Вы должны вызвать эту функцию из `InitInstance`.

##  <a name="enableusertools"></a>  CWinAppEx::EnableUserTools

Позволяет пользователю создавать пользовательских команд меню, уменьшить число нажатий клавиш в приложении. Этот метод создает [CUserToolsManager](../../mfc/reference/cusertoolsmanager-class.md) объекта.

```
BOOL EnableUserTools(
    const UINT uiCmdToolsDummy,
    const UINT uiCmdFirst,
    const UINT uiCmdLast,
    CRuntimeClass* pToolRTC = RUNTIME_CLASS(CUserTool),
    UINT uArgMenuID = 0,
    UINT uInitDirMenuID = 0);
```

### <a name="parameters"></a>Параметры

*uiCmdToolsDummy*<br/>
[in] Целое число без знака, она используется в качестве заполнителя для идентификатор команды меню "Сервис" пользователя.

*uiCmdFirst*<br/>
[in] Идентификатор команды для команды средство первого пользователя.

*uiCmdLast*<br/>
[in] Идентификатор команды для команды средство последнего пользователя.

*pToolRTC*<br/>
[in] Объект класса, `CUserToolsManager` объект использует, чтобы создать новые пользовательские инструменты.

*uArgMenuID*<br/>
[in] Идентификатор аргумента меню.

*uInitDirMenuID*<br/>
[in] Идентификатор меню для начальной средство каталога.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод создает и инициализирует `CUserToolsManager` объекта; Значение FALSE, если метод завершается сбоем или `CUserToolsManager` объект уже существует.

### <a name="remarks"></a>Примечания

Когда вы включаете определенные пользователем инструменты, платформа автоматически поддерживает динамическое меню, который может быть расширен во время настройки. Платформа связывает каждый новый элемент с внешней команды. Платформа вызывает эти команды, когда пользователь выбирает соответствующий элемент из **средства** меню.

Каждый раз, когда пользователь добавляет новый элемент, платформа создает новый объект. Тип класса для нового объекта определяется *pToolRTC*. *PToolRTC* типа класса должен быть производным от [класс CUserTool](../../mfc/reference/cusertool-class.md).

Дополнительные сведения о пользовательских средств и о способах внедрения их в приложение, см. в разделе [определенные пользователем инструменты](../../mfc/user-defined-tools.md).

##  <a name="exitinstance"></a>  CWinAppEx::ExitInstance

```
virtual int ExitInstance();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getbinary"></a>  CWinAppEx::GetBinary

Считывает двоичные данные из указанного раздела.

```
BOOL GetBinary(
    LPCTSTR lpszEntry,
    LPBYTE* ppData,
    UINT* pBytes);
```

### <a name="parameters"></a>Параметры

*lpszEntry*<br/>
[in] Строка, содержащая имя раздела реестра.

*ppData*<br/>
[out] Указатель на буфер, в который метод заполняет с двоичными данными.

*pBytes*<br/>
[out] Указатель на целое число без знака, метод для записи число считанных байтов.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE в случае успешного выполнения. В противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод считывает двоичные данные, записанные в реестр. Для записи данных в реестр, используйте методы [CWinAppEx::WriteBinary](#writebinary) и [CWinAppEx::WriteSectionBinary](#writesectionbinary).

*LpszEntry* представляет имя записи реестра, расположенный в разделе реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="getcontextmenumanager"></a>  CWinAppEx::GetContextMenuManager

Возвращает указатель на глобальную [CContextMenuManager](../../mfc/reference/ccontextmenumanager-class.md) объекта.

```
CContextMenuManager* GetContextMenuManager();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на глобальную `CContextMenuManager` объекта.

### <a name="remarks"></a>Примечания

Если объект CContextMenuManager не инициализирован, эта функция вызывает [CWinAppEx::InitContextMenuManager](#initcontextmenumanager) перед возвращением указатель.

##  <a name="getdataversion"></a>  CWinAppEx::GetDataVersion

```
int GetDataVersion() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getdataversionmajor"></a>  CWinAppEx::GetDataVersionMajor

Возвращает основной номер версии приложения, которое сохраняется в реестре Windows, при вызове [CWinAppEx::SaveState](#savestate).

```
int GetDataVersionMajor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Целое число, содержащее номер основной версии.

##  <a name="getdataversionminor"></a>  CWinAppEx::GetDataVersionMinor

Возвращает дополнительный номер версии приложения, которое сохраняется в реестре Windows, при вызове [CWinAppEx::SaveState](#savestate).

```
int GetDataVersionMinor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Целочисленное значение, содержащее дополнительный номер версии.

##  <a name="getint"></a>  CWinAppEx::GetInt

Считывает данные целое число из указанного раздела.

```
int GetInt(
    LPCTSTR lpszEntry,
    int nDefault = 0);
```

### <a name="parameters"></a>Параметры

*lpszEntry*<br/>
[in] Строка, содержащая имя записи реестра.

*nDefault*<br/>
[in] Значение по умолчанию, возвращаемое методом, если указанной записи реестра не существует.

### <a name="return-value"></a>Возвращаемое значение

Данные реестра, если метод был выполнен успешно; в противном случае *nDefault*.

### <a name="remarks"></a>Примечания

Этот метод считывает целочисленные данные из реестра. Если имеется не целочисленные данные, связанные с разделом реестра, обозначается *lpszEntry*, этот метод возвращает *nDefault*. Для записи данных в реестр, используйте методы [CWinAppEx::WriteSectionInt](#writesectionint) и [CWinAppEx::WriteInt](#writeint).

*LpszEntry* представляет имя записи реестра, расположенный в разделе реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="getkeyboardmanager"></a>  CWinAppEx::GetKeyboardManager

Возвращает указатель на глобальную [CKeyboardManager](../../mfc/reference/ckeyboardmanager-class.md) объекта.

```
CKeyboardManager* GetKeyboardManager();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на глобальную `CKeyboardManager` объекта.

### <a name="remarks"></a>Примечания

Если диспетчер клавиатуры не инициализирован, эта функция вызывает [CWinAppEx::InitKeyboardManager](#initkeyboardmanager) перед возвращением указатель.

##  <a name="getmousemanager"></a>  CWinAppEx::GetMouseManager

Возвращает указатель на глобальную [CMouseManager](../../mfc/reference/cmousemanager-class.md) объекта.

```
CMouseManager* GetMouseManager();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на глобальную `CMouseManager` объекта.

### <a name="remarks"></a>Примечания

Если диспетчер мыши не инициализирован, эта функция вызывает [CWinAppEx::InitMouseManager](#initmousemanager) перед возвращением указатель.

##  <a name="getobject"></a>  CWinAppEx::GetObject

Считывает [CObject](../../mfc/reference/cobject-class.md)получен суточный - данных из реестра.

```
BOOL GetObject(
    LPCTSTR lpszEntry,
    CObject& obj);
```

### <a name="parameters"></a>Параметры

*lpszEntry*<br/>
[in] Строка, содержащая относительный путь записи в реестре.

*obj*<br/>
[out] Ссылку на `CObject`. Данный метод использует эту ссылку для хранения данных реестра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод был выполнен успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Этот метод считывает данные из реестра, который является производным от `CObject`. Для записи `CObject` данных в реестр, используйте либо [CWinAppEx::WriteObject](#writeobject) или [CWinAppEx::WriteSectionObject](#writesectionobject).

*LpszEntry* представляет имя записи реестра, расположенный в разделе реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="getregistrybase"></a>  CWinAppEx::GetRegistryBase

Возвращает путь в реестре по умолчанию для приложения.

```
LPCTSTR GetRegistryBase();
```

### <a name="return-value"></a>Возвращаемое значение

Строка, содержащая путь к расположению реестра по умолчанию.

### <a name="remarks"></a>Примечания

Все методы [класс CWinAppEx](../../mfc/reference/cwinappex-class.md) , имеющих доступ к начала реестра в расположении по умолчанию. Этот метод позволяет получить путь расположения реестра по умолчанию. Используйте [CWinAppEx::SetRegistryBase](#setregistrybase) для изменения расположения реестра по умолчанию.

##  <a name="getregsectionpath"></a>  CWinAppEx::GetRegSectionPath

Создает и возвращает абсолютный путь к разделу реестра.

```
CString GetRegSectionPath(LPCTSTR szSectionAdd = _T(""));
```

### <a name="parameters"></a>Параметры

*szSectionAdd*<br/>
[in] Строка, содержащая относительный путь раздела реестра.

### <a name="return-value"></a>Возвращаемое значение

Объект `CString` , содержащий абсолютный путь к разделу реестра.

### <a name="remarks"></a>Примечания

Этот метод определяет абсолютный путь к разделу реестра, добавив, относительный путь в *szSectionAdd* расположение реестра по умолчанию для вашего приложения. Чтобы получить ключ реестра по умолчанию, используйте метод [CWinAppEx::GetRegistryBase](#getregistrybase).

##  <a name="getsectionbinary"></a>  CWinAppEx::GetSectionBinary

Считывает двоичные данные из реестра.

```
BOOL GetSectionBinary(
    LPCTSTR lpszSubSection,
    LPCTSTR lpszEntry,
    LPBYTE* ppData,
    UINT* pBytes);
```

### <a name="parameters"></a>Параметры

*lpszSubSection*<br/>
[in] Строка, содержащая относительный путь раздела реестра.

*lpszEntry*<br/>
[in] Строка, содержащая значение для чтения.

*ppData*<br/>
[out] Указатель на буфер, где метод сохраняет данные.

*pBytes*<br/>
[out] Указатель на целое число без знака. Метод записывает размер *ppData* к данному параметру.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод считывает двоичные данные, которые записываются в реестр с помощью методов [CWinAppEx::WriteBinary](#writebinary) и [CWinAppEx::WriteSectionBinary](#writesectionbinary).

*LpszSubSection* параметр не является абсолютным, записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="getsectionint"></a>  CWinAppEx::GetSectionInt

Считывает целое число данные из реестра.

```
int GetSectionInt(
    LPCTSTR lpszSubSection,
    LPCTSTR lpszEntry,
    int nDefault = 0);
```

### <a name="parameters"></a>Параметры

*lpszSubSection*<br/>
[in] Строка, содержащая относительный путь раздела реестра.

*lpszEntry*<br/>
[in] Строка, содержащая значение для чтения.

*nDefault*<br/>
[in] Значение по умолчанию для возврата, если указанное значение не существует.

### <a name="return-value"></a>Возвращаемое значение

Целочисленные данные, хранящиеся в реестре задано значение; *nDefault* Если данные не существует.

### <a name="remarks"></a>Примечания

Используйте методы [CWinAppEx::WriteInt](#writeint) и [CWinAppEx::WriteSectionInt](#writesectionint) для записи данных integer в реестр.

*LpszSubSection* параметр не является абсолютным путем записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="getsectionobject"></a>  CWinAppEx::GetSectionObject

Считывает [CObject](../../mfc/reference/cobject-class.md) данных реестра из реестра.

```
BOOL GetSectionObject(
    LPCTSTR lpszSubSection,
    LPCTSTR lpszEntry,
    CObject& obj);
```

### <a name="parameters"></a>Параметры

*lpszSubSection*<br/>
[in] Строка, содержащая относительный путь раздела реестра.

*lpszEntry*<br/>
[in] Строка, содержащая значение для чтения.

*obj*<br/>
[out] Ссылку на `CObject`. Данный метод использует это `CObject` для хранения данных реестра.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Этот метод считывает данные из реестра. Чтение данных является `CObject` данные или данные для класса, производного от `CObject`. Для записи `CObject` данных в реестр, используйте либо [CWinAppEx::WriteObject](#writeobject) или [CWinAppEx::WriteSectionObject](#writesectionobject).

*LpszSubSection* параметр не является абсолютным, записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="getsectionstring"></a>  CWinAppEx::GetSectionString

Операции чтения строковые данные из реестра.

```
CString GetSectionString(
    LPCTSTR lpszSubSection,
    LPCTSTR lpszEntry,
    LPCTSTR lpszDefault = _T(""));
```

### <a name="parameters"></a>Параметры

*lpszSubSection*<br/>
[in] Строка, содержащая относительный путь раздела реестра.

*lpszEntry*<br/>
[in] Строка, содержащая значение для чтения.

*lpszDefault*<br/>
[in] Значение по умолчанию для возврата, если указанное значение не существует.

### <a name="return-value"></a>Возвращаемое значение

Строковые данные, хранящиеся в указанный параметр реестра, если данные существуют; в противном случае *lpszDefault*.

### <a name="remarks"></a>Примечания

Этот метод считывает строки данных, записанных в реестр. Используйте [CWinAppEx::WriteString](#writestring) и [CWinAppEx::WriteSectionString](#writesectionstring) для записи строки данных в реестр.

*LpszSubSection* параметр не является абсолютным, записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="getshellmanager"></a>  CWinAppEx::GetShellManager

Возвращает указатель на глобальную [CShellManager](../../mfc/reference/cshellmanager-class.md) объекта.

```
CShellManager* GetShellManager();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на глобальную `CShellManager` объекта.

### <a name="remarks"></a>Примечания

Если `CShellManager` объект не инициализирован, эта функция вызывает [CWinAppEx::InitShellManager](#initshellmanager) перед возвращением указатель.

##  <a name="getstring"></a>  CWinAppEx::GetString

Операции чтения строковые данные из указанного раздела.

```
CString GetString(
    LPCTSTR lpszEntry,
    LPCTSTR lpzDefault= _T(""));
```

### <a name="parameters"></a>Параметры

*lpszEntry*<br/>
[in] Строка, содержащая имя раздела реестра

*lpzDefault*<br/>
[in] Значение по умолчанию, возвращаемое методом, если указанной записи реестра не существует.

### <a name="return-value"></a>Возвращаемое значение

Строковые данные, хранящиеся в реестре, если выполнение прошло успешно; *lpszDefault* в противном случае.

### <a name="remarks"></a>Примечания

Этот метод считывает строки данных, записанных в реестр. Для записи данных в реестр, используйте методы [CWinAppEx::WriteString](#writestring) или [CWinAppEx::WriteSectionString](#writesectionstring).

*LpszEntry* представляет имя записи реестра, расположенный в разделе реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="gettooltipmanager"></a>  CWinAppEx::GetTooltipManager

Возвращает указатель на глобальную [CTooltipManager](../../mfc/reference/ctooltipmanager-class.md) объекта.

```
CTooltipManager* GetTooltipManager();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на глобальную `CTooltipManager` объекта.

### <a name="remarks"></a>Примечания

Если `CTooltipManager` объект не инициализирован, эта функция вызывает [CWinAppEx::InitTooltipManager](#inittooltipmanager) перед возвращением указатель.

##  <a name="getusertoolsmanager"></a>  CWinAppEx::GetUserToolsManager

Возвращает указатель на глобальную [CUserToolsManager](../../mfc/reference/cusertoolsmanager-class.md) объекта.

```
CUserToolsManager* GetUserToolsManager();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на глобальную `CUserToolsManager` объекта; Значение NULL, если пользователь средств управления не включена для приложения.

### <a name="remarks"></a>Примечания

Прежде чем получить указатель на `CUserToolsManager` объекта, необходимо инициализировать диспетчер путем вызова [CWinAppEx::EnableUserTools](#enableusertools).

##  <a name="initcontextmenumanager"></a>  CWinAppEx::InitContextMenuManager

Инициализирует [CContextMenuManager](../../mfc/reference/ccontextmenumanager-class.md) объекта.

```
BOOL InitContextMenuManager();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если этот метод создает объект CContextMenuManager; 0, если `CContextMenuManager` объект уже существует.

### <a name="remarks"></a>Примечания

При вызове метода [CWinAppEx::GetContextMenuManager](#getcontextmenumanager), реализация по умолчанию этот метод вызывает `InitContextMenuManager`.

Если приложение уже имеет меню диспетчера контекста можно вызвать метод `InitContextMenuManager`, приложение будет иметь [ASSERT](diagnostic-services.md#assert) сбоя. Таким образом, не следует вызывать `InitContextMenuManager` при создании `CContextMenuManager` объекта напрямую. Если вы не используете пользовательский `CContextMenuManager`, следует использовать `GetContextMenuManager` для создания `CContextMenuManager` объекта.

##  <a name="initkeyboardmanager"></a>  CWinAppEx::InitKeyboardManager

Инициализирует [CKeyboardManager](../../mfc/reference/ckeyboardmanager-class.md) объекта.

```
BOOL InitKeyboardManager();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод создает `CKeyboardManager` объекта; 0, если `CKeyboardManager` объект уже существует.

### <a name="remarks"></a>Примечания

При вызове метода [CWinAppEx::GetKeyboardManager](#getkeyboardmanager), реализация по умолчанию этот метод вызывает `InitKeyboardManager`.

Если приложение уже имеет manager клавиатуры можно вызвать метод `InitKeyboardManager`, приложение будет иметь [ASSERT](diagnostic-services.md#assert) сбоя. Таким образом, не следует вызывать `InitKeyboardManager` при создании `CKeyboardManager` объекта напрямую. Если вы не используете пользовательский `CKeyboardManager`, следует использовать `GetKeyboardManager` для создания `CKeyboardManager` объекта.

##  <a name="initmousemanager"></a>  CWinAppEx::InitMouseManager

Инициализирует [CMouseManager](../../mfc/reference/cmousemanager-class.md) объекта.

```
BOOL InitMouseManager();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод создает `CMouseManager` объекта; 0, если `CMouseManager` объект уже существует.

### <a name="remarks"></a>Примечания

При вызове метода [CWinAppEx::GetMouseManager](#getmousemanager), реализация по умолчанию этот метод вызывает `InitMouseManager`.

Если приложение уже имеет manager мыши можно вызвать метод `InitMouseManager`, приложение будет иметь [ASSERT](diagnostic-services.md#assert) сбоя. Поэтому не следует вызывать `InitMouseManager` при создании `CMouseManager` объекта напрямую. Если вы не используете пользовательский `CMouseManager`, следует использовать `GetMouseManager` для создания `CMouseManager` объекта.

##  <a name="initshellmanager"></a>  CWinAppEx::InitShellManager

Инициализирует [CShellManager](../../mfc/reference/cshellmanager-class.md) объекта.

```
BOOL InitShellManager();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод создает `CShellManager` объекта; 0, если `CShellManager` объект уже существует.

### <a name="remarks"></a>Примечания

При вызове метода [CWinAppEx::GetShellManager](#getshellmanager), реализация по умолчанию этот метод вызывает `InitShellManager`.

Если приложение уже имеет диспетчер оболочки можно вызвать метод `InitShellManager`, вашего приложение создает событие [ASSERT](diagnostic-services.md#assert) сбоя. Таким образом, не следует вызывать `InitShellManager` при создании `CShellManager` объекта напрямую. Если вы не используете пользовательский `CShellManager`, использовать `GetShellManager` для создания `CShellManager` объекта.

##  <a name="inittooltipmanager"></a>  CWinAppEx::InitTooltipManager

Инициализирует [CTooltipManager](../../mfc/reference/ctooltipmanager-class.md) объекта.

```
BOOL InitTooltipManager();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод создает `CTooltipManager` объекта; 0, если `CTooltipManager` объект уже существует.

### <a name="remarks"></a>Примечания

При вызове метода [CWinAppEx::GetTooltipManager](#gettooltipmanager), реализация по умолчанию этот метод вызывает `InitTooltipManager`.

Если приложение уже имеет диспетчера всплывающих подсказок и вызывается `InitTooltipManager`, приложение будет иметь [ASSERT](diagnostic-services.md#assert) сбоя. Таким образом, не следует вызывать `InitTooltipManager` при создании `CTooltipManager` объекта напрямую. Если вы не используете пользовательский `CTooltipManager`, следует использовать `GetTooltipManager` для создания `CTooltipManager` объекта.

##  <a name="isresourcesmartupdate"></a>  CWinAppEx::IsResourceSmartUpdate

```
BOOL IsResourceSmartUpdate() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isstateexists"></a>  CWinAppEx::IsStateExists

Указывает, является ли указанный ключ в реестре.

```
BOOL IsStateExists(LPCTSTR lpszSectionName);
```

### <a name="parameters"></a>Параметры

*lpszSectionName*<br/>
[in] Строка, содержащая путь раздела реестра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если ключ находится в реестре; в противном случае 0.

##  <a name="loadcustomstate"></a>  CWinAppEx::LoadCustomState

Этот метод вызывается платформой, после загрузки состояния приложения из реестра.

```
virtual void LoadCustomState();
```

### <a name="remarks"></a>Примечания

Переопределите этот метод, если вы хотите выполнять обработку после приложение загружает состояние из реестра. По умолчанию этот метод не выполняет никаких действий.

Чтобы загрузить пользовательские сведения о состоянии из реестра, данные необходимо сначала сохранить с помощью [CWinAppEx::SaveCustomState](#savecustomstate).

##  <a name="loadstate"></a>  CWinAppEx::LoadState

Считывает состояние приложения из реестра Windows.

```
BOOL LoadState(
    CMDIFrameWndEx* pFrame,
    LPCTSTR lpszSectionName = NULL);

BOOL LoadState(
    CFrameWndEx* pFrame,
    LPCTSTR lpszSectionName = NULL);

BOOL LoadState(
    COleIPFrameWndEx* pFrame,
    LPCTSTR lpszSectionName = NULL);

virtual BOOL LoadState(
    LPCTSTR lpszSectionName = NULL,
    CFrameImpl* pFrameImpl = NULL);
```

### <a name="parameters"></a>Параметры

*pFrame*<br/>
[in] Указатель на объект фрейма окна. Сведения о состоянии в реестре применяется метод для этого фрейма окна.

*lpszSectionName*<br/>
[in] Строка, содержащая относительный путь раздела реестра.

*pFrameImpl*<br/>
[in] Указатель на `CFrameImpl` объект. Сведения о состоянии в реестре применяется метод для этого фрейма окна.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успешного выполнения. В противном случае — 0.

### <a name="remarks"></a>Примечания

Этот метод загружает состояние приложения и данные о состоянии для окна фрейма. Загрузить сведения для фрейма окна применяется к предоставленным фрейма окна. Если вы не предоставляете окна фрейма, загружается только сведения о состоянии приложения. Сведения о приложении включает в себя состояние [класс CMouseManager](../../mfc/reference/cmousemanager-class.md), [класс CContextMenuManager](../../mfc/reference/ccontextmenumanager-class.md), [класс CKeyboardManager](../../mfc/reference/ckeyboardmanager-class.md)и [ Класс CUserToolsManager](../../mfc/reference/cusertoolsmanager-class.md).

Реализация по умолчанию `CFrameImpl::OnLoadFrame` вызовы `LoadState`.

*LpszSectionName* параметр не абсолютный путь для записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="loadwindowplacement"></a>  CWinAppEx::LoadWindowPlacement

Вызывается платформой при загрузке из реестра размер и расположение окна главного фрейма.

```
virtual BOOL LoadWindowPlacement(
    CRect& rectNormalPosition,
    int& nFlags,
    int& nShowCmd);
```

### <a name="parameters"></a>Параметры

*rectNormalPosition*<br/>
[out] Прямоугольник, содержащий координаты фрейма главного окна, находящегося в восстановленной положение.

*nFlags*<br/>
[out] Флаги, определяющие положение свернутого окна и каким образом операционная система переключает между свернутого окна и окно восстановленной.

*nShowCmd*<br/>
[out] Целое число, указывающее состояние отображения окна. Дополнительные сведения о возможных значениях см. в разделе [CWnd::ShowWindow](../../mfc/reference/cwnd-class.md#showwindow).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успешного выполнения. В противном случае — 0.

### <a name="remarks"></a>Примечания

По умолчанию в MFC автоматически загружает предыдущее расположение и состояние окна главного фрейма, при запуске приложения. Дополнительные сведения о том, как эти сведения хранятся в реестре, см. в разделе [CWinAppEx::StoreWindowPlacement](#storewindowplacement).

Переопределите этот метод, если вы хотите загрузить дополнительные сведения о фрейма главного окна.

##  <a name="m_bforceimagereset"></a>  CWinAppEx::m_bForceImageReset

Указывает ли платформа сбрасывает все изображениям значков панели инструментов, при загрузке окна фрейма, который содержит панели инструментов.

```
BOOL m_bForceImageReset;
```

### <a name="remarks"></a>Примечания

`m_bForceImageReset` Член данных является защищенной переменной.

##  <a name="onappcontexthelp"></a>  CWinAppEx::OnAppContextHelp

Этот метод вызывается платформой, когда пользователь запрашивает контекстная справка для **настройки** диалоговое окно.

```
virtual void OnAppContextHelp(
    CWnd* pWndControl,
    const DWORD dwHelpIDArray[]);
```

### <a name="parameters"></a>Параметры

*pWndControl*<br/>
[in] Указатель на объект окна, для которого пользователь вызвал контекстной справки.

*[dwHelpIDArray]*<br/>
[in] Зарезервированное значение.

### <a name="remarks"></a>Примечания

В настоящее время этот метод зарезервирован для использования в будущем. Реализация по умолчанию не выполняет никаких действий, и он в настоящее время не вызывается платформой.

##  <a name="onclosingmainframe"></a>  CWinAppEx::OnClosingMainFrame

Этот метод вызывается платформой, обрабатывая событие WM_CLOSE фрейм окна.

```
virtual void OnClosingMainFrame(CFrameImpl* pFrameImpl);
```

### <a name="parameters"></a>Параметры

*pFrameImpl*<br/>
[in] Указатель на `CFrameImpl` объект.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод сохраняет состояние *pFrameImpl*.

##  <a name="onviewdoubleclick"></a>  CWinAppEx::OnViewDoubleClick

Вызывает определяемую пользователем команду, связанного с представлением при двойном щелчке в любом месте в этом представлении.

```
virtual BOOL OnViewDoubleClick(
    CWnd* pWnd,
    int iViewId);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
[in] Указатель на объект производного от [CView Class](../../mfc/reference/cview-class.md).

*iViewId*<br/>
[in] Код представления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если платформа находит команды; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Для поддержки пользовательских мыши поведение, необходимо вызвать эту функцию во время обработки сообщения WM_LBUTTONDBLCLK. Этот метод будет выполняться команда, связанная с идентификатор представления, предоставляемые *iViewId*. Дополнительные сведения о поведении пользовательских мыши см. в разделе [Настройка мыши и клавиатуры](../../mfc/keyboard-and-mouse-customization.md).

##  <a name="onworkspaceidle"></a>  CWinAppEx::OnWorkspaceIdle

```
virtual BOOL OnWorkspaceIdle(CWnd*);
```

### <a name="parameters"></a>Параметры

[in] *CWnd&#38;*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="preloadstate"></a>  CWinAppEx::PreLoadState

Этот метод вызывается платформой непосредственно перед его загружает состояние приложения из реестра.

```
virtual void PreLoadState();
```

### <a name="remarks"></a>Примечания

Переопределите этот метод, если вы хотите выполнять обработку, непосредственно перед framework загружает состояние приложения.

##  <a name="presavestate"></a>  CWinAppEx::PreSaveState

Этот метод вызывается платформой непосредственно перед она сохраняет состояние приложения.

```
virtual void PreSaveState();
```

### <a name="remarks"></a>Примечания

Переопределите этот метод, если вы хотите выполнять обработку, непосредственно перед framework сохраняет состояние приложения.

##  <a name="reloadwindowplacement"></a>  CWinAppEx::ReloadWindowPlacement

Перезагружает размер и расположение окна из реестра.

```
virtual BOOL ReloadWindowPlacement(CFrameWnd* pFrame);
```

### <a name="parameters"></a>Параметры

*pFrame*<br/>
[in] Указатель на фрейм окна.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод был выполнен успешно; 0, если нагрузка неудачных или возникли нет данных для загрузки.

### <a name="remarks"></a>Примечания

Используйте функцию [CWinAppEx::StoreWindowPlacement](#storewindowplacement) записываемый размер и расположение окна в реестр.

##  <a name="savecustomstate"></a>  CWinAppEx::SaveCustomState

Этот метод вызывается платформой, после его сохраняет состояние приложения в реестр.

```
virtual void SaveCustomState();
```

### <a name="remarks"></a>Примечания

Переопределите этот метод, если вы хотите выполнять обработку после приложение сохраняет состояние в реестр. По умолчанию этот метод не выполняет никаких действий.

##  <a name="savestate"></a>  CWinAppEx::SaveState

Записывает состояние приложения в реестр Windows.

```
virtual BOOL SaveState(
    LPCTSTR lpszSectionName = NULL,
    CFrameImpl* pFrameImpl = NULL);

BOOL SaveState(
    CMDIFrameWndEx* pFrame,
    LPCTSTR lpszSectionName = NULL);

BOOL SaveState(
    CFrameWndEx* pFrame,
    LPCTSTR lpszSectionName = NULL);

BOOL SaveState(
    COleIPFrameWndEx* pFrame,
    LPCTSTR lpszSectionName = NULL);
```

### <a name="parameters"></a>Параметры

*lpszSectionName*<br/>
[in] Строка, содержащая относительный путь раздела реестра.

*pFrameImpl*<br/>
[in] Указатель на `CFrameImpl` объект. Этот кадр сохраняется в реестре Windows.

*pFrame*<br/>
[in] Указатель на объект фрейма окна. Этот кадр сохраняется в реестре Windows.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE в случае успешного выполнения. В противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод сохраняет состояние приложения и данные о состоянии для предоставленного фрейма окна. Если вы не укажете окна фрейма, метод сохраняет только состояние приложения. Сведения о приложении включает в себя состояние [класс CMouseManager](../../mfc/reference/cmousemanager-class.md), [класс CContextMenuManager](../../mfc/reference/ccontextmenumanager-class.md), [класс CKeyboardManager](../../mfc/reference/ckeyboardmanager-class.md)и [ Класс CUserToolsManager](../../mfc/reference/cusertoolsmanager-class.md).

*LpszSectionName* параметр не абсолютный путь для записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

##  <a name="setregistrybase"></a>  CWinAppEx::SetRegistryBase

Задает путь в реестре по умолчанию для приложения.

```
LPCTSTR SetRegistryBase(LPCTSTR lpszSectionName = NULL);
```

### <a name="parameters"></a>Параметры

*lpszSectionName*<br/>
[in] Строка, содержащая путь к разделу реестра.

### <a name="return-value"></a>Возвращаемое значение

Строка, содержащая путь к расположению реестра по умолчанию.

### <a name="remarks"></a>Примечания

Все методы [класс CWinAppEx](../../mfc/reference/cwinappex-class.md) , имеющих доступ к начала реестра в расположении по умолчанию. Этот метод можно используйте для изменения в этом расположении реестра по умолчанию. Используйте [CWinAppEx::GetRegistryBase](#getregistrybase) для получения расположения реестра по умолчанию.

##  <a name="showpopupmenu"></a>  CWinAppEx::ShowPopupMenu

Отображает всплывающее меню.

```
virtual BOOL ShowPopupMenu(
    UINT uiMenuResId,
    const CPoint& point,
    CWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*uiMenuResId*<br/>
[in] Идентификатор ресурса меню.

*point*<br/>
[in] Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий положение меню в экранных координатах.

*pWnd*<br/>
[in] Указатель на окно, владеющее во всплывающем меню.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если успешно; отображается во всплывающем меню в противном случае 0.

### <a name="remarks"></a>Примечания

Этот метод отображает меню, связанное с *uiMenuResId*.

Чтобы обеспечить поддержку всплывающих меню, необходимо иметь [CContextMenuManager](../../mfc/reference/ccontextmenumanager-class.md) объекта. Если не был инициализирован `CContextMenuManager` объекта, `ShowPopupMenu` завершится ошибкой.

##  <a name="storewindowplacement"></a>  CWinAppEx::StoreWindowPlacement

Вызывается платформой для записи в реестр размер и расположение окна главного фрейма.

```
virtual BOOL StoreWindowPlacement(
    const CRect& rectNormalPosition,
    int nFlags,
    int nShowCmd);
```

### <a name="parameters"></a>Параметры

*nFlags*<br/>
[in] Флаги, определяющие положение свернутого окна и каким образом операционная система переключает между свернутого окна и окно восстановленной.

*nShowCmd*<br/>
[in] Целое число, указывающее состояние отображения окна. Дополнительные сведения о возможных значениях см. в разделе [CWnd::ShowWindow](../../mfc/reference/cwnd-class.md#showwindow).

*rectNormalPosition*<br/>
[in] Прямоугольник, содержащий координаты фрейма главного окна, находящегося в состоянии восстановленной.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успешного выполнения. В противном случае — 0.

### <a name="remarks"></a>Примечания

По умолчанию MFC автоматически сохраняет положение и состояние окна главного фрейма до выхода из приложения. Эти сведения хранятся в реестре Windows WindowPlacement ключ в расположении реестра по умолчанию для приложения. Дополнительные сведения о расположении реестра по умолчанию приложения, см. в разделе [CWinAppEx::GetRegistryBase](#getregistrybase).

Переопределите этот метод, если вы хотите хранения дополнительной информации о фрейма главного окна.

##  <a name="writebinary"></a>  CWinAppEx::WriteBinary

Записывает двоичные данные в реестр.

```
BOOL WriteBinary(
    LPCTSTR lpszEntry,
    LPBYTE pData,
    UINT nBytes);
```

### <a name="parameters"></a>Параметры

*lpszEntry*<br/>
[in] Строка, содержащая имя раздела реестра.

*pData*<br/>
[in] Сохраняемые данные.

*nBytes*<br/>
[in] Размер *pData* в байтах.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

*LpszEntry* представляет имя записи реестра, расположенный в разделе реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

Если ключ, указанный параметром *lpszEntry* не существует, этот метод создаст его.

##  <a name="writeint"></a>  CWinAppEx::WriteInt

Записывает в реестр числовых данных.

```
BOOL WriteInt(
    LPCTSTR lpszEntry,
    int nValue);
```

### <a name="parameters"></a>Параметры

*lpszEntry*<br/>
[in] Строка, содержащая имя раздела реестра.

*nValue*<br/>
[in] Сохраняемые данные.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

*LpszEntry* представляет имя записи реестра, расположенный в разделе реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

Если ключ, указанный параметром *lpszEntry* не существует, этот метод создаст его.

##  <a name="writeobject"></a>  CWinAppEx::WriteObject

Записывает данные, получаемые из [класс CObject](../../mfc/reference/cobject-class.md) в реестр.

```
BOOL WriteObject(
    LPCTSTR lpszEntry,
    CObject& obj);
```

### <a name="parameters"></a>Параметры

*lpszEntry*<br/>
[in] Строка, содержащая присваиваемое значение.

*obj*<br/>
[in] Ссылку на `CObject` данных, в которой будут храниться в методе.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод записывает *obj* данных указанному значению в разделе реестра по умолчанию. Используйте [CWinAppEx::GetRegistryBase](#getregistrybase) для определения текущего раздела реестра.

##  <a name="writesectionbinary"></a>  CWinAppEx::WriteSectionBinary

Записывает значение в реестре двоичных данных.

```
BOOL WriteSectionBinary(
    LPCTSTR lpszSubSection,
    LPCTSTR lpszEntry,
    LPBYTE pData,
    UINT nBytes);
```

### <a name="parameters"></a>Параметры

*lpszSubSection*<br/>
[in] Строка, содержащая имя раздела реестра

*lpszEntry*<br/>
[in] Строка, содержащая присваиваемое значение.

*pData*<br/>
[in] Данные для записи в реестр.

*nBytes*<br/>
[in] Размер *pData* в байтах.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

*LpszSubSection* параметр не абсолютный путь для записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

Если ключ, указанный параметром *lpszEntry* не существует, этот метод создаст его.

##  <a name="writesectionint"></a>  CWinAppEx::WriteSectionInt

Записывает в реестр числовых данных.

```
BOOL WriteSectionInt(
    LPCTSTR lpszSubSection,
    LPCTSTR lpszEntry,
    int nValue);
```

### <a name="parameters"></a>Параметры

*lpszSubSection*<br/>
[in] Строка, содержащая относительный путь раздела реестра.

*lpszEntry*<br/>
[in] Строка, содержащая присваиваемое значение.

*nValue*<br/>
[in] Данные для записи в реестр.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

*LpszSubSection* параметр не является абсолютным, записи реестра. Это относительный путь, который добавляется в раздел реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

Если ключ, указанный параметром *lpszEntry* не существует, этот метод создаст его.

##  <a name="writesectionobject"></a>  CWinAppEx::WriteSectionObject

Записывает данные, получаемые из [класс CObject](../../mfc/reference/cobject-class.md) значение реестра.

```
BOOL WriteSectionObject(
    LPCTSTR lpszSubSection,
    LPCTSTR lpszEntry,
    CObject& obj);
```

### <a name="parameters"></a>Параметры

*lpszSubSection*<br/>
[in] Строка, содержащая имя раздела реестра.

*lpszEntry*<br/>
[in] Строка, содержащая имя значения, которое необходимо задать.

*obj*<br/>
[in] Сохраняемые данные.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

*LpszSubSection* параметр не является абсолютным, записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase), соответственно.

Если значение, заданное *lpszEntry* не существует в раздел реестра, указанный по *lpszSubSection*, этот метод создаст это значение.

##  <a name="writesectionstring"></a>  CWinAppEx::WriteSectionString

Записывает данные строковое значение в реестре.

```
BOOL WriteSectionString(
    LPCTSTR lpszSubSection,
    LPCTSTR lpszEntry,
    LPCTSTR lpszValue);
```

### <a name="parameters"></a>Параметры

*lpszSubSection*<br/>
[in] Строка, содержащая имя раздела реестра.

*lpszEntry*<br/>
[in] Строка, содержащая присваиваемое значение.

*lpszValue*<br/>
[in] Строковые данные для записи в реестр.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

*LpszSubSection* параметр не является абсолютным, записи реестра. Это относительный путь, который добавляется в конец раздела реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase), соответственно.

Если значение, заданное *lpszEntry* не существует в *lpszSubSection*, этот метод создаст его.

##  <a name="writestring"></a>  CWinAppEx::WriteString

Строковые данные операций записи в реестр.

```
BOOL WriteString(
    LPCTSTR lpszEntry,
    LPCTSTR lpszValue);
```

### <a name="parameters"></a>Параметры

*lpszEntry*<br/>
[in] Строка, содержащая имя раздела реестра.

*lpszValue*<br/>
[in] Сохраняемые данные.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

*LpszEntry* представляет имя записи реестра, расположенный в разделе реестра по умолчанию для вашего приложения. Чтобы получить или задать раздел реестра по умолчанию, используйте методы [CWinAppEx::GetRegistryBase](#getregistrybase) и [CWinAppEx::SetRegistryBase](#setregistrybase) соответственно.

Если ключ, указанный параметром *lspzEntry* не существует, этот метод создаст его.

## <a name="see-also"></a>См. также

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)<br/>
[Класс CWinApp](../../mfc/reference/cwinapp-class.md)<br/>
[Класс CMouseManager](../../mfc/reference/cmousemanager-class.md)<br/>
[Класс CContextMenuManager](../../mfc/reference/ccontextmenumanager-class.md)<br/>
[Класс CKeyboardManager](../../mfc/reference/ckeyboardmanager-class.md)<br/>
[Класс CUserToolsManager](../../mfc/reference/cusertoolsmanager-class.md)
