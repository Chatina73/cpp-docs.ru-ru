---
title: Класс CMFCToolBar
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBar
- AFXTOOLBAR/CMFCToolBar
- AFXTOOLBAR/CMFCToolBar::AddBasicCommand
- AFXTOOLBAR/CMFCToolBar::AddCommandUsage
- AFXTOOLBAR/CMFCToolBar::AddToolBarForImageCollection
- AFXTOOLBAR/CMFCToolBar::AdjustLayout
- AFXTOOLBAR/CMFCToolBar::AdjustSize
- AFXTOOLBAR/CMFCToolBar::AllowChangeTextLabels
- AFXTOOLBAR/CMFCToolBar::AreTextLabels
- AFXTOOLBAR/CMFCToolBar::AutoGrayInactiveImages
- AFXTOOLBAR/CMFCToolBar::ButtonToIndex
- AFXTOOLBAR/CMFCToolBar::CalcFixedLayout
- AFXTOOLBAR/CMFCToolBar::CalcSize
- AFXTOOLBAR/CMFCToolBar::CanHandleSiblings
- AFXTOOLBAR/CMFCToolBar::CleanUpImages
- AFXTOOLBAR/CMFCToolBar::CleanUpLockedImages
- AFXTOOLBAR/CMFCToolBar::CanBeClosed
- AFXTOOLBAR/CMFCToolBar::CanBeRestored
- AFXTOOLBAR/CMFCToolBar::CanFocus
- AFXTOOLBAR/CMFCToolBar::CommandToIndex
- AFXTOOLBAR/CMFCToolBar::Create
- AFXTOOLBAR/CMFCToolBar::CreateEx
- AFXTOOLBAR/CMFCToolBar::Deactivate
- AFXTOOLBAR/CMFCToolBar::EnableCustomizeButton
- AFXTOOLBAR/CMFCToolBar::EnableDocking
- AFXTOOLBAR/CMFCToolBar::EnableLargeIcons
- AFXTOOLBAR/CMFCToolBar::EnableQuickCustomization
- AFXTOOLBAR/CMFCToolBar::EnableReflections
- AFXTOOLBAR/CMFCToolBar::EnableTextLabels
- AFXTOOLBAR/CMFCToolBar::FromHandlePermanent
- AFXTOOLBAR/CMFCToolBar::GetAllButtons
- AFXTOOLBAR/CMFCToolBar::GetAllToolbars
- AFXTOOLBAR/CMFCToolBar::GetBasicCommands
- AFXTOOLBAR/CMFCToolBar::GetButton
- AFXTOOLBAR/CMFCToolBar::GetButtonInfo
- AFXTOOLBAR/CMFCToolBar::GetButtonSize
- AFXTOOLBAR/CMFCToolBar::GetButtonStyle
- AFXTOOLBAR/CMFCToolBar::GetButtonText
- AFXTOOLBAR/CMFCToolBar::GetColdImages
- AFXTOOLBAR/CMFCToolBar::GetColumnWidth
- AFXTOOLBAR/CMFCToolBar::GetCommandButtons
- AFXTOOLBAR/CMFCToolBar::GetCount
- AFXTOOLBAR/CMFCToolBar::GetCustomizeButton
- AFXTOOLBAR/CMFCToolBar::GetDefaultImage
- AFXTOOLBAR/CMFCToolBar::GetDisabledImages
- AFXTOOLBAR/CMFCToolBar::GetDisabledMenuImages
- AFXTOOLBAR/CMFCToolBar::GetDroppedDownMenu
- AFXTOOLBAR/CMFCToolBar::GetGrayDisabledButtons
- AFXTOOLBAR/CMFCToolBar::GetHighlightedButton
- AFXTOOLBAR/CMFCToolBar::GetHotBorder
- AFXTOOLBAR/CMFCToolBar::GetHotTextColor
- AFXTOOLBAR/CMFCToolBar::GetHwndLastFocus
- AFXTOOLBAR/CMFCToolBar::GetOVERWRITESetText
- AFXTOOLBAR/CMFCToolBar::GetImageSize
- AFXTOOLBAR/CMFCToolBar::GetImages
- AFXTOOLBAR/CMFCToolBar::GetImagesOffset
- AFXTOOLBAR/CMFCToolBar::GetInvalidateItemRect
- AFXTOOLBAR/CMFCToolBar::GetItemID
- AFXTOOLBAR/CMFCToolBar::GetItemRect
- AFXTOOLBAR/CMFCToolBar::GetLargeColdImages
- AFXTOOLBAR/CMFCToolBar::GetLargeDisabledImages
- AFXTOOLBAR/CMFCToolBar::GetLargeImages
- AFXTOOLBAR/CMFCToolBar::GetLockedColdImages
- AFXTOOLBAR/CMFCToolBar::GetLockedDisabledImages
- AFXTOOLBAR/CMFCToolBar::GetLockedImages
- AFXTOOLBAR/CMFCToolBar::GetLockedImageSize
- AFXTOOLBAR/CMFCToolBar::GetLockedMenuImages
- AFXTOOLBAR/CMFCToolBar::GetMenuButtonSize
- AFXTOOLBAR/CMFCToolBar::GetMenuImageSize
- AFXTOOLBAR/CMFCToolBar::GetMenuImages
- AFXTOOLBAR/CMFCToolBar::GetOrigButtons
- AFXTOOLBAR/CMFCToolBar::GetOrigResetButtons
- AFXTOOLBAR/CMFCToolBar::GetResourceID
- AFXTOOLBAR/CMFCToolBar::GetRouteCommandsViaFrame
- AFXTOOLBAR/CMFCToolBar::GetRowHeight
- AFXTOOLBAR/CMFCToolBar::GetShowTooltips
- AFXTOOLBAR/CMFCToolBar::GetSiblingToolBar
- AFXTOOLBAR/CMFCToolBar::GetUserImages
- AFXTOOLBAR/CMFCToolBar::HitTest
- AFXTOOLBAR/CMFCToolBar::InsertButton
- AFXTOOLBAR/CMFCToolBar::InsertSeparator
- AFXTOOLBAR/CMFCToolBar::InvalidateButton
- AFXTOOLBAR/CMFCToolBar::IsAddRemoveQuickCustomize
- AFXTOOLBAR/CMFCToolBar::IsAltCustomizeMode
- AFXTOOLBAR/CMFCToolBar::IsAutoGrayInactiveImages
- AFXTOOLBAR/CMFCToolBar::IsBasicCommand
- AFXTOOLBAR/CMFCToolBar::IsButtonExtraSizeAvailable
- AFXTOOLBAR/CMFCToolBar::IsButtonHighlighted
- AFXTOOLBAR/CMFCToolBar::IsCommandPermitted
- AFXTOOLBAR/CMFCToolBar::IsCommandRarelyUsed
- AFXTOOLBAR/CMFCToolBar::IsCustomizeMode
- AFXTOOLBAR/CMFCToolBar::IsDragButton
- AFXTOOLBAR/CMFCToolBar::IsExistCustomizeButton
- AFXTOOLBAR/CMFCToolBar::IsFloating
- AFXTOOLBAR/CMFCToolBar::IsLargeIcons
- AFXTOOLBAR/CMFCToolBar::IsLastCommandFromButton
- AFXTOOLBAR/CMFCToolBar::IsLocked
- AFXTOOLBAR/CMFCToolBar::IsOneRowWithSibling
- AFXTOOLBAR/CMFCToolBar::IsUserDefined
- AFXTOOLBAR/CMFCToolBar::LoadBitmap
- AFXTOOLBAR/CMFCToolBar::LoadBitmapEx
- AFXTOOLBAR/CMFCToolBar::LoadParameters
- AFXTOOLBAR/CMFCToolBar::LoadState
- AFXTOOLBAR/CMFCToolBar::LoadToolBar
- AFXTOOLBAR/CMFCToolBar::LoadToolBarEx
- AFXTOOLBAR/CMFCToolBar::OnChangeHot
- AFXTOOLBAR/CMFCToolBar::OnFillBackground
- AFXTOOLBAR/CMFCToolBar::OnReset
- AFXTOOLBAR/CMFCToolBar::OnSetAccData
- AFXTOOLBAR/CMFCToolBar::OnSetDefaultButtonText
- AFXTOOLBAR/CMFCToolBar::RemoveAllButtons
- AFXTOOLBAR/CMFCToolBar::RemoveButton
- AFXTOOLBAR/CMFCToolBar::RemoveStateFromRegistry
- AFXTOOLBAR/CMFCToolBar::ReplaceButton
- AFXTOOLBAR/CMFCToolBar::ResetAll
- AFXTOOLBAR/CMFCToolBar::ResetAllImages
- AFXTOOLBAR/CMFCToolBar::RestoreOriginalState
- AFXTOOLBAR/CMFCToolBar::SaveState
- AFXTOOLBAR/CMFCToolBar::SetBasicCommands
- AFXTOOLBAR/CMFCToolBar::SetButtonInfo
- AFXTOOLBAR/CMFCToolBar::SetButtonStyle
- AFXTOOLBAR/CMFCToolBar::SetButtonText
- AFXTOOLBAR/CMFCToolBar::SetButtons
- AFXTOOLBAR/CMFCToolBar::SetCommandUsageOptions
- AFXTOOLBAR/CMFCToolBar::SetCustomizeMode
- AFXTOOLBAR/CMFCToolBar::SetGrayDisabledButtons
- AFXTOOLBAR/CMFCToolBar::SetHeight
- AFXTOOLBAR/CMFCToolBar::SetHotBorder
- AFXTOOLBAR/CMFCToolBar::SetHotTextColor
- AFXTOOLBAR/CMFCToolBar::SetLargeIcons
- AFXTOOLBAR/CMFCToolBar::SetLockedSizes
- AFXTOOLBAR/CMFCToolBar::SetMenuSizes
- AFXTOOLBAR/CMFCToolBar::SetNonPermittedCommands
- AFXTOOLBAR/CMFCToolBar::SetOneRowWithSibling
- AFXTOOLBAR/CMFCToolBar::SetPermament
- AFXTOOLBAR/CMFCToolBar::SetRouteCommandsViaFrame
- AFXTOOLBAR/CMFCToolBar::SetShowTooltips
- AFXTOOLBAR/CMFCToolBar::SetSiblingToolBar
- AFXTOOLBAR/CMFCToolBar::SetSizes
- AFXTOOLBAR/CMFCToolBar::SetToolBarBtnText
- AFXTOOLBAR/CMFCToolBar::SetTwoRowsWithSibling
- AFXTOOLBAR/CMFCToolBar::SetUserImages
- AFXTOOLBAR/CMFCToolBar::StretchPane
- AFXTOOLBAR/CMFCToolBar::TranslateChar
- AFXTOOLBAR/CMFCToolBar::UpdateButton
- AFXTOOLBAR/CMFCToolBar::WrapToolBar
- AFXTOOLBAR/CMFCToolBar::AllowShowOnList
- AFXTOOLBAR/CMFCToolBar::CalcMaxButtonHeight
- AFXTOOLBAR/CMFCToolBar::DoPaint
- AFXTOOLBAR/CMFCToolBar::DrawButton
- AFXTOOLBAR/CMFCToolBar::DrawSeparator
- AFXTOOLBAR/CMFCToolBar::OnUserToolTip
- AFXTOOLBAR/CMFCToolBar::m_bDontScaleImages
- AFXTOOLBAR/CMFCToolBar::m_dblLargeImageRatio
helpviewer_keywords:
- CMFCToolBar [MFC], AddBasicCommand
- CMFCToolBar [MFC], AddCommandUsage
- CMFCToolBar [MFC], AddToolBarForImageCollection
- CMFCToolBar [MFC], AdjustLayout
- CMFCToolBar [MFC], AdjustSize
- CMFCToolBar [MFC], AllowChangeTextLabels
- CMFCToolBar [MFC], AreTextLabels
- CMFCToolBar [MFC], AutoGrayInactiveImages
- CMFCToolBar [MFC], ButtonToIndex
- CMFCToolBar [MFC], CalcFixedLayout
- CMFCToolBar [MFC], CalcSize
- CMFCToolBar [MFC], CanHandleSiblings
- CMFCToolBar [MFC], CleanUpImages
- CMFCToolBar [MFC], CleanUpLockedImages
- CMFCToolBar [MFC], CanBeClosed
- CMFCToolBar [MFC], CanBeRestored
- CMFCToolBar [MFC], CanFocus
- CMFCToolBar [MFC], CanHandleSiblings
- CMFCToolBar [MFC], CommandToIndex
- CMFCToolBar [MFC], Create
- CMFCToolBar [MFC], CreateEx
- CMFCToolBar [MFC], Deactivate
- CMFCToolBar [MFC], EnableCustomizeButton
- CMFCToolBar [MFC], EnableDocking
- CMFCToolBar [MFC], EnableLargeIcons
- CMFCToolBar [MFC], EnableQuickCustomization
- CMFCToolBar [MFC], EnableReflections
- CMFCToolBar [MFC], EnableTextLabels
- CMFCToolBar [MFC], FromHandlePermanent
- CMFCToolBar [MFC], GetAllButtons
- CMFCToolBar [MFC], GetAllToolbars
- CMFCToolBar [MFC], GetBasicCommands
- CMFCToolBar [MFC], GetButton
- CMFCToolBar [MFC], GetButtonInfo
- CMFCToolBar [MFC], GetButtonSize
- CMFCToolBar [MFC], GetButtonStyle
- CMFCToolBar [MFC], GetButtonText
- CMFCToolBar [MFC], GetColdImages
- CMFCToolBar [MFC], GetColumnWidth
- CMFCToolBar [MFC], GetCommandButtons
- CMFCToolBar [MFC], GetCount
- CMFCToolBar [MFC], GetCustomizeButton
- CMFCToolBar [MFC], GetDefaultImage
- CMFCToolBar [MFC], GetDisabledImages
- CMFCToolBar [MFC], GetDisabledMenuImages
- CMFCToolBar [MFC], GetDroppedDownMenu
- CMFCToolBar [MFC], GetGrayDisabledButtons
- CMFCToolBar [MFC], GetHighlightedButton
- CMFCToolBar [MFC], GetHotBorder
- CMFCToolBar [MFC], GetHotTextColor
- CMFCToolBar [MFC], GetHwndLastFocus
- CMFCToolBar [MFC], GetIgnoreSetText
- CMFCToolBar [MFC], GetImageSize
- CMFCToolBar [MFC], GetImages
- CMFCToolBar [MFC], GetImagesOffset
- CMFCToolBar [MFC], GetInvalidateItemRect
- CMFCToolBar [MFC], GetItemID
- CMFCToolBar [MFC], GetItemRect
- CMFCToolBar [MFC], GetLargeColdImages
- CMFCToolBar [MFC], GetLargeDisabledImages
- CMFCToolBar [MFC], GetLargeImages
- CMFCToolBar [MFC], GetLockedColdImages
- CMFCToolBar [MFC], GetLockedDisabledImages
- CMFCToolBar [MFC], GetLockedImages
- CMFCToolBar [MFC], GetLockedImageSize
- CMFCToolBar [MFC], GetLockedMenuImages
- CMFCToolBar [MFC], GetMenuButtonSize
- CMFCToolBar [MFC], GetMenuImageSize
- CMFCToolBar [MFC], GetMenuImages
- CMFCToolBar [MFC], GetOrigButtons
- CMFCToolBar [MFC], GetOrigResetButtons
- CMFCToolBar [MFC], GetResourceID
- CMFCToolBar [MFC], GetRouteCommandsViaFrame
- CMFCToolBar [MFC], GetRowHeight
- CMFCToolBar [MFC], GetShowTooltips
- CMFCToolBar [MFC], GetSiblingToolBar
- CMFCToolBar [MFC], GetUserImages
- CMFCToolBar [MFC], HitTest
- CMFCToolBar [MFC], InsertButton
- CMFCToolBar [MFC], InsertSeparator
- CMFCToolBar [MFC], InvalidateButton
- CMFCToolBar [MFC], IsAddRemoveQuickCustomize
- CMFCToolBar [MFC], IsAltCustomizeMode
- CMFCToolBar [MFC], IsAutoGrayInactiveImages
- CMFCToolBar [MFC], IsBasicCommand
- CMFCToolBar [MFC], IsButtonExtraSizeAvailable
- CMFCToolBar [MFC], IsButtonHighlighted
- CMFCToolBar [MFC], IsCommandPermitted
- CMFCToolBar [MFC], IsCommandRarelyUsed
- CMFCToolBar [MFC], IsCustomizeMode
- CMFCToolBar [MFC], IsDragButton
- CMFCToolBar [MFC], IsExistCustomizeButton
- CMFCToolBar [MFC], IsFloating
- CMFCToolBar [MFC], IsLargeIcons
- CMFCToolBar [MFC], IsLastCommandFromButton
- CMFCToolBar [MFC], IsLocked
- CMFCToolBar [MFC], IsOneRowWithSibling
- CMFCToolBar [MFC], IsUserDefined
- CMFCToolBar [MFC], LoadBitmap
- CMFCToolBar [MFC], LoadBitmapEx
- CMFCToolBar [MFC], LoadParameters
- CMFCToolBar [MFC], LoadState
- CMFCToolBar [MFC], LoadToolBar
- CMFCToolBar [MFC], LoadToolBarEx
- CMFCToolBar [MFC], OnChangeHot
- CMFCToolBar [MFC], OnFillBackground
- CMFCToolBar [MFC], OnReset
- CMFCToolBar [MFC], OnSetAccData
- CMFCToolBar [MFC], OnSetDefaultButtonText
- CMFCToolBar [MFC], RemoveAllButtons
- CMFCToolBar [MFC], RemoveButton
- CMFCToolBar [MFC], RemoveStateFromRegistry
- CMFCToolBar [MFC], ReplaceButton
- CMFCToolBar [MFC], ResetAll
- CMFCToolBar [MFC], ResetAllImages
- CMFCToolBar [MFC], RestoreOriginalState
- CMFCToolBar [MFC], SaveState
- CMFCToolBar [MFC], SetBasicCommands
- CMFCToolBar [MFC], SetButtonInfo
- CMFCToolBar [MFC], SetButtonStyle
- CMFCToolBar [MFC], SetButtonText
- CMFCToolBar [MFC], SetButtons
- CMFCToolBar [MFC], SetCommandUsageOptions
- CMFCToolBar [MFC], SetCustomizeMode
- CMFCToolBar [MFC], SetGrayDisabledButtons
- CMFCToolBar [MFC], SetHeight
- CMFCToolBar [MFC], SetHotBorder
- CMFCToolBar [MFC], SetHotTextColor
- CMFCToolBar [MFC], SetLargeIcons
- CMFCToolBar [MFC], SetLockedSizes
- CMFCToolBar [MFC], SetMenuSizes
- CMFCToolBar [MFC], SetNonPermittedCommands
- CMFCToolBar [MFC], SetOneRowWithSibling
- CMFCToolBar [MFC], SetPermament
- CMFCToolBar [MFC], SetRouteCommandsViaFrame
- CMFCToolBar [MFC], SetShowTooltips
- CMFCToolBar [MFC], SetSiblingToolBar
- CMFCToolBar [MFC], SetSizes
- CMFCToolBar [MFC], SetToolBarBtnText
- CMFCToolBar [MFC], SetTwoRowsWithSibling
- CMFCToolBar [MFC], SetUserImages
- CMFCToolBar [MFC], StretchPane
- CMFCToolBar [MFC], TranslateChar
- CMFCToolBar [MFC], UpdateButton
- CMFCToolBar [MFC], WrapToolBar
- CMFCToolBar [MFC], AllowShowOnList
- CMFCToolBar [MFC], CalcMaxButtonHeight
- CMFCToolBar [MFC], DoPaint
- CMFCToolBar [MFC], DrawButton
- CMFCToolBar [MFC], DrawSeparator
- CMFCToolBar [MFC], OnUserToolTip
- CMFCToolBar [MFC], m_bDontScaleImages
- CMFCToolBar [MFC], m_dblLargeImageRatio
ms.assetid: e7679c01-fb94-44c0-98c6-3af955292fb5
ms.openlocfilehash: d2af7a808e07e0368dd43ed920b6d8736a90b995
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69504901"
---
# <a name="cmfctoolbar-class"></a>Класс CMFCToolBar

Класс `CMFCToolBar` напоминает [класс CToolBar](../../mfc/reference/ctoolbar-class.md), но предоставляет дополнительную поддержку для функций пользовательского интерфейса. Они включают плоские панели инструментов, панели инструментов с наиболее часто используемыми изображениями, крупные значки, кнопки пролистывания страниц, заблокированные панели инструментов, элементы управления главной панели, текст под изображениями, фоновые изображения и панели инструментов с вкладками. Класс `CMFCToolBar` также содержит встроенную поддержку пользовательской настройки панелей инструментов и меню, перетаскивания между панелями элементов и меню, кнопки поля со списком, кнопки редактируемых полей, различных палитр и кнопок сворачивания.

Дополнительные сведения см. в исходном коде, расположенном в папке **VC\\atlmfc\\src\\mfc** каталога установки Visual Studio.

## <a name="syntax"></a>Синтаксис

```
class CMFCToolBar : public CMFCBaseToolBar
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|`CMFCToolBar::CMFCToolBar`|Конструктор по умолчанию.|
|`CMFCToolBar::~CMFCToolBar`|Деструктор.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CMFCToolBar:: Аддбасиккомманд](#addbasiccommand)|Добавляет команду меню в список команд, которые всегда отображаются, когда пользователь открывает меню.|
|[CMFCToolBar:: Аддкоммандусаже](#addcommandusage)|Увеличивает на один счетчик, связанный с заданной командой.|
|[CMFCToolBar:: Аддтулбарфоримажеколлектион](#addtoolbarforimagecollection)|Добавляет образы из ресурсов пользовательского интерфейса в коллекцию изображений в приложении.|
|[CMFCToolBar:: Аджустлайаут](#adjustlayout)|Повторно вычисляет размер и расположение панели инструментов. (Переопределяет [CBasePane:: аджустлайаут](../../mfc/reference/cbasepane-class.md#adjustlayout)).|
|[CMFCToolBar:: Аджустсизе](#adjustsize)|Повторно вычисляет размер панели инструментов.|
|[CMFCToolBar:: Алловчанжетекстлабелс](#allowchangetextlabels)|Указывает, могут ли текстовые метки отображаться в области изображения на кнопках панели инструментов.|
|[CMFCToolBar:: Аретекстлабелс](#aretextlabels)|Указывает, отображаются ли текстовые метки в изображениях на кнопках панели инструментов.|
|[CMFCToolBar:: Аутограйинактивеимажес](#autograyinactiveimages)|Включает или отключает автоматическое создание изображений неактивной кнопки.|
|[CMFCToolBar:: Буттонтоиндекс](#buttontoindex)|Возвращает индекс указанного объекта [класса CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) на этой панели инструментов.|
|[CMFCToolBar:: Калкфикседлайаут](#calcfixedlayout)|Вычисляет горизонтальный размер панели инструментов. (Переопределяет [CBasePane:: калкфикседлайаут](../../mfc/reference/cbasepane-class.md#calcfixedlayout).)|
|[CMFCToolBar:: Калксизе](#calcsize)|Вызывается платформой как часть процесса вычисления макета. (Переопределяет [CPane:: калксизе](../../mfc/reference/cpane-class.md#calcsize).)|
|[CMFCToolBar:: Канхандлесиблингс](#canhandlesiblings)|Определяет, расположена ли панель инструментов и панель того же уровня в одной области.|
|[CMFCToolBar:: Клеанупимажес](#cleanupimages)|Освобождает системные ресурсы, выделенные для изображений панели инструментов.|
|[CMFCToolBar:: Клеануплоккедимажес](#cleanuplockedimages)|Освобождает системные ресурсы, выделенные для заблокированных изображений панели инструментов.|
|[CMFCToolBar:: Канбеклосед](#canbeclosed)|Указывает, может ли пользователь закрыть панель инструментов. (Переопределяет [CBasePane:: канбеклосед](../../mfc/reference/cbasepane-class.md#canbeclosed).)|
|[CMFCToolBar:: Канбересторед](#canberestored)|Определяет, может ли система восстановить исходное состояние панели инструментов после настройки.|
|[CMFCToolBar:: Канфокус](#canfocus)|Указывает, может ли панель получать фокус. (Переопределяет [CBasePane:: канфокус](../../mfc/reference/cbasepane-class.md#canfocus).)|
|[CMFCToolBar:: Канхандлесиблингс](#canhandlesiblings)|Определяет, расположена ли панель инструментов и панель того же уровня в одной области.|
|[CMFCToolBar:: Коммандтоиндекс](#commandtoindex)|Возвращает индекс кнопки на панели инструментов с указанным ИДЕНТИФИКАТОРом команды.|
|[CMFCToolBar:: Create](#create)|Создает объект `CMFCToolBar`.|
|[CMFCToolBar:: Креатикс](#createex)|`CMFCToolBar` Создает объект, который использует дополнительные параметры стиля, такие как крупные значки.|
|[CMFCToolBar::D еактивате](#deactivate)|Деактивирует панель инструментов.|
|[CMFCToolBar:: Енаблекустомизебуттон](#enablecustomizebutton)|Включает или отключает кнопку **Добавить или удалить кнопки** , которая отображается в конце панели инструментов.|
|[CMFCToolBar:: Енабледоккинг](#enabledocking)|Включает закрепление панели в главном фрейме. (Переопределяет [CBasePane:: енабледоккинг](../../mfc/reference/cbasepane-class.md#enabledocking).)|
|[CMFCToolBar:: Енаблеларжеиконс](#enablelargeicons)|Включает или отключает крупные значки на кнопках панели инструментов.|
|[CMFCToolBar:: Енаблекуикккустомизатион](#enablequickcustomization)|Включает или отключает быструю настройку панелей инструментов, чтобы пользователь мог нажать клавишу **ALT** и перетащить кнопку в новое место.|
|[CMFCToolBar:: Енаблерефлектионс](#enablereflections)|Включает или отключает отражение команд.|
|[CMFCToolBar:: Енаблетекстлабелс](#enabletextlabels)|Включает или отключает текстовые метки под значками кнопок панели инструментов.|
|[CMFCToolBar:: Фромхандлеперманент](#fromhandlepermanent)|Извлекает указатель на `CMFCToolBar` объект, содержащий заданный маркер окна.|
|[CMFCToolBar:: Жеталлбуттонс](#getallbuttons)|Возвращает список кнопок на панели инструментов, которые доступны только для чтения.|
|[CMFCToolBar:: Жеталлтулбарс](#getalltoolbars)|Возвращает список только для чтения всех панелей инструментов в приложении.|
|[CMFCToolBar:: Жетбасиккоммандс](#getbasiccommands)|Возвращает доступное только для чтения список основных команд, определенных в приложении.|
|[CMFCToolBar:: "Кнопка"](#getbutton)|Возвращает указатель на `CMFCToolBarButton` объект с указанным индексом кнопки панели инструментов.|
|[CMFCToolBar:: Жетбуттонинфо](#getbuttoninfo)|Возвращает идентификатор команды, стиль и индекс изображения кнопки по указанному индексу.|
|[CMFCToolBar:: Жетбуттонсизе](#getbuttonsize)|Возвращает размеры каждой кнопки на панели инструментов.|
|[CMFCToolBar:: Жетбуттонстиле](#getbuttonstyle)|Возвращает текущий стиль кнопки панели инструментов, расположенной по указанному индексу.|
|[CMFCToolBar:: Жетбуттонтекст](#getbuttontext)|Возвращает текстовую метку кнопки с указанным индексом.|
|[CMFCToolBar:: Жетколдимажес](#getcoldimages)|Возвращает указатель на коллекцию изображений кнопки холодной панели инструментов в приложении.|
|[CMFCToolBar:: Жетколумнвидс](#getcolumnwidth)|Возвращает ширину кнопок панели инструментов.|
|[CMFCToolBar::](#getcommandbuttons)|Возвращает список кнопок, имеющих указанный идентификатор команды на всех панелях инструментов в приложении.|
|[CMFCToolBar:: NOCOUNT](#getcount)|Возвращает количество кнопок и разделителей на панели инструментов.|
|[CMFCToolBar:: Жеткустомизебуттон](#getcustomizebutton)|Получает указатель на `CMFCCustomizeButton` объект, связанный с панелью инструментов.|
|[CMFCToolBar:: Жетдефаултимаже](#getdefaultimage)|Возвращает индекс изображения по умолчанию для кнопки панели инструментов с указанным ИДЕНТИФИКАТОРом команды.|
|[CMFCToolBar:: Жетдисабледимажес](#getdisabledimages)|Возвращает указатель на коллекцию изображений, которые используются для отключенных кнопок панели инструментов в приложении.|
|[CMFCToolBar:: Жетдисабледменуимажес](#getdisabledmenuimages)|Возвращает указатель на коллекцию изображений, используемых для отключенных кнопок меню в приложении.|
|[CMFCToolBar:: Жетдроппеддовнмену](#getdroppeddownmenu)|Получает указатель на объект кнопки меню, в котором в данный момент отображается вложенное меню.|
|[CMFCToolBar:: Жетграйдисабледбуттонс](#getgraydisabledbuttons)|Указывает, являются ли изображения отключенных кнопок недоступными для изображений обычных кнопок или из коллекции отключенных изображений кнопок.|
|[CMFCToolBar:: Жесигхлигхтедбуттон](#gethighlightedbutton)|Возвращает указатель на кнопку панели инструментов, выделенную в данный момент.|
|[CMFCToolBar:: Жесотбордер](#gethotborder)|Определяет, будут ли кнопки панели инструментов отслежены.|
|[CMFCToolBar:: Жесоттекстколор](#gethottextcolor)|Возвращает цвет текста выделенных кнопок панели инструментов.|
|[CMFCToolBar:: Жесвндластфокус](#gethwndlastfocus)|Возвращает маркер окна, в котором фокус ввода находится непосредственно перед выполнением панели инструментов.|
|[CMFCToolBar:: Жетигноресеттекст](#getignoresettext)|Указывает, пропускаются ли вызовы для установки меток кнопок.|
|[CMFCToolBar:: Жетимажесизе](#getimagesize)|Возвращает текущий размер изображений кнопки панели инструментов.|
|[CMFCToolBar:: a Images](#getimages)|Возвращает указатель на коллекцию изображений кнопок по умолчанию в приложении.|
|[CMFCToolBar:: Жетимажесоффсет](#getimagesoffset)|Возвращает смещение индекса, используемое для поиска изображений кнопок панели инструментов в глобальном списке изображений на кнопке панели инструментов.|
|[CMFCToolBar:: Жетинвалидатеитемрект](#getinvalidateitemrect)|Извлекает область клиентской области, которая должна быть перерисована для кнопки с заданным индексом.|
|[CMFCToolBar:: Жетитемид](#getitemid)|Возвращает идентификатор команды для кнопки панели инструментов в указанном индексе.|
|[CMFCToolBar:: Жетитемрект](#getitemrect)|Возвращает ограничивающий прямоугольник кнопки с указанным индексом.|
|[CMFCToolBar:: Жетларжеколдимажес](#getlargecoldimages)|Возвращает указатель на коллекцию больших изображений кнопок холодной панели инструментов в приложении.|
|[CMFCToolBar:: Жетларжедисабледимажес](#getlargedisabledimages)|Возвращает указатель на коллекцию больших отключенных изображений кнопок панели инструментов в приложении.|
|[CMFCToolBar:: Жетларжеимажес](#getlargeimages)|Возвращает указатель на коллекцию крупных изображений кнопок панели инструментов в приложении.|
|[CMFCToolBar:: Жетлоккедколдимажес](#getlockedcoldimages)|Возвращает указатель на коллекцию заблокированных холодных изображений на панели инструментов.|
|[CMFCToolBar:: Жетлоккеддисабледимажес](#getlockeddisabledimages)|Возвращает указатель на коллекцию заблокированных отключенных изображений на панели инструментов.|
|[CMFCToolBar:: Жетлоккедимажес](#getlockedimages)|Возвращает указатель на коллекцию изображений заблокированных кнопок на панели инструментов.|
|[CMFCToolBar:: Жетлоккедимажесизе](#getlockedimagesize)|Возвращает размер заблокированных изображений панели инструментов по умолчанию.|
|[CMFCToolBar:: Жетлоккедменуимажес](#getlockedmenuimages)|Возвращает указатель на коллекцию заблокированных изображений меню панели инструментов на панели инструментов.|
|[CMFCToolBar:: Жетменубуттонсизе](#getmenubuttonsize)|Возвращает размер кнопок меню в приложении.|
|[CMFCToolBar:: Жетменуимажесизе](#getmenuimagesize)|Возвращает размер изображений кнопки меню в приложении.|
|[CMFCToolBar:: Жетменуимажес](#getmenuimages)|Возвращает указатель на коллекцию изображений кнопок меню в приложении.|
|[CMFCToolBar:: Жеторигбуттонс](#getorigbuttons)|Извлекает коллекцию ненастраиваемых кнопок панели инструментов.|
|[CMFCToolBar:: Жеторигресетбуттонс](#getorigresetbuttons)|Извлекает коллекцию кнопок сброса, не настроенных на панели инструментов.|
|[CMFCToolBar:: Жетресаурцеид](#getresourceid)|Возвращает идентификатор ресурса панели инструментов.|
|[CMFCToolBar:: Жетраутекоммандсвиафраме](#getroutecommandsviaframe)|Определяет, какой объект, родительский фрейм или владелец, отправляет команды на панель инструментов.|
|[CMFCToolBar:: Жетровхеигхт](#getrowheight)|Возвращает высоту кнопок панели инструментов.|
|[CMFCToolBar:: Жетшовтултипс](#getshowtooltips)|Указывает, отображаются ли всплывающие подсказки для кнопок панели инструментов.|
|[CMFCToolBar:: Жетсиблингтулбар](#getsiblingtoolbar)|Извлекает элемент того же уровня, что и панель инструментов.|
|[CMFCToolBar:: Жетусеримажес](#getuserimages)|Возвращает указатель на коллекцию определенных пользователем изображений кнопок панели инструментов в приложении.|
|[CMFCToolBar:: HitTest](#hittest)|Возвращает индекс кнопки панели инструментов, расположенной в указанной позиции.|
|[CMFCToolBar:: Инсертбуттон](#insertbutton)|Вставляет кнопку на панель инструментов.|
|[CMFCToolBar:: Инсертсепаратор](#insertseparator)|Вставляет разделитель в панель инструментов.|
|[CMFCToolBar:: Инвалидатебуттон](#invalidatebutton)|Делает недействительным клиентскую область кнопки панели инструментов, которая существует по указанному индексу.|
|[CMFCToolBar:: Исаддремовекуикккустомизе](#isaddremovequickcustomize)|Определяет, может ли пользователь добавлять или удалять кнопки панели инструментов с помощью команды меню " **настроить** ".|
|[CMFCToolBar:: Исалткустомиземоде](#isaltcustomizemode)|Указывает, используется ли *Быстрая настройка* для перетаскивания кнопки.|
|[CMFCToolBar:: Исаутограйинактивеимажес](#isautograyinactiveimages)|Указывает, включено ли автоматическое создание неактивных (невыделенных) изображений кнопки.|
|[CMFCToolBar:: Исбасиккомманд](#isbasiccommand)|Определяет, находится ли команда в списке основных команд.|
|[CMFCToolBar:: Исбуттонекстрасизеаваилабле](#isbuttonextrasizeavailable)|Определяет, может ли на панели инструментов отображаться кнопка с расширенными границами.|
|[CMFCToolBar:: Исбуттонхигхлигхтед](#isbuttonhighlighted)|Определяет, выделяется ли кнопка на панели инструментов.|
|[CMFCToolBar:: Искоммандпермиттед](#iscommandpermitted)|Определяет, разрешена ли команда.|
|[CMFCToolBar:: Искоммандрарелюсед](#iscommandrarelyused)|Определяет, используется ли команда редко (см. [CMFCToolBar:: сеткоммандусажеоптионс](#setcommandusageoptions)).|
|[CMFCToolBar:: Искустомиземоде](#iscustomizemode)|Указывает, находится ли платформа панели инструментов в режиме настройки.|
|[CMFCToolBar:: Исдрагбуттон](#isdragbutton)|Определяет, перетаскивается ли кнопка панели инструментов.|
|[CMFCToolBar:: Исексисткустомизебуттон](#isexistcustomizebutton)|Определяет, содержит ли панель инструментов кнопку " **настроить** ".|
|[CMFCToolBar:: float](#isfloating)|Определяет, является ли панель инструментов плавающей.|
|[CMFCToolBar:: Исларжеиконс](#islargeicons)|Указывает, отображаются ли в приложении панели инструментов крупные значки.|
|[CMFCToolBar:: Исласткоммандфромбуттон](#islastcommandfrombutton)|Определяет, была ли последняя выполненная команда отправлена с указанной кнопки панели инструментов.|
|[CMFCToolBar:: NOLOCK](#islocked)|Определяет, заблокирована ли панель инструментов.|
|[CMFCToolBar:: Исонероввиссиблинг](#isonerowwithsibling)|Определяет, расположены ли панель инструментов и ее родственные панели инструментов в той же строке.|
|[CMFCToolBar:: Исусердефинед](#isuserdefined)|Указывает, является ли панель инструментов определяемой пользователем.|
|[CMFCToolBar:: Лоадбитмап](#loadbitmap)|Загружает изображения значков панели инструментов из ресурсов приложения.|
|[CMFCToolBar:: Лоадбитмапекс](#loadbitmapex)|Загружает изображения значков панели инструментов из ресурсов приложения. Включает большие изображения.|
|[CMFCToolBar:: Лоадпараметерс](#loadparameters)|Загружает глобальные параметры панели инструментов из реестра Windows.|
|[CMFCToolBar:: LoadState](#loadstate)|Загружает сведения о состоянии панели инструментов из реестра Windows. (Переопределяет [CPane:: LoadState](../../mfc/reference/cpane-class.md#loadstate).)|
|[CMFCToolBar:: Лоадтулбар](#loadtoolbar)|Загружает панель инструментов из ресурсов приложения.|
|[CMFCToolBar:: Лоадтулбарекс](#loadtoolbarex)|Загружает панель инструментов из ресурсов приложения с помощью `CMFCToolBarInfo` вспомогательного класса, чтобы позволить приложению использовать крупные изображения.|
|[CMFCToolBar:: Ончанжехот](#onchangehot)|Вызывается структурой, когда пользователь выбирает кнопку на панели инструментов.|
|[CMFCToolBar:: Онфиллбаккграунд](#onfillbackground)|Вызвано структурой из [CBasePane::D опаинт](../../mfc/reference/cbasepane-class.md#dopaint) для заполнения фона панели инструментов.|
|[CMFCToolBar:: OnReset](#onreset)|Восстанавливает исходное состояние панели инструментов.|
|[CMFCToolBar:: Онсетаккдата](#onsetaccdata)|(Переопределяет [CBasePane:: онсетаккдата](../../mfc/reference/cbasepane-class.md#onsetaccdata).)|
|[CMFCToolBar:: Онсетдефаултбуттонтекст](#onsetdefaultbuttontext)|Восстанавливает текст кнопки на панели инструментов в состояние по умолчанию.|
|`CMFCToolBar::OnUpdateCmdUI`|Используется внутренним образом.|
|[CMFCToolBar:: Ремовеаллбуттонс](#removeallbuttons)|Удаляет все кнопки с панели инструментов.|
|[CMFCToolBar:: Ремовебуттон](#removebutton)|Удаляет кнопку с указанным индексом из панели инструментов.|
|[CMFCToolBar:: Ремовестатефромрегистри](#removestatefromregistry)|Удаляет сведения о состоянии панели инструментов из реестра Windows.|
|[CMFCToolBar:: Реплацебуттон](#replacebutton)|Заменяет кнопку на панели инструментов на другую кнопку панели инструментов.|
|[CMFCToolBar:: Ресеталл](#resetall)|Восстанавливает все панели инструментов в исходное состояние.|
|[CMFCToolBar:: Ресеталлимажес](#resetallimages)|Удаляет все коллекции изображений панели инструментов в приложении.|
|[CMFCToolBar:: Рестореоригиналстате](#restoreoriginalstate)|Восстанавливает первоначальное состояние панели инструментов.|
|[CMFCToolBar:: SaveState](#savestate)|Сохраняет сведения о состоянии панели инструментов в реестре Windows. (Переопределяет [CPane:: SaveState](../../mfc/reference/cpane-class.md#savestate).)|
|`CMFCToolBar::Serialize`|(Переопределяет `CBasePane::Serialize`.)|
|[CMFCToolBar:: Сетбасиккоммандс](#setbasiccommands)|Задает список команд, которые всегда отображаются при открытии меню пользователем.|
|[CMFCToolBar:: Сетбуттонинфо](#setbuttoninfo)|Задает идентификатор команды, стиль и идентификатор изображения для кнопки панели инструментов.|
|[CMFCToolBar:: Сетбуттонстиле](#setbuttonstyle)|Задает стиль кнопки панели инструментов с заданным индексом.|
|[CMFCToolBar:: Сетбуттонтекст](#setbuttontext)|Задает текстовую метку кнопки панели инструментов.|
|[CMFCToolBar:: Сетбуттонс](#setbuttons)|Задает кнопки для панели инструментов.|
|[CMFCToolBar:: Сеткоммандусажеоптионс](#setcommandusageoptions)|Указывает, что редко используемые команды не отображаются в меню приложения.|
|[CMFCToolBar:: Сеткустомиземоде](#setcustomizemode)|Включает или отключает режим настройки для всех панелей инструментов в приложении.|
|[CMFCToolBar:: Сетграйдисабледбуттонс](#setgraydisabledbuttons)|Указывает, являются ли отключенные кнопки на панели инструментов неактивными, или для отключенных кнопок используются отключенные изображения.|
|[CMFCToolBar:: Сесеигхт](#setheight)|Задает высоту панели инструментов.|
|[CMFCToolBar:: Сесотбордер](#sethotborder)|Указывает, будут ли кнопки панели инструментов отслежены.|
|[CMFCToolBar:: Сесоттекстколор](#sethottextcolor)|Задает цвет текста для кнопок активной панели инструментов.|
|[CMFCToolBar:: Сетларжеиконс](#setlargeicons)|Указывает, отображаются ли крупные значки на кнопках панели инструментов.|
|[CMFCToolBar:: Сетлоккедсизес](#setlockedsizes)|Задает размеры заблокированных кнопок и заблокированных изображений на панели инструментов.|
|[CMFCToolBar:: Сетменусизес](#setmenusizes)|Задает размер кнопок меню панели инструментов и их изображений.|
|[CMFCToolBar:: Сетнонпермиттедкоммандс](#setnonpermittedcommands)|Задает список команд, которые не могут быть выполнены пользователем.|
|[CMFCToolBar:: Сетонероввиссиблинг](#setonerowwithsibling)|Располагает панель инструментов и ее одноуровневый элемент в той же строке.|
|[CMFCToolBar:: Сетпермамент](#setpermament)|Указывает, может ли пользователь закрыть панель инструментов.|
|[CMFCToolBar:: Сетраутекоммандсвиафраме](#setroutecommandsviaframe)|Указывает, отправляет ли родительский фрейм или владелец команды на панель инструментов.|
|[CMFCToolBar:: Сетшовтултипс](#setshowtooltips)|Указывает, отображает ли платформа подсказки.|
|[CMFCToolBar:: Сетсиблингтулбар](#setsiblingtoolbar)|Задает одноуровневый элемент панели инструментов.|
|[CMFCToolBar:: Сетсизес](#setsizes)|Задает размеры кнопок и изображений на всех панелях инструментов.|
|[CMFCToolBar:: Сеттулбарбтнтекст](#settoolbarbtntext)|Задает свойства кнопки на панели инструментов.|
|[CMFCToolBar:: Сеттворовсвиссиблинг](#settworowswithsibling)|Располагает панель инструментов и ее одноуровневый элемент в отдельных строках.|
|[CMFCToolBar:: Сетусеримажес](#setuserimages)|Задает коллекцию определяемых пользователем образов в приложении.|
|[CMFCToolBar:: Стретчпане](#stretchpane)|Растягивает панель инструментов по вертикали или по горизонтали. (Переопределяет [CBasePane:: стретчпане](../../mfc/reference/cbasepane-class.md#stretchpane).)|
|[CMFCToolBar:: Транслатечар](#translatechar)|Выполняет команду кнопки, если указанный код ключа соответствует допустимому сочетанию клавиш.|
|[CMFCToolBar:: Упдатебуттон](#updatebutton)|Обновляет состояние указанной кнопки.|
|[CMFCToolBar:: Враптулбар](#wraptoolbar)|Перемещает кнопки на панели инструментов в заданных измерениях.|

### <a name="protected-methods"></a>Защищенные методы

|name|Описание|
|----------|-----------------|
|[CMFCToolBar:: Алловшовонлист](#allowshowonlist)|Определяет, отображается ли панель инструментов в списке на панели **панели инструментов** диалогового окна " **Настройка** ".|
|[CMFCToolBar:: Калкмаксбуттонхеигхт](#calcmaxbuttonheight)|Вычисляет максимальную высоту кнопки на панели инструментов.|
|[CMFCToolBar::D Опаинт](#dopaint)|Перерисовывает панель инструментов.|
|[CMFCToolBar::D Равбуттон](#drawbutton)|Перерисовывает кнопку на панели инструментов.|
|[CMFCToolBar::D Равсепаратор](#drawseparator)|Перерисовывает разделитель на панели инструментов.|
|[CMFCToolBar:: Онусертултип](#onusertooltip)|Вызывается структурой при отображении подсказки для кнопки.|

### <a name="data-members"></a>Элементы данных

|name|Описание|
|----------|-----------------|
|[CMFCToolBar:: m_bDontScaleImages](#m_bdontscaleimages)|Указывает, следует ли масштабировать изображения панелей инструментов в режиме высокого DPI.|
|[CMFCToolBar:: m_dblLargeImageRatio](#m_dbllargeimageratio)|Задает отношение между измерением (высотой или шириной) больших изображений и измерением обычных изображений.|

## <a name="remarks"></a>Примечания

Чтобы включить `CMFCToolBar` объект в приложение, выполните следующие действия.

1. `CMFCToolBar` Добавьте объект в главное окно фрейма.

1. При обработке сообщения WM_CREATE для главного окна фрейма вызовите либо [CMFCToolBar:: Create](#create) , либо [CMFCToolBar:: креатикс](#createex) , чтобы создать панель инструментов и указать ее стиль.

1. Вызовите [CBasePane:: енабледоккинг](../../mfc/reference/cbasepane-class.md#enabledocking) , чтобы указать стиль закрепления.

Для вставки специальной кнопки, например поля со списком или раскрывающейся панели инструментов, зарезервируйте фиктивную кнопку в родительском ресурсе и замените фиктивную кнопку во время выполнения с помощью [CMFCToolBar:: реплацебуттон](#replacebutton). Дополнительные сведения см. в разделе [Пошаговое руководство: Размещение элементов управления на](../walkthrough-putting-controls-on-toolbars.md)панелях инструментов.

`CMFCToolBar`является базовым классом для классов библиотеки MFC класса [CMFCMenuBar](../../mfc/reference/cmfcmenubar-class.md), класса [CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md)и [класса кмфкдропдовнтулбар](../../mfc/reference/cmfcdropdowntoolbar-class.md).

## <a name="example"></a>Пример

В приведенном ниже примере демонстрируется использование различных методов класса `CMFCToolBar` . В примере показано, как задать текст метки окна панели инструментов, задать границы, задать стиль панели и включить кнопку **Добавить или удалить кнопки** , которая отображается в конце панели инструментов. Этот фрагмент кода является частью [примера демонстрационной версии IE](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#8](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_2.cpp)]

## <a name="requirements"></a>Требования

**Заголовок:** афкстулбар. h

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CBasePane](../../mfc/reference/cbasepane-class.md)

[CPane](../../mfc/reference/cpane-class.md)

[кмфкбасетулбар](../../mfc/reference/cmfcbasetoolbar-class.md)

`CMFCToolBar`

##  <a name="addbasiccommand"></a>CMFCToolBar:: Аддбасиккомманд

Добавляет команду меню в список команд, которые всегда отображаются, когда пользователь открывает меню.

```
static void __stdcall AddBasicCommand(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*уикмд*<br/>
окне Указывает команду для добавления.

### <a name="remarks"></a>Примечания

При открытии меню всегда отображается основная команда. Этот метод имеет смысл, когда пользователь выбирает просмотр недавно использованных команд.

Используйте метод [CMFCToolBar:: сетбасиккоммандс](#setbasiccommands) , чтобы задать список команд, которые всегда отображаются при открытии меню пользователем. Используйте метод [CMFCToolBar:: жетбасиккоммандс](#getbasiccommands) , чтобы получить список основных команд, используемых приложением.

##  <a name="addcommandusage"></a>CMFCToolBar:: Аддкоммандусаже

Увеличивает на один счетчик, связанный с заданной командой.

```
static void __stdcall AddCommandUsage(UINT uiCommand);
```

### <a name="parameters"></a>Параметры

*RoutedUICommand*<br/>
окне Указывает счетчик команд для увеличения.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, когда пользователь выбирает пункт меню.

Платформа использует счетчики команд для вывода пунктов меню недавно использовавшихся.

Этот метод увеличивает счетчик команд с помощью метода [CMFCCmdUsageCount:: аддкмд](../../mfc/reference/cmfccmdusagecount-class.md#addcmd) .

##  <a name="addtoolbarforimagecollection"></a>CMFCToolBar:: Аддтулбарфоримажеколлектион

Добавляет образы из ресурсов пользовательского интерфейса в коллекцию изображений в приложении.

```
static BOOL __stdcall AddToolBarForImageCollection(
    UINT uiResID,
    UINT uiBmpResID=0,
    UINT uiColdResID=0,
    UINT uiMenuResID=0,
    UINT uiDisabledResID=0,
    UINT uiMenuDisabledResID=0);
```

### <a name="parameters"></a>Параметры

*уиресид*<br/>
окне Идентификатор ресурса панели инструментов с изображениями для загрузки.

*уибмпресид*<br/>
окне Идентификатор ресурса точечного рисунка с изображениями на панели инструментов.

*уиколдресид*<br/>
окне Идентификатор ресурса точечного рисунка со значками "холодных" изображений на панели инструментов.

*уименуресид*<br/>
окне Идентификатор ресурса точечного рисунка с изображениями меню.

*уидисабледресид*<br/>
окне Идентификатор ресурса точечного рисунка с отключенными изображениями панели инструментов.

*уименудисабледресид*<br/>
окне Идентификатор ресурса точечного рисунка с отключенными образами меню.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен. Значение FALSE, если *уиресид* или *уибмпресид* не указывают допустимые ресурсы, или возникает другая ошибка.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы загрузить точечный рисунок с изображениями панели инструментов и добавить его в коллекцию изображений панели инструментов. Этот метод создает временный объект панели инструментов и вызывает [CMFCToolBar:: лоадтулбар](#loadtoolbar).

##  <a name="adjustlayout"></a>CMFCToolBar:: Аджустлайаут

Повторно вычисляет размер и расположение панели инструментов.

```
virtual void AdjustLayout();
```

### <a name="remarks"></a>Примечания

Вызывайте этот метод, когда панель инструментов была создана для повторного вычисления ее размера и расположения.

Платформа вызывает этот метод каждый раз, когда необходимо изменить макет панели инструментов. Например, макет должен изменяться, когда пользователь перемещает другую панель управления, изменяет размер окна приложения или настраивает панель инструментов.

Переопределите этот метод, чтобы обеспечить собственный динамический макет в классах, наследуемых от `CMFCToolbar`.

##  <a name="adjustsize"></a>CMFCToolBar:: Аджустсизе

Повторно вычисляет размер панели инструментов.

```
void AdjustSize();
```

### <a name="remarks"></a>Примечания

Этот метод гарантирует, что панель инструментов умещается в границах родительского фрейма. Этот метод не выполняет никаких действий, если у панели инструментов нет родительского фрейма.

Метод [CMFCToolBar:: аджустлайаут](#adjustlayout) вызывает этот метод для повторного вычисления размера, если родительский элемент панели инструментов не `CMFCReBar` является объектом.

##  <a name="allowchangetextlabels"></a>CMFCToolBar:: Алловчанжетекстлабелс

Указывает, могут ли текстовые метки отображаться в области изображения на кнопках панели инструментов.

```
virtual BOOL AllowChangeTextLabels() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если разрешено отображать текстовые метки под изображениями; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается диалоговым окном Настройка, чтобы определить, следует ли включить флажок **Показывать текстовые метки** на странице **панели инструментов** для выбранной панели инструментов.

Реализация по умолчанию возвращает значение TRUE.

Переопределите этот метод в объекте, производном от `CMFCToolBar` , и возвратите значение false, если не нужно, чтобы пользователь решил, отображаются ли текстовые метки на кнопках панели инструментов под изображениями.

##  <a name="allowshowonlist"></a>CMFCToolBar:: Алловшовонлист

Определяет, отображается ли панель инструментов в списке **панелей инструментов в** диалоговом окне " **Настройка** ".

```
virtual BOOL AllowShowOnList() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если объект ToolBar можно отобразить в списке на странице настройки панели инструментов; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой для определения того, должен ли список на странице настройки панели инструментов включать определенный объект, производный `CMFCToolBar`от.

Реализация по умолчанию всегда возвращает значение TRUE. Переопределите этот метод, если не требуется, чтобы панель инструментов отображалась в списке панели инструментов в диалоговом окне настройки.

##  <a name="aretextlabels"></a>CMFCToolBar:: Аретекстлабелс

Указывает, отображаются ли текстовые метки в изображениях на кнопках панели инструментов.

```
BOOL AreTextLabels() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если кнопки панели инструментов отображают текстовые метки под изображениями; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Используйте [CMFCToolBar:: енаблетекстлабелс](#enabletextlabels) , чтобы указать, отображается ли текст. Значение по умолчанию — FALSE. Вызовите [CMFCToolBar:: алловчанжетекстлабелс](#allowchangetextlabels) , чтобы указать, может ли пользователь изменить этот параметр в диалоговом окне настройки.

##  <a name="autograyinactiveimages"></a>CMFCToolBar:: Аутограйинактивеимажес

Включает или отключает автоматическое создание изображений неактивной кнопки.

```
static void AutoGrayInactiveImages(
    BOOL bEnable=TRUE,
    int nGrayImagePercentage=0,
    BOOL bRedrawAllToolbars=TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
окне Логическое значение, указывающее, следует ли затемнять неактивные изображения. Если этот параметр имеет значение TRUE, неактивные изображения недоступны. В противном случае неактивные изображения не будут затемнены.

*нграйимажеперцентаже*<br/>
окне Указывает процент светимости для неактивных изображений. Если *бенабле* имеет значение false, это значение игнорируется.

*бредраваллтулбарс*<br/>
окне Логическое значение, указывающее, следует ли перерисовывать все панели инструментов в приложении. Если этот параметр имеет значение TRUE, этот метод перерисовывает все панели инструментов.

### <a name="remarks"></a>Примечания

Если *бенабле* имеет значение true, платформа использует *нграйимажеперцентаже* для создания неактивных изображений из обычных образов. В противном случае необходимо предоставить набор неактивных образов с помощью метода [CMFCToolBar:: жетколдимажес](#getcoldimages) . По умолчанию этот параметр отключен.

Дополнительные сведения о параметре *нграйимажеперцентаже* см. в разделе [Кмфктулбаримажес:: грайимажес](../../mfc/reference/cmfctoolbarimages-class.md#grayimages).

##  <a name="buttontoindex"></a>CMFCToolBar:: Буттонтоиндекс

Возвращает индекс указанного объекта [класса CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) на этой панели инструментов.

```
int ButtonToIndex(const CMFCToolBarButton* pButton) const;
```

### <a name="parameters"></a>Параметры

*пбуттон*<br/>
окне Указатель на объект кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Индекс *пбуттон* во внутреннем списке кнопок панели инструментов; или-1, если указанная кнопка не находится на этой панели инструментов.

##  <a name="calcfixedlayout"></a>CMFCToolBar:: Калкфикседлайаут

Вычисляет горизонтальный размер панели инструментов.

```
virtual CSize CalcFixedLayout(
    BOOL bStretch,
    BOOL bHorz);
```

### <a name="parameters"></a>Параметры

*бстретч*<br/>
окне Значение TRUE, чтобы растянуть панель инструментов до размера родительского фрейма.

*бхорз*<br/>
окне Значение TRUE для ориентации панели инструментов по горизонтали; Значение FALSE для ориентации панели инструментов по вертикали.

### <a name="return-value"></a>Возвращаемое значение

`CSize` Объект, указывающий размер панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод вычисляет размер панели инструментов с помощью `CMFCToolBar::CalcLayout` метода. Он передает флаг LM_STRETCH для параметра *двмоде* , если *бстретч* имеет значение true. Он передает флаг LM_HORZ, если *бхорз* имеет значение true.

Пример использования этого метода см. в примере Висуалстудиодемо.

##  <a name="calcmaxbuttonheight"></a>CMFCToolBar:: Калкмаксбуттонхеигхт

Вычисляет максимальную высоту кнопок на панели инструментов.

```
virtual int CalcMaxButtonHeight();
```

### <a name="return-value"></a>Возвращаемое значение

Максимальная высота кнопок.

### <a name="remarks"></a>Примечания

Этот метод вычисляет максимальную высоту по всем кнопкам панели инструментов на панели инструментов. Высота может различаться в зависимости от таких факторов, как текущее состояние закрепления панели инструментов.

Переопределите этот метод в классе, производном от `CMFCToolBar` , чтобы обеспечить собственный расчет высоты.

##  <a name="calcsize"></a>CMFCToolBar:: Калксизе

Вызывается платформой как часть процесса вычисления макета.

```
virtual CSize CalcSize(BOOL bVertDock);
```

### <a name="parameters"></a>Параметры

*бвертдокк*<br/>
окне Значение TRUE, чтобы указать, что панель инструментов закреплена по вертикали; Значение FALSE, чтобы указать, что панель инструментов закреплена по горизонтали.

### <a name="return-value"></a>Возвращаемое значение

`CSize` Объект, указывающий общий размер кнопок на панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод учитывает атрибуты, влияющие на размер каждой кнопки, например площадь текстовой метки и размер границы.

Если панель инструментов не содержит кнопок, этот метод возвращает зарезервированный размер одной кнопки с помощью метода [CMFCToolBar:: жетбуттонсизе](#getbuttonsize) .

##  <a name="canbeclosed"></a>CMFCToolBar:: Канбеклосед

Указывает, может ли пользователь закрыть панель инструментов.

```
virtual BOOL CanBeClosed() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель инструментов может быть закрыта пользователем; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы определить, может ли пользователь закрыть панель инструментов. Если метод возвращает значение TRUE, платформа включает команду SC_CLOSE в системном меню панели инструментов, и пользователь может закрыть панель инструментов с помощью флажка в списке панелей инструментов в диалоговом окне настройки.

Реализация по умолчанию возвращает значение TRUE. Переопределите этот метод в классе, производном от `CMFCToolBar` , чтобы сделать объекты панели инструментов, которые не могут быть закрыты пользователем.

##  <a name="canberestored"></a>CMFCToolBar:: Канбересторед

Определяет, может ли система восстановить исходное состояние панели инструментов после настройки.

```
virtual BOOL CanBeRestored() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель инструментов можно восстановить из ресурсов приложения; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы определить, можно ли вернуть панель инструментов в исходное состояние после настройки. Исходное состояние загружается из ресурсов приложения.

Если `CanBeRestored` возвращает значение true, на странице **панели инструментов** диалогового окна Настройка активируется кнопка **Сброс** для выбранной панели инструментов.

Реализация по умолчанию возвращает значение TRUE, если исходный идентификатор ресурса панели инструментов, когда он был загружен, не равен нулю. Обычно восстановить можно только пользовательские панели инструментов.

Можно переопределить `CanBeRestored` метод, чтобы настроить это поведение в производных классах.

##  <a name="canfocus"></a>CMFCToolBar:: Канфокус

Указывает, может ли панель получать фокус.

```
virtual BOOL CanFocus() const;
```

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод переопределяет реализацию базового класса [CBasePane:: канфокус](../../mfc/reference/cbasepane-class.md#canfocus), так как объекты панели инструментов не могут получать фокус.

##  <a name="canhandlesiblings"></a>CMFCToolBar:: Канхандлесиблингс

Определяет, расположена ли панель инструментов и панель того же уровня в одной области.

```
BOOL CanHandleSiblings();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель инструментов имеет одноуровневый элемент, а панель инструментов и ее одноуровневый элемент расположены на той же панели; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Внутренний метод Кмфккустомизебуттон:: Креатепопупмену вызывает этот метод, чтобы определить, как отображать всплывающее меню **настройки** . Если этот метод возвращает значение TRUE, то платформа отображает **кнопки Показать на одной строке** или **кнопки на двух строках** .

Использование этого метода обычно не требуется. Чтобы включить кнопку **настройки** , которая отображается на панели инструментов, вызовите метод [CMFCToolBar:: енаблекустомизебуттон](#enablecustomizebutton) . Чтобы включить **Отображение кнопок в одной строке** или **Отображать кнопки на двух** кнопках строк, вызовите [CMFCToolBar:: сетсиблингтулбар](#setsiblingtoolbar).

##  <a name="cleanupimages"></a>CMFCToolBar:: Клеанупимажес

Освобождает системные ресурсы, выделенные для изображений панели инструментов.

```
static void CMFCToolBar::CleanUpImages();
```

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод при завершении работы приложения.

##  <a name="cleanuplockedimages"></a>CMFCToolBar:: Клеануплоккедимажес

Освобождает системные ресурсы, выделенные для заблокированных изображений панели инструментов.

```
void CleanUpLockedImages();
```

### <a name="remarks"></a>Примечания

Этот метод вызывается при изменении визуального стиля приложения. Пример использования этого метода см. в примере Висуалстудиодемо.

##  <a name="commandtoindex"></a>CMFCToolBar:: Коммандтоиндекс

Возвращает индекс кнопки на панели инструментов с указанным ИДЕНТИФИКАТОРом команды.

```
int CommandToIndex(
    UINT nIDFind,
    int iIndexFirst=0) const;
```

### <a name="parameters"></a>Параметры

*нидфинд*<br/>
окне Указывает идентификатор команды.

*ииндексфирст*<br/>
окне Указывает начальный индекс, с которого начинается запуск.

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс кнопки панели инструментов, если метод был выполнен успешно; -1, если кнопка с указанным ИДЕНТИФИКАТОРом отсутствует.

### <a name="remarks"></a>Примечания

`CMFCToolBar` Объект поддерживает внутренний список кнопок на панели инструментов. Вызовите эту функцию для получения индекса кнопки в списке, заданной ИДЕНТИФИКАТОРом команды кнопки.

Если *ииндекс* больше 0, этот метод пропускает любую кнопку на панели инструментов с индексом меньше *ииндекс*.

##  <a name="create"></a>CMFCToolBar:: Create

Создает объект `CMFCToolBar`.

```
virtual BOOL Create(
    CWnd* pParentWnd,
    DWORD dwStyle=AFX_DEFAULT_TOOLBAR_STYLE,
    UINT nID=AFX_IDW_TOOLBAR);
```

### <a name="parameters"></a>Параметры

*ппарентвнд*<br/>
окне Указатель на родительское окно панели инструментов.

*двстиле*<br/>
окне Стиль панели инструментов. Список стилей см. в разделе [стили элементов управления и кнопок панели инструментов](/windows/win32/Controls/toolbar-control-and-button-styles) в Windows SDK.

*nID*<br/>
окне Идентификатор дочернего окна панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод завершился с ошибкой; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод создает панель элементов управления и прикрепляет ее к панели инструментов. Он создает панель элементов управления с стилем TBSTYLE_FLAT. Вызовите [CMFCToolBar:: креатикс](#createex) , если требуется другой стиль панели элементов управления.

##  <a name="createex"></a>CMFCToolBar:: Креатикс

`CMFCToolBar` Создает объект, который использует дополнительные параметры стиля, такие как крупные значки.

```
virtual BOOL CreateEx(
    CWnd* pParentWnd,
    DWORD dwCtrlStyle=TBSTYLE_FLAT,
    DWORD dwStyle=AFX_DEFAULT_TOOLBAR_STYLE,
    CRect rcBorders=CRect(1,
    1,
    1,
    1),
    UINT nID=AFX_IDW_TOOLBAR);
```

### <a name="parameters"></a>Параметры

*ппарентвнд*<br/>
окне Указатель на родительское окно панели инструментов.

*двктрлстиле*<br/>
окне Дополнительные стили для создания внедренного объекта панели элементов управления.

*двстиле*<br/>
окне Стиль панели инструментов. Список соответствующих стилей см. в разделе [стили элементов управления и кнопок панели инструментов](/windows/win32/Controls/toolbar-control-and-button-styles) .

*ркбордерс*<br/>
окне `CRect` Объект, указывающий ширину границ окна панели инструментов.

*nID*<br/>
окне Идентификатор дочернего окна панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если этот метод завершился с ошибкой; в противном случае — 0.

### <a name="remarks"></a>Примечания

Этот метод создает панель элементов управления и прикрепляет ее к панели инструментов.

Вызывайте этот метод вместо [CMFCToolBar:: Create](#create) , если требуется предоставить специальные стили. Например, задайте для *двктрлстиле* значение TBSTYLE_FLAT | TBSTYLE_TRANSPARENT, чтобы создать панель инструментов, которая напоминает панели инструментов, используемые Internet Explorer 4.

### <a name="example"></a>Пример

В следующем примере показано, `CreateEx` как использовать метод `CMFCToolBar` класса. Этот фрагмент кода является частью [примера демонстрационной версии IE](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#7](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_3.cpp)]

##  <a name="deactivate"></a>CMFCToolBar::D еактивате

Деактивирует панель инструментов.

```
virtual void Deactivate();
```

### <a name="remarks"></a>Примечания

Этот метод Деактивирует панель инструментов, удаляя фокус с выделенной кнопки на панели инструментов. Платформа вызывает этот метод, когда панель инструментов теряет фокус или уничтожается.

##  <a name="dopaint"></a>CMFCToolBar::D Опаинт

Перерисовывает панель инструментов.

```
virtual void DoPaint(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
окне Указатель на контекст устройства.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой при необходимости перерисовки части панели инструментов.

Переопределите этот метод, чтобы настроить внешний вид объекта, производного от `CMFCToolBar`.

##  <a name="drawbutton"></a>CMFCToolBar::D Равбуттон

Перерисовывает кнопку на панели инструментов.

```
virtual BOOL DrawButton(
    CDC* pDC,
    CMFCToolBarButton* pButton,
    CMFCToolBarImages* pImages,
    BOOL bHighlighted,
    BOOL bDrawDisabledImages);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
окне Указатель на контекст устройства.

*пбуттон*<br/>
окне Указатель на кнопку для рисования.

*пимажес*<br/>
окне Указатель на изображения панели инструментов.

*бхигхлигхтед*<br/>
окне Значение TRUE, если кнопка выделена; в противном случае — FALSE.

*бдравдисабледимажес*<br/>
окне Значение TRUE, если отключенные кнопки недоступны. в противном случае — FALSE.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если кнопка была перерисована; Значение FALSE, если кнопка скрыта.

### <a name="remarks"></a>Примечания

Метод [CMFCToolBar::D равбуттон](#drawbutton) вызывает этот метод при необходимости перерисовки кнопки панели инструментов.

Переопределите этот метод, если требуется настроить внешний вид кнопок на панели инструментов.

##  <a name="drawseparator"></a>CMFCToolBar::D Равсепаратор

Перерисовывает разделитель на панели инструментов.

```
virtual void DrawSeparator(
    CDC* pDC,
    const CRect& rect,
    BOOL bHorz);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
окне Указатель на контекст устройства.

*rect*<br/>
окне Ограничивающий прямоугольник расположения, в котором рисуется разделитель, в пикселях.

*бхорз*<br/>
окне Значение TRUE, если разделитель является горизонтальным; значение FALSE, если разделитель является вертикальным.

### <a name="remarks"></a>Примечания

[CMFCToolBar::D опаинт](#dopaint) вызывает этот метод для каждого объекта [CMFCToolBar::D равсепаратор](#drawseparator) , имеющего стиль TBBS_SEPARATOR, вместо вызова [CMFCToolBar::D равбуттон](#drawbutton) для этих кнопок.

Переопределите этот метод в классе, производном от [CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md) , чтобы настроить внешний вид разделителей на панели инструментов. Реализация по умолчанию вызывает [CMFCVisualManager:: ондравсепаратор](../../mfc/reference/cmfcvisualmanager-class.md#ondrawseparator) для рисования разделителя, внешний вид которого определяется текущим диспетчером визуальных элементов.

##  <a name="enablecustomizebutton"></a>CMFCToolBar:: Енаблекустомизебуттон

Включает или отключает кнопку Настройка, отображаемую на панели инструментов.

```
void EnableCustomizeButton(
    BOOL bEnable,
    int iCustomizeCmd,
    const CString& strCustomizeText,
    BOOL bQuickCustomize=TRUE);

void EnableCustomizeButton(
    BOOL bEnable,
    int iCustomizeCmd,
    UINT uiCustomizeTextResId,
    BOOL bQuickCustomize=TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
окне Включает или отключает кнопку Настройка.

*икустомизекмд*<br/>
окне Идентификатор команды для кнопки "Настройка".

*стркустомизетекст*<br/>
окне Текстовая метка кнопки "Настройка".

*уикустомизетекстресид*<br/>
окне Идентификатор строки ресурса метки кнопки "настроить".

*бкуикккустомизе*<br/>
окне Включает или отключает параметр **Добавить или удалить кнопки** в меню, которое выпадает из кнопки.

### <a name="remarks"></a>Примечания

Если *икустомизекмд* имеет значение-1, платформа отображает кнопку Настройка, если несколько кнопок панели инструментов не помещаются в области панели инструментов. Кнопка отображает двойную стрелку, указывающую влево, или Шеврон, что означает наличие дополнительных кнопок.

Если *икустомизекмд* указывает допустимый идентификатор команды, а *бенабле* имеет значение true, то кнопка настройки всегда отображается. Кнопка имеет маленькую стрелку вниз и открывает меню, содержащее команду. Эта команда использует текстовую метку, заданную параметром *стркустомизетекст*. Если *бкуикккустомизе* также имеет значение true, в меню отображается параметр **Добавить или удалить кнопки** .

Платформа динамически добавляет в меню все кнопки, не попадающие в область панелей инструментов, до элемента, заданного параметром *икустомизекмд*. Значок шеврона отображается рядом со стрелкой вниз.

##  <a name="enabledocking"></a>CMFCToolBar:: Енабледоккинг

Включает закрепление панели в главном фрейме.

```
virtual void EnableDocking(DWORD dwAlignment);
```

### <a name="parameters"></a>Параметры

*двалигнмент*<br/>
окне Задает выравнивание закрепления для включения.

### <a name="remarks"></a>Примечания

Этот метод расширяет реализацию базового класса [CBasePane:: енабледоккинг](../../mfc/reference/cbasepane-class.md#enabledocking), устанавливая `CBasePane::m_dwControlBarStyle` для элемента данных значение AFX_CBRS_FLOAT. Затем этот метод передает *двалигнмент* реализации базового класса.

##  <a name="enablelargeicons"></a>CMFCToolBar:: Енаблеларжеиконс

Включает или отключает крупные значки на кнопках панели инструментов.

```
void EnableLargeIcons(BOOL bEnable);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
окне Значение TRUE, чтобы включить крупные значки; значение FALSE для отключения крупных значков.

### <a name="remarks"></a>Примечания

По умолчанию крупные значки включены.

##  <a name="enablequickcustomization"></a>CMFCToolBar:: Енаблекуикккустомизатион

Включает или отключает быструю настройку панелей инструментов, чтобы пользователь мог нажать клавишу **ALT** и перетащить кнопку в новое место.

```
static void EnableQuickCustomization(BOOL bEnable=TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
окне Значение TRUE, чтобы включить быструю настройку; значение FALSE, чтобы отключить быструю настройку.

##  <a name="enablereflections"></a>CMFCToolBar:: Енаблерефлектионс

Включает или отключает отражение команд.

```
void EnableReflections(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
окне Значение TRUE, чтобы включить отражение команд; Значение FALSE, чтобы отключить отражение команды.

### <a name="remarks"></a>Примечания

Вызывайте этот метод, чтобы включить отражение команд для кнопок панели инструментов, содержащих внедренные элементы управления, такие как поля со списком.

Дополнительные сведения о отражении команд см. [в разделе TN062: Отражение сообщений для элементов управления](../../mfc/tn062-message-reflection-for-windows-controls.md)Windows.

##  <a name="enabletextlabels"></a>CMFCToolBar:: Енаблетекстлабелс

Включает или отключает текстовые метки под значками кнопок панели инструментов.

```
void EnableTextLabels(BOOL bEnable=TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
TRUE, если текстовые метки отображаются под значками кнопок панели инструментов; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Если включены текстовые метки, то все кнопки на панели инструментов будут увеличены, чтобы предоставить место для меток, отображаемых под изображениями. В диалоговом окне Настройка на странице **панели инструментов** установлен флажок **показывать текстовую метку** . Когда пользователь выбирает панель инструментов и проверяет этот параметр, платформа вызывает `EnableTextLabels` для выбранной панели инструментов. Флажок для объекта, производного от [CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md) , можно отключить, ВЕРНУВ значение false из [CMFCToolBar:: алловчанжетекстлабелс](#allowchangetextlabels) .

##  <a name="fromhandlepermanent"></a>CMFCToolBar:: Фромхандлеперманент

Извлекает указатель на `CMFCToolBar` объект, содержащий заданный маркер окна.

```
static CMFCToolBar* __stdcall FromHandlePermanent(HWND hwnd);
```

### <a name="parameters"></a>Параметры

*hwnd*<br/>
окне Искомый описатель окна.

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CMFCToolBar` объект, содержащий заданный маркер окна, или значение null, если соответствующий `CMFCToolBar` объект не существует.

### <a name="remarks"></a>Примечания

Этот общий метод проверяет каждую панель инструментов в приложении на предмет `CMFCToolBar` объекта, содержащего данный описатель окна.

##  <a name="getallbuttons"></a>CMFCToolBar:: Жеталлбуттонс

Возвращает список кнопок на панели инструментов, которые доступны только для чтения.

```
const CObList& GetAllButtons() const;
```

### <a name="return-value"></a>Возвращаемое значение

Константная ссылка на объект [класса коблист](../../mfc/reference/coblist-class.md) , который содержит коллекцию объектов [класса CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) .

##  <a name="getalltoolbars"></a>CMFCToolBar:: Жеталлтулбарс

Возвращает список только для чтения всех панелей инструментов в приложении.

```
static const CObList& GetAllToolbars();
```

### <a name="return-value"></a>Возвращаемое значение

Константная ссылка на объект [класса коблист](../../mfc/reference/coblist-class.md) , содержащий коллекцию `CMFCToolBar` объектов.

##  <a name="getbasiccommands"></a>CMFCToolBar:: Жетбасиккоммандс

Возвращает доступное только для чтения список основных команд, определенных в приложении.

```
static const CList<UINT,UINT>& GetBasicCommands();
```

### <a name="return-value"></a>Возвращаемое значение

Константная ссылка на объект [класса CList](../../mfc/reference/clist-class.md) , содержащий коллекцию основных команд.

### <a name="remarks"></a>Примечания

Добавьте основные команды, вызвав [CMFCToolBar:: аддбасиккомманд](#addbasiccommand) или [CMFCToolBar:: сетбасиккоммандс](#setbasiccommands).

##  <a name="getbutton"></a>CMFCToolBar:: "Кнопка"

Возвращает указатель на объект [класса CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) по указанному индексу.

```
CMFCToolBarButton* GetButton(int iIndex) const;
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Указывает индекс возвращаемой кнопки.

### <a name="return-value"></a>Возвращаемое значение

Указатель на кнопку панели инструментов, если она существует; или значение NULL, если такая кнопка отсутствует.

##  <a name="getbuttoninfo"></a>CMFCToolBar:: Жетбуттонинфо

Возвращает идентификатор команды, стиль и индекс изображения кнопки по указанному индексу.

```
void GetButtonInfo(
    int nIndex,
    UINT& nID,
    UINT& nStyle,
    int& iImage) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Указывает индекс кнопки в списке кнопок на панели инструментов.

*nID*<br/>
заполняет Идентификатор команды для кнопки.

*нстиле*<br/>
заполняет Стиль кнопки.

*иимаже*<br/>
заполняет Индекс изображения для кнопки.

### <a name="remarks"></a>Примечания

`GetButtonInfo` Метод находит кнопку на панели инструментов по указанному индексу и получает идентификатор команды, стиль и индекс изображения кнопки.

Если кнопка по указанному индексу не существует, платформа устанавливает для *NID* и *нстиле* значение 0, а *иимаже* — значение-1, когда метод возвращает значение.

##  <a name="getbuttonsize"></a>CMFCToolBar:: Жетбуттонсизе

Возвращает размеры каждой кнопки на панели инструментов.

```
CSize GetButtonSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект [класса ксизе](../../atl-mfc-shared/reference/csize-class.md) , который задает размеры каждой кнопки на панели инструментов.

### <a name="remarks"></a>Примечания

Вызовите [CMFCToolBar:: сетсизес](#setsizes) или [CMFCToolBar:: сетлоккедсизес](#setlockedsizes) , чтобы задать размеры каждой кнопки на панели инструментов.

##  <a name="getbuttonstyle"></a>CMFCToolBar:: Жетбуттонстиле

Возвращает текущий стиль кнопки панели инструментов, расположенной по указанному индексу.

```
UINT GetButtonStyle(int nIndex) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Задает индекс кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Значение типа, указывающее стиль кнопки панели инструментов. . Список возможных стилей см. в разделе [стили элементов управления панели инструментов](../../mfc/reference/toolbar-control-styles.md) .

### <a name="remarks"></a>Примечания

Вызовите метод [CMFCToolBar:: сетбуттонстиле](#setbuttonstyle) , чтобы задать стиль кнопки на панели инструментов

##  <a name="getbuttontext"></a>CMFCToolBar:: Жетбуттонтекст

Возвращает текстовую метку кнопки с указанным индексом.

```
CString GetButtonText(int nIndex) const;

void GetButtonText(
    int nIndex,
    CString& rString) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Индекс кнопки панели инструментов.

*rStr*<br/>
заполняет Текст метки кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Текст метки кнопки панели инструментов.

### <a name="remarks"></a>Примечания

Вызовите [CMFCToolBar:: сетбуттонтекст](#setbuttontext) или [CMFCToolBar:: сеттулбарбтнтекст](#settoolbarbtntext) , чтобы задать метку текста.

##  <a name="getcoldimages"></a>CMFCToolBar:: Жетколдимажес

Возвращает указатель на коллекцию изображений кнопки холодной панели инструментов в приложении.

```
static CMFCToolBarImages* GetColdImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию изображений кнопки холодной панели инструментов.

### <a name="remarks"></a>Примечания

Холодные изображения — это изображения, которые используются, когда пользователь не взаимодействует с кнопками панели инструментов. Вызовите [CMFCToolBar:: лоадбитмапекс](#loadbitmapex) или [CMFCToolBar:: лоадбитмап](#loadbitmap) , чтобы загрузить холодные образы.

##  <a name="getcolumnwidth"></a>CMFCToolBar:: Жетколумнвидс

Возвращает ширину кнопок панели инструментов.

```
virtual int GetColumnWidth() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение, указывающее ширину кнопок на панели инструментов.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод для вычисления макета панели инструментов. Переопределите этот метод в производном классе, чтобы указать другую ширину столбца для панели инструментов.

##  <a name="getcommandbuttons"></a>CMFCToolBar::

Возвращает список кнопок, имеющих указанный идентификатор команды на всех панелях инструментов в приложении.

```
static int GetCommandButtons(
    UINT uiCmd,
    CObList& listButtons);
```

### <a name="parameters"></a>Параметры

*уикмд*<br/>
окне Идентификатор команды для кнопок.

*листбуттонс*<br/>
заполняет Ссылка на объект [класса коблист](../../mfc/reference/coblist-class.md) , который получает список кнопок панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Число кнопок, имеющих указанный идентификатор команды.

##  <a name="getcount"></a>CMFCToolBar:: NOCOUNT

Возвращает количество кнопок и разделителей на панели инструментов.

```
int GetCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество кнопок и разделителей на панели инструментов.

##  <a name="getcustomizebutton"></a>CMFCToolBar:: Жеткустомизебуттон

Получает указатель на `CMFCCustomizeButton` объект, связанный с панелью инструментов.

```
CMFCCustomizeButton* GetCustomizeButton();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CMFCCustomizeButton` объект, связанный с панелью инструментов.

### <a name="remarks"></a>Примечания

Этот метод получает кнопку **настройки** , которая отображается в конце панели инструментов. Чтобы добавить кнопку **Настройка** на панель инструментов, используйте метод [CMFCToolBar:: енаблекустомизебуттон](#enablecustomizebutton) .

Можно вызвать метод [CMFCToolBar:: исексисткустомизебуттон](#isexistcustomizebutton) , чтобы определить, содержит ли панель инструментов допустимый `CMFCCustomizeButton` объект.

##  <a name="getdefaultimage"></a>CMFCToolBar:: Жетдефаултимаже

Возвращает индекс изображения по умолчанию для кнопки панели инструментов с указанным ИДЕНТИФИКАТОРом команды.

```
static int GetDefaultImage(UINT uiID);
```

### <a name="parameters"></a>Параметры

*uiID*<br/>
окне Указывает идентификатор команды для кнопки.

### <a name="return-value"></a>Возвращаемое значение

Индекс изображения панели инструментов в общем списке изображений.

### <a name="remarks"></a>Примечания

Используйте этот общий метод, чтобы получить индекс изображения по умолчанию для кнопки панели инструментов с указанным ИДЕНТИФИКАТОРом команды. Возвращаемое значение — это индекс в общей коллекции изображений кнопок панели инструментов для всех панелей инструментов в приложении. Вызовите метод [CMFCToolBar::-Images](#getimages) , чтобы получить указатель на эту коллекцию.

##  <a name="getdisabledimages"></a>CMFCToolBar:: Жетдисабледимажес

Возвращает указатель на коллекцию изображений, которые используются для отключенных кнопок панели инструментов в приложении.

```
static CMFCToolBarImages* __stdcall GetDisabledImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию отключенных изображений кнопок панели инструментов.

### <a name="remarks"></a>Примечания

Загрузите отключенные изображения кнопок панели инструментов с помощью [класса кмфктулбаредитбоксбуттон](../../mfc/reference/cmfctoolbareditboxbutton-class.md) и методов [CMFCToolBar:: лоадбитмап](#loadbitmap) .

##  <a name="getdisabledmenuimages"></a>CMFCToolBar:: Жетдисабледменуимажес

Возвращает указатель на коллекцию изображений, используемых для отключенных кнопок меню в приложении.

```
static CMFCToolBarImages* __stdcall GetDisabledMenuImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию отключенных изображений меню.

### <a name="remarks"></a>Примечания

Загрузите отключенные образы с помощью метода [класса кмфктулбаредитбоксбуттон](../../mfc/reference/cmfctoolbareditboxbutton-class.md) .

##  <a name="getdroppeddownmenu"></a>CMFCToolBar:: Жетдроппеддовнмену

Получает указатель на объект кнопки меню, в котором в данный момент отображается вложенное меню.

```
CMFCToolBarMenuButton* GetDroppedDownMenu(int* pIndex = NULL) const;
```

### <a name="parameters"></a>Параметры

*пиндекс*<br/>
заполняет Получает индекс кнопки в коллекции кнопок панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект кнопки меню, который отображает его подменю или значение NULL, если меню не отображает его вложенное меню.

### <a name="remarks"></a>Примечания

Если этот метод возвращает значение, отличное от NULL, и *Пиндекс* не равно null, значение, на которое указывает *Пиндекс* , устанавливается в индекс кнопки меню в коллекции кнопок панели инструментов.

##  <a name="getgraydisabledbuttons"></a>CMFCToolBar:: Жетграйдисабледбуттонс

Указывает, являются ли изображения отключенных кнопок недоступными для изображений обычных кнопок или из коллекции отключенных изображений кнопок.

```
BOOL GetGrayDisabledButtons() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, чтобы затенить изображения отключенных кнопок; Значение FALSE для получения изображений из коллекции отключенных изображений.

### <a name="remarks"></a>Примечания

Используйте [CMFCToolBar:: сетграйдисабледбуттонс](#setgraydisabledbuttons) для переключения между недоступными изображениями и изображениями из коллекции отключенных образов.

##  <a name="gethighlightedbutton"></a>CMFCToolBar:: Жесигхлигхтедбуттон

Возвращает указатель на кнопку панели инструментов, выделенную в данный момент.

```
CMFCToolBarButton* GetHighlightedButton() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект кнопки панели инструментов; или значение NULL, если кнопка не выделена.

### <a name="remarks"></a>Примечания

Кнопка на панели инструментов выделяется при наличии фокуса клавиатуры. Кнопка на панели инструментов также выделена, если в этом приложении отображаются кнопки панели инструментов (Дополнительные сведения см. в разделе [CMFCToolBar:: жесотбордер](#gethotborder) and [CMFCToolBar:: сесотбордер](#sethotborder)), и указатель мыши указывает на него, когда кнопка на панели инструментов отсутствует или пункт меню имеет фокус клавиатуры.

##  <a name="gethotborder"></a>CMFCToolBar:: Жесотбордер

Определяет, будут ли кнопки панели инструментов *отслежены*. Если кнопка отслежена, она выделяется при перемещении мыши по ней.

```
BOOL GetHotBorder() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если кнопки панели инструментов отслежены. в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

По умолчанию кнопки панели инструментов отслежены.

##  <a name="gethottextcolor"></a>CMFCToolBar:: Жесоттекстколор

Возвращает цвет текста выделенных кнопок панели инструментов.

```
static COLORREF GetHotTextColor();
```

### <a name="return-value"></a>Возвращаемое значение

Значение [COLORREF](/windows/win32/gdi/colorref) , представляющее текущий выделенный цвет текста.

### <a name="remarks"></a>Примечания

Вызовите метод [CMFCToolBar:: сесоттекстколор](#sethottextcolor) , чтобы задать новый цвет текста для выделенных кнопок панели инструментов.

##  <a name="gethwndlastfocus"></a>CMFCToolBar:: Жесвндластфокус

Возвращает маркер окна, в котором фокус ввода находится непосредственно перед выполнением панели инструментов.

```
HWND GetHwndLastFocus() const;
```

### <a name="return-value"></a>Возвращаемое значение

Обработчик для окна, который не является производным от [класса кмфкбасетулбар](../../mfc/reference/cmfcbasetoolbar-class.md), который ранее имел фокус ввода; или значение NULL, если такое окно отсутствует.

### <a name="remarks"></a>Примечания

`CMFCToolBar` Когда элемент управления получает фокус ввода, он сохраняет в окне маркер, который потерял фокус, чтобы его можно было восстановить позже.

##  <a name="getignoresettext"></a>CMFCToolBar:: Жетигноресеттекст

Указывает, пропускаются ли вызовы для установки меток кнопок.

```
BOOL GetIgnoreSetText() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если вызовы для установки меток кнопок игнорируются; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

##  <a name="getimages"></a>CMFCToolBar:: a Images

Возвращает указатель на коллекцию изображений кнопок по умолчанию в приложении.

```
static CMFCToolBarImages* GetImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [класса кмфктулбаримажес](../../mfc/reference/cmfctoolbarimages-class.md) , содержащий коллекцию изображений по умолчанию для всех панелей инструментов в приложении.

### <a name="remarks"></a>Примечания

Этот общий метод предоставляет доступ к коллекции всех изображений панели инструментов по умолчанию для приложения. Вызовите метод [CMFCToolBar:: лоадбитмап](#loadbitmap) , чтобы добавить изображения в коллекцию.

##  <a name="getimagesize"></a>CMFCToolBar:: Жетимажесизе

Возвращает текущий размер изображений кнопки панели инструментов.

```
CSize GetImageSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект [класса ксизе](../../atl-mfc-shared/reference/csize-class.md) , представляющий текущий размер изображений на кнопке панели инструментов.

##  <a name="getimagesoffset"></a>CMFCToolBar:: Жетимажесоффсет

Возвращает смещение индекса, используемое для поиска изображений кнопок панели инструментов в глобальном списке изображений на кнопке панели инструментов.

```
int GetImagesOffset() const;
```

### <a name="return-value"></a>Возвращаемое значение

Смещение индекса для изображений панели инструментов.

### <a name="remarks"></a>Примечания

Все изображения панели инструментов по умолчанию хранятся в глобальном списке [классов кмфктулбаримажес](../../mfc/reference/cmfctoolbarimages-class.md) . Изображения для каждой кнопки на панели инструментов хранятся последовательно в этом списке. Чтобы вычислить индекс изображения, добавьте индекс кнопки на панели инструментов в смещение начала списка изображений для этой кнопки панели инструментов.

Вызовите метод [CMFCToolBar:: буттонтоиндекс](#buttontoindex) , чтобы получить индекс кнопки панели инструментов с указателем на кнопку.

Вызовите [CMFCToolBar::-Images](#getimages) , чтобы получить указатель на коллекцию изображений панели инструментов.

##  <a name="getinvalidateitemrect"></a>CMFCToolBar:: Жетинвалидатеитемрект

Извлекает область клиентской области, которая должна быть перерисована для кнопки с заданным индексом.

```
virtual void GetInvalidateItemRect(
    int nIndex,
    LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Индекс кнопки, для которой необходимо получить клиентскую область.

*лпрект*<br/>
заполняет Указатель на объект RECT, который получает область клиентской области.

### <a name="remarks"></a>Примечания

Параметр *лпрект* не может иметь значение null. Если в указанном индексе кнопка не существует, *лпрект* получает объект Rect, который инициализируется нулем.

##  <a name="getitemid"></a>CMFCToolBar:: Жетитемид

Возвращает идентификатор команды для кнопки панели инструментов в указанном индексе.

```
UINT GetItemID(int nIndex) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Задает индекс кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Идентификатор команды для кнопки панели инструментов; или нуль, если кнопка с указанным индексом не существует.

##  <a name="getitemrect"></a>CMFCToolBar:: Жетитемрект

Возвращает ограничивающий прямоугольник кнопки с указанным индексом.

```
virtual void GetItemRect(
    int nIndex,
    LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Задает индекс кнопки панели инструментов.

*лпрект*<br/>
заполняет Указатель на `CRect` объект, который получает координаты ограничивающего прямоугольника изображения.

### <a name="remarks"></a>Примечания

Объект, к которому лпрект Points, имеет значение 0, если кнопка по указанному индексу не существует. `CRect`

### <a name="example"></a>Пример

В следующем примере показано, `GetItemRect` как использовать метод `CMFCToolBar` класса. Этот фрагмент кода является частью [примера демонстрационной версии IE](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#9](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_4.cpp)]

##  <a name="getlargecoldimages"></a>CMFCToolBar:: Жетларжеколдимажес

Возвращает указатель на коллекцию больших изображений кнопок холодной панели инструментов в приложении.

```
static CMFCToolBarImages* GetLargeColdImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию больших холодных изображений.

### <a name="remarks"></a>Примечания

Холодные изображения — это изображения, которые используются, когда пользователь не взаимодействует с кнопками панели инструментов. Вызовите [CMFCToolBar:: лоадбитмапекс](#loadbitmapex) , чтобы загрузить большие холодные образы.

##  <a name="getlargedisabledimages"></a>CMFCToolBar:: Жетларжедисабледимажес

Возвращает указатель на коллекцию больших отключенных изображений кнопок панели инструментов в приложении.

```
static CMFCToolBarImages* GetLargeDisabledImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию больших отключенных изображений кнопок панели инструментов.

### <a name="remarks"></a>Примечания

Крупные изображения — это крупные версии обычных изображений кнопок на панели инструментов. Вызовите [CMFCToolBar:: лоадбитмапекс](#loadbitmapex) или [CMFCToolBar:: лоадбитмап](#loadbitmap) , чтобы загрузить крупные изображения.

##  <a name="getlargeimages"></a>CMFCToolBar:: Жетларжеимажес

Возвращает указатель на коллекцию крупных изображений кнопок панели инструментов в приложении.

```
static CMFCToolBarImages* GetLargeImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию изображений больших кнопок панели инструментов.

### <a name="remarks"></a>Примечания

Крупные изображения — это крупные версии обычных изображений кнопок на панели инструментов. Вызовите [CMFCToolBar:: лоадбитмапекс](#loadbitmapex) , чтобы загрузить крупные изображения.

##  <a name="getlockedcoldimages"></a>CMFCToolBar:: Жетлоккедколдимажес

Возвращает указатель на коллекцию заблокированных холодных изображений на панели инструментов.

```
CMFCToolBarImages* GetLockedColdImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию заблокированных холодных изображений или значение NULL, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные изображения — это версии обычных изображений кнопок на панели инструментов, которые платформа использует, когда пользователь не может настроить панель инструментов. Холодные изображения — это изображения, которые используются, когда пользователь не взаимодействует с кнопками панели инструментов.

Этот метод возвращает значение NULL, если панель инструментов не заблокирована. Этот метод также создает ошибку утверждения в отладочных сборках, если панель инструментов не заблокирована. Дополнительные сведения о заблокированных панелях инструментов см. в разделе [CMFCToolBar:: NOLOCK](#islocked).

Вызовите метод [CMFCToolBar:: лоадбитмапекс](#loadbitmapex) , чтобы загрузить заблокированные холодные образы.

##  <a name="getlockeddisabledimages"></a>CMFCToolBar:: Жетлоккеддисабледимажес

Возвращает указатель на коллекцию заблокированных отключенных изображений на панели инструментов.

```
CMFCToolBarImages* GetLockedDisabledImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию заблокированных отключенных изображений или значение NULL, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные изображения — это версии обычных изображений кнопок на панели инструментов, которые платформа использует, когда пользователь не может настроить панель инструментов. Отключенные изображения — это образы, которые платформа использует, когда у кнопки есть стиль TBBS_DISABLED.

Этот метод возвращает значение NULL, если панель инструментов не заблокирована. Этот метод также создает ошибку утверждения в отладочных сборках, если панель инструментов не заблокирована. Дополнительные сведения о заблокированных панелях инструментов см. в разделе [CMFCToolBar:: NOLOCK](#islocked).

Вызовите метод [CMFCToolBar:: лоадбитмапекс](#loadbitmapex) , чтобы загрузить заблокированные отключенные образы.

##  <a name="getlockedimages"></a>CMFCToolBar:: Жетлоккедимажес

Возвращает указатель на коллекцию изображений заблокированных кнопок на панели инструментов.

```
CMFCToolBarImages* GetLockedImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию заблокированных изображений кнопок на панели инструментов или значение NULL, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные изображения — это версии обычных изображений кнопок на панели инструментов, которые платформа использует, когда пользователь не может настроить панель инструментов.

Этот метод возвращает значение NULL, если панель инструментов не заблокирована. Этот метод также создает ошибку утверждения в отладочных сборках, если панель инструментов не заблокирована. Дополнительные сведения о заблокированных панелях инструментов см. в разделе [CMFCToolBar:: NOLOCK](#islocked).

##  <a name="getlockedimagesize"></a>CMFCToolBar:: Жетлоккедимажесизе

Возвращает размер заблокированных изображений панели инструментов по умолчанию.

```
CSize GetLockedImageSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Структура, указывающая размер заблокированных изображений на панели инструментов или пустую `CSize` структуру, если панель инструментов не заблокирована. `CSize`

### <a name="remarks"></a>Примечания

Заблокированные изображения — это версии обычных изображений кнопок на панели инструментов, которые платформа использует, когда пользователь не может настроить панель инструментов.

Этот метод возвращает `CSize` структуру с нулевой шириной и нулевой высотой, если панель инструментов не заблокирована. Этот метод также создает ошибку утверждения в отладочных сборках, если панель инструментов не заблокирована. Дополнительные сведения о заблокированных панелях инструментов см. в разделе [CMFCToolBar:: NOLOCK](#islocked).

Вызовите метод [CMFCToolBar:: сетлоккедсизес](#setlockedsizes) , чтобы указать размер заблокированного изображения.

##  <a name="getlockedmenuimages"></a>CMFCToolBar:: Жетлоккедменуимажес

Возвращает указатель на коллекцию заблокированных изображений меню панели инструментов на панели инструментов.

```
CMFCToolBarImages* GetLockedMenuImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию заблокированных изображений меню панели инструментов или значение NULL, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные образы — это версии обычных изображений меню панели инструментов, которые используются платформой, когда пользователь не может настраивать панель инструментов.

Этот метод возвращает значение NULL, если панель инструментов не заблокирована. Этот метод также создает ошибку утверждения в отладочных сборках, если панель инструментов не заблокирована. Дополнительные сведения о заблокированных панелях инструментов см. в разделе [CMFCToolBar:: NOLOCK](#islocked).

Вызовите метод [CMFCToolBar:: лоадбитмапекс](#loadbitmapex) , чтобы загрузить заблокированные изображения меню.

##  <a name="getmenubuttonsize"></a>CMFCToolBar:: Жетменубуттонсизе

Возвращает размер кнопок меню в приложении.

```
static CSize GetMenuButtonSize();
```

### <a name="return-value"></a>Возвращаемое значение

`CSize` Объект, представляющий размер кнопок меню в пикселях.

### <a name="remarks"></a>Примечания

Размер кнопок меню на панелях инструментов сохраняется в виде глобальной переменной и может быть извлечен этим статическим методом.

Чтобы задать эту глобальную переменную, вызовите метод [CMFCToolBar:: сетменусизес](#setmenusizes) .

##  <a name="getmenuimages"></a>CMFCToolBar:: Жетменуимажес

Возвращает указатель на коллекцию изображений кнопок меню в приложении.

```
static CMFCToolBarImages* GetMenuImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию изображений меню.

### <a name="remarks"></a>Примечания

Вызовите метод [CMFCToolBar:: лоадбитмапекс](#loadbitmapex) , чтобы загрузить изображения меню.

Вызовите метод [CMFCToolBar:: сетменусизес](#setmenusizes) , чтобы задать размер кнопок и их изображений.

##  <a name="getmenuimagesize"></a>CMFCToolBar:: Жетменуимажесизе

Возвращает размер изображений кнопки меню в приложении.

```
static CSize GetMenuImageSize();
```

### <a name="return-value"></a>Возвращаемое значение

`CSize` Объект, представляющий размер изображений меню.

### <a name="remarks"></a>Примечания

Этот метод возвращает размер изображений на кнопках меню панели инструментов, которые хранятся в виде глобальной переменной. Чтобы задать эту глобальную переменную, вызовите метод [CMFCToolBar:: сетменусизес](#setmenusizes) .

##  <a name="getorigbuttons"></a>CMFCToolBar:: Жеторигбуттонс

Извлекает коллекцию ненастраиваемых кнопок панели инструментов.

```
const CObList& GetOrigButtons() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ссылка на список ненастраиваемых кнопок панели инструментов.

### <a name="remarks"></a>Примечания

Платформа создает копию кнопок панели инструментов до их настройки пользователем. Метод [CMFCToolBar:: сетбуттонс](#setbuttons) Добавляет копию каждой кнопки в предоставленном массиве к списку исходных кнопок. Метод [CMFCToolBar:: рестореоригиналстате](#restoreoriginalstate) восстанавливает исходное состояние панели инструментов, загружая его из файла ресурсов.

Чтобы задать список исходных кнопок для панели инструментов, вызовите метод [CMFCToolBar:: сеторигбуттонс](#setorigbuttons) .

##  <a name="getorigresetbuttons"></a>CMFCToolBar:: Жеторигресетбуттонс

Извлекает коллекцию кнопок сброса, не настроенных на панели инструментов.

```
const CObList& GetOrigResetButtons() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ссылка на список нестандартных кнопок сброса на панели инструментов.

### <a name="remarks"></a>Примечания

Когда пользователь нажимает кнопку **Reset** в режиме настройки, платформа использует этот метод для восстановления кнопок, которые были удалены с панели инструментов.

Метод [CMFCToolBar:: сетбуттонс](#setbuttons) Добавляет копию каждой кнопки панели инструментов в список исходных кнопок сброса после вызова метода [CMFCToolBar:: OnReset](#onreset) . Можно переопределить метод [CMFCToolBar:: OnReset](#onreset) , чтобы настроить внешний вид кнопок после нажатия пользователем кнопки **сброса** .

##  <a name="getresourceid"></a>CMFCToolBar:: Жетресаурцеид

Возвращает идентификатор ресурса панели инструментов.

```
UINT GetResourceID() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентификатор ресурса панели инструментов.

### <a name="remarks"></a>Примечания

Вызовите метод [CMFCToolBar:: лоадтулбарекс](#loadtoolbarex) , чтобы задать идентификатор ресурса панели инструментов.

##  <a name="getroutecommandsviaframe"></a>CMFCToolBar:: Жетраутекоммандсвиафраме

Определяет, какой объект, родительский фрейм или владелец, отправляет команды на панель инструментов.

```
BOOL GetRouteCommandsViaFrame();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если родительский фрейм отправляет команды на панель инструментов; 0, если владелец отправляет команды на панель инструментов.

### <a name="remarks"></a>Примечания

По умолчанию родительский фрейм отправляет команды на панель инструментов. Чтобы изменить это поведение, вызовите метод [CMFCToolBar:: сетраутекоммандсвиафраме](#setroutecommandsviaframe) .

Если этот метод возвращает ненулевое значение, можно получить указатель на объект родительского фрейма с помощью `CMFCToolBar::GetCommandTarget` метода. Пример использования этого метода см. в примере Висуалстудиодемо.

##  <a name="getrowheight"></a>CMFCToolBar:: Жетровхеигхт

Возвращает высоту кнопок панели инструментов.

```
virtual int GetRowHeight() const;
```

### <a name="return-value"></a>Возвращаемое значение

Высота кнопок панели инструментов (в пикселях).

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод для вычисления макета панели инструментов. Переопределите этот метод в производном классе, чтобы указать другую высоту для панели инструментов.

##  <a name="getshowtooltips"></a>CMFCToolBar:: Жетшовтултипс

Указывает, отображаются ли всплывающие подсказки для кнопок панели инструментов.

```
static BOOL GetShowTooltips();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если для кнопок панели инструментов отображаются подсказки. в противном случае — FALSE.

### <a name="remarks"></a>Примечания

По умолчанию отображаются всплывающие подсказки. Этот статический флаг можно изменить, вызвав [CMFCToolBar:: сетшовтултипс](#setshowtooltips).

##  <a name="getsiblingtoolbar"></a>CMFCToolBar:: Жетсиблингтулбар

Извлекает элемент того же уровня, что и панель инструментов.

```
CMFCToolBar* GetSiblingToolBar();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на панель инструментов того же уровня.

### <a name="remarks"></a>Примечания

Дополнительные сведения о том, как включить **Отображение кнопок в одной строке** и **Отображать кнопки на двух** кнопках строк, см. в разделе [CMFCToolBar:: сетсиблингтулбар](#setsiblingtoolbar).

##  <a name="getuserimages"></a>CMFCToolBar:: Жетусеримажес

Возвращает указатель на коллекцию определенных пользователем изображений кнопок панели инструментов в приложении.

```
static CMFCToolBarImages* GetUserImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию изображений кнопок панели инструментов, определенных пользователем, для всех панелей инструментов в приложении.

### <a name="remarks"></a>Примечания

Вызовите метод [CMFCToolBar:: сетусеримажес](#setuserimages) , чтобы задать коллекцию определяемых пользователем изображений в приложении.

##  <a name="hittest"></a>CMFCToolBar:: HitTest

Возвращает индекс кнопки панели инструментов, расположенной в указанной позиции.

```
virtual int HitTest(CPoint point);
```

### <a name="parameters"></a>Параметры

*point*<br/>
окне Проверяемая точка в клиентских координатах.

### <a name="return-value"></a>Возвращаемое значение

Индекс кнопки, расположенной в указанной позиции, или-1, если такая кнопка отсутствует, или кнопка является разделителем.

##  <a name="insertbutton"></a>CMFCToolBar:: Инсертбуттон

Вставляет кнопку на панель инструментов.

```
virtual int InsertButton(
    const CMFCToolBarButton& button,
    INT_PTR iInsertAt=-1);

virtual int InsertButton(
    CMFCToolBarButton* pButton,
    int iInsertAt=-1);
```

### <a name="parameters"></a>Параметры

*переключатель*<br/>
окне Задает вставляемую кнопку.

*иинсертат*<br/>
окне Задает Отсчитываемая от нуля координату для вставки кнопки.

### <a name="return-value"></a>Возвращаемое значение

Позиции, в которую была вставлена кнопка, или-1, если возникает ошибка.

### <a name="remarks"></a>Примечания

Если *иинсертат* имеет значение-1, этот метод добавляет кнопку в конец списка кнопок панели инструментов.

Вызовите метод [CMFCToolBar:: инсертсепаратор](#insertseparator) , чтобы вставить разделитель на панель инструментов.

##  <a name="insertseparator"></a>CMFCToolBar:: Инсертсепаратор

Вставляет разделитель в панель инструментов.

```
virtual int InsertSeparator(INT_PTR iInsertAt=-1);
```

### <a name="parameters"></a>Параметры

*иинсертат*<br/>
окне Задает Отсчитываемая от нуля координату для вставки разделителя в. Этот параметр должен быть больше 0.

### <a name="return-value"></a>Возвращаемое значение

Место вставки разделителя или значение-1 в случае возникновения ошибки.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы вставить разделитель между двумя существующими кнопками. Если *иинсертат* имеет значение-1, этот метод добавляет разделитель в конец списка кнопок панели инструментов.

Этот метод нельзя использовать для добавления разделителя на пустую панель инструментов.

Вызовите метод [CMFCToolBar:: инсертбуттон](#insertbutton) , чтобы вставить кнопку на панель инструментов.

##  <a name="invalidatebutton"></a>CMFCToolBar:: Инвалидатебуттон

Делает недействительным клиентскую область кнопки панели инструментов, которая существует по указанному индексу.

```
CMFCToolBarButton* InvalidateButton(int nIndex);
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Отсчитываемый от нуля индекс кнопки на панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CMFCToolBarButton` объект, существующий по указанному индексу, или значение null, если такого объекта не существует.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод при обновлении клиентской области, связанной с кнопкой на панели инструментов. Он вызывает метод [CWnd:: инвалидатерект](../../mfc/reference/cwnd-class.md#invalidaterect) с клиентским прямоугольником `CMFCToolBarButton` объекта, который существует по указанному индексу.

##  <a name="isaddremovequickcustomize"></a>CMFCToolBar:: Исаддремовекуикккустомизе

Определяет, может ли пользователь добавлять или удалять кнопки панели инструментов с помощью команды меню " **настроить** ".

```
BOOL IsAddRemoveQuickCustomize();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если пользователь может использовать команду меню " **настроить** " для изменения панели инструментов; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

##  <a name="isaltcustomizemode"></a>CMFCToolBar:: Исалткустомиземоде

Указывает, используется ли *Быстрая настройка* для перетаскивания кнопки. Когда быстрая настройка включена, пользователь может нажать и удерживать клавишу Alt и перетащить кнопку в новое место.

```
static BOOL __stdcall IsAltCustomizeMode();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если для перетаскивания кнопки используется быстрая настройка; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

##  <a name="isautograyinactiveimages"></a>CMFCToolBar:: Исаутограйинактивеимажес

Указывает, включено ли автоматическое создание неактивных (невыделенных) изображений кнопки.

```
static BOOL IsAutoGrayInactiveImages();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если параметр Автоматическое затемнение неактивных изображений включен; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Вы можете включить или отключить автоматическое затемнение неактивных образов, вызвав [CMFCToolBar:: аутограйинактивеимажес](#autograyinactiveimages).

##  <a name="isbasiccommand"></a>CMFCToolBar:: Исбасиккомманд

Определяет, находится ли команда в списке основных команд.

```
static BOOL IsBasicCommand(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*уикмд*<br/>
окне Указывает команду для проверки.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если указанная команда принадлежит к списку основных команд; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот статический метод определяет, относится ли команда, заданная параметром *уикмд* , к глобальному списку основных команд. Список основных команд можно изменить, вызвав [CMFCToolBar:: аддбасиккомманд](#addbasiccommand) или [CMFCToolBar:: сетбасиккоммандс](#setbasiccommands).

##  <a name="isbuttonextrasizeavailable"></a>CMFCToolBar:: Исбуттонекстрасизеаваилабле

Определяет, может ли на панели инструментов отображаться кнопка с расширенными границами.

```
virtual BOOL IsButtonExtraSizeAvailable() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если на панели могут отображаться кнопки с дополнительным размером границы; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Объект Toolbar возвращает значение TRUE, если он может отображать кнопки с расширенными границами. Кнопка на панели инструментов вызывает этот метод при обработке уведомления [CMFCToolBarButton:: ончанжепарентвнд](../../mfc/reference/cmfctoolbarbutton-class.md#onchangeparentwnd) и устанавливает соответствующий флаг внутреннего дополнительного размера границы. Этот внутренний флаг можно получить позже, вызвав [CMFCToolBarButton:: исекстрасизе](../../mfc/reference/cmfctoolbarbutton-class.md#isextrasize).

Переопределите этот метод в классе, производном от `CMFCToolBar` , и возвратите значение true, если панель инструментов может отображать кнопки на панели задач с дополнительным размером границы и возвращать false в противном случае. Реализация по умолчанию возвращает значение TRUE.

##  <a name="isbuttonhighlighted"></a>CMFCToolBar:: Исбуттонхигхлигхтед

Определяет, выделяется ли указанная кнопка.

```
BOOL IsButtonHighlighted(int iButton) const;
```

### <a name="parameters"></a>Параметры

*ибуттон*<br/>
окне Задает индекс кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если указанная кнопка выделена; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

##  <a name="iscommandpermitted"></a>CMFCToolBar:: Искоммандпермиттед

Определяет, разрешена ли команда.

```
static BOOL IsCommandPermitted(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*уикмд*<br/>
окне Указывает команду для проверки.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если указанная команда разрешена; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот статический метод определяет, относится ли команда, заданная параметром *уикмд* , к глобальному списку неразрешенных команд.

Список неразрешенных команд можно изменить, вызвав [CMFCToolBar:: сетнонпермиттедкоммандс](#setnonpermittedcommands).

##  <a name="iscommandrarelyused"></a>CMFCToolBar:: Искоммандрарелюсед

Определяет, используется ли команда редко.

```
static BOOL IsCommandRarelyUsed(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*уикмд*<br/>
окне Указывает команду для проверки.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если указанная команда редко используется; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Метод `IsCommandRarelyUsed` возвращает значение false, если выполняется одно или несколько из следующих условий.

- Указанная команда принадлежит к списку основных команд

- Указанная команда является одной из стандартных команд

- Платформа находится в режиме настройки

- Список основных команд пуст

- К указанной команде выдаются более 20% вызовов команд.

##  <a name="iscustomizemode"></a>CMFCToolBar:: Искустомиземоде

Указывает, находится ли платформа панели инструментов в режиме настройки.

```
static BOOL IsCustomizeMode();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если платформа находится в режиме настройки; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Режим настройки можно переключить, вызвав [CMFCToolBar:: сеткустомиземоде](#setcustomizemode).

Платформа изменяет режим, когда пользователь вызывает диалоговое окно настройки ( [класс кмфктулбарскустомизедиалог](../../mfc/reference/cmfctoolbarscustomizedialog-class.md)).

##  <a name="isdragbutton"></a>CMFCToolBar:: Исдрагбуттон

Определяет, перетаскивается ли кнопка панели инструментов.

```
BOOL IsDragButton(const CMFCToolBarButton* pButton) const;
```

### <a name="parameters"></a>Параметры

*пбуттон*<br/>
окне Указатель на кнопку на панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если заданная кнопка перетаскивается; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

##  <a name="isexistcustomizebutton"></a>CMFCToolBar:: Исексисткустомизебуттон

Определяет, содержит ли панель инструментов кнопку " **настроить** ".

```
BOOL IsExistCustomizeButton();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель инструментов содержит кнопку « **Настройка** »; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Если этот метод возвращает значение TRUE, метод [CMFCToolBar:: жеткустомизебуттон](#getcustomizebutton) возвращает указатель на кнопку **настройки** , которая отображается в конце панели инструментов.

Чтобы добавить кнопку **Настройка** на панель инструментов, используйте метод [CMFCToolBar:: енаблекустомизебуттон](#enablecustomizebutton) .

##  <a name="isfloating"></a>CMFCToolBar:: float

Определяет, является ли панель инструментов плавающей.

```
virtual BOOL IsFloating() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель инструментов является плавающей; в противном случае — значение FALSE.

##  <a name="islargeicons"></a>CMFCToolBar:: Исларжеиконс

Указывает, отображаются ли в приложении панели инструментов крупные значки.

```
static BOOL IsLargeIcons();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если приложение использует крупные значки; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Вызовите [CMFCToolBar:: сетларжеиконс](#setlargeicons) , чтобы переключиться между крупными и обычными значками.

Платформа автоматически изменяет режим, когда пользователь переключает флажок **крупные значки** на странице **Параметры** диалогового окна **Настройка** .

##  <a name="islastcommandfrombutton"></a>CMFCToolBar:: Исласткоммандфромбуттон

Определяет, была ли последняя выполненная команда отправлена с указанной кнопки панели инструментов.

```
static BOOL IsLastCommandFromButton(CMFCToolBarButton* pButton);
```

### <a name="parameters"></a>Параметры

*пбуттон*<br/>
окне Указатель на кнопку.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если последняя команда была отправлена с кнопки, которую *пбуттон* указывает; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод получает указатель на [структуру MSG](/windows/win32/api/winuser/ns-winuser-msg) путем вызова `CWnd::GetCurrentMessage`. Затем он сравнивает HWND кнопки с `MSG::lParam` элементами и `MSG::hwnd` , чтобы определить, была ли кнопка источником команды.

##  <a name="islocked"></a>CMFCToolBar:: NOLOCK

Определяет, заблокирована ли панель инструментов.

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель инструментов заблокирована; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод возвращает значение TRUE, если пользователь не может выполнять такие задачи настройки, как изменение расположения кнопок на панели инструментов.

На заблокированных панелях инструментов используются отдельные списки изображений. Дополнительные сведения об этих списках изображений см. в разделе [CMFCToolBar:: лоадбитмапекс](#loadbitmapex).

##  <a name="isonerowwithsibling"></a>CMFCToolBar:: Исонероввиссиблинг

Определяет, расположены ли панель инструментов и ее родственные панели инструментов в той же строке.

```
BOOL IsOneRowWithSibling();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель инструментов и ее одноуровневый элемент расположены в одной строке. в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Метод [кмфккустомизебуттон:: креатепопупмену](internal-classes.md) вызывает этот метод, чтобы определить способ отображения всплывающего меню **Настройка** . Если этот метод возвращает значение TRUE, платформа отображает кнопку **Показать кнопки на одной строке** . В противном случае платформа отображает кнопку **Показать кнопки на двух строках** .

Использование этого метода обычно не требуется. Чтобы включить **Отображение кнопок в одной строке** или **Отображать кнопки на двух** кнопках строк, вызовите [CMFCToolBar:: сетсиблингтулбар](#setsiblingtoolbar).

##  <a name="isresourcechanged"></a>CMFCToolBar:: Исресаурцечанжед

```
virtual BOOL IsResourceChanged() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="issibling"></a>CMFCToolBar:: дочерний элемент

```
BOOL IsSibling();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isuserdefined"></a>CMFCToolBar:: Исусердефинед

Указывает, является ли панель инструментов определяемой пользователем.

```
BOOL IsUserDefined() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель инструментов была создана пользователем; в противном случае — FALSE.

##  <a name="loadbitmap"></a>CMFCToolBar:: Лоадбитмап

Загружает изображения значков панели инструментов из ресурсов приложения.

```
virtual BOOL LoadBitmap(
    UINT uiResID,
    UINT uiColdResID=0,
    UINT uiMenuResID=0,
    BOOL bLocked=FALSE,
    UINT uiDisabledResID=0,
    UINT uiMenuDisabledResID=0);
```

### <a name="parameters"></a>Параметры

*уиресид*<br/>
окне Идентификатор ресурса точечного рисунка, который ссылается на изображения горячих панелей инструментов.

*уиколдресид*<br/>
окне Идентификатор ресурса точечного рисунка, который относится к изображениям холодный панели инструментов.

*уименуресид*<br/>
окне Идентификатор ресурса точечного рисунка, который ссылается на обычные изображения меню.

*Блокирует*<br/>
окне Значение TRUE, чтобы заблокировать панель инструментов; в противном случае — FALSE.

*уидисабледресид*<br/>
окне Идентификатор ресурса точечного рисунка, который ссылается на отключенные изображения панели инструментов.

*уименудисабледресид*<br/>
окне Идентификатор ресурса точечного рисунка, который относится к отключенным образам меню.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Метод [CMFCToolBar::LoadToolBarEx](#loadtoolbarex) вызывает этот метод, чтобы загрузить изображения, связанные с панелью инструментов. Переопределите этот метод для выполнения пользовательской загрузки графических ресурсов.

Вызовите метод `LoadBitmapEx` , чтобы загрузить дополнительные изображения после создания панели инструментов.

##  <a name="loadbitmapex"></a>CMFCToolBar:: Лоадбитмапекс

```
virtual BOOL LoadBitmapEx(
    CMFCToolBarInfo& params,
    BOOL bLocked = FALSE);
```

### <a name="parameters"></a>Параметры

окне *Параметры*<br/>
окне *заблокировано*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="loadlargeiconsstate"></a>CMFCToolBar:: Лоадларжеиконсстате

```
static BOOL __stdcall LoadLargeIconsState(LPCTSTR lpszProfileName = NULL);
```

### <a name="parameters"></a>Параметры

окне *лпсзпрофиленаме*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="loadparameters"></a>CMFCToolBar:: Лоадпараметерс

Загружает глобальные параметры панели инструментов из реестра Windows.

```
static BOOL LoadParameters(LPCTSTR lpszProfileName=NULL);
```

### <a name="parameters"></a>Параметры

*лпсзпрофиленаме*<br/>
окне Указывает относительный путь к разделу реестра Windows.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Этот метод загружает глобальные параметры, такие как тип анимации меню, стиль тени меню и необходимость отображать крупные значки из реестра Windows.

Метод [CWinAppEx:: LoadState](../../mfc/reference/cwinappex-class.md#loadstate) вызывает этот метод как часть процесса инициализации приложения.

##  <a name="loadstate"></a>CMFCToolBar:: LoadState

Загружает сведения о состоянии панели инструментов из реестра Windows.

```
virtual BOOL LoadState(
    LPCTSTR lpszProfileName=NULL,
    int nIndex=-1,
    UINT uiID=(UINT)-1);
```

### <a name="parameters"></a>Параметры

*лпсзпрофиленаме*<br/>
окне Указывает относительный путь к разделу реестра Windows.

*ниндекс*<br/>
окне Указывает идентификатор элемента управления панели инструментов.

*uiID*<br/>
окне Указывает идентификатор ресурса панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод как часть процесса инициализации приложения. Дополнительные сведения см. в разделе [CWinAppEx:: LoadState](../../mfc/reference/cwinappex-class.md#loadstate).

##  <a name="loadtoolbar"></a>CMFCToolBar:: Лоадтулбар

Загружает панель инструментов из ресурсов приложения.

```
virtual BOOL LoadToolBar(
    UINT uiResID,
    UINT uiColdResID=0,
    UINT uiMenuResID=0,
    BOOL bLocked=FALSE,
    UINT uiDisabledResID=0,
    UINT uiMenuDisabledResID=0,
    UINT uiHotResID=0);
```

### <a name="parameters"></a>Параметры

*уиресид*<br/>
окне Идентификатор ресурса панели инструментов.

*уиколдресид*<br/>
окне Идентификатор ресурса точечного рисунка, который относится к изображениям холодный панели инструментов.

*уименуресид*<br/>
окне Идентификатор ресурса точечного рисунка, который ссылается на обычные изображения меню.

*Блокирует*<br/>
окне Логическое значение, указывающее, заблокирована ли панель инструментов. Если этот параметр имеет *значение true*, панель инструментов блокируется. В противном случае панель инструментов не блокируется.

*уидисабледресид*<br/>
окне Идентификатор ресурса точечного рисунка, который ссылается на отключенные изображения панели инструментов.

*уименудисабледресид*<br/>
окне Идентификатор ресурса точечного рисунка, который относится к отключенным образам меню.

*уихотресид*<br/>
окне Идентификатор ресурса точечного рисунка, который ссылается на изображения горячих панелей инструментов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод во время инициализации для загрузки образов, связанных с панелью инструментов.

### <a name="example"></a>Пример

В следующем примере показано, `LoadToolBar` как использовать метод `CMFCToolBar` в классе. Этот фрагмент кода является частью [примера демонстрационной версии IE](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#7](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_3.cpp)]

##  <a name="loadtoolbarex"></a>CMFCToolBar:: Лоадтулбарекс

Загружает панель инструментов из ресурсов приложения с помощью `CMFCToolBarInfo` вспомогательного класса, чтобы позволить приложению использовать крупные изображения.

```
virtual BOOL LoadToolBarEx(
    UINT uiToolbarResID,
    CMFCToolBarInfo& params,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>Параметры

*уитулбарресид*<br/>
окне Идентификатор ресурса панели инструментов.

*params*<br/>
окне Ссылка на `CMFCToolBarInfo` объект, содержащий идентификаторы ресурсов для изображений панели инструментов.

*Блокирует*<br/>
окне Логическое значение, указывающее, заблокирована ли панель инструментов. Если этот параметр имеет значение TRUE, панель инструментов блокируется. В противном случае панель инструментов не блокируется.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы загрузить изображения панели инструментов из ресурсов приложения.

##  <a name="m_dbllargeimageratio"></a>CMFCToolBar:: m_dblLargeImageRatio

Задает отношение между измерением (высотой или шириной) больших изображений и измерением обычных изображений.

```
AFX_IMPORT_DATA static double m_dblLargeImageRatio;
```

### <a name="remarks"></a>Примечания

Коэффициент по умолчанию — 2. Это значение можно изменить, чтобы увеличить или уменьшить размер графических панелей инструментов.

Платформа использует этот элемент данных, если не задан набор больших изображений. Например, если вы предоставляете только набор мелких изображений размером 16x16 и хотите, чтобы крупные изображения имели размер 24x24, установите для этого элемента данных значение 1,5.

##  <a name="nextmenu"></a>CMFCToolBar:: Некстмену

```
virtual BOOL NextMenu();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="onbeforeremovebutton"></a>CMFCToolBar:: Онбефореремовебуттон

```
virtual BOOL OnBeforeRemoveButton(
    CMFCToolBarButton* pButton,
    DROPEFFECT dropEffect);
```

### <a name="parameters"></a>Параметры

*пбуттон*<br/>
окне Использующ.

*дропеффект*<br/>
окне Использующ.

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="onchangehot"></a>CMFCToolBar:: Ончанжехот

Вызывается структурой, когда пользователь выбирает кнопку на панели инструментов.

```
virtual void OnChangeHot(int iHot);
```

### <a name="parameters"></a>Параметры

*ихот*<br/>
окне Задает индекс выбранной кнопки панели инструментов. или-1, если кнопка на панели инструментов не выбрана.

### <a name="remarks"></a>Примечания

Переопределите этот метод для обработки уведомлений о том, что пользователь выбрал кнопку на панели инструментов.

##  <a name="onchangevisualmanager"></a>CMFCToolBar:: Ончанжевисуалманажер

```
virtual void OnChangeVisualManager();
```

### <a name="remarks"></a>Примечания

##  <a name="onfillbackground"></a>CMFCToolBar:: Онфиллбаккграунд

Вызвано структурой из [CBasePane::D опаинт](../../mfc/reference/cbasepane-class.md#dopaint) для заполнения фона панели инструментов.

```
virtual void OnFillBackground(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
окне Указатель на контекст устройства.

### <a name="remarks"></a>Примечания

[CMFCToolBar::D опаинт](#dopaint) вызывает этот метод, когда заполнится фон панели инструментов. Реализация по умолчанию не выполняет никаких действий.

Переопределите этот метод, чтобы нарисовать пользовательский фон в производных классах.

##  <a name="onglobalfontschanged"></a>CMFCToolBar:: Онглобалфонтсчанжед

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>Примечания

##  <a name="onreset"></a>CMFCToolBar:: OnReset

Восстанавливает исходное состояние панели инструментов.

```
virtual void OnReset();
```

### <a name="remarks"></a>Примечания

Переопределите этот метод, чтобы он обрабатывал уведомление о сбросе панели инструментов.

Реализация по умолчанию не выполняет никаких действий. Переопределите `OnReset` в классе, производном от `CMFCToolBar` , когда на панели инструментов есть фиктивные кнопки, которые необходимо заменить, когда панель инструментов возвращается в исходное состояние.

##  <a name="onsetaccdata"></a>CMFCToolBar:: Онсетаккдата

```
virtual BOOL OnSetAccData(long lVal);
```

### <a name="parameters"></a>Параметры

окне *лвал*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="onsetdefaultbuttontext"></a>CMFCToolBar:: Онсетдефаултбуттонтекст

Восстанавливает текст кнопки на панели инструментов в состояние по умолчанию.

```
virtual BOOL OnSetDefaultButtonText(CMFCToolBarButton* pButton);
```

### <a name="parameters"></a>Параметры

*пбуттон*<br/>
окне Указывает на кнопку, текст которой задается.

### <a name="return-value"></a>Возвращаемое значение

ИСТИНный текст ифсе успешно восстановлен; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Переопределите этот метод для обработки уведомлений о том, что текст кнопки панели инструментов изменяется на значение по умолчанию.

Реализация по умолчанию загружает текст кнопки из ресурсов приложения.

##  <a name="onusertooltip"></a>CMFCToolBar:: Онусертултип

Вызывается структурой при отображении подсказки для кнопки.

```
virtual BOOL OnUserToolTip(
    CMFCToolBarButton* pButton,
    CString& strTTText) const;
```

### <a name="parameters"></a>Параметры

*пбуттон*<br/>
окне Указывает на кнопку на панели инструментов, для которой отображается подсказка.

*стртттекст*<br/>
заполняет Ссылка на `CString` объект, который получает текст подсказки.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если *стртттекст* был заполнен текстом подсказки; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод при отображении подсказки для кнопки панели инструментов. Если `OnUserToolTip` возвращает значение true, платформа отображает подсказку, которая содержит текст, `OnUserToolTip` возвращенный в *стртттекст*. В противном случае подсказка содержит текст кнопки.

Переопределение `OnUserToolTip` для настройки всплывающих подсказок кнопок панели инструментов. Реализация по умолчанию вызывает [CMFCToolBar:: онусертултип](#onusertooltip) для получения текста подсказки.

##  <a name="prevmenu"></a>CMFCToolBar::P Ревмену

```
virtual BOOL PrevMenu();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="processcommand"></a>CMFCToolBar::P Роцесскомманд

Отправляет сообщение WM_COMMAND в окно, которому принадлежит панель инструментов.

```
BOOL ProcessCommand(CMFCToolBarButton* pButton);
```

### <a name="parameters"></a>Параметры

*пбуттон*<br/>
окне Указатель на кнопку на панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Этот метод всегда должен возвращать значение TRUE. MFC использует значения FALSE для внутренних целей.

### <a name="remarks"></a>Примечания

Этот метод отправляет сообщение WM_COMMAND в окно, которому принадлежит панель инструментов, вызывая [CWnd::P остмессаже](../../mfc/reference/cwnd-class.md#postmessage) и передав идентификатор команды указанной кнопки в качестве параметра *wParam* .

С помощью макроса [ON_COMMAND](message-map-macros-mfc.md#on_command) СОПОСТАВЬТЕ сообщение WM_COMMAND с функцией-членом.

##  <a name="removeallbuttons"></a>CMFCToolBar:: Ремовеаллбуттонс

Удаляет все кнопки и разделители с панели инструментов.

```
virtual void RemoveAllButtons();
```

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод при воссоздании или уничтожении панели инструментов.

##  <a name="removebutton"></a>CMFCToolBar:: Ремовебуттон

Удаляет с панели инструментов кнопку с указанным индексом.

```
virtual BOOL RemoveButton(int iIndex);
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Указывает отсчитываемый от нуля индекс удаляемой кнопки.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполняется удачно, или значение FALSE, если указанный индекс является недопустимым, или индекс ссылается на кнопку **настройки** .

### <a name="remarks"></a>Примечания

Этот метод обновляет дополнительные атрибуты панели инструментов, затрагиваемые при удалении кнопки. Например, этот метод удаляет ненужные разделители из панели инструментов и перестраивает таблицу сочетаний клавиш.

Дополнительные сведения о кнопке " **Настройка** " см. в разделе [CMFCToolBar:: енаблекустомизебуттон](#enablecustomizebutton).

##  <a name="removestatefromregistry"></a>CMFCToolBar:: Ремовестатефромрегистри

Удаляет сведения о состоянии панели инструментов из реестра Windows.

```
virtual BOOL RemoveStateFromRegistry(
    LPCTSTR lpszProfileName=NULL,
    int nIndex=-1,
    UINT uiID=(UINT)-1);
```

### <a name="parameters"></a>Параметры

*лпсзпрофиленаме*<br/>
окне Указывает раздел реестра, в котором находятся сведения о состоянии.

*ниндекс*<br/>
окне Идентификатор элемента управления панели инструментов.

*uiID*<br/>
окне Идентификатор ресурса панели инструментов. Если этот параметр имеет значение-1, этот метод использует метод [CWnd:: жетдлгктрлид](../../mfc/reference/cwnd-class.md#getdlgctrlid) для получения идентификатора ресурса.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод при удалении определяемой пользователем панели инструментов.

Переопределите этот метод, если в реестре Windows хранятся дополнительные сведения о состоянии.

##  <a name="replacebutton"></a>CMFCToolBar:: Реплацебуттон

Заменяет кнопку на панели инструментов на другую кнопку панели инструментов.

```
int ReplaceButton(
    UINT uiCmd,
    const CMFCToolBarButton& button,
    BOOL bAll=FALSE);
```

### <a name="parameters"></a>Параметры

*уикмд*<br/>
окне Идентификатор команды для замены.

*переключатель*<br/>
окне Ссылка на вставляемый `CMFCToolBarButton` объект.

*Шара*<br/>
окне Логическое значение, указывающее, следует ли заменять все кнопки, имеющие идентификатор команды, заданный параметром *уикмд*. Если этот параметр имеет значение TRUE, все кнопки с указанным ИДЕНТИФИКАТОРом команды заменяются. В противном случае первая кнопка будет заменена.

### <a name="return-value"></a>Возвращаемое значение

Число заменяемых кнопок. Этот метод возвращает значение 0, если на панели инструментов не существует кнопки с указанным ИДЕНТИФИКАТОРом команды.

### <a name="remarks"></a>Примечания

Этот метод следует вызывать, если необходимо добавить кнопки панели инструментов, которые не могут быть загружены из ресурсов. Вы можете создать кнопку-заполнитель во время разработки и заменить ее на настраиваемую кнопку при инициализации панели инструментов. Пример использования этого метода см. в примере Висуалстудиодемо.

### <a name="example"></a>Пример

В следующем примере показано, `ReplaceButton` как использовать метод `CMFCToolBar` в классе. Этот фрагмент кода является частью [примера демонстрационной версии IE](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#10](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_5.cpp)]

##  <a name="resetall"></a>CMFCToolBar:: Ресеталл

Восстанавливает все панели инструментов в исходное состояние.

```
static void __stdcall ResetAll();
```

### <a name="remarks"></a>Примечания

Этот метод вызывает метод [CMFCToolBar:: рестореоригиналстате](#restoreoriginalstate) на каждой панели инструментов в приложении, которое можно восстановить. Он использует метод [CMFCToolBar:: канбересторед](#canberestored) , чтобы определить, можно ли восстановить панель инструментов.

##  <a name="resetallimages"></a>CMFCToolBar:: Ресеталлимажес

Удаляет все коллекции изображений панели инструментов в приложении.

```
static void __stdcall ResetAllImages();
```

### <a name="remarks"></a>Примечания

Этот метод очищает коллекции изображений, которые инициализируются методами [CMFCToolBar:: лоадтулбар](#loadtoolbar) и [CMFCToolBar:: лоадбитмап](#loadbitmap) .

##  <a name="resetimages"></a>CMFCToolBar:: Ресетимажес

```
virtual void ResetImages();
```

### <a name="remarks"></a>Примечания

##  <a name="restorefocus"></a>CMFCToolBar:: Ресторефокус

```
virtual void RestoreFocus();
```

### <a name="remarks"></a>Примечания

##  <a name="restoreoriginalstate"></a>CMFCToolBar:: Рестореоригиналстате

Восстанавливает первоначальное состояние панели инструментов.

```
virtual BOOL RestoreOriginalState();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод завершается успешно, или значение FALSE, если метод завершается ошибкой или если панель инструментов определена пользователем.

### <a name="remarks"></a>Примечания

Этот метод загружает панель инструментов из файла ресурсов с помощью метода [CMFCToolBar:: лоадтулбар](#loadtoolbar) .

Платформа вызывает этот метод, когда пользователь нажимает кнопку **Сбросить все** на странице **панели инструментов** диалогового окна Настройка.

##  <a name="saveparameters"></a>CMFCToolBar:: Савепараметерс

```
static BOOL __stdcall SaveParameters(LPCTSTR lpszProfileName = NULL);
```

### <a name="parameters"></a>Параметры

окне *лпсзпрофиленаме*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="savestate"></a>CMFCToolBar:: SaveState

Сохраняет сведения о состоянии панели инструментов в реестре Windows.

```
virtual BOOL SaveState(
    LPCTSTR lpszProfileName=NULL,
    int nIndex=-1,
    UINT uiID=(UINT)-1);
```

### <a name="parameters"></a>Параметры

*лпсзпрофиленаме*<br/>
окне Указывает относительный путь к разделу реестра Windows.

*ниндекс*<br/>
окне Идентификатор элемента управления панели инструментов.

*uiID*<br/>
окне Идентификатор ресурса панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод при сохранении состояния приложения в реестре. Дополнительные сведения см. в разделе [CWinAppEx:: SaveState](../../mfc/reference/cwinappex-class.md#savestate).

##  <a name="setbasiccommands"></a>CMFCToolBar:: Сетбасиккоммандс

Задает список команд, которые всегда отображаются при открытии меню пользователем.

```
static void __stdcall SetBasicCommands(CList<UINT,UINT>& lstCommands);
```

### <a name="parameters"></a>Параметры

*лсткоммандс*<br/>
окне Ссылка на `CList` объект, содержащий коллекцию команд.

### <a name="remarks"></a>Примечания

При открытии меню всегда отображается основная команда. Этот метод имеет смысл, когда пользователь выбирает просмотр недавно использованных команд.

Используйте метод [CMFCToolBar:: аддбасиккомманд](#addbasiccommand) , чтобы добавить команду в список основных команд. Используйте метод [CMFCToolBar:: жетбасиккоммандс](#getbasiccommands) , чтобы получить список основных команд, используемых приложением.

Пример использования этого метода см. в примере проводника.

##  <a name="setbuttoninfo"></a>CMFCToolBar:: Сетбуттонинфо

Задает идентификатор команды, стиль и идентификатор изображения для кнопки панели инструментов.

```
void SetButtonInfo(
    int nIndex,
    UINT nID,
    UINT nStyle,
    int iImage);
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Отсчитываемый от нуля индекс кнопки, свойства которой заданы.

*nID*<br/>
окне Идентификатор команды для кнопки.

*нстиле*<br/>
окне Стиль кнопки. Список доступных стилей кнопок панели инструментов см. в разделе [стили элементов управления панели инструментов](../../mfc/reference/toolbar-control-styles.md) .

*иимаже*<br/>
окне Отсчитываемый от нуля индекс изображения кнопки (то есть индекс в коллекции изображений на панели инструментов).

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы задать свойства кнопки панели инструментов.

В отладочных сборках этот метод создает ошибку утверждения, если индекс, указанный параметром *ниндекс* , является недопустимым.

Вызовите метод [CMFCToolBar:: сетбуттонстиле](#setbuttonstyle) , чтобы задать только стиль кнопки.

##  <a name="setbuttons"></a>CMFCToolBar:: Сетбуттонс

Задает кнопки для панели инструментов.

```
virtual BOOL SetButtons(
    const UINT* lpIDArray,
    int nIDCount,
    BOOL bRemapImages=TRUE);
```

### <a name="parameters"></a>Параметры

*лпидаррай*<br/>
окне Указатель на массив идентификаторов команд вставляемых кнопок.

*нидкаунт*<br/>
окне Число элементов в *лпидаррай*.

*бремапимажес*<br/>
окне Логическое значение, указывающее, следует ли связывать существующие изображения кнопок с вставленными кнопками. Если этот параметр имеет значение TRUE, изображения сопоставляются повторно.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы удалить существующие кнопки с панели инструментов и вставить коллекцию новых кнопок.

Этот метод добавляет кнопку **настройки** на панель инструментов и ОТПРАВЛЯЕТ сообщение AFX_WM_RESETTOOLBAR в родительское окно панели инструментов. Дополнительные сведения о кнопке " **Настройка** " см. в разделе [CMFCToolBar:: енаблекустомизебуттон](#enablecustomizebutton).

##  <a name="setbuttonstyle"></a>CMFCToolBar:: Сетбуттонстиле

Задает стиль кнопки панели инструментов с заданным индексом.

```
virtual void SetButtonStyle(
    int nIndex,
    UINT nStyle);
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Отсчитываемый от нуля индекс кнопки панели инструментов, стиль которой должен быть установлен.

*нстиле*<br/>
окне Стиль кнопки. Список доступных стилей кнопок панели инструментов см. в разделе [стили элементов управления панели инструментов](../../mfc/reference/toolbar-control-styles.md) .

### <a name="remarks"></a>Примечания

Этот метод удаляет стиль TBBS_PRESSED, если *нстиле* имеет значение TBBS_DISABLED, так как пользователь не может щелкнуть отключенную кнопку.

##  <a name="setbuttontext"></a>CMFCToolBar:: Сетбуттонтекст

Задает текстовую метку кнопки панели инструментов.

```
BOOL SetButtonText(
    int nIndex,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Индекс кнопки панели инструментов.

*lpszText*<br/>
окне Текстовая метка кнопки панели инструментов. Значение должно быть отлично от NULL.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен. в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод возвращает значение FALSE, если указанный индекс не ссылается на допустимую кнопку на панели инструментов.

##  <a name="setcommandusageoptions"></a>CMFCToolBar:: Сеткоммандусажеоптионс

Указывает, что редко используемые команды не отображаются в меню приложения.

```
static BOOL SetCommandUsageOptions(
    UINT nStartCount,
    UINT nMinUsagePercentage=5);
```

### <a name="parameters"></a>Параметры

*нстарткаунт*<br/>
окне Указывает число команд, которые должны быть выполнены, прежде чем платформа отобразит только основные и недавно использованные команды.

*нминусажеперцентаже*<br/>
окне Процент времени, в течение которого команда должна быть выполнена, чтобы считаться недавно использованной командой.

### <a name="return-value"></a>Возвращаемое значение

Значение FALSE, если *нминусажеперцентаже* равен или больше 100; в противном случае — значение TRUE.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы настроить алгоритм, используемый платформой для определения того, как отображаются основные и недавно использовавшиеся элементы меню. Дополнительные сведения об основных командах см. в разделе [CMFCToolBar:: аддбасиккомманд](#addbasiccommand).

Этот класс использует `CMFCCmdUsageCount` класс для наблюдения за количеством команд. Дополнительные сведения об этом классе см. в разделе [класс CMFCCmdUsageCount](../../mfc/reference/cmfccmdusagecount-class.md).

##  <a name="setcustomizemode"></a>CMFCToolBar:: Сеткустомиземоде

Включает или отключает режим настройки для всех панелей инструментов в приложении.

```
static BOOL __stdcall SetCustomizeMode(BOOL bSet=TRUE);
```

### <a name="parameters"></a>Параметры

*Управляемое bSet*<br/>
окне Логическое значение, указывающее, следует ли включать или отключать режим настройки. Задайте для этого параметра значение TRUE, чтобы включить режим настройки, или FALSE, чтобы отключить его.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если при вызове этого метода изменяется режим настройки; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод корректирует макет и перерисовывает каждую панель инструментов в приложении. Вызовите метод [CMFCToolBar:: искустомиземоде](#iscustomizemode) , чтобы определить, находится ли приложение в режиме настройки.

##  <a name="setgraydisabledbuttons"></a>CMFCToolBar:: Сетграйдисабледбуттонс

Указывает, недоступны ли недоступные кнопки на панели инструментов и используются ли недоступные для кнопок образы.

```
void SetGrayDisabledButtons(BOOL bGrayDisabledButtons);
```

### <a name="parameters"></a>Параметры

*бграйдисабледбуттонс*<br/>
окне Логическое значение, указывающее способ отображения недоступных кнопок. Если этот параметр имеет значение TRUE, платформа затемняет кнопки. В противном случае платформа использует коллекцию недоступных для кнопок изображений.

### <a name="remarks"></a>Примечания

По умолчанию недоступные кнопки недоступны.

##  <a name="setheight"></a>CMFCToolBar:: Сесеигхт

Задает высоту панели инструментов.

```
void SetHeight(int cyHeight);
```

### <a name="parameters"></a>Параметры

*цихеигхт*<br/>
окне Высота панели инструментов (в пикселях).

### <a name="remarks"></a>Примечания

Этот метод перерисовывает панель инструментов после того, как задается высота.

##  <a name="sethelpmode"></a>CMFCToolBar:: Сеселпмоде

```
static void __stdcall SetHelpMode(BOOL bOn = TRUE);
```

### <a name="parameters"></a>Параметры

окне *Наводы*<br/>

### <a name="remarks"></a>Примечания

##  <a name="sethot"></a>CMFCToolBar:: Сесот

```
BOOL SetHot(CMFCToolBarButton* pMenuButton);
```

### <a name="parameters"></a>Параметры

окне *пменубуттон*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="sethotborder"></a>CMFCToolBar:: Сесотбордер

Указывает, будут ли кнопки панели инструментов отслежены.

```
void SetHotBorder(BOOL bShowHotBorder);
```

### <a name="parameters"></a>Параметры

*бшовхотбордер*<br/>
окне Логическое значение, указывающее, следует ли выполнять горячую отслеживание кнопок на панели инструментов. Если этот параметр имеет значение TRUE, то панель инструментов записывает свои кнопки. В противном случае кнопки на панели инструментов не записываются.

### <a name="remarks"></a>Примечания

Если кнопка отслежена, платформа выделяет эту кнопку при движении мыши по ней. По умолчанию каждая панель инструментов записывает свои кнопки.

Вызовите метод [CMFCToolBar:: жесотбордер](#gethotborder) , чтобы определить, будут ли на панели инструментов заслежены кнопки.

##  <a name="sethottextcolor"></a>CMFCToolBar:: Сесоттекстколор

Задает цвет текста для кнопок активной панели инструментов.

```
static void SetHotTextColor(COLORREF clrText);
```

### <a name="parameters"></a>Параметры

*клртекст*<br/>
окне Задает цвет текста для кнопок панели инструментов, которые будут отслежены.

### <a name="remarks"></a>Примечания

Дополнительные сведения о кнопках панели инструментов с активной отслежением см. в разделе [CMFCToolBar:: жесотбордер](#gethotborder) and [CMFCToolBar:: сесотбордер](#sethotborder).

##  <a name="setignoresettext"></a>CMFCToolBar:: Сетигноресеттекст

```
void SetIgnoreSetText(BOOL bValue);
```

### <a name="parameters"></a>Параметры

окне *bValue*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setlargeicons"></a>CMFCToolBar:: Сетларжеиконс

Указывает, отображаются ли крупные значки на кнопках панели инструментов.

```
static void SetLargeIcons(BOOL bLargeIcons=TRUE);
```

### <a name="parameters"></a>Параметры

*бларжеиконс*<br/>
окне Логическое значение, указывающее, какие значки следует использовать. Если этот параметр имеет значение TRUE, платформа отображает крупные значки. В противном случае платформа отображает обычные значки.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, когда пользователь изменяет состояние **большого размера значков** на вкладке **Параметры** диалогового окна **Настройка** . Этот метод изменяет размер всех панелей инструментов в приложении.

По умолчанию платформа отображает обычные значки.

Дополнительные сведения о диалоговом окне « **Настройка** » см. в разделе [класс кмфктулбарскустомизедиалог](../../mfc/reference/cmfctoolbarscustomizedialog-class.md).

##  <a name="setlockedsizes"></a>CMFCToolBar:: Сетлоккедсизес

Задает размеры заблокированных кнопок и заблокированных изображений на панели инструментов.

```
void SetLockedSizes(
    SIZE sizeButton,
    SIZE sizeImage,
    BOOL bDontScale = FALSE);
```

### <a name="parameters"></a>Параметры

*сизебуттон*<br/>
окне Задает размер заблокированных кнопок на панели инструментов.

*сизеимаже*<br/>
окне Задает размер заблокированных изображений на панели инструментов.

*бдонтскале*<br/>
Указывает, следует ли масштабировать или не блокировать изображения на панели инструментов в режиме высокого DPI.

### <a name="remarks"></a>Примечания

Размер заблокированных кнопок по умолчанию составляет 23x22 пикселей. Размер заблокированных изображений по умолчанию составляет 16x15 пикселей.

Вызовите метод [CMFCToolBar:: жетлоккедимажесизе](#getlockedimagesize) , чтобы получить размер заблокированных изображений. Вызовите метод [CMFCToolBar:: жетбуттонсизе](#getbuttonsize) , чтобы получить размер заблокированных кнопок на панели инструментов.

##  <a name="setmaskmode"></a>CMFCToolBar:: Сетмаскмоде

```
void SetMaskMode(BOOL bMasked);
```

### <a name="parameters"></a>Параметры

окне *бмаскед*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setmenusizes"></a>CMFCToolBar:: Сетменусизес

Задает размер кнопок меню панели инструментов и их изображений.

```
static void __stdcall SetMenuSizes(
    SIZE sizeButton,
    SIZE sizeImage);
```

### <a name="parameters"></a>Параметры

*сизебуттон*<br/>
окне Задает размер кнопок панели инструментов (в пикселях).

*сизеимаже*<br/>
окне Задает размер изображений панели инструментов (в пикселях).

### <a name="remarks"></a>Примечания

По умолчанию кнопки меню и их изображения имеют неопределенный размер.

Вызовите метод [CMFCToolBar:: жетменубуттонсизе](#getmenubuttonsize) , чтобы определить размер кнопок меню и метод [CMFCToolBar:: жетменуимажесизе](#getmenuimagesize) , чтобы определить размер изображений кнопки меню.

Примеры использования этого метода см. в примерах Иедемо и Мсмонэйдемо.

##  <a name="setnonpermittedcommands"></a>CMFCToolBar:: Сетнонпермиттедкоммандс

Задает список команд, которые не могут быть выполнены пользователем.

```
static void SetNonPermittedCommands(CList<UINT,UINT>& lstCommands);
```

### <a name="parameters"></a>Параметры

*лсткоммандс*<br/>
окне Ссылка на `CList` объект, содержащий команды, которые не могут быть выполнены пользователем.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы запретить пользователю выбирать определенные команды. Например, может потребоваться запретить пользователю выбирать определенные команды из соображений безопасности. Примеры использования этого метода см. в примерах Мдитабсдемо и Менусубсет.

Этот метод очищает предыдущий список неразрешенных команд. По умолчанию список неразрешенных команд пуст.

##  <a name="setonerowwithsibling"></a>CMFCToolBar:: Сетонероввиссиблинг

Располагает панель инструментов и ее одноуровневый элемент в той же строке.

```
void SetOneRowWithSibling();
```

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, когда пользователь нажимает кнопку « **Показывать кнопки на одной строке** ».

Вызовите метод [CMFCToolBar:: сетсиблингтулбар](#setsiblingtoolbar) , чтобы включить **Отображение кнопок в одной строке** или **отобразить кнопки на двух** кнопках строк. При вызове [CMFCToolBar:: сетсиблингтулбар](#setsiblingtoolbar) для этой панели инструментов родственная панель инструментов перемещается в строку этой панели инструментов. В противном случае эта панель инструментов перемещается в строку одноуровневого элемента.

Платформа вызывает метод [CMFCToolBar:: сеттворовсвиссиблинг](#settworowswithsibling) , когда пользователь нажимает кнопку « **Показывать кнопки на двух строках** ».

##  <a name="setorigbuttons"></a>CMFCToolBar:: Сеторигбуттонс

```
void SetOrigButtons(const CObList& lstOrigButtons);
```

### <a name="parameters"></a>Параметры

окне *лсторигбуттонс*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setpermament"></a>CMFCToolBar:: Сетпермамент

Указывает, может ли пользователь закрыть панель инструментов.

```
void SetPermament(BOOL bPermament=TRUE);
```

### <a name="parameters"></a>Параметры

*бпермамент*<br/>
окне Логическое значение, указывающее, может ли пользователь закрыть панель инструментов. Если этот параметр имеет значение TRUE, пользователь не может закрыть панель инструментов. В противном случае пользователь может закрыть панель инструментов.

### <a name="remarks"></a>Примечания

По умолчанию пользователь может закрыть каждую панель инструментов.

Вызовите метод [CMFCToolBar:: канбеклосед](#canbeclosed) , чтобы определить, может ли пользователь закрыть панель инструментов.

##  <a name="setroutecommandsviaframe"></a>CMFCToolBar:: Сетраутекоммандсвиафраме

Указывает, отправляет ли родительский фрейм или владелец команды на панель инструментов.

```
void SetRouteCommandsViaFrame(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
окне Если этот параметр имеет значение TRUE, родительский фрейм отправляет команды на панель инструментов. В противном случае владелец отправляет команды на панель инструментов.

### <a name="remarks"></a>Примечания

По умолчанию родительский фрейм отправляет команды на панель инструментов. Вызовите метод [CMFCToolBar:: жетраутекоммандсвиафраме](#getroutecommandsviaframe) , чтобы определить, отправляет ли родительский фрейм или владелец команды на панель инструментов.

##  <a name="setshowtooltips"></a>CMFCToolBar:: Сетшовтултипс

Указывает, отображает ли платформа подсказки.

```
static void SetShowTooltips(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
окне Если этот параметр имеет значение TRUE, в платформе отображаются подсказки. В противном случае в платформе скрываются всплывающие подсказки.

### <a name="remarks"></a>Примечания

По умолчанию в платформе отображаются всплывающие подсказки.

Вызовите метод [CMFCToolBar:: жетшовтултипс](#getshowtooltips) , чтобы определить, отображаются ли в платформе подсказки.

##  <a name="setsiblingtoolbar"></a>CMFCToolBar:: Сетсиблингтулбар

Задает одноуровневый элемент панели инструментов.

```
void SetSiblingToolBar(CMFCToolBar* pBrotherToolbar);
```

### <a name="parameters"></a>Параметры

*пбросертулбар*<br/>
окне Указатель на панель инструментов того же уровня.

### <a name="remarks"></a>Примечания

Этот метод включает **Отображение кнопок на одной строке** или кнопки **на двух строках** , отображаемых, когда пользователь открывает всплывающее меню **Настройка** . Этот метод следует вызывать, если необходимо разрешить пользователю указывать, отображаются ли связанные панели инструментов в той же строке или в разных строках.

Вызовите этот метод после включения кнопки **Настройка** , отображаемой на панели инструментов. Чтобы включить кнопку " **Настройка** ", вызовите метод [CMFCToolBar:: енаблекустомизебуттон](#enablecustomizebutton) .

Чтобы получить одноуровневый элемент панели инструментов, вызовите метод [CMFCToolBar:: жетсиблингтулбар](#getsiblingtoolbar).

##  <a name="setsizes"></a>CMFCToolBar:: Сетсизес

Задает размеры кнопок и изображений на всех панелях инструментов.

```
static void __stdcall SetSizes(
    SIZE sizeButton,
    SIZE sizeImage);
```

### <a name="parameters"></a>Параметры

*сизебуттон*<br/>
окне Размер кнопок панели инструментов (в пикселях).

*сизеимаже*<br/>
окне Размер изображений на кнопке панели инструментов (в пикселях).

### <a name="remarks"></a>Примечания

Размер кнопок панели инструментов по умолчанию составляет 23x22 пикселей. Размер изображения кнопки на панели инструментов по умолчанию составляет 16x15 пикселей.

Вызовите метод [CMFCToolBar:: жетимажесизе](#getimagesize) , чтобы получить размер изображений кнопки панели инструментов. Вызовите метод [CMFCToolBar:: жетбуттонсизе](#getbuttonsize) , чтобы получить размер кнопок на панели инструментов.

##  <a name="settoolbarbtntext"></a>CMFCToolBar:: Сеттулбарбтнтекст

Задает свойства кнопки на панели инструментов.

```
void SetToolBarBtnText(
    UINT nBtnIndex,
    LPCTSTR szText=NULL,
    BOOL bShowText=TRUE,
    BOOL bShowImage=TRUE);
```

### <a name="parameters"></a>Параметры

*нбтниндекс*<br/>
окне Отсчитываемый от нуля индекс кнопки панели инструментов в списке кнопок на панели инструментов.

*сзтекст*<br/>
окне Задает текстовую метку кнопки панели инструментов.

*бшовтекст*<br/>
окне Если этот параметр имеет значение TRUE, то платформа отображает текстовую метку. В противном случае она скрывает текстовую метку.

*бшовимаже*<br/>
окне Если этот параметр имеет значение TRUE, платформа отображает изображение кнопки панели инструментов. В противном случае платформа скрывает изображение кнопки панели инструментов.

### <a name="remarks"></a>Примечания

По умолчанию платформа отображает изображения кнопок панели инструментов, но не отображает текстовую метку кнопок панели инструментов.

В отладочных сборках этот метод создает ошибку утверждения, если *нбтниндекс* не ссылается на действительную кнопку на панели инструментов, или кнопка панели инструментов является разделителем.

##  <a name="settworowswithsibling"></a>CMFCToolBar:: Сеттворовсвиссиблинг

Располагает панель инструментов и ее одноуровневый элемент в отдельных строках.

```
void SetTwoRowsWithSibling();
```

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, когда пользователь нажимает кнопку « **Показывать кнопки на двух строках** ».

Вызовите метод [CMFCToolBar:: сетсиблингтулбар](#setsiblingtoolbar) , чтобы включить **Отображение кнопок в одной строке** или **отобразить кнопки на двух** кнопках строк. При вызове [CMFCToolBar:: сетсиблингтулбар](#setsiblingtoolbar) для этой панели инструментов родственная панель инструментов перемещается в отдельную строку. В противном случае эта панель инструментов перемещается в отдельную строку.

Платформа вызывает метод [CMFCToolBar:: сетонероввиссиблинг](#setonerowwithsibling) , когда пользователь нажимает кнопку « **Показывать кнопки на одной строке** ».

##  <a name="setuserimages"></a>CMFCToolBar:: Сетусеримажес

Задает коллекцию определяемых пользователем образов в приложении.

```
static BOOL SetUserImages(CMFCToolBarImages* pUserImages);
```

### <a name="parameters"></a>Параметры

*пусеримажес*<br/>
окне Указатель на коллекцию определяемых пользователем изображений.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен. в противном случае 0 `CMFCToolBarImages` , если указанный объект является недопустимым или имеет размер изображения, отличающийся от стандартного размера изображения панели инструментов.

### <a name="remarks"></a>Примечания

Платформа использует пользовательские изображения для рисования кнопок панели инструментов, настраиваемых пользователем. Список изображений, заданный параметром *пусеримажес* , является общим для всех панелей инструментов в приложении.

Этот метод создает ошибку утверждения в отладочных сборках, если указанный `CMFCToolBarImages` объект является недопустимым или имеет размер изображения, отличающийся от используемого по умолчанию размера изображения панели инструментов.

Примеры Аутлукдемо, Тултипдемо и Висуалстудиодемо используют этот метод для задания глобальной коллекции определяемых пользователем изображений. Они загружают файл с именем Усеримажес. bmp, который находится в рабочем каталоге приложения.

Вызовите метод [CMFCToolBar:: жетусеримажес](#getuserimages) , чтобы получить коллекцию определяемых пользователем изображений в приложении.

##  <a name="stretchpane"></a>CMFCToolBar:: Стретчпане

Растягивает панель инструментов по вертикали или по горизонтали и при необходимости перемещает кнопки.

```
virtual CSize StretchPane(
    int nLength,
    BOOL bVert);
```

### <a name="parameters"></a>Параметры

*нленгс*<br/>
окне Объем (в пикселях), на который растягивается область.

*бверт*<br/>
окне Если значение — TRUE, область растягивается по вертикали. Если значение равно FALSE, растягивает панель по горизонтали.

### <a name="return-value"></a>Возвращаемое значение

`CSize` Объект, указывающий размер клиентской области панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод вызывает [CMFCToolBar:: враптулбар](#wraptoolbar) для изменения расположения кнопок в растянутой панели инструментов.

Возвращаемое значение определяется путем вызова [CMFCToolBar:: калксизе](#calcsize).

##  <a name="translatechar"></a>CMFCToolBar:: Транслатечар

Выполняет команду кнопки, если указанный код ключа соответствует допустимому сочетанию клавиш.

```
virtual BOOL TranslateChar(UINT nChar);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
окне Указывает виртуальный код ключа. Список стандартных виртуальных клавиш см. в разделе Winuser. h

### <a name="return-value"></a>Возвращаемое значение

Значение FALSE, если указанный ключевой код либо недоступен для печати, либо не соответствует допустимому сочетанию клавиш; Значение TRUE, если указанный код ключа соответствует раскрывающемсяу меню; в противном случае возвращается значение от [CMFCToolBar::P роцесскомманд](#processcommand).

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, когда клавиша нажата вместе с клавишей Alt.

##  <a name="updatebutton"></a>CMFCToolBar:: Упдатебуттон

Обновляет состояние указанной кнопки.

```
void UpdateButton(int nIndex);
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
окне Указывает отсчитываемый от нуля индекс обновляемой кнопки.

### <a name="remarks"></a>Примечания

##  <a name="wraptoolbar"></a>CMFCToolBar:: Враптулбар

Перемещает кнопки на панели инструментов в заданных измерениях.

```
int WrapToolBar(
    int nWidth,
    int nHeight = 32767,
    CDC* pDC = NULL,
    int nColumnWidth = -1,
    int nRowHeight = -1);
```

### <a name="parameters"></a>Параметры

*нвидс*<br/>
окне Максимальная ширина панели инструментов.

*нхеигхт*<br/>
окне Максимальная высота панели инструментов. Не используется, если панель инструментов является плавающей.

*pDC*<br/>
окне Указатель на контекст устройства. Если значение равно NULL, используется контекст устройства для панели инструментов.

*нколумнвидс*<br/>
окне Ширина кнопки. Если значение равно-1, используется текущая ширина.

[in] *нровхеигхт* Высота кнопки. Если значение равно-1, используется текущая высота.

### <a name="return-value"></a>Возвращаемое значение

Число строк кнопок на панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод перемещает кнопки на панели инструментов, перемещая кнопки в дополнительные строки, если это необходимо.

##  <a name="m_bdontscaleimages"></a>CMFCToolBar:: m_bDontScaleImages

Указывает, следует ли масштабировать изображения панели инструментов в режиме высокого DPI.

```
AFX_IMPORT_DATA static BOOL m_bDontScaleImages;
```

### <a name="remarks"></a>Примечания

## <a name="see-also"></a>См. также

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)<br/>
[Класс CMFCMenuBar](../../mfc/reference/cmfcmenubar-class.md)<br/>
[Класс CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md)<br/>
[Класс CMFCDropDownToolBar](../../mfc/reference/cmfcdropdowntoolbar-class.md)<br/>
[Пошаговое руководство: Размещение элементов управления на панели инструментов](../../mfc/walkthrough-putting-controls-on-toolbars.md)
