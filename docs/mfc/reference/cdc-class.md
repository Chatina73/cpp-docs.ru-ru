---
title: Класс CDC
ms.date: 11/19/2018
f1_keywords:
- CDC
- AFXWIN/CDC
- AFXWIN/CDC::CDC
- AFXWIN/CDC::AbortDoc
- AFXWIN/CDC::AbortPath
- AFXWIN/CDC::AddMetaFileComment
- AFXWIN/CDC::AlphaBlend
- AFXWIN/CDC::AngleArc
- AFXWIN/CDC::Arc
- AFXWIN/CDC::ArcTo
- AFXWIN/CDC::Attach
- AFXWIN/CDC::BeginPath
- AFXWIN/CDC::BitBlt
- AFXWIN/CDC::Chord
- AFXWIN/CDC::CloseFigure
- AFXWIN/CDC::CreateCompatibleDC
- AFXWIN/CDC::CreateDC
- AFXWIN/CDC::CreateIC
- AFXWIN/CDC::DeleteDC
- AFXWIN/CDC::DeleteTempMap
- AFXWIN/CDC::Detach
- AFXWIN/CDC::DPtoHIMETRIC
- AFXWIN/CDC::DPtoLP
- AFXWIN/CDC::Draw3dRect
- AFXWIN/CDC::DrawDragRect
- AFXWIN/CDC::DrawEdge
- AFXWIN/CDC::DrawEscape
- AFXWIN/CDC::DrawFocusRect
- AFXWIN/CDC::DrawFrameControl
- AFXWIN/CDC::DrawIcon
- AFXWIN/CDC::DrawState
- AFXWIN/CDC::DrawText
- AFXWIN/CDC::DrawTextEx
- AFXWIN/CDC::Ellipse
- AFXWIN/CDC::EndDoc
- AFXWIN/CDC::EndPage
- AFXWIN/CDC::EndPath
- AFXWIN/CDC::EnumObjects
- AFXWIN/CDC::Escape
- AFXWIN/CDC::ExcludeClipRect
- AFXWIN/CDC::ExcludeUpdateRgn
- AFXWIN/CDC::ExtFloodFill
- AFXWIN/CDC::ExtTextOut
- AFXWIN/CDC::FillPath
- AFXWIN/CDC::FillRect
- AFXWIN/CDC::FillRgn
- AFXWIN/CDC::FillSolidRect
- AFXWIN/CDC::FlattenPath
- AFXWIN/CDC::FloodFill
- AFXWIN/CDC::FrameRect
- AFXWIN/CDC::FrameRgn
- AFXWIN/CDC::FromHandle
- AFXWIN/CDC::GetArcDirection
- AFXWIN/CDC::GetAspectRatioFilter
- AFXWIN/CDC::GetBkColor
- AFXWIN/CDC::GetBkMode
- AFXWIN/CDC::GetBoundsRect
- AFXWIN/CDC::GetBrushOrg
- AFXWIN/CDC::GetCharABCWidths
- AFXWIN/CDC::GetCharABCWidthsI
- AFXWIN/CDC::GetCharacterPlacement
- AFXWIN/CDC::GetCharWidth
- AFXWIN/CDC::GetCharWidthI
- AFXWIN/CDC::GetClipBox
- AFXWIN/CDC::GetColorAdjustment
- AFXWIN/CDC::GetCurrentBitmap
- AFXWIN/CDC::GetCurrentBrush
- AFXWIN/CDC::GetCurrentFont
- AFXWIN/CDC::GetCurrentPalette
- AFXWIN/CDC::GetCurrentPen
- AFXWIN/CDC::GetCurrentPosition
- AFXWIN/CDC::GetDCBrushColor
- AFXWIN/CDC::GetDCPenColor
- AFXWIN/CDC::GetDeviceCaps
- AFXWIN/CDC::GetFontData
- AFXWIN/CDC::GetFontLanguageInfo
- AFXWIN/CDC::GetGlyphOutline
- AFXWIN/CDC::GetGraphicsMode
- AFXWIN/CDC::GetHalftoneBrush
- AFXWIN/CDC::GetKerningPairs
- AFXWIN/CDC::GetLayout
- AFXWIN/CDC::GetMapMode
- AFXWIN/CDC::GetMiterLimit
- AFXWIN/CDC::GetNearestColor
- AFXWIN/CDC::GetOutlineTextMetrics
- AFXWIN/CDC::GetOutputCharWidth
- AFXWIN/CDC::GetOutputTabbedTextExtent
- AFXWIN/CDC::GetOutputTextExtent
- AFXWIN/CDC::GetOutputTextMetrics
- AFXWIN/CDC::GetPath
- AFXWIN/CDC::GetPixel
- AFXWIN/CDC::GetPolyFillMode
- AFXWIN/CDC::GetROP2
- AFXWIN/CDC::GetSafeHdc
- AFXWIN/CDC::GetStretchBltMode
- AFXWIN/CDC::GetTabbedTextExtent
- AFXWIN/CDC::GetTextAlign
- AFXWIN/CDC::GetTextCharacterExtra
- AFXWIN/CDC::GetTextColor
- AFXWIN/CDC::GetTextExtent
- AFXWIN/CDC::GetTextExtentExPointI
- AFXWIN/CDC::GetTextExtentPointI
- AFXWIN/CDC::GetTextFace
- AFXWIN/CDC::GetTextMetrics
- AFXWIN/CDC::GetViewportExt
- AFXWIN/CDC::GetViewportOrg
- AFXWIN/CDC::GetWindow
- AFXWIN/CDC::GetWindowExt
- AFXWIN/CDC::GetWindowOrg
- AFXWIN/CDC::GetWorldTransform
- AFXWIN/CDC::GradientFill
- AFXWIN/CDC::GrayString
- AFXWIN/CDC::HIMETRICtoDP
- AFXWIN/CDC::HIMETRICtoLP
- AFXWIN/CDC::IntersectClipRect
- AFXWIN/CDC::InvertRect
- AFXWIN/CDC::InvertRgn
- AFXWIN/CDC::IsPrinting
- AFXWIN/CDC::LineTo
- AFXWIN/CDC::LPtoDP
- AFXWIN/CDC::LPtoHIMETRIC
- AFXWIN/CDC::MaskBlt
- AFXWIN/CDC::ModifyWorldTransform
- AFXWIN/CDC::MoveTo
- AFXWIN/CDC::OffsetClipRgn
- AFXWIN/CDC::OffsetViewportOrg
- AFXWIN/CDC::OffsetWindowOrg
- AFXWIN/CDC::PaintRgn
- AFXWIN/CDC::PatBlt
- AFXWIN/CDC::Pie
- AFXWIN/CDC::PlayMetaFile
- AFXWIN/CDC::PlgBlt
- AFXWIN/CDC::PolyBezier
- AFXWIN/CDC::PolyBezierTo
- AFXWIN/CDC::PolyDraw
- AFXWIN/CDC::Polygon
- AFXWIN/CDC::Polyline
- AFXWIN/CDC::PolylineTo
- AFXWIN/CDC::PolyPolygon
- AFXWIN/CDC::PolyPolyline
- AFXWIN/CDC::PtVisible
- AFXWIN/CDC::RealizePalette
- AFXWIN/CDC::Rectangle
- AFXWIN/CDC::RectVisible
- AFXWIN/CDC::ReleaseAttribDC
- AFXWIN/CDC::ReleaseOutputDC
- AFXWIN/CDC::ResetDC
- AFXWIN/CDC::RestoreDC
- AFXWIN/CDC::RoundRect
- AFXWIN/CDC::SaveDC
- AFXWIN/CDC::ScaleViewportExt
- AFXWIN/CDC::ScaleWindowExt
- AFXWIN/CDC::ScrollDC
- AFXWIN/CDC::SelectClipPath
- AFXWIN/CDC::SelectClipRgn
- AFXWIN/CDC::SelectObject
- AFXWIN/CDC::SelectPalette
- AFXWIN/CDC::SelectStockObject
- AFXWIN/CDC::SetAbortProc
- AFXWIN/CDC::SetArcDirection
- AFXWIN/CDC::SetAttribDC
- AFXWIN/CDC::SetBkColor
- AFXWIN/CDC::SetBkMode
- AFXWIN/CDC::SetBoundsRect
- AFXWIN/CDC::SetBrushOrg
- AFXWIN/CDC::SetColorAdjustment
- AFXWIN/CDC::SetDCBrushColor
- AFXWIN/CDC::SetDCPenColor
- AFXWIN/CDC::SetGraphicsMode
- AFXWIN/CDC::SetLayout
- AFXWIN/CDC::SetMapMode
- AFXWIN/CDC::SetMapperFlags
- AFXWIN/CDC::SetMiterLimit
- AFXWIN/CDC::SetOutputDC
- AFXWIN/CDC::SetPixel
- AFXWIN/CDC::SetPixelV
- AFXWIN/CDC::SetPolyFillMode
- AFXWIN/CDC::SetROP2
- AFXWIN/CDC::SetStretchBltMode
- AFXWIN/CDC::SetTextAlign
- AFXWIN/CDC::SetTextCharacterExtra
- AFXWIN/CDC::SetTextColor
- AFXWIN/CDC::SetTextJustification
- AFXWIN/CDC::SetViewportExt
- AFXWIN/CDC::SetViewportOrg
- AFXWIN/CDC::SetWindowExt
- AFXWIN/CDC::SetWindowOrg
- AFXWIN/CDC::SetWorldTransform
- AFXWIN/CDC::StartDoc
- AFXWIN/CDC::StartPage
- AFXWIN/CDC::StretchBlt
- AFXWIN/CDC::StrokeAndFillPath
- AFXWIN/CDC::StrokePath
- AFXWIN/CDC::TabbedTextOut
- AFXWIN/CDC::TextOut
- AFXWIN/CDC::TransparentBlt
- AFXWIN/CDC::UpdateColors
- AFXWIN/CDC::WidenPath
- AFXWIN/CDC::m_hAttribDC
- AFXWIN/CDC::m_hDC
helpviewer_keywords:
- CDC [MFC], CDC
- CDC [MFC], AbortDoc
- CDC [MFC], AbortPath
- CDC [MFC], AddMetaFileComment
- CDC [MFC], AlphaBlend
- CDC [MFC], AngleArc
- CDC [MFC], Arc
- CDC [MFC], ArcTo
- CDC [MFC], Attach
- CDC [MFC], BeginPath
- CDC [MFC], BitBlt
- CDC [MFC], Chord
- CDC [MFC], CloseFigure
- CDC [MFC], CreateCompatibleDC
- CDC [MFC], CreateDC
- CDC [MFC], CreateIC
- CDC [MFC], DeleteDC
- CDC [MFC], DeleteTempMap
- CDC [MFC], Detach
- CDC [MFC], DPtoHIMETRIC
- CDC [MFC], DPtoLP
- CDC [MFC], Draw3dRect
- CDC [MFC], DrawDragRect
- CDC [MFC], DrawEdge
- CDC [MFC], DrawEscape
- CDC [MFC], DrawFocusRect
- CDC [MFC], DrawFrameControl
- CDC [MFC], DrawIcon
- CDC [MFC], DrawState
- CDC [MFC], DrawText
- CDC [MFC], DrawTextEx
- CDC [MFC], Ellipse
- CDC [MFC], EndDoc
- CDC [MFC], EndPage
- CDC [MFC], EndPath
- CDC [MFC], EnumObjects
- CDC [MFC], Escape
- CDC [MFC], ExcludeClipRect
- CDC [MFC], ExcludeUpdateRgn
- CDC [MFC], ExtFloodFill
- CDC [MFC], ExtTextOut
- CDC [MFC], FillPath
- CDC [MFC], FillRect
- CDC [MFC], FillRgn
- CDC [MFC], FillSolidRect
- CDC [MFC], FlattenPath
- CDC [MFC], FloodFill
- CDC [MFC], FrameRect
- CDC [MFC], FrameRgn
- CDC [MFC], FromHandle
- CDC [MFC], GetArcDirection
- CDC [MFC], GetAspectRatioFilter
- CDC [MFC], GetBkColor
- CDC [MFC], GetBkMode
- CDC [MFC], GetBoundsRect
- CDC [MFC], GetBrushOrg
- CDC [MFC], GetCharABCWidths
- CDC [MFC], GetCharABCWidthsI
- CDC [MFC], GetCharacterPlacement
- CDC [MFC], GetCharWidth
- CDC [MFC], GetCharWidthI
- CDC [MFC], GetClipBox
- CDC [MFC], GetColorAdjustment
- CDC [MFC], GetCurrentBitmap
- CDC [MFC], GetCurrentBrush
- CDC [MFC], GetCurrentFont
- CDC [MFC], GetCurrentPalette
- CDC [MFC], GetCurrentPen
- CDC [MFC], GetCurrentPosition
- CDC [MFC], GetDCBrushColor
- CDC [MFC], GetDCPenColor
- CDC [MFC], GetDeviceCaps
- CDC [MFC], GetFontData
- CDC [MFC], GetFontLanguageInfo
- CDC [MFC], GetGlyphOutline
- CDC [MFC], GetGraphicsMode
- CDC [MFC], GetHalftoneBrush
- CDC [MFC], GetKerningPairs
- CDC [MFC], GetLayout
- CDC [MFC], GetMapMode
- CDC [MFC], GetMiterLimit
- CDC [MFC], GetNearestColor
- CDC [MFC], GetOutlineTextMetrics
- CDC [MFC], GetOutputCharWidth
- CDC [MFC], GetOutputTabbedTextExtent
- CDC [MFC], GetOutputTextExtent
- CDC [MFC], GetOutputTextMetrics
- CDC [MFC], GetPath
- CDC [MFC], GetPixel
- CDC [MFC], GetPolyFillMode
- CDC [MFC], GetROP2
- CDC [MFC], GetSafeHdc
- CDC [MFC], GetStretchBltMode
- CDC [MFC], GetTabbedTextExtent
- CDC [MFC], GetTextAlign
- CDC [MFC], GetTextCharacterExtra
- CDC [MFC], GetTextColor
- CDC [MFC], GetTextExtent
- CDC [MFC], GetTextExtentExPointI
- CDC [MFC], GetTextExtentPointI
- CDC [MFC], GetTextFace
- CDC [MFC], GetTextMetrics
- CDC [MFC], GetViewportExt
- CDC [MFC], GetViewportOrg
- CDC [MFC], GetWindow
- CDC [MFC], GetWindowExt
- CDC [MFC], GetWindowOrg
- CDC [MFC], GetWorldTransform
- CDC [MFC], GradientFill
- CDC [MFC], GrayString
- CDC [MFC], HIMETRICtoDP
- CDC [MFC], HIMETRICtoLP
- CDC [MFC], IntersectClipRect
- CDC [MFC], InvertRect
- CDC [MFC], InvertRgn
- CDC [MFC], IsPrinting
- CDC [MFC], LineTo
- CDC [MFC], LPtoDP
- CDC [MFC], LPtoHIMETRIC
- CDC [MFC], MaskBlt
- CDC [MFC], ModifyWorldTransform
- CDC [MFC], MoveTo
- CDC [MFC], OffsetClipRgn
- CDC [MFC], OffsetViewportOrg
- CDC [MFC], OffsetWindowOrg
- CDC [MFC], PaintRgn
- CDC [MFC], PatBlt
- CDC [MFC], Pie
- CDC [MFC], PlayMetaFile
- CDC [MFC], PlgBlt
- CDC [MFC], PolyBezier
- CDC [MFC], PolyBezierTo
- CDC [MFC], PolyDraw
- CDC [MFC], Polygon
- CDC [MFC], Polyline
- CDC [MFC], PolylineTo
- CDC [MFC], PolyPolygon
- CDC [MFC], PolyPolyline
- CDC [MFC], PtVisible
- CDC [MFC], RealizePalette
- CDC [MFC], Rectangle
- CDC [MFC], RectVisible
- CDC [MFC], ReleaseAttribDC
- CDC [MFC], ReleaseOutputDC
- CDC [MFC], ResetDC
- CDC [MFC], RestoreDC
- CDC [MFC], RoundRect
- CDC [MFC], SaveDC
- CDC [MFC], ScaleViewportExt
- CDC [MFC], ScaleWindowExt
- CDC [MFC], ScrollDC
- CDC [MFC], SelectClipPath
- CDC [MFC], SelectClipRgn
- CDC [MFC], SelectObject
- CDC [MFC], SelectPalette
- CDC [MFC], SelectStockObject
- CDC [MFC], SetAbortProc
- CDC [MFC], SetArcDirection
- CDC [MFC], SetAttribDC
- CDC [MFC], SetBkColor
- CDC [MFC], SetBkMode
- CDC [MFC], SetBoundsRect
- CDC [MFC], SetBrushOrg
- CDC [MFC], SetColorAdjustment
- CDC [MFC], SetDCBrushColor
- CDC [MFC], SetDCPenColor
- CDC [MFC], SetGraphicsMode
- CDC [MFC], SetLayout
- CDC [MFC], SetMapMode
- CDC [MFC], SetMapperFlags
- CDC [MFC], SetMiterLimit
- CDC [MFC], SetOutputDC
- CDC [MFC], SetPixel
- CDC [MFC], SetPixelV
- CDC [MFC], SetPolyFillMode
- CDC [MFC], SetROP2
- CDC [MFC], SetStretchBltMode
- CDC [MFC], SetTextAlign
- CDC [MFC], SetTextCharacterExtra
- CDC [MFC], SetTextColor
- CDC [MFC], SetTextJustification
- CDC [MFC], SetViewportExt
- CDC [MFC], SetViewportOrg
- CDC [MFC], SetWindowExt
- CDC [MFC], SetWindowOrg
- CDC [MFC], SetWorldTransform
- CDC [MFC], StartDoc
- CDC [MFC], StartPage
- CDC [MFC], StretchBlt
- CDC [MFC], StrokeAndFillPath
- CDC [MFC], StrokePath
- CDC [MFC], TabbedTextOut
- CDC [MFC], TextOut
- CDC [MFC], TransparentBlt
- CDC [MFC], UpdateColors
- CDC [MFC], WidenPath
- CDC [MFC], m_hAttribDC
- CDC [MFC], m_hDC
ms.assetid: 715b3334-cb2b-4c9c-8067-02eb7c66c8b2
ms.openlocfilehash: 2ff6cd6e0817f74c7688fc573d4b98f70704f96c
ms.sourcegitcommit: da32511dd5baebe27451c0458a95f345144bd439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65222577"
---
# <a name="cdc-class"></a>Класс CDC

Определяет класс объектов контекста устройства.

## <a name="syntax"></a>Синтаксис

```
class CDC : public CObject
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|[CDC::CDC](#cdc)|Создает объект `CDC`.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CDC::AbortDoc](#abortdoc)|Завершает текущее задание печати, удаляя все, что приложение написано на устройстве с момента последнего вызова из `StartDoc` функция-член.|
|[CDC::AbortPath](#abortpath)|Закрывает и удаляет все пути в контексте устройства.|
|[CDC::AddMetaFileComment](#addmetafilecomment)|Копирует комментария из буфера в указанный метафайл расширенный формат.|
|[CDC::AlphaBlend](#alphablend)|Отображает точечным рисункам, имеющим прозрачным или полупрозрачным пикселей.|
|[CDC::AngleArc](#anglearc)|Рисует сегмент линии и дуги и перемещает текущую позицию конечная точка дуги.|
|[CDC::Arc](#arc)|Рисует дугу эллипса.|
|[CDC::ArcTo](#arcto)|Рисует дугу эллипса. Эта функция аналогична `Arc`, за исключением того, что текущее положение обновляется.|
|[CDC::Attach](#attach)|Присоединяет контекста устройства Windows к этому `CDC` объекта.|
|[CDC::BeginPath](#beginpath)|Открывает путь квадратной скобки в контексте устройства.|
|[CDC::BitBlt](#bitblt)|Копирует растровое изображение из указанного контекста устройства.|
|[CDC::Chord](#chord)|Рисует предоставляет (замкнутую фигуру, ограничивается пересечение эллипса и сегмент линии).|
|[CDC::CloseFigure](#closefigure)|Закрывает незамкнутой фигуры в путь.|
|[CDC::CreateCompatibleDC](#createcompatibledc)|Создает контекст устройства памяти, совместимый с другой контекст устройства. Его можно использовать для подготовки образов в памяти.|
|[CDC::CreateDC](#createdc)|Создает контекст устройства для конкретного устройства.|
|[CDC::CreateIC](#createic)|Создает контекст сведения для конкретного устройства. Это обеспечивает возможность быстрого получения сведений об устройстве без создания контекста устройства.|
|[CDC::DeleteDC](#deletedc)|Удаляет Windows контекста устройства, связанный с данным `CDC` объекта.|
|[CDC::DeleteTempMap](#deletetempmap)|Вызывается средой `CWinApp` обработчиком времени простоя, чтобы удалить какие-либо временные `CDC` объект, созданный `FromHandle`. Также отсоединяет контекст устройства.|
|[CDC::Detach](#detach)|Отсоединяет контекст устройства Windows из этого `CDC` объекта.|
|[CDC::DPtoHIMETRIC](#dptohimetric)|Преобразует единицы устройства в единицы HIMETRIC.|
|[CDC::DPtoLP](#dptolp)|Преобразует единицы устройства в логических единицах.|
|[CDC::Draw3dRect](#draw3drect)|Рисует прямоугольник трехмерного.|
|[CDC::DrawDragRect](#drawdragrect)|Удаляет и перерисовывает прямоугольник при его перетаскивании.|
|[CDC::DrawEdge](#drawedge)|Рисует границы прямоугольника.|
|[CDC::DrawEscape](#drawescape)|Обращений к Рисование возможности отображения видео, которые не доступны непосредственно через интерфейс графических устройств (GDI).|
|[CDC::DrawFocusRect](#drawfocusrect)|Рисует прямоугольник в стиль, используемый для указания фокус.|
|[CDC::DrawFrameControl](#drawframecontrol)|Поместите элемент управления frame.|
|[CDC::DrawIcon](#drawicon)|Рисует значка.|
|[CDC::DrawState](#drawstate)|Отображает изображение и применяет визуальный эффект для указания состояния.|
|[CDC::DrawText](#drawtext)|Рисует форматированный текст в указанном прямоугольнике.|
|[CDC::DrawTextEx](#drawtextex)|Рисует форматированный текст в заданном прямоугольнике, используя дополнительные форматы.|
|[CDC::Ellipse](#ellipse)|Рисование эллипса.|
|[CDC::EndDoc](#enddoc)|Завершает задание печати, начатую `StartDoc` функция-член.|
|[CDC::EndPage](#endpage)|Сообщает драйверу устройства, завершающегося страницы.|
|[CDC::EndPath](#endpath)|Закрывает путь квадратной скобки и выбирает путь, определенный в квадратных скобках в контексте устройства.|
|[CDC::EnumObjects](#enumobjects)|Перечисляет перьев и кистей, доступных в контексте устройства.|
|[CDC::escape](#escape)|Позволяет приложениям получать доступ к средства, которые не доступны непосредственно из конкретного устройства через интерфейс GDI. Также позволяет доступ к функциям Windows escape. Escape-вызовы, выполняемые приложением переводятся и отправляемые драйвер устройства.|
|[CDC::ExcludeClipRect](#excludecliprect)|Создает новую область обрезки, состоящий из области обрезки минус заданного прямоугольника.|
|[CDC::ExcludeUpdateRgn](#excludeupdatergn)|Предотвращает рисование в недопустимое областях окна, исключив из области отсечения в обновленный регион, в окне.|
|[CDC::ExtFloodFill](#extfloodfill)|Заливка области с помощью текущей кисти. Предоставляет большую гибкость, чем [CDC::FloodFill](#floodfill) функция-член.|
|[CDC::ExtTextOut](#exttextout)|Записывает символьную строку в пределах прямоугольной области, используя выбранный шрифт.|
|[CDC::FillPath](#fillpath)|Замыкает все незамкнутые фигуры в текущем пути и заполняет внутреннюю пути, используя текущий кисть и режима заполнения многоугольников.|
|[CDC::FillRect](#fillrect)|Заполняет заданный прямоугольник, используя определенную кисть.|
|[CDC::FillRgn](#fillrgn)|Заполняет определенном регионе указанной кисти.|
|[CDC::FillSolidRect](#fillsolidrect)|Заполняет прямоугольник сплошным цветом.|
|[CDC::FlattenPath](#flattenpath)|Преобразует любой кривых в пути, выбранного в текущий контекст устройства и преобразует каждую кривую в последовательность строк.|
|[CDC::FloodFill](#floodfill)|Заливка области с помощью текущей кисти.|
|[CDC::FrameRect](#framerect)|Рисует границу вокруг прямоугольника.|
|[CDC::FrameRgn](#framergn)|Рисует границу вокруг определенного региона с помощью кисти.|
|[CDC::FromHandle](#fromhandle)|Возвращает указатель на `CDC` объект для заданного дескриптора контекста устройства. Если объект `CDC` не прикреплен к дескриптору, создается и прикрепляется временный объект `CDC`.|
|[CDC::GetArcDirection](#getarcdirection)|Возвращает текущее направление дуги для контекста устройств.|
|[CDC::GetAspectRatioFilter](#getaspectratiofilter)|Получает параметр для текущего фильтра соотношение сторон.|
|[CDC::GetBkColor](#getbkcolor)|Получает текущий цвет фона.|
|[CDC::GetBkMode](#getbkmode)|Извлекает в фоновом режиме.|
|[CDC::GetBoundsRect](#getboundsrect)|Возвращает текущий накопленный ограничивающий прямоугольник для заданного контекста устройств.|
|[CDC::GetBrushOrg](#getbrushorg)|Извлекает источник текущей кисти.|
|[CDC::GetCharABCWidths](#getcharabcwidths)|Извлекает значения ширины, в логических единицах последовательных знаков в заданном диапазоне от текущего шрифта.|
|[CDC::GetCharABCWidthsI](#getcharabcwidthsi)|Извлекает значения ширины, в логических единицах индексы последовательных глифов в указанном диапазоне из текущего шрифта TrueType.|
|[CDC::GetCharacterPlacement](#getcharacterplacement)|Извлекает различные виды информации на строку символов.|
|[CDC::GetCharWidth](#getcharwidth)|Извлекает долей ширину последовательных знаков в указанном диапазоне из текущего шрифта.|
|[CDC::GetCharWidthI](#getcharwidthi)|Извлекает значения ширины, в логических координатах, индексов последовательных глифа в указанном диапазоне из текущего шрифта.|
|[CDC::GetClipBox](#getclipbox)|Получает размеры tightest ограничивающий прямоугольник вокруг текущие границы обрезки.|
|[CDC::GetColorAdjustment](#getcoloradjustment)|Извлекает значение коррекции цвета для контекста устройств.|
|[CDC::GetCurrentBitmap](#getcurrentbitmap)|Возвращает указатель на выбранного в данный момент `CBitmap` объекта.|
|[CDC::GetCurrentBrush](#getcurrentbrush)|Возвращает указатель на выбранного в данный момент `CBrush` объекта.|
|[CDC::GetCurrentFont](#getcurrentfont)|Возвращает указатель на выбранного в данный момент `CFont` объекта.|
|[CDC::GetCurrentPalette](#getcurrentpalette)|Возвращает указатель на выбранного в данный момент `CPalette` объекта.|
|[CDC::GetCurrentPen](#getcurrentpen)|Возвращает указатель на выбранного в данный момент `CPen` объекта.|
|[CDC::GetCurrentPosition](#getcurrentposition)|Получает текущую позицию пера (в логических координатах).|
|[CDC::GetDCBrushColor](#getdcbrushcolor)|Получает текущий цвет кисти.|
|[CDC::GetDCPenColor](#getdcpencolor)|Получает текущий цвет пера.|
|[CDC::GetDeviceCaps](#getdevicecaps)|Извлекает заданный тип конкретного устройства сведения о возможностях заданного устройства отображения элемента.|
|[CDC::GetFontData](#getfontdata)|Извлекает информацию о шрифте для метрик из файла масштабируемый шрифт. Сведения для получения определяется путем указания смещения в файл шрифта и длина возвращаемых данных.|
|[CDC::GetFontLanguageInfo](#getfontlanguageinfo)|Возвращает сведения о выбранный шрифт для отображения указанного контекста.|
|[CDC::GetGlyphOutline](#getglyphoutline)|Извлекает структуры кривой или точечного рисунка для структуры символа, с использованием текущего шрифта.|
|[CDC::GetGraphicsMode](#getgraphicsmode)|Извлекает текущий режим графики для заданного контекста устройств.|
|[CDC::GetHalftoneBrush](#gethalftonebrush)|Извлекает кисть полутоновые.|
|[CDC::GetKerningPairs](#getkerningpairs)|Извлекает символов, кернинг пар для шрифта, выбранного в заданном контексте устройства.|
|[CDC::GetLayout](#getlayout)|Извлекает расположение контекста устройства (DC). Макет можно либо слева направо (по умолчанию) или справа налево (зеркало).|
|[CDC::GetMapMode](#getmapmode)|Извлекает текущий режим сопоставления.|
|[CDC::GetMiterLimit](#getmiterlimit)|Возвращает ограничение по срезу для контекста устройств.|
|[CDC::GetNearestColor](#getnearestcolor)|Получает ближайший логических цвет для указанного логического цвет, который может представлять заданного устройства.|
|[CDC::GetOutlineTextMetrics](#getoutlinetextmetrics)|Извлекает сведения о метриках шрифта для шрифтов TrueType.|
|[CDC::GetOutputCharWidth](#getoutputcharwidth)|Получает значения ширины отдельных символов в группу последовательных символов из текущего шрифта, используя контекст устройства вывода.|
|[CDC::GetOutputTabbedTextExtent](#getoutputtabbedtextextent)|Вычисляет ширину и высоту символьной строки в контексте устройства вывода.|
|[CDC::GetOutputTextExtent](#getoutputtextextent)|Вычисляет ширину и высоту строки текста на контекст устройства вывода, используя текущий шрифт для определения измерения.|
|[CDC::GetOutputTextMetrics](#getoutputtextmetrics)|Извлекает метрики для текущего шрифта из контекста устройства вывода.|
|[CDC::GetPath](#getpath)|Извлекает координаты, определение конечных точек, линий и кривых, найдено в пути, выбранного в контексте устройства контрольные точки.|
|[CDC::GetPixel](#getpixel)|Извлекает значение цвета RGB пикселей в указанной точке.|
|[CDC::GetPolyFillMode](#getpolyfillmode)|Извлекает текущий режим заполнения многоугольников.|
|[CDC::GetROP2](#getrop2)|Извлекает текущий режим рисования.|
|[CDC::GetSafeHdc](#getsafehdc)|Возвращает [CDC::m_hDC](#m_hdc), контекст устройства вывода.|
|[CDC::GetStretchBltMode](#getstretchbltmode)|Извлекает текущий режим растягивания растрового изображения.|
|[CDC::GetTabbedTextExtent](#gettabbedtextextent)|Вычисляет ширину и высоту символьной строки в контексте устройства атрибута.|
|[CDC::GetTextAlign](#gettextalign)|Извлекает флаги выравнивание текста.|
|[CDC::GetTextCharacterExtra](#gettextcharacterextra)|Извлекает текущее значение объема intercharacter интервалы.|
|[CDC::GetTextColor](#gettextcolor)|Получает текущий цвет текста.|
|[CDC::GetTextExtent](#gettextextent)|Вычисляет ширину и высоту строки текста на атрибут контекста устройства, используя текущий шрифт для определения измерения.|
|[CDC::GetTextExtentExPointI](#gettextextentexpointi)|Возвращает число символов в указанной строке, в который помещается в пределах указанного пространства и массив заполняется размер текста для каждого из этих символов.|
|[CDC::GetTextExtentPointI](#gettextextentpointi)|Получает ширину и высоту указанного массива индексов глифов.|
|[CDC::GetTextFace](#gettextface)|Копирует имя текущего шрифта в буфер как строку, завершающуюся символом null.|
|[CDC::GetTextMetrics](#gettextmetrics)|Извлекает метрики для текущего шрифта из контекста устройства атрибута.|
|[CDC::GetViewportExt](#getviewportext)|Возвращает x - и y экстенты окна просмотра.|
|[CDC::GetViewportOrg](#getviewportorg)|Извлекает x и y координаты начальной позиции окна просмотра.|
|[CDC::GetWindow](#getwindow)|Возвращает окно, связанное с контекста устройства отображения.|
|[CDC::GetWindowExt](#getwindowext)|Возвращает x - и y экстенты соответствующее окно.|
|[CDC::GetWindowOrg](#getwindoworg)|Извлекает x и y координаты начальной позиции соответствующее окно.|
|[CDC::GetWorldTransform](#getworldtransform)|Извлекает текущий абсолютном пространстве для преобразования место на страницах.|
|[CDC::GradientFill](#gradientfill)|Заполняет прямоугольник и треугольник структур gradating цветом.|
|[CDC::GrayString](#graystring)|Рисует серым цветом (неактивна) текст в заданном расположении.|
|[CDC::HIMETRICtoDP](#himetrictodp)|Преобразует единицы HIMETRIC в единицах устройства.|
|[CDC::HIMETRICtoLP](#himetrictolp)|Преобразует единицы HIMETRIC в логических единицах.|
|[CDC::IntersectClipRect](#intersectcliprect)|Создает новую область обрезки, являющаяся пересечение текущей области и прямоугольника.|
|[CDC::InvertRect](#invertrect)|Инвертирует содержимое прямоугольника.|
|[CDC::InvertRgn](#invertrgn)|Обращение цветов в регионе.|
|[CDC::IsPrinting](#isprinting)|Определяет, используется ли контекст устройства для печати.|
|[CDC::LineTo](#lineto)|Проводит линию из текущей позиции до, но не в том числе, точку.|
|[CDC::LPtoDP](#lptodp)|Преобразует логические устройства в единицы устройства.|
|[CDC::LPtoHIMETRIC](#lptohimetric)|Преобразует логические устройства в единицы HIMETRIC.|
|[CDC::MaskBlt](#maskblt)|Объединяет данные о цвете для исходного и конечного точечных рисунков, с помощью заданной маске и выполнению растровую операцию.|
|[CDC::ModifyWorldTransform](#modifyworldtransform)|Изменяет мировое преобразование для контекста устройства, используя указанный режим.|
|[CDC::MoveTo](#moveto)|Перемещает текущую позицию.|
|[CDC::OffsetClipRgn](#offsetcliprgn)|Перемещает отсеченную область данного устройства.|
|[CDC::OffsetViewportOrg](#offsetviewportorg)|Изменяет начало координат окна просмотра относительно координат текущее исходное окно просмотра.|
|[CDC::OffsetWindowOrg](#offsetwindoworg)|Изменяет начало координат окна относительно координат текущее исходное окно.|
|[CDC::PaintRgn](#paintrgn)|Заполняет область выбранной кисти.|
|[CDC::PatBlt](#patblt)|Создает битовый шаблон.|
|[CDC::Pie](#pie)|Рисует сектор клина.|
|[CDC::PlayMetaFile](#playmetafile)|Воспроизведение содержимого указанный метафайл на указанном устройстве. Улучшенная версия `PlayMetaFile` отображает изображение, хранящихся в заданной расширенный формат метафайла. Метафайл, можно воспроизводить любое количество раз.|
|[CDC::PlgBlt](#plgblt)|Выполняет перемещение битов данных о цвете с указанный прямоугольник в контекст исходного устройства в заданном параллелограмме, в данном контексте.|
|[CDC::PolyBezier](#polybezier)|Рисует один или несколько сплайны Bzier. Текущая позиция не используется и не обновлены.|
|[CDC::PolyBezierTo](#polybezierto)|Рисует один или несколько сплайны Bzier и перемещает текущую позицию для конечной точки последнего Bzier сплайна.|
|[CDC::PolyDraw](#polydraw)|Рисует набор линейных сегментов и сплайны Bzier. Эта функция обновляет текущую позицию.|
|[CDC::Polygon](#polygon)|Рисует многоугольник, состоящий из двух или более точек (вершины) и соединенными линиями.|
|[CDC::Polyline](#polyline)|Рисует набор элементов соединяющих указанные точки линейных сегментов.|
|[CDC::PolylineTo](#polylineto)|Рисует один или несколько прямых линий и перемещает текущую позицию для конечной точки последней строки.|
|[CDC::PolyPolygon](#polypolygon)|Создает два или более многоугольники, которые заполняются с помощью текущий режим заполнения многоугольников. Возможно, работу с несвязанным пространством многоугольников или они могут перекрываться.|
|[CDC::PolyPolyline](#polypolyline)|Выводит несколько рядов, соединенных отрезков. Текущая позиция не используется и не обновлены данной функцией.|
|[CDC::PtVisible](#ptvisible)|Указывает, находится ли заданная точка в пределах области отсечения.|
|[CDC::RealizePalette](#realizepalette)|Сопоставляет элементы палитры в текущей логической палитры в Системная палитра.|
|[CDC::Rectangle](#rectangle)|Рисует прямоугольник с помощью текущего пера и заполняет его с помощью текущей кисти.|
|[CDC::RectVisible](#rectvisible)|Определяет, находится ли любую часть заданного прямоугольника в области отсечения.|
|[CDC::ReleaseAttribDC](#releaseattribdc)|Выпуски `m_hAttribDC`, атрибут контекста устройства.|
|[CDC::ReleaseOutputDC](#releaseoutputdc)|Выпуски `m_hDC`, контекст устройства вывода.|
|[CDC::ResetDC](#resetdc)|Обновления `m_hAttribDC` контекста устройства.|
|[CDC::RestoreDC](#restoredc)|Восстанавливает контекст устройства в предыдущее состояние сохраняется вместе с `SaveDC`.|
|[CDC::RoundRect](#roundrect)|Рисует прямоугольник со скругленными углами, используя текущее перо и заполнена с помощью текущей кисти.|
|[CDC::SaveDC](#savedc)|Сохраняет текущее состояние контекста устройства.|
|[CDC::ScaleViewportExt](#scaleviewportext)|Изменение области просмотра относительно текущих значений.|
|[CDC::ScaleWindowExt](#scalewindowext)|Изменяет экстенты окна относительно текущих значений.|
|[CDC::ScrollDC](#scrolldc)|Прокручивает прямоугольник бит по горизонтали и вертикали.|
|[CDC::SelectClipPath](#selectclippath)|В качестве области отсечения для контекста устройств, объединяя в новый регион с любой существующей области обрезки, используя указанный режим выбирается по текущему пути.|
|[CDC::SelectClipRgn](#selectcliprgn)|Объединяет заданной области с текущей областью обрезки, используя указанный режим.|
|[CDC::SelectObject](#selectobject)|Выбор графического объекта пера GDI.|
|[CDC::SelectPalette](#selectpalette)|Выбирает логическую палитру.|
|[CDC::SelectStockObject](#selectstockobject)|Выбирает один из предопределенных акций перья, кисти или шрифты, предоставляемые Windows.|
|[CDC::SetAbortProc](#setabortproc)|Задает функцию обратного вызова, предоставленные программистом, которая вызывает Windows, если задание на печать должна быть прервана.|
|[CDC::SetArcDirection](#setarcdirection)|Задает направление рисования для использования функции дуги и прямоугольника.|
|[CDC::SetAttribDC](#setattribdc)|Наборы `m_hAttribDC`, атрибут контекста устройства.|
|[CDC::SetBkColor](#setbkcolor)|Задает текущий цвет фона.|
|[CDC::SetBkMode](#setbkmode)|Задает в фоновом режиме.|
|[CDC::SetBoundsRect](#setboundsrect)|Управляет накопление данных ограничивающий прямоугольник для заданного контекста устройств.|
|[CDC::SetBrushOrg](#setbrushorg)|Указывает точку отсчета для следующего кисти, выбранной в контексте устройства.|
|[CDC::SetColorAdjustment](#setcoloradjustment)|Задает значение коррекции цвета для контекста устройства, используя указанные значения.|
|[CDC::SetDCBrushColor](#setdcbrushcolor)|Задает текущий цвет кисти.|
|[CDC::SetDCPenColor](#setdcpencolor)|Задает текущий цвет пера.|
|[CDC::SetGraphicsMode](#setgraphicsmode)|Задает текущий режим графики для заданного контекста устройств.|
|[CDC::SetLayout](#setlayout)|Изменяет макет контекста устройства (DC).|
|[CDC::SetMapMode](#setmapmode)|Задает текущий режим сопоставления.|
|[CDC::SetMapperFlags](#setmapperflags)|Изменяет алгоритма, который используется средство сопоставления шрифтов, когда он был сопоставлен логические шрифты физических шрифтов.|
|[CDC::SetMiterLimit](#setmiterlimit)|Устанавливает ограничение на время выполнения среза соединения для контекста устройств.|
|[CDC::SetOutputDC](#setoutputdc)|Наборы `m_hDC`, контекст устройства вывода.|
|[CDC::SetPixel](#setpixel)|Задает пикселя в указанной точке в приближением указанного цвета.|
|[CDC::SetPixelV](#setpixelv)|Задает пикселя по указанным координатам в приближением указанного цвета. `SetPixelV` выполняется быстрее, чем `SetPixel` , так как он не требуется возвращать значение цвета точки фактически нарисована.|
|[CDC::SetPolyFillMode](#setpolyfillmode)|Задает режим заполнения многоугольников.|
|[CDC::SetROP2](#setrop2)|Задает текущий режим рисования.|
|[CDC::SetStretchBltMode](#setstretchbltmode)|Задает режим растягивания растрового изображения.|
|[CDC::SetTextAlign](#settextalign)|Задает флаги выравнивание текста.|
|[CDC::SetTextCharacterExtra](#settextcharacterextra)|Задает intercharacter отступ.|
|[CDC::SetTextColor](#settextcolor)|Задает цвет текста.|
|[CDC::SetTextJustification](#settextjustification)|Добавляет пространство символы разрыва строки.|
|[CDC::SetViewportExt](#setviewportext)|Задает x - и y экстенты окна просмотра.|
|[CDC::SetViewportOrg](#setviewportorg)|Задает начало координат окна просмотра.|
|[CDC::SetWindowExt](#setwindowext)|Задает x - и y экстенты соответствующее окно.|
|[CDC::SetWindowOrg](#setwindoworg)|Задает начало координат окна в контексте устройства.|
|[CDC::SetWorldTransform](#setworldtransform)|Задает место на страницах преобразования текущего абсолютном пространстве.|
|[CDC::StartDoc](#startdoc)|Информирует о драйвере устройства, который запускает новое задание печати.|
|[CDC::StartPage](#startpage)|Информирует драйвер устройства, который запускает новую страницу.|
|[CDC::StretchBlt](#stretchblt)|Перемещает точечный рисунок из исходного прямоугольника и устройства в прямоугольник назначения, растягивая или сжимая точечный рисунок, при необходимости в соответствии с размерами прямоугольника назначения.|
|[CDC::StrokeAndFillPath](#strokeandfillpath)|Замыкает все незамкнутые фигуры в путь, возникнет сбой очертаниями контура с помощью текущего пера и заполняет ее внутренней области, используя текущей кисти.|
|[CDC::StrokePath](#strokepath)|Выполняет визуализацию указанного пути, используя текущее перо.|
|[CDC::TabbedTextOut](#tabbedtextout)|Записывает строку символов в указанном расположении, развернув вкладки значениями, указанными в массив позиций табуляции.|
|[CDC::TextOut](#textout)|Записывает символьную строку в заданном месте, используя выбранный шрифт.|
|[CDC::TransparentBlt](#transparentblt)|Передает блоками битов данных о цвете из контекста устройства указанного источника в контексте устройства назначения отрисовки указанный цвет прозрачным в операцию передачи.|
|[CDC::UpdateColors](#updatecolors)|Обновления клиентской области контекста устройства, сопоставляя текущего цвета в клиентской области в системной палитре по принципу по пикселю.|
|[CDC::WidenPath](#widenpath)|Переопределяет текущий путь как область, которая будет нарисована, если путь были обводке с помощью пера, выбранного в контексте устройства.|

### <a name="public-operators"></a>Открытые операторы

|name|Описание|
|----------|-----------------|
|[CDC::operator HDC](#operator_hdc)|Извлекает дескриптор контекста устройства.|

### <a name="public-data-members"></a>Открытые члены данных

|name|Описание|
|----------|-----------------|
|[CDC::m_hAttribDC](#m_hattribdc)|Контекст атрибута устройства, используемые этим объектом `CDC` объекта.|
|[CDC::m_hDC](#m_hdc)|Контекст устройства вывода, используемые этим объектом `CDC` объекта.|

## <a name="remarks"></a>Примечания

`CDC` Объект предоставляет функции-члены для работы с контекста устройства, такие как экран или принтер, а также элементы, для работы с контекста отображения, связанные с клиентской области окна.

Выполните все рисование через член функции `CDC` объекта. Этот класс предоставляет функции-члены для операций контекста устройства, работа с инструментами, Выбор объектов (интерфейс) устройства типобезопасный графики и работа с цвета и палитры. Он также предоставляет функции-члены для получения и задания, атрибуты, сопоставление, работу с просмотра, работа с экстента окна, преобразование координат, работа с регионов, обрезки, рисование линий и Рисование простых фигур, эллипсы, рисования и многоугольники. Функции-члены также предоставляются для рисования текста, работа с шрифты, с помощью escape-последовательности принтера, прокрутка и воспроизведение метафайлов.

Чтобы использовать `CDC` объекта, создания, а затем вызвать ее члена функции, которые параллельны функции Windows, использующие контексты устройств.

> [!NOTE]
>  В Windows 95/98 все координаты экрана ограничены 16 бит. Таким образом **int** передается `CDC` функция-член должна находиться в диапазоне от -32768 до 32767.

Для конкретных целей библиотеки Microsoft Foundation Class предоставляет несколько классов, производных от `CDC` . `CPaintDC` Инкапсулирует вызовы `BeginPaint` и `EndPaint`. `CClientDC` Управляет контекста отображения, связанные с клиентской области окна. `CWindowDC` Управляет контекста отображения, связанных с всего окна, включая его кадра и элементы управления. `CMetaFileDC` связывает контекст устройства с метафайл.

`CDC` предоставляет две функции-члены, [GetLayout](#getlayout) и [SetLayout](#setlayout), для обращение размещения контекста устройства, которое не унаследовано из окна в макете. Такие ориентация справа налево — необходимые для приложения, написанные для языков и региональных параметров, таких как арабский и иврит, где символ макет не европейские standard.

`CDC` содержит два контексты устройств, [m_hDC](#m_hdc) и [m_hAttribDC](#m_hattribdc), который, при создании `CDC` объекта, ссылаться на одном устройстве. `CDC` направляет все выходные данные GDI вызовы `m_hDC` и вызовы большинство атрибутов GDI `m_hAttribDC`. (Пример вызова атрибут — `GetTextColor`, хотя `SetTextColor` вызова выходных данных.)

Например, платформа использует эти контексты двух устройств для реализации `CMetaFileDC` объект, который будет отправлять выходные данные метафайл при чтении атрибутов из физического устройства. Предварительного просмотра печати реализуется в структуре таким же образом. Контексты двух устройств также можно использовать так же, как в коде приложения.

Бывают случаи, когда может потребоваться информация метрика текст из обоих `m_hDC` и `m_hAttribDC` контексты устройств. Следующие пары функций обеспечения этой возможности:

|Использует m_hAttribDC|Uses m_hDC|
|-----------------------|-----------------|
|[GetTextExtent](#gettextextent)|[GetOutputTextExtent](#getoutputtextextent)|
|[GetTabbedTextExtent](#gettabbedtextextent)|[GetOutputTabbedTextExtent](#getoutputtabbedtextextent)|
|[GetTextMetrics](#gettextmetrics)|[GetOutputTextMetrics](#getoutputtextmetrics)|
|[GetCharWidth](#getcharwidth)|[GetOutputCharWidth](#getoutputcharwidth)|

Дополнительные сведения о `CDC`, см. в разделе [контексты устройств](../../mfc/device-contexts.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

`CDC`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

##  <a name="abortdoc"></a>  CDC::AbortDoc

Завершает текущее задание печати и стирает все, что приложение написано на устройстве с момента последнего вызова [StartDoc](#startdoc) функция-член.

```
int AbortDoc();
```

### <a name="return-value"></a>Возвращаемое значение

Значение не меньше 0 в случае успеха или отрицательное значение, если произошла ошибка. Ниже перечислены распространенные ошибки значения и их описание.

- SP_ERROR Общая ошибка.

- Не SP_OUTOFDISK недостаточно места на диске остается доступной для постановки в очередь, и нет места станет доступен.

- SP_OUTOFMEMORY не доступен достаточный объем памяти для буферизации.

- SP_USERABORT пользователя завершается задание через диспетчер печати.

### <a name="remarks"></a>Примечания

Эта функция-член заменяет управляющей последовательности принтера ABORTDOC.

`AbortDoc` должен использоваться для удаления следующее:

- Операции печати, которые задают прерывания функцию с помощью [SetAbortProc](#setabortproc).

- Операции печати, которые еще не соответствует их первой NEWFRAME или NEXTBAND escape-вызова.

Если приложение обнаруживает ошибку печати или отмененной операции печати, он не должны пытаться завершить операцию, либо при помощи [EndDoc](#enddoc) или `AbortDoc` функции-члены класса `CDC`. GDI автоматически завершает операцию, прежде чем возвращать значение ошибки.

Если приложение отображает диалоговое окно, чтобы разрешить пользователю отменить операцию печати, он должен вызвать `AbortDoc` перед уничтожение диалогового окна.

Если диспетчер печати был использован для запуска задания печати, вызов метода `AbortDoc` стирает весь spool задания — принтер получает nothing. Если диспетчер печати не был использован для запуска задания печати, данные могут отправленных принтер, прежде чем `AbortDoc` был вызван. В этом случае драйвер принтера сбрасывали принтера (если возможно) и закрытия задания печати.

### <a name="example"></a>Пример

  См. в примере [CDC::StartDoc](#startdoc).

##  <a name="abortpath"></a>  CDC::AbortPath

Закрывает и удаляет все пути в контексте устройства.

```
BOOL AbortPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Есть ли открывающую скобку путь для открытия файла в контексте устройства, путь скобка закрывается, и путь отбрасывается. Если в контексте устройства замкнутого контура, путь отбрасывается.

##  <a name="addmetafilecomment"></a>  CDC::AddMetaFileComment

Копирует комментария из буфера в указанный метафайл расширенный формат.

```
BOOL AddMetaFileComment(
    UINT nDataSize,
    const BYTE* pCommentData);
```

### <a name="parameters"></a>Параметры

*nDataSize*<br/>
Задает длину буфера комментария, в байтах.

*pCommentData*<br/>
Указатель на буфер, содержащий комментарий.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Комментарии могут включать конфиденциальные сведения, например, Источник рисунка и Дата он был создан. Комментарий должно начинаться с подписью приложения, а также данных. Комментарии не должна содержать данные, зависящие от позиции. Данные, зависящие от позиции указывает расположение записи, и его не следует включать, так как один метафайла может быть внедрен в другой метафайла. Эта функция может использоваться только с расширенные метафайлы.

##  <a name="alphablend"></a>  CDC::AlphaBlend

Эта функция члена для отображения точечным рисункам, имеющим прозрачным или полупрозрачным пикселей.

```
BOOL AlphaBlend(
    int xDest,
    int yDest,
    int nDestWidth,
    int nDestHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    BLENDFUNCTION blend);
```

### <a name="parameters"></a>Параметры

*xDest*<br/>
Задает координату x, в логических единицах верхнего левого угла прямоугольника назначения.

*yDest*<br/>
Задает координату по оси y, в логических единицах верхнего левого угла прямоугольника назначения.

*nDestWidth*<br/>
Задает ширину, в логических единицах прямоугольника назначения.

*nDestHeight*<br/>
Указывает высоту в логических единицах прямоугольника назначения.

*pSrcDC*<br/>
Указатель на контекст исходного устройства.

*xSrc*<br/>
Задает координату x, в логических единицах левого верхнего угла исходного прямоугольника.

*ySrc*<br/>
Задает координату по оси y, в логических единицах левого верхнего угла исходного прямоугольника.

*nSrcWidth*<br/>
Задает ширину, в логических единицах исходного прямоугольника.

*nSrcHeight*<br/>
Указывает высоту в логических единицах исходного прямоугольника.

*Blend*<br/>
Указывает [BLENDFUNCTION](/windows/desktop/api/wingdi/ns-wingdi-_blendfunction) структуры.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

См. в разделе [AlphaBlend](/windows/desktop/api/wingdi/nf-wingdi-alphablend) в пакете SDK для Windows, Дополнительные сведения.

##  <a name="anglearc"></a>  CDC::AngleArc

Рисует дугу сегмент линии.

```
BOOL AngleArc(
    int x,
    int y,
    int nRadius,
    float fStartAngle,
    float fSweepAngle);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x центра круга.

*y*<br/>
Указывает логическую координату y центра круга.

*nRadius*<br/>
Указывает радиус круга в логических единицах. Это значение должно быть положительным.

*fStartAngle*<br/>
Задает начальный угол в градусах относительно оси x.

*fSweepAngle*<br/>
Задает угол поворота в градусах относительно начальный угол.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Сегмент линии извлекается из текущей позиции в начале дуги. Дуга рисуется по периметру круга с помощью определенного радиуса и center. Длина дуги определяется заданного начала и очистка углы.

`AngleArc` перемещает текущую позицию конечная точка дуги. Дуги, нарисованных при помощи этой функции может показаться эллипса, в зависимости от текущего режима преобразования и сопоставления. До начала рисования дуги, эта функция рисует сегмента линии от текущей позиции в начале дуги. Дуги, создав мнимой круг с указанного радиуса вокруг указанной центральной точки. Начальная точка дуги определяется путем измерения против часовой стрелки от оси x круга по число градусов в начальный угол. Конечная точка находится аналогичным образом Измеряя против часовой стрелки от начальной точки на число градусов в угол поворота.

Если угол поворота больше 360 градусов то дуга охватывает несколько раз. Эта функция Рисование линий с помощью текущего пера. Рисунок остается незаполненным.

##  <a name="arc"></a>  CDC::Arc

Рисует дугу эллипса.

```
BOOL Arc(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Arc(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*y1*<br/>
Задает координату по оси y верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*x2*<br/>
Задает координату по оси x правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*y2*<br/>
Задает координату по оси y правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*x3*<br/>
Указывает, что координата по оси x точки, которая определяет дуги начальную точку (в логических единицах). Эта точка не нужно находиться точно в дуги.

*Y3*<br/>
Указывает, что координата по оси y точки, которая определяет дуги начальную точку (в логических единицах). Эта точка не нужно находиться точно в дуги.

*X4*<br/>
Задает координату по оси x точки, который определяет конечную точку дуги (в логических единицах). Эта точка не нужно находиться точно в дуги.

*Y4*<br/>
Задает координату по оси y точки, который определяет конечную точку дуги (в логических единицах). Эта точка не нужно находиться точно в дуги.

*lpRect*<br/>
Указывает ограничивающий прямоугольник (в логических единицах). Можно передать либо LPRECT или [CRect](../../atl-mfc-shared/reference/crect-class.md) объект для этого параметра.

*ptStart*<br/>
Указывает, что x и y координаты точки, определяет дуги начальную точку (в логических единицах). Эта точка не нужно находиться точно в дуги. Можно передать или [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объект для этого параметра.

*ptEnd*<br/>
Указывает x - и y координаты точки, которая определяет конечную точку дуги (в логических единицах). Эта точка не нужно находиться точно в дуги. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Дуга рисуется с помощью функции – это сегмент эллипс, определяемый обозначенного границами прямоугольника.

Фактический начальной точкой дуги является точки, по которому луч, нарисованный в центре ограничивающего прямоугольника по указанной начальной точки пересечения с эллипса. Фактический конечная точка дуги является точкой пересечения луч, нарисованный в центре ограничивающего прямоугольника по указанной конечной точки с эллипса. Дуга рисуется против часовой стрелки. Поскольку дугу не замкнутую фигуру, оно не заполнено. Ширина и высота прямоугольника должно быть больше, чем 2 единицы и меньше, чем 32 767 единицы.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#29](../../mfc/codesnippet/cpp/cdc-class_1.cpp)]

##  <a name="arcto"></a>  CDC::ArcTo

Рисует дугу эллипса.

```
BOOL ArcTo(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL ArcTo(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*y1*<br/>
Задает координату по оси y верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*x2*<br/>
Задает координату по оси x правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*y2*<br/>
Задает координату по оси y правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*x3*<br/>
Указывает, что координата по оси x точки, которая определяет дуги начальную точку (в логических единицах). Эта точка не нужно находиться точно в дуги.

*Y3*<br/>
Указывает, что координата по оси y точки, которая определяет дуги начальную точку (в логических единицах). Эта точка не нужно находиться точно в дуги.

*X4*<br/>
Задает координату по оси x точки, который определяет конечную точку дуги (в логических единицах). Эта точка не нужно находиться точно в дуги.

*Y4*<br/>
Задает координату по оси y точки, который определяет конечную точку дуги (в логических единицах). Эта точка не нужно находиться точно в дуги.

*lpRect*<br/>
Указывает ограничивающий прямоугольник (в логических единицах). Можно передать указатель на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуру данных или [CRect](../../atl-mfc-shared/reference/crect-class.md) объект для этого параметра.

*ptStart*<br/>
Указывает, что x и y координаты точки, определяет дуги начальную точку (в логических единицах). Эта точка не нужно находиться точно в дуги. Можно передать или [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуру данных или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объект для этого параметра.

*ptEnd*<br/>
Указывает x - и y координаты точки, которая определяет конечную точку дуги (в логических единицах). Эта точка не нужно находиться точно в дуги. Можно передать или `POINT` структуру данных или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция аналогична `CDC::Arc`, за исключением того, что текущее положение обновляется. Точки ( *x1*, *y1*) и ( *x2*, *y2*) укажите ограничивающего прямоугольника. Эллипса, заданного ограничивающего прямоугольника, образованное определяет кривизны дуги. Дуги расширяет против часовой стрелки (по умолчанию направление дуги) из точки, где оно пересекает радиальной линии от центра ограничивающего прямоугольника для ( *x3*, *y3*). Заканчивается дуги, где оно пересекает радиальной линии от центра ограничивающего прямоугольника для ( *x4*, *y4*). Если начальную и конечную точки совпадают, полный эллипс.

Линия берет начало от текущей позиции до начальной точки дуги. При отсутствии ошибок, конечная точка дуги имеет значение текущей позиции. С помощью текущего пера; рисуется дуга он не заполняется.

##  <a name="attach"></a>  CDC::Attach

Используйте эту функцию-член для присоединения *hDC* для `CDC` объекта.

```
BOOL Attach(HDC hDC);
```

### <a name="parameters"></a>Параметры

*hDC*<br/>
Контекста устройства Windows.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

*HDC* хранятся в двух `m_hDC`, контекст устройства вывода и в `m_hAttribDC`, атрибут контекста устройства.

##  <a name="beginpath"></a>  CDC::BeginPath

Открывает путь квадратной скобки в контексте устройства.

```
BOOL BeginPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

После открытия квадратной скобки путь приложения можно начать вызов GDI, функции рисования для определения точки, которые находятся в пути. Приложение можно закрыть открывающую скобку путь для открытия файла, вызвав `EndPath` функция-член. Если приложение вызывает `BeginPath`, удаляются все предыдущие пути.

См. в разделе [BeginPath](/windows/desktop/api/wingdi/nf-wingdi-beginpath) в пакете SDK Windows для получения списка функции рисования, которые определяют точки в контуре.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#30](../../mfc/codesnippet/cpp/cdc-class_2.cpp)]

##  <a name="bitblt"></a>  CDC::BitBlt

Копирует точечный рисунок из исходного контекста устройства этот текущий контекст устройства.

```
BOOL BitBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    DWORD dwRop);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x левого верхнего угла прямоугольника назначения.

*y*<br/>
Указывает логическую координату y верхнего левого угла прямоугольника назначения.

*nWidth*<br/>
Задает ширину (в логических единицах) прямоугольник и исходный точечный рисунок назначения.

*nHeight*<br/>
Указывает высоту (в логических единицах) прямоугольник и исходный точечный рисунок назначения.

*pSrcDC*<br/>
Указатель на `CDC` , определяющий контекст устройства, из которого будет копироваться растрового изображения. Он должен иметь значение NULL, если *dwRop* указывает растровая операция, в которой отсутствует источник.

*xSrc*<br/>
Указывает логическую координату x верхнего левого угла исходного растрового изображения.

*ySrc*<br/>
Указывает логическую координату y верхнего левого угла исходного растрового изображения.

*dwRop*<br/>
Определяет подлежащую выполнению растровую операцию. Коды растровых операций определяют, как GDI сочетает цвета в операциях вывода, которые включают текущая кисть, возможный исходный точечный рисунок и точечный рисунок назначения. См. в разделе [BitBlt](/windows/desktop/api/wingdi/nf-wingdi-bitblt) в пакете SDK Windows для получения списка коды растровых операций для *dwRop* и их описание

Полный список коды растровых операций, см. в разделе [о коды растровых операций](/windows/desktop/gdi/raster-operation-codes) в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Приложение можно выровнять windows или клиентские области в байтовом, чтобы убедиться, что `BitBlt` выполняются операции по байт синхронизированная прямоугольники. (Задать флаги CS_BYTEALIGNWINDOW или CS_BYTEALIGNCLIENT, регистрируя классы окна.)

`BitBlt` операции с байт синхронизированная прямоугольники значительно быстрее, чем `BitBlt` операций в прямоугольники, которые не являются-байтовым. Если вы хотите указать стили класса, например байт выравнивание для собственных контекста устройства, вам будет необходимо зарегистрировать класс окна вместо того чтобы полагаться на библиотеки Microsoft Foundation classes сделать это для вас. Использовать глобальную функцию [AfxRegisterWndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass).

Преобразует GDI *nWidth* и *nHeight*, один раз, с помощью контекста устройства назначения и один раз с помощью контекста исходного устройства. Если результирующее экстенты не совпадают, GDI использует Windows `StretchBlt` функция сжать или растянуть исходного растрового изображения при необходимости.

Если назначение, источника и узора не имеют одинаковый цветовой формат `BitBlt` функция преобразует точечные рисунки источника и узора в соответствии с назначением. При преобразовании используются цвета переднего плана и фона точечный рисунок назначения.

Когда `BitBlt` функция преобразует монохромный точечный рисунок в цвет, белые биты (1) задает цвет фона и черные биты (0), чтобы цвет переднего плана. Используются цвета переднего плана и фона контекста устройства назначения. Для преобразования цветов в монохромный, `BitBlt` пиксели, сопоставляющие цвет фона на белый и устанавливает для всех других точек на черный. `BitBlt` использует цвета переднего плана и фона контекста устройства цвет для преобразования цветов в монохромный.

Обратите внимание, что не все контексты устройств поддерживают `BitBlt`. Чтобы проверить, поддерживает ли контекст данного устройства `BitBlt`, использовать `GetDeviceCaps` члена функции и укажите RASTERCAPS индекс.

### <a name="example"></a>Пример

  См. в примере [CDC::CreateCompatibleDC](#createcompatibledc).

##  <a name="cdc"></a>  CDC::CDC

Создает объект `CDC`.

```
CDC();
```

##  <a name="chord"></a>  CDC::Chord

Рисует предоставляет (замкнутую фигуру, ограничивается пересечение эллипса и сегмент линии).

```
BOOL Chord(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Chord(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Указывает, что координата по оси x верхнего левого угла хордой ограничивающий прямоугольник (в логических единицах).

*y1*<br/>
Указывает, что координата по оси y верхнего левого угла хордой ограничивающий прямоугольник (в логических единицах).

*x2*<br/>
Указывает, что координата по оси x в правом нижнем углу хордой ограничивающий прямоугольник (в логических единицах).

*y2*<br/>
Указывает, что координата по оси y в правом нижнем углу хордой ограничивающий прямоугольник (в логических единицах).

*x3*<br/>
Указывает, что координата по оси x точки, которая определяет хордой начальную точку (в логических единицах).

*Y3*<br/>
Указывает, что координата по оси y точки, которая определяет хордой начальную точку (в логических единицах).

*X4*<br/>
Задает координату по оси x точки, который определяет конечную точку chord (в логических единицах).

*Y4*<br/>
Задает координату по оси y точки, который определяет конечную точку chord (в логических единицах).

*lpRect*<br/>
Указывает ограничивающий прямоугольник (в логических единицах). Можно передать либо LPRECT или [CRect](../../atl-mfc-shared/reference/crect-class.md) объект для этого параметра.

*ptStart*<br/>
Указывает, что x и y координаты точки, определяет хордой начальную точку (в логических единицах). Эта точка не нужно находиться точно в хордой. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

*ptEnd*<br/>
Указывает x и y координаты точки, определяет chord конечной точки (в логических единицах). Эта точка не нужно находиться точно в хордой. Можно передать или [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

( *X1*, *y1*) и ( *x2*, *y2*) параметры задают верхнего левого и правого нижнего углов, соответственно, прямоугольника ограничивающий эллипса, который является частью хордой. ( *X3*, *y3*) и ( *x4*, *y4*) параметры задаются конечные точки, линии, которая пересекает эллипса. Chord попадает с помощью выбранного пера и заполнена с помощью выбранной кисти.

Рисунок, нарисованными `Chord` функция расширяет до, но не включает координаты вправо и вниз. Это означает, что высота рисунка *y2* - *y1* и ширину рисунка *x2* - *x1*.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#31](../../mfc/codesnippet/cpp/cdc-class_3.cpp)]

##  <a name="closefigure"></a>  CDC::CloseFigure

Закрывает незамкнутой фигуры в путь.

```
BOOL CloseFigure();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Функция замыкает фигуру путем рисования линии из текущей позиции точки фигуры (как правило, точку, указанную в последний вызов к `MoveTo` функция-член) и подключается строки, используя стиль соединения линий. Если фигура замыкается с помощью `LineTo` функция-член вместо `CloseFigure`, оконечных используются для создания в углу вместо соединения. `CloseFigure` должен вызываться только при наличии открывающую скобку путь для открытия файла в контексте устройства.

Цифры в путь открыт в том случае, если он закрыт явным образом с помощью этой функции. (Рисунок может быть открыт даже, если текущей точкой и отправной точкой фигуры одинаковы.) Любая строка или кривой, добавляется к пути после `CloseFigure` открывает новую фигуру.

##  <a name="createcompatibledc"></a>  CDC::CreateCompatibleDC

Создает контекста устройства памяти, которая совместима с устройстве с *pDC*.

```
BOOL CreateCompatibleDC(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства. Если *pDC* имеет значение NULL, функция создает контекста устройства памяти, который совместим с отображением системы.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекста устройства памяти представляет собой блок памяти, представляющий поверхность отображения. Его можно использовать для подготовки образов в памяти перед их копированием в область совместимое устройство на настоящем устройстве.

При создании контекста устройства памяти GDI автоматически выбирает для него монохромный точечный акций 1 на 1. Выходные данные функций GDI может использоваться с контекста устройства памяти только в том случае, если точечный рисунок создан и помещения этого контекста.

Эта функция может использоваться только создание контекстов совместимых устройств для устройств, которые поддерживают операции растровых. См. в разделе [CDC::BitBlt](#bitblt) функция-член для сведения, касающиеся передачи битов между контексты устройств. Чтобы определить, поддерживает ли контекст устройства растровых операций, см. в разделе возможность растровых RC_BITBLT в функцию-член `CDC::GetDeviceCaps`.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#32](../../mfc/codesnippet/cpp/cdc-class_4.cpp)]

##  <a name="createdc"></a>  CDC::CreateDC

Создает контекст устройства для заданного устройства.

```
BOOL CreateDC(
    LPCTSTR lpszDriverName,
    LPCTSTR lpszDeviceName,
    LPCTSTR lpszOutput,
    const void* lpInitData);
```

### <a name="parameters"></a>Параметры

*lpszDriverName*<br/>
Указатель на заканчивающуюся нулем строку, указывающее имя файла драйвера устройства (например, «EPSON») (без расширения). Вы также можете передать `CString` объект для этого параметра.

*lpszDeviceName*<br/>
Указатель на заканчивающуюся нулем строку, указывающее имя определенного устройства, которые должны поддерживаться (например, «80-FX EPSON»). *LpszDeviceName* параметр используется в том случае, если модуль поддерживает несколько устройств. Вы также можете передать `CString` объект для этого параметра.

*lpszOutput*<br/>
Указатель на заканчивающуюся нулем строку, которая указывает имя файла или устройства, для вывода физического носителя (файл или выходной порт). Вы также можете передать `CString` объект для этого параметра.

*lpInitData*<br/>
Указывает на `DEVMODE` структура, содержащая данные об устройствах инициализации драйвера устройства. Windows `DocumentProperties` функция извлекает эту структуру, заполнено для данного устройства. *LpInitData* параметр должен иметь значение NULL, если драйвер устройства — использовать инициализация по умолчанию (если таковые имеются), указанный пользователем с помощью панели управления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Печать. Файл заголовка является обязательным, если [DEVMODE](/windows/desktop/api/wingdi/ns-wingdi-_devicemodea) используется структура.

Имена устройств руководствуйтесь следующими соглашениями: конечный двоеточие (:), рекомендуется, но это необязательно. Windows удаляет завершающий двоеточие, чтобы имя устройства, заканчивая двоеточие сопоставляется один и тот же порт как тем же именем без двоеточия. Имена драйвера и порт не должен содержать начальные или конечные пробелы. Выходные данные функций GDI, не может использоваться с контекстами сведения.

##  <a name="createic"></a>  CDC::CreateIC

Создает контекст сведения для заданного устройства.

```
BOOL CreateIC(
    LPCTSTR lpszDriverName,
    LPCTSTR lpszDeviceName,
    LPCTSTR lpszOutput,
    const void* lpInitData);
```

### <a name="parameters"></a>Параметры

*lpszDriverName*<br/>
Указатель на заканчивающуюся нулем строку, указывающее имя файла драйвера устройства (например, «EPSON») (без расширения). Вы можете передать `CString` объект для этого параметра.

*lpszDeviceName*<br/>
Указатель на заканчивающуюся нулем строку, указывающее имя определенного устройства, которые должны поддерживаться (например, «80-FX EPSON»). *LpszDeviceName* параметр используется в том случае, если модуль поддерживает несколько устройств. Вы можете передать `CString` объект для этого параметра.

*lpszOutput*<br/>
Указатель на заканчивающуюся нулем строку, которая указывает имя файла или устройства, для вывода физического носителя (файл или порта). Вы можете передать `CString` объект для этого параметра.

*lpInitData*<br/>
Указывает на данные конкретного устройства инициализации драйвера устройства. *LpInitData* параметр должен иметь значение NULL, если драйвер устройства — использовать инициализация по умолчанию (если таковые имеются), указанный пользователем с помощью панели управления. См. в разделе `CreateDC` для формата данных для инициализации конкретного устройства.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Информационный контекст предоставляет быстрый способ получения сведений об устройстве без создания контекста устройства.

Имена устройств руководствуйтесь следующими соглашениями: конечный двоеточие (:), рекомендуется, но это необязательно. Windows удаляет завершающий двоеточие, чтобы имя устройства, заканчивая двоеточие сопоставляется один и тот же порт как тем же именем без двоеточия. Имена драйвера и порт не должен содержать начальные или конечные пробелы. Выходные данные функций GDI, не может использоваться с контекстами сведения.

##  <a name="deletedc"></a>  CDC::DeleteDC

В общем случае не вызывайте эту функцию; деструктор сделает ее за вас.

```
BOOL DeleteDC();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция успешно завершена; в противном случае 0.

### <a name="remarks"></a>Примечания

`DeleteDC` Функция-член удаляет контексты устройств Windows, с которыми связаны `m_hDC` в текущем `CDC` объекта. Если этот `CDC` объект является контекст последнего активного устройства для данного устройства, устройство получает уведомление и освобождаются все ресурсы хранилища и системы, используемый устройством.

Приложение не должно вызывать `DeleteDC` Если выбранных объектов в контексте устройства. Объекты сначала должен быть выбран из контекста устройства, прежде чем он будет удален.

Приложения не удаляйте контекста устройства, дескриптор которого был получен путем вызова [CWnd::GetDC](../../mfc/reference/cwnd-class.md#getdc). Вместо этого он должен вызвать [CWnd::ReleaseDC](../../mfc/reference/cwnd-class.md#releasedc) необходимо освободить контекст устройства. [CClientDC](../../mfc/reference/cclientdc-class.md) и [CWindowDC](../../mfc/reference/cwindowdc-class.md) класса, позволяющих объединим эту функциональность.

`DeleteDC` Функция обычно используется для удаления контексты устройств, созданных с помощью [CreateDC](#createdc), [CreateIC](#createic), или [createcompatibledc; она](#createcompatibledc).

### <a name="example"></a>Пример

  См. в примере [CPrintDialog::GetPrinterDC](../../mfc/reference/cprintdialog-class.md#getprinterdc).

##  <a name="deletetempmap"></a>  CDC::DeleteTempMap

Автоматически вызывается `CWinApp` обработчиком времени простоя, `DeleteTempMap` удаляет все временные `CDC` объекты, создаваемые `FromHandle`, но не уничтожает дескрипторов контекста устройства ( `hDC`s) временно связанный с `CDC` объектов.

```
static void PASCAL DeleteTempMap();
```

##  <a name="detach"></a>  CDC::Detach

Вызывайте эту функцию для отсоединения `m_hDC` (контекст устройства вывода) из `CDC` и задайте оба `m_hDC` и `m_hAttribDC` значение NULL.

```
HDC Detach();
```

### <a name="return-value"></a>Возвращаемое значение

Контекста устройства Windows.

##  <a name="dptohimetric"></a>  CDC::DPtoHIMETRIC

Эта функция используется при предоставлении размеры HIMETRIC к OLE, преобразование пикселов в HIMETRIC.

```
void DPtoHIMETRIC(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*lpSize*<br/>
Указывает на [размер](/windows/desktop/api/windef/ns-windef-tagsize) структуры или [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Если используется режим сопоставления объекта контекста устройства MM_LOENGLISH, MM_HIENGLISH, MM_LOMETRIC или MM_HIMETRIC, преобразование основано на точках в физических дюйма. Если режим сопоставления является одним из других отличных от ограниченного режимов (например, режим MM_TEXT), преобразование основано на количестве пикселей на логический дюйм по оси.

##  <a name="dptolp"></a>  CDC::DPtoLP

Преобразует единицы устройства в логических единицах.

```
void DPtoLP(
    LPPOINT lpPoints,
    int nCount = 1) const;

void DPtoLP(LPRECT lpRect) const;
void DPtoLP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объектов.

*nCount*<br/>
Количество точек в массиве.

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) объекта. Этот параметр используется для простой пример преобразования один прямоугольник из точек устройства в логические точки.

*lpSize*<br/>
Указывает на [размер](/windows/desktop/api/windef/ns-windef-tagsize) структуры или [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Функция сопоставляет координаты каждой точки или измерения размера из системы координат устройства в системе логических координат в GDI. Преобразование зависит от текущего режима сопоставления и параметрам источников и экстентов для окна и окна просмотра устройства.

##  <a name="draw3drect"></a>  CDC::Draw3dRect

Вызовите эту функцию-член для отрисовки трехмерного прямоугольника.

```
void Draw3dRect(
    LPCRECT lpRect,
    COLORREF clrTopLeft,
    COLORREF clrBottomRight);

void Draw3dRect(
    int x,
    int y,
    int cx,
    int cy,
    COLORREF clrTopLeft,
    COLORREF clrBottomRight);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает ограничивающий прямоугольник (в логических единицах). Можно передать указатель на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) объект для этого параметра.

*clrTopLeft*<br/>
Задает цвет верхней и левой сторон трехмерного прямоугольника.

*clrBottomRight*<br/>
Задает цвет нижней и правой сторон прямоугольника трехмерного.

*x*<br/>
Указывает логическую координату x левого верхнего угла трехмерного прямоугольника.

*y*<br/>
Указывает логическую координату y верхнего левого угла трехмерного прямоугольника.

*cx*<br/>
Указывает ширину трехмерного прямоугольника.

*CY*<br/>
Задает высоту объемной прямоугольника.

### <a name="remarks"></a>Примечания

Прямоугольник привязки будет рисоваться в верхней и левой сторон в цветов, заданных *clrTopLeft* и нижней и правой сторонах в цветов, заданных *clrBottomRight*.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#33](../../mfc/codesnippet/cpp/cdc-class_5.cpp)]

##  <a name="drawdragrect"></a>  CDC::DrawDragRect

Вызовите эту функцию-член для перерисовки прямоугольника перетаскивания.

```
void DrawDragRect(
    LPCRECT lpRect,
    SIZE size,
    LPCRECT lpRectLast,
    SIZE sizeLast,
    CBrush* pBrush = NULL,
    CBrush* pBrushLast = NULL);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , указывающий логические координаты прямоугольника, в данном случае конечное положение объекта прямоугольника.

*size*<br/>
Указывает смещение от верхнего левого угла внешней границы для верхнего левого угла внутреннее границы прямоугольника (то есть толщину границы).

*lpRectLast*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , указывающий логические координаты положения прямоугольника — в данном случае исходной позиции перерисовываться прямоугольника.

*sizeLast*<br/>
Указывает смещение от верхнего левого угла внешней границы для верхнего левого угла внутреннее границы исходный прямоугольник перерисовываться (то есть толщину границы).

*pBrush*<br/>
Указатель на объект brush. Значение NULL для использования полутоновые кисть по умолчанию.

*pBrushLast*<br/>
Указатель на последний объект кисть используется. Значение NULL для использования полутоновые кисть по умолчанию.

### <a name="remarks"></a>Примечания

Вызовите его в цикле, как пример положение указателя мыши, чтобы обеспечить визуальную обратную связь. При вызове `DrawDragRect`, удаляется предыдущего прямоугольника и строится новый. Например, как пользователь перетаскивает прямоугольника по экрану, `DrawDragRect` будет стереть исходный прямоугольник и перерисовывает его в новое место. По умолчанию `DrawDragRect` Рисование прямоугольника с помощью кисти полутоновые для уменьшения эффекта дрожания для создания внешнего вида Плавное перемещение прямоугольника.

При первом вызове `DrawDragRect`, *lpRectLast* параметр должен иметь значение NULL.

##  <a name="drawedge"></a>  CDC::DrawEdge

Вызовите эту функцию-член для рисования краев прямоугольника, заданного типа и стиля.

```
BOOL DrawEdge(
    LPRECT lpRect,
    UINT nEdge,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указатель на `RECT` структуру, которая содержит логические координаты прямоугольника.

*nEdge*<br/>
Указывает тип внутреннего и внешнего края для рисования. Этот параметр должен представлять собой сочетание один флаг внутреннего границы и один флаг внешней границы. См. в разделе [DrawEdge](/windows/desktop/api/winuser/nf-winuser-drawedge) в пакете Windows SDK для таблицы типов параметров.

*nFlags*<br/>
Флаги, указывающие тип границы для отрисовки. См. в разделе `DrawEdge` в пакете Windows SDK для таблицы значений параметров. Для диагональные линии флаги BF_RECT указать конечную точку вектора ограничивается прямоугольник.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

##  <a name="drawescape"></a>  CDC::DrawEscape

Обращений к Рисование возможности отображения видео, которые не доступны непосредственно через интерфейс графических устройств (GDI).

```
int DrawEscape(
    int nEscape,
    int nInputSize,
    LPCSTR lpszInputData);
```

### <a name="parameters"></a>Параметры

*nEscape*<br/>
Указывает функцию escape для выполнения.

*nInputSize*<br/>
Указывает число байтов данных, на которые указывают *lpszInputData* параметра.

*lpszInputData*<br/>
Указывает входной структуры, необходимые для указанной escape.

### <a name="return-value"></a>Возвращаемое значение

Указывает результат функции. Больше, чем нуль в случае успеха, за исключением escape draw QUERYESCSUPPORT, проверяющее для реализации. или нуль, если прерывание не реализован. или меньше, чем нуль, если ошибка произошла.

### <a name="remarks"></a>Примечания

Если приложение вызывает `DrawEscape`, данные по *nInputSize* и *lpszInputData* передается непосредственно в указанный драйвер.

##  <a name="drawfocusrect"></a>  CDC::DrawFocusRect

Рисует прямоугольник в стиль, используемый для указания, что прямоугольник имеет фокус.

```
void DrawFocusRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , указывающий логические координаты прямоугольника для отрисовки.

### <a name="remarks"></a>Примечания

Так как это логическое исключающее или функции, вызов этой функции во второй раз с тем же прямоугольником удаляет прямоугольника с экрана. Не может быть прокручен прямоугольника, нарисованных при помощи этой функции. Чтобы прокрутить в области, содержащей прямоугольник, нарисованный этой функцией, сначала вызовите `DrawFocusRect` отменить отображение прямоугольника, затем прокрутите область и затем вызвать `DrawFocusRect` еще раз, чтобы нарисовать прямоугольник в новое положение.

> [!CAUTION]
> `DrawFocusRect` работает только в режиме режим MM_TEXT. В других режимах эта функция не правильно нарисовать прямоугольник фокуса, но он не возвращает ошибочные значения.

##  <a name="drawframecontrol"></a>  CDC::DrawFrameControl

Вызовите эту функцию-член для рисования элемента управления "фрейм" указанного типа и стиля.

```
BOOL DrawFrameControl(
    LPRECT lpRect,
    UINT nType,
    UINT nState);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указатель на `RECT` структуру, которая содержит логические координаты прямоугольника.

*nType*<br/>
Указывает тип фрейма элемента управления для рисования. См. в разделе *uType* параметр в [DrawFrameControl](/windows/desktop/api/winuser/nf-winuser-drawframecontrol) в пакете SDK Windows для получения списка возможных значений этого параметра.

*nState*<br/>
Указывает начальное состояние элемента управления frame. Может иметь одно или несколько значений, описанных для *uState* параметр в `DrawFrameControl` в пакете Windows SDK. Используйте *nState* значение DFCS_ADJUSTRECT корректировать ограничивающий прямоугольник, исключаемый окружающей края кнопки.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

В некоторых случаях *nState* зависит от *nType* параметра. Ниже показана связь между четыре *nType* значения и *nState*:

- DFC_BUTTON

    - DFCS_BUTTON3STATE три состояния кнопки

    - DFCS_BUTTONCHECK флажка

    - Кнопка DFCS_BUTTONPUSH Push-уведомлений

    - DFCS_BUTTONRADIO переключатель

    - Изображение DFCS_BUTTONRADIOIMAGE для переключателя (неквадратными требуется образ)

    - Маска DFCS_BUTTONRADIOMASK для переключателя (неквадратными должен mask)

- DFC_CAPTION

    - Кнопка "Закрыть DFCS_CAPTIONCLOSE"

    - Кнопка справки DFCS_CAPTIONHELP

    - Кнопка максимизации DFCS_CAPTIONMAX

    - Свести к минимуму DFCS_CAPTIONMIN кнопки

    - Кнопка восстановления DFCS_CAPTIONRESTORE

- DFC_MENU

    - Стрелку вложенного меню DFCS_MENUARROW

    - DFCS_MENUBULLET маркера

    - DFCS_MENUCHECK галочка

- DFC_SCROLL

    - Полоса прокрутки поле со списком DFCS_SCROLLCOMBOBOX

    - DFCS_SCROLLDOWN вниз стрелки полосы прокрутки

    - Стрелка влево DFCS_SCROLLLEFT полосы прокрутки

    - Стрелка вправо DFCS_SCROLLRIGHT полосы прокрутки

    - Захвата для изменения размера DFCS_SCROLLSIZEGRIP в правом верхнем углу окна

    - DFCS_SCROLLUP со стрелкой вверх для полосы прокрутки

### <a name="example"></a>Пример

Этот код рисует границу размера в правом верхнем углу окна. Это требуется для `OnPaint` обработчика в диалоговом окне, который не стили и обычно не содержит другие элементы управления (например, строку состояния), которые могут помочь его размер захвата.

[!code-cpp[NVC_MFCDocView#34](../../mfc/codesnippet/cpp/cdc-class_6.cpp)]

##  <a name="drawicon"></a>  CDC::DrawIcon

Рисует значка на устройстве, представленный текущим `CDC` объекта.

```
BOOL DrawIcon(
    int x,
    int y,
    HICON hIcon);

BOOL DrawIcon(
    POINT point,
    HICON hIcon);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x верхнего левого угла значка.

*y*<br/>
Указывает логическую координату y верхнего левого угла значка.

*hIcon*<br/>
Определяет дескриптор значка для отрисовки.

*point*<br/>
Указывает логический x и y координаты верхнего левого угла значка. Вы можете передать [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция успешно завершена; в противном случае 0.

### <a name="remarks"></a>Примечания

Функция размещает значок в левом верхнем углу в расположении, заданном параметром *x* и *y*. Расположение подчиняется текущий режим сопоставления контекста устройства.

Ресурс значка должны были ранее загружены с помощью функций `CWinApp::LoadIcon`, `CWinApp::LoadStandardIcon`, или `CWinApp::LoadOEMIcon`. `MM_TEXT` Перед использованием этой функции необходимо выбрать режим сопоставления.

### <a name="example"></a>Пример

  См. в примере [CWnd::IsIconic](../../mfc/reference/cwnd-class.md#isiconic).

##  <a name="drawstate"></a>  CDC::DrawState

Вызовите для отображения изображения и применения визуальный эффект, чтобы указать на состоянии, например отключенного или состояние по умолчанию эта функция-член.

> [!NOTE]
>  Для всех *снять пометку со* состояния, за исключением DSS_NORMAL, изображение преобразуется в монохромный перед визуальный эффект применяется.

```
BOOL DrawState(
    CPoint pt,
    CSize size,
    HBITMAP hBitmap,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    CBitmap* pBitmap,
    UINT nFlags,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    HICON hIcon,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    HICON hIcon,
    UINT nFlags,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    LPCTSTR lpszText,
    UINT nFlags,
    BOOL bPrefixText = TRUE,
    int nTextLen = 0,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    LPCTSTR lpszText,
    UINT nFlags,
    BOOL bPrefixText = TRUE,
    int nTextLen = 0,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    DRAWSTATEPROC lpDrawProc,
    LPARAM lData,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    DRAWSTATEPROC lpDrawProc,
    LPARAM lData,
    UINT nFlags,
    CBrush* pBrush = NULL);
```

### <a name="parameters"></a>Параметры

*pt*<br/>
Указывает расположение изображения.

*size*<br/>
Задает размер изображения.

*hBitmap*<br/>
Дескриптор к растровому изображению.

*nFlags*<br/>
Флаги, определяющие тип изображения и состояния. См. в разделе [DrawState](/windows/desktop/api/winuser/nf-winuser-drawstatea) в пакете Windows SDK для возможные *nFlags* типов и состояний.

*hBrush*<br/>
Дескриптор к кисти.

*pBitmap*<br/>
Указатель на объект CBitmap.

*pBrush*<br/>
Указатель на объект CBrush.

*hIcon*<br/>
Дескриптор для значка.

*lpszText*<br/>
Указатель на текст.

*bPrefixText*<br/>
Текст, который может содержать accelerator мнемонический символ. *LData* определяет адрес строки и *nTextLen* параметр указывает длину. Если *nTextLen* равно 0, строка считается нулевым байтом.

*nTextLen*<br/>
Размер текстовой строки, на который указывает *lpszText*. Если *nTextLen* равно 0, строка считается нулевым байтом.

*lpDrawProc*<br/>
Указатель на функцию обратного вызова, используемую для отрисовки изображения. Этот параметр является обязательным, если тип изображения в *nFlags* является DST_COMPLEX. Он является необязательным и может иметь значение NULL, если тип изображения DST_TEXT. Этот параметр учитывается для всех других типов изображений. Дополнительные сведения о функции обратного вызова, см. в разделе [DrawStateProc](/windows/desktop/api/winuser/nc-winuser-drawstateproc) функции в пакете Windows SDK.

*lData*<br/>
Указывает сведения об образе. Значение этого параметра зависит от типа изображения.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

##  <a name="drawtext"></a>  CDC::DrawText

Вызовите эту функцию-член для форматирования текста в данном прямоугольнике. Чтобы указать дополнительные параметры форматирования, используйте [CDC::DrawTextEx](#drawtextex).

```
virtual int DrawText(
    LPCTSTR lpszString,
    int nCount,
    LPRECT lpRect,
    UINT nFormat);

int DrawText(
    const CString& str,
    LPRECT lpRect,
    UINT nFormat);
```

### <a name="parameters"></a>Параметры

*lpszString*<br/>
Указывает на строку для отображения. Если *nCount* равно -1, строка должна быть нулем.

*nCount*<br/>
Указывает число символов в строке. Если *nCount* равно -1, затем *lpszString* предполагается, что длинный указатель на заканчивающуюся нулем строку и `DrawText` автоматически вычисляет количество символов.

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , содержащий прямоугольник (в логических координатах), в котором текст должен быть в формате.

*str*<br/>
Объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) , содержащий указанные символы для отрисовки.

*nFormat*<br/>
Указывает метод форматирования текста. Он может быть любое сочетание значений, описанных для *uFormat* параметр в [DrawText](/windows/desktop/api/winuser/nf-winuser-drawtext) в пакете Windows SDK. (объединить с помощью битового оператора или):

> [!NOTE]
>  Некоторые *uFormat* комбинация флагов может привести к переданной строки изменяемой. Использование DT_MODIFYSTRING с DT_END_ELLIPSIS или DT_PATH_ELLIPSIS может привести к строке, которой необходимо изменить, вызывает проверочное утверждение в `CString` переопределить. Значения DT_CALCRECT, DT_EXTERNALLEADING, DT_INTERNAL, DT_NOCLIP и DT_NOPREFIX не может использоваться со значением DT_TABSTOP.

### <a name="return-value"></a>Возвращаемое значение

Высота текста, если функция выполнена успешно.

### <a name="remarks"></a>Примечания

Он форматирует текст, вкладки в соответствующих полях, выравнивание текста к левой, правой, или центральной части заданного прямоугольника и разбивку текста на строки, которые помещаются в пределах заданного прямоугольника. Тип форматирования задается *nFormat*.

Эта функция-член использует выбранный шрифт, цвет текста и цвет фона контекста устройства для рисования текста. Если не используется формат DT_NOCLIP, `DrawText` отсекает текст, чтобы текст не отображается за пределами заданного прямоугольника. Все форматирование предполагается, что несколько строк, если не предоставляется в формате DT_SINGLELINE.

Если выбранный шрифт слишком велико для указанного прямоугольника `DrawText` функция-член не будет пытаться подставить меньшего размера.

Если указан флаг DT_CALCRECT прямоугольник, задаваемый параметром *lpRect* будут обновлены в соответствии с шириной и высотой, необходимых для отрисовки текста.

Если установлен флаг TA_UPDATECP выравнивание текста (см. в разделе [CDC::SetTextAlign](#settextalign)), `DrawText` будет отображать текст, начиная с текущей позиции, а не в левой части заданного прямоугольника. `DrawText` Не переносить текст, если установлен флаг TA_UPDATECP (то есть флаг DT_WORDBREAK не будет действовать).

Цвет текста может задаваться в [CDC::SetTextColor](#settextcolor).

##  <a name="drawtextex"></a>  CDC::DrawTextEx

Форматирование текста в данном прямоугольнике.

```
virtual int DrawTextEx(
    LPTSTR lpszString,
    int nCount,
    LPRECT lpRect,
    UINT nFormat,
    LPDRAWTEXTPARAMS lpDTParams);

int DrawTextEx(
    const CString& str,
    LPRECT lpRect,
    UINT nFormat,
    LPDRAWTEXTPARAMS lpDTParams);
```

### <a name="parameters"></a>Параметры

*lpszString*<br/>
Указывает на строку для отображения. Если *nCount* равно -1, строка должна быть нулевым байтом.

*nCount*<br/>
Указывает число символов в строке. Если *nCount* равно -1, затем *lpszString* предполагается, что длинный указатель на заканчивающуюся нулем строку и `DrawText` автоматически вычисляет количество символов.

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , содержащий прямоугольник (в логических координатах), в котором текст должен быть в формате.

*str*<br/>
Объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) , содержащий указанные символы для отрисовки.

*nFormat*<br/>
Указывает метод форматирования текста. Он может быть любое сочетание значений, описанных для *uFormat* параметр в [DrawText](/windows/desktop/api/winuser/nf-winuser-drawtext) в пакете Windows SDK. (Комбинировать с помощью побитового **или** оператор):

> [!NOTE]
>  Некоторые *uFormat* комбинация флагов может привести к переданной строки изменяемой. Использование DT_MODIFYSTRING с DT_END_ELLIPSIS или DT_PATH_ELLIPSIS может привести к строке, которой необходимо изменить, вызывает проверочное утверждение в `CString` переопределить. Значения DT_CALCRECT, DT_EXTERNALLEADING, DT_INTERNAL, DT_NOCLIP и DT_NOPREFIX не может использоваться со значением DT_TABSTOP.

*lpDTParams*<br/>
Указатель на [DRAWTEXTPARAMS](/windows/desktop/api/winuser/ns-winuser-tagdrawtextparams) структура, задающая дополнительного форматирования параметров. Этот параметр может иметь значение NULL.

### <a name="remarks"></a>Примечания

Он форматирует текст, вкладки в соответствующих полях, выравнивание текста к левой, правой, или центральной части заданного прямоугольника и разбивку текста на строки, которые помещаются в пределах заданного прямоугольника. Тип форматирования задается *nFormat* и *lpDTParams*. Дополнительные сведения см. в разделе [CDC::DrawText](#drawtext) и [DrawTextEx](/windows/desktop/api/winuser/nf-winuser-drawtextexa) в пакете Windows SDK.

Цвет текста может задаваться в [CDC::SetTextColor](#settextcolor).

##  <a name="ellipse"></a>  CDC::Ellipse

Рисование эллипса.

```
BOOL Ellipse(
    int x1,
    int y1,
    int x2,
    int y2);

BOOL Ellipse(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Указывает логическую координату x верхнего левого угла ограничивающего прямоугольника эллипса.

*y1*<br/>
Указывает логическую координату y верхнего левого угла ограничивающего прямоугольника эллипса.

*x2*<br/>
Указывает логическую координату x нижний правый угол эллипса ограничивающего прямоугольника.

*y2*<br/>
Указывает логическую координату y нижний правый угол эллипса ограничивающего прямоугольника.

*lpRect*<br/>
Указывает, что эллипс ограничивающего прямоугольника. Вы также можете передать [CRect](../../atl-mfc-shared/reference/crect-class.md) объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Центра эллипса является центр ограничивающий прямоугольник, определяемый *x1*, *y1*, *x2*, и *y2*, или  *lpRect*. Эллипс с текущим пером, и ее внутренней области заполняется текущая кисть.

Рисунок, нарисованными эта функция расширяет до, но не включает координаты вправо и вниз. Это означает, что высота рисунка *y2* - *y1* и ширину рисунка *x2* - *x1*.

Если ширина или высота прямоугольника, ограничивающего равно 0, не эллипс.

##  <a name="enddoc"></a>  CDC::EndDoc

Завершает задание на печать к работе с помощью вызова [StartDoc](#startdoc) функция-член.

```
int EndDoc();
```

### <a name="return-value"></a>Возвращаемое значение

Больше или равно 0, если функция выполнена успешно, или отрицательное значение, если произошла ошибка.

### <a name="remarks"></a>Примечания

Эта функция-член заменяет управляющей последовательности принтера ENDDOC и должен быть вызван сразу после завершения успешной печати задания.

Если приложение обнаруживает ошибку печати или отмененной операции печати, он не должны пытаться завершить операцию, либо при помощи `EndDoc` или [AbortDoc](#abortdoc). GDI автоматически завершает операцию, прежде чем возвращать значение ошибки.

Эта функция не должен использоваться внутри метафайлов.

### <a name="example"></a>Пример

  См. в примере [CDC::StartDoc](#startdoc).

##  <a name="endpage"></a>  CDC::EndPage

Информирует устройство о том, что приложение завершило запись на страницу.

```
int EndPage();
```

### <a name="return-value"></a>Возвращаемое значение

Больше или равно 0, если функция выполнена успешно, или отрицательное значение, если произошла ошибка.

### <a name="remarks"></a>Примечания

Эта функция-член обычно используется для направления драйвер устройства, чтобы перейти на новую страницу.

Эта функция-член заменяет управляющей последовательности принтера NEWFRAME. В отличие от NEWFRAME эта функция всегда вызывается после печати страницы.

### <a name="example"></a>Пример

  См. в примере [CDC::StartDoc](#startdoc).

##  <a name="endpath"></a>  CDC::EndPath

Закрывает путь квадратной скобки и выбирает путь, определенный в квадратных скобках в контексте устройства.

```
BOOL EndPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="example"></a>Пример

  См. в примере [CDC::BeginPath](#beginpath).

##  <a name="enumobjects"></a>  CDC::EnumObjects

Перечисляет перьев и кистей, доступных в контексте устройства.

```
int EnumObjects(
    int nObjectType,
    int (CALLBACK* lpfn)(
    LPVOID,
    LPARAM),
    LPARAM lpData);
```

### <a name="parameters"></a>Параметры

*nObjectType*<br/>
Указывает тип объекта. Он может иметь значения OBJ_BRUSH или OBJ_PEN.

*lpfn*<br/>
— Это экземпляр процедуры адрес функции обратного вызова, предоставляемую приложением. Ниже в разделе «Примечания».

*lpData*<br/>
Указывает на данные, предоставляемую приложением. Данные передаются в функции обратного вызова, а также сведения об объектах.

### <a name="return-value"></a>Возвращаемое значение

Указывает последнее значение, возвращенное [функцию обратного вызова](callback-functions-used-by-mfc.md#enum_objects). Его значение определяется пользователем.

### <a name="remarks"></a>Примечания

Для каждого объекта заданного типа функция обратного вызова, который передается называется данными для этого объекта. Система вызывает функцию обратного вызова, пока отсутствуют дополнительные объекты или функции обратного вызова возвращает значение 0.

Обратите внимание, что новые возможности Microsoft Visual C++ позволяют использовать обычной функции как функцию, передаваемый в `EnumObjects`. Адрес, передаваемый `EnumObjects` является указателем на функцию, экспортированную с **Экспорт** и с помощью языка Pascal, соглашение о вызовах. В приложениях защиты режиме у вас нет создайте эту функцию с помощью функции Windows MakeProcInstance или бесплатные функции после использования с функцией FreeProcInstance Windows.

Также у вас нет для экспорта имени функции в **ЭКСПОРТОВ** инструкции в файл определения модуля приложения. Вместо этого можно использовать **Экспорт** функции модификатор, как показано на

**int, экспорт обратного ВЫЗОВА** AFunction **(LPSTR**, **LPSTR);**

Чтобы указать компилятору выдавать запись правильного экспорта для экспорта по имени без присвоения псевдонимов. Это работает для большинства задач. Для некоторых особых случаях, например Экспорт функции по порядковому номеру или псевдонимов экспорта, необходимо по-прежнему использовать **ЭКСПОРТОВ** инструкции в файл определения модуля.

Для компиляции программы Microsoft Foundation, обычно используется /GA и параметры компилятора /GEs. /GW-параметр компилятора не используется с помощью библиотеки Microsoft Foundation classes. (Если вы используете функцию Windows `MakeProcInstance`, необходимо явно привести указатель возвращаемой из FARPROC тип, необходимый в этот API.) Интерфейсы регистрации обратного вызова теперь являются строго типизированными (вы должны передавать в указатель на функцию, который указывает на правильный тип функции для конкретного обратного вызова).

Обратите внимание на то, что все функции обратного вызова должен перехват исключений Microsoft Foundation перед возвратом к Windows, так как исключения не может вызываться через границы обратного вызова. Дополнительные сведения об исключениях см. в статье [исключения](../../mfc/exception-handling-in-mfc.md).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#35](../../mfc/codesnippet/cpp/cdc-class_7.cpp)]

##  <a name="escape"></a>  CDC::escape

Эта функция-член является практически устаревшим для программирования в среде Win32.

```
virtual int Escape(
    int nEscape,
    int nCount,
    LPCSTR lpszInData,
    LPVOID lpOutData);

int Escape(
    int nEscape,
    int nInputSize,
    LPCSTR lpszInputData,
    int nOutputSize,
    LPSTR lpszOutputData);
```

### <a name="parameters"></a>Параметры

*nEscape*<br/>
Указывает функцию escape для выполнения.

Полный список функций escape, см. в разделе [Escape](/windows/desktop/api/wingdi/nf-wingdi-escape) в пакете Windows SDK.

*nCount*<br/>
Указывает число байтов данных, на которые указывают *lpszInData*.

*lpszInData*<br/>
Указывает на структуру входные данные, необходимые для этого escape.

*lpOutData*<br/>
Указывает на структуру, представляющую собой для получения выходных данных из этой escape. *LpOutData* параметр имеет значение NULL, если данные не возвращаются.

*nInputSize*<br/>
Указывает число байтов данных, на которые указывают *lpszInputData* параметра.

*lpszInputData*<br/>
Указывает входной структуры, необходимые для указанной escape.

*nOutputSize*<br/>
Указывает число байтов данных, на которые указывают *lpszOutputData* параметра.

*lpszOutputData*<br/>
Указывает на структуру, в который поступают выходные данные из этой escape. Этот параметр должен иметь значение NULL, если данные не возвращаются.

### <a name="return-value"></a>Возвращаемое значение

Положительное значение возвращается в том случае, если функция выполнена успешно, за исключением escape QUERYESCSUPPORT, в котором проверяется только наличие реализации. При этом возвращается ноль, если прерывание не реализован. Если произошла ошибка, возвращается отрицательное значение. Ниже приведены распространенные ошибочные значения.

- SP_ERROR Общая ошибка.

- Не SP_OUTOFDISK недостаточно места на диске остается доступной для постановки в очередь, и нет места станет доступен.

- SP_OUTOFMEMORY не доступен достаточный объем памяти для буферизации.

- Пользователь SP_USERABORT завершено задание через диспетчер печати.

### <a name="remarks"></a>Примечания

Исходный принтера escape-последовательностей только QUERYESCSUPPORT поддерживается для приложений Win32. Все другие принтера escape-последовательности являются устаревшими и поддерживаются только в целях совместимости с 16-разрядных приложений.

Для программирования в среде Win32, `CDC` теперь предоставляет шесть функций-членов, заменяющие их соответствующие escape-символы принтера:

- [CDC::AbortDoc](#abortdoc)

- [CDC::EndDoc](#enddoc)

- [CDC::EndPage](#endpage)

- [CDC::SetAbortProc](#setabortproc)

- [CDC::StartDoc](#startdoc)

- [CDC::StartPage](#startpage)

Кроме того [CDC::GetDeviceCaps](#getdevicecaps) поддерживает индексы Win32, заменяющие другой принтера escape-символы. См. в разделе [GetDeviceCaps](/windows/desktop/api/wingdi/nf-wingdi-getdevicecaps) в пакете SDK для Windows, Дополнительные сведения.

Эта функция-член позволяет приложениям получать доступ к средства конкретного устройства, которые не доступны непосредственно через интерфейс GDI.

Используйте первой версии, если приложение использует предопределенные escape-знаки. Используйте второй версии, если приложение определяет значения закрытого escape. См. в разделе [ExtEscape](/windows/desktop/api/wingdi/nf-wingdi-extescape) в пакете SDK для Windows, Дополнительные сведения о новой версии.

##  <a name="excludecliprect"></a>  CDC::ExcludeClipRect

Создает новую область обрезки, состоящий из области обрезки минус заданного прямоугольника.

```
int ExcludeClipRect(
    int x1,
    int y1,
    int x2,
    int y2);

int ExcludeClipRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Указывает логическую координату x левого верхнего угла прямоугольника.

*y1*<br/>
Указывает логическую координату y верхнего левого угла прямоугольника.

*x2*<br/>
Указывает логическую координату x правого нижнего угла прямоугольника.

*y2*<br/>
Указывает логическую координату y правого нижнего угла прямоугольника.

*lpRect*<br/>
Указывает прямоугольник. Также может быть `CRect` объекта.

### <a name="return-value"></a>Возвращаемое значение

Указывает тип нового отсеченную область. Это может быть любой из следующих значений:

- COMPLEXREGION регион имеет перекрывающиеся границы.

- Ошибка регион не был создан.

- NULLREGION область пуста.

- SIMPLEREGION область не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Ширина прямоугольника, определяемого абсолютное значение *x2* - *x1*, не должна превышать 32 767 единиц. Это ограничение применяется к высота прямоугольника, а также.

##  <a name="excludeupdatergn"></a>  CDC::ExcludeUpdateRgn

Предотвращает рисование в недопустимое областях окна, исключив из области обрезки, связанный с регионом, обновленные в окне `CDC` объекта.

```
int ExcludeUpdateRgn(CWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
Указывает на объект окна, окно которого обновляется.

### <a name="return-value"></a>Возвращаемое значение

Тип исключенные области. Он может принимать любое из следующих значений:

- COMPLEXREGION регион имеет перекрывающиеся границы.

- Ошибка регион не был создан.

- NULLREGION область пуста.

- SIMPLEREGION область не имеет перекрывающихся границ.

##  <a name="extfloodfill"></a>  CDC::ExtFloodFill

Заполняет область поверхность отображения текущей кисти.

```
BOOL ExtFloodFill(
    int x,
    int y,
    COLORREF crColor,
    UINT nFillType);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x точки, где начинается заполнение.

*y*<br/>
Указывает логическую координату y точки, где начинается заполнение.

*crColor*<br/>
Задает цвет границы или области должен быть заполнен. Интерпретация *crColor* зависит от значения *nFillType*.

*nFillType*<br/>
Указывает тип заполнения Flood-атакам должна выполнять. Это должно быть одно из следующих значений:

- Связывает область заливки цветом, указанным по FLOODFILLBORDER *crColor*. Этот стиль идентичен заполнение, выполненных `FloodFill`.

- FLOODFILLSURFACE область заливки определяется цвет, определенный параметром *crColor*. Заполнение наружу продолжает во всех направлениях, до тех пор, пока встречается цвет. Этот стиль полезен для заполнения области с разноцветный границами.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0, если заполнение не удалось выполнить, если заданная точка имеет границу цветов, заданных *crColor* (если запрошена FLOODFILLBORDER), если заданная точка не является цвет, определенный параметром *crColor* (если запрошена FLOODFILLSURFACE), или если точка находится за пределами области отсечения.

### <a name="remarks"></a>Примечания

Эта функция-член обеспечивает большую гибкость, чем `FloodFill` так, как можно указать тип заливки в *nFillType*.

Если *nFillType* задается для FLOODFILLBORDER, считается полностью ограничивается цветов, заданных области *crColor*. Функция начинается в точке, определяемое *x* и *y* и заполняет во всех направлениях, чтобы цвет границ.

Если *nFillType* задается для FLOODFILLSURFACE, функция начинается в точке, определяемое *x* и *y* и продолжает во всех направлениях, заполняя все смежные области содержащий цветов, заданных *crColor*.

Только контексты устройств памяти и устройства, поддерживающие поддержка технологии отображения растровых `ExtFloodFill`. Дополнительные сведения см. в разделе [GetDeviceCaps](#getdevicecaps) функция-член.

##  <a name="exttextout"></a>  CDC::ExtTextOut

Вызов этой функции-члена для записи символьной строки в прямоугольной области, используя выбранный шрифт.

```
virtual BOOL ExtTextOut(
    int x,
    int y,
    UINT nOptions,
    LPCRECT lpRect,
    LPCTSTR lpszString,
    UINT nCount,
    LPINT lpDxWidths);

BOOL ExtTextOut(
    int x,
    int y,
    UINT nOptions,
    LPCRECT lpRect,
    const CString& str,
    LPINT lpDxWidths);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x ячейки символа для первого символа в указанной строке.

*y*<br/>
Указывает логическую координату y верхней ячейки символа для первого символа в указанной строке.

*nOptions*<br/>
Указывает тип прямоугольника. Этот параметр может быть один, оба или ни одного из следующих значений:

- ETO_CLIPPED указывает, что текст обрезается в прямоугольник.

- ETO_OPAQUE указывает, что текущий цвет фона заполняет прямоугольник. (Вы можете задать и запрашивать текущий цвет фона с [SetBkColor](#setbkcolor) и [GetBkColor](#getbkcolor) функций-членов.)

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуру, которая указывает размеры прямоугольника. Этот параметр может иметь значение NULL. Вы также можете передать [CRect](../../atl-mfc-shared/reference/crect-class.md) объект для этого параметра.

*lpszString*<br/>
Указывает на строку указанный символ для отображения. Вы также можете передать [CString](../../atl-mfc-shared/reference/cstringt-class.md) объект для этого параметра.

*nCount*<br/>
Указывает количество знаков в строке.

*lpDxWidths*<br/>
Указывает массив значений, обозначающих расстояние между источники соседние ячейки. Например *lpDxWidths*[ *я*] логические устройства будет разделять источники знакоместа *я* и знакоместа *я* + 1. Если *lpDxWidths* имеет значение NULL, `ExtTextOut` использует по умолчанию промежуток между символами.

*str*<br/>
Объект `CString` , содержащий указанные символы для отрисовки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Прямоугольная область может быть непрозрачным (заполняется текущим цветом фона), и может быть области отсечения.

Если *nOptions* равно 0 и *lpRect* имеет значение NULL, функция записывает текст в контекст устройства без использования прямоугольной области. По умолчанию текущая позиция не используется и не обновляется функцией. Если приложению необходимо обновить текущую позицию в том случае, когда он вызывает `ExtTextOut`, приложение может вызвать `CDC` функция-член [SetTextAlign](#settextalign) с *nFlags* присвоено TA_UPDATECP. Если этот флаг установлен, Windows игнорирует *x* и *y* при последующих вызовах `ExtTextOut` и вместо этого использует текущую позицию. Когда приложение использует TA_UPDATECP для обновления текущей позиции, `ExtTextOut` задает текущую позицию в конец предыдущей строке текста или позицией, заданной параметром последнего элемента в массиве, на которые указывают *lpDxWidths*, какое значение больше.

##  <a name="fillpath"></a>  CDC::FillPath

Замыкает все незамкнутые фигуры в текущем пути и заполняет внутреннюю пути, используя текущий кисть и режима заполнения многоугольников.

```
BOOL FillPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

После заполнения ее внутренней области, путь удаляются из контекста устройства.

##  <a name="fillrect"></a>  CDC::FillRect

Вызовите эту функцию-член для заполнения данного прямоугольника с помощью указанной кисти.

```
void FillRect(
    LPCRECT lpRect,
    CBrush* pBrush);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуру, которая содержит логические координаты прямоугольника, который должен быть заполнен. Вы также можете передать [CRect](../../atl-mfc-shared/reference/crect-class.md) объект для этого параметра.

*pBrush*<br/>
Определяет кисть, которая используется для заполнения прямоугольника.

### <a name="remarks"></a>Примечания

Функция заполняет прямоугольник завершения, включая границы левом и верхнем, но не заполняет правая и нижняя границы.

Кисть, которая должна либо быть созданы с помощью [CBrush](../../mfc/reference/cbrush-class.md) функции-члены [CreateHatchBrush](../../mfc/reference/cbrush-class.md#createhatchbrush), [CreatePatternBrush](../../mfc/reference/cbrush-class.md#createpatternbrush), и [CreateSolidBrush](../../mfc/reference/cbrush-class.md#createsolidbrush), или полученных `GetStockObject` функции Windows.

При заполнении заданного прямоугольника, `FillRect` не включает правая и нижняя стороны прямоугольника. GDI заполняет прямоугольник до, но не включает столбец и нижней строки справа, независимо от текущего режима сопоставления. `FillRect` Сравнивает значения `top`, `bottom`, `left`, и `right` элементы заданного прямоугольника. Если `bottom` меньше или равно `top`, или если `right` меньше или равно `left`, прямоугольник не рисуется.

`FillRect` аналогичен [CDC::FillSolidRect](#fillsolidrect), однако `FillRect` принимает кисти и поэтому может использоваться для заполнения прямоугольника сплошным цветом, сглаженный цвет, заштрихованного кисти или шаблон. `FillSolidRect` использует только сплошные цвета (указанному параметром COLORREF). `FillRect` обычно выполняется медленнее, чем `FillSolidRect`.

##  <a name="fillrgn"></a>  CDC::FillRgn

Заполняет область, задаваемую *pRgn* кистью, определяемое *pBrush*.

```
BOOL FillRgn(
    CRgn* pRgn,
    CBrush* pBrush);
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Указатель на область для заполнения. Координаты для заданной области указываются в логических единицах.

*pBrush*<br/>
Определяет кисть для заполнения области.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Кисть, которая либо должны создаваться с помощью `CBrush` функции-члены `CreateHatchBrush`, `CreatePatternBrush`, `CreateSolidBrush`, или получить с `GetStockObject`.

### <a name="example"></a>Пример

  См. в примере [CRgn::CreateRoundRectRgn](../../mfc/reference/crgn-class.md#createroundrectrgn).

##  <a name="fillsolidrect"></a>  CDC::FillSolidRect

Вызовите эту функцию-член для заполнения заданного прямоугольника с указанным сплошным цветом.

```
void FillSolidRect(
    LPCRECT lpRect,
    COLORREF clr);

void FillSolidRect(
    int x,
    int y,
    int cx,
    int cy,
    COLORREF clr);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает ограничивающий прямоугольник (в логических единицах). Можно передать указатель на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуру данных или `CRect` объект для этого параметра.

*CLR* задает цвет, используемый для заполнения прямоугольника.

*x*<br/>
Указывает логическую координату x левого верхнего угла прямоугольника.

*y*<br/>
Указывает логическую координату y верхнего левого угла прямоугольника назначения.

*cx*<br/>
Задает ширину прямоугольника.

*CY*<br/>
Задает высоту прямоугольника.

### <a name="remarks"></a>Примечания

`FillSolidRect` очень похожа на [CDC::FillRect](#fillrect), однако `FillSolidRect` используются только сплошные цвета (указанному параметром COLORREF), при `FillRect` принимает кисти и поэтому может использоваться для заполнения прямоугольника сплошным цветом, сглаживания цвет, заштрихованного кисти или шаблон. `FillSolidRect` обычно выполняется быстрее, чем `FillRect`.

> [!NOTE]
>  При вызове `FillSolidRect`, цвет фона, который был ранее установлен с помощью [SetBkColor](#setbkcolor), задается цвет, обозначается *clr*.

##  <a name="flattenpath"></a>  CDC::FlattenPath

Преобразует любой кривых в пути, выбранного в текущий контекст устройства и преобразует каждую кривую в последовательность строк.

```
BOOL FlattenPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

##  <a name="floodfill"></a>  CDC::FloodFill

Заполняет область поверхность отображения текущей кисти.

```
BOOL FloodFill(
    int x,
    int y,
    COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x точки, где начинается заполнение.

*y*<br/>
Указывает логическую координату y точки, где начинается заполнение.

*crColor*<br/>
Задает цвет границы.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае возвращается значение 0 будет заполняться не может быть выполнена, данная точка имеет цветов границ, заданных *crColor*, или точка находится снаружи области отсечения.

### <a name="remarks"></a>Примечания

Области предполагается, что для заключаться как задан с *crColor*. `FloodFill` Функция начинается в точке, определяемое *x* и *y* и продолжает во всех направлениях, чтобы цвет границ.

Только контексты устройств памяти и устройства, поддерживающие поддержка технологии отображения растровых `FloodFill` функция-член. Сведения о возможностях RC_BITBLT см. в разделе `GetDeviceCaps` функция-член.

`ExtFloodFill` Функция предоставляет те же возможности, но большую гибкость.

##  <a name="framerect"></a>  CDC::FrameRect

Рисует границу вокруг прямоугольника, заданного параметром *lpRect*.

```
void FrameRect(
    LPCRECT lpRect,
    CBrush* pBrush);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , содержащий логические координаты верхнего левого и правого нижнего углов прямоугольника. Вы также можете передать `CRect` объект для этого параметра.

*pBrush*<br/>
Определяет кисть, которая должна использоваться для кадрирования прямоугольника.

### <a name="remarks"></a>Примечания

Функция использует заданный кисть для рисования границы. Ширина и Высота границы всегда — 1 Логическая единица.

Если прямоугольник `bottom` координат меньше или равно `top`, или если `right` меньше или равно `left`, не рисуется прямоугольник.

Границы, рисуемой элементом `FrameRect` находится в той же позиции, что границы, рисуемой элементом `Rectangle` функции члена, используя те же координаты (если `Rectangle` использует перо, шириной 1 логического устройства). Внутренняя часть прямоугольника заполняется не `FrameRect`.

##  <a name="framergn"></a>  CDC::FrameRgn

Рисует границу вокруг области, заданной параметром *pRgn* с помощью кисти, определяемое *pBrush*.

```
BOOL FrameRgn(
    CRgn* pRgn,
    CBrush* pBrush,
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Указывает на `CRgn` объект, который определяет область заключается в рамку. Координаты для заданной области указываются в логических единицах.

*pBrush*<br/>
Указывает на `CBrush` объект, который определяет кисть для рисования границы.

*nWidth*<br/>
Задает ширину границы в мазков кисти по вертикали в единицах устройства.

*nHeight*<br/>
Высота границы в мазков кисти по горизонтали в единицах устройства.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="example"></a>Пример

  См. в примере [CRgn::CombineRgn](../../mfc/reference/crgn-class.md#combinergn).

##  <a name="fromhandle"></a>  CDC::FromHandle

Возвращает указатель на `CDC` объект для заданного дескриптора контекста устройства.

```
static CDC* PASCAL FromHandle(HDC hDC);
```

### <a name="parameters"></a>Параметры

*hDC*<br/>
Содержит дескриптор контекста устройства Windows.

### <a name="return-value"></a>Возвращаемое значение

Указатель может быть временным и не должны храниться за пределами непосредственного использования.

### <a name="remarks"></a>Примечания

Если объект `CDC` не прикреплен к дескриптору, создается и прикрепляется временный объект `CDC`.

### <a name="example"></a>Пример

  См. в примере [CPrintDialog::GetPrinterDC](../../mfc/reference/cprintdialog-class.md#getprinterdc).

##  <a name="getarcdirection"></a>  CDC::GetArcDirection

Возвращает текущее направление дуги для контекста устройств.

```
int GetArcDirection() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указывает текущее направление дуги, при успешном выполнении. Ниже приведены допустимые возвращаемого значения.

- AD_COUNTERCLOCKWISE дуги и прямоугольники, нарисованные против часовой стрелки.

- AD_CLOCKWISE дуги и прямоугольники, нарисованные по часовой стрелке.

При возникновении ошибки, возвращаемое значение равно нулю.

### <a name="remarks"></a>Примечания

Функции дуги и прямоугольник используют направление дуги.

##  <a name="getaspectratiofilter"></a>  CDC::GetAspectRatioFilter

Получает параметр для текущего фильтра соотношение сторон.

```
CSize GetAspectRatioFilter() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект `CSize` объект, представляющий соотношение сторон, используемый с помощью текущего фильтра пропорции.

### <a name="remarks"></a>Примечания

Соотношение сторон — это отношение, образованный от устройства пикселях ширину и высоту. Сведения о пропорции устройства используется в создание, выбор и отображение шрифтов. Windows предоставляет специальный фильтр пропорция фильтр, для выбора шрифтов, разработанных для конкретного соотношение сторон из всех доступных шрифтов. В фильтре используется соотношение сторон, определяемое `SetMapperFlags` функция-член.

##  <a name="getbkcolor"></a>  CDC::GetBkColor

Возвращает текущий цвет фона.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение цвета RGB.

### <a name="remarks"></a>Примечания

Если в фоновом режиме является НЕПРОЗРАЧНЫМ, система использует цвет фона для заполнения пропусков в строки с примененным стилем, промежутки между заштрихованного линий в кисти и фон в знакоместа. Система также использует цвет фона, если преобразование растровых изображений между цветом и контексты устройств монохромный.

##  <a name="getbkmode"></a>  CDC::GetBkMode

Возвращает в фоновом режиме.

```
int GetBkMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущий режим фона, который может быть Выбор прозрачного или НЕПРОЗРАЧНОГО.

### <a name="remarks"></a>Примечания

В фоновом режиме определяет ли система удаляет существующие цвета фона на поверхности рисования перед рисованием текста, заштрихованного кисти или пера стилей, которые не сплошная линия.

##  <a name="getboundsrect"></a>  CDC::GetBoundsRect

Возвращает текущий накопленный ограничивающий прямоугольник для заданного контекста устройств.

```
UINT GetBoundsRect(
    LPRECT lpRectBounds,
    UINT flags);
```

### <a name="parameters"></a>Параметры

*lpRectBounds*<br/>
Указатель на буфер для получения текущего ограничивающего прямоугольника. Прямоугольник возвращается в логических координатах.

*flags*<br/>
Указывает, является ли ограничивающий прямоугольник для очистки после их извлечения. Этот параметр должен быть равен нулю или задайте следующее значение:

- DCB_RESET заставляет ограничивающий прямоугольник для очистки после их извлечения.

### <a name="return-value"></a>Возвращаемое значение

Указывает текущее состояние ограничивающего прямоугольника, если функция выполнена успешно. Это может быть сочетанием следующих значений:

- Происходит накопление DCB_ACCUMULATE ограничивающий прямоугольник.

- DCB_RESET ограничивающий прямоугольник пуст.

- DCB_SET ограничивающий прямоугольник не является пустым.

- Ограничивающий DCB_ENABLE накопления включен.

- Ограничивающий DCB_DISABLE накопления — off.

##  <a name="getbrushorg"></a>  CDC::GetBrushOrg

Извлекает источник кисти, выбранной в данный момент для контекста устройства (в единицах устройства).

```
CPoint GetBrushOrg() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущее исходное положение кисть (в единицах устройства) в качестве [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объекта.

### <a name="remarks"></a>Примечания

Источника начальной кисти — (0,0) клиентской области. Возвращаемое значение указывает эту точку в единицах устройства относительно начала координат окно рабочего стола.

##  <a name="getcharacterplacement"></a>  CDC::GetCharacterPlacement

Извлекает различные виды информации на строку символов.

```
DWORD GetCharacterPlacement(
    LPCTSTR lpString,
    int nCount,
    int nMaxExtent,
    LPGCP_RESULTS lpResults,
    DWORD dwFlags) const;

DWORD GetCharacterPlacement(
    CString& str,
    int nMaxExtent,
    LPGCP_RESULTS lpResults,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>Параметры

*lpString*<br/>
Указатель на обрабатываемую строку символов.

*nCount*<br/>
Указывает длину строки. Для версии ANSI это число БАЙТОВ, и для функции Юникода — число СЛОВ. Дополнительные сведения см. в разделе [GetCharacterPlacement](/windows/desktop/api/wingdi/nf-wingdi-getcharacterplacementa).

*nMaxExtent*<br/>
Определяет максимальный масштаб (в логических единицах), в котором приводится строка. Символы, которые, при обработке бы за этот экстент, игнорируются. Вычисления для любого требуется упорядочения массивов глифов применяются только к включенным символам. Этот параметр используется только в том случае, если указано значение GCP_MAXEXTENT в *dwFlags* параметра. По мере обработки функцией входной строки, каждый символ и его экстент добавляются выходных данных, экстентов и другие массивы только в том случае, если суммарный экстент еще не превысил максимально. По достижении лимита обработка заканчивается.

*lpResults*<br/>
Указатель на [GCP_Results](/windows/desktop/api/wingdi/ns-wingdi-taggcp_resultsa) структуру, которая получает результаты функции.

*dwFlags*<br/>
Указывает способ обработки строки в требуемые массивы. Этот параметр может принимать одно или несколько значений, перечисленных в *dwFlags* раздел [GetCharacterPlacement](/windows/desktop/api/wingdi/nf-wingdi-getcharacterplacementa) раздела.

*str*<br/>
Указатель на [CString](../../atl-mfc-shared/reference/cstringt-class.md) для обработки.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполняется успешно, возвращает значение ширины и высоты строки в логических единицах.

Если функция выполняется неудачно, возвращается нулевое значение.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует работу функции [GetCharacterPlacement](/windows/desktop/api/wingdi/nf-wingdi-getcharacterplacementa), как описано в пакете Windows SDK.

##  <a name="getcharabcwidths"></a>  CDC::GetCharABCWidths

Получает ширину последовательных знаков в указанном диапазоне из текущего шрифта TrueType.

```
BOOL GetCharABCWidths(
    UINT nFirstChar,
    UINT nLastChar,
    LPABC lpabc) const;

BOOL GetCharABCWidths(
    UINT nFirstChar,
    UINT nLastChar,
    LPABCFLOAT lpABCF) const;
```

### <a name="parameters"></a>Параметры

*nFirstChar*<br/>
Указывает первый символ в диапазоне символов из текущего шрифта, для которого возвращаются ширины символов.

*nLastChar*<br/>
Указывает последний символ в диапазоне символов из текущего шрифта, для которого возвращаются ширины символов.

*lpabc*<br/>
Указывает на массив из [ABC](/windows/desktop/api/wingdi/ns-wingdi-_abc) структур, которые получают ширины символов, при возврате функции. Этот массив должен содержать по крайней мере столько `ABC` структуры, выступающие в диапазоне, определяемом присутствуют символы *nFirstChar* и *nLastChar* параметров.

*lpABCF*<br/>
Указывает буфер, предоставляемую приложением, с массивом [ABCFLOAT](/windows/desktop/api/wingdi/ns-wingdi-_abcfloat) структур для получения ширины символов, при возврате функции. Значения ширины, возвращенной этой функцией, в формате с плавающей запятой IEEE.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Значения ширины возвращаются в логических единицах. Эта функция выполняется успешно только с помощью шрифтов TrueType.

Средство программной прорисовки TrueType предоставляет интервал «ABC», выбрав определенный размер. «» Пробелами является расстояние, которое добавляется в текущее положение перед размещением глифа. Интервал «B» — ширину черного части глифа. Интервал «C» добавляется в текущее положение, с учетом символов пробела справа от глифа. Общее advanced ширины задается A + B + c.

Когда `GetCharABCWidths` функция-член возвращает отрицательное «A» или «C» ширины для символа, этот символ включает underhangs или выступать вниз.

Для преобразования значения ширины ABC в единицах измерения конструктора, приложение должно создать шрифта, высота которого (как указано в `lfHeight` членом [LOGFONT](/windows/desktop/api/wingdi/ns-wingdi-taglogfonta) структуры) не будет равно значению, хранящиеся в `ntmSizeEM` членом [ NEWTEXTMETRIC](/windows/desktop/api/wingdi/ns-wingdi-tagnewtextmetrica) структуры. (Значение `ntmSizeEM` член можно получить, вызвав [EnumFontFamilies](/windows/desktop/api/wingdi/nf-wingdi-enumfontfamiliesa) функции Windows.)

Ширина ABC символ по умолчанию используются для символов, которые находятся вне диапазона текущего выбранного шрифта.

Чтобы получить значения ширины символов, в не TrueType шрифты, приложения должны использовать [GetCharWidth](/windows/desktop/api/wingdi/nf-wingdi-getcharwidtha) функции Windows.

##  <a name="getcharabcwidthsi"></a>  CDC::GetCharABCWidthsI

Извлекает значения ширины, в логических единицах индексы последовательных глифов в указанном диапазоне из текущего шрифта TrueType.

```
BOOL GetCharABCWidthsI(
    UINT giFirst,
    UINT cgi,
    LPWORD pgi,
    LPABC lpabc) const;
```

### <a name="parameters"></a>Параметры

*giFirst*<br/>
Указывает первый индекс глифа в группе индексов последовательных глифов из текущего шрифта. Этот параметр используется только в том случае, если *pgi* параметр имеет значение NULL.

*CGI*<br/>
Указывает количество индексов глифов.

*PGI*<br/>
Указатель на массив, содержащий индексы глифов. Если значение равно NULL, *giFirst* используется параметр. *Cgi* параметр указывает число индексов глифов, которые в этом массиве.

*lpabc*<br/>
Указатель на массив [ABC](/windows/desktop/api/wingdi/ns-wingdi-_abc) структур, получение ширины символов. Этот массив должен содержать по крайней мере столько `ABC` структуры, выступающие существуют индексы глифов, определяемое *cgi* параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует работу функции [GetCharABCWidthsI](/windows/desktop/api/wingdi/nf-wingdi-getcharabcwidthsi), как описано в пакете Windows SDK.

##  <a name="getcharwidth"></a>  CDC::GetCharWidth

Получает значения ширины отдельных символов в группу последовательных символов из текущего шрифта, с помощью `m_hAttribDC`, контекст устройства ввода.

```
BOOL GetCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    LPINT lpBuffer) const;

BOOL GetCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    float* lpFloatBuffer) const;
```

### <a name="parameters"></a>Параметры

*nFirstChar*<br/>
Указывает первый символ в группу последовательных символов, с использованием текущего шрифта.

*nLastChar*<br/>
Указывает последний символ в группу последовательных символов, с использованием текущего шрифта.

*lpBuffer*<br/>
Указывает на буфер, который будет получать значения ширины для группы последовательных символов, с использованием текущего шрифта.

*lpFloatBuffer*<br/>
Указатель на буфер для получения значения ширины символа. Возвращаемого значения ширины находятся в формате с плавающей запятой IEEE 32-разрядной. (Значения ширины измеряются по базовой строкой символов).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Например если *nFirstChar* идентифицирует буквы «» и *nLastChar* идентифицирует буква «z», функция извлекает значения ширины всех символов нижнего регистра.

Функция сохраняет значения в буфере, на которые указывают *lpBuffer*. Этот буфер должен быть достаточным для хранения всех значений ширины. То есть должно существовать по крайней мере 26 операции в приведенном примере.

Если символ в группе последовательных символов не существует в определенном шрифте, ему будет присвоено значение ширины символа по умолчанию.

##  <a name="getcharwidthi"></a>  CDC::GetCharWidthI

Извлекает значения ширины, в логических координатах, индексов последовательных глифа в указанном диапазоне из текущего шрифта.

```
BOOL GetCharWidthI(
    UINT giFirst,
    UINT cgi,
    LPWORD pgi,
    LPINT lpBuffer) const;
```

### <a name="parameters"></a>Параметры

*giFirst*<br/>
Указывает первый индекс глифа в группе индексов последовательных глифов из текущего шрифта. Этот параметр используется только в том случае, если *pgi* параметр имеет значение NULL.

*CGI*<br/>
Указывает количество индексов глифов.

*PGI*<br/>
Указатель на массив, содержащий индексы глифов. Если значение равно NULL, *giFirst* используется параметр. *Cgi* параметр указывает число индексов глифов, которые в этом массиве.

*lpBuffer*<br/>
Указатель на буфер, получающий значения ширины.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует работу функции [GetCharWidthI](/windows/desktop/api/wingdi/nf-wingdi-getcharwidthi), как описано в пакете Windows SDK.

##  <a name="getclipbox"></a>  CDC::GetClipBox

Получает размеры tightest ограничивающий прямоугольник вокруг текущие границы обрезки.

```
virtual int GetClipBox(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) объект, который должен получить размеры прямоугольника.

### <a name="return-value"></a>Возвращаемое значение

Тип области отсечения. Это может быть любой из следующих значений:

- Область обрезки COMPLEXREGION имеет перекрывающиеся границы.

- Ошибка контекста устройства, не допускается.

- Область обрезки NULLREGION пуст.

- Область обрезки SIMPLEREGION не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Размеры, копируются в буфер, на которые указывают *lpRect*.

##  <a name="getcoloradjustment"></a>  CDC::GetColorAdjustment

Извлекает значение коррекции цвета для контекста устройств.

```
BOOL GetColorAdjustment(LPCOLORADJUSTMENT lpColorAdjust) const;
```

### <a name="parameters"></a>Параметры

*lpColorAdjust*<br/>
Указывает на [COLORADJUSTMENT](/windows/desktop/api/wingdi/ns-wingdi-tagcoloradjustment) структуру данных для получения значения цвета коррекции.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

##  <a name="getcurrentbitmap"></a>  CDC::GetCurrentBitmap

Возвращает указатель на выбранного в данный момент `CBitmap` объекта.

```
CBitmap* GetCurrentBitmap() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CBitmap` объект, если успешно; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Эта функция-член может возвращать временные объекты.

##  <a name="getcurrentbrush"></a>  CDC::GetCurrentBrush

Возвращает указатель на выбранного в данный момент `CBrush` объекта.

```
CBrush* GetCurrentBrush() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CBrush` объект, если успешно; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Эта функция-член может возвращать временные объекты.

##  <a name="getcurrentfont"></a>  CDC::GetCurrentFont

Возвращает указатель на выбранного в данный момент `CFont` объекта.

```
CFont* GetCurrentFont() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CFont` объект, если успешно; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Эта функция-член может возвращать временные объекты.

##  <a name="getcurrentpalette"></a>  CDC::GetCurrentPalette

Возвращает указатель на выбранного в данный момент `CPalette` объекта.

```
CPalette* GetCurrentPalette() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CPalette` объект, если успешно; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Эта функция-член может возвращать временные объекты.

##  <a name="getcurrentpen"></a>  CDC::GetCurrentPen

Возвращает указатель на выбранного в данный момент `CPen` объекта.

```
CPen* GetCurrentPen() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CPen` объект, если успешно; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Эта функция-член может возвращать временные объекты.

##  <a name="getcurrentposition"></a>  CDC::GetCurrentPosition

Извлекает текущее положение (в логических координатах).

```
CPoint GetCurrentPosition() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущей позиции как `CPoint` объекта.

### <a name="remarks"></a>Примечания

Можно задать текущее положение `MoveTo` функция-член.

##  <a name="getdcbrushcolor"></a>  CDC::GetDCBrushColor

Получает текущий цвет кисти.

```
COLORREF GetDCBrushColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Если функция выполняется успешно, возвращаемое значение не [COLORREF](/windows/desktop/gdi/colorref) значение для текущего цвета кисти.

Если функция завершается с ошибкой, возвращается CLR_INVALID.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует работу функции [GetDCBrushColor](/windows/desktop/api/wingdi/nf-wingdi-getdcbrushcolor), как описано в пакете Windows SDK.

##  <a name="getdcpencolor"></a>  CDC::GetDCPenColor

Получает текущий цвет пера.

```
COLORREF GetDCPenColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Если функция выполняется успешно, возвращаемое значение не [COLORREF](/windows/desktop/gdi/colorref) значение для текущего цвета пера.

Если функция завершается с ошибкой, возвращается CLR_INVALID.

### <a name="remarks"></a>Примечания

Эта функция-член использует функцию Win32 [GetDCPenColor](/windows/desktop/api/wingdi/nf-wingdi-getdcpencolor), как описано в пакете Windows SDK.

##  <a name="getdevicecaps"></a>  CDC::GetDeviceCaps

Извлекает самые разнообразные сведения об устройстве о устройства отображения.

```
int GetDeviceCaps(int nIndex) const;
```

### <a name="parameters"></a>Параметры

*nIndex*<br/>
Указывает тип возвращаемых сведений. См. в разделе [GetDeviceCaps](/windows/desktop/api/wingdi/nf-wingdi-getdevicecaps) в пакете Windows SDK для списка значений.

### <a name="return-value"></a>Возвращаемое значение

Значение запрашиваемые возможности, если функция выполнена успешно.

### <a name="example"></a>Пример

  См. в примере [CPrintDialog::GetDefaults](../../mfc/reference/cprintdialog-class.md#getdefaults).

##  <a name="getfontdata"></a>  CDC::GetFontData

Извлекает сведения о метрика шрифта из файла масштабируемый шрифт.

```
DWORD GetFontData(
    DWORD dwTable,
    DWORD dwOffset,
    LPVOID lpData,
    DWORD cbData) const;
```

### <a name="parameters"></a>Параметры

*dwTable*<br/>
Имя метрики таблицы должны быть возвращены. Этот параметр может быть одной из таблиц метрик см. в спецификации файлов шрифтов TrueType, опубликованном корпорацией Microsoft. Если этот параметр равен 0, эти сведения поступают с самого начала файла шрифта.

*dwOffset*<br/>
Задает смещение в начале таблице, с которого начинается извлечение сведения. Если этот параметр равен 0, эти сведения поступают с самого начала из таблицы, указанной в аргументе *dwTable* параметра. Если это значение равно, больше или равен размеру таблицы, `GetFontData` возвращает 0.

*lpData*<br/>
Указывает на буфер, который будет получать информацию о шрифте. Если это значение равно NULL, функция возвращает размер буфера, необходимый для данных шрифтов, указанные в *dwTable* параметра.

*cbData*<br/>
Задает длину в байтах, получаемых сведений. Если этот параметр равен 0, `GetFontData` возвращает размер данных, указанных в *dwTable* параметра.

### <a name="return-value"></a>Возвращаемое значение

Указывает число возвращаемых байтов в буфере, на которые указывают *lpData* Если функция выполнена успешно; в противном случае -1.

### <a name="remarks"></a>Примечания

Сведения для получения определяется путем указания смещения в файл шрифта и длина возвращаемых данных.

Приложение может использовать иногда `GetFontData` функция-член для сохранения является шрифтом TrueType с документом. Чтобы сделать это, приложение определяет ли шрифт может быть внедрен, а затем извлекает файл весь шрифт, указание 0 для *dwTable*, *dwOffset*, и *cbData* параметры.

Приложения могут определять, ли шрифт, их можно включить, установив `otmfsType` членом [OUTLINETEXTMETRIC](/windows/desktop/api/wingdi/ns-wingdi-_outlinetextmetrica) структуры. Если бит 1 `otmfsType` не установлен, внедрение не допускается для шрифта. Если бит 1 снят, можно внедрить шрифт. Если бит 2 имеет значение, внедрение доступен только для чтения.

Если приложение пытается использовать эту функцию для извлечения сведений о других шрифтов, `GetFontData` функция-член возвращает значение -1.

##  <a name="getfontlanguageinfo"></a>  CDC::GetFontLanguageInfo

Возвращает сведения о выбранный шрифт для отображения указанного контекста.

```
DWORD GetFontLanguageInfo() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение определяет характеристики выбранный шрифт. Полный список возможных значений, см. в разделе [GetFontLanguageInfo](/windows/desktop/api/wingdi/nf-wingdi-getfontlanguageinfo).

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует работу функции [GetFontLanguageInfo](/windows/desktop/api/wingdi/nf-wingdi-getfontlanguageinfo), как описано в пакете Windows SDK.

##  <a name="getglyphoutline"></a>  CDC::GetGlyphOutline

Извлекает структуры кривой или точечного рисунка для структуры символа, с использованием текущего шрифта.

```
DWORD GetGlyphOutline(
    UINT nChar,
    UINT nFormat,
    LPGLYPHMETRICS lpgm,
    DWORD cbBuffer,
    LPVOID lpBuffer,
    const MAT2* lpmat2) const;
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Определяет символ, для которого будет возвращаться сведения.

*nFormat*<br/>
Задает формат, в котором функция является для возврата сведений. Это может быть одно из следующих значений, или 0:

|Значение|Значение|
|-----------|-------------|
|GGO_BITMAP|Возвращает растровое изображение глифа. Если функция возвращает, буфера, *lpBuffer* содержит битовую карту 1 бит на пиксель, строки которого запуск по границам двойное слово соответственно.|
|GGO_NATIVE|Возвращает кривую, точек данных в собственном формате средство программной прорисовки, с помощью единицах устройства. Если это значение задано, какого-либо преобразования указывается в *lpmat2* учитывается.|

Если значение *nFormat* равно 0, функция заполняет [GLYPHMETRICS](/windows/desktop/api/wingdi/ns-wingdi-_glyphmetrics) структуры, но не возвращает данные по контуру глифа.

*lpgm*<br/>
Указывает на структуру GLYPHMETRICS, описывающий расположение глифа в знакоместа.

*cbbuffer —*<br/>
Указывает размер буфера, в котором эта функция копирует сведения о символе структуры. Если это значение равно 0 и *nFormat* параметр является GGO_BITMAP или GGO_NATIVE значения, функция возвращает необходимый размер буфера.

*lpBuffer*<br/>
Указывает на буфер, в который эта функция копирует сведения о символе структуры. Если *nFormat* GGO_NATIVE значение, указывающее, копируется в виде TTPOLYGONHEADER и TTPOLYCURVE структур. Если это значение равно NULL и *nFormat* значение GGO_BITMAP или GGO_NATIVE, функция возвращает необходимый размер буфера.

*lpmat2*<br/>
Указывает на [MAT2](/windows/desktop/api/wingdi/ns-wingdi-_mat2) структуру, содержащую матрицы преобразования для символа. Этот параметр не может иметь значение NULL, даже в том случае, если указано значение GGO_NATIVE для *nFormat*.

### <a name="return-value"></a>Возвращаемое значение

Размер в байтах буфера, требуемого для полученные сведения, если *cbbuffer —* равно 0 или *lpBuffer* имеет значение NULL. В противном случае — это положительное значение, если функция выполнена успешно, или значение -1, если возникает ошибка.

### <a name="remarks"></a>Примечания

Приложение можно вращать символы в формате точечного рисунка, извлекаемый путем задания матрицы 2 x 2 преобразования в структуре, на которые указывают *lpmat2*.

Контуру глифа возвращаются в виде ряда контуров. Каждый профиль определяется [TTPOLYGONHEADER](/windows/desktop/api/wingdi/ns-wingdi-tagttpolygonheader) и ее структуру, многие `TTPOLYCURVE` структуры, выступающие необходимы для его описания. Все точки возвращаются в виде [POINTFX](/windows/desktop/api/wingdi/ns-wingdi-tagpointfx) структуры и представляют абсолютное позиционирование, переход не относительный. Начальная точка заданного `pfxStart` членом [TTPOLYGONHEADER](/windows/desktop/api/wingdi/ns-wingdi-tagttpolygonheader) структуры представляет собой точку, с которого начинается контуры профиль. [TTPOLYCURVE](/windows/desktop/api/wingdi/ns-wingdi-tagttpolycurve) структуры, выполните может быть ломаной линии записей или записей сплайна. Записи ломаной линии представляют собой набор точек; линий, нарисованных между точками, описывающих контур символа. Сплайн записи представляют квадратичных кривых, используемые TrueType (то есть квадратичной b сплайны).

##  <a name="getgraphicsmode"></a>  CDC::GetGraphicsMode

Извлекает текущий режим графики для заданного контекста устройств.

```
int GetGraphicsMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает текущий режим графики в случае успешного выполнения. Список значений, которые может возвращать этот метод, см. в разделе [GetGraphicsMode](/windows/desktop/api/wingdi/nf-wingdi-getgraphicsmode).

Возвращает значение 0 в случае сбоя.

Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](https://msdn.microsoft.com/library/windows/desktop/ms679360).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [GetGraphicsMode](/windows/desktop/api/wingdi/nf-wingdi-getgraphicsmode).

##  <a name="gethalftonebrush"></a>  CDC::GetHalftoneBrush

Вызовите эту функцию-член для извлечения полутоновые кисти.

```
static CBrush* PASCAL GetHalftoneBrush();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CBrush` объекта, если успешно; в противном случае — NULL.

### <a name="remarks"></a>Примечания

Кисть полутоновые показано пикселей, в качестве альтернативы цвета переднего плана и фона для создания сглаженным шаблоном. Ниже приведен пример сглаженным шаблоном, созданным полутоновые кистью.

![Подробные сведения о штрихе сглаживающего пера](../../mfc/reference/media/vc318s1.gif "подробные сведения о штрихе сглаживающего пера")

##  <a name="getkerningpairs"></a>  CDC::GetKerningPairs

Извлекает символов, кернинг пар для шрифта, выбранного в заданном контексте устройства.

```
int GetKerningPairs(
    int nPairs,
    LPKERNINGPAIR lpkrnpair) const;
```

### <a name="parameters"></a>Параметры

*nPairs*<br/>
Указывает количество [KERNINGPAIR](/windows/desktop/api/wingdi/ns-wingdi-tagkerningpair) структуры, на которые указывают *lpkrnpair*. Функция не будет копировать дополнительные пары кернинга, чем указано в параметре *nPairs*.

*lpkrnpair*<br/>
Указывает на массив `KERNINGPAIR` структур, которые получают кернинг пар при возврате функции. Этот массив должен содержать по крайней мере столько структуры в соответствии с *nPairs*. Если этот параметр имеет значение NULL, функция возвращает общее число кернинг пар для шрифта.

### <a name="return-value"></a>Возвращаемое значение

Указывает количество кернинг пар извлечь или общее количество кернинг пар в шрифт, если функция выполнена успешно. Если функция завершается с ошибкой или нет такой пары кернинга для шрифта, возвращается нуль.

##  <a name="getlayout"></a>  CDC::GetLayout

Вызов этой функции-члена для определения макета текста и графики для контекста устройства, например принтер или метафайл.

```
DWORD GetLayout() const;
```

### <a name="return-value"></a>Возвращаемое значение

В случае успешного выполнения макета флагов для текущего контекста устройства. В противном случае GDI_ERROR. Сведения об ошибке, вызовите [GetLastError](https://msdn.microsoft.com/library/windows/desktop/ms679360). Список флагов, макет, см. в разделе [CDC::SetLayout](#setlayout).

### <a name="remarks"></a>Примечания

Макет по умолчанию, слева направо.

##  <a name="getmapmode"></a>  CDC::GetMapMode

Извлекает текущий режим сопоставления.

```
int GetMapMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Режим сопоставления.

### <a name="remarks"></a>Примечания

Описание режимов сопоставления, см. в разделе `SetMapMode` функция-член.

> [!NOTE]
>  При вызове метода [SetLayout](#setlayout) Изменение контроллера домена на макет справа налево, `SetLayout` автоматически изменяет режим сопоставления для MM_ISOTROPIC. Следовательно, любой последующий вызов `GetMapMode` вернет MM_ISOTROPIC.

##  <a name="getmiterlimit"></a>  CDC::GetMiterLimit

Возвращает ограничение по срезу для контекста устройств.

```
float GetMiterLimit() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Ограничение по срезу используется в том случае, когда Рисование геометрических линий, имеющих фацетное соединение.

##  <a name="getnearestcolor"></a>  CDC::GetNearestColor

Возвращает цвет сплошной заливки, наилучшим образом соответствующий указанным цветом логических.

```
COLORREF GetNearestColor(COLORREF crColor) const;
```

### <a name="parameters"></a>Параметры

*crColor*<br/>
Задает цвет для сравнения.

### <a name="return-value"></a>Возвращаемое значение

Значение цвета RGB (красный, зеленый, синий), определяющий сплошной цвет ближе всего к *crColor* значение, которое может представлять устройства.

### <a name="remarks"></a>Примечания

Заданное устройство должно быть могут представлять этот цвет.

##  <a name="getoutlinetextmetrics"></a>  CDC::GetOutlineTextMetrics

Извлекает сведения о метриках для шрифтов TrueType.

```
UINT GetOutlineTextMetrics(
    UINT cbData,
    LPOUTLINETEXTMETRIC lpotm) const;
```

### <a name="parameters"></a>Параметры

*lpotm*<br/>
Указывает на массив из [OUTLINETEXTMETRIC](/windows/desktop/api/wingdi/ns-wingdi-_outlinetextmetrica) структуры. Если этот параметр имеет значение NULL, функция возвращает размер буфера, требуемого для полученных данных метрик.

*cbData*<br/>
Размер в байтах буфера, в которую возвращаются сведения.

*lpotm*<br/>
Указывает на `OUTLINETEXTMETRIC` структуры. Если этот параметр имеет значение NULL, функция возвращает размер буфера, требуемого для метрик полученные сведения.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

[OUTLINETEXTMETRIC](/windows/desktop/api/wingdi/ns-wingdi-_outlinetextmetrica) структура содержит большинство сведений метрики шрифтов, предоставленных с форматом TrueType, включая [TEXTMETRIC](/windows/desktop/api/wingdi/ns-wingdi-tagtextmetrica) структуры. Последние четыре членами `OUTLINETEXTMETRIC` структуры являются указателями на строки. Приложения необходимо выделить пространство для этих строк, кроме места, необходимого для других элементов. Так как не ограничено налагаемых системы размеру строки, для выделения памяти проще получить требуемый размер, указав значение NULL для *lpotm* в первом вызове `GetOutlineTextMetrics` функции.

##  <a name="getoutputcharwidth"></a>  CDC::GetOutputCharWidth

Использует контекст устройства вывода `m_hDC`и извлекает значения ширины отдельных символов в группу последовательных символов из текущего шрифта.

```
BOOL GetOutputCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    LPINT lpBuffer) const;
```

### <a name="parameters"></a>Параметры

*nFirstChar*<br/>
Указывает первый символ в группу последовательных символов, с использованием текущего шрифта.

*nLastChar*<br/>
Указывает последний символ в группу последовательных символов, с использованием текущего шрифта.

*lpBuffer*<br/>
Указывает на буфер, который будет получать значения ширины для группы последовательных символов, с использованием текущего шрифта.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Например если *nFirstChar* идентифицирует буквы «» и *nLastChar* идентифицирует буква «z», функция извлекает значения ширины всех символов нижнего регистра.

Функция сохраняет значения в буфере, на которые указывают *lpBuffer*. Этот буфер должен быть достаточным для хранения всех значений ширины; то есть должно существовать по крайней мере 26 операции в приведенном примере.

Если символ в группе последовательных символов не существует в определенном шрифте, ему будет присвоено значение ширины символа по умолчанию.

##  <a name="getoutputtabbedtextextent"></a>  CDC::GetOutputTabbedTextExtent

Эта функция-член для вычисления ширины и высоты строки символов с помощью вызова [m_hDC](#m_hdc), контекст устройства вывода.

```
CSize GetOutputTabbedTextExtent(
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;

CSize GetOutputTabbedTextExtent(
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;
```

### <a name="parameters"></a>Параметры

*lpszString*<br/>
Указывает строку символов, который необходимо измерить. Вы также можете передать [CString](../../atl-mfc-shared/reference/cstringt-class.md) объект для этого параметра.

*nCount*<br/>
Указывает [длину строки](/windows/desktop/gdi/specifying-length-of-text-output-string) , на которые указывают *lpszString*.

*nTabPositions*<br/>
Указывает количество позиций табуляции в массиве, на которые указывают *lpnTabStopPositions*.

*lpnTabStopPositions*<br/>
Указывает массив целых чисел, содержащий позиции табуляции в логических единицах. Табуляции должны быть отсортированы по возрастанию; наименьшее значение x должен быть первым элементом в массиве. Обратная табуляция не допускаются.

*str*<br/>
Объект `CString` , содержащий указанные символы для измерения.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах) в [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Если строка содержит один или несколько знаков табуляции, ширина строки создается на основе позициями табуляции, определяемое *lpnTabStopPositions*. Функция использует текущий выбранный шрифт для вычисления размеры строки.

Текущей области обрезки не смещения, ширину и высоту, возвращенный `GetOutputTabbedTextExtent` функции.

Так как некоторые устройства не размещайте символов в регулярных ячейки массивов (то есть они Кернинг знаков), сумма экстентов символов в строке не может быть равным экстент строки.

Если *nTabPositions* равно 0 и *lpnTabStopPositions* имеет значение NULL, вкладки расширяются до восьми ширины среднее символов. Если *nTabPositions* -1, табуляции будут разделены на расстояние, определяемое первое значение в массив, в который *lpnTabStopPositions* точек. Если *lpnTabStopPositions* указывает на более чем одного значения, позицией табуляции задается для каждого значения в массиве, до числа, указанного *nTabPositions*.

##  <a name="getoutputtextextent"></a>  CDC::GetOutputTextExtent

Вызовите эту функцию-член использовать контекст устройства вывода [m_hDC](#m_hdc)и вычисления, ширину и высоту строки текста, с использованием текущего шрифта.

```
CSize GetOutputTextExtent(
    LPCTSTR lpszString,
    int nCount) const;

CSize GetOutputTextExtent(const CString& str) const;
```

### <a name="parameters"></a>Параметры

*lpszString*<br/>
Указывает строку символов. Вы также можете передать [CString](../../atl-mfc-shared/reference/cstringt-class.md) объект для этого параметра.

*nCount*<br/>
Указывает [длину строки](/windows/desktop/gdi/specifying-length-of-text-output-string) , на которые указывают *lpszString*.

*str*<br/>
Объект `CString` , содержащий указанные символы для измерения.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах) возвращаются в [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Текущей области обрезки не влияет на ширину и высоту, возвращенный `GetOutputTextExtent`.

Так как некоторые устройства не размещайте символов в регулярных ячейки массивов (то есть они выполняют кернинг), сумма экстентов символов в строке не может быть равным экстент строки.

##  <a name="getoutputtextmetrics"></a>  CDC::GetOutputTextMetrics

Извлекает метрики для текущего шрифта с помощью `m_hDC`, контекст устройства вывода.

```
BOOL GetOutputTextMetrics(LPTEXTMETRIC lpMetrics) const;
```

### <a name="parameters"></a>Параметры

*lpMetrics*<br/>
Указывает на [TEXTMETRIC](/windows/desktop/api/wingdi/ns-wingdi-tagtextmetrica) структуру, которая получает метрики.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

##  <a name="getpath"></a>  CDC::GetPath

Извлекает координаты, определение конечных точек, линий и кривых, найдено в пути, выбранного в контексте устройства контрольные точки.

```
int GetPath(
    LPPOINT lpPoints,
    LPBYTE lpTypes,
    int nCount) const;
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры данных или `CPoint` помещаются объекты, где конечные точки линии и кривой контрольные точки.

*lpTypes*<br/>
Указывается массив байтов, где будут размещаться типы вершин. Значения: одно из следующих:

- PT_MOVETO указывает, что на соответствующий момент *lpPoints* открывает перекрытия фигуру.

- PT_LINETO указывает, что на момент указанной выше точки и соответствующих *lpPoints* конечные точки линии.

- PT_BEZIERTO указывает, что на соответствующий момент *lpPoints* контрольной точки или конечной точки для Bzier кривой.

Типы PT_BEZIERTO всегда находятся в наборах из трех. Точка в пути, непосредственно перед их определяет отправной точкой для Bzier кривой. Первые два пункта PT_BEZIERTO являются точками управления, а третья точка PT_BEZIERTO является конечной точкой (если жестко).

   Тип PT_LINETO или PT_BEZIERTO могут объединяться с помощью следующего флага (с помощью побитового оператора **OR**) чтобы указать, что соответствующая точка является последней точкой в фигуре и что фигура должна быть закрыта:

- PT_CLOSEFIGURE указывает, что автоматически замкнутой после соответствующей строки или кривой. Фигура замыкается путем рисования линии из линий или кривых конечной точки к точке, соответствующее последней PT_MOVETO.

*nCount*<br/>
Указывает общее число [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры данных, которые могут быть помещены в *lpPoints* массива. Это значение должно быть таким же, как количество байтов, могут быть помещены в *lpTypes* массива.

### <a name="return-value"></a>Возвращаемое значение

Если *nCount* параметр имеет ненулевое значение, количество точек перечисления. Если *nCount* равно 0, общее число точек в контуре (и `GetPath` ничего не записывает в буферы). Если *nCount* не равно нулю и меньше, чем количество точек в пути, возвращаемое значение равно -1.

### <a name="remarks"></a>Примечания

Контекст устройства должен содержать замкнутого контура. Точки пути возвращаются в логических координатах. Точки хранятся в пути в координатах устройства, поэтому `GetPath` изменяет точки из координат устройства в логических координатах с помощью обратное значение текущего преобразования. `FlattenPath` Функция-член может быть вызван перед `GetPath`, чтобы преобразовать все кривые в пути в сегменты линии.

### <a name="example"></a>Пример

  См. в примере [CDC::BeginPath](#beginpath).

##  <a name="getpixel"></a>  CDC::GetPixel

Извлекает значение цвета RGB пикселей в точку, указанную *x* и *y*.

```
COLORREF GetPixel(
    int x,
    int y) const;

COLORREF GetPixel(POINT point) const;
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x точки, который необходимо проверить.

*y*<br/>
Указывает логическую координату y точки, который необходимо проверить.

*point*<br/>
Указывает логический и y координаты x точки, который необходимо проверить.

### <a name="return-value"></a>Возвращаемое значение

Для любой версии функции, RGB-значение цвета для цвета данная точка. Он имеет значение 1, если координаты не укажете точку в области отсечения.

### <a name="remarks"></a>Примечания

Точка должна находиться в области отсечения. Если точка не находится в области отсечения, функция не влияет и возвращает значение -1.

Не все устройства поддерживают функцию `GetPixel`. Дополнительные сведения см. в разделе возможность растровых RC_BITBLT под [GetDeviceCaps](#getdevicecaps) функция-член.

`GetPixel` Функция-член имеет две формы. Первая принимает два значения координат; Вторая принимает либо [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объекта.

##  <a name="getpolyfillmode"></a>  CDC::GetPolyFillMode

Извлекает текущий режим заполнения многоугольников.

```
int GetPolyFillMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Без заполнения многоугольников, АЛЬТЕРНАТИВНОГО или режим ЗАКРУЧИВАНИЕ, если функция выполнена успешно.

### <a name="remarks"></a>Примечания

См. в разделе `SetPolyFillMode` функция-член описание режимов заполнения многоугольников.

##  <a name="getrop2"></a>  CDC::GetROP2

Извлекает текущий режим рисования.

```
int GetROP2() const;
```

### <a name="return-value"></a>Возвращаемое значение

Режим рисования. Список значений режима рисования, см. в разделе `SetROP2` функция-член.

### <a name="remarks"></a>Примечания

Режим рисования указывает, как цвета пера и внутренней заливкой объектов объединяются с цветом уже на поверхность отображения.

##  <a name="getsafehdc"></a>  CDC::GetSafeHdc

Вызывайте эту функцию члена, чтобы получить [m_hDC](#m_hdc), контекст устройства вывода.

```
HDC GetSafeHdc() const;
```

### <a name="return-value"></a>Возвращаемое значение

Дескриптор контекста устройства.

### <a name="remarks"></a>Примечания

Эта функция-член также работает с пустыми указателями.

##  <a name="getstretchbltmode"></a>  CDC::GetStretchBltMode

Извлекает текущий режим растягивания растрового изображения.

```
int GetStretchBltMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение, указывающее текущий режим растягивания точечного рисунка — STRETCH_ANDSCANS STRETCH_DELETESCANS и STRETCH_ORSCANS — Если функция выполнена успешно.

### <a name="remarks"></a>Примечания

Определяет режим растягивания растрового изображения, как информация удаляется из точечные рисунки, являются растягивает или сжимает по `StretchBlt` функция-член.

Режимы STRETCH_ANDSCANS и STRETCH_ORSCANS обычно используются для сохранения точек переднего плана в монохромный точечных рисунков. Режим STRETCH_DELETESCANS обычно используется для сохранения цвет в цветных точечных рисунков.

##  <a name="gettabbedtextextent"></a>  CDC::GetTabbedTextExtent

Эта функция-член для вычисления ширины и высоты строки символов с помощью вызова [m_hAttribDC](#m_hattribdc), атрибут контекста устройства.

```
CSize GetTabbedTextExtent(
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;

CSize GetTabbedTextExtent(
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;
```

### <a name="parameters"></a>Параметры

*lpszString*<br/>
Указывает строку символов. Вы также можете передать [CString](../../atl-mfc-shared/reference/cstringt-class.md) объект для этого параметра.

*nCount*<br/>
Указывает [длину строки](/windows/desktop/gdi/specifying-length-of-text-output-string) , на которые указывают *lpszString*.

*nTabPositions*<br/>
Указывает количество позиций табуляции в массиве, на которые указывают *lpnTabStopPositions*.

*lpnTabStopPositions*<br/>
Указывает массив целых чисел, содержащий позиции табуляции в логических единицах. Табуляции должны быть отсортированы по возрастанию; наименьшее значение x должен быть первым элементом в массиве. Обратная табуляция не допускаются.

*str*<br/>
Объект `CString` , содержащий указанные символы для отрисовки.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах) в [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Если строка содержит один или несколько знаков табуляции, ширина строки создается на основе позициями табуляции, определяемое *lpnTabStopPositions*. Функция использует текущий выбранный шрифт для вычисления размеры строки.

Текущей области обрезки не смещения, ширину и высоту, возвращенный `GetTabbedTextExtent` функции.

Так как некоторые устройства не размещайте символов в регулярных ячейки массивов (то есть они Кернинг знаков), сумма экстентов символов в строке не может быть равным экстент строки.

Если *nTabPositions* равно 0 и *lpnTabStopPositions* имеет значение NULL, вкладки будут развернуты в восемь раз Средняя ширина символа. Если *nTabPositions* -1, табуляции будут разделены на расстояние, определяемое первое значение в массив, в который *lpnTabStopPositions* точек. Если *lpnTabStopPositions* указывает на более чем одного значения, позицией табуляции задается для каждого значения в массиве, до числа, указанного *nTabPositions*.

##  <a name="gettextalign"></a>  CDC::GetTextAlign

Извлекает состояние флагов выравнивание текста для контекста устройств.

```
UINT GetTextAlign() const;
```

### <a name="return-value"></a>Возвращаемое значение

Состояние флагов выравнивание текста. Возвращаемое значение равно одному или нескольким из следующих значений:

- Указывает TA_BASELINE выравнивание оси x, а базовый план выбранного шрифта в ограничивающем прямоугольнике.

- Указывает TA_BOTTOM выравнивание оси x и нижней границей ограничивающего прямоугольника.

- Указывает TA_CENTER выравнивание оси y и центр ограничивающего прямоугольника.

- Указывает TA_LEFT выравнивание оси y и левой стороны обрамляющего прямоугольника.

- TA_NOUPDATECP указывает, что текущая позиция не обновляется.

- Указывает TA_RIGHT выравнивание оси y и с правой стороны обрамляющего прямоугольника.

- Указывает TA_TOP выравнивание оси x и верхним краем ограничивающего прямоугольника.

- TA_UPDATECP указывает, что текущая позиция обновляется.

### <a name="remarks"></a>Примечания

Выравнивание текста флаги определяют, каким образом `TextOut` и `ExtTextOut` функции-члены выравнивания строки текста относительно начальной точки строки. Выравнивание текста флаги не обязательно одноразрядных флагов и может быть равен 0. Чтобы проверить правильность флаг установлен, приложение должно выполните следующие действия.

1. Битовый оператор или примените к флаг и его связанных флаги, сгруппированные следующим образом:

    - TA_LEFT TA_CENTER и TA_RIGHT

    - TA_BASELINE TA_BOTTOM и TA_TOP

    - TA_NOUPDATECP and TA_UPDATECP

1. Применить побитового- и оператор результат и возвращаемое значение `GetTextAlign`.

1. Проверка на равенство этого результата, и флаг.

##  <a name="gettextcharacterextra"></a>  CDC::GetTextCharacterExtra

Извлекает текущее значение объема intercharacter интервалы.

```
int GetTextCharacterExtra() const;
```

### <a name="return-value"></a>Возвращаемое значение

Величина интервала intercharacter.

### <a name="remarks"></a>Примечания

Каждый символ, включая символы разрыва, в том случае, когда записывает строку текста на контекст устройства GDI добавляет данный промежуток.

Число, определяющее intercharacter интервал по умолчанию равно 0.

##  <a name="gettextcolor"></a>  CDC::GetTextColor

Получает текущий цвет текста.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущий цвет текста как значение RGB.

### <a name="remarks"></a>Примечания

Цвет текста является цвет переднего плана знаков, выбранных с помощью функции-члены выходного текста GDI [TextOut](#textout), [ExtTextOut](#exttextout), и [TabbedTextOut](#tabbedtextout).

##  <a name="gettextextent"></a>  CDC::GetTextExtent

Вызов этой функции-члена для вычисления ширину и высоту строки текста, используя текущий шрифт для определения измерения.

```
CSize GetTextExtent(
    LPCTSTR lpszString,
    int nCount) const;

CSize GetTextExtent(const CString& str) const;
```

### <a name="parameters"></a>Параметры

*lpszString*<br/>
Указывает строку символов. Вы также можете передать [CString](../../atl-mfc-shared/reference/cstringt-class.md) объект для этого параметра.

*nCount*<br/>
Указывает количество знаков в строке.

*str*<br/>
Объект `CString` , содержащий указанные символы.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах) в [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Сведения извлекаются из [m_hAttribDC](#m_hattribdc), атрибут контекста устройства.

По умолчанию `GetTextExtent` предполагается, что текст, для которого он извлекает измерение имеет значение вдоль горизонтальной линии (то есть наклон — 0). При создании шрифта, указав наклон ненулевое значение, необходимо преобразовать угол текста явным образом, чтобы получить размеры строки.

Текущей области обрезки не влияет на ширину и высоту, возвращенный `GetTextExtent`.

Так как некоторые устройства не размещайте символов в регулярных ячейки массивов (то есть они выполняют кернинг), сумма экстентов символов в строке не может быть равным экстент строки.

##  <a name="gettextextentexpointi"></a>  CDC::GetTextExtentExPointI

Возвращает число символов в указанной строке, в который помещается в пределах указанного пространства и массив заполняется размер текста для каждого из этих символов.

```
BOOL GetTextExtentExPointI(
    LPWORD pgiIn,
    int cgi,
    int nMaxExtent,
    LPINT lpnFit,
    LPINT alpDx,
    LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*pgiIn*<br/>
Указатель на массив индексов глифов, для которых должны быть получены экстентов.

*CGI*<br/>
Указывает число глифов в массиве, на которые указывают *pgiIn*.

*nMaxExtent*<br/>
Указывает максимальную допустимую ширину, в логических единицах форматируемой строки.

*lpnFit*<br/>
Указатель на целое число, Получает число максимальное количество символов, соответствующие пространства согласно заданному значению *nMaxExtent*. Когда *lpnFit* имеет значение NULL, *nMaxExtent* учитывается.

*alpDx*<br/>
Указатель на массив целых чисел, получающий экстентов частичного глифа. Каждый элемент в массиве дает расстояние в логических единицах между началом массива индексов глифов и одно из глифы, помещается в место, определяемое *nMaxExtent*. Несмотря на то, что этот массив должен иметь по крайней мере столько же элементов, как индексы глифов, определяемое *cgi*, функция заполняет массив с экстентами, только для столько индексы глифов, как задаются *lpnFit*. Если *lpnDx* имеет значение NULL, функция не вычисляет ширину частичную строку.

*lpSize*<br/>
Указатель на [размер](/windows/desktop/api/windef/ns-windef-tagsize) структуры, который получает размеры глифа массив, в логических единицах. Это значение не может иметь значение NULL.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует работу функции [GetTextExtentExPointI](/windows/desktop/api/wingdi/nf-wingdi-gettextextentexpointi), как описано в пакете Windows SDK.

##  <a name="gettextextentpointi"></a>  CDC::GetTextExtentPointI

Получает ширину и высоту указанного массива индексов глифов.

```
BOOL GetTextExtentPointI(
    LPWORD pgiIn,
    int cgi,
    LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*pgiIn*<br/>
Указатель на массив индексов глифов, для которых должны быть получены экстентов.

*CGI*<br/>
Указывает число глифов в массиве, на которые указывают *pgiIn*.

*lpSize*<br/>
Указатель на [размер](/windows/desktop/api/windef/ns-windef-tagsize) структуры, который получает размеры глифа массив, в логических единицах. Это значение не может иметь значение NULL.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует работу функции [GetTextExtentPointI](/windows/desktop/api/wingdi/nf-wingdi-gettextextentpointi), как описано в пакете Windows SDK.

##  <a name="gettextface"></a>  CDC::GetTextFace

Вызовите эту функцию-член для копирования в буфер имя текущего шрифта.

```
int GetTextFace(
    int nCount,
    LPTSTR lpszFacename) const;

int GetTextFace(CString& rString) const;
```

### <a name="parameters"></a>Параметры

*nCount*<br/>
Указывает размер буфера (в байтах). Если имя длиннее, чем число байтов, указанным в этом параметре, оно усекается.

*lpszFacename*<br/>
Указатель на буфер для имени шрифта.

*rString*<br/>
Ссылку на [CString](../../atl-mfc-shared/reference/cstringt-class.md) объекта.

### <a name="return-value"></a>Возвращаемое значение

Число байтов, копируемых в буфер, не включая завершающий нуль-символ. 0 — в том случае, если произошла ошибка.

### <a name="remarks"></a>Примечания

Имя шрифта копируется в строку, завершающуюся символом null.

##  <a name="gettextmetrics"></a>  CDC::GetTextMetrics

Извлекает метрики для текущего шрифта, с помощью атрибутов контекста устройства.

```
BOOL GetTextMetrics(LPTEXTMETRIC lpMetrics) const;
```

### <a name="parameters"></a>Параметры

*lpMetrics*<br/>
Указывает на [TEXTMETRIC](/windows/desktop/api/wingdi/ns-wingdi-tagtextmetrica) структуру, которая получает метрики.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

##  <a name="getviewportext"></a>  CDC::GetViewportExt

Возвращает x - и y экстенты просмотра контекста устройства.

```
CSize GetViewportExt() const;
```

### <a name="return-value"></a>Возвращаемое значение

X - и y экстентов (в единицах устройства) как `CSize` объекта.

##  <a name="getviewportorg"></a>  CDC::GetViewportOrg

Извлекает x и y координаты начальной позиции окна просмотра, связанного с контекстом устройства.

```
CPoint GetViewportOrg() const;
```

### <a name="return-value"></a>Возвращаемое значение

Начала координат окна просмотра (в координатах устройства), как `CPoint` объект.

##  <a name="getwindow"></a>  CDC::GetWindow

Возвращает окно, связанное с контекста устройства отображения.

```
CWnd* GetWindow() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CWnd` объекта, если успешно; в противном случае — NULL.

### <a name="remarks"></a>Примечания

Это является дополнительной функцией. Например эта функция-член не может возвращать окна представления при печати или в режиме предварительного просмотра. Он всегда возвращает окно, связанное с выходными данными. Выходные данные функции, которые используют данный контроллер домена рисования в это окно.

##  <a name="getwindowext"></a>  CDC::GetWindowExt

Возвращает x - и y экстенты окно, связанное с контекст устройства.

```
CSize GetWindowExt() const;
```

### <a name="return-value"></a>Возвращаемое значение

X - и y экстентов (в логических единицах) как `CSize` объекта.

##  <a name="getwindoworg"></a>  CDC::GetWindowOrg

Извлекает x и y координаты начальной позиции окна, связанный с контекстом устройства.

```
CPoint GetWindowOrg() const;
```

### <a name="return-value"></a>Возвращаемое значение

Источник части окна (в логических координатах) как `CPoint` объекта.

##  <a name="getworldtransform"></a>  CDC::GetWorldTransform

Извлекает текущий абсолютном пространстве для преобразования место на страницах.

```
BOOL GetWorldTransform(XFORM& rXform) const;
```

### <a name="parameters"></a>Параметры

*rXform*<br/>
Ссылка на [XFORM](/windows/desktop/api/wingdi/ns-wingdi-tagxform) структуры, который получает текущий абсолютном пространстве для преобразования место на страницах.

### <a name="return-value"></a>Возвращаемое значение

В случае успеха, возвращает ненулевое значение.

Возвращает значение 0 в случае сбоя.

Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](https://msdn.microsoft.com/library/windows/desktop/ms679360).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [GetWorldTransform](/windows/desktop/api/wingdi/nf-wingdi-getworldtransform).

##  <a name="gradientfill"></a>  CDC::GradientFill

Вызовите эту функцию-член для заполнения прямоугольника и треугольника структур цветом, плавно выцветает с одной стороны до другой.

```
BOOL GradientFill(
    TRIVERTEX* pVertices,
    ULONG nVertices,
    void* pMesh,
    ULONG nMeshElements,
    DWORD dwMode);
```

### <a name="parameters"></a>Параметры

*pVertices*<br/>
Указатель на массив [TRIVERTEX](/windows/desktop/api/wingdi/ns-wingdi-_trivertex) структуры, что каждый из которых определяет вершины треугольника.

*nVertices*<br/>
Число вершин.

*pMesh*<br/>
Массив [GRADIENT_TRIANGLE](/windows/desktop/api/wingdi/ns-wingdi-_gradient_triangle) структур в режиме треугольника, или массив [GRADIENT_RECT](/windows/desktop/api/wingdi/ns-wingdi-_gradient_rect) структур в режиме прямоугольника.

*nMeshElements*<br/>
Количество элементов (треугольники или прямоугольники) в *pMesh*.

*dwMode*<br/>
Указывает режим градиентной заливки. Список возможных значений см. в разделе [GradientFill](/windows/desktop/api/wingdi/nf-wingdi-gradientfill) в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе `GradientFill` в пакете Windows SDK.

##  <a name="graystring"></a>  CDC::GrayString

Рисует недоступной (серый) текст в заданном расположении, запись текста в памяти растрового изображения, затемнение растрового изображения и затем скопировать растрового изображения на экран.

```
virtual BOOL GrayString(
    CBrush* pBrush,
    BOOL (CALLBACK* lpfnOutput)(
    HDC,
    LPARAM,
    int),
    LPARAM lpData,
    int nCount,
    int x,
    int y,
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*pBrush*<br/>
Определяет кисть, которая должна использоваться для затемнения (окраску в серый цвет).

*lpfnOutput*<br/>
Указывает экземпляр процедуры адрес функции обратного вызова, предоставляемую приложением, будет рисования строки. Дополнительные сведения см. в описании Windows `OutputFunc` [функцию обратного вызова](callback-functions-used-by-mfc.md#graystring). Если этот параметр имеет значение NULL, система использует Windows `TextOut` функции для рисования строки, и *lpData* предполагается, что длинный указатель на строку символов, для вывода.

*lpData*<br/>
Указывает дальний указатель на данные, передаваемые в функцию выходных данных. Если *lpfnOutput* имеет значение NULL, *lpData* должен быть длинный указатель на строку, чтобы ее выходные данные.

*nCount*<br/>
Указывает количество символов для вывода. Если этот параметр равен 0, `GrayString` вычисляет длину строки (предполагая, что *lpData* — это указатель на строку). Если *nCount* 1 и функции, указанной параметром *lpfnOutput* возвращает значение 0, изображение показано, но не заблокирована.

*x*<br/>
Указывает логическую координату x начальную позицию прямоугольник, ограничивающий строки.

*y*<br/>
Указывает логическую координату y начальную позицию прямоугольник, ограничивающий строки.

*nWidth*<br/>
Задает ширину (в логических единицах) прямоугольника, включающего строки. Если *nWidth* равно 0, `GrayString` вычисляет ширину области, при условии, что *lpData* — это указатель на строку.

*nHeight*<br/>
Высота прямоугольника, который включает строку (в логических единицах). Если *nHeight* равно 0, `GrayString` вычисляет высоту области, при условии, что *lpData* — это указатель на строку.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если строка выводится, или 0, если параметр `TextOut` функции или выходных данных, предоставляемую приложением вернула 0, или если недостаточно памяти для создания растрового изображения памяти для затемнение.

### <a name="remarks"></a>Примечания

Функция затемняет текст вне зависимости от выбранной кисти и фона. `GrayString` Функция-член использует выбранный шрифт. Перед использованием этой функции необходимо выбрать режим сопоставления режим MM_TEXT.

Приложения можно рисовать серым цветом (неактивна) строки на устройствах, поддерживающих сплошной серый цвет без вызова `GrayString` функция-член. Системный цвет COLOR_GRAYTEXT является системный сплошной серый цвет, используемый для рисования отключенного текста. Приложение может вызвать `GetSysColor` функции Windows для получения COLOR_GRAYTEXT значение цвета. Если цвет отличается от 0 (черный), приложение может вызвать `SetTextColor` функцию-член для установки цвета текста цвета и нарисуйте строку непосредственно. Если полученный цвет является черной, приложение должно вызвать `GrayString` для dim (серый) текст.

Если *lpfnOutput* имеет значение NULL, GDI использует Windows [TextOut](/windows/desktop/api/wingdi/nf-wingdi-textouta) функции, и *lpData* предполагается, что дальний указатель на символ, который требуется выходных данных. Если символы должны быть выведены не может быть обработан `TextOut` функции-члена (например, строка сохраняется как растровое изображение), то приложение должно предоставить свою собственную функцию выходных данных.

Обратите внимание на то, что все функции обратного вызова должен перехват исключений Microsoft Foundation перед возвратом к Windows, так как исключения не может вызываться через границы обратного вызова. Дополнительные сведения об исключениях см. в статье [исключения](../../mfc/exception-handling-in-mfc.md).

Функция обратного вызова передается `GrayString` необходимо использовать `__stdcall` соглашение о вызовах и должны быть экспортированы с `__declspec`.

Когда платформа находится в режиме предварительного просмотра, вызов `GrayString` функция-член, преобразуется в `TextOut` и функцией обратного вызова не вызывается.

##  <a name="himetrictodp"></a>  CDC::HIMETRICtoDP

Используйте эту функцию, при преобразовании размеры HIMETRIC OLE в пикселях.

```
void HIMETRICtoDP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*lpSize*<br/>
Указывает на [размер](/windows/desktop/api/windef/ns-windef-tagsize) структуры или [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Если используется режим сопоставления объекта контекста устройства MM_LOENGLISH, MM_HIENGLISH, MM_LOMETRIC или MM_HIMETRIC, преобразование основано на точках в физических дюйма. Если режим сопоставления является одним из других отличных от ограниченного режимов (например, режим MM_TEXT), преобразование основано на количестве пикселей на логический дюйм по оси.

##  <a name="himetrictolp"></a>  CDC::HIMETRICtoLP

Вызывайте эту функцию для преобразования в логических единицах HIMETRIC единиц.

```
void HIMETRICtoLP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*lpSize*<br/>
Указывает на [размер](/windows/desktop/api/windef/ns-windef-tagsize) структуры или [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Используйте эту функцию при получении размеры HIMETRIC из объекта OLE и хотите преобразовать их в режиме естественное сопоставление приложения.

Преобразование выполняется путем сначала преобразования единицах HIMETRIC в пикселях и преобразовав эти единицы в логические блоки, с помощью текущих единицах сопоставления контекста устройства. Обратите внимание на то, что экстенты окна и окна просмотра устройства будет влиять на результат.

##  <a name="intersectcliprect"></a>  CDC::IntersectClipRect

Создает новую область обрезки, являющаяся пересечение текущей области и прямоугольника, заданного параметром *x1*, *y1*, *x2*, и *y2*.

```
int IntersectClipRect(
    int x1,
    int y1,
    int x2,
    int y2);

int IntersectClipRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Указывает логическую координату x левого верхнего угла прямоугольника.

*y1*<br/>
Указывает логическую координату y верхнего левого угла прямоугольника.

*x2*<br/>
Указывает логическую координату x правого нижнего угла прямоугольника.

*y2*<br/>
Указывает логическую координату y правого нижнего угла прямоугольника.

*lpRect*<br/>
Указывает прямоугольник. Можно передать или `CRect` объект или указатель на `RECT` структуры для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Тип новой области обрезки. Он может принимать любое из следующих значений:

- Новый COMPLEXREGION отсеченную область имеет перекрывающиеся границы.

- Ошибка контекста устройства, не допускается.

- Новый NULLREGION отсеченную область пуста.

- Новый SIMPLEREGION отсеченную область не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

GDI отсекает все последующие выходные данные в соответствии с размерами новую границу. Ширина и высота не должна превышать 32 767.

##  <a name="invertrect"></a>  CDC::InvertRect

Инвертирует содержимое заданного прямоугольника.

```
void InvertRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `RECT` , содержащий логические координаты прямоугольника следует Инвертировать. Вы также можете передать `CRect` объект для этого параметра.

### <a name="remarks"></a>Примечания

Инверсия является логическим не операции и переворачивает биты каждого пикселя. На черно-белые экраны функция делает белый белый черным и черной пикселей. На цветов инверсии зависит от того, как цвета создаются для устройства отображения. Вызов `InvertRect` дважды с тем же прямоугольник восстанавливает отображение предыдущих цветов.

Если прямоугольник пуст, то ничего не рисуется.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#36](../../mfc/codesnippet/cpp/cdc-class_8.cpp)]

##  <a name="invertrgn"></a>  CDC::InvertRgn

Инвертирует цвета в области, заданной параметром *pRgn*.

```
BOOL InvertRgn(CRgn* pRgn);
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Определяет регион следует Инвертировать. Координаты области указываются в логических единицах.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

На черно-белые экраны функция делает белый белый черным и черной пикселей. На цветов инверсии зависит от того, как цвета создаются для устройства отображения.

##  <a name="isprinting"></a>  CDC::IsPrinting

Определяет, используется ли контекст устройства для печати.

```
BOOL IsPrinting() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение `CDC` принтер является объект контроллера домена; в противном случае — значение 0.

##  <a name="lineto"></a>  CDC::LineTo

Проводит линию из текущей позиции до, но не в том числе, точку, указанную *x* и *y* (или *точки*).

```
BOOL LineTo(
    int x,
    int y);

BOOL LineTo(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x конечной точки линии.

*y*<br/>
Указывает логическую координату y конечной точки линии.

*point*<br/>
Указывает конечную точку для строки. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если линия; в противном случае 0.

### <a name="remarks"></a>Примечания

Линия берет выбранного пера. Имеет значение текущей позиции *x*, *y* или *точки*.

### <a name="example"></a>Пример

  См. в примере [CRect::CenterPoint](../../atl-mfc-shared/reference/crect-class.md#centerpoint).

##  <a name="lptodp"></a>  CDC::LPtoDP

Преобразует логические устройства в единицы устройства.

```
void LPtoDP(
    LPPOINT lpPoints,
    int nCount = 1) const;

void LPtoDP(LPRECT lpRect) const;
void LPtoDP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает массив точек. Каждая точка в массиве является [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объекта.

*nCount*<br/>
Количество точек в массиве.

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) объекта. Этот параметр используется для сопоставления прямоугольник из логической единицы устройства распространенный случай.

*lpSize*<br/>
Указывает на [размер](/windows/desktop/api/windef/ns-windef-tagsize) структуры или [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта.

### <a name="remarks"></a>Примечания

Функция сопоставляет координаты каждой точки или измерения размера из GDI в системе логических координат в систему координат устройства. Преобразование зависит от текущего режима сопоставления и параметров источники и экстенты окна и окна просмотра устройства.

X и y координаты точек, 2-байтовые целые числа со знаком в диапазоне от-32 768 до 32 767. В случаях, когда режим сопоставления может привести значения, размер которых превышает эти пределы система приведет к присвоению значений от-32 768 до 32 767, соответственно.

##  <a name="lptohimetric"></a>  CDC::LPtoHIMETRIC

Вызывайте эту функцию для преобразования логических единицах в единицы HIMETRIC.

```
void LPtoHIMETRIC(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*lpSize*<br/>
Указывает на `SIZE` структуры или `CSize` объекта.

### <a name="remarks"></a>Примечания

Эта функция используется при предоставлении размеры HIMETRIC к OLE, преобразование из режима естественное сопоставление приложения. Обратите внимание на то, что экстенты окна и окна просмотра устройства будет влиять на результат.

Преобразование осуществляется путем преобразования логические устройства в пикселях с помощью текущих единицах сопоставления контекста устройства и затем преобразование эти единицы в единицах HIMETRIC.

##  <a name="m_hattribdc"></a>  CDC::m_hAttribDC

Контекст устройства атрибута для данного `CDC` объекта.

```
HDC m_hAttribDC;
```

### <a name="remarks"></a>Примечания

По умолчанию этот контекст устройства равен `m_hDC`. В общем случае `CDC` звонки GDI, запрашивающие сведения из контекста устройства направляются `m_hAttribDC`. См. в разделе [CDC](../../mfc/reference/cdc-class.md) описание дополнительную информацию об использование этих двух устройств контекста класса.

##  <a name="m_hdc"></a>  CDC::m_hDC

Контекст устройства выходные данные для этого `CDC` объекта.

```
HDC m_hDC;
```

### <a name="remarks"></a>Примечания

По умолчанию `m_hDC` равен `m_hAttribDC`, другого контекста устройства, перезаписанный `CDC`. В общем случае `CDC` GDI вызовы, которые создают выходные данные перейти к `m_hDC` контекста устройства. Вы можете инициализировать `m_hDC` и `m_hAttribDC` указывал на различных устройствах. См. в разделе [CDC](../../mfc/reference/cdc-class.md) описание дополнительную информацию об использование этих двух устройств контекста класса.

##  <a name="maskblt"></a>  CDC::MaskBlt

Объединяет данные о цвете для исходного и конечного точечных рисунков, с помощью заданной маске и выполнению растровую операцию.

```
BOOL MaskBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    CBitmap& maskBitmap,
    int xMask,
    int yMask,
    DWORD dwRop);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x левого верхнего угла прямоугольника назначения.

*y*<br/>
Указывает логическую координату y верхнего левого угла прямоугольника назначения.

*nWidth*<br/>
Ширина в логических единицах прямоугольник и исходный точечный рисунок назначения.

*nHeight*<br/>
Указывает высоту в логических единицах прямоугольник и исходный точечный рисунок назначения.

*pSrcDC*<br/>
Определяет контекст устройства, из которого копируются растрового изображения. Оно должно быть равно нулю, если *dwRop* параметр указывает растровая операция, в которой отсутствует источник.

*xSrc*<br/>
Указывает логическую координату x верхнего левого угла исходного растрового изображения.

*ySrc*<br/>
Указывает логическую координату y верхнего левого угла исходного растрового изображения.

*maskBitmap*<br/>
Идентифицирует маску растрового изображения, в сочетании с цветовом в контекст исходного устройства.

*xMask*<br/>
Задает смещение по горизонтали пикселей для битовой карты маски, определяемое *maskBitmap* параметра.

*yMask*<br/>
Задает смещение пикселей по вертикали для битовой карты маски, определяемое *maskBitmap* параметра.

*dwRop*<br/>
Указывает переднего плана и фона троичный коды растровых операций, которые функция использует для управления комбинации источника и назначения. Код операции растрового фона хранится в старшем байте старшее слово этого значения; Код операции растровых переднего плана хранится в младший байт старшее слово этого значения; младшее слово это значение игнорируется и должно быть равно нулю. Макрос MAKEROP4 создает такой комбинации переднего плана и фона коды растровых операций. См. в разделе "Примечания" Обсуждение переднего плана и фона в контексте этой функции. См. в разделе `BitBlt` функция-член список распространенные коды растровых операций.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Значение 1 в маске, определяемое *maskBitmap* указывает, что код операции растровых переднего плана, указанный в параметре *dwRop* должны применяться в этом расположении. Значение 0 в маске означает, что код операции растрового фона, указанный в параметре *dwRop* должны применяться в этом расположении. Если растровых операций требуется источник, прямоугольник маска должны включать в себя исходного прямоугольника. Если этого не произошло, функция завершится с ошибкой. Если растровых операций не требуется источник, прямоугольник маска должны включать в себя целевого прямоугольника. Если этого не произошло, функция завершится с ошибкой.

Если преобразование поворота и наклона действует для контекста исходного устройства, при вызове этой функцией, возникает ошибка. Однако допускается других типов преобразований.

Если форматов цвета источника, шаблон и точечные рисунки назначения не совпадают, эта функция преобразует шаблон или формат источника или оба параметра, в соответствии с форматом назначения. Если маска не монохромную битовую карту, возникает ошибка. При записи расширенного метафайла возникает ошибка (и функция возвращает значение 0), если контекст исходного устройства определяет контекст устройства расширенного метафайла. Не все устройства поддерживают `MaskBlt`. Приложение должно вызывать `GetDeviceCaps` чтобы определить, поддерживает ли устройство этой функции. Если точечный рисунок отсутствует маски, эта функция работает абсолютно идентично `BitBlt`, с помощью кода операции растровых переднего плана. Пиксель смещений в точечный рисунок маска сопоставляются точки (0,0) в битовой карте контекста исходного устройства. Это полезно для случаев, в которых Битовая маска содержит набор маски; приложения можно легко применить один из них в задачу маска перенос перемещая смещения пикселей и размеры прямоугольника отправляемые `MaskBlt`.

##  <a name="modifyworldtransform"></a>  CDC::ModifyWorldTransform

Изменяет мировое преобразование для контекста устройства, используя указанный режим.

```
BOOL ModifyWorldTransform(
    const XFORM& rXform,
    DWORD iMode);
```

### <a name="parameters"></a>Параметры

*rXform*<br/>
Ссылка на [XFORM](/windows/desktop/api/wingdi/ns-wingdi-tagxform) структура, используемая для изменения мировое преобразование для контекста устройства.

*iMode*<br/>
Указывает, как преобразование данных изменяет текущий мировое преобразование. Список значений, этот параметр может принимать, см. в разделе [ModifyWorldTransform](/windows/desktop/api/wingdi/nf-wingdi-modifyworldtransform).

### <a name="return-value"></a>Возвращаемое значение

В случае успеха, возвращает ненулевое значение.

Возвращает значение 0 в случае сбоя.

Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](https://msdn.microsoft.com/library/windows/desktop/ms679360).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [ModifyWorldTransform](/windows/desktop/api/wingdi/nf-wingdi-modifyworldtransform).

##  <a name="moveto"></a>  CDC::MoveTo

Перемещает текущую позицию в точку, указанную *x* и *y* (или *точки*).

```
CPoint MoveTo(
    int x,
    int y);

CPoint MoveTo(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x нового положения.

*y*<br/>
Указывает логическую координату y нового положения.

*point*<br/>
Задает новое положение. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

X-y координаты и предыдущей позиции как `CPoint` объекта.

### <a name="example"></a>Пример

  См. в примере [CRect::CenterPoint](../../atl-mfc-shared/reference/crect-class.md#centerpoint).

##  <a name="offsetcliprgn"></a>  CDC::OffsetClipRgn

Перемещает отсеченная область объекта контекста устройства, с заданными смещениями.

```
int OffsetClipRgn(
    int x,
    int y);

int OffsetClipRgn(SIZE size);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает число логических устройств требуется переместиться влево или вправо.

*y*<br/>
Указывает количество логических единиц для перемещения вверх или вниз.

*size*<br/>
Указывает величина смещения.

### <a name="return-value"></a>Возвращаемое значение

Тип новой области. Он может принимать любое из следующих значений:

- Область обрезки COMPLEXREGION имеет перекрывающиеся границы.

- Ошибка контекста устройства, не допускается.

- Область обрезки NULLREGION пуст.

- Область обрезки SIMPLEREGION не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Функция перемещает области *x* единиц по оси и *y* единиц по оси y.

##  <a name="offsetviewportorg"></a>  CDC::OffsetViewportOrg

Изменяет координаты окна просмотра начальной позиции относительно координат текущее исходное окно просмотра.

```
virtual CPoint OffsetViewportOrg(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*nWidth*<br/>
Указывает количество единиц устройства добавляемый координату x текущего источника.

*nHeight*<br/>
Указывает количество единиц устройства добавляемый координату по оси y текущего источника.

### <a name="return-value"></a>Возвращаемое значение

Источник предыдущего окна просмотра (в координатах устройства) как `CPoint` объекта.

##  <a name="offsetwindoworg"></a>  CDC::OffsetWindowOrg

Изменяет координаты начальной позиции окна относительно координат текущее исходное окно.

```
CPoint OffsetWindowOrg(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*nWidth*<br/>
Указывает число логических устройств, добавляемый координату x текущего источника.

*nHeight*<br/>
Указывает число логических устройств, добавляемый координату по оси y текущего источника.

### <a name="return-value"></a>Возвращаемое значение

Источник предыдущего окна (в логических координатах) как `CPoint` объекта.

##  <a name="operator_hdc"></a>  CDC::operator HDC

Этот оператор используется для получения дескриптора контекста устройства из `CDC` объекта.

```
operator HDC() const;
```

### <a name="return-value"></a>Возвращаемое значение

В случае успешного выполнения дескриптор объекта контекста устройства; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Дескриптор можно использовать для прямого вызова API-интерфейсов Windows.

##  <a name="paintrgn"></a>  CDC::PaintRgn

Заполняет область, задаваемую *pRgn* с помощью текущей кисти.

```
BOOL PaintRgn(CRgn* pRgn);
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Определяет регион должен быть заполнен. Координаты для заданной области указываются в логических единицах.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

##  <a name="patblt"></a>  CDC::PatBlt

На устройстве создается битовый шаблон.

```
BOOL PatBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    DWORD dwRop);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x верхнего левого угла прямоугольника, который принимает шаблон.

*y*<br/>
Указывает логическую координату y верхнего левого угла прямоугольника, который принимает шаблон.

*nWidth*<br/>
Ширина прямоугольника, который должен получить шаблон (в логических единицах).

*nHeight*<br/>
Высота прямоугольника, который должен получить шаблон (в логических единицах).

*dwRop*<br/>
Указывает код растровая операция. Коды растровых операций (ROPs) определяют, как GDI сочетает цвета в операциях вывода, которые включают текущая кисть, возможный исходный точечный рисунок и точечный рисунок назначения. Этот параметр может принимать одно из следующих значений:

- Шаблон PATCOPY копирует точечный рисунок назначения.

- PATINVERT объединяет точечный рисунок назначения с узором с помощью логического оператора XOR.

- DSTINVERT инвертирует точечный рисунок назначения.

- BLACKNESS включает весь вывод черным.

- WHITENESS включает весь вывод белым.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Шаблон представляет собой сочетание выбранной кисти и шаблон уже на устройстве. Код растровая операция, определяемый параметром *dwRop* определяет, как шаблоны могут объединяться. Растровые операции, перечисленные для этой функции являются ограниченный полной 256 коды троичный растровых операции. в частности нельзя использовать код растровая операция, который ссылается на источник.

Поддерживает не все контексты устройств `PatBlt` функции. Чтобы определить, поддерживает ли контекст устройства `PatBlt`, вызовите `GetDeviceCaps` член функции с индексом RASTERCAPS и проверяйте возвращаемое значение флага RC_BITBLT.

##  <a name="pie"></a>  CDC::Pie

Рисует сектор Клин путем рисования эллиптической дуги которого центре и две конечные точки соединены линиями.

```
BOOL Pie(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Pie(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*y1*<br/>
Задает координату по оси y верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*x2*<br/>
Задает координату по оси x правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*y2*<br/>
Задает координату по оси y правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*x3*<br/>
Задает координату x начальной точки дуги (в логических единицах). Эта точка не нужно находиться точно в дуги.

*Y3*<br/>
Задает координату по оси y начальной точки дуги (в логических единицах). Эта точка не нужно находиться точно в дуги.

*X4*<br/>
Задает координату по оси x конечной точки дуги (в логических единицах). Эта точка не нужно находиться точно в дуги.

*Y4*<br/>
Задает координату по оси y конечной точки дуги (в логических единицах). Эта точка не нужно находиться точно в дуги.

*lpRect*<br/>
Указывает ограничивающий прямоугольник. Можно передать или `CRect` объект или указатель на `RECT` структуры для этого параметра.

*ptStart*<br/>
Указывает начальную точку дуги. Эта точка не нужно находиться точно в дуги. Можно передать или [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объект для этого параметра.

*ptEnd*<br/>
Указывает конечную точку дуги. Эта точка не нужно находиться точно в дуги. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Центр дуги является центр ограничивающий прямоугольник, определяемый *x1*, *y1*, *x2*, и *y2* (или *lpRect* ). Начальная и конечная точки дуги задаются *x3*, *y3*, *x4*, и *y4* (или *ptStart*и *ptEnd*).

Дуги выбранного пера, перемещение в направлении против часовой стрелки. Две дополнительные строки, являются производными от каждой конечной точки в центр дуги. Области сектор заполняется текущая кисть. Если *x3* равно *x4* и *y3* равно *y4*, результат — эллипс одной строкой из центра эллипса в точку ( *x3*, *y3*) или ( *x4*, *y4*).

Рисунок, нарисованными эта функция расширяет до, но не включает координаты вправо и вниз. Это означает, что высота рисунка *y2* - *y1* и ширину рисунка *x2* - *x1*. Ширина и Высота ограничивающего прямоугольника должно быть больше, чем 2 единицы и меньше, чем 32 767 единицы.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#37](../../mfc/codesnippet/cpp/cdc-class_9.cpp)]

##  <a name="playmetafile"></a>  CDC::PlayMetaFile

Воспроизведение содержимого указанный метафайл в контексте устройства.

```
BOOL PlayMetaFile(HMETAFILE hMF);

BOOL PlayMetaFile(
    HENHMETAFILE hEnhMetaFile,
    LPCRECT lpBounds);
```

### <a name="parameters"></a>Параметры

*hMF*<br/>
Идентифицирует метафайла для воспроизведения.

*hEnhMetaFile*<br/>
Определяет расширенный метафайл.

*lpBounds*<br/>
Указывает на `RECT` структуры или `CRect` , содержащий координаты ограничивающего прямоугольника, используемого для отображения на рисунке. Координаты указываются в логических единицах.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Метафайл, можно воспроизводить любое количество раз.

Вторая версия `PlayMetaFile` отображает изображение, хранящихся в заданной расширенный формат метафайла. Если приложение вызывает вторую версию `PlayMetaFile`, Windows использует рамка картинки в заголовке расширенного метафайла для сопоставления рисунка на прямоугольник, на которые указывают *lpBounds* параметра. (Этот рисунок может быть обрезается или поворачивать, задав универсальное преобразование в устройстве вывода перед вызовом `PlayMetaFile`.) На рисунке включаются точки вдоль края прямоугольника. Изображение расширенного метафайла может обрезаться, определив области отсечения в устройстве вывода перед воспроизведением расширенного метафайла.

Если расширенный метафайл содержит необязательный палитры, приложение может достигать согласованные цвета, настроив цветовую палитру в устройстве вывода перед вызовом вторую версию `PlayMetaFile`. Получить необязательный палитры с помощью `GetEnhMetaFilePaletteEntries` функции Windows. Расширенный метафайл могут быть внедрены в только что созданный расширенного метафайла путем вызова второй версии `PlayMetaFile` и воспроизводить источник расширенного метафайла в контексте устройства для нового расширенный метафайл.

Состояния контекст устройства выходные данные сохраняются при помощи этой функции. Любой объект создан, но не удалена в расширенный метафайл удаляется при помощи этой функции. Чтобы остановить эту функцию, приложение может вызвать `CancelDC` функции Windows из другого потока, завершить операцию. В этом случае функция возвращает ноль.

##  <a name="plgblt"></a>  CDC::PlgBlt

Выполняет перемещение битов данных о цвете с указанный прямоугольник в контекст исходного устройства в заданном параллелограмме, в данном контексте.

```
BOOL PlgBlt(
    LPPOINT lpPoint,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nWidth,
    int nHeight,
    CBitmap& maskBitmap,
    int xMask,
    int yMask);
```

### <a name="parameters"></a>Параметры

*lpPoint*<br/>
Указывает массив тремя точками на место на логическом, определяющий три углы параллелограмма назначения. Первая точка в этот массив, правом верхнем углу, чтобы второй точки в этом массиве и левого нижнего угла в третью точку сопоставляется верхнем левом углу исходного прямоугольника. Правом нижнем углу исходного прямоугольника сопоставляется неявное четвертой точки в параллелограмм.

*pSrcDC*<br/>
Определяет контекст исходного устройства.

*xSrc*<br/>
Задает координату x, в логических единицах левого верхнего угла исходного прямоугольника.

*ySrc*<br/>
Задает координату по оси y, в логических единицах левого верхнего угла исходного прямоугольника.

*nWidth*<br/>
Задает ширину, в логических единицах исходного прямоугольника.

*nHeight*<br/>
Указывает высоту в логических единицах исходного прямоугольника.

*maskBitmap*<br/>
Определяет необязательный монохромный точечный рисунок, используемый для маскировки цвета исходного прямоугольника.

*xMask*<br/>
Указывает Координата по оси x верхнего левого угла монохромный растрового изображения.

*yMask*<br/>
Указывает Координата по оси y верхнего левого угла монохромный растрового изображения.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если дескриптор данного Битовая маска указывает на недопустимый монохромный точечный рисунок, функция использует этой битовой карты для маскировки биты данных о цвете из исходного прямоугольника.

Четвертый вершины параллелограмма (D) определяется, рассматривая первые три точки (A, B и C) векторами, а также вычислительных D = B + C - A.

Если существует Битовая маска, значение 1 в маске указывает, что цвет пикселя источника должны быть скопированы в место назначения. Значение 0 в маске указывает, что цвет пикселя назначения не могут быть изменены.

Если маска прямоугольника меньше исходного и конечного прямоугольника, функция реплицирует шаблона маски.

Масштабирование, перевод и отражения преобразования допускаются в контекст исходного устройства; Тем не менее поворота и наклона преобразования не завершает работу. Если маска не монохромную битовую карту, возникает ошибка. Режим растягивания для контекста устройства назначения используется, чтобы определить, как необходимо растянуть или сжать пиксели, если это необходимо. При записи расширенного метафайла, ошибка возникает, если контекст исходного устройства определяет контекст устройства расширенного метафайла.

Координаты назначения преобразуются в зависимости от контекста устройства назначения; исходные координаты преобразуются в зависимости от контекста исходного устройства. Если источник преобразования поворота и наклона, возвращается ошибка. Если прямоугольники источника и назначения не имеют одинаковый цветовой формат `PlgBlt` преобразует исходного прямоугольника в соответствии с целевого прямоугольника. Не все устройства поддерживают `PlgBlt`. Дополнительные сведения см. в описании возможности растровых RC_BITBLT в `CDC::GetDeviceCaps` функция-член.

Если контексты устройств источник и назначение представляют несовместимых устройств `PlgBlt` возвращает сообщение об ошибке.

##  <a name="polybezier"></a>  CDC::PolyBezier

Рисует один или несколько сплайны Bzier.

```
BOOL PolyBezier(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры данных, которые содержат конечные точки и контрольные точки из spline(s).

*nCount*<br/>
Указывает количество точек в *lpPoints* массива. Это значение должно быть одно более трех раз номер сплайнов для отрисовки, так как каждый сплайна Bzier требуется две контрольные точки и конечной точки и начальной сплайн необходима начальную точку.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция рисует кубические Безье Bzier, используя конечные точки и точки управления, указанные по *lpPoints* параметра. Первый сплайн рисуется с первой точки к четвертой точке, используя второй и третьей точек в качестве контрольных точек. Каждый последующий сплайна в последовательности необходимо ровно три точки: конечная точка предыдущего сплайн используется в качестве отправной точки, следующие две точки в последовательности — это точки управления и третий является конечной точкой.

Текущая позиция не используется и не обновляет `PolyBezier` функции. Рисунок остается незаполненным. Эта функция Рисование линий с помощью текущего пера.

##  <a name="polybezierto"></a>  CDC::PolyBezierTo

Рисует один или несколько сплайны Bzier.

```
BOOL PolyBezierTo(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) указывает структур данных, который содержит конечные точки и управления.

*nCount*<br/>
Указывает количество точек в *lpPoints* массива. Это значение должно быть три раза число сплайны для отрисовки, так как каждый Bzier сплайн требует двух контрольных точек и конечной точки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция рисует кубические Безье Bzier, используя контрольные точки, заданные *lpPoints* параметра. Первый сплайн извлекается из текущей позиции в третью точку, используя первые два пункта в качестве контрольных точек. Для каждого последующего сплайна функция необходимо ровно три точки и использует конечной точки предыдущей кривой в качестве отправной точки для следующего. `PolyBezierTo` перемещает текущую позицию в конечную точку последней Bzier сплайна. Рисунок остается незаполненным. Эта функция Рисование линий с помощью текущего пера.

### <a name="example"></a>Пример

  См. в примере [CDC::BeginPath](#beginpath).

##  <a name="polydraw"></a>  CDC::PolyDraw

Рисует набор линейных сегментов и сплайны Bzier.

```
BOOL PolyDraw(
    const POINT* lpPoints,
    const BYTE* lpTypes,
    int nCount);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры данных, содержащий конечные точки для каждого сегмента и конечные точки и контрольные точки для каждого Bzier сплайна.

*lpTypes*<br/>
Указывает на массив, указывающее, как каждая точка в *lpPoints* используется массив. Значения могут быть одно из следующих значений:

- PT_MOVETO указывает, что эта точка запускает перекрытия рис. Эта точка становится новой текущей позиции.

- PT_LINETO указывает, что строки будет отображаться с текущей позиции до этой точки, которая становится новой текущей позиции.

- PT_BEZIERTO указывает, что эта точка является контрольной точки или конечной точки для Bzier сплайна.

Типы PT_BEZIERTO всегда находятся в наборах из трех. Текущая позиция определяет начальную точку для Bzier сплайна. Первые два пункта PT_BEZIERTO являются точками управления, а третья точка PT_BEZIERTO является конечной точки. Конечная точка становится новой текущей позиции. Если не три последовательных точек PT_BEZIERTO, результаты ошибку.

   Тип PT_LINETO или PT_BEZIERTO могут сочетаться с следующую константу с помощью побитового оператора или закрывается, соответствующая точка является последней точкой фигуры и его:

- PT_CLOSEFIGURE указывает, что рисунок будет автоматически закрыто через PT_LINETO или выполняется PT_BEZIERTO типа для этой точки. Линия проводится с этого момента для самой последней PT_MOVETO или `MoveTo` точки.

   Этот флаг используется в сочетании с типом PT_LINETO для строки или с типом PT_BEZIERTO конечную точку для Bzier сплайн, с помощью побитовой операции **OR** оператор. Текущая позиция имеет значение конечной точки к заключительной строке.

*nCount*<br/>
Указывает общее количество точек в *lpPoints* массива, тип таким же, как число байтов в *lpTypes* массива.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция может использоваться для рисования перекрытия рисунки вместо последовательных вызовов `CDC::MoveTo`, `CDC::LineTo`, и `CDC::PolyBezierTo` функций-членов. Линии и сплайны рисуются с текущим пером, а данные не заполнены. Если имеется активный путь, начатую посредством вызова `CDC::BeginPath` функции-члена `PolyDraw` добавляет к нему. Точки, содержащиеся в *lpPoints* массива и в *lpTypes* ли каждая точка является частью `CDC::MoveTo`, `CDC::LineTo`, или `CDC::BezierTo` операции. Можно также закрыть фигур. Эта функция обновляет текущую позицию.

### <a name="example"></a>Пример

  См. в примере [CDC::BeginPath](#beginpath).

##  <a name="polygon"></a>  CDC::Polygon

Рисует многоугольник, состоящий из двух или более точек (вершины) и соединенными линиями, с помощью текущего пера.

```
BOOL Polygon(
    LPPOINT lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает массив точек, определяющих вершины многоугольника. Каждая точка в массиве является `POINT` структуры или `CPoint` объекта.

*nCount*<br/>
Указывает количество вершин в массиве.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Система закрывает многоугольника автоматически, при необходимости, нарисовав линию от последнее вершины, к первому.

Текущий режим заполнения многоугольника можно извлечь или задать с помощью `GetPolyFillMode` и `SetPolyFillMode` функций-членов.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#38](../../mfc/codesnippet/cpp/cdc-class_10.cpp)]

##  <a name="polyline"></a>  CDC::Polyline

Рисует набор сегментов линии, соединяющие точки, заданные *lpPoints*.

```
BOOL Polyline(
    LPPOINT lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из `POINT` структуры или `CPoint` объектов должен быть подключен.

*nCount*<br/>
Указывает количество точек в массиве. Это значение должно быть по крайней мере 2.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Строки являются производными от первой точки через последующие точки, с помощью текущего пера. В отличие от `LineTo` функции-члена `Polyline` функция не использует и не обновляет текущую позицию.

Дополнительные сведения см. в разделе [ломаной линии](/windows/desktop/api/wingdi/nf-wingdi-polyline) в пакете Windows SDK.

##  <a name="polylineto"></a>  CDC::PolylineTo

Рисует один или несколько прямых линий.

```
BOOL PolylineTo(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуры данных, которые содержит вершины строки.

*nCount*<br/>
Указывает количество точек в массиве.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Линия берет начало от текущей позиции первой точке, заданной по *lpPoints* параметра с помощью текущего пера. Для каждой дополнительной строки, функция выводит из конечной точки предыдущей линии Далее точку, указанную *lpPoints*. `PolylineTo` перемещает текущую позицию для конечной точки последней строки. Если сегменты линии, рисуемой элементом этой функции образуют замкнутую фигуру, рисунок остается незаполненным.

##  <a name="polypolygon"></a>  CDC::PolyPolygon

Создает два или более многоугольники, которые заполняются с помощью текущий режим заполнения многоугольников.

```
BOOL PolyPolygon(
    LPPOINT lpPoints,
    LPINT lpPolyCounts,
    int nCount);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из `POINT` структуры или `CPoint` объектов, определяющих вершины из многоугольников.

*lpPolyCounts*<br/>
Указывает на массив целых чисел, каждое из которых указывает количество точек в одном из многоугольников *lpPoints* массива.

*nCount*<br/>
Количество записей в *lpPolyCounts* массива. Это число определяет количество многоугольников для отображения. Это значение должно быть по крайней мере 2.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Многоугольников может быть несвязанными или перекрывающиеся.

Каждого многоугольника, указанный в вызове к `PolyPolygon` функции должны быть закрыты. В отличие от многоугольники, созданные `Polygon` функция-член, многоугольники, созданные `PolyPolygon` не закрывается автоматически.

Функция создает двух или нескольких многоугольников. Чтобы создать многоугольник, приложение должно использовать `Polygon` функция-член.

Текущий режим заполнения многоугольника можно извлечь или задать с помощью `GetPolyFillMode` и `SetPolyFillMode` функций-членов.

##  <a name="polypolyline"></a>  CDC::PolyPolyline

Выводит несколько рядов, соединенных отрезков.

```
BOOL PolyPolyline(
    const POINT* lpPoints,
    const DWORD* lpPolyPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает массив структур, содержащих вершины многоугольника. Ломаные линии задаются последовательно.

*lpPolyPoints*<br/>
Указывает на массив переменных, указав количество точек в *lpPoints* массива для соответствующего многоугольников. Каждая запись должна быть больше или равно 2.

*nCount*<br/>
Указывает общее число счетчиков в *lpPolyPoints* массива.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Сегменты линии рисуются с помощью текущего пера. Рисунки, образованное сегменты не заполнены. Текущая позиция не используется и не обновлены данной функцией.

##  <a name="ptvisible"></a>  CDC::PtVisible

Определяет, находится ли заданная точка в пределах области отсечения в контексте устройства.

```
virtual BOOL PtVisible(
    int x,
    int y) const;

BOOL PtVisible(POINT point) const;
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x точки.

*y*<br/>
Указывает логическую координату y точки.

*point*<br/>
Указывает точку, чтобы проверить в логических координатах. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если указанная точка находится в области отсечения; в противном случае 0.

##  <a name="queryabort"></a>  CDC::QueryAbort

Вызывает функцию прерывания, устанавливаемая [SetAbortProc](#setabortproc) функция-член для печати приложение и отправляет запросы ли печать должна быть завершена.

```
BOOL QueryAbort() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не равно нулю, если следует продолжить печати или прерывание процедуры не существует. Это 0, если задание печати должна быть завершена. Возвращаемое значение предоставляется функцию прерывания.

##  <a name="realizepalette"></a>  CDC::RealizePalette

Сопоставляет операций из текущей логической палитры в системной палитре.

```
UINT RealizePalette();
```

### <a name="return-value"></a>Возвращаемое значение

Указывает, сколько записей в логическую палитру были сопоставлены с различные записи в системной палитре. Представляет число записей, повторное сопоставление этой функции в соответствии с изменениями в системной палитре с момента последнего реализации логическую палитру.

### <a name="remarks"></a>Примечания

Логические цветовую палитру служит буфером между приложений, интенсивно цвет и системой, позволяя приложению использовать цвета отображается количество цветов, не конфликтуют с собственным или с помощью цвета, отображаемые в других окнах.

Если окно имеет фокус ввода и вызовы `RealizePalette`, Windows гарантирует, что в окне будут отображаться все запрошенного цвета, до максимального числа, доступным на экране одновременно. Windows также отображает цвета, не найден в палитре окна, сопоставляя их для доступных цветов.

Кроме того Windows соответствует цветов, запрашиваемые неактивных окнах, которые вызывают функцию максимально для доступных цветов. Это значительно уменьшает нежелательных изменений в цвета, отображаемые в неактивных окнах.

##  <a name="rectangle"></a>  CDC::Rectangle

Рисует прямоугольник, используя текущее перо.

```
BOOL Rectangle(
    int x1,
    int y1,
    int x2,
    int y2);

BOOL Rectangle(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла прямоугольника (в логических единицах).

*y1*<br/>
Задает координату по оси y верхнего левого угла прямоугольника (в логических единицах).

*x2*<br/>
Задает координату по оси x нижнего правого угла прямоугольника (в логических единицах).

*y2*<br/>
Задает координату по оси y правого нижнего угла прямоугольника (в логических единицах).

*lpRect*<br/>
Указывает прямоугольник в логических единицах. Можно передать или `CRect` объект или указатель на `RECT` структуры для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Внутренняя часть прямоугольника заполняется с помощью текущей кисти.

Прямоугольник расширяет до, но не включает координаты вправо и вниз. Это означает, что высота прямоугольника *y2* - *y1* и ширина прямоугольника равна *x2* - *x1*. Ширину и высоту прямоугольника должно быть больше, чем 2 единицы и меньше, чем 32 767 единицы.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#39](../../mfc/codesnippet/cpp/cdc-class_11.cpp)]

##  <a name="rectvisible"></a>  CDC::RectVisible

Определяет, находится ли любую часть заданного прямоугольника в области отсечения в контексте отображения.

```
virtual BOOL RectVisible(LPCRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `RECT` структуры или `CRect` , содержащий логические координаты заданного прямоугольника.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если любая часть заданного прямоугольника находится внутри области отсечения; в противном случае 0.

##  <a name="releaseattribdc"></a>  CDC::ReleaseAttribDC

Эта функция-член для задания вызовите `m_hAttribDC` значение NULL.

```
virtual void ReleaseAttribDC();
```

### <a name="remarks"></a>Примечания

Это не влечет `Detach` возникает. Только контекст устройства вывода присоединяется к `CDC` можно отсоединить объект и только она.

##  <a name="releaseoutputdc"></a>  CDC::ReleaseOutputDC

Эта функция-член для задания вызовите `m_hDC` элемент NULL.

```
virtual void ReleaseOutputDC();
```

### <a name="remarks"></a>Примечания

Эта функция-член не может вызываться при связывании контекст устройства вывода `CDC` объекта. Используйте `Detach` функция-член для отсоединения контекста устройства вывода.

##  <a name="resetdc"></a>  CDC::ResetDC

Вызовите эта функция-член обновить контекст устройства, перезаписанный `CDC` объекта.

```
BOOL ResetDC(const DEVMODE* lpDevMode);
```

### <a name="parameters"></a>Параметры

*lpDevMode*<br/>
Указатель на Windows `DEVMODE` структуры.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекст устройства изменяется с сведений, указанных в Windows `DEVMODE` структуры. Эта функция-член только сбрасывает атрибут контекста устройства.

Приложения обычно используется `ResetDC` функция-член окна во время обработки `WM_DEVMODECHANGE` сообщения. Эта функция-член также можно изменить ориентацию бумаги или лотков для бумаги во время печати документа.

Эта функция-член не позволяет изменить имя драйвера, имя устройства или порт вывода. Когда пользователь изменяет порт подключения или имя устройства, необходимо удалить исходный контекст устройства и создать новый контекст устройства новыми данными.

Перед вызовом этой функции-члена, необходимо убедиться, что все объекты (отличные от стандартных объектов), которые выбраны в контексте устройства были выбраны.

##  <a name="restoredc"></a>  CDC::RestoreDC

Восстанавливает контекст устройства до предыдущего состояния, идентифицируемый *nSavedDC*.

```
virtual BOOL RestoreDC(int nSavedDC);
```

### <a name="parameters"></a>Параметры

*nSavedDC*<br/>
Указывает контекст устройства для восстановления. Он может иметь значение, возвращенное предыдущим `SaveDC` вызов функции. Если *nSavedDC* равно -1, последней сохраненной восстанавливается контекста устройства.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если заданный контекст имело место; в противном случае 0.

### <a name="remarks"></a>Примечания

`RestoreDC` Восстанавливает контекст устройства посредством извлечения сведений о состоянии со стека, созданные предыдущими вызовами к `SaveDC` функция-член.

Стек может содержать сведения о состоянии для нескольких контексты устройств. Если контекст, указанный параметром *nSavedDC* не находится в верхней части стека, `RestoreDC` удаляет все сведения о состоянии между контексте устройства, заданном *nSavedDC* и в верхней части стека. Удаленные данные будут потеряны.

##  <a name="roundrect"></a>  CDC::RoundRect

Рисует прямоугольник со скругленными углами, с помощью текущего пера.

```
BOOL RoundRect(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3);

BOOL RoundRect(
    LPCRECT lpRect,
    POINT point);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла прямоугольника (в логических единицах).

*y1*<br/>
Задает координату по оси y верхнего левого угла прямоугольника (в логических единицах).

*x2*<br/>
Задает координату по оси x нижнего правого угла прямоугольника (в логических единицах).

*y2*<br/>
Задает координату по оси y правого нижнего угла прямоугольника (в логических единицах).

*x3*<br/>
Задает ширину эллипса, используемый для рисования прямоугольника с закругленными углами (в логических единицах).

*Y3*<br/>
Задает высоту эллипса, используемый для рисования прямоугольника с закругленными углами (в логических единицах).

*lpRect*<br/>
Указывает ограничивающий прямоугольник в логических единицах. Можно передать или `CRect` объект или указатель на `RECT` структуры для этого параметра.

*point*<br/>
Координата по оси x *точки* ширина эллипса для рисования прямоугольника с закругленными углами (в логических единицах). Координата по оси y *точки* высота эллипса для рисования прямоугольника с закругленными углами (в логических единицах). Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Внутренняя часть прямоугольника заполняется с помощью текущей кисти.

На рисунке, эта функция рисует расширяет до, но не включает координаты вправо и вниз. Это означает, что высота рисунка *y2* - *y1* и ширину рисунка *x2* - *x1*. Высота и Ширина ограничивающего прямоугольника должно быть больше, чем 2 единицы и меньше, чем 32 767 единицы.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#40](../../mfc/codesnippet/cpp/cdc-class_12.cpp)]

##  <a name="savedc"></a>  CDC::SaveDC

Сохраняет текущее состояние контекста устройства путем копирования сведений о состоянии (например, области отсечения, выбранных объектов и режим сопоставления) в стек контекста, поддерживаемых Windows.

```
virtual int SaveDC();
```

### <a name="return-value"></a>Возвращаемое значение

Целое число, определяющее контекст сохраненные устройства. 0 — в том случае, если произошла ошибка. Эта команда вернуть значение может использоваться для восстановления контекст устройства путем вызова `RestoreDC`.

### <a name="remarks"></a>Примечания

Контекст устройства, сохраненный позже можно было восстановить с помощью `RestoreDC`.

`SaveDC` можно использовать любое количество раз сохранить любое количество состояний контекста устройства.

##  <a name="scaleviewportext"></a>  CDC::ScaleViewportExt

Изменяет экстенты просмотра относительно текущих значений.

```
virtual CSize ScaleViewportExt(
    int xNum,
    int xDenom,
    int yNum,
    int yDenom);
```

### <a name="parameters"></a>Параметры

*xNum*<br/>
Определяет, на который умножается текущий x экстента.

*xDenom*<br/>
Указывает величина, на которое следует разделить результат умножения текущей x экстента по значению *xNum* параметра.

*yNum*<br/>
Определяет, на который умножается текущий y экстента.

*yDenom*<br/>
Указывает величина, на которое следует разделить результат умножения текущей y экстента по значению *yNum* параметра.

### <a name="return-value"></a>Возвращаемое значение

Экстенты предыдущего окна просмотра (в единицах устройства) как `CSize` объекта.

### <a name="remarks"></a>Примечания

Формулы написаны следующим образом:

`xNewVE = ( xOldVE * xNum ) / xDenom`

`yNewVE = ( yOldVE * yNum ) / yDenom`

Новых областей просмотра рассчитываются путем умножения заданного числитель текущего экстентов, а затем деления заданного знаменатель.

##  <a name="scalewindowext"></a>  CDC::ScaleWindowExt

Изменяет экстенты окна относительно текущих значений.

```
virtual CSize ScaleWindowExt(
    int xNum,
    int xDenom,
    int yNum,
    int yDenom);
```

### <a name="parameters"></a>Параметры

*xNum*<br/>
Определяет, на который умножается текущий x экстента.

*xDenom*<br/>
Указывает величина, на которое следует разделить результат умножения текущей x экстента по значению *xNum* параметра.

*yNum*<br/>
Определяет, на который умножается текущий y экстента.

*yDenom*<br/>
Указывает величина, на которое следует разделить результат умножения текущей y экстента по значению *yNum* параметра.

### <a name="return-value"></a>Возвращаемое значение

Экстенты предыдущего окна (в логических единицах) как `CSize` объекта.

### <a name="remarks"></a>Примечания

Формулы написаны следующим образом:

`xNewWE = ( xOldWE * xNum ) / xDenom`

`yNewWE = ( yOldWE * yNum ) / yDenom`

Новых областей окна рассчитываются путем умножения заданного числитель текущего экстентов, а затем деления заданного знаменатель.

##  <a name="scrolldc"></a>  CDC::ScrollDC

Прокручивает прямоугольник бит по горизонтали и вертикали.

```
BOOL ScrollDC(
    int dx,
    int dy,
    LPCRECT lpRectScroll,
    LPCRECT lpRectClip,
    CRgn* pRgnUpdate,
    LPRECT lpRectUpdate);
```

### <a name="parameters"></a>Параметры

*DX*<br/>
Указывает количество единиц прокрутки по горизонтали.

*dy*<br/>
Указывает количество единиц прокрутки по вертикали.

*lpRectScroll*<br/>
Указывает на `RECT` структуры или `CRect` , содержащий координаты прямоугольника прокрутки.

*lpRectClip*<br/>
Указывает на `RECT` структуры или `CRect` , содержащий координаты прямоугольника отсечения. Когда этот прямоугольник меньше, чем один, на которые указывают исходное *lpRectScroll*, прокрутка происходит только в прямоугольнике, меньшего размера.

*pRgnUpdate*<br/>
Определяет регион, обнаруженных во время прокрутки. `ScrollDC` Функции определяет эту область, а не обязательно прямоугольник.

*lpRectUpdate*<br/>
Указывает на `RECT` структуры или `CRect` объект, получающий координаты прямоугольник, ограничивающий область прокрутки обновления. Это наибольшее прямоугольной области, которая требуется перерисовка. В структуре или объекта, когда функция возвращает значения в клиентских координатах, независимо от режима сопоставления для контекста устройства.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если выполняется прокрутка; в противном случае 0.

### <a name="remarks"></a>Примечания

Если *lpRectUpdate* имеет значение NULL, Windows не вычисляет прямоугольника обновления. Если оба *pRgnUpdate* и *lpRectUpdate* имеют значение NULL, Windows не вычисляет области обновления. Если *pRgnUpdate* не равно NULL, Windows предполагает, что он содержит допустимый указатель на область, обнаруженных во время прокрутки (определяется `ScrollDC` функция-член). Область обновления, возвращаются в *lpRectUpdate* могут передаваться `CWnd::InvalidateRgn` при необходимости.

В приложении необходимо использовать `ScrollWindow` функция-член класса `CWnd` когда это необходимо выполнять прокрутку всей клиентской области окна. В противном случае следует использовать `ScrollDC`.

##  <a name="selectclippath"></a>  CDC::SelectClipPath

В качестве области отсечения для контекста устройств, объединяя в новый регион с любой существующей области обрезки, используя указанный режим выбирается по текущему пути.

```
BOOL SelectClipPath(int nMode);
```

### <a name="parameters"></a>Параметры

*nMode*<br/>
Указывает способ использования пути. Допускаются следующие значения:

- RGN_AND новый отсеченную область включает в себя пересечения (перекрывающихся областей) текущей области обрезки и по текущему пути.

- RGN_COPY новый вырезанной это текущий путь.

- RGN_DIFF новый отсеченную область включает области текущей области обрезки и их текущего пути, исключаются.

- RGN_OR новый отсеченную область включает в себя объединение (объединенный области) текущей области обрезки и по текущему пути.

- RGN_XOR новый отсеченную область включает в себя объединение текущей области обрезки и по текущему пути, но без перекрывающиеся области.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Определенный контекст устройства должен содержать замкнутого контура.

##  <a name="selectcliprgn"></a>  CDC::SelectClipRgn

Выбирает заданной области в качестве текущей области обрезки для контекста устройств.

```
int SelectClipRgn(CRgn* pRgn);

int SelectClipRgn(
    CRgn* pRgn,
    int nMode);
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Определяет регион для выбора.

- Для первой версии этой функции, если это значение равно NULL, выбирается всей клиентской области, и выходные данные по-прежнему обрезана в окно.

- Для второй версии этой функции этот дескриптор может иметь значение NULL только в том случае, если указан режим RGN_COPY.

*nMode*<br/>
Указывает операцию для выполнения. Это должен быть одно из следующих значений:

- RGN_AND сочетает в себе новые области отсечения пересекающиеся текущей области обрезки и области, определенной *pRgn*.

- RGN_COPY новый отсеченную область представляет собой копию области, определенной *pRgn*. Это функциональность идентична первой версии `SelectClipRgn`. Если регион, указанный параметром *pRgn* имеет значение NULL, новый отсеченную область становится отсеченную область по умолчанию (null регионе).

- RGN_DIFF сочетает в себе новые вырезанной области текущей области обрезки с этими областями, исключенные из области, определенной *pRgn*.

- Объединяет RGN_OR новый отсеченную область текущей области обрезки и области, определенной *pRgn*.

- Объединяет RGN_XOR новый отсеченную область текущей области обрезки и области, определенной *pRgn* , но исключает все перекрывающиеся области.

### <a name="return-value"></a>Возвращаемое значение

Тип области. Это может быть любой из следующих значений:

- Новый COMPLEXREGION отсеченную область имеет перекрывающиеся границы.

- Ошибка контекста устройства или регион не поддерживается.

- Новый NULLREGION отсеченную область пуста.

- Новый SIMPLEREGION отсеченную область не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Используется только копию выбранной области. Регион, сам может быть выбран для любое количество других контексты устройств или может быть удален.

Функция предполагает, что координаты для заданной области указаны в единицах устройства. Некоторые устройства принтера поддерживают вывод текста на более высоком разрешении чем графический вывод данных, чтобы сохранить точность, необходимые для метрики текстового выражения. Эти устройства отчет единицы устройства с высоким разрешением, то есть в единиц текста. Эти устройства затем масштабирование координаты для графики, таким образом, чтобы несколько передаваться только один элемент карты единицы устройства. Следует всегда вызывать `SelectClipRgn` функционировать с использованием единиц текста.

Приложения, которые должны выполнить масштабирование графических объектов в GDI позволяет управляющей последовательности принтера GETSCALINGFACTOR определить коэффициент масштабирования. Этот коэффициент масштабирования влияет на обрезки. Если регион, используемый для отсечения графики, GDI делит координаты коэффициент масштабирования. При использовании области обрезки текста GDI делает корректировка не масштабирования. Коэффициент масштабирования 1 вызывает координаты разделенное 2; Коэффициент масштабирования 2 вызывает координаты разделенное 4; и т. д.

##  <a name="selectobject"></a>  CDC::SelectObject

Выбирает объект в контексте устройства.

```
CPen* SelectObject(CPen* pPen);
CBrush* SelectObject(CBrush* pBrush);
virtual CFont* SelectObject(CFont* pFont);
CBitmap* SelectObject(CBitmap* pBitmap);
int SelectObject(CRgn* pRgn);
CGdiObject* SelectObject(CGdiObject* pObject);
```

### <a name="parameters"></a>Параметры

*pPen*<br/>
Указатель на [CPen](../../mfc/reference/cpen-class.md) выбора объекта.

*pBrush*<br/>
Указатель на [CBrush](../../mfc/reference/cbrush-class.md) выбора объекта.

*pFont*<br/>
Указатель на [CFont](../../mfc/reference/cfont-class.md) выбора объекта.

*pBitmap*<br/>
Указатель на [CBitmap](../../mfc/reference/cbitmap-class.md) выбора объекта.

*pRgn*<br/>
Указатель на [CRgn](../../mfc/reference/crgn-class.md) выбора объекта.

*pObject*<br/>
Указатель на [CGdiObject](../../mfc/reference/cgdiobject-class.md) выбора объекта.

### <a name="return-value"></a>Возвращаемое значение

Указатель на заменяемого объекта. Это указатель на объект одного из классов, производных от `CGdiObject`, такие как `CPen`зависимости от того, какая версия функции используется. Возвращает значение NULL, если возникает ошибка. Эта функция может возвращать указатель к временным объектом. Этот временный объект используется только во время обработки одного сообщения Windows. Дополнительные сведения см. в разделе `CGdiObject::FromHandle`.

Версия функции-члена, принимающий параметр «регион» выполняет ту же задачу, что `SelectClipRgn` функция-член. Его возвращаемое значение может быть любое из следующих значений:

- Новый COMPLEXREGION отсеченную область имеет перекрывающиеся границы.

- Ошибка контекста устройства или регион не поддерживается.

- Новый NULLREGION отсеченную область пуста.

- Новый SIMPLEREGION отсеченную область не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Класс `CDC` предоставляет пять версий специализирован для определенных видов объекты GDI, включая перья, кисти, шрифты, точечные рисунки и регионов. Вновь выбранный объект заменяет предыдущий объект того же типа. Например если *pObject* общие версии `SelectObject` указывает [CPen](../../mfc/reference/cpen-class.md) объект, функция заменяет текущее перо пером, определяемое *pObject* .

Приложение может выбрать точечный рисунок в контекстах устройств памяти только и в памяти только в одном контексте устройства за раз. Формат растрового изображения должно быть монохромный или совместимый с контекста устройства. Если это не так, `SelectObject` возвращает сообщение об ошибке.

Для Windows 3.1 и более поздних версиях `SelectObject` функция возвращает то же значение ли он используется в метафайл или нет. В предыдущих версиях Windows `SelectObject` возвращается ненулевое значение для успеха и 0 для сбоя, если он был использован в метафайл.

##  <a name="selectpalette"></a>  CDC::SelectPalette

Выбирает логическую палитру, которая определяется *pPalette* как объект выбранной палитре контекста устройства.

```
CPalette* SelectPalette(
    CPalette* pPalette,
    BOOL bForceBackground);
```

### <a name="parameters"></a>Параметры

*pPalette*<br/>
Идентифицирует логическую палитру для выбора. Эта палитра должна уже быть создана с помощью `CPalette` функция-член [CreatePalette](../../mfc/reference/cpalette-class.md#createpalette).

*bForceBackground*<br/>
Указывает, принудительно ли быть палитры фона логическую палитру. Если *bForceBackground* имеет ненулевое значение, выбранной палитре всегда является палитры фона, независимо от того, имеет ли окно фокус ввода. Если *bForceBackground* равно 0 и контекст устройства, прикрепленных к окну, логическую палитру расположена выборка переднего плана, когда окно имеет фокус ввода.

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CPalette` идентифицирующий логическую палитру, заменены палитры, определяемое *pPalette*. Возвращается значение NULL, если возникает ошибка.

### <a name="remarks"></a>Примечания

Новую палитру становится объектом палитры GDI, используемый для управления цвета, отображаемые в контексте устройства и заменяет предыдущие палитры.

Приложение может выбрать логическую палитру в контексте более одного устройства. Тем не менее для логической палитры повлияют на все контексты устройств, для которых он выбран. Если приложение выбирает палитры в контексте более одного устройства, контексты устройств необходимо принадлежат для одного физического устройства.

##  <a name="selectstockobject"></a>  CDC::SelectStockObject

Выбирает [CGdiObject](../../mfc/reference/cgdiobject-class.md) объект, который соответствует одному из стандартных акций перья, кисти или шрифты.

```
virtual CGdiObject* SelectStockObject(int nIndex);
```

### <a name="parameters"></a>Параметры

*nIndex*<br/>
Задает тип требуемого stock-объектом. Он может принимать одно из следующих значений:

- BLACK_BRUSH черная кисть.

- Кисть, DKGRAY_BRUSH темно-серый.

- Кисть GRAY_BRUSH серого цвета.

- HOLLOW_BRUSH пустой кисти.

- Кисть LTGRAY_BRUSH индикатор серый.

- NULL_BRUSH пустой кисти.

- Технический WHITE_BRUSH кисть.

- Черный BLACK_PEN перо.

- Значение Null NULL_PEN перо.

- Технический WHITE_PEN перо.

- ANSI_FIXED_FONT ANSI исправлена системный шрифт.

- ANSI_VAR_FONT ANSI переменной системного шрифта.

- Шрифт DEVICE_DEFAULT_FONT зависящие от устройства.

- Зависящие от OEM OEM_FIXED_FONT исправлена шрифта.

- SYSTEM_FONT The system font. По умолчанию Windows использует системный шрифт для рисования меню, элементам управления диалогового окна и другой текст. Рекомендуется, однако не должны полагаться на SYSTEM_FONT для получения шрифта диалоговых окон и окон. Вместо этого используйте `SystemParametersInfo` функцию с параметром SPI_GETNONCLIENTMETRICS для получения текущего шрифта. `SystemParametersInfo` учитывает текущую тему и предоставляет информацию о шрифте для заголовков, меню и диалоговые окна сообщения.

- SYSTEM_FIXED_FONT фиксированной ширины системного шрифта, используемый в Windows до версии 3.0. Этот объект доступен для совместимости с предыдущими версиями Windows.

- По умолчанию DEFAULT_PALETTE цветовая палитра. Эта палитра состоит из 20 статического цвета в системной палитре.

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CGdiObject` объект, который был заменен, если функция выполнена успешно. Фактический объект, указанный [CPen](../../mfc/reference/cpen-class.md), [CBrush](../../mfc/reference/cbrush-class.md), или [CFont](../../mfc/reference/cfont-class.md) объекта. Если вызов завершается неудачно, возвращается значение NULL.

##  <a name="setabortproc"></a>  CDC::SetAbortProc

Устанавливает процедуры аварийного завершения для задания печати.

```
int SetAbortProc(BOOL (CALLBACK* lpfn)(HDC, int));
```

### <a name="parameters"></a>Параметры

*lpfn*<br/>
Указатель на функцию прерывания, чтобы установить в качестве процедуры аварийного завершения. Дополнительные сведения о функции обратного вызова, см. в разделе [функцию обратного вызова для CDC::SetAbortProc](callback-functions-used-by-mfc.md#setabortproc).

### <a name="return-value"></a>Возвращаемое значение

Указывает результат `SetAbortProc` функции. Некоторые из следующих значений, более вероятно, чем другие, но все возможны.

- SP_ERROR Общая ошибка.

- Не SP_OUTOFDISK недостаточно места на диске остается доступной для постановки в очередь, и нет места станет доступен.

- SP_OUTOFMEMORY не доступен достаточный объем памяти для буферизации.

- Пользователь SP_USERABORT завершено задание через диспетчер печати.

### <a name="remarks"></a>Примечания

Если приложение — разрешить задание печати отменяется во время постановки в очередь, его необходимо задать функцию прерывания, перед запуском задания печати с [StartDoc](#startdoc) функция-член. Диспетчер печати вызывается функция прерывания во время печати, чтобы позволить приложению для отмены задания печати или для обработки условий места на диске. Если ни одна из функций прерывания, задание завершится ошибкой, если нет места на диске для очереди печати.

Обратите внимание, что возможности Microsoft Visual C++ упрощают создание передается функции обратного вызова `SetAbortProc`. Адрес, передаваемый `EnumObjects` функция-член является указателем на функцию, экспортированную с `__declspec(dllexport)` и с `__stdcall` соглашение о вызовах.

Также у вас нет для экспорта имени функции в **ЭКСПОРТОВ** инструкции в файл определения модуля приложения. Вместо этого можно использовать **Экспорт** функции модификатор, как показано на

**BOOL обратного ВЫЗОВА экспорта** AFunction ( **HDC**, `int` **);**

Чтобы указать компилятору выдавать запись правильного экспорта для экспорта по имени без присвоения псевдонимов. Это работает для большинства задач. Для некоторых особых случаях, например Экспорт функции по порядковому номеру или псевдонимов экспорта, необходимо по-прежнему использовать **ЭКСПОРТОВ** инструкции в файл определения модуля.

Интерфейсы регистрации обратного вызова теперь являются строго типизированными (вы должны передавать в указатель на функцию, который указывает на правильный тип функции для конкретного обратного вызова).

Обратите внимание на то, что все функции обратного вызова должен перехват исключений Microsoft Foundation перед возвратом к Windows, так как исключения не может вызываться через границы обратного вызова. Дополнительные сведения об исключениях см. в статье [исключения](../../mfc/exception-handling-in-mfc.md).

##  <a name="setarcdirection"></a>  CDC::SetArcDirection

Задает направление рисования для использования функции дуги и прямоугольника.

```
int SetArcDirection(int nArcDirection);
```

### <a name="parameters"></a>Параметры

*nArcDirection*<br/>
Указывает новое направление дуги. Этот параметр может иметь одно из следующих значений:

- AD_COUNTERCLOCKWISE данные нарисовать против часовой стрелки.

- AD_CLOCKWISE данные нарисовать по часовой стрелке.

### <a name="return-value"></a>Возвращаемое значение

Указывает направление, старый дуги, в том случае, если выполнение прошло успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Направление по умолчанию — против часовой стрелки. `SetArcDirection` Функция указывает направление, в котором следующие функции draw:

|Дуги|Круговая диаграмма|
|---------|---------|
|`ArcTo`|`Rectangle`|
|`Chord`|`RoundRect`|
|`Ellipse`||

##  <a name="setattribdc"></a>  CDC::SetAttribDC

Вызывайте эту функцию, чтобы задать контекст устройства атрибут `m_hAttribDC`.

```
virtual void SetAttribDC(HDC hDC);
```

### <a name="parameters"></a>Параметры

*hDC*<br/>
Контекста устройства Windows.

### <a name="remarks"></a>Примечания

Эта функция-член не присоединяется контекст устройства для `CDC` объекта. Только контекст устройства вывода присоединяется к `CDC` объекта.

##  <a name="setbkcolor"></a>  CDC::SetBkColor

Задает текущий цвет фона для указанного цвета.

```
virtual COLORREF SetBkColor(COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*crColor*<br/>
Указывает новый цвет фона.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий цвет фона как значение RGB. В случае ошибки возвращает значение 0x80000000.

### <a name="remarks"></a>Примечания

Если в фоновом режиме является НЕПРОЗРАЧНЫМ, система использует цвет фона для заполнения пропусков в строки с примененным стилем, промежутки между заштрихованного линий в кисти и фон в знакоместа. Система также использует цвет фона, если преобразование растровых изображений между цветом и контексты устройств монохромный.

Если устройство не может отобразить указанный цвет, система устанавливает цвет фона для физических цвет, ближайший.

##  <a name="setbkmode"></a>  CDC::SetBkMode

Задает в фоновом режиме.

```
int SetBkMode(int nBkMode);
```

### <a name="parameters"></a>Параметры

*nBkMode*<br/>
Указывает режим устанавливаемое значение. Этот параметр может иметь одно из следующих значений:

- НЕПРОЗРАЧНЫЙ Фон заполняется текущим цветом фона перед текстом, штриховка, или рисуется пером. Это в фоновом режиме по умолчанию.

- ПРОЗРАЧНЫЙ фон не изменяется перед рисованием.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим фона.

### <a name="remarks"></a>Примечания

В фоновом режиме определяет ли система удаляет существующие цвета фона на поверхности рисования перед рисованием текста, заштрихованного кисти или пера стилей, которые не сплошная линия.

### <a name="example"></a>Пример

  См. в примере [CWnd::OnCtlColor](../../mfc/reference/cwnd-class.md#onctlcolor).

##  <a name="setboundsrect"></a>  CDC::SetBoundsRect

Управляет накопление данных ограничивающий прямоугольник для заданного контекста устройств.

```
UINT SetBoundsRect(
    LPCRECT lpRectBounds,
    UINT flags);
```

### <a name="parameters"></a>Параметры

*lpRectBounds*<br/>
Указывает на `RECT` структуры или `CRect` объект, который используется для задания ограничивающего прямоугольника. Размеры прямоугольника указаны в логических координатах. Этот параметр может иметь значение NULL.

*flags*<br/>
Указывает, как новый прямоугольник будет сочетаться с накопленные прямоугольника. Этот параметр может быть сочетанием следующих значений:

- DCB_ACCUMULATE добавить прямоугольник, задаваемый параметром *lpRectBounds* в ограничивающий прямоугольник (с помощью операции union прямоугольник).

- DCB_DISABLE отключить накопления границы.

- Включить DCB_ENABLE накопления границы. (Параметр по умолчанию для границы накопления отключена).

### <a name="return-value"></a>Возвращаемое значение

Текущее состояние ограничивающего прямоугольника, если функция выполнена успешно. Как и *флаги*, возвращаемое значение может представлять собой сочетание **DCB_** значения:

- DCB_ACCUMULATE ограничивающий прямоугольник не является пустым. Это значение всегда будет иметь значение.

- Накопление DCB_DISABLE границы — off.

- Границы DCB_ENABLE накопления включен.

### <a name="remarks"></a>Примечания

Windows может поддерживать ограничивающий прямоугольник для всех операций рисования. Этот прямоугольник можно запрашивать и сбросить приложением. Границы рисования можно использовать для объявления недействительными кэши растрового изображения.

##  <a name="setbrushorg"></a>  CDC::SetBrushOrg

Указывает источник, который далее кисть, которая выбирает его в контекст устройства GDI.

```
CPoint SetBrushOrg(
    int x,
    int y);

CPoint SetBrushOrg(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает x координату (в единицах устройства) нового источника. Это значение должно быть в диапазоне 0-7.

*y*<br/>
Указывает y координату (в единицах устройства) нового источника. Это значение должно быть в диапазоне 0-7.

*point*<br/>
Указывает x-y координаты и новый источник. Каждое значение должно быть в диапазоне 0-7. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Источник предыдущего кисти в единицах устройства.

### <a name="remarks"></a>Примечания

Значение по умолчанию координаты начала координат кистей являются (0, 0). Чтобы изменить источник кисти, вызовите `UnrealizeObject` работать для `CBrush` , вызовите `SetBrushOrg`и затем вызвать `SelectObject` функцию-член для выберите кисть в контекст устройства.

Не используйте `SetBrushOrg` с stock `CBrush` объектов.

##  <a name="setcoloradjustment"></a>  CDC::SetColorAdjustment

Задает значение коррекции цвета для контекста устройства, используя указанные значения.

```
BOOL SetColorAdjustment(const COLORADJUSTMENT* lpColorAdjust);
```

### <a name="parameters"></a>Параметры

*lpColorAdjust*<br/>
Указывает на [COLORADJUSTMENT](/windows/desktop/api/wingdi/ns-wingdi-tagcoloradjustment) структуру данных, содержащую значение коррекции цвета.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Значение коррекции цвета используются для настройки цвета ввода исходного растрового изображения для вызовов `CDC::StretchBlt` Если задан режим ПОЛУТОНОВЫЕ функция-член.

##  <a name="setdcbrushcolor"></a>  CDC::SetDCBrushColor

Задает текущий цвет кисти устройства контекст (DC) значение указанного цвета.

```
COLORREF SetDCBrushColor(COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*crColor*<br/>
Указывает новый цвет кисти.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполняется успешно, возвращаемое значение указывает на предыдущий цвет кисти в контроллер домена как значение COLORREF.

Если функция завершается с ошибкой, возвращается CLR_INVALID.

### <a name="remarks"></a>Примечания

Этот метод эмулирует работу функции [SetDCBrushColor](/windows/desktop/api/wingdi/nf-wingdi-setdcbrushcolor), как описано в пакете Windows SDK.

##  <a name="setdcpencolor"></a>  CDC::SetDCPenColor

Задает текущий цвет пера устройства контекст (DC) значение указанного цвета.

```
COLORREF SetDCPenColor(COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*crColor*<br/>
Указывает новый цвет пера.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция-член использует функцию Win32 [SetDCPenColor](/windows/desktop/api/wingdi/nf-wingdi-setdcpencolor), как описано в пакете Windows SDK.

##  <a name="setgraphicsmode"></a>  CDC::SetGraphicsMode

Задает режим графики для заданного контекста устройств.

```
int SetGraphicsMode(int iMode);
```

### <a name="parameters"></a>Параметры

*iMode*<br/>
Указывает режим графики. Список значений, этот параметр может принимать, см. в разделе [SetGraphicsMode](/windows/desktop/api/wingdi/nf-wingdi-setgraphicsmode).

### <a name="return-value"></a>Возвращаемое значение

В случае успеха, возвращает старый графический режим.

Возвращает значение 0 в случае сбоя. Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](https://msdn.microsoft.com/library/windows/desktop/ms679360).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [SetGraphicsMode](/windows/desktop/api/wingdi/nf-wingdi-setgraphicsmode).

##  <a name="setlayout"></a>  CDC::SetLayout

Вызовите эту функцию-член для изменения макета текста и графики для контекста устройства справа налево, стандартный макет всех языков и региональных параметров, таких как арабский и иврит.

```
DWORD SetLayout(DWORD dwLayout);
```

### <a name="parameters"></a>Параметры

*dwLayout*<br/>
Структура контекста устройства и растровое изображение управляющих флагов. Он может быть сочетанием следующих значений.

|Значение|Значение|
|-----------|-------------|
|РИСУНКОВ|Отключает любое отражение для вызовов [CDC::BitBlt](#bitblt) и [CDC::StretchBlt](#stretchblt).|
|LAYOUT_RTL|Задает горизонтальный макет по умолчанию для отображения справа налево.|
|LAYOUT_LTR|Задает макет по умолчанию для слева направо.|

### <a name="return-value"></a>Возвращаемое значение

В случае успешного выполнения предыдущих макет контекст устройства.

Если операция завершилась неудачей, GDI_ERROR. Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](https://msdn.microsoft.com/library/windows/desktop/ms679360).

### <a name="remarks"></a>Примечания

Как правило, не вызывается `SetLayout` для окна. Вместо этого управление размещением справа налево в окне, задав [расширенные стили окна](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) например WS_EX_RTLREADING. Контекста устройства, например принтер или метафайл, не наследует этот макет. Единственный способ задать контекст устройства для макет справа налево — путем вызова `SetLayout`.

При вызове метода **SetLayout (LAYOUT_RTL** ), `SetLayout` автоматически изменяет режим сопоставления для MM_ISOTROPIC. Как следствие, последующий вызов [GetMapMode](#getmapmode) вернет MM_ISOTROPIC вместо режим MM_TEXT.

В некоторых случаях например с много растровых изображений, можно сохранить макет слева направо. В этих случаях отрисовки изображения путем вызова `BitBlt` или `StretchBlt`, установите флаг управления точечного рисунка для *dwLayout* для рисунков.

После изменения макета с флагом LAYOUT_RTL, флаги, задающие обычно вправо или влево в обратном порядке. Чтобы избежать путаницы, может потребоваться определить альтернативные имена для стандартных флагов. Список предлагаемых альтернативных флаг имен, см. в разделе [SetLayout](/windows/desktop/api/wingdi/nf-wingdi-setlayout) в пакете Windows SDK.

##  <a name="setmapmode"></a>  CDC::SetMapMode

Задает режим сопоставления.

```
virtual int SetMapMode(int nMapMode);
```

### <a name="parameters"></a>Параметры

*nMapMode*<br/>
Задает новый режим сопоставления. Он может принимать любое из следующих значений:

- MM_ANISOTROPIC логические единицы, преобразуются в произвольным единицам произвольно масштабированное оси. Режим сопоставления MM_ANISOTROPIC не приводит к изменению текущие параметры окна или окна просмотра. Чтобы изменить единицы измерения, ориентации и масштаба, вызовите [SetWindowExt](#setwindowext) и [SetViewportExt](#setviewportext) функций-членов.

- Каждое логическое устройство MM_HIENGLISH преобразуется 0,001 дюйма. Положительная x находится справа; Положительная y — вверх.

- Каждое логическое устройство MM_HIMETRIC преобразуется 0,01 миллиметр. Положительная x находится справа; Положительная y — вверх.

- MM_ISOTROPIC логические единицы, преобразуются в произвольным единицам одинаково масштабированное оси; 1 единица вдоль оси x является равным 1 единицу по оси y. Используйте `SetWindowExt` и `SetViewportExt` функции-члены для указания нужного единиц и ориентацию осей. GDI при одновременном нажатии при необходимости, чтобы убедиться, что x и y единиц сохраняют свой размер.

- Каждое логическое устройство MM_LOENGLISH преобразуется 0,01 дюйма. Положительная x находится справа; Положительная y — вверх.

- MM_LOMETRIC каждое логическое устройство преобразуется 0,1 миллиметр. Положительная x находится справа; Положительная y — вверх.

- Режим MM_TEXT каждое логическое устройство преобразуется в 1 устройство пикселей. Положительная x находится справа; Положительная y не работает.

- Каждое логическое устройство MM_TWIPS преобразуется в 1/20 точки. (Так как точка 1/72 дюйма, твип равен 1/1440 дюйма). Положительная x находится справа; Положительная y — вверх.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим сопоставления.

### <a name="remarks"></a>Примечания

Режим сопоставления определяет единицу измерения, используемые для преобразования логических единицах в единицы устройства; Он также определяет ориентацию устройства x и y. GDI использует режим сопоставления для преобразования логических координатах в координаты соответствующие устройства. Режим MM_TEXT режим позволяет приложениям работать в пикселях устройства, в 1 единицу принимается равным 1 пиксель. Физический размер точки зависит от устройства к устройству.

Режимы MM_HIENGLISH, MM_HIMETRIC, MM_LOENGLISH, MM_LOMETRIC и MM_TWIPS полезны для приложений, которые необходимо нарисовать в физически значимые единицах (таких как дюймы или миллиметры). Режим MM_ISOTROPIC гарантирует соотношение сторон 1:1, это полезно, если необходимо сохранить точный вид изображения. Режим MM_ANISOTROPIC позволяет x и y координаты корректироваться независимо друг от друга.

> [!NOTE]
>  При вызове метода [SetLayout](#setlayout) Изменение контроллера домена (контекст устройства) макет справа налево, `SetLayout` автоматически изменяет режим сопоставления для MM_ISOTROPIC.

### <a name="example"></a>Пример

  См. в примере [CView::OnPrepareDC](../../mfc/reference/cview-class.md#onpreparedc).

##  <a name="setmapperflags"></a>  CDC::SetMapperFlags

Изменяет метод, используемый потоком процедуры mapper шрифта при преобразовании логического шрифта в физического шрифта.

```
DWORD SetMapperFlags(DWORD dwFlag);
```

### <a name="parameters"></a>Параметры

*dwFlag*<br/>
Указывает ли средство сопоставления шрифтов пытается сопоставить шрифта аспект высоты и ширины для устройства. Если это значение равно ASPECT_FILTERING, модуль сопоставления выбор только шрифтов, аспект x и y аспект которых точно совпадают с указанного устройства.

### <a name="return-value"></a>Возвращаемое значение

Предыдущее значение флага шрифта mapper.

### <a name="remarks"></a>Примечания

Приложение может использовать `SetMapperFlags` заставить средство сопоставления шрифтов, чтобы попытаться выбрать только физический шрифт, который точно соответствует пропорции указанного устройства.

Можно использовать приложение, использующее только растровые шрифты `SetMapperFlags` функции, чтобы убедиться, что шрифта, выбранного потоком процедуры mapper шрифта является привлекательным и понятным, на указанном устройстве. Приложения, использующие масштабируемых шрифтов (TrueType), обычно не используют `SetMapperFlags`.

Если нет физического шрифта пропорции, соответствующий спецификации в шрифте, GDI выбирает новый соотношение сторон и выбирает шрифт, который соответствует этот новый пропорции.

##  <a name="setmiterlimit"></a>  CDC::SetMiterLimit

Устанавливает ограничение на время выполнения среза соединения для контекста устройств.

```
BOOL SetMiterLimit(float fMiterLimit);
```

### <a name="parameters"></a>Параметры

*fMiterLimit*<br/>
Указывает новое ограничение по срезу для контекста устройств.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Длина среза определяется как расстояние от точки пересечения границ линий внутри соединения пересечения границ линий с внешней стороны соединения. Ограничение по срезу — это максимально допустимое отношение длины скоса к толщину линии. Ограничение по срезу по умолчанию — 10.0.

##  <a name="setoutputdc"></a>  CDC::SetOutputDC

Эта функция-член для задания контекста устройства выходные данные, вызовите `m_hDC`.

```
virtual void SetOutputDC(HDC hDC);
```

### <a name="parameters"></a>Параметры

*hDC*<br/>
Контекста устройства Windows.

### <a name="remarks"></a>Примечания

Эта функция-член может вызываться, только если контекста устройства не был присоединен к `CDC` объекта. Эта функция-член задает `m_hDC` , но не присоединяет контекст устройства для `CDC` объекта.

##  <a name="setpixel"></a>  CDC::SetPixel

Задает точки в точке, указанной в ближайший приблизительное количество цветов, заданных *crColor*.

```
COLORREF SetPixel(
    int x,
    int y,
    COLORREF crColor);

COLORREF SetPixel(
    POINT point,
    COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x точки, чтобы задать.

*y*<br/>
Указывает логическую координату y точки, чтобы задать.

*crColor*<br/>
Значение COLORREF RGB, указывающую цвет, используемый для закрашивания точку. См. в разделе [COLORREF](/windows/desktop/gdi/colorref) в пакете Windows SDK для описания этого значения.

*point*<br/>
Указывает логических x и y координаты точки, чтобы задать. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Значение RGB для цвета, что фактически закрашивается точку. Это значение может отличаться от значения, указанного по *crColor* при использовании приближенное значение для этого цвета. Если функция завершается с ошибкой (если точка находится снаружи области отсечения), возвращается значение-1.

### <a name="remarks"></a>Примечания

Точка должна находиться в области отсечения. Если точка не находится в области отсечения, функция не выполняет никаких действий.

Не все устройства поддерживают функцию `SetPixel`. Чтобы определить, поддерживает ли устройство `SetPixel`, вызовите `GetDeviceCaps` член функции с индексом RASTERCAPS и проверяйте возвращаемое значение флага RC_BITBLT.

##  <a name="setpixelv"></a>  CDC::SetPixelV

Задает пикселя по указанным координатам в приближением указанного цвета.

```
BOOL SetPixelV(
    int x,
    int y,
    COLORREF crColor);

BOOL SetPixelV(
    POINT point,
    COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает координату x, в логических единицах, точки, чтобы задать.

*y*<br/>
Задает координату по оси y, в логических единицах точки устанавливаемое значение.

*crColor*<br/>
Задает цвет, используемый для закрашивания точку.

*point*<br/>
Указывает логических x и y координаты точки, чтобы задать. Можно передать или [ТОЧКИ](/windows/desktop/api/windef/ns-windef-tagpoint) структуру данных или [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Точка должна быть в качестве отсеченной области и видимую часть поверхности устройства. Не все устройства поддерживают функцию-член. Дополнительные сведения см. в разделе возможность RC_BITBLT в `CDC::GetDeviceCaps` функция-член. `SetPixelV` выполняется быстрее, чем `SetPixel` , так как он не требуется возвращать значение цвета точки фактически нарисована.

##  <a name="setpolyfillmode"></a>  CDC::SetPolyFillMode

Задает режим заполнения многоугольников.

```
int SetPolyFillMode(int nPolyFillMode);
```

### <a name="parameters"></a>Параметры

*nPolyFillMode*<br/>
Задает новый режим заполнения. Это значение может быть АЛЬТЕРНАТИВНОГО или ПОВОРОТА. Режим по умолчанию, в Windows — ВАРИАНТ.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим заполнения, если выполнение прошло успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Когда режим заполнения многоугольников АЛЬТЕРНАТИВНОГО, система заполняет область между сторон нечетных и четных многоугольников на каждой строки. То есть система заполняет область между первой и второй стороне, между третий и четвертый и т. д. Этот режим используется по умолчанию.

Когда режим заполнения многоугольников ЗАДНИЕ, система использует направление, в котором для определения необходимости заполнения области рисования фигуры. Каждый сегмент линии в экземпляре polygon рисуется по часовой стрелке или против часовой стрелки. Каждый раз, когда воображаемую линию, извлеченных из замкнутой области за пределы фигуры проходит через сегмент линии по часовой стрелке, счетчик увеличивается. Когда строка проходит через сегмент линии против часовой стрелки, уменьшается. Область заполняется в том случае, если счетчик имеет ненулевое значение, когда строке достигает внешней рисунка.

##  <a name="setrop2"></a>  CDC::SetROP2

Задает текущий режим рисования.

```
int SetROP2(int nDrawMode);
```

### <a name="parameters"></a>Параметры

*nDrawMode*<br/>
Задает новый режим рисования. Это может быть любой из следующих значений:

- Пиксель R2_BLACK всегда является black.

- R2_WHITE пиксель всегда имеет белый цвет.

- Пиксель R2_NOP остается без изменений.

- Пиксель R2_NOT обратна цвет экрана.

- Точка R2_COPYPEN — на цвет пера.

- Пиксель R2_NOTCOPYPEN обратна на цвет пера.

- Пиксель R2_MERGEPENNOT является сочетание цвета пера и обратное цвет экрана (пикселах = (не точки экрана), или пера).

- Пиксель R2_MASKPENNOT является сочетание цвета, общих для как перо и обратное экрана (пикселах = (не точки экрана) и пера).

- Пиксель R2_MERGENOTPEN является сочетание цвет экрана и инвертированный цвет пера (пикселах = (не перо) или экрана пикселей).

- Пиксель R2_MASKNOTPEN является сочетание цвета, общих как на экране и обратное пера (пикселах = (не перо) и экрана пикселей).

- Пиксель R2_MERGEPEN представляет собой сочетание цвета пера и цвет экрана (пикселах = пера или экрана пикселей).

- Пиксель R2_NOTMERGEPEN обратна R2_MERGEPEN цвет (пикселах = не (пера или экрана пикселей)).

- Пиксель R2_MASKPEN представляет собой сочетание цвета, общих для пера и экрана (пикселах = пикселей экран и перо).

- Пиксель R2_NOTMASKPEN обратна R2_MASKPEN цвет (пикселах = не (пера и экрана пикселей)).

- Пиксель R2_XORPEN представляет собой сочетание цвета пера или на экране, но не в обоих (пикселах = пера XOR экрана пикселей).

- Пиксель R2_NOTXORPEN обратна R2_XORPEN цвет (пикселах = не (точки экрана пера XOR)).

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим рисования.

Он может быть любое из значений, приведенных в пакете Windows SDK.

### <a name="remarks"></a>Примечания

Режим рисования указывает, как цвета пера и внутренней заливкой объектов объединяются с цветом уже на поверхность отображения.

Режим рисования является растровых только для устройств; он не применяются к устройствам вектор. Рисование режимы являются двоичные операции растровых коды, представляющие все возможные сочетания логическое две переменные, не используя операцию унарные и бинарные операторы AND, OR и XOR (исключающее или).

##  <a name="setstretchbltmode"></a>  CDC::SetStretchBltMode

Задает режим растягивания точечного рисунка для `StretchBlt` функция-член.

```
int SetStretchBltMode(int nStretchMode);
```

### <a name="parameters"></a>Параметры

*nStretchMode*<br/>
Указывает режим растягивания. Это может быть любой из следующих значений:

|Значение|Описание|
|-----------|-----------------|
|BLACKONWHITE|Выполняет операцию логического и с помощью значения цветов для точек исключенные и существующих. Если точечный рисунок монохромную битовую карту, этот режим сохраняет области черных пикселей за счет белые пиксели.|
|COLORONCOLOR|Удаляет пиксели. Этот режим удаляет все исключенные строки пикселей, не пытаясь сохранить свои данные.|
|ПОЛУТОНОВЫЕ|Сопоставляет пикселов из исходного прямоугольника блоки пикселов в прямоугольник назначения. Средний цвет на конечном блоке пикселей аппроксимирует цвет пикселей источника.|
||После установки РАСТР растягивания режим, приложение должно вызвать функцию Win32 [SetBrushOrgEx](/windows/desktop/api/wingdi/nf-wingdi-setbrushorgex) для настройки начала координат кистей. Если не удается сделать это, возникает рассогласование кисти.|
|STRETCH_ANDSCANS|**Windows 95/98**: Так же, как BLACKONWHITE|
|STRETCH_DELETESCANS|**Windows 95/98**: Так же, как COLORONCOLOR|
|STRETCH_HALFTONE|**Windows 95/98**: Совпадает со значением ПОЛУТОНОВЫЕ.|
|STRETCH_ORSCANS|**Windows 95/98**: Так же, как WHITEONBLACK|
|WHITEONBLACK|Выполняет операцию логического или с помощью значения цветов для точек исключенные и существующих. Если точечный рисунок монохромную битовую карту, этот режим сохраняет белые пиксели за счет области черных пикселей.|

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим растягивания. Он может быть STRETCH_ANDSCANS, STRETCH_DELETESCANS или STRETCH_ORSCANS.

### <a name="remarks"></a>Примечания

Режим растягивания растрового изображения, которые определяет, как информация удаляется из точечные рисунки, сжимаются с помощью функции.

Режимы BLACKONWHITE (STRETCH_ANDSCANS) и WHITEONBLACK (STRETCH_ORSCANS) обычно используются для сохранения точек переднего плана в монохромный точечных рисунков. Режим COLORONCOLOR (STRETCH_DELETESCANS) обычно используется для сохранения цвет в цветных точечных рисунков.

Режим ПОЛУТОНОВЫЕ требует дополнительной обработки исходного изображения, чем других трех режимов; он выполняется медленнее, чем другие, но дает более качественными изображениями. Также Обратите внимание, что `SetBrushOrgEx` должен вызываться после режим ПОЛУТОНОВЫЕ во избежание неполное соответствие кисти.

Дополнительные режимы растяжения также могут быть доступны в зависимости от возможностей драйвера устройства.

##  <a name="settextalign"></a>  CDC::SetTextAlign

Задает флаги выравнивание текста.

```
UINT SetTextAlign(UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nFlags*<br/>
Указывает флаги выравнивание текста. Флаги указать связь между точкой и прямоугольник, который ограничивает текст. Точка может быть текущей позиции или координаты, указанным функцией выходного текста. Прямоугольник, ограничивающий текста определяется соседние ячейки в текстовой строке. *NFlags* параметр может иметь один или несколько флагов из следующих трех категорий. Выберите только один флаг из каждой категории. Первая категория влияет на выравнивание текста по оси x.

- TA_CENTER выравнивание в точку в середине ограничивающего прямоугольника.

- TA_LEFT выравнивает точку с левой стороны обрамляющего прямоугольника. Этот параметр используется по умолчанию.

- TA_RIGHT выравнивает точку с правой стороны обрамляющего прямоугольника.

Вторая категория влияет на выравнивание текста по оси y.

- TA_BASELINE Выравнивает точки с базовой строкой выбранного шрифта.

- TA_BOTTOM Выравнивает точки по нижнему краю ограничивающего прямоугольника.

- TA_TOP Выравнивает точки по верхнему краю ограничивающего прямоугольника. Этот параметр используется по умолчанию.

Третья категория определяет, обновляется ли текущее положение при записи текста.

- TA_NOUPDATECP не обновляет текущую позицию после каждого вызова функции выходного текста. Этот параметр используется по умолчанию.

- TA_UPDATECP обновления текущей позиции x после каждого вызова функции выходного текста. Новая позиция совпадает с правой стороны ограничивающего прямоугольника для текста. Если этот флаг установлен, координаты, заданные в вызовах `TextOut` функция-член учитываются.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий выравнивание текста параметр, при успешном выполнении. Младший байт содержит параметр по горизонтали, а старший байт вертикальной параметра; в противном случае 0.

### <a name="remarks"></a>Примечания

`TextOut` И `ExtTextOut` функции-члена используют эти флаги, положение строки текста на экран или устройстве. Флаги указать связь между определенной точки и прямоугольник, который ограничивает текст. Координаты этой точки, передаются как параметры для `TextOut` функция-член. Прямоугольник, ограничивающий текст формируется соседние ячейки в текстовой строке.

##  <a name="settextcharacterextra"></a>  CDC::SetTextCharacterExtra

Задает intercharacter отступ.

```
int SetTextCharacterExtra(int nCharExtra);
```

### <a name="parameters"></a>Параметры

*nCharExtra*<br/>
Указывает объем дополнительного пространства (в логических единицах) для добавления каждого символа. Если текущий режим сопоставления не `MM_TEXT`, *nCharExtra* преобразуются и округленное до ближайшей точки.

### <a name="return-value"></a>Возвращаемое значение

Величина предыдущих intercharacter интервала.

### <a name="remarks"></a>Примечания

Каждый символ, включая символы разрыва, в том случае, когда записывает строку текста на контекст устройства GDI добавляет данный промежуток. Число, определяющее intercharacter интервал по умолчанию равно 0.

##  <a name="settextcolor"></a>  CDC::SetTextColor

Задает цвет текста для указанного цвета.

```
virtual COLORREF SetTextColor(COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*crColor*<br/>
Задает цвет текста, как значение цвета RGB.

### <a name="return-value"></a>Возвращаемое значение

Значение RGB для на предыдущий цвет текста.

### <a name="remarks"></a>Примечания

Система будет использовать этот цвет текста, когда запись текста в этот контекст устройства и также при преобразовании растровых изображений между цвета и монохромный контексты устройств.

Если устройство не может представлять указанный цвет, система задает цвет текста на цвет, ближайший физического. Задается цвет фона для символа `SetBkColor` и `SetBkMode` функций-членов.

### <a name="example"></a>Пример

  См. в примере [CWnd::OnCtlColor](../../mfc/reference/cwnd-class.md#onctlcolor).

##  <a name="settextjustification"></a>  CDC::SetTextJustification

Добавляет пространство символы разрыва строки.

```
int SetTextJustification(
    int nBreakExtra,
    int nBreakCount);
```

### <a name="parameters"></a>Параметры

*nBreakExtra*<br/>
Указывает общее дополнительное пространство для добавления строки текста (в логических единицах). Если текущий режим сопоставления не `MM_TEXT`, значение, заданное в этом параметре преобразуется в текущий режим сопоставления и округленное до ближайшей единицы устройства.

*nBreakCount*<br/>
Указывает количество символов разрыва строки.

### <a name="return-value"></a>Возвращаемое значение

Один, если функция выполнена успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Приложение может использовать `GetTextMetrics` функции-члены для получения шрифта прервать символ.

После `SetTextJustification` вызывается функция-член, вызов функции выходного текста (такие как `TextOut`) распределяет указанный дополнительное пространство равномерно между указанным числом символов разрыва. Знака разрыва обычно символ пробела (ASCII 32), но может быть уточнен шрифта как другой символ.

Функция-член `GetTextExtent` обычно используется с `SetTextJustification`. `GetTextExtent` вычисляет ширину данной строке до выравнивания. Приложение может определить объем места, чтобы указать в *nBreakExtra* параметра путем вычитания значения, возвращенного `GetTextExtent` из ширины строки после выравнивания.

`SetTextJustification` Функция может использоваться для выравнивания строки, содержащей несколько запусков в разные начертания шрифтов. В этом случае строка должна быть создана поэтапное, выравнивание и написание каждого запуска отдельно.

Из-за ошибок округления могут возникнуть во время выравнивания, система хранит работающей ошибки ключевое слово, которое определяет текущий ошибку. При выравнивании строку, содержащую несколько запусков `GetTextExtent` автоматически использует этот термин ошибка, когда он вычисляет экстент следующего выполнения. Это позволяет blend ошибку в новое выполнение функции выходного текста.

После каждой строки были выровнены, этой ошибки ключевое слово придется очистить, чтобы предотвратить ее внесением изменений в следующей строке. Термин можно очистить, вызвав `SetTextJustification` с *nBreakExtra* присвоено значение 0.

##  <a name="setviewportext"></a>  CDC::SetViewportExt

Задает x - и y экстенты окна просмотра контекста устройства.

```
virtual CSize SetViewportExt(
    int cx,
    int cy);

CSize SetViewportExt(SIZE size);
```

### <a name="parameters"></a>Параметры

*cx*<br/>
Указывает x масштаб окна просмотра (в единицах устройства).

*CY*<br/>
Указывает y масштаб окна просмотра (в единицах устройства).

*size*<br/>
Указывает x - и y экстенты окна просмотра (в единицах устройства).

### <a name="return-value"></a>Возвращаемое значение

Экстенты предыдущего окна просмотра, как [CSize](../../atl-mfc-shared/reference/csize-class.md) объекта. При возникновении ошибки x и y координаты возвращаемого `CSize` объекта устанавливаются в 0.

### <a name="remarks"></a>Примечания

Окна просмотра, а также окно контекста устройства, определяет, как GDI сопоставляются с точками в системе логических координат точки в системе координат устройства. Другими словами они определяют, как GDI преобразует логических координатах в координаты устройства.

Если заданы следующие режимы сопоставления, вызовы `SetWindowExt` и `SetViewportExt` игнорируются:

|MM_HIENGLISH|MM_LOMETRIC|
|-------------------|------------------|
|MM_HIMETRIC|MM_TEXT|
|MM_LOENGLISH|MM_TWIPS|

Если задан режим MM_ISOTROPIC, приложение должно вызвать `SetWindowExt` перед вызовом функции-члена `SetViewportExt`.

### <a name="example"></a>Пример

  См. в примере [CView::OnPrepareDC](../../mfc/reference/cview-class.md#onpreparedc).

##  <a name="setviewportorg"></a>  CDC::SetViewportOrg

Задает начало координат окна просмотра контекста устройства.

```
virtual CPoint SetViewportOrg(
    int x,
    int y);

CPoint SetViewportOrg(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает x координату (в единицах устройства) начальной позиции окна просмотра. Значение должно быть в диапазоне от система координат устройства.

*y*<br/>
Указывает y координату (в единицах устройства) начальной позиции окна просмотра. Значение должно быть в диапазоне от система координат устройства.

*point*<br/>
Задает исходное положение окна просмотра. Значения должны быть в диапазоне от система координат устройства. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Источник предыдущего окна просмотра (в координатах устройства), как `CPoint` объект.

### <a name="remarks"></a>Примечания

Окна просмотра, а также окно контекста устройства, определяет, как GDI сопоставляются с точками в системе логических координат точки в системе координат устройства. Другими словами они определяют, как GDI преобразует логических координатах в координаты устройства.

Начало координат окна просмотра отмечает точку в системе координат устройства, к которому GDI сопоставляет исходную точку окна, точки в системе логических координат, определяемое `SetWindowOrg` функция-член. GDI сопоставляет все остальные точки, следуя тем же процесс, необходимый для сопоставления начало координат окна к началу координат окна просмотра. Например все точки в круг вокруг точки в начале координат окна будут в круг вокруг точки в начале координат окна просмотра. Аналогичным образом все точки в строке, которая проходит через начало координат этого окна будет в строке, которая проходит через начало координат окна просмотра.

### <a name="example"></a>Пример

  См. в примере [CView::OnPrepareDC](../../mfc/reference/cview-class.md#onpreparedc).

##  <a name="setwindowext"></a>  CDC::SetWindowExt

Задает x - и y экстенты окно, связанное с контекст устройства.

```
virtual CSize SetWindowExt(
    int cx,
    int cy);

CSize SetWindowExt(SIZE size);
```

### <a name="parameters"></a>Параметры

*cx*<br/>
Указывает x-область памяти (в логических единицах) окна.

*CY*<br/>
Указывает y-область памяти (в логических единицах) окна.

*size*<br/>
Указывает x - и y экстентов (в логических единицах) окна.

### <a name="return-value"></a>Возвращаемое значение

Экстенты предыдущей области окна (в логических единицах) при `CSize` объекта. Если возникает ошибка, x и y координаты возвращаемого `CSize` объекта устанавливаются в 0.

### <a name="remarks"></a>Примечания

Окна, а также просмотра контекста устройства, определяет, как GDI сопоставляются с точками в системе логических координат точки в системе координат устройства.

Если заданы следующие режимы сопоставления, вызовы `SetWindowExt` и `SetViewportExt` функции игнорируются в:

- MM_HIENGLISH

- MM_HIMETRIC

- MM_LOENGLISH

- MM_LOMETRIC

- MM_TEXT

- MM_TWIPS

Если задан режим MM_ISOTROPIC, приложение должно вызвать `SetWindowExt` перед вызовом функции-члена `SetViewportExt`.

### <a name="example"></a>Пример

  См. в примере [CView::OnPrepareDC](../../mfc/reference/cview-class.md#onpreparedc).

##  <a name="setwindoworg"></a>  CDC::SetWindowOrg

Задает начало координат окна в контексте устройства.

```
CPoint SetWindowOrg(
    int x,
    int y);

CPoint SetWindowOrg(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x нового источника окна.

*y*<br/>
Указывает логическую координату y нового источника окна.

*point*<br/>
Указывает логические координаты начальной позиции нового окна. Можно передать или `POINT` структуры или `CPoint` объект для этого параметра.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий источник окне как `CPoint` объекта.

### <a name="remarks"></a>Примечания

Окна, а также просмотра контекста устройства, определяет, как GDI сопоставляются с точками в системе логических координат точки в системе координат устройства.

Начало координат окна отмечает точку в системе логических координат, из которого GDI сопоставляет координат окна просмотра точки в системе координат устройства, определяемое `SetWindowOrg` функции. GDI сопоставляет все остальные точки, следуя тем же процесс, необходимый для сопоставления начало координат окна к началу координат окна просмотра. Например все точки в круг вокруг точки в начале координат окна будут в круг вокруг точки в начале координат окна просмотра. Аналогичным образом все точки в строке, которая проходит через начало координат этого окна будет в строке, которая проходит через начало координат окна просмотра.

##  <a name="setworldtransform"></a>  CDC::SetWorldTransform

Задает двумерный линейного преобразования между мировом пространстве и место на страницах для заданного контекста устройств. Это преобразование можно использовать для масштабирования, поворота, наклона и преобразования вывода графики.

```
BOOL SetWorldTransform(const XFORM& rXform);
```

### <a name="parameters"></a>Параметры

*rXform*<br/>
Ссылка на [XFORM](/windows/desktop/api/wingdi/ns-wingdi-tagxform) структуру, содержащую преобразования данных.

### <a name="return-value"></a>Возвращаемое значение

В случае успеха, возвращает ненулевое значение.

Возвращает значение 0 в случае сбоя.

Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](https://msdn.microsoft.com/library/windows/desktop/ms679360).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [SetWorldTransform](/windows/desktop/api/wingdi/nf-wingdi-setworldtransform).

##  <a name="startdoc"></a>  CDC::StartDoc

Сообщает драйверу устройства, который запускает новое задание печати и что все последующие `StartPage` и `EndPage` вызовов в очереди в том же задании до `EndDoc` вызов происходит.

```
int StartDoc(LPDOCINFO lpDocInfo);
int StartDoc(LPCTSTR lpszDocName);
```

### <a name="parameters"></a>Параметры

*lpDocInfo*<br/>
Указывает на [DOCINFO](/windows/desktop/api/wingdi/ns-wingdi-_docinfoa) структура, содержащая имя файла документа и имя выходного файла.

*lpszDocName*<br/>
Указатель на строку, содержащую имя файла документа.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполняется успешно, возвращаемое значение больше нуля. Это значение является идентификатором задания печати для документа.

Если функция завершается с ошибкой, возвращаемое значение меньше или равно нулю.

### <a name="remarks"></a>Примечания

Это гарантирует, что документы более одной страницы не должны смешиваться с другими заданиями.

Для Windows версии 3.1 и более поздние версии эта функция заменяет управляющей последовательности принтера STARTDOC. Эта функция гарантирует, что документов, содержащих более одной страницы не смешиваются с другими заданиями.

`StartDoc` не должен использоваться внутри метафайлов.

### <a name="example"></a>Пример

Этот фрагмент кода возвращает принтер по умолчанию, открывает задание на печать и помещает в буфер одну страницу с «Hello, World!» на нем. Так как печать, этот код не масштабируется для принтера логические устройства, выходной текст может быть такой буквами, результат не может быть прочитан. Масштабирование функций, таких как CDC `SetMapMode`, `SetViewportOrg`, и `SetWindowExt`, можно использовать для устранения масштабирование.

[!code-cpp[NVC_MFCDocView#41](../../mfc/codesnippet/cpp/cdc-class_13.cpp)]

##  <a name="startpage"></a>  CDC::StartPage

Вызовите эту функцию-член для подготовки драйвер принтера для получения данных.

```
int StartPage();
```

### <a name="return-value"></a>Возвращаемое значение

Больше или равно 0, если функция выполнена успешно, или отрицательное значение, если произошла ошибка.

### <a name="remarks"></a>Примечания

`StartPage` заменяет NEWFRAME и BANDINFO escape-символы.

Обзор последовательность вызовов, печати, см. в разделе [StartDoc](#startdoc) функция-член.

Система отключает `ResetDC` между вызовами функции-члена `StartPage` и `EndPage`.

### <a name="example"></a>Пример

  См. в примере [CDC::StartDoc](#startdoc).

##  <a name="stretchblt"></a>  CDC::StretchBlt

Копирует точечный рисунок из исходного прямоугольника в прямоугольник назначения, при необходимости растягивая или сжимая точечный рисунок в соответствии с размерами прямоугольника назначения.

```
BOOL StretchBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    DWORD dwRop);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает x-координату (в логических единицах) левого верхнего угла прямоугольника назначения.

*y*<br/>
Указывает y-координату (в логических единицах) левого верхнего угла прямоугольника назначения.

*nWidth*<br/>
Задает ширину прямоугольника назначения (в логических единицах).

*nHeight*<br/>
Задает высоту прямоугольника назначения (в логических единицах).

*pSrcDC*<br/>
Задает контекст исходного устройства.

*xSrc*<br/>
Указывает x-координату (в логических единицах) левого верхнего угла исходного прямоугольника.

*ySrc*<br/>
Указывает y-координату (в логических единицах) левого верхнего угла исходного прямоугольника.

*nSrcWidth*<br/>
Задает ширину исходного прямоугольника (в логических единицах).

*nSrcHeight*<br/>
Задает высоту исходного прямоугольника (в логических единицах).

*dwRop*<br/>
Определяет подлежащую выполнению растровую операцию. Коды растровых операций определяют, как GDI сочетает цвета в операциях вывода, где используется текущая кисть, возможный исходный точечный рисунок и точечный рисунок назначения. Этот параметр может иметь одно из следующих значений:

- BLACKNESS включает весь вывод черным.

- DSTINVERT инвертирует точечный рисунок назначения.

- MERGECOPY объединяет узор и исходный точечный рисунок, с помощью оператора логического и.

- MERGEPAINT объединяет инвертированный исходный точечный рисунок с помощью оператора логического или точечный рисунок назначения.

- NOTSRCCOPY копирует инвертированный исходный точечный рисунок в место назначения.

- NOTSRCERASE Инвертирует результат объединения исходного и конечного точечных рисунков, с помощью оператора логического или.

- PATCOPY копирует узор в точечный рисунок назначения.

- PATINVERT объединяет точечный рисунок назначения с узором с помощью логического оператора XOR.

- PATPAINT объединяет инвертированный исходный точечный рисунок с узором с помощью оператора логического или. Объединяет результат операции с точечным рисунком назначения с помощью оператора логического ИЛИ.

- SRCAND объединяет пиксели исходного и конечного точечных рисунков, с помощью оператора логического и.

- SRCCOPY копирует исходный точечный рисунок в точечный рисунок назначения.

- SRCERASE инвертирует конечный точечный рисунок и объединяет результат с исходного растрового изображения с помощью оператора логического и.

- SRCINVERT объединяет пиксели исходного и конечного точечных рисунков, с помощью логического оператора XOR.

- SRCPAINT объединяет пиксели исходного и конечного точечных рисунков, с помощью оператора логического или.

- WHITENESS включает весь вывод белым.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если точечный рисунок рисуется, в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция использует режим растягивания контекста устройства назначения (задается `SetStretchBltMode`), чтобы определить, как необходимо растянуть или сжать точечный рисунок.

`StretchBlt` Функция перемещает точечный рисунок с исходного устройства по *pSrcDC* на целевое устройство, представленный объектом контекста устройства, функция-член которого вызывается. *XSrc*, *ySrc*, *nSrcWidth*, и *nSrcHeight* параметры определяют верхний левый угол и размеры исходного прямоугольника . *x*, *y*, *nWidth*, и *nHeight* определяют верхний левый угол и размеры прямоугольника назначения. Растровая операция, указанная *dwRop* определяет способ объединения исходного растрового изображения и биты уже на устройстве назначения.

`StretchBlt` Функция создает Зеркальное изображение точечного рисунка, если знаки параметров *nSrcWidth* и *nWidth* или *nSrcHeight* и *nHeight* параметры отличаются. Если *nSrcWidth* и *nWidth* имеют различные знаки, функция создает Зеркальное изображение точечного рисунка по оси x. Если *nSrcHeight* и *nHeight* имеют различные знаки, функция создает Зеркальное изображение точечного рисунка по оси y.

Функция `StretchBlt` растягивает или сжимает исходный точечный рисунок, а затем копирует результат в место назначения. Если узор необходимо объединить с результатом, он не объединяется, пока растянутый исходный точечный рисунок не будет скопирован в место назначения. Если используется кисть, это будет кисть, выбранная в контексте устройства назначения. Координаты назначения преобразуются в зависимости от контекста устройства назначения; исходные координаты преобразуются в зависимости от контекста исходного устройства.

Если точечные рисунки назначения, источника и узора не имеют один формат цвета, `StretchBlt` преобразует точечные рисунки источника и узора в соответствии с точечным рисунком назначения. В преобразовании используются цвета переднего плана и фона контекста устройства назначения.

Если `StretchBlt` необходимо преобразовать монохромный точечный рисунок в цвет, белые биты (1) задаются в качестве значения цвета фона, а черные биты (0) — в качестве цвета переднего плана. Для преобразования цветов в монохромный режим определяются пиксели, сопоставляющие цвет фона белому (1), а все остальные пиксели становятся черными (0). Используются цвета переднего плана и фона контекста устройства назначения с цветом.

Не все устройства поддерживают функцию `StretchBlt`. Чтобы определить, поддерживает ли устройство `StretchBlt`, вызовите `GetDeviceCaps` член функции с индексом RASTERCAPS и проверяйте возвращаемое значение флага RC_STRETCHBLT.

##  <a name="strokeandfillpath"></a>  CDC::StrokeAndFillPath

Замыкает все незамкнутые фигуры в путь, Обводка очертаниями контура с помощью текущего пера и заполняет ее внутренней области, используя текущей кисти.

```
BOOL StrokeAndFillPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекст устройства должен содержать замкнутого контура. `StrokeAndFillPath` Функция-член имеет тот же эффект, что закрытие всех открытых фигур в пути и обводка и отдельно, заполнения пути, за исключением того, что заполненной области, не будут перекрываться, даже если обведенные регион пера расширенный.

##  <a name="strokepath"></a>  CDC::StrokePath

Выполняет визуализацию указанного пути, используя текущее перо.

```
BOOL StrokePath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекст устройства должен содержать замкнутого контура.

##  <a name="tabbedtextout"></a>  CDC::TabbedTextOut

Эта функция члена на запись строки символов в указанном расположении, развернув вкладки значениями, указанными в массив позиций табуляции.

```
virtual CSize TabbedTextOut(
    int x,
    int y,
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions,
    int nTabOrigin);

CSize TabbedTextOut(
    int x,
    int y,
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions,
    int nTabOrigin);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x начальной точки строки.

*y*<br/>
Указывает логическую координату y начальной точки строки.

*lpszString*<br/>
Указывает строку символов для рисования. Можно передать указатель на массив символов или [CString](../../atl-mfc-shared/reference/cstringt-class.md) объект для этого параметра.

*nCount*<br/>
Указывает [длину строки](/windows/desktop/gdi/specifying-length-of-text-output-string) , на которые указывают *lpszString*.

*nTabPositions*<br/>
Указывает число значений в массив позиций табуляции.

*lpnTabStopPositions*<br/>
Указывает массив, содержащий позиций табуляции (в логических единицах). Табуляции должны быть отсортированы по возрастанию; наименьшее значение x должен быть первым элементом в массиве.

*nTabOrigin*<br/>
Задает координату x начальной позиции, из которой будут развернуты вкладок (в логических единицах).

*str*<br/>
Объект `CString` , содержащий указанные символы.

### <a name="return-value"></a>Возвращаемое значение

Размеры строку (в логических единицах) в качестве `CSize` объекта.

### <a name="remarks"></a>Примечания

Текст пишется в выбранный шрифт. Если *nTabPositions* равно 0 и *lpnTabStopPositions* имеет значение NULL, вкладки будут развернуты в восемь раз Средняя ширина символа.

Если *nTabPositions* -1, вкладке останавливается разделяются на расстояние, определяемое первое значение в *lpnTabStopPositions* массива. Если *lpnTabStopPositions* массив содержит более одного значения, позицией табуляции задается для каждого значения в массиве, до числа, указанного *nTabPositions*. *NTabOrigin* параметр позволяет приложению вызывать `TabbedTextOut` функции несколько раз для одной строки. Если приложение вызывает функцию более одного раза с *nTabOrigin* присвоено одинаковое значение каждый раз, функция Разворачивает все вкладки относительно позиции, заданной параметром *nTabOrigin*.

По умолчанию текущая позиция не используется и не обновляется функцией. Если приложению требуется обновить текущую позицию в том случае, когда он вызывает функцию, приложение может вызвать [SetTextAlign](#settextalign) функцию-член с *nFlags* присвоено TA_UPDATECP. Если этот флаг установлен, Windows игнорирует *x* и *y* параметры при последующих вызовах `TabbedTextOut`, вместо этого используя текущую позицию.

##  <a name="textout"></a>  CDC::TextOut

Записывает символьную строку в указанном месте, используя текущий выбранный шрифт.

```
virtual BOOL TextOut(
    int x,
    int y,
    LPCTSTR lpszString,
    int nCount);

BOOL TextOut(
    int x,
    int y,
    const CString& str);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату X начальной точки текста.

*y*<br/>
Указывает логическую координату Y начальной точки текста.

*lpszString*<br/>
Указывает на строку символов, которую необходимо нарисовать.

*nCount*<br/>
Указывает количество знаков в строке.

*str*<br/>
Объект `CString`, который содержит символы, которые необходимо нарисовать.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Начальные координаты символа в левом верхнем углу ячейки символов. По умолчанию текущая позиция не используется и не обновляется функцией.

Если приложению необходимо обновить текущую позицию в том случае, когда он вызывает `TextOut`, приложение может вызвать `SetTextAlign` функцию-член с *nFlags* присвоено TA_UPDATECP. Если этот флаг установлен, Windows игнорирует *x* и *y* параметры при последующих вызовах `TextOut`, вместо этого используя текущую позицию.

### <a name="example"></a>Пример

  См. в примере [CDC::BeginPath](#beginpath).

##  <a name="transparentblt"></a>  CDC::TransparentBlt

Вызовите эту функцию-член для передачи блоками битов данных о цвете, который соответствует прямоугольнику пикселей из указанного источника контекста устройства, в контексте устройства назначения.

```
BOOL TransparentBlt(
    int xDest,
    int yDest,
    int nDestWidth,
    int nDestHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    UINT clrTransparent);
```

### <a name="parameters"></a>Параметры

*xDest*<br/>
Задает координату x, в логических единицах верхнего левого угла прямоугольника назначения.

*yDest*<br/>
Задает координату по оси y, в логических единицах верхнего левого угла прямоугольника назначения.

*nDestWidth*<br/>
Задает ширину, в логических единицах прямоугольника назначения.

*nDestHeight*<br/>
Указывает высоту в логических единицах прямоугольника назначения.

*pSrcDC*<br/>
Указатель на контекст исходного устройства.

*xSrc*<br/>
Задает координату x, в логических единицах исходного прямоугольника.

*ySrc*<br/>
Задает координату по оси y, в логических единицах исходного прямоугольника.

*nSrcWidth*<br/>
Задает ширину, в логических единицах исходного прямоугольника.

*nSrcHeight*<br/>
Указывает высоту в логических единицах исходного прямоугольника.

*clrTransparent*<br/>
Цвета RGB в исходный точечный рисунок должен рассматриваться как прозрачный.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

`TransparentBlt` обеспечивает прозрачность; то есть цвет RGB обозначается *clrTransparent* отображается прозрачным для передачи.

Дополнительные сведения см. в разделе [TransparentBlt](/windows/desktop/api/wingdi/nf-wingdi-transparentblt) в пакете Windows SDK.

##  <a name="updatecolors"></a>  CDC::UpdateColors

Обновления клиентской области контекста устройства, сопоставляя текущего цвета в клиентской области в системной палитре по принципу по пикселю.

```
void UpdateColors();
```

### <a name="remarks"></a>Примечания

Может вызвать неактивного окна с реализованных логической палитры `UpdateColors` как альтернативу перерисовка клиентской области, при изменении системной палитры.

Дополнительные сведения об использовании палитры цветов см. в разделе [UpdateColors](/windows/desktop/api/wingdi/nf-wingdi-updatecolors) в пакете Windows SDK.

`UpdateColors` Функция-член обычно обновляет клиентскую область быстрее, чем перерисовка в области. Тем не менее так как функция выполняет преобразование цвета на основе цвета каждого пикселя перед изменением в Системная палитра, каждый вызов этой функции приводит к потере точности некоторые цвета.

##  <a name="widenpath"></a>  CDC::WidenPath

Переопределяет текущий путь как область, которая будет нарисована, если путь были обводке с помощью пера, выбранного в контексте устройства.

```
BOOL WidenPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция является успешным, только в том случае, если текущее перо находится геометрические пера, созданные вторую версию `CreatePen` функция-член, или если перо создается с помощью первой версии `CreatePen` и имеет ширину, в единицах устройства, больше 1. Контекст устройства должен содержать замкнутого контура. Любой Bzier кривых в путь преобразуются в последовательности прямых линий, приближая расширенными кривых. Таким образом, кривые Bzier остаются в путь после `WidenPath` вызывается.

## <a name="see-also"></a>См. также

[Класс CObject](../../mfc/reference/cobject-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CPaintDC](../../mfc/reference/cpaintdc-class.md)<br/>
[Класс CWindowDC](../../mfc/reference/cwindowdc-class.md)<br/>
[Класс CClientDC](../../mfc/reference/cclientdc-class.md)<br/>
[Класс CMetaFileDC](../../mfc/reference/cmetafiledc-class.md)
