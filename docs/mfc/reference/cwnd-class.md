---
title: Класс CWnd
ms.date: 11/19/2018
f1_keywords:
- CWnd
- AFXWIN/CWnd
- AFXWIN/CWnd::CWnd
- AFXWIN/CWnd::accDoDefaultAction
- AFXWIN/CWnd::accHitTest
- AFXWIN/CWnd::accLocation
- AFXWIN/CWnd::accNavigate
- AFXWIN/CWnd::accSelect
- AFXWIN/CWnd::AnimateWindow
- AFXWIN/CWnd::ArrangeIconicWindows
- AFXWIN/CWnd::Attach
- AFXWIN/CWnd::BeginModalState
- AFXWIN/CWnd::BeginPaint
- AFXWIN/CWnd::BindDefaultProperty
- AFXWIN/CWnd::BindProperty
- AFXWIN/CWnd::BringWindowToTop
- AFXWIN/CWnd::CalcWindowRect
- AFXWIN/CWnd::CancelToolTips
- AFXWIN/CWnd::CenterWindow
- AFXWIN/CWnd::ChangeClipboardChain
- AFXWIN/CWnd::CheckDlgButton
- AFXWIN/CWnd::CheckRadioButton
- AFXWIN/CWnd::ChildWindowFromPoint
- AFXWIN/CWnd::ClientToScreen
- AFXWIN/CWnd::CloseWindow
- AFXWIN/CWnd::ContinueModal
- AFXWIN/CWnd::Create
- AFXWIN/CWnd::CreateAccessibleProxy
- AFXWIN/CWnd::CreateCaret
- AFXWIN/CWnd::CreateControl
- AFXWIN/CWnd::CreateEx
- AFXWIN/CWnd::CreateGrayCaret
- AFXWIN/CWnd::CreateSolidCaret
- AFXWIN/CWnd::DeleteTempMap
- AFXWIN/CWnd::DestroyWindow
- AFXWIN/CWnd::Detach
- AFXWIN/CWnd::DlgDirList
- AFXWIN/CWnd::DlgDirListComboBox
- AFXWIN/CWnd::DlgDirSelect
- AFXWIN/CWnd::DlgDirSelectComboBox
- AFXWIN/CWnd::DragAcceptFiles
- AFXWIN/CWnd::DragDetect
- AFXWIN/CWnd::DrawAnimatedRects
- AFXWIN/CWnd::DrawCaption
- AFXWIN/CWnd::DrawMenuBar
- AFXWIN/CWnd::EnableActiveAccessibility
- AFXWIN/CWnd::EnableDynamicLayout
- AFXWIN/CWnd::EnableD2DSupport
- AFXWIN/CWnd::EnableScrollBar
- AFXWIN/CWnd::EnableScrollBarCtrl
- AFXWIN/CWnd::EnableToolTips
- AFXWIN/CWnd::EnableTrackingToolTips
- AFXWIN/CWnd::EnableWindow
- AFXWIN/CWnd::EndModalLoop
- AFXWIN/CWnd::EndModalState
- AFXWIN/CWnd::EndPaint
- AFXWIN/CWnd::ExecuteDlgInit
- AFXWIN/CWnd::FilterToolTipMessage
- AFXWIN/CWnd::FindWindow
- AFXWIN/CWnd::FindWindowEx
- AFXWIN/CWnd::FlashWindow
- AFXWIN/CWnd::FlashWindowEx
- AFXWIN/CWnd::FromHandle
- AFXWIN/CWnd::FromHandlePermanent
- AFXWIN/CWnd::get_accChild
- AFXWIN/CWnd::get_accChildCount
- AFXWIN/CWnd::get_accDefaultAction
- AFXWIN/CWnd::get_accDescription
- AFXWIN/CWnd::get_accFocus
- AFXWIN/CWnd::get_accHelp
- AFXWIN/CWnd::get_accHelpTopic
- AFXWIN/CWnd::get_accKeyboardShortcut
- AFXWIN/CWnd::get_accName
- AFXWIN/CWnd::get_accParent
- AFXWIN/CWnd::get_accRole
- AFXWIN/CWnd::get_accSelection
- AFXWIN/CWnd::get_accState
- AFXWIN/CWnd::get_accValue
- AFXWIN/CWnd::GetActiveWindow
- AFXWIN/CWnd::GetAncestor
- AFXWIN/CWnd::GetCapture
- AFXWIN/CWnd::GetCaretPos
- AFXWIN/CWnd::GetCheckedRadioButton
- AFXWIN/CWnd::GetClientRect
- AFXWIN/CWnd::GetClipboardOwner
- AFXWIN/CWnd::GetClipboardViewer
- AFXWIN/CWnd::GetControlUnknown
- AFXWIN/CWnd::GetDC
- AFXWIN/CWnd::GetDCEx
- AFXWIN/CWnd::GetDCRenderTarget
- AFXWIN/CWnd::GetDescendantWindow
- AFXWIN/CWnd::GetDesktopWindow
- AFXWIN/CWnd::GetDlgCtrlID
- AFXWIN/CWnd::GetDlgItem
- AFXWIN/CWnd::GetDlgItemInt
- AFXWIN/CWnd::GetDlgItemText
- AFXWIN/CWnd::GetDSCCursor
- AFXWIN/CWnd::GetDynamicLayout
- AFXWIN/CWnd::GetExStyle
- AFXWIN/CWnd::GetFocus
- AFXWIN/CWnd::GetFont
- AFXWIN/CWnd::GetForegroundWindow
- AFXWIN/CWnd::GetIcon
- AFXWIN/CWnd::GetLastActivePopup
- AFXWIN/CWnd::GetLayeredWindowAttributes
- AFXWIN/CWnd::GetMenu
- AFXWIN/CWnd::GetNextDlgGroupItem
- AFXWIN/CWnd::GetNextDlgTabItem
- AFXWIN/CWnd::GetNextWindow
- AFXWIN/CWnd::GetOleControlSite
- AFXWIN/CWnd::GetOpenClipboardWindow
- AFXWIN/CWnd::GetOwner
- AFXWIN/CWnd::GetParent
- AFXWIN/CWnd::GetParentFrame
- AFXWIN/CWnd::GetParentOwner
- AFXWIN/CWnd::GetProperty
- AFXWIN/CWnd::GetRenderTarget
- AFXWIN/CWnd::GetSafeHwnd
- AFXWIN/CWnd::GetSafeOwner
- AFXWIN/CWnd::GetScrollBarCtrl
- AFXWIN/CWnd::GetScrollBarInfo
- AFXWIN/CWnd::GetScrollInfo
- AFXWIN/CWnd::GetScrollLimit
- AFXWIN/CWnd::GetScrollPos
- AFXWIN/CWnd::GetScrollRange
- AFXWIN/CWnd::GetStyle
- AFXWIN/CWnd::GetSystemMenu
- AFXWIN/CWnd::GetTitleBarInfo
- AFXWIN/CWnd::GetTopLevelFrame
- AFXWIN/CWnd::GetTopLevelOwner
- AFXWIN/CWnd::GetTopLevelParent
- AFXWIN/CWnd::GetTopWindow
- AFXWIN/CWnd::GetUpdateRect
- AFXWIN/CWnd::GetUpdateRgn
- AFXWIN/CWnd::GetWindow
- AFXWIN/CWnd::GetWindowContextHelpId
- AFXWIN/CWnd::GetWindowDC
- AFXWIN/CWnd::GetWindowedChildCount
- AFXWIN/CWnd::GetWindowInfo
- AFXWIN/CWnd::GetWindowlessChildCount
- AFXWIN/CWnd::GetWindowPlacement
- AFXWIN/CWnd::GetWindowRect
- AFXWIN/CWnd::GetWindowRgn
- AFXWIN/CWnd::GetWindowText
- AFXWIN/CWnd::GetWindowTextLength
- AFXWIN/CWnd::HideCaret
- AFXWIN/CWnd::HiliteMenuItem
- AFXWIN/CWnd::HtmlHelp
- AFXWIN/CWnd::Invalidate
- AFXWIN/CWnd::InvalidateRect
- AFXWIN/CWnd::InvalidateRgn
- AFXWIN/CWnd::InvokeHelper
- AFXWIN/CWnd::IsChild
- AFXWIN/CWnd::IsD2DSupportEnabled
- AFXWIN/CWnd::IsDialogMessage
- AFXWIN/CWnd::IsDlgButtonChecked
- AFXWIN/CWnd::IsDynamicLayoutEnabled
- AFXWIN/CWnd::IsIconic
- AFXWIN/CWnd::IsTouchWindow
- AFXWIN/CWnd::IsWindowEnabled
- AFXWIN/CWnd::IsWindowVisible
- AFXWIN/CWnd::IsZoomed
- AFXWIN/CWnd::KillTimer
- AFXWIN/CWnd::LockWindowUpdate
- AFXWIN/CWnd::MapWindowPoints
- AFXWIN/CWnd::MessageBox
- AFXWIN/CWnd::ModifyStyle
- AFXWIN/CWnd::ModifyStyleEx
- AFXWIN/CWnd::MoveWindow
- AFXWIN/CWnd::NotifyWinEvent
- AFXWIN/CWnd::OnAmbientProperty
- AFXWIN/CWnd::OnDrawIconicThumbnailOrLivePreview
- AFXWIN/CWnd::OnHelp
- AFXWIN/CWnd::OnHelpFinder
- AFXWIN/CWnd::OnHelpIndex
- AFXWIN/CWnd::OnHelpUsing
- AFXWIN/CWnd::OnToolHitTest
- AFXWIN/CWnd::OpenClipboard
- AFXWIN/CWnd::PaintWindowlessControls
- AFXWIN/CWnd::PostMessage
- AFXWIN/CWnd::PreCreateWindow
- AFXWIN/CWnd::PreSubclassWindow
- AFXWIN/CWnd::PreTranslateMessage
- AFXWIN/CWnd::Print
- AFXWIN/CWnd::PrintClient
- AFXWIN/CWnd::PrintWindow
- AFXWIN/CWnd::RedrawWindow
- AFXWIN/CWnd::RegisterTouchWindow
- AFXWIN/CWnd::ReleaseDC
- AFXWIN/CWnd::RepositionBars
- AFXWIN/CWnd::RunModalLoop
- AFXWIN/CWnd::ScreenToClient
- AFXWIN/CWnd::ScrollWindow
- AFXWIN/CWnd::ScrollWindowEx
- AFXWIN/CWnd::SendChildNotifyLastMsg
- AFXWIN/CWnd::SendDlgItemMessage
- AFXWIN/CWnd::SendMessage
- AFXWIN/CWnd::SendMessageToDescendants
- AFXWIN/CWnd::SendNotifyMessage
- AFXWIN/CWnd::SetActiveWindow
- AFXWIN/CWnd::SetCapture
- AFXWIN/CWnd::SetCaretPos
- AFXWIN/CWnd::SetClipboardViewer
- AFXWIN/CWnd::SetDlgCtrlID
- AFXWIN/CWnd::SetDlgItemInt
- AFXWIN/CWnd::SetDlgItemText
- AFXWIN/CWnd::SetFocus
- AFXWIN/CWnd::SetFont
- AFXWIN/CWnd::SetForegroundWindow
- AFXWIN/CWnd::SetIcon
- AFXWIN/CWnd::SetLayeredWindowAttributes
- AFXWIN/CWnd::SetMenu
- AFXWIN/CWnd::SetOwner
- AFXWIN/CWnd::SetParent
- AFXWIN/CWnd::SetProperty
- AFXWIN/CWnd::SetRedraw
- AFXWIN/CWnd::SetScrollInfo
- AFXWIN/CWnd::SetScrollPos
- AFXWIN/CWnd::SetScrollRange
- AFXWIN/CWnd::SetTimer
- AFXWIN/CWnd::SetWindowContextHelpId
- AFXWIN/CWnd::SetWindowPlacement
- AFXWIN/CWnd::SetWindowPos
- AFXWIN/CWnd::SetWindowRgn
- AFXWIN/CWnd::SetWindowText
- AFXWIN/CWnd::ShowCaret
- AFXWIN/CWnd::ShowOwnedPopups
- AFXWIN/CWnd::ShowScrollBar
- AFXWIN/CWnd::ShowWindow
- AFXWIN/CWnd::SubclassDlgItem
- AFXWIN/CWnd::SubclassWindow
- AFXWIN/CWnd::UnlockWindowUpdate
- AFXWIN/CWnd::UnsubclassWindow
- AFXWIN/CWnd::UpdateData
- AFXWIN/CWnd::UpdateDialogControls
- AFXWIN/CWnd::UpdateLayeredWindow
- AFXWIN/CWnd::UpdateWindow
- AFXWIN/CWnd::ValidateRect
- AFXWIN/CWnd::ValidateRgn
- AFXWIN/CWnd::WindowFromPoint
- AFXWIN/CWnd::WinHelp
- AFXWIN/CWnd::Default
- AFXWIN/CWnd::DefWindowProc
- AFXWIN/CWnd::DoDataExchange
- AFXWIN/CWnd::GetCurrentMessage
- AFXWIN/CWnd::InitDynamicLayout
- AFXWIN/CWnd::LoadDynamicLayoutResource
- AFXWIN/CWnd::OnActivate
- AFXWIN/CWnd::OnActivateApp
- AFXWIN/CWnd::OnAppCommand
- AFXWIN/CWnd::OnAskCbFormatName
- AFXWIN/CWnd::OnCancelMode
- AFXWIN/CWnd::OnCaptureChanged
- AFXWIN/CWnd::OnChangeCbChain
- AFXWIN/CWnd::OnChangeUIState
- AFXWIN/CWnd::OnChar
- AFXWIN/CWnd::OnCharToItem
- AFXWIN/CWnd::OnChildActivate
- AFXWIN/CWnd::OnChildNotify
- AFXWIN/CWnd::OnClipboardUpdate
- AFXWIN/CWnd::OnClose
- AFXWIN/CWnd::OnColorizationColorChanged
- AFXWIN/CWnd::OnCommand
- AFXWIN/CWnd::OnCompacting
- AFXWIN/CWnd::OnCompareItem
- AFXWIN/CWnd::OnCompositionChanged
- AFXWIN/CWnd::OnContextMenu
- AFXWIN/CWnd::OnCopyData
- AFXWIN/CWnd::OnCreate
- AFXWIN/CWnd::OnCtlColor
- AFXWIN/CWnd::OnDeadChar
- AFXWIN/CWnd::OnDeleteItem
- AFXWIN/CWnd::OnDestroy
- AFXWIN/CWnd::OnDestroyClipboard
- AFXWIN/CWnd::OnDeviceChange
- AFXWIN/CWnd::OnDevModeChange
- AFXWIN/CWnd::OnDrawClipboard
- AFXWIN/CWnd::OnDrawItem
- AFXWIN/CWnd::OnDropFiles
- AFXWIN/CWnd::OnEnable
- AFXWIN/CWnd::OnEndSession
- AFXWIN/CWnd::OnEnterIdle
- AFXWIN/CWnd::OnEnterMenuLoop
- AFXWIN/CWnd::OnEnterSizeMove
- AFXWIN/CWnd::OnEraseBkgnd
- AFXWIN/CWnd::OnExitMenuLoop
- AFXWIN/CWnd::OnExitSizeMove
- AFXWIN/CWnd::OnFontChange
- AFXWIN/CWnd::OnGetDlgCode
- AFXWIN/CWnd::OnGetMinMaxInfo
- AFXWIN/CWnd::OnHelpInfo
- AFXWIN/CWnd::OnHotKey
- AFXWIN/CWnd::OnHScroll
- AFXWIN/CWnd::OnHScrollClipboard
- AFXWIN/CWnd::OnIconEraseBkgnd
- AFXWIN/CWnd::OnInitMenu
- AFXWIN/CWnd::OnInitMenuPopup
- AFXWIN/CWnd::OnInputDeviceChange
- AFXWIN/CWnd::OnInputLangChange
- AFXWIN/CWnd::OnInputLangChangeRequest
- AFXWIN/CWnd::OnKeyDown
- AFXWIN/CWnd::OnKeyUp
- AFXWIN/CWnd::OnKillFocus
- AFXWIN/CWnd::OnLButtonDblClk
- AFXWIN/CWnd::OnLButtonDown
- AFXWIN/CWnd::OnLButtonUp
- AFXWIN/CWnd::OnMButtonDblClk
- AFXWIN/CWnd::OnMButtonDown
- AFXWIN/CWnd::OnMButtonUp
- AFXWIN/CWnd::OnMDIActivate
- AFXWIN/CWnd::OnMeasureItem
- AFXWIN/CWnd::OnMenuChar
- AFXWIN/CWnd::OnMenuDrag
- AFXWIN/CWnd::OnMenuGetObject
- AFXWIN/CWnd::OnMenuRButtonUp
- AFXWIN/CWnd::OnMenuSelect
- AFXWIN/CWnd::OnMouseActivate
- AFXWIN/CWnd::OnMouseHover
- AFXWIN/CWnd::OnMouseHWheel
- AFXWIN/CWnd::OnMouseLeave
- AFXWIN/CWnd::OnMouseMove
- AFXWIN/CWnd::OnMouseWheel
- AFXWIN/CWnd::OnMove
- AFXWIN/CWnd::OnMoving
- AFXWIN/CWnd::OnNcActivate
- AFXWIN/CWnd::OnNcCalcSize
- AFXWIN/CWnd::OnNcCreate
- AFXWIN/CWnd::OnNcDestroy
- AFXWIN/CWnd::OnNcHitTest
- AFXWIN/CWnd::OnNcLButtonDblClk
- AFXWIN/CWnd::OnNcLButtonDown
- AFXWIN/CWnd::OnNcLButtonUp
- AFXWIN/CWnd::OnNcMButtonDblClk
- AFXWIN/CWnd::OnNcMButtonDown
- AFXWIN/CWnd::OnNcMButtonUp
- AFXWIN/CWnd::OnNcMouseHover
- AFXWIN/CWnd::OnNcMouseLeave
- AFXWIN/CWnd::OnNcMouseMove
- AFXWIN/CWnd::OnNcPaint
- AFXWIN/CWnd::OnNcRButtonDblClk
- AFXWIN/CWnd::OnNcRButtonDown
- AFXWIN/CWnd::OnNcRButtonUp
- AFXWIN/CWnd::OnNcRenderingChanged
- AFXWIN/CWnd::OnNcXButtonDblClk
- AFXWIN/CWnd::OnNcXButtonDown
- AFXWIN/CWnd::OnNcXButtonUp
- AFXWIN/CWnd::OnNextMenu
- AFXWIN/CWnd::OnNotify
- AFXWIN/CWnd::OnNotifyFormat
- AFXWIN/CWnd::OnPaint
- AFXWIN/CWnd::OnPaintClipboard
- AFXWIN/CWnd::OnPaletteChanged
- AFXWIN/CWnd::OnPaletteIsChanging
- AFXWIN/CWnd::OnParentNotify
- AFXWIN/CWnd::OnPowerBroadcast
- AFXWIN/CWnd::OnQueryDragIcon
- AFXWIN/CWnd::OnQueryEndSession
- AFXWIN/CWnd::OnQueryNewPalette
- AFXWIN/CWnd::OnQueryOpen
- AFXWIN/CWnd::OnQueryUIState
- AFXWIN/CWnd::OnRawInput
- AFXWIN/CWnd::OnRButtonDblClk
- AFXWIN/CWnd::OnRButtonDown
- AFXWIN/CWnd::OnRButtonUp
- AFXWIN/CWnd::OnRenderAllFormats
- AFXWIN/CWnd::OnRenderFormat
- AFXWIN/CWnd::OnSessionChange
- AFXWIN/CWnd::OnSetCursor
- AFXWIN/CWnd::OnSetFocus
- AFXWIN/CWnd::OnSettingChange
- AFXWIN/CWnd::OnShowWindow
- AFXWIN/CWnd::OnSize
- AFXWIN/CWnd::OnSizeClipboard
- AFXWIN/CWnd::OnSizing
- AFXWIN/CWnd::OnSpoolerStatus
- AFXWIN/CWnd::OnStyleChanged
- AFXWIN/CWnd::OnStyleChanging
- AFXWIN/CWnd::OnSysChar
- AFXWIN/CWnd::OnSysColorChange
- AFXWIN/CWnd::OnSysCommand
- AFXWIN/CWnd::OnSysDeadChar
- AFXWIN/CWnd::OnSysKeyDown
- AFXWIN/CWnd::OnSysKeyUp
- AFXWIN/CWnd::OnTCard
- AFXWIN/CWnd::OnTimeChange
- AFXWIN/CWnd::OnTimer
- AFXWIN/CWnd::OnTouchInput
- AFXWIN/CWnd::OnTouchInputs
- AFXWIN/CWnd::OnUniChar
- AFXWIN/CWnd::OnUnInitMenuPopup
- AFXWIN/CWnd::OnUpdateUIState
- AFXWIN/CWnd::OnUserChanged
- AFXWIN/CWnd::OnVKeyToItem
- AFXWIN/CWnd::OnVScroll
- AFXWIN/CWnd::OnVScrollClipboard
- AFXWIN/CWnd::OnWindowPosChanged
- AFXWIN/CWnd::OnWindowPosChanging
- AFXWIN/CWnd::OnWinIniChange
- AFXWIN/CWnd::OnWndMsg
- AFXWIN/CWnd::OnXButtonDblClk
- AFXWIN/CWnd::OnXButtonDown
- AFXWIN/CWnd::OnXButtonUp
- AFXWIN/CWnd::PostNcDestroy
- AFXWIN/CWnd::ReflectChildNotify
- AFXWIN/CWnd::ReflectLastMsg
- AFXWIN/CWnd::ResizeDynamicLayout
- AFXWIN/CWnd::WindowProc
- AFXWIN/CWnd::m_hWnd
helpviewer_keywords:
- CWnd [MFC], CWnd
- CWnd [MFC], accDoDefaultAction
- CWnd [MFC], accHitTest
- CWnd [MFC], accLocation
- CWnd [MFC], accNavigate
- CWnd [MFC], accSelect
- CWnd [MFC], AnimateWindow
- CWnd [MFC], ArrangeIconicWindows
- CWnd [MFC], Attach
- CWnd [MFC], BeginModalState
- CWnd [MFC], BeginPaint
- CWnd [MFC], BindDefaultProperty
- CWnd [MFC], BindProperty
- CWnd [MFC], BringWindowToTop
- CWnd [MFC], CalcWindowRect
- CWnd [MFC], CancelToolTips
- CWnd [MFC], CenterWindow
- CWnd [MFC], ChangeClipboardChain
- CWnd [MFC], CheckDlgButton
- CWnd [MFC], CheckRadioButton
- CWnd [MFC], ChildWindowFromPoint
- CWnd [MFC], ClientToScreen
- CWnd [MFC], CloseWindow
- CWnd [MFC], ContinueModal
- CWnd [MFC], Create
- CWnd [MFC], CreateAccessibleProxy
- CWnd [MFC], CreateCaret
- CWnd [MFC], CreateControl
- CWnd [MFC], CreateEx
- CWnd [MFC], CreateGrayCaret
- CWnd [MFC], CreateSolidCaret
- CWnd [MFC], DeleteTempMap
- CWnd [MFC], DestroyWindow
- CWnd [MFC], Detach
- CWnd [MFC], DlgDirList
- CWnd [MFC], DlgDirListComboBox
- CWnd [MFC], DlgDirSelect
- CWnd [MFC], DlgDirSelectComboBox
- CWnd [MFC], DragAcceptFiles
- CWnd [MFC], DragDetect
- CWnd [MFC], DrawAnimatedRects
- CWnd [MFC], DrawCaption
- CWnd [MFC], DrawMenuBar
- CWnd [MFC], EnableActiveAccessibility
- CWnd [MFC], EnableDynamicLayout
- CWnd [MFC], EnableD2DSupport
- CWnd [MFC], EnableScrollBar
- CWnd [MFC], EnableScrollBarCtrl
- CWnd [MFC], EnableToolTips
- CWnd [MFC], EnableTrackingToolTips
- CWnd [MFC], EnableWindow
- CWnd [MFC], EndModalLoop
- CWnd [MFC], EndModalState
- CWnd [MFC], EndPaint
- CWnd [MFC], ExecuteDlgInit
- CWnd [MFC], FilterToolTipMessage
- CWnd [MFC], FindWindow
- CWnd [MFC], FindWindowEx
- CWnd [MFC], FlashWindow
- CWnd [MFC], FlashWindowEx
- CWnd [MFC], FromHandle
- CWnd [MFC], FromHandlePermanent
- CWnd [MFC], get_accChild
- CWnd [MFC], get_accChildCount
- CWnd [MFC], get_accDefaultAction
- CWnd [MFC], get_accDescription
- CWnd [MFC], get_accFocus
- CWnd [MFC], get_accHelp
- CWnd [MFC], get_accHelpTopic
- CWnd [MFC], get_accKeyboardShortcut
- CWnd [MFC], get_accName
- CWnd [MFC], get_accParent
- CWnd [MFC], get_accRole
- CWnd [MFC], get_accSelection
- CWnd [MFC], get_accState
- CWnd [MFC], get_accValue
- CWnd [MFC], GetActiveWindow
- CWnd [MFC], GetAncestor
- CWnd [MFC], GetCapture
- CWnd [MFC], GetCaretPos
- CWnd [MFC], GetCheckedRadioButton
- CWnd [MFC], GetClientRect
- CWnd [MFC], GetClipboardOwner
- CWnd [MFC], GetClipboardViewer
- CWnd [MFC], GetControlUnknown
- CWnd [MFC], GetDC
- CWnd [MFC], GetDCEx
- CWnd [MFC], GetDCRenderTarget
- CWnd [MFC], GetDescendantWindow
- CWnd [MFC], GetDesktopWindow
- CWnd [MFC], GetDlgCtrlID
- CWnd [MFC], GetDlgItem
- CWnd [MFC], GetDlgItemInt
- CWnd [MFC], GetDlgItemText
- CWnd [MFC], GetDSCCursor
- CWnd [MFC], GetDynamicLayout
- CWnd [MFC], GetExStyle
- CWnd [MFC], GetFocus
- CWnd [MFC], GetFont
- CWnd [MFC], GetForegroundWindow
- CWnd [MFC], GetIcon
- CWnd [MFC], GetLastActivePopup
- CWnd [MFC], GetLayeredWindowAttributes
- CWnd [MFC], GetMenu
- CWnd [MFC], GetNextDlgGroupItem
- CWnd [MFC], GetNextDlgTabItem
- CWnd [MFC], GetNextWindow
- CWnd [MFC], GetOleControlSite
- CWnd [MFC], GetOpenClipboardWindow
- CWnd [MFC], GetOwner
- CWnd [MFC], GetParent
- CWnd [MFC], GetParentFrame
- CWnd [MFC], GetParentOwner
- CWnd [MFC], GetProperty
- CWnd [MFC], GetRenderTarget
- CWnd [MFC], GetSafeHwnd
- CWnd [MFC], GetSafeOwner
- CWnd [MFC], GetScrollBarCtrl
- CWnd [MFC], GetScrollBarInfo
- CWnd [MFC], GetScrollInfo
- CWnd [MFC], GetScrollLimit
- CWnd [MFC], GetScrollPos
- CWnd [MFC], GetScrollRange
- CWnd [MFC], GetStyle
- CWnd [MFC], GetSystemMenu
- CWnd [MFC], GetTitleBarInfo
- CWnd [MFC], GetTopLevelFrame
- CWnd [MFC], GetTopLevelOwner
- CWnd [MFC], GetTopLevelParent
- CWnd [MFC], GetTopWindow
- CWnd [MFC], GetUpdateRect
- CWnd [MFC], GetUpdateRgn
- CWnd [MFC], GetWindow
- CWnd [MFC], GetWindowContextHelpId
- CWnd [MFC], GetWindowDC
- CWnd [MFC], GetWindowedChildCount
- CWnd [MFC], GetWindowInfo
- CWnd [MFC], GetWindowlessChildCount
- CWnd [MFC], GetWindowPlacement
- CWnd [MFC], GetWindowRect
- CWnd [MFC], GetWindowRgn
- CWnd [MFC], GetWindowText
- CWnd [MFC], GetWindowTextLength
- CWnd [MFC], HideCaret
- CWnd [MFC], HiliteMenuItem
- CWnd [MFC], HtmlHelp
- CWnd [MFC], Invalidate
- CWnd [MFC], InvalidateRect
- CWnd [MFC], InvalidateRgn
- CWnd [MFC], InvokeHelper
- CWnd [MFC], IsChild
- CWnd [MFC], IsD2DSupportEnabled
- CWnd [MFC], IsDialogMessage
- CWnd [MFC], IsDlgButtonChecked
- CWnd [MFC], IsDynamicLayoutEnabled
- CWnd [MFC], IsIconic
- CWnd [MFC], IsTouchWindow
- CWnd [MFC], IsWindowEnabled
- CWnd [MFC], IsWindowVisible
- CWnd [MFC], IsZoomed
- CWnd [MFC], KillTimer
- CWnd [MFC], LockWindowUpdate
- CWnd [MFC], MapWindowPoints
- CWnd [MFC], MessageBox
- CWnd [MFC], ModifyStyle
- CWnd [MFC], ModifyStyleEx
- CWnd [MFC], MoveWindow
- CWnd [MFC], NotifyWinEvent
- CWnd [MFC], OnAmbientProperty
- CWnd [MFC], OnDrawIconicThumbnailOrLivePreview
- CWnd [MFC], OnHelp
- CWnd [MFC], OnHelpFinder
- CWnd [MFC], OnHelpIndex
- CWnd [MFC], OnHelpUsing
- CWnd [MFC], OnToolHitTest
- CWnd [MFC], OpenClipboard
- CWnd [MFC], PaintWindowlessControls
- CWnd [MFC], PostMessage
- CWnd [MFC], PreCreateWindow
- CWnd [MFC], PreSubclassWindow
- CWnd [MFC], PreTranslateMessage
- CWnd [MFC], Print
- CWnd [MFC], PrintClient
- CWnd [MFC], PrintWindow
- CWnd [MFC], RedrawWindow
- CWnd [MFC], RegisterTouchWindow
- CWnd [MFC], ReleaseDC
- CWnd [MFC], RepositionBars
- CWnd [MFC], RunModalLoop
- CWnd [MFC], ScreenToClient
- CWnd [MFC], ScrollWindow
- CWnd [MFC], ScrollWindowEx
- CWnd [MFC], SendChildNotifyLastMsg
- CWnd [MFC], SendDlgItemMessage
- CWnd [MFC], SendMessage
- CWnd [MFC], SendMessageToDescendants
- CWnd [MFC], SendNotifyMessage
- CWnd [MFC], SetActiveWindow
- CWnd [MFC], SetCapture
- CWnd [MFC], SetCaretPos
- CWnd [MFC], SetClipboardViewer
- CWnd [MFC], SetDlgCtrlID
- CWnd [MFC], SetDlgItemInt
- CWnd [MFC], SetDlgItemText
- CWnd [MFC], SetFocus
- CWnd [MFC], SetFont
- CWnd [MFC], SetForegroundWindow
- CWnd [MFC], SetIcon
- CWnd [MFC], SetLayeredWindowAttributes
- CWnd [MFC], SetMenu
- CWnd [MFC], SetOwner
- CWnd [MFC], SetParent
- CWnd [MFC], SetProperty
- CWnd [MFC], SetRedraw
- CWnd [MFC], SetScrollInfo
- CWnd [MFC], SetScrollPos
- CWnd [MFC], SetScrollRange
- CWnd [MFC], SetTimer
- CWnd [MFC], SetWindowContextHelpId
- CWnd [MFC], SetWindowPlacement
- CWnd [MFC], SetWindowPos
- CWnd [MFC], SetWindowRgn
- CWnd [MFC], SetWindowText
- CWnd [MFC], ShowCaret
- CWnd [MFC], ShowOwnedPopups
- CWnd [MFC], ShowScrollBar
- CWnd [MFC], ShowWindow
- CWnd [MFC], SubclassDlgItem
- CWnd [MFC], SubclassWindow
- CWnd [MFC], UnlockWindowUpdate
- CWnd [MFC], UnsubclassWindow
- CWnd [MFC], UpdateData
- CWnd [MFC], UpdateDialogControls
- CWnd [MFC], UpdateLayeredWindow
- CWnd [MFC], UpdateWindow
- CWnd [MFC], ValidateRect
- CWnd [MFC], ValidateRgn
- CWnd [MFC], WindowFromPoint
- CWnd [MFC], WinHelp
- CWnd [MFC], Default
- CWnd [MFC], DefWindowProc
- CWnd [MFC], DoDataExchange
- CWnd [MFC], GetCurrentMessage
- CWnd [MFC], InitDynamicLayout
- CWnd [MFC], LoadDynamicLayoutResource
- CWnd [MFC], OnActivate
- CWnd [MFC], OnActivateApp
- CWnd [MFC], OnAppCommand
- CWnd [MFC], OnAskCbFormatName
- CWnd [MFC], OnCancelMode
- CWnd [MFC], OnCaptureChanged
- CWnd [MFC], OnChangeCbChain
- CWnd [MFC], OnChangeUIState
- CWnd [MFC], OnChar
- CWnd [MFC], OnCharToItem
- CWnd [MFC], OnChildActivate
- CWnd [MFC], OnChildNotify
- CWnd [MFC], OnClipboardUpdate
- CWnd [MFC], OnClose
- CWnd [MFC], OnColorizationColorChanged
- CWnd [MFC], OnCommand
- CWnd [MFC], OnCompacting
- CWnd [MFC], OnCompareItem
- CWnd [MFC], OnCompositionChanged
- CWnd [MFC], OnContextMenu
- CWnd [MFC], OnCopyData
- CWnd [MFC], OnCreate
- CWnd [MFC], OnCtlColor
- CWnd [MFC], OnDeadChar
- CWnd [MFC], OnDeleteItem
- CWnd [MFC], OnDestroy
- CWnd [MFC], OnDestroyClipboard
- CWnd [MFC], OnDeviceChange
- CWnd [MFC], OnDevModeChange
- CWnd [MFC], OnDrawClipboard
- CWnd [MFC], OnDrawItem
- CWnd [MFC], OnDropFiles
- CWnd [MFC], OnEnable
- CWnd [MFC], OnEndSession
- CWnd [MFC], OnEnterIdle
- CWnd [MFC], OnEnterMenuLoop
- CWnd [MFC], OnEnterSizeMove
- CWnd [MFC], OnEraseBkgnd
- CWnd [MFC], OnExitMenuLoop
- CWnd [MFC], OnExitSizeMove
- CWnd [MFC], OnFontChange
- CWnd [MFC], OnGetDlgCode
- CWnd [MFC], OnGetMinMaxInfo
- CWnd [MFC], OnHelpInfo
- CWnd [MFC], OnHotKey
- CWnd [MFC], OnHScroll
- CWnd [MFC], OnHScrollClipboard
- CWnd [MFC], OnIconEraseBkgnd
- CWnd [MFC], OnInitMenu
- CWnd [MFC], OnInitMenuPopup
- CWnd [MFC], OnInputDeviceChange
- CWnd [MFC], OnInputLangChange
- CWnd [MFC], OnInputLangChangeRequest
- CWnd [MFC], OnKeyDown
- CWnd [MFC], OnKeyUp
- CWnd [MFC], OnKillFocus
- CWnd [MFC], OnLButtonDblClk
- CWnd [MFC], OnLButtonDown
- CWnd [MFC], OnLButtonUp
- CWnd [MFC], OnMButtonDblClk
- CWnd [MFC], OnMButtonDown
- CWnd [MFC], OnMButtonUp
- CWnd [MFC], OnMDIActivate
- CWnd [MFC], OnMeasureItem
- CWnd [MFC], OnMenuChar
- CWnd [MFC], OnMenuDrag
- CWnd [MFC], OnMenuGetObject
- CWnd [MFC], OnMenuRButtonUp
- CWnd [MFC], OnMenuSelect
- CWnd [MFC], OnMouseActivate
- CWnd [MFC], OnMouseHover
- CWnd [MFC], OnMouseHWheel
- CWnd [MFC], OnMouseLeave
- CWnd [MFC], OnMouseMove
- CWnd [MFC], OnMouseWheel
- CWnd [MFC], OnMove
- CWnd [MFC], OnMoving
- CWnd [MFC], OnNcActivate
- CWnd [MFC], OnNcCalcSize
- CWnd [MFC], OnNcCreate
- CWnd [MFC], OnNcDestroy
- CWnd [MFC], OnNcHitTest
- CWnd [MFC], OnNcLButtonDblClk
- CWnd [MFC], OnNcLButtonDown
- CWnd [MFC], OnNcLButtonUp
- CWnd [MFC], OnNcMButtonDblClk
- CWnd [MFC], OnNcMButtonDown
- CWnd [MFC], OnNcMButtonUp
- CWnd [MFC], OnNcMouseHover
- CWnd [MFC], OnNcMouseLeave
- CWnd [MFC], OnNcMouseMove
- CWnd [MFC], OnNcPaint
- CWnd [MFC], OnNcRButtonDblClk
- CWnd [MFC], OnNcRButtonDown
- CWnd [MFC], OnNcRButtonUp
- CWnd [MFC], OnNcRenderingChanged
- CWnd [MFC], OnNcXButtonDblClk
- CWnd [MFC], OnNcXButtonDown
- CWnd [MFC], OnNcXButtonUp
- CWnd [MFC], OnNextMenu
- CWnd [MFC], OnNotify
- CWnd [MFC], OnNotifyFormat
- CWnd [MFC], OnPaint
- CWnd [MFC], OnPaintClipboard
- CWnd [MFC], OnPaletteChanged
- CWnd [MFC], OnPaletteIsChanging
- CWnd [MFC], OnParentNotify
- CWnd [MFC], OnPowerBroadcast
- CWnd [MFC], OnQueryDragIcon
- CWnd [MFC], OnQueryEndSession
- CWnd [MFC], OnQueryNewPalette
- CWnd [MFC], OnQueryOpen
- CWnd [MFC], OnQueryUIState
- CWnd [MFC], OnRawInput
- CWnd [MFC], OnRButtonDblClk
- CWnd [MFC], OnRButtonDown
- CWnd [MFC], OnRButtonUp
- CWnd [MFC], OnRenderAllFormats
- CWnd [MFC], OnRenderFormat
- CWnd [MFC], OnSessionChange
- CWnd [MFC], OnSetCursor
- CWnd [MFC], OnSetFocus
- CWnd [MFC], OnSettingChange
- CWnd [MFC], OnShowWindow
- CWnd [MFC], OnSize
- CWnd [MFC], OnSizeClipboard
- CWnd [MFC], OnSizing
- CWnd [MFC], OnSpoolerStatus
- CWnd [MFC], OnStyleChanged
- CWnd [MFC], OnStyleChanging
- CWnd [MFC], OnSysChar
- CWnd [MFC], OnSysColorChange
- CWnd [MFC], OnSysCommand
- CWnd [MFC], OnSysDeadChar
- CWnd [MFC], OnSysKeyDown
- CWnd [MFC], OnSysKeyUp
- CWnd [MFC], OnTCard
- CWnd [MFC], OnTimeChange
- CWnd [MFC], OnTimer
- CWnd [MFC], OnTouchInput
- CWnd [MFC], OnTouchInputs
- CWnd [MFC], OnUniChar
- CWnd [MFC], OnUnInitMenuPopup
- CWnd [MFC], OnUpdateUIState
- CWnd [MFC], OnUserChanged
- CWnd [MFC], OnVKeyToItem
- CWnd [MFC], OnVScroll
- CWnd [MFC], OnVScrollClipboard
- CWnd [MFC], OnWindowPosChanged
- CWnd [MFC], OnWindowPosChanging
- CWnd [MFC], OnWinIniChange
- CWnd [MFC], OnWndMsg
- CWnd [MFC], OnXButtonDblClk
- CWnd [MFC], OnXButtonDown
- CWnd [MFC], OnXButtonUp
- CWnd [MFC], PostNcDestroy
- CWnd [MFC], ReflectChildNotify
- CWnd [MFC], ReflectLastMsg
- CWnd [MFC], ResizeDynamicLayout
- CWnd [MFC], WindowProc
- CWnd [MFC], m_hWnd
ms.assetid: 49a832ee-bc34-4126-88b3-bc1d9974f6c4
ms.openlocfilehash: 12ba4cc28d94cbc2961475944c62d2e942b20c05
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81365935"
---
# <a name="cwnd-class"></a>Класс CWnd

Предоставляет базовую функциональность всех классов окон в библиотеке Microsoft Foundation Class.

## <a name="syntax"></a>Синтаксис

```
class CWnd : public CCmdTarget
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание|
|----------|-----------------|
|[CWnd::CWnd](#cwnd)|Формирует объект `CWnd`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CWnd::accDoDefaultAction](#accdodefaultaction)|Вызывается платформой для выполнения объектом действия по умолчанию.|
|[CWnd::accHitTest](#acchittest)|Вызывается платформой для извлечения дочернего элемента или дочернего объекта в заданной точке экрана.|
|[CWnd::accLocation](#acclocation)|Вызывается платформой для получения текущего положения указанного объекта на экране.|
|[CWnd::accNavigate](#accnavigate)|Вызывается платформой для перехода к другому элементу пользовательского интерфейса внутри контейнера и, если возможно, для извлечения объекта.|
|[CWnd::accSelect](#accselect)|Вызывается платформой для изменения выбранной области или перемещения фокуса клавиатурного ввода указанного объекта.|
|[CWnd::AnimateWindow](#animatewindow)|Анимирует связанный объект"Окно".|
|[CWnd::ArrangeIconicWindows](#arrangeiconicwindows)|Упорядочивает все свернутые (преобразованные в значки) дочерние окна.|
|[CWnd::Attach](#attach)|Прикрепляет дескриптор Windows к объекту `CWnd`.|
|[CWnd::BeginModalState](#beginmodalstate)|Данная функция-член вызывается для преобразования окна фрейма в модальное.|
|[CWnd::BeginPaint](#beginpaint)|Подготавливает `CWnd` к рисованию.|
|[CWnd::BindDefaultProperty](#binddefaultproperty)|Привязывает простое стандартное свойство привязки вызывающего объекта, отмеченное в библиотеке типов, к курсору, связанному с элементом управления источником данных.|
|[CWnd::BindProperty](#bindproperty)|Привязывает связанное с курсором свойство на элементе управления, привязанном к данным, к элементу управления источником данных и регистрирует такую связь в диспетчере привязки MFC.|
|[CWnd::BringWindowToTop](#bringwindowtotop)|Перемещает `CWnd` на вершину стека перекрывающихся окон.|
|[CWnd::CalcWindowRect](#calcwindowrect)|Вызывается для вычисления размеров прямоугольной области окна из клиентской прямоугольной области.|
|[CWnd::CancelToolTips](#canceltooltips)|Отключает элемент управления "Всплывающая подсказка".|
|[CWnd::CenterWindow](#centerwindow)|Выравнивает окно по центру относительно его родительских окон.|
|[CWnd::ChangeClipboardChain](#changeclipboardchain)|Удаляет объект `CWnd` из цепи в окне буфера обмена.|
|[CWnd::CheckDlgButton](#checkdlgbutton)|Устанавливает флажок для элемента управления "Кнопка" или снимает его.|
|[CWnd::CheckRadioButton](#checkradiobutton)|Отмечает указанный переключатель и убирает отметку для остальных переключателей в указанной группе кнопок.|
|[CWnd::ChildWindowFromPoint](#childwindowfrompoint)|Определяет, в каком из указанных дочерних окон содержится заданная точка (если такие окна имеются).|
|[CWnd::ClientToScreen](#clienttoscreen)|Преобразует клиентские координаты указанной точки или прямоугольника на экране в экранные координаты.|
|[CWnd::CloseWindow](#closewindow)|Сворачивает окно.|
|[CWnd::ContinueModal](#continuemodal)|Сохраняет модальное состояние окна.|
|[CWnd::Create](#create)|Создает и инициализирует дочернее окно, связанное с объектом `CWnd`.|
|[CWnd::CreateAccessibleProxy](#createaccessibleproxy)|Создает прокси-сервер Active Accessibility для указанного объекта.|
|[CWnd::CreateCaret](#createcaret)|Создает новую форму системного курсора и получает его во владение.|
|[CWnd::CreateControl](#createcontrol)|Создает элемент управления ActiveX, который будет представлен в программе MFC объектом `CWnd`.|
|[CWnd::CreateEx](#createex)|Создает перекрывающееся, всплывающее или дочернее окно Windows и прикрепляет его к объекту `CWnd`.|
|[CWnd::CreateGrayCaret](#creategraycaret)|Создает серый блок для системного курсора и получает этот курсор во владение.|
|[CWnd::CreateSolidCaret](#createsolidcaret)|Создает сплошной блок для системного курсора и получает этот курсор во владение.|
|[CWnd::DeleteTempMap](#deletetempmap)|Автоматически вызывается обработчиком времени простоя `CWinApp` и удаляет все временные объекты `CWnd`, созданные `FromHandle`.|
|[CWnd::DestroyWindow](#destroywindow)|Уничтожает прикрепленное окно Windows.|
|[CWnd::Detach](#detach)|Отсоединяет дескриптор Windows от объекта `CWnd` и возвращает дескриптор.|
|[CWnd::DlgDirList](#dlgdirlist)|Заполняет список файлами или каталогами.|
|[CWnd::DlgDirListComboBox](#dlgdirlistcombobox)|Заполняет список элемента управления "Поле со списком" перечнем файлов или каталогов.|
|[CWnd::DlgDirSelect](#dlgdirselect)|Извлекает текущее выделение из списка.|
|[CWnd::DlgDirSelectComboBox](#dlgdirselectcombobox)|Извлекает текущее выделение списка элемента управления "Поле со списком".|
|[CWnd::DragAcceptFiles](#dragacceptfiles)|Указывает, что в окно можно перетаскивать файлы.|
|[CWnd::DragDetect](#dragdetect)|Захватывает мышь и отслеживает ее движение, пока пользователь не отпустит левую кнопку мыши, не нажмет клавишу ESC или не переместит мышь за пределы прямоугольника перетаскивания, в котором находится указанная точка.|
|[CWnd::DrawAnimatedRects](#drawanimatedrects)|Рисует каркасный прямоугольник и анимирует его для обозначения открытия значка, а также сворачивания или разворачивания окна.|
|[CWnd::DrawCaption](#drawcaption)|Рисует заголовок.|
|[CWnd::DrawMenuBar](#drawmenubar)|Перерисовывает строку меню.|
|[CWnd::EnableActiveAccessibility](#enableactiveaccessibility)|Включает пользовательские функции `Active Accessibility`.|
|[CWnd::EnableDynamicLayout](#enabledynamiclayout)|Включает динамическое изменение положения и размера дочерних окон при изменении размеров родительского окна.|
|[CWnd::EnableD2DSupport](#enabled2dsupport)|Включает или отключает поддержку окнами `D2D`. Данный метод следует вызывать до инициализации основного окна.|
|[CWnd::EnableScrollBar](#enablescrollbar)|Включает или выключает одну или обе стрелки полосы прокрутки.|
|[CWnd::EnableScrollBarCtrl](#enablescrollbarctrl)|Включает или выключает элемент управления "Полоса прокрутки" того же уровня.|
|[CWnd::EnableToolTips](#enabletooltips)|Включает элемент управления "Всплывающая подсказка".|
|[CWnd::EnableTrackingToolTips](#enabletrackingtooltips)|Включает элемент управления "Всплывающая подсказка" в режиме отслеживания.|
|[CWnd::EnableWindow](#enablewindow)|Разрешает или запрещает ввод с помощью мыши и клавиатуры.|
|[CWnd::EndModalLoop](#endmodalloop)|Снимает с окна модальное состояние.|
|[CWnd::EndModalState](#endmodalstate)|Данная функция-член вызывается для изменения состояния окна с модального на немодальное.|
|[CWnd::EndPaint](#endpaint)|Отмечает завершение рисования.|
|[CWnd::ExecuteDlgInit](#executedlginit)|Инициирует ресурс диалогового окна.|
|[CWnd::FilterToolTipMessage](#filtertooltipmessage)|Извлекает заголовок или текст, связанный с элементом управления в диалоговом окне.|
|[CWnd::FindWindow](#findwindow)|Возвращает дескриптор окна, идентифицированного по имени и классу.|
|[CWnd::FindWindowEx](#findwindowex)|Возвращает дескриптор окна, идентифицированного по имени и классу.|
|[CWnd::FlashWindow](#flashwindow)|Окно однократно мигает.|
|[CWnd::FlashWindowEx](#flashwindowex)|Мигание окна с дополнительными возможностями.|
|[CWnd::FromHandle](#fromhandle)|Возвращает указатель на объект `CWnd`, когда дескриптор передается окну. Если объект `CWnd` не прикреплен к дескриптору, создается и прикрепляется временный объект `CWnd`.|
|[CWnd::FromHandlePermanent](#fromhandlepermanent)|Возвращает указатель на объект `CWnd`, когда дескриптор передается окну.|
|[CWnd::get_accChild](#get_accchild)|Вызывается платформой для извлечения адреса интерфейса `IDispatch` для указанного дочернего элемента.|
|[CWnd::get_accChildCount](#get_accchildcount)|Вызывается платформой для извлечения количества дочерних элементов, принадлежащих этому объекту.|
|[CWnd::get_accDefaultAction](#get_accdefaultaction)|Вызывается платформой для извлечения строки, описывающей действие объекта по умолчанию.|
|[CWnd::get_accDescription](#get_accdescription)|Вызывается платформой для извлечения строки, описывающей внешний вид указанного объекта.|
|[CWnd::get_accFocus](#get_accfocus)|Вызывается платформой для извлечения объекта, имеющего фокус клавиатурного ввода.|
|[CWnd::get_accHelp](#get_acchelp)|Вызывается фректовой для извлечения строки **справки** объекта.|
|[CWnd::get_accHelpTopic](#get_acchelptopic)|Вызывается платформой для извлечения полного пути файла `WinHelp`, связанного с указанным объектом и идентификатором нужного раздела в файле.|
|[CWnd::get_accKeyboardShortcut](#get_acckeyboardshortcut)|Вызывается платформой для извлечения сочетания клавиш указанного объекта или клавиши доступа к нему.|
|[CWnd::get_accName](#get_accname)|Вызывается платформой для извлечения имени указанного объекта.|
|[CWnd::get_accParent](#get_accparent)|Вызывается платформой для извлечения интерфейса `IDispatch` родительского элемента данного объекта.|
|[CWnd::get_accRole](#get_accrole)|Вызывается платформой для извлечения информации, описывающей роль указанного объекта.|
|[CWnd::get_accSelection](#get_accselection)|Вызывается платформой для извлечения выбранного дочернего элемента этого объекта.|
|[CWnd::get_accState](#get_accstate)|Вызывается платформой для извлечения текущего состояния указанного объекта.|
|[CWnd::get_accValue](#get_accvalue)|Вызывается платформой для извлечения значения указанного объекта.|
|[CWnd::GetActiveWindow](#getactivewindow)|Извлекает активное окно.|
|[CWnd::GetAncestor](#getancestor)|Извлекает объект окна-предка для указанного окна.|
|[CWnd::GetCapture](#getcapture)|Извлекает объект `CWnd`, захваченный мышью.|
|[CWnd::GetCaretPos](#getcaretpos)|Извлекает клиентские координаты текущего положения курсора.|
|[CWnd::GetCheckedRadioButton](#getcheckedradiobutton)|Возвращает идентификатор отмеченного переключателя в группе кнопок.|
|[CWnd::GetClientRect](#getclientrect)|Возвращает размеры клиентской области `CWnd`.|
|[CWnd::GetClipboardOwner](#getclipboardowner)|Извлекает указатель на текущего владельца буфера обмена.|
|[CWnd::GetClipboardViewer](#getclipboardviewer)|Извлекает указатель на первое окно в цепочке окон буфера обмена.|
|[CWnd::GetControlUnknown](#getcontrolunknown)|Извлекает указатель на неизвестный элемент управления ActiveX.|
|[CWnd::GetDC](#getdc)|Извлекает контекст отображения для клиентской области.|
|[CWnd::GetDCEx](#getdcex)|Извлекает контекст отображения для клиентской области и включает обрезку при рисовании.|
|[CWnd::GetDCRenderTarget](#getdcrendertarget)|Извлекает целевой объект отрисовки из контекста устройства для окна `CWnd`.|
|[CWnd::GetDescendantWindow](#getdescendantwindow)|Выполняет поиск всех окон-потомков и возвращает окно с указанным идентификатором.|
|[CWnd::GetDesktopWindow](#getdesktopwindow)|Извлекает окно рабочего стола Windows.|
|[CWnd::GetDlgCtrlID](#getdlgctrlid)|Если окно `CWnd` является дочерним, вызов этой функции возвращает значение его идентификатора.|
|[CWnd::GetDlgItem](#getdlgitem)|Извлекает из указанного диалогового окна элемент управления с указанным идентификатором.|
|[CWnd::GetDlgItemInt](#getdlgitemint)|Преобразует текст элемента управления в указанном диалоговом окне в целое число.|
|[CWnd::GetDlgItemText](#getdlgitemtext)|Извлекает заголовок или текст, связанный с элементом управления.|
|[CWnd::GetDSCCursor](#getdsccursor)|Извлекает указатель на базовый курсор, который определяется свойствами DataSource, UserName, Password, и SQL элемента управления источником данных.|
|[CWnd::GetDynamicLayout](#getdynamiclayout)|Извлекает указатель на объект диспетчера динамического макета.|
|[CWnd::GetExStyle](#getexstyle)|Возвращает расширенный стиль окна.|
|[CWnd::GetFocus](#getfocus)|Извлекает объект `CWnd`, на котором в данный момент установлен фокус ввода.|
|[CWnd::GetFont](#getfont)|Извлекает текущий шрифт.|
|[CWnd::GetForegroundWindow](#getforegroundwindow)|Возвращает указатель на окно переднего плана (окно верхнего уровня, в котором пользователь работает на данный момент).|
|[CWnd::GetIcon](#geticon)|Извлекает дескриптор значка.|
|[CWnd::GetLastActivePopup](#getlastactivepopup)|Определяет последнее проявлявшее активность всплывающее окно, принадлежащее классу `CWnd`.|
|[CWnd::GetLayeredWindowAttributes](#getlayeredwindowattributes)|Получает ключ цвета прозрачности многослойного окна.|
|[CWnd::GetMenu](#getmenu)|Извлекает указатель на заданное меню.|
|[CWnd::GetNextDlgGroupItem](#getnextdlggroupitem)|Ищет следующий (или предыдущий) элемент управления в группе элементов управления.|
|[CWnd::GetNextDlgTabItem](#getnextdlgtabitem)|Извлекает первый элемент управления с [WS_TABSTOP](styles-used-by-mfc.md#window-styles) стиле, который следует (или предшествует) указанному элементу управления.|
|[CWnd::GetNextWindow](#getnextwindow)|Возвращает следующее или предыдущее окно в списке диспетчера окон.|
|[CWnd::GetOleControlSite](#getolecontrolsite)|Извлекает настраиваемый сайт для указанного элемента управления ActiveX.|
|[CWnd::GetOpenClipboardWindow](#getopenclipboardwindow)|Извлекает указатель на окно с открытым буфером обмена.|
|[CWnd::GetOwner](#getowner)|Извлекает указатель на владельца объекта `CWnd`.|
|[CWnd::GetParent](#getparent)|Извлекает родительское окно объекта `CWnd` (при наличии).|
|[CWnd::GetParentFrame](#getparentframe)|Извлекает родительское окно фрейма объекта `CWnd`.|
|[CWnd::GetParentOwner](#getparentowner)|Возвращает указатель на родительское окно дочернего окна.|
|[CWnd::GetProperty](#getproperty)|Извлекает свойство элемента управления ActiveX.|
|[CWnd::GetRenderTarget](#getrendertarget)|Возвращает целевой объект отрисовки, связанный с данным окном.|
|[CWnd::GetSafeHwnd](#getsafehwnd)|Возвращает `m_hWnd`, или NULL, если **этот** указатель NULL.|
|[CWnd::GetSafeOwner](#getsafeowner)|Извлекает безопасного владельца указанного окна.|
|[CWnd::GetScrollBarCtrl](#getscrollbarctrl)|Возвращает элемент управления "Полоса прокрутки" того же уровня.|
|[CWnd::GetScrollBarInfo](#getscrollbarinfo)|Извлекает сведения об указанной полосе прокрутки.|
|[CWnd::GetScrollInfo](#getscrollinfo)|Извлекает данные о полосе прокрутки, содержащиеся в структуре `SCROLLINFO`.|
|[CWnd::GetScrollLimit](#getscrolllimit)|Извлекает ограничение полосы прокрутки.|
|[CWnd::GetScrollPos](#getscrollpos)|Извлекает текущее положение ползунка.|
|[CWnd::GetScrollRange](#getscrollrange)|Копирует текущие значения минимума и максимума указанной полосы прокрутки.|
|[CWnd::GetStyle](#getstyle)|Возвращает стиль текущего окна.|
|[CWnd::GetSystemMenu](#getsystemmenu)|Позволяет приложению получить доступ к оконному меню для копирования и изменения.|
|[CWnd::GetTitleBarInfo](#gettitlebarinfo)|Извлекает сведения об указанной строке заголовка.|
|[CWnd::GetTopLevelFrame](#gettoplevelframe)|Извлекает окно фрейма верхнего уровня для указанного окна.|
|[CWnd::GetTopLevelOwner](#gettoplevelowner)|Извлекает окно верхнего уровня.|
|[CWnd::GetTopLevelParent](#gettoplevelparent)|Извлекает родительское окно верхнего уровня для указанного окна.|
|[CWnd::GetTopWindow](#gettopwindow)|Возвращает первое дочернее окно, принадлежащее к классу `CWnd`.|
|[CWnd::GetUpdateRect](#getupdaterect)|Извлекает координаты наименьшего прямоугольника, в который полностью входит область обновления `CWnd`.|
|[CWnd::GetUpdateRgn](#getupdatergn)|Извлекает область обновления `CWnd`.|
|[CWnd::GetWindow](#getwindow)|Возвращает окно, связанное с данным окном указанным образом.|
|[CWnd::GetWindowContextHelpId](#getwindowcontexthelpid)|Извлекает идентификатор контекста для справки.|
|[CWnd::GetWindowDC](#getwindowdc)|Извлекает контекст отображения для всего окна, включая его строку заголовка, меню и полосы прокрутки.|
|[CWnd::GetWindowedChildCount](#getwindowedchildcount)|Возвращает количество связанных дочерних окон.|
|[CWnd::GetWindowInfo](#getwindowinfo)|Возвращает информацию об окне.|
|[CWnd::GetWindowlessChildCount](#getwindowlesschildcount)|Возвращает количество связанных безоконных дочерних окон.|
|[CWnd::GetWindowPlacement](#getwindowplacement)|Получает состояние отображения, а также обычное (восстановленное), свернутое и развернутое состояния окна.|
|[CWnd::GetWindowRect](#getwindowrect)|Получает экранные координаты объекта `CWnd`.|
|[CWnd::GetWindowRgn](#getwindowrgn)|Извлекает копию области окна.|
|[CWnd::GetWindowText](#getwindowtext)|Возвращает текст или заголовок окна (при наличии).|
|[CWnd::GetWindowTextLength](#getwindowtextlength)|Возвращает длину текста или заголовка окна.|
|[CWnd::HideCaret](#hidecaret)|Скрывает курсор, удалив его из отображаемой области.|
|[CWnd::HiliteMenuItem](#hilitemenuitem)|Выделяет или отменяет выделение элемента меню верхнего уровня (в строке меню).|
|[CWnd::HtmlHelp](#htmlhelp)|Вызывается для запуска приложения HTMLHelp.|
|[CWnd::Invalidate](#invalidate)|Делает недействительной всю клиентскую область.|
|[CWnd::InvalidateRect](#invalidaterect)|Делает недействительной клиентскую область в пределах заданного прямоугольника, добавляя этот прямоугольник в текущую область обновления.|
|[CWnd::InvalidateRgn](#invalidatergn)|Делает недействительной клиентскую область в пределах заданной области, добавляя эту область в текущую область обновления.|
|[CWnd::InvokeHelper](#invokehelper)|Вызывает метод или свойство элемента управления ActiveX.|
|[CWnd::IsChild](#ischild)|Указывает, является `CWnd` дочерним окном или другим прямым потомком указанного окна.|
|[CWnd::IsD2DSupportEnabled](#isd2dsupportenabled)|Определяет, включена ли поддержка D2D.|
|[CWnd::IsDialogMessage](#isdialogmessage)|Определяет, предназначено ли данное сообщение для немодального диалогового окна, и, если предназначено, обрабатывает его.|
|[CWnd::IsDlgButtonChecked](#isdlgbuttonchecked)|Определяет, отмечен ли элемент управления "Кнопка".|
|[CWnd::IsDynamicLayoutEnabled](#isdynamiclayoutenabled)|Определяет, активен ли для данного окна динамический макет. Если динамический макет активен, положение и размеры дочерних окон могут меняться при изменении пользователем размера родительского окна.|
|[CWnd::IsIconic](#isiconic)|Определяет, является ли объект `CWnd` свернутым (преобразованным в значок).|
|[CWnd::IsTouchWindow](#istouchwindow)|Указывает, поддерживает ли объект `CWnd` сенсорный ввод.|
|[CWnd::IsWindowEnabled](#iswindowenabled)|Определяет, возможен ли в окне ввод с помощью мыши и клавиатуры.|
|[CWnd::IsWindowVisible](#iswindowvisible)|Определяет, является ли окно видимым.|
|[CWnd::IsZoomed](#iszoomed)|Определяет, является ли объект `CWnd` развернутым.|
|[CWnd::KillTimer](#killtimer)|Уничтожает системный таймер.|
|[CWnd::LockWindowUpdate](#lockwindowupdate)|Отключает или повторно включает возможность рисования в заданном окне.|
|[CWnd::MapWindowPoints](#mapwindowpoints)|Преобразует набор точек из координатного пространства объекта `CWnd` в координатное пространство другого окна.|
|[CWnd::MessageBox](#messagebox)|Создает и отображает окно, содержащее предоставленные приложением сообщение и заголовок.|
|[CWnd::ModifyStyle](#modifystyle)|Изменяет стиль текущего окна.|
|[CWnd::ModifyStyleEx](#modifystyleex)|Изменяет расширенный стиль окна.|
|[CWnd::MoveWindow](#movewindow)|Изменяет положение и размеры объекта `CWnd`.|
|[CWnd::NotifyWinEvent](#notifywinevent)|Сообщает системе, что произошло предопределенное событие.|
|[CWnd::OnAmbientProperty](#onambientproperty)|Реализует значения внешнего свойства.|
|[CWnd::OnDrawIconicThumbnailOrLivePreview](#ondrawiconicthumbnailorlivepreview)|Вызывается платформой, когда необходимо отобразить растровое изображение на эскизе вкладки Windows 7 или клиенте для быстрого просмотра приложения.|
|[CWnd::OnHelp](#onhelp)|Обрабатывает справку F1 в приложении (с использованием текущего контекста).|
|[CWnd::OnHelpFinder](#onhelpfinder)|Обрабатывает ID_HELP_FINDER и ID_DEFAULT_HELP команды.|
|[CWnd::OnHelpIndex](#onhelpindex)|Обрабатывает ID_HELP_INDEX команду и предоставляет тему справки по умолчанию.|
|[CWnd::OnHelpUsing](#onhelpusing)|Обрабатывает команду ID_HELP_USING.|
|[CWnd::OnToolHitTest](#ontoolhittest)|Определяет, находится ли указатель в прямоугольнике указанного инструмента и извлекает информацию об этом инструменте.|
|[CWnd::OpenClipboard](#openclipboard)|Открывает буфер обмена. Другие приложения не смогут изменять Clipboard до тех пор, пока не будет вызвана функция Windows [CloseClipboard.](/windows/win32/api/winuser/nf-winuser-closeclipboard)|
|[CWnd::PaintWindowlessControls](#paintwindowlesscontrols)|Рисует неоконные элементы управления в контейнере элемента управления.|
|[CWnd::PostMessage](#postmessage)|Размещает сообщение в очереди приложения, а затем возвращает управление, не ожидая окончания обработки сообщения окном.|
|[CWnd::PreCreateWindow](#precreatewindow)|Вызывается до создания окна Windows, присоединенного к данному объекту класса `CWnd`.|
|[CWnd::PreSubclassWindow](#presubclasswindow)|Позволяет другим необходимым подклассам произойти до [subclassWindow](#subclasswindow) называется.|
|[CWnd::PreTranslateMessage](#pretranslatemessage)|Используется объектом `CWinApp` для фильтрации сообщений окон до их передачи функциям Windows `TranslateMessage` и `DispatchMessage`.|
|[CWnd::Print](#print)|Рисует текущее окно в заданном контексте устройства.|
|[CWnd::PrintClient](#printclient)|Рисует любое окно в заданном контексте устройства (обычно принтера).|
|[CWnd::PrintWindow](#printwindow)|Копирует визуальное окно в указанный контекст устройства (обычно принтера).|
|[CWnd::RedrawWindow](#redrawwindow)|Обновляет заданную прямоугольную или другую область в клиентской области.|
|[CWnd::RegisterTouchWindow](#registertouchwindow)|Регистрация и отмена регистрации поддержки технологии касания Windows.|
|[CWnd::ReleaseDC](#releasedc)|Освобождает контексты устройств клиента и окна, делая возможным их использование другими приложениями.|
|[CWnd::RepositionBars](#repositionbars)|Изменяет положение панелей элементов управления в клиентской области.|
|[CWnd::RunModalLoop](#runmodalloop)|Извлекает, преобразует или передает сообщения для окна, находящегося в модальном состоянии.|
|[CWnd::ScreenToClient](#screentoclient)|Преобразует экранные координаты указанной точки или прямоугольника в клиентские координаты.|
|[CWnd::ScrollWindow](#scrollwindow)|Прокручивает содержимое клиентской области.|
|[CWnd::ScrollWindowEx](#scrollwindowex)|Прокручивает содержимое клиентской области. Аналогично `ScrollWindow`, но с дополнительными возможностями.|
|[CWnd::SendChildNotifyLastMsg](#sendchildnotifylastmsg)|Передает дочернему окну уведомляющее сообщение от родительского окна, чтобы дочернее окно могло обработать задачу.|
|[CWnd::SendDlgItemMessage](#senddlgitemmessage)|Отправляет сообщение указанному элементу управления.|
|[CWnd::SendMessage](#sendmessage)|Передает сообщение объекту `CWnd` и не возвращает управление, пока оно не будет обработано.|
|[CWnd::SendMessageToDescendants](#sendmessagetodescendants)|Отправляет сообщение всем окнам-потомкам данного окна.|
|[CWnd::SendNotifyMessage](#sendnotifymessage)|Отправляет указанное сообщение окну и возвращает управление  при первой возможности, в зависимости от того, создано ли окно вызывающим потоком.|
|[CWnd::SetActiveWindow](#setactivewindow)|Активирует окно.|
|[CWnd::SetCapture](#setcapture)|Весь последующий ввод с помощью мыши передается объекту `CWnd`.|
|[CWnd::SetCaretPos](#setcaretpos)|Перемещает курсор в указанную позицию.|
|[CWnd::SetClipboardViewer](#setclipboardviewer)|Добавляет объект `CWnd` в цепочку окон, которым отправляются уведомления при изменении содержимого буфера обмена.|
|[CWnd::SetDlgCtrlID](#setdlgctrlid)|Задает для окна идентификатор элемента управления или окна. Идентификатор может задаваться для любого дочернего окна, а не только для элемента управления в диалоговом окне.|
|[CWnd::SetDlgItemInt](#setdlgitemint)|Располагает текст элемента управления в виде строки, являющейся представлением целого числа.|
|[CWnd::SetDlgItemText](#setdlgitemtext)|Задает заголовок или текст элемента управления в указанном диалоговом окне.|
|[CWnd::SetFocus](#setfocus)|Утверждает фокус ввода.|
|[CWnd::SetFont](#setfont)|Задает текущий шрифт.|
|[CWnd::SetForegroundWindow](#setforegroundwindow)|Помещает создавший окно поток на передний план и активирует окно.|
|[CWnd::SetIcon](#seticon)|Задает дескриптор для указанного значка.|
|[CWnd::SetLayeredWindowAttributes](#setlayeredwindowattributes)|Задает ключ цвета прозрачности многослойного окна.|
|[CWnd::SetMenu](#setmenu)|Меняет указанное меню на новое.|
|[CWnd::SetOwner](#setowner)|Изменяет владельца объекта `CWnd`.|
|[CWnd::SetParent](#setparent)|Изменяет родительское окно.|
|[CWnd::SetProperty](#setproperty)|Задает свойство элемента управления ActiveX.|
|[CWnd::SetRedraw](#setredraw)|Разрешает перерисовку изменений объекта `CWnd` или запрещает ее.|
|[CWnd::SetScrollInfo](#setscrollinfo)|Задает сведения о полосе прокрутки.|
|[CWnd::SetScrollPos](#setscrollpos)|Задает текущее положение ползунка и, если оно указано, перерисовывает полосу прокрутки в соответствии с новым положением.|
|[CWnd::SetScrollRange](#setscrollrange)|Задает для указанной полосы прокрутки положения минимума и максимума.|
|[CWnd::SetTimer](#settimer)|Устанавливает системный таймер, который отправляет [WM_TIMER](#ontimer) сообщение при срабатывании.|
|[CWnd::SetWindowContextHelpId](#setwindowcontexthelpid)|Задает идентификатор контекста справки.|
|[CWnd::SetWindowPlacement](#setwindowplacement)|Задает состояние отображения, а также обычное (восстановленное), свернутое и развернутое состояния окна.|
|[CWnd::SetWindowPos](#setwindowpos)|Изменяет размер, положение и порядок дочерних и всплывающих окон, а также окон верхнего уровня.|
|[CWnd::SetWindowRgn](#setwindowrgn)|Задает область окна.|
|[CWnd::SetWindowText](#setwindowtext)|Меняет текст или заголовок окна (при наличии) на указанный текст.|
|[CWnd::ShowCaret](#showcaret)|Показывает курсор в его текущем положении на экране. После отображения курсор начинает автоматически мигать.|
|[CWnd::ShowOwnedPopups](#showownedpopups)|Показывает или скрывает все всплывающие окна, принадлежащие окну.|
|[CWnd::ShowScrollBar](#showscrollbar)|Показывает или скрывает полосу прокрутки.|
|[CWnd::ShowWindow](#showwindow)|Показывает или скрывает окно.|
|[CWnd::SubclassDlgItem](#subclassdlgitem)|Прикрепляет элемент управления Windows к объекту `CWnd` и отдает ему команду перенаправлять сообщения с помощью схемы сообщений объекта `CWnd`.|
|[CWnd::SubclassWindow](#subclasswindow)|Прикрепляет окно к объекту `CWnd` и отдает ему команду перенаправлять сообщения с помощью схемы сообщений объекта `CWnd`.|
|[CWnd::UnlockWindowUpdate](#unlockwindowupdate)|Выполняет разблокировку окна, заблокированного с помощью метода `CWnd::LockWindowUpdate`.|
|[CWnd::UnsubclassWindow](#unsubclasswindow)|Отсоединяет окно от `CWnd` объекта|
|[CWnd::UpdateData](#updatedata)|Инициализирует или извлекает данные из диалогового окна.|
|[CWnd::UpdateDialogControls](#updatedialogcontrols)|Запрос на обновление состояния кнопок и других элементов управления диалогового окна.|
|[CWnd::UpdateLayeredWindow](#updatelayeredwindow)|Обновляет положение, размер, форму, содержимое и прозрачность многослойного окна.|
|[CWnd::UpdateWindow](#updatewindow)|Обновляет клиентскую область.|
|[CWnd::ValidateRect](#validaterect)|Проверяет клиентскую область в пределах заданного прямоугольника, удаляя этот прямоугольник из текущей области обновления.|
|[CWnd::ValidateRgn](#validatergn)|Проверяет клиентскую область в пределах заданной области, удаляя ее из текущей области обновления.|
|[CWnd::WindowFromPoint](#windowfrompoint)|Идентифицирует окно, содержащее заданную точку.|
|[CWnd::WinHelp](#winhelp)|Вызывается для запуска приложения WinHelp.|

### <a name="protected-methods"></a>Защищенные методы

|Имя|Описание|
|----------|-----------------|
|[CWnd::Default](#default)|Вызывает процедуру окна по умолчанию, обеспечивающую стандартную обработку любых сообщений окна, не обработанных приложением.|
|[CWnd::DefWindowProc](#defwindowproc)|Вызывает процедуру окна по умолчанию, обеспечивающую стандартную обработку любых сообщений окна, не обработанных приложением.|
|[CWnd::DoDataExchange](#dodataexchange)|Обеспечивает обмен данными диалогового окна и их проверку. Вызывается методом `UpdateData`.|
|[CWnd::GetCurrentMessage](#getcurrentmessage)|Возвращает указатель на сообщение, обрабатываемое этим окном в настоящий момент. Следует вызываться только `On`при работе в функции обработчика *сообщений.*|
|[CWnd::InitDynamicLayout](#initdynamiclayout)|Вызывается платформой для инициализации динамического макета окна.|
|[CWnd::LoadDynamicLayoutResource](#loaddynamiclayoutresource)|Загружает из файла ресурсов сведения о динамическом макете.|
|[CWnd::OnActivate](#onactivate)|Вызывается при активации или деактивации объекта `CWnd`.|
|[CWnd::OnActivateApp](#onactivateapp)|Вызывается непосредственно перед активацией или деактивацией приложения.|
|[CWnd::OnAppCommand](#onappcommand)|Вызывается, когда пользователь создает команду события приложения.|
|[CWnd::OnAskCbFormatName](#onaskcbformatname)|Вызывается приложением просмотра буфера обмена, когда владелец буфера обмена отображает его содержимое.|
|[CWnd::OnCancelMode](#oncancelmode)|Вызывается, чтобы разрешить объекту `CWnd` выполнить отмену всех внутренних режимов, таких как захват мыши.|
|[CWnd::OnCaptureChanged](#oncapturechanged)|Отправляет сообщение окну, теряющему захват мыши.|
|[CWnd::OnChangeCbChain](#onchangecbchain)|Уведомляет об удалении указанного окна из цепочки.|
|[CWnd::OnChangeUIState](#onchangeuistate)|Вызывается, когда необходимо изменить состояние пользовательского интерфейса.|
|[CWnd::OnChar](#onchar)|Вызывается, когда нажатие клавиши преобразуются в несистемный символ.|
|[CWnd::OnCharToItem](#onchartoitem)|Вызывается в поле списка детей со [стилем LBS_WANTKEYBOARDINPUT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) в ответ на [WM_CHAR](#onchar) сообщение.|
|[CWnd::OnChildActivate](#onchildactivate)|Вызывается для дочерних окон многодокументного интерфейса (MDI) при изменении размера или положения объекта `CWnd`, а также при активации объекта `CWnd`.|
|[CWnd::OnChildNotify](#onchildnotify)|Вызывается родительским окном, чтобы позволить уведомляющему элементу управления ответить на уведомление элемента управления.|
|[CWnd::OnClipboardUpdate](#onclipboardupdate)|Вызывается при изменении содержимого буфера обмена.|
|[CWnd::OnClose](#onclose)|Вызывается в качестве сигнала о необходимости закрытия объекта `CWnd`.|
|[CWnd::OnColorizationColorChanged](#oncolorizationcolorchanged)|Вызывается при изменении политики отрисовки неклиентской области.|
|[CWnd::OnCommand](#oncommand)|Вызывается, когда пользователь выбирает какую-либо команду.|
|[CWnd::OnCompacting](#oncompacting)|Вызывается, когда Windows обнаруживает нехватку системной памяти.|
|[CWnd::OnCompareItem](#oncompareitem)|Вызывается для определения относительной позиции нового элемента в элементе управления "Список" или в дочернем упорядоченном элементе управления "Поле со списком", рисуемом владельцем.|
|[CWnd::OnCompositionChanged](#oncompositionchanged)|Вызывается для всех окон верхнего уровня при включении или выключении композиции рабочего стола в диспетчере окон рабочего стола (DWM).|
|[CWnd::OnContextMenu](#oncontextmenu)|Вызывается, когда пользователь щелкает в окне правой кнопкой мыши.|
|[CWnd::OnCopyData](#oncopydata)|Копирует данные из одного приложения в другое.|
|[CWnd::OnCreate](#oncreate)|Вызывается при создании окна.|
|[CWnd::OnCtlColor](#onctlcolor)|Вызывается непосредственно перед рисованием элемента управления, если объект `CWnd` является родительским для элемента управления.|
|[CWnd::OnDeadChar](#ondeadchar)|Вызывается, когда нажатие клавиши преобразуется в несистемный диакритический знак.|
|[CWnd::OnDeleteItem](#ondeleteitem)|Вызывается, когда дочерний элемент управления "Поле со списком", рисуемый владельцем, или элемент управления "Поле со списком" уничтожается, а также при удалении из элемента управления элементов списка.|
|[CWnd::OnDestroy](#ondestroy)|Вызывается при уничтожении объекта `CWnd`.|
|[CWnd::OnDestroyClipboard](#ondestroyclipboard)|Вызывается, когда Clipboard опустела через вызов к функции Windows [EmptyClipboard.](/windows/win32/api/winuser/nf-winuser-emptyclipboard)|
|[CWnd::OnDeviceChange](#ondevicechange)|Сообщает приложению или драйверу устройства об изменении конфигурации оборудования устройства или компьютера. |
|[CWnd::OnDevModeChange](#ondevmodechange)|Вызывается для всех окон верхнего уровня, когда пользователь меняет параметры режима устройства.|
|[CWnd::OnDrawClipboard](#ondrawclipboard)|Вызывается при изменении содержимого буфера обмена.|
|[CWnd::OnDrawItem](#ondrawitem)|Вызывается, когда необходимо визуально изобразить рисуемый владельцем дочерний элемент управления "Кнопка", элемент управления "Поле со списком", элемент управления "Поле" или меню.|
|[CWnd::OnDropFiles](#ondropfiles)|Вызывается, когда пользователь отпускает левую кнопку мыши в окне, зарегистрировавшем себя в качестве получателя переносимых файлов.|
|[CWnd::OnEnable](#onenable)|Вызывается при включении или отключении объекта `CWnd`.|
|[CWnd::OnEndSession](#onendsession)|Вызывается во время окончания сессии.|
|[CWnd::OnEnterIdle](#onenteridle)|Вызывается для информирования процедуры главного окна приложения о переходе модального диалогового окна или меню в состояние простоя.|
|[CWnd::OnEnterMenuLoop](#onentermenuloop)|Вызывается при входе в модальный цикл меню.|
|[CWnd::OnEnterSizeMove](#onentersizemove)|Вызывается, когда затронутое окно входит в модальный цикл перемещения или изменения размера.|
|[CWnd::OnEraseBkgnd](#onerasebkgnd)|Вызывается, когда требуется стирание фона окна.|
|[CWnd::OnExitMenuLoop](#onexitmenuloop)|Вызывается при выходе из модального цикла меню.|
|[CWnd::OnExitSizeMove](#onexitsizemove)|Вызывается, когда затронутое окно выходит из модального цикла перемещения или изменения размера.|
|[CWnd::OnFontChange](#onfontchange)|Вызывается при изменении пула ресурсов шрифтов.|
|[CWnd::OnGetDlgCode](#ongetdlgcode)|Вызывается, чтобы элемент управления мог самостоятельно обрабатывать нажатия на клавиши со стрелками и клавишу TAB.|
|[CWnd::OnGetMinMaxInfo](#ongetminmaxinfo)|Вызывается, когда Windows требуется получить сведения о положении в развернутом состоянии, размерах, минимальном или максимальном размере отслеживания.|
|[CWnd::OnHelpInfo](#onhelpinfo)|Вызывается платформой, когда пользователь нажимает клавишу F1.|
|[CWnd::OnHotKey](#onhotkey)|Вызывается, когда пользователь нажимает общесистемное сочетание клавиш.|
|[CWnd::OnHScroll](#onhscroll)|Вызывается, когда пользователь щелкает горизонтальную полосу прокрутки объекта `CWnd`.|
|[CWnd::OnHScrollClipboard](#onhscrollclipboard)|Вызывается, когда владелец буфера обмена должен прокрутить изображение из буфера, объявить необходимый раздел недействительным, а также обновить значения полосы прокрутки.|
|[CWnd::OnIconEraseBkgnd](#oniconerasebkgnd)|Вызывается, когда объект `CWnd` сворачивается (преобразуется в значок) и фон значка необходимо заполнить до его рисования.|
|[CWnd::OnInitMenu](#oninitmenu)|Вызывается непосредственно перед тем, как меню станет активным.|
|[CWnd::OnInitMenuPopup](#oninitmenupopup)|Вызывается непосредственно перед тем, как всплывающее меню станет активным.|
|[CWnd::OnInputDeviceChange](#oninputdevicechange)|Вызывается при добавлении в систему устройства ввода-вывода или его удаления из нее.|
|[CWnd::OnInputLangChange](#oninputlangchange)|Вызывается после изменения языка ввода приложения.|
|[CWnd::OnInputLangChangeRequest](#oninputlangchangerequest)|Вызывается, когда пользователь выбирает новый язык ввода.|
|[CWnd::OnKeyDown](#onkeydown)|Вызывается при нажатии несистемной клавиши.|
|[CWnd::OnKeyUp](#onkeyup)|Вызывается, когда нажатая несистемная клавиша отпускается.|
|[CWnd::OnKillFocus](#onkillfocus)|Вызывается непосредственно перед тем, как объект `CWnd` теряет фокус ввода.|
|[CWnd::OnLButtonDblClk](#onlbuttondblclk)|Вызывается, когда пользователь дважды щелкает левой кнопкой мыши.|
|[CWnd::OnLButtonDown](#onlbuttondown)|Вызывается, когда пользователь щелкает левой кнопкой мыши.|
|[CWnd::OnLButtonUp](#onlbuttonup)|Вызывается, когда пользователь отпускает левую кнопку мыши.|
|[CWnd::OnMButtonDblClk](#onmbuttondblclk)|Вызывается, когда пользователь дважды щелкает средней кнопкой мыши.|
|[CWnd::OnMButtonDown](#onmbuttondown)|Вызывается, когда пользователь щелкает средней кнопкой мыши.|
|[CWnd::OnMButtonUp](#onmbuttonup)|Вызывается, когда пользователь отпускает среднюю кнопку мыши.|
|[CWnd::OnMDIActivate](#onmdiactivate)|Вызывается при активации или деактивации дочернего окна MDI.|
|[CWnd::OnMeasureItem](#onmeasureitem)|Вызывается для рисуемого владельцем дочернего элемента управление "Поле со списком", элемента управление "Список" или меню при создании нового элемента управления. Объект `CWnd` сообщает Windows размеры этого элемента управления.|
|[CWnd::OnMenuChar](#onmenuchar)|Вызывается, когда пользователь нажимает назначенный символ меню, не соответствующий ни одному из символов, назначенных для текущего меню.|
|[CWnd::OnMenuDrag](#onmenudrag)|Вызывается, когда пользователь начинает перетаскивать элемент меню.|
|[CWnd::OnMenuGetObject](#onmenugetobject)|Вызывается когда курсор мыши попадает на элемент меню или перемещается из центра элемента в его верхнюю или нижнюю часть.|
|[CWnd::OnMenuRButtonUp](#onmenurbuttonup)|Вызывается, если пользователь отпускает правую кнопку мыши, когда курсор находится на элементе меню.|
|[CWnd::OnMenuSelect](#onmenuselect)|Вызывается, когда пользователь выбирает элемент меню.|
|[CWnd::OnMouseActivate](#onmouseactivate)|Вызывается, если пользователь щелкает кнопкой мыши, когда курсор находится в неактивном окне.|
|[CWnd::OnMouseHover](#onmousehover)|Вызывается, когда курсор парит над областью клиента окна в течение периода времени, указанного в предыдущем вызове [TrackMouseEvent.](/windows/win32/api/winuser/nf-winuser-trackmouseevent)|
|[CWnd::OnMouseHWheel](#onmousehwheel)|Вызывается, если текущее окно создано диспетчером окон рабочего стола (DWM) и развернуто.|
|[CWnd::OnMouseLeave](#onmouseleave)|Вызывается, когда курсор покидает клиентскую область окна, указанную в предыдущем вызове [на TrackMouseEvent.](/windows/win32/api/winuser/nf-winuser-trackmouseevent)|
|[CWnd::OnMouseMove](#onmousemove)|Вызывается при перемещении указателя мыши.|
|[CWnd::OnMouseWheel](#onmousewheel)|Вызывается, когда пользователь вращает колесико мыши. Использует обработчик сообщений Windows NT 4.0.|
|[CWnd::OnMove](#onmove)|Вызывается после изменения положения объекта `CWnd`.|
|[CWnd::OnMoving](#onmoving)|Указывает, что пользователь перемещает объект `CWnd`.|
|[CWnd::OnNcActivate](#onncactivate)|Вызывается, когда требуется изменить неклиентскую область, чтобы указать на активное или неактивное состояние.|
|[CWnd::OnNcCalcSize](#onnccalcsize)|Вызывается, когда требуется вычислить размер и положение клиентской области.|
|[CWnd::OnNcCreate](#onnccreate)|Вызывается до [OnCreate,](#oncreate) когда создается неклиентская область.|
|[CWnd::OnNcDestroy](#onncdestroy)|Вызывается при уничтожении неклиентской области.|
|[CWnd::OnNcHitTest](#onnchittest)|Вызывается средой Windows при каждом перемещении указателя мыши, если объект `CWnd` содержит курсор или захватил ввод с помощью мыши, используя метод `SetCapture`.|
|[CWnd::OnNcLButtonDblClk](#onnclbuttondblclk)|Вызывается, если пользователь дважды щелкает левой кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcLButtonDown](#onnclbuttondown)|Вызывается, если пользователь щелкает левой кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcLButtonUp](#onnclbuttonup)|Вызывается, если пользователь отпускает левую кнопку мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcMButtonDblClk](#onncmbuttondblclk)|Вызывается, если пользователь дважды щелкает средней кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcMButtonDown](#onncmbuttondown)|Вызывается, если пользователь щелкает средней кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcMButtonUp](#onncmbuttonup)|Вызывается, если пользователь отпускает среднюю кнопку мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcMouseHover](#onncmousehover)|Вызывается, когда курсор парит над неклиентской областью окна в течение периода времени, указанного в предыдущем звонке [на TrackMouseEvent.](/windows/win32/api/winuser/nf-winuser-trackmouseevent)|
|[CWnd::OnNcMouseLeave](#onncmouseleave)|Рамочная функция вызывает эту функцию, когда курсор покидает область неклиента окна, указанную в предыдущем вызове [TrackMouseEvent.](/windows/win32/api/winuser/nf-winuser-trackmouseevent)|
|[CWnd::OnNcMouseMove](#onncmousemove)|Вызывается при перемещении курсора в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcPaint](#onncpaint)|Вызывается, когда требуется отрисовка неклиентской области.|
|[CWnd::OnNcRButtonDblClk](#onncrbuttondblclk)|Вызывается, если пользователь дважды щелкает правой кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcRButtonDown](#onncrbuttondown)|Вызывается, если пользователь щелкает правой кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcRButtonUp](#onncrbuttonup)|Вызывается, если пользователь отпускает правую кнопку мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcRenderingChanged](#onncrenderingchanged)|Вызывается при изменении политики отрисовки неклиентской области.|
|[CWnd::OnNcXButtonDblClk](#onncxbuttondblclk)|Вызывается, если пользователь дважды щелкает кнопкой XBUTTON1 или XBUTTON2, когда курсор находится в неклиентской области окна.|
|[CWnd::OnNcXButtonDown](#onncxbuttondown)|Вызывается, если пользователь щелкает кнопкой мыши XBUTTON1 или XBUTTON2, когда курсор находится в неклиентской области окна.|
|[CWnd::OnNcXButtonUp](#onncxbuttonup)|Вызывается, если пользователь отпускает кнопку мыши XBUTTON1 или XBUTTON2, когда курсор находится в неклиентской области окна.|
|[CWnd::OnNextMenu](#onnextmenu)|Посылается, когда для переключения между панелью меню и системным меню используется клавиша "Стрелка вправо" или "Стрелка влево".|
|[CWnd::OnNotify](#onnotify)|Вызывается платформой для информирования родительского окна о событии, произошедшем для одного из его элементов управления, или о запросе информации элементом управления.|
|[CWnd::OnNotifyFormat](#onnotifyformat)|Вызывается для определения, принимает текущее окно в сообщении WM_NOTIFY структуры формата ANSI или Юникода.|
|[CWnd::OnPaint](#onpaint)|Вызывается для перерисовки части окна.|
|[CWnd::OnPaintClipboard](#onpaintclipboard)|Вызывается, когда требуется перерисовка клиентской области окна просмотра буфера обмена.|
|[CWnd::OnPaletteChanged](#onpalettechanged)|Вызывается, чтобы разрешить окнам, использующим цветовую палитру, реализовать свои логические палитры и обновить клиентские области.|
|[CWnd::OnPaletteIsChanging](#onpaletteischanging)|Информирует другие приложения, когда приложение собирается реализовать свою логическую палитру.|
|[CWnd::OnParentNotify](#onparentnotify)|Вызывается при создании или уничтожении дочернего окна, а также если пользователь щелкает кнопкой мыши, когда курсор находится на дочернем окне.|
|[CWnd::OnPowerBroadcast](#onpowerbroadcast)|Вызывается при возникновении события управления питанием.|
|[CWnd::OnQueryDragIcon](#onquerydragicon)|Вызывается, непосредственно перед перетаскиванием свернутого (преобразованного в значок) объекта `CWnd`.|
|[CWnd::OnQueryEndSession](#onqueryendsession)|Вызывается при завершении пользователем сеанса Windows.|
|[CWnd::OnQueryNewPalette](#onquerynewpalette)|Сообщает объекту `CWnd`, что вскоре ему будет передан фокус ввода.|
|[CWnd::OnQueryOpen](#onqueryopen)|Вызывается, когда объект `CWnd` является значком, на открытие которого пользователь подает запрос.|
|[CWnd::OnQueryUIState](#onqueryuistate)|Вызывается, чтобы извлечь состояние пользовательского интерфейса окна.|
|[CWnd::OnRawInput](#onrawinput)|Вызывается, когда текущее окно получает необработанные данные ввода.|
|[CWnd::OnRButtonDblClk](#onrbuttondblclk)|Вызывается, когда пользователь дважды щелкает правой кнопкой мыши.|
|[CWnd::OnRButtonDown](#onrbuttondown)|Вызывается, когда пользователь щелкает правой кнопкой мыши.|
|[CWnd::OnRButtonUp](#onrbuttonup)|Вызывается, когда пользователь отпускает правую кнопку мыши.|
|[CWnd::OnRenderAllFormats](#onrenderallformats)|Вызывается при уничтожении приложения-владельца и необходимости отрисовки всех его форматов.|
|[CWnd::OnRenderFormat](#onrenderformat)|Вызывается для владельца буфера обмена при необходимости отрисовки формата, отрисовка которого была отложена.|
|[CWnd::OnSessionChange](#onsessionchange)|Вызывается для оповещения приложения об изменении состояния сеанса.|
|[CWnd::OnSetCursor](#onsetcursor)|Вызывается, если данные от мыши не фиксируются, и указатель мыши перемещается в окне.|
|[CWnd::OnSetFocus](#onsetfocus)|Вызывается, когда объект `CWnd` получает фокус ввода.|
|[CWnd::OnSettingChange](#onsettingchange)|Вызывается, когда функция Win32 `SystemParametersInfo` меняет параметр уровня системы.|
|[CWnd::OnShowWindow](#onshowwindow)|Вызывается непосредственно перед скрытием или отображением объекта `CWnd`.|
|[CWnd::OnSize](#onsize)|Вызывается после изменения размера объекта `CWnd`.|
|[CWnd::OnSizeClipboard](#onsizeclipboard)|Вызывается при изменении размера клиентской области окна буфера обмена.|
|[CWnd::OnSizing](#onsizing)|Указывает, что пользователь изменят размер прямоугольника.|
|[CWnd::OnSpoolerStatus](#onspoolerstatus)|Вызывается из диспетчера печати при каждом добавлении задачи в очередь диспетчера или удалении задания из нее.|
|[CWnd::OnStyleChanged](#onstylechanged)|Означает, что функция [SetWindowLong](/windows/win32/api/winuser/nf-winuser-setwindowlongw) Windows изменила один или несколько стилей окна.|
|[CWnd::OnStyleChanging](#onstylechanging)|Означает, что функция [SetWindowLong](/windows/win32/api/winuser/nf-winuser-setwindowlongw) Windows собирается изменить один или несколько стилей окна.|
|[CWnd::OnSysChar](#onsyschar)|Вызывается, когда нажатие клавиши преобразуется в системный символ.|
|[CWnd::OnSysColorChange](#onsyscolorchange)|Вызывается для всех окон верхнего уровня при изменении параметра системного цвета.|
|[CWnd::OnSysCommand](#onsyscommand)|Вызывается, когда пользователь выбирает команду в оконном меню или нажимает кнопку развертывания или свертывания.|
|[CWnd::OnSysDeadChar](#onsysdeadchar)|Вызывается, когда нажатие клавиши преобразуется в системный диакритический знак.|
|[CWnd::OnSysKeyDown](#onsyskeydown)|Вызывается, когда пользователь, удерживая клавишу ALT, нажимает другую клавишу.|
|[CWnd::OnSysKeyUp](#onsyskeyup)|Вызывается, когда пользователь отпускает клавишу, нажатую при удерживании клавиши ALT.|
|[CWnd::OnTCard](#ontcard)|Вызывается, когда пользователь нажимает настраиваемую кнопку.|
|[CWnd::OnTimeChange](#ontimechange)|Вызывается для всех окон верхнего уровня после изменения системного времени.|
|[CWnd::OnTimer](#ontimer)|Вызывается после каждого интервала, указанного в [SetTimer](#settimer).|
|[CWnd::OnTouchInput](#ontouchinput)|Обработка одного ввода Windows touch.|
|[CWnd::OnTouchInputs](#ontouchinputs)|Обработка входных данных Windows touch.|
|[CWnd::OnUniChar](#onunichar)|Вызывается при нажатии клавиши. То есть текущее окно имеет фокус клавиатуры, а [WM_KEYDOWN](/windows/win32/inputdev/wm-keydown) сообщение переводится функцией [TranslateMessage.](/windows/win32/api/winuser/nf-winuser-translatemessage)|
|[CWnd::OnUnInitMenuPopup](#onuninitmenupopup)|Вызывается при уничтожении раскрывающегося меню или подменю.|
|[CWnd::OnUpdateUIState](#onupdateuistate)|Вызывается, чтобы изменить состояние пользовательского интерфейса указанного окна и всех его дочерних окон.|
|[CWnd::OnUserChanged](#onuserchanged)|Вызывается при входе пользователя в систему или выходе из нее.|
|[CWnd::OnVKeyToItem](#onvkeytoitem)|Вызывается в поле `CWnd` списка, принадлежащем в ответ на [сообщение WM_KEYDOWN.](#onkeydown)|
|[CWnd::OnVScroll](#onvscroll)|Вызывается, когда пользователь щелкает вертикальную полосу прокрутки окна.|
|[CWnd::OnVScrollClipboard](#onvscrollclipboard)|Вызывается, когда владелец должен прокрутить изображение из буфера, объявить необходимый раздел недействительным, а также обновить значения полосы прокрутки.|
|[CWnd::OnWindowPosChanged](#onwindowposchanged)|Вызывается, когда размер, позиция или порядок изменяются в результате вызова [в SetWindowPos](#setwindowpos) или другой функции управления окнами.|
|[CWnd::OnWindowPosChanging](#onwindowposchanging)|Вызывается, когда размер, позиция или порядок в порядке службы в результате вызова [в SetWindowPos](#setwindowpos) или другой функции управления окнами.|
|[CWnd::OnWinIniChange](#onwininichange)|Вызывается для всех окон верхнего уровня после изменения файла инициализации Windows (WIN.INI).|
|[CWnd::OnWndMsg](#onwndmsg)|Указывает, что сообщение для окна обработано.|
|[CWnd::OnXButtonDblClk](#onxbuttondblclk)|Вызывается, если пользователь дважды щелкает кнопкой XBUTTON1 или XBUTTON2, когда курсор находится в клиентской области окна.|
|[CWnd::OnXButtonDown](#onxbuttondown)|Вызывается, если пользователь щелкает кнопкой XBUTTON1 или XBUTTON2, когда курсор находится в клиентской области окна.|
|[CWnd::OnXButtonUp](#onxbuttonup)|Вызывается, если пользователь отпускает кнопку XBUTTON1 или XBUTTON2, когда курсор находится в клиентской области окна.|
|[CWnd::PostNcDestroy](#postncdestroy)|Эта виртуальная функция вызывается функцией [OnNcDestroy](#onncdestroy) по умолчанию после того, как окно было уничтожено.|
|[CWnd::ReflectChildNotify](#reflectchildnotify)|Вспомогательная функция, отражающая сообщение его источнику.|
|[CWnd::ReflectLastMsg](#reflectlastmsg)|Отражает последнее сообщение дочернему окну.|
|[CWnd::ResizeDynamicLayout](#resizedynamiclayout)|Вызывается платформой при изменении размера окна для настройки макета дочерних окон, если для этого окна используется динамический макет.|
|[CWnd::WindowProc](#windowproc)|Предоставляет объекту `CWnd` процедуру окна. По умолчанию отправляет сообщения через схему сообщений.|

### <a name="public-operators"></a>Открытые операторы

|Имя|Описание|
|----------|-----------------|
|[CWnd::operator HWND](#operator_hwnd)|Вызывается для получения дескриптора окна.|
|[CWnd::оператор !](#operator_neq)|Определяет, является ли окно не таким, как окно, ручка которого [m_hWnd.](#m_hwnd)|
|[CWnd::operator ==](#operator_eq_eq)|Определяет, является ли окно таким же, как окно, рукоятки которого [m_hWnd.](#m_hwnd)|

### <a name="public-data-members"></a>Открытые члены данных

|Имя|Описание|
|----------|-----------------|
|[CWnd::m_hWnd](#m_hwnd)|Указывает на HWND прилагается к этому `CWnd`.|

## <a name="remarks"></a>Remarks

Объект `CWnd` используется отдельно от окна Windows, но они тесно связаны. Объект `CWnd` создается или уничтожается конструктором или деструктором `CWnd` соответственно. Окно Windows, с другой стороны, представляет собой структуру данных, внутреннюю к Windows, которая создается функцией `Create` члена и уничтожается `CWnd` виртуальным деструктором. Функция [DestroyWindow](#destroywindow) разрушает окно Windows, не разрушая объект.

Класс `CWnd` и механизм карты сообщений `WndProc` скрывают функцию. Входящие сообщения уведомлений Windows автоматически направляются через карту сообщений на соответствующие функции членов **On**<em>Message.</em> `CWnd` Вы переопределить функцию участника **On**<em>Message</em> для обработки конкретного сообщения участника в классах, полученных из полученных.

С помощью класса `CWnd` также возможно создание дочерних окон Windows для вашего приложения. Создайте производный класс от `CWnd`, а затем добавьте в него переменные-члены для хранения данных, относящихся к вашему приложению. Реализуйте в производном классе функции-члены обработчика сообщений и схему сообщений, чтобы указать, что происходит, когда сообщения направляются в окно.

Дочерние окна создаются в два этапа. Сначала позвоните в `CWnd` конструктор, `CWnd` чтобы построить объект, затем позвоните в функцию `CWnd` члена [Create,](#create) чтобы создать окно ребенка и прикрепите его к объекту.

Когда пользователь закроет ваше дочернее окно, уничтожьте объект `CWnd` или вызовите функцию-член `DestroyWindow` для удаления окна и уничтожения его структур данных.

В библиотеке Microsoft Foundation Class дальнейшие классы получаются как производные от `CWnd`, что позволяет создавать окна особых типов. Многие из этих классов, в том числе [CFrameWnd](../../mfc/reference/cframewnd-class.md), [CMDIFrameWnd](../../mfc/reference/cmdiframewnd-class.md), [CMDIChildWnd](../../mfc/reference/cmdichildwnd-class.md), [CView](../../mfc/reference/cview-class.md)и [CDialog,](../../mfc/reference/cdialog-class.md)предназначены для дальнейшего произвлечения. Контрольные классы, `CWnd`полученные из, такие как [CButton](../../mfc/reference/cbutton-class.md), могут быть использованы непосредственно или могут быть использованы для дальнейшего произвлечения классов.

Для получения дополнительной `CWnd`информации об [Window Objects](../../mfc/window-objects.md)использовании [см.](../../mfc/frame-windows.md)

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

`CWnd`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

## <a name="cwndaccdodefaultaction"></a><a name="accdodefaultaction"></a>CWnd::accDoDefaultAction

Вызывается платформой для выполнения объектом действия по умолчанию.

```
virtual HRESULT accDoDefaultAction(VARIANT varChild);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Определяет, является ли действие по умолчанию, которое необходимо высвобовать, объектом или одним из элементов ребенка объекта. Этот параметр может быть как CHILDID_SELF (для выполнения действия объекта по умолчанию), либо идентификатора ребенка (для выполнения действия по умолчанию одного из элементов ребенка объекта).

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::accDoDefaultAction](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accdodefaultaction) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переизвейдиэту `CWnd`функцию в классе,производное для выполнения действий объекта по умолчанию. Для получения дополнительной информации см. [IAccessible::accDoDefaultAction](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accdodefaultaction) в Windows SDK.

## <a name="cwndacchittest"></a><a name="acchittest"></a>CWnd::accHitTest

Вызывается платформой для извлечения дочернего элемента или дочернего объекта в заданной точке экрана.

```
virtual HRESULT accHitTest(
    long xLeft,
    long yTop,
    VARIANT* pvarChild);
```

### <a name="parameters"></a>Параметры

*x Слева*<br/>
X-координация точки, которая будет проверена (в экранах единиц).

*yTop*<br/>
Y-координаты точки, которая будет поражена (в экранах единиц).

*pvarChild*<br/>
Получает информацию, идентифицирующую объект в точке, указанной *xLeft* и *yTop.* Смотрите *pvarID* в [IAccessible::accHitTest](/windows/win32/api/oleacc/nf-oleacc-iaccessible-acchittest) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::accHitTest` в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации см. [IAccessible::accHitTest](/windows/win32/api/oleacc/nf-oleacc-iaccessible-acchittest) в Windows SDK.

## <a name="cwndacclocation"></a><a name="acclocation"></a>CWnd::accLocation

Вызывается платформой для получения текущего положения указанного объекта на экране.

```
virtual HRESULT accLocation(
    long* pxLeft,
    long* pyTop,
    long* pcxWidth,
    long* pcyHeight,
    VARIANT varChild);
```

### <a name="parameters"></a>Параметры

*pxСлева*<br/>
Получает x-координат верхнего левого угла объекта (в блоках экрана).

*pyTop*<br/>
Получает y-координат верхнего левого угла объекта (в блоках экрана).

*pcxWidth*<br/>
Получает ширину объекта (в блоках экрана).

*pcyHeight*<br/>
Получает высоту объекта (в блоках экрана).

*varChild*<br/>
Уточняется, является ли место, которое необходимо получить, местом, которое необходимо получить, объектили или один из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::accLocation` в SDK Windows.

### <a name="remarks"></a>Remarks

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной `IAccessible::accLocation` информации см.

## <a name="cwndaccnavigate"></a><a name="accnavigate"></a>CWnd::accNavigate

Вызывается платформой для перехода к другому элементу пользовательского интерфейса внутри контейнера и, если возможно, для извлечения объекта.

```
virtual HRESULT accNavigate(
    long navDir,
    VARIANT varStart,
    VARIANT* pvarEndUpAt);
```

### <a name="parameters"></a>Параметры

*navDir*<br/>
Определяет направление навигации. Смотрите *navDir* в [IAccessible::accNavigate](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accnavigate) в Windows SDK.

*varStart*<br/>
Определяет исходный объект. Смотрите *varStart* в `IAccessible::accNavigate` Windows SDK.

*pvarendupAt*<br/>
Получает информацию об объекте пользовательского интерфейса назначения. Смотрите *PvarEnd* в `IAccessible::accNavigate` Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::accNavigate` в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации см. [IAccessible::accNavigate](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accnavigate) в Windows SDK.

## <a name="cwndaccselect"></a><a name="accselect"></a>CWnd::accSelect

Вызывается платформой для изменения выбранной области или перемещения фокуса клавиатурного ввода указанного объекта.

```
virtual HRESULT accSelect(
    long flagsSelect,
    VARIANT varChild);
```

### <a name="parameters"></a>Параметры

*флагиВыберите*<br/>
Определяет, как изменить текущий выбор или фокус. Смотрите *флагиВыберите* в [IAccessible::accSelect](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accselect) в Windows SDK.

*varChild*<br/>
Определяет выбранный объект. Этот параметр может быть как CHILDID_SELF (для выбора самого объекта), либо идентификатором ребенка (для выбора одного из детей объекта).

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::accSelect` в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации см. [IAccessible::accSelect](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accselect) в Windows SDK.

## <a name="cwndanimatewindow"></a><a name="animatewindow"></a>CWnd::AnimateWindow

Производит специальные эффекты при показе или сокрытии окон.

```
BOOL AnimateWindow(
    DWORD dwTime,
    DWORD dwFlags);
```

### <a name="parameters"></a>Параметры

*dwTime*<br/>
Определяет, сколько времени требуется для воспроизведения анимации, в миллисекундах. Обычно для воспроизведения анимации требуется 200 миллисекунд.

*dwFlags*<br/>
Определяет тип анимации. Полный список возможных значений можно узнать на экране [AnimateWindow.](/windows/win32/api/winuser/nf-winuser-animatewindow)

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [AnimateWindow](/windows/win32/api/winuser/nf-winuser-animatewindow), как описано в Windows SDK.

## <a name="cwndarrangeiconicwindows"></a><a name="arrangeiconicwindows"></a>CWnd::ArrangeIconicWindows

Упорядочивает все свернутые (преобразованные в значки) дочерние окна.

```
UINT ArrangeIconicWindows();
```

### <a name="return-value"></a>Возвращаемое значение

Высота одного ряда иконок, если функция успешна; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция участника также организует значки на окне рабочего стола, которое охватывает весь экран. Функция члена [GetDesktopWindow](#getdesktopwindow) получает указатель на объект окна рабочего стола.

Чтобы организовать знаковые окна mDI ребенка в окне клиента MDI, позвоните [CMDIFrameWnd::MDIIconArrange](../../mfc/reference/cmdiframewnd-class.md#mdiiconarrange).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#66](../../mfc/reference/codesnippet/cpp/cwnd-class_1.cpp)]

## <a name="cwndattach"></a><a name="attach"></a>CWnd::Прикрепите

Прикрепляет окно Windows `CWnd` к объекту.

```
BOOL Attach(HWND hWndNew);
```

### <a name="parameters"></a>Параметры

*hWndNew*<br/>
Определяет ручку к окну Windows.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

В этом примере показано, как использовать Прикрепить и Отек для отображения в окне клиента MDI.

[!code-cpp[NVC_MFCWindowing#67](../../mfc/reference/codesnippet/cpp/cwnd-class_2.h)]

[!code-cpp[NVC_MFCWindowing#68](../../mfc/reference/codesnippet/cpp/cwnd-class_3.cpp)]

[!code-cpp[NVC_MFCWindowing#69](../../mfc/reference/codesnippet/cpp/cwnd-class_4.cpp)]

## <a name="cwndbeginmodalstate"></a><a name="beginmodalstate"></a>CWnd::BeginModalState

Данная функция-член вызывается для преобразования окна фрейма в модальное.

```
virtual void BeginModalState();
```

## <a name="cwndbeginpaint"></a><a name="beginpaint"></a>CWnd::BeginPaint

`CWnd` Готовится к покраске и заполняет структуру `PAINTSTRUCT` данных информацией о картине.

```
CDC* BeginPaint(LPPAINTSTRUCT lpPaint);
```

### <a name="parameters"></a>Параметры

*lpPaint*<br/>
Указывает на структуру [PAINTSTRUCT,](/windows/win32/api/winuser/ns-winuser-paintstruct) которая должна получать информацию о покраске.

### <a name="return-value"></a>Возвращаемое значение

Определяет контекст устройства `CWnd`для . Указатель может быть временным и не должен храниться за пределами [EndPaint.](#endpaint)

### <a name="remarks"></a>Remarks

Структура краски содержит структуру данных RECT, которая имеет наименьший прямоугольник, который полностью закрывает область обновления, и флаг, который определяет, был ли стерт фон.

Область обновления устанавливается [недействительными,](#invalidate) [недействительными](#invalidaterect)функциями [участника](#invalidatergn) И системой после того, как она размерирует, перемещает, создает, прокручивает или выполняет любую другую операцию, которая влияет на область клиента. Если область обновления помечена для `BeginPaint` стыкания, отправляет сообщение [WM_ONERASEBKGND.](#onerasebkgnd)

Не звоните `BeginPaint` в функцию участника, кроме как в ответ на [WM_PAINT](#onpaint) сообщение. Каждый вызов `BeginPaint` функции участника должен иметь соответствующий вызов для функции участника [EndPaint.](#endpaint) Если карета находится в области, `BeginPaint` подавки картины, функция члена автоматически скрывает карету, чтобы предотвратить его стирание.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#70](../../mfc/reference/codesnippet/cpp/cwnd-class_5.cpp)]

## <a name="cwndbinddefaultproperty"></a><a name="binddefaultproperty"></a>CWnd::BindDefaultProperty

Связывает простое связанное свойство объекта вызова (например, элемент управления исправлением), отмеченное в библиотеке типа, с базовым курсором, определяемым dataSource, UserName, Password и S'L свойствами управления источником данных.

```
void BindDefaultProperty(
    DISPID dwDispID,
    VARTYPE vtProp,
    LPCTSTR szFieldName,
    CWnd* pDSCWnd);
```

### <a name="parameters"></a>Параметры

*dwDispID*<br/>
Определяет DISPID свойства на элементе управления, связанном с данными, которое должно быть связано с управлением источником данных.

*vtProp*<br/>
Упомяните тип собственности, который должен быть связан - например, VT_BSTR, VT_VARIANT и так далее.

*szFieldName*<br/>
Укравит название столбца в курсоре, предоставленном управлением источником данных, к которому будет привязано свойство.

*pDSCWnd*<br/>
Указывает на окно, в котором размещается элемент управления исходным источником данных, к которому будет привязано свойство. Позвоните `GetDlgItem` с идентификатором ресурса окна узла DCS, чтобы получить этот указатель.

### <a name="remarks"></a>Remarks

Объект, `CWnd` на котором вы называете эту функцию, должен быть элементом управления, связанным с данными.

### <a name="example"></a>Пример

`BindDefaultProperty`могут быть использованы в следующем контексте:

[!code-cpp[NVC_MFC_AxDataBinding#2](../../mfc/reference/codesnippet/cpp/cwnd-class_7.cpp)]

## <a name="cwndbindproperty"></a><a name="bindproperty"></a>CWnd::BindProperty

Связывает свойство, связанное с курсором, на элементе управления данными (например, контроль сетки) с контролем источника данных и регистрирует связь с связывающим менеджером MFC.

```
void BindProperty(
    DISPID dwDispId,
    CWnd* pWndDSC);
```

### <a name="parameters"></a>Параметры

*dwDispId*<br/>
Определяет DISPID свойства на элементе управления, связанном с данными, которое должно быть связано с управлением источником данных.

*pWndDSC*<br/>
Указывает на окно, в котором размещается элемент управления исходным источником данных, к которому будет привязано свойство. Позвоните `GetDlgItem` с идентификатором ресурса окна узла DCS, чтобы получить этот указатель.

### <a name="remarks"></a>Remarks

Объект, `CWnd` на котором вы называете эту функцию, должен быть элементом управления, связанным с данными.

### <a name="example"></a>Пример

`BindProperty`могут быть использованы в следующем контексте:

[!code-cpp[NVC_MFC_AxDataBinding#4](../../mfc/reference/codesnippet/cpp/cwnd-class_9.cpp)]

## <a name="cwndbringwindowtotop"></a><a name="bringwindowtotop"></a>CWnd::BringWindowToTop

Перемещает `CWnd` на вершину стека перекрывающихся окон.

```
void BringWindowToTop();
```

### <a name="remarks"></a>Remarks

Кроме того `BringWindowToTop` активирует всплывающие окна, окна высшего уровня и дочерние окна MDI. Функцию-член `BringWindowToTop` следует использовать, чтобы показать любое окно, частично или полностью скрытое какими-либо перекрывающими окнами.

Эта функция просто вызывает функцию Win32 [BringWindowToTop.](/windows/win32/api/winuser/nf-winuser-bringwindowtotop) Вызовите функцию [SetWindowPos,](#setwindowpos) чтобы изменить положение окна в заказе. Функция `BringWindowToTop` не изменяет стиль окна, чтобы сделать его окном верхнего уровня. Для получения дополнительной информации, смотрите [В чем разница между HWND_TOP и HWND_TOPMOST](https://devblogs.microsoft.com/oldnewthing/?p=33263)

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#71](../../mfc/reference/codesnippet/cpp/cwnd-class_10.cpp)]

## <a name="cwndcalcwindowrect"></a><a name="calcwindowrect"></a>CWnd::CalcWindowRect

Вычисляет прямоугольник окна, который может содержать указанный прямоугольник клиента.

```
virtual void CalcWindowRect(
    LPRECT lpClientRect,
    UINT nAdjustType = adjustBorder);
```

### <a name="parameters"></a>Параметры

*lpClientRect*<br/>
(в, вне) Указатель на структуру прямоугольника. При входе эта структура содержит прямоугольник клиента. После завершения метода эта структура содержит прямоугольник окна, который может содержать указанный прямоугольник клиента.

*nAdjustType*<br/>
(в) Используйте `CWnd::adjustBorder` для расчета координат окон без WS_EX_CLIENTEDGE стиля; в противном случае, использовать `CWnd::adjustOutside`.

### <a name="remarks"></a>Remarks

Размер вычисленного прямоугольника окна не включает место для панели меню.

Дополнительные ограничения на использование можно узнать на примере [AdjustWindowRecTEx.](/windows/win32/api/winuser/nf-winuser-adjustwindowrectex)

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#72](../../mfc/reference/codesnippet/cpp/cwnd-class_11.cpp)]

## <a name="cwndcanceltooltips"></a><a name="canceltooltips"></a>CWnd::CancelToolTips

Вызов эту функцию члена, чтобы удалить наконечник инструмента с экрана, если наконечник инструмента в настоящее время отображается.

```
static void PASCAL CancelToolTips(BOOL bKeys = FALSE);
```

### <a name="parameters"></a>Параметры

*bKeys*<br/>
TRUE для отмены советов по инструменту при нажатии клавиши и установки текста панели статуса по умолчанию; в противном случае FALSE.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Использование этой функции члена не влияет на советы инструмента, управляемые вашим кодом. Это влияет только на инструмент отзыв управления [CWnd::EnableToolTips](#enabletooltips).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#73](../../mfc/reference/codesnippet/cpp/cwnd-class_12.cpp)]

## <a name="cwndcenterwindow"></a><a name="centerwindow"></a>CWnd:CenterWindow

Выравнивает окно по центру относительно его родительских окон.

```
void CenterWindow(CWnd* pAlternateOwner = NULL);
```

### <a name="parameters"></a>Параметры

*pAlternateВладелец*<br/>
Указатель на альтернативное окно, относительно которого оно будет по центру (кроме родительского окна).

### <a name="remarks"></a>Remarks

Обычно вызывается из [CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog) в центр диалоговых коробок относительно основного окна приложения. По умолчанию функции центры детских окон по отношению к их родительскому окну, и всплывающие окна по отношению к их владельцу. Если всплывающее окно не принадлежит, оно центрируется по отношению к экрану. Для центрировать окно по отношению к определенному окну, которое не является владельцем или родителем, параметр *pAlternateOwner* может быть установлен на действительное окно. Чтобы заставить центрирование относительно экрана, передайте значение, возвращенное [CWnd::GetDesktopWindow](#getdesktopwindow) как *pAlternateOwner.*

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#74](../../mfc/reference/codesnippet/cpp/cwnd-class_13.cpp)]

## <a name="cwndchangeclipboardchain"></a><a name="changeclipboardchain"></a>CWnd::ChangeClipboardChain

Удаляет `CWnd` из цепочки Clipboard зрителей и делает окно, указанное `CWnd` *hWndNext* потомком предка в цепочке.

```
BOOL ChangeClipboardChain(HWND hWndNext);
```

### <a name="parameters"></a>Параметры

*hWndNext*<br/>
Идентифицирует окно, `CWnd` которое следует в цепочке Clipboard-viewer.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

## <a name="cwndcheckdlgbutton"></a><a name="checkdlgbutton"></a>CWnd::CheckDlgButton

Выбрав (устанавливает галочку рядом) или очищает (удаляет контрольный знак) кнопку, или она изменяет состояние кнопки с тремя состояниями.

```
void CheckDlgButton(
    int nIDButton,
    UINT nCheck);
```

### <a name="parameters"></a>Параметры

*nIDButton*<br/>
Определяет кнопку для изменения.

*Nпроверьте*<br/>
Определяет действия, которые необходимо предпринять. Если *nCheck* является ненулевой, функция `CheckDlgButton` участника устанавливает галостопную отметку рядом с кнопкой; если 0, контрольный знак удаляется. Для кнопок с тремя состояниями, если *nCheck* 2, состояние кнопки является неопределенным.

### <a name="remarks"></a>Remarks

Функция `CheckDlgButton` отправляет [BM_SETCHECK](/windows/win32/Controls/bm-setcheck) сообщение на указанную кнопку.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#75](../../mfc/reference/codesnippet/cpp/cwnd-class_14.cpp)]

## <a name="cwndcheckradiobutton"></a><a name="checkradiobutton"></a>CWnd::CheckRadioButton

Выбирает (добавляет контрольный знак) заданную радиокнопку в группе и очищает (удаляет галочку) все остальные радиокнопки в группе.

```
void CheckRadioButton(
    int nIDFirstButton,
    int nIDLastButton,
    int nIDCheckButton);
```

### <a name="parameters"></a>Параметры

*nIDFirstButton*<br/>
Определяет идентификатор первой радиокнопки в группе.

*nIDLastButton*<br/>
Определяет идентификатор всей этой кнопки радио в группе.

*nIDCheckButton*<br/>
Определяет идентификатор бесхопозна кнопки радио, которая должна быть проверена.

### <a name="remarks"></a>Remarks

Функция `CheckRadioButton` отправляет [BM_SETCHECK](/windows/win32/Controls/bm-setcheck) сообщение на указанную кнопку радио.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#76](../../mfc/reference/codesnippet/cpp/cwnd-class_15.cpp)]

## <a name="cwndchildwindowfrompoint"></a><a name="childwindowfrompoint"></a>CWnd::ChildWindowFromPoint

Определяет, какие окна ребенка, принадлежащие `CWnd` ребенку, содержат указанную точку.

```
CWnd* ChildWindowFromPoint(POINT point) const;

CWnd* ChildWindowFromPoint(
    POINT point,
    UINT nFlags) const;
```

### <a name="parameters"></a>Параметры

*Точки*<br/>
Определяет координаты клиента точки, которые должны быть протестированы.

*nфлаги*<br/>
Определяет, какие окна ребенка пропустить. Этот параметр может быть комбинацией следующих значений:

|Значение|Значение|
|-----------|-------------|
|CWP_ALL|Не пропускайте детские окна|
|CWP_SKIPINVISIBLE|Пропустить невидимые детские окна|
|CWP_SKIPDISABLED|Пропустить детские окна для инвалидов|
|CWP_SKIPTRANSPARENT|Пропустить прозрачные детские окна|

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует окно ребенка, содержащее точку. Это NULL, если данный пункт находится за пределами клиентской области. Если точка находится в зоне клиента, но не `CWnd` содержится в окне ребенка, возвращается.

Эта функция участника возвращает скрытое или отключенное окно ребенка, содержащее указанную точку.

Более одного окна может содержать заданную точку. Однако эта функция `CWnd`возвращает только первое окно, содержащее точку.

Возвращенное `CWnd`может быть временным и не должно храниться для последующего использования.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#77](../../mfc/reference/codesnippet/cpp/cwnd-class_16.cpp)]

## <a name="cwndclienttoscreen"></a><a name="clienttoscreen"></a>CWnd::ClientToScreen

Преобразует клиентские координаты указанной точки или прямоугольника на экране в экранные координаты.

```
void ClientToScreen(LPPOINT lpPoint) const;  void ClientToScreen(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpPoint*<br/>
Указывает на структуру `CPoint` или объект [POINT,](/windows/win32/api/windef/ns-windef-point) содержащий координаты клиента, которые должны быть преобразованы.

*lpRect*<br/>
Указывает на структуру `CRect` или объект [RECT,](/windows/win32/api/windef/ns-windef-rect) содержащий координаты клиента, которые должны быть преобразованы.

### <a name="remarks"></a>Remarks

Функция `ClientToScreen` члена использует координаты `RECT` клиента `CPoint` в `CRect` структуре `POINT` или объекте, на который указывает *lpPoint* или *lpRect,* для вычисления новых координат экрана; затем он заменяет координаты в структуре новыми координатами. Новые координаты экрана относительно верхнего левого угла дисплея системы.

Функция `ClientToScreen` участника предполагает, что данная точка или прямоугольник находится в координатах клиента.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#78](../../mfc/reference/codesnippet/cpp/cwnd-class_17.cpp)]

## <a name="cwndclosewindow"></a><a name="closewindow"></a>CWnd::CloseWindow

Сворачивает окно.

```
void CloseWindow();
```

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [CloseWindow](/windows/win32/api/winuser/nf-winuser-closewindow), как описано в Windows SDK.

## <a name="cwndcontinuemodal"></a><a name="continuemodal"></a>CWnd::ПродолжитьМод

Эта функция члена вызывается [RunModalLoop,](#runmodalloop) чтобы определить, когда модоальное состояние должно быть выведено.

```
virtual BOOL ContinueModal();
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если модальный цикл будет продолжен; 0, когда [называется EndModalLoop.](#endmodalloop)

### <a name="remarks"></a>Remarks

По умолчанию он возвращается `EndModalLoop` без нуля до тех пор, пока не будет вызван.

## <a name="cwndcreate"></a><a name="create"></a>CWnd::Создание

Создает указанное окно дочернего ребенка и прикрепляет его к объекту [CWnd.](../../mfc/reference/cwnd-class.md)

```
virtual BOOL Create(
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    Const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CCreateContext* pContext = NULL);
```

### <a name="parameters"></a>Параметры

*lpszClassName*<br/>
(в) Указатель на строку с нулевым завершением, содержащую имя зарегистрированного класса оконного окна системы; или название заданного класса оконного окна системы.

*lpszWindowName*<br/>
(в) Указатель на строку с нулевым завершением, содержащую имя отображения окна; в противном случае NULL без имени отображения окна.

*dwStyle*<br/>
(в) Bitwise комбинация (OR) [стилей окна](styles-used-by-mfc.md#window-styles). Вариант WS_POPUP не является действительным стилем.

*rect*<br/>
(в) Размер и расположение окна относительно верхнего левого угла родительского окна.

*pParentWnd*<br/>
(в) Указатель на родительское окно.

*nID*<br/>
(в) Идентификатор окна.

*pContext*<br/>
(в) Указатель на структуру [CCreateContext,](../../mfc/reference/ccreatecontext-structure.md) которая используется для настройки архитектуры просмотра документов для приложения.

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если метод был успешным; в противном случае FALSE.

### <a name="remarks"></a>Remarks

> [!WARNING]
> `CWnd::PreCreateWindow`теперь присваивает `CREATESTRUCT` члену hMenu своего параметра **этому** указателю, если меню NULL, а стиль содержит WS_CHILD. Для правильной функциональности убедитесь, что ваш элемент управления диалогом имеет идентификатор, который не является NULL.
>
> Это изменение фиксирует сбой в сценариях управляемого/родного интерпа. Заявление TRACE `CWnd::Create` в предупреждении разработчика проблемы.

Используйте функцию [AfxRegisterWndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass) для регистрации классов окон. Классы оконов с определенными пользователями доступны в модуле, где они зарегистрированы.

[CWnd::OnCreate](#oncreate) называется до `Create` возвращения метода и до того, как окно становится видимым.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#79](../../mfc/reference/codesnippet/cpp/cwnd-class_18.cpp)]

## <a name="cwndcreateaccessibleproxy"></a><a name="createaccessibleproxy"></a>CWnd::СозданиеДоступнопрокси

Создает прокси-сервер Active Accessibility для указанного объекта.

```
virtual HRESULT CreateAccessibleProxy(
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*wParam*<br/>
Идентифицирует объект, доступ к нему осуществляется прокси Active Accessibility. Может быть одним из следующих значений

|Значение|Значение|
|-----------|-------------|
|OBJID_CLIENT|Относится к клиентской зоне окна.|

*lParam*<br/>
Предоставляет дополнительную информацию, зависящая от сообщений.

*pResult*<br/>
Указатель на LRESULT, который хранит код результата.

### <a name="remarks"></a>Remarks

Создает прокси-сервер Active Accessibility для указанного объекта.

## <a name="cwndcreatecaret"></a><a name="createcaret"></a>CWnd::CreateCaret

Создает новую форму для системы caret и утверждает, что право собственности на caret.

```
void CreateCaret(CBitmap* pBitmap);
```

### <a name="parameters"></a>Параметры

*pBitmap*<br/>
Определяет бит-карту, которая определяет форму caret.

### <a name="remarks"></a>Remarks

Бит-карта должна быть ранее создана [cBitmap::CreateBitmap](../../mfc/reference/cbitmap-class.md#createbitmap) функции члена, [функция CreateDIBitmap](/windows/win32/api/wingdi/nf-wingdi-createdibitmap) Windows, или [CBitmap::LoadBitmap](../../mfc/reference/cbitmap-class.md#loadbitmap) член функции.

`CreateCaret`автоматически разрушает предыдущую форму caret, если таковые имеется, независимо от того, какое окно владеет каретой. После создания, карет изначально скрыты. Чтобы показать карету, должна быть вызвана функция участника [ShowCaret.](#showcaret)

Системный карет является общим ресурсом. `CWnd`должны создавать карету только тогда, когда он имеет входиную фокус ировку или активен. Он должен уничтожить карету, прежде чем он теряет входинфокус или становится неактивным.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#80](../../mfc/reference/codesnippet/cpp/cwnd-class_19.cpp)]

## <a name="cwndcreatecontrol"></a><a name="createcontrol"></a>CWnd::CreateControl

Используйте эту функцию участника для создания элемента управления ActiveX, `CWnd` который будет представлен в программе MFC объектом.

```
BOOL CreateControl(
    LPCTSTR pszClass,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);

BOOL CreateControl(
    REFCLSID clsid,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);

BOOL CreateControl(
    REFCLSID clsid,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const POINT* ppt,
    const SIZE* psize,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);
```

### <a name="parameters"></a>Параметры

*pszClass*<br/>
Эта строка может содержать OLE "короткое имя" (ProgID) для класса, например, "CIRC3. Circ3Ctrl.1". Имя должно соответствовать тому же имени, зарегистрированному элементом управления. Кроме того, строка может содержать строку формы CLSID, содержащейся в скобках, например, "9DBAFCCF-592F-101B-85CE-00608CEC297B". В любом `CreateControl` случае преобразует строку в соответствующий идентификатор класса.

*pszWindowName*<br/>
Указатель на текст, который отображается в элементе управления. Устанавливает значение свойства подписи или текста элемента управления (если таковое имеется). Если NULL, свойство подписи или текста элемента управления не изменяется.

*dwStyle*<br/>
Стили Windows. Доступные стили перечислены в Примечаниях.

*rect*<br/>
Определяет размер и положение элемента управления. Это может быть либо объект [CRect,](../../atl-mfc-shared/reference/crect-class.md) либо [структура RECT.](/windows/win32/api/windef/ns-windef-rect)

*Ppt*<br/>
Указывает на структуру `CPoint` или объект [POINT,](/windows/win32/api/windef/ns-windef-point) содержащий верхний левый угол элемента управления.

*pSize*<br/>
Указывает на структуру `CSize` или объект [СИЗЕ,](/windows/win32/api/windef/ns-windef-size) содержащий размер элемента управления

*pParentWnd*<br/>
Определяет родительское окно элемента управления. Она не должна быть NULL.

*nID*<br/>
Уведомляет идентификатор элемента управления.

*pPersist*<br/>
Указатель на [CFile,](../../mfc/reference/cfile-class.md) содержащий постоянное состояние для управления. Значение по умолчанию является NULL, что указывает на то, что элемент управления инициализирует себя без восстановления его состояния от постоянного хранилища. Если не NULL, то он должен `CFile`быть указателем на объект, полученный в виде постоянных данных элемента управления, в виде потока или хранилища. Эти данные могли быть сохранены при предыдущей активации клиента. Может `CFile` содержать другие данные, но должен иметь свой указатель на чтение-запись, установленный `CreateControl`на первый байт стойких данных во время вызова.

*bХранение*<br/>
Указывает, следует ли интерпретировать данные в *pPersist* как данные IStorage или IStream. Если данные в *pPersist* является хранилищем, *bStorage* должно быть правдой. Если данные в *pPersist* является потоком, *bStorage* должен быть FALSE. Значение по умолчанию — FALSE.

*bstrLicKey*<br/>
Дополнительные данные ключей лицензии. Эти данные необходимы только для создания элементов управления, требующих ключа лицензии времени выполнения. Если элемент управления поддерживает лицензирование, необходимо предоставить ключ лицензии для создания элемента управления для достижения успеха. Значение по умолчанию — NULL.

*clsid*<br/>
Уникальный идентификатор класса управления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

`CreateControl`является прямым аналогом [CWnd::Создание](#create) функции, которая `CWnd`создает окно для . `CreateControl`создает элемент управления ActiveX вместо обычного окна.

Поддерживается только подмножество флагов Windows *dwStyle* для: `CreateControl`

- WS_VISIBLE создает окно, которое изначально видно. Требуется, если вы хотите, чтобы элемент управления был виден немедленно, как обычные окна.

- WS_DISABLED создает окно, которое изначально отключено. Отключенное окно не может получать ввод от пользователя. Может быть установлен, если элемент управления имеет свойство enabled.

- WS_BORDER создает окно с тонкой линией границы. Может быть установлен, если контроль имеет свойство BorderStyle.

- WS_GROUP определяет первый элемент управления группой элементов управления. Пользователь может изменить фокус клавиатуры с одного элемента управления в группе на другой, используя клавиши направления. Все элементы управления, определяемые со стилем WS_GROUP после первого элемента управления принадлежат одной и той же группе. Следующий элемент управления со стилем WS_GROUP завершает группу и запускает следующую группу.

- WS_TABSTOP определяет элемент управления, который может получать фокус клавиатуры, когда пользователь нажимает на ключ TAB. Нажатие клавиши TAB изменяет фокус клавиатуры на следующий элемент управления стилем WS_TABSTOP.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#81](../../mfc/reference/codesnippet/cpp/cwnd-class_20.h)]

## <a name="cwndcreateex"></a><a name="createex"></a>CWnd::CreateEx

Создает указанное окно и прикрепляет его к объекту. `CWnd`

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    int x,
    int y,
    int nWidth,
    int nHeight,
    HWND hWndParent,
    HMENU nIDorHMenu,
    LPVOID lpParam = NULL);

virtual BOOL CreateEx(
    DWORD dwExStyle,
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    LPVOID lpParam = NULL);
```

### <a name="parameters"></a>Параметры

*dwExStyle*<br/>
Bitwise комбинация (OR) [расширенных стилей окна;](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) в противном случае NULL для расширенного окна по умолчанию.

*lpszClassName*<br/>
Указатель на строку с нулевым завершением, содержащую имя зарегистрированного класса оконного окна системы; или название заданного класса оконного окна системы.

*lpszWindowName*<br/>
Указатель на строку с нулевым завершением, содержащую имя отображения окна; в противном случае NULL без имени отображения окна.

*dwStyle*<br/>
Bitwise комбинация (OR) [стилей окна;](styles-used-by-mfc.md#window-styles) в противном случае NULL для стиля окна по умолчанию.

*x*<br/>
Начальное горизонтальное расстояние окна от левой стороны экрана или родительского окна.

*Y*<br/>
Начальное вертикальное расстояние окна от верхней части экрана или родительского окна.

*nWidth*<br/>
Ширина, в пикселях, окна.

*nВысота*<br/>
Высота, в пикселях, окна.

*hwndParent*<br/>
Для окна ребенка ручка к родительскому окну; в противном случае, ручка окна владельца, если окно имеет владельца.

*nIDorHMenu*<br/>
Для окна ребенка идентификатор окна; в противном случае идентификатор меню для окна.

*lpParam*<br/>
Указатель на пользовательские данные, которые передаются [в CWnd::OnCreate](#oncreate) метод в поле *lpCreateParams.*

*rect*<br/>
Размер и расположение окна относительно экрана или родительского окна.

*pParentWnd*<br/>
Для окна ребенка указатель на родительское окно; в противном случае, указатель на окно владельца, если окно имеет владельца.

*nID*<br/>
Для окна ребенка идентификатор окна; в противном случае идентификатор меню для окна.

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если метод был успешным; в противном случае FALSE.

### <a name="remarks"></a>Remarks

> [!WARNING]
> `CWnd::PreCreateWindow`теперь присваивает `CREATESTRUCT` члену hMenu своего параметра **этому** указателю, если меню NULL, а стиль содержит WS_CHILD. Для правильной функциональности убедитесь, что ваш элемент управления диалогом имеет идентификатор, который не является NULL.
>
> Это изменение фиксирует сбой в сценариях управляемого/родного интерпа. Заявление `TRACE` в `CWnd::Create` предупреждении разработчика о проблеме.

Стиль расширенного окна по умолчанию является WS_EX_LEFT. Стиль окна по умолчанию WS_OVERLAPPED.

Используйте функцию [AfxRegisterWndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass) для регистрации классов окон. Классы оконов с определенными пользователями доступны в модуле, где они зарегистрированы.

Размеры для детских окон относительно верхнего левого угла клиентской области родительского окна. Размеры окон верхнего уровня относительно верхнего левого угла экрана.

[CWnd::OnCreate](#oncreate) называется до `CreateEx` возвращения метода и до того, как окно становится видимым.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#82](../../mfc/reference/codesnippet/cpp/cwnd-class_21.cpp)]

## <a name="cwndcreategraycaret"></a><a name="creategraycaret"></a>CWnd::CreateGrayCaret

Создает серый прямоугольник для системы caret и утверждает, что право собственности на caret.

```
void CreateGrayCaret(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*nWidth*<br/>
Определяет ширину кареты (в логических единицах). Если этот параметр раподраён 0, ширина устанавливается на системно-определяемую ширину оконной границы.

*nВысота*<br/>
Определяет высоту кареты (в логических единицах). Если этот параметр раподраён 0, высота устанавливается на системно-определяемую высоту оконно-пограничной.

### <a name="remarks"></a>Remarks

Форма кареты может быть линией или блоком.

Параметры *nWidth* и *nHeight* определяют ширину и высоту caret (в логических единицах); точная ширина и высота (в пикселях) зависят от режима отображения.

Ширина или высота оконной границы системы может быть получена функцией [GetSystemMetrics](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) Windows с SM_CXBORDER и SM_CYBORDER индексами. Использование ширины или высоты границы окна гарантирует, что карет будет виден на дисплее с высоким разрешением.

Функция `CreateGrayCaret` члена автоматически разрушает предыдущую форму caret, если такая имеется, независимо от того, какое окно владеет каретой. После создания, карет изначально скрыты. Чтобы показать карету, должна быть вызвана функция участника [ShowCaret.](#showcaret)

Системный карет является общим ресурсом. `CWnd`должны создавать карету только тогда, когда он имеет входиную фокус ировку или активен. Он должен уничтожить карету, прежде чем он теряет входинфокус или становится неактивным.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#83](../../mfc/reference/codesnippet/cpp/cwnd-class_22.cpp)]

## <a name="cwndcreatesolidcaret"></a><a name="createsolidcaret"></a>CWnd::CreateSolidCaret

Создает сплошной прямоугольник для системы caret и утверждает, что право собственности на caret.

```
void CreateSolidCaret(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*nWidth*<br/>
Определяет ширину кареты (в логических единицах). Если этот параметр раподраён 0, ширина устанавливается на системно-определяемую ширину оконной границы.

*nВысота*<br/>
Определяет высоту кареты (в логических единицах). Если этот параметр раподраён 0, высота устанавливается на системно-определяемую высоту оконно-пограничной.

### <a name="remarks"></a>Remarks

Форма кареты может быть линией или блоком.

Параметры *nWidth* и *nHeight* определяют ширину и высоту caret (в логических единицах); точная ширина и высота (в пикселях) зависят от режима отображения.

Ширина или высота оконной границы системы может быть получена функцией [GetSystemMetrics](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) Windows с SM_CXBORDER и SM_CYBORDER индексами. Использование ширины или высоты границы окна гарантирует, что карет будет виден на дисплее с высоким разрешением.

Функция `CreateSolidCaret` члена автоматически разрушает предыдущую форму caret, если такая имеется, независимо от того, какое окно владеет каретой. После создания, карет изначально скрыты. Чтобы показать карету, должна быть вызвана функция участника [ShowCaret.](#showcaret)

Системный карет является общим ресурсом. `CWnd`должны создавать карету только тогда, когда он имеет входиную фокус ировку или активен. Он должен уничтожить карету, прежде чем он теряет входинфокус или становится неактивным.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#84](../../mfc/reference/codesnippet/cpp/cwnd-class_23.cpp)]

## <a name="cwndcwnd"></a><a name="cwnd"></a>CWnd::CWnd

Формирует объект `CWnd`.

```
CWnd();
```

### <a name="remarks"></a>Remarks

Окно Windows не создается и не прикрепляется до тех пор, пока не будет вызвана функция [CreateEx](#createex) или [Create.](#create)

## <a name="cwnddefault"></a><a name="default"></a>CWnd::Default

Вызывает процедуру окна по умолчанию.

```
LRESULT Default();
```

### <a name="return-value"></a>Возвращаемое значение

Зависит от отправленного сообщения.

### <a name="remarks"></a>Remarks

Процедура окна по умолчанию обеспечивает обработку по умолчанию для любого сообщения окна, которое приложение не обрабатывает. Эта функция члена гарантирует обработку каждого сообщения.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#85](../../mfc/reference/codesnippet/cpp/cwnd-class_24.cpp)]

## <a name="cwnddefwindowproc"></a><a name="defwindowproc"></a>CWnd::DefWindowProc

Вызывает процедуру окна по умолчанию, которая обеспечивает обработку по умолчанию для любого сообщения окна, которое приложение не обрабатывает.

```
virtual LRESULT DefWindowProc(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Определяет сообщение Windows, подаваемый для обработки.

*wParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*lParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Зависит от отправленного сообщения.

### <a name="remarks"></a>Remarks

Эта функция члена гарантирует обработку каждого сообщения. Он должен быть вызван с теми же параметрами, что и полученные процедурой окна.

## <a name="cwnddeletetempmap"></a><a name="deletetempmap"></a>CWnd::DeleteTempMap

Вызывается автоматически обработчиком `CWinApp` времени простоя объекта.

```
static void PASCAL DeleteTempMap();
```

### <a name="remarks"></a>Remarks

Удаляет все `CWnd` временные объекты, созданные функцией `FromHandle` участника.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#86](../../mfc/reference/codesnippet/cpp/cwnd-class_25.cpp)]

## <a name="cwnddestroywindow"></a><a name="destroywindow"></a>CWnd::DestroyWindow

Уничтожает окно Windows, `CWnd` прикрепленное к объекту.

```
virtual BOOL DestroyWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если окно разрушено; в противном случае 0.

### <a name="remarks"></a>Remarks

Функция `DestroyWindow` члена отправляет соответствующие сообщения в окно, чтобы отключить его и удалить фокус ввода. Он также разрушает меню окна, сбрасывает очередь приложения, разрушает выдающиеся таймеры, удаляет право собственности На `CWnd` Clipboard и ломает цепочку Clipboard-viewer, если находится в верхней части цепочки просмотра. Он отправляет [WM_DESTROY](#ondestroy) и [WM_NCDESTROY](#onncdestroy) сообщения в окно. Он не разрушает `CWnd` объект.

`DestroyWindow`является держателем места для выполнения очистки. Поскольку `DestroyWindow` это виртуальная функция, `CWnd`она отображается в любом классе в классе View. Но даже если вы переопределяете эту функцию в вашем `CWnd`-производном классе, `DestroyWindow` не обязательно называется. Если `DestroyWindow` код MFC не называется, то вы должны прямо вызвать его в свой собственный код, если вы хотите, чтобы он был вызван.

Предположим, например, что `DestroyWindow` вы `CView`переопределили в классе производных. Поскольку исходный код `DestroyWindow` MFC не `CFrameWnd`вызывается ни в `DestroyWindow` одном из своих классов, переопределяется, ваш переопределяется не будет вызываться, если вы не позвоните ему явно.

Если окно является родительским, эти окна ребенка автоматически разрушаются при разрушении родительского окна. Функция `DestroyWindow` члена разрушает сначала детские окна, а затем само окно.

Функция `DestroyWindow` члена также уничтожает безрежимные диалоговые ящики, созданные [CDialog::Create](../../mfc/reference/cdialog-class.md#create).

Если `CWnd` уничтоженное окно ребенка не имеет набора [WS_EX_NOPARENTNOTIFY](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) стилей, то [WM_PARENTNOTIFY](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) сообщение отправляется родителю.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#87](../../mfc/reference/codesnippet/cpp/cwnd-class_26.cpp)]

## <a name="cwnddetach"></a><a name="detach"></a>CWnd::Detach

Отсоединяет дескриптор Windows от объекта `CWnd` и возвращает дескриптор.

```
HWND Detach();
```

### <a name="return-value"></a>Возвращаемое значение

HWND к объекту Windows.

### <a name="example"></a>Пример

  Смотрите пример [Для CWnd::Прикрепите](#attach).

## <a name="cwnddlgdirlist"></a><a name="dlgdirlist"></a>CWnd::DlgDirList

Заполняет список файлами или каталогами.

```
int DlgDirList(
    LPTSTR lpPathSpec,
    int nIDListBox,
    int nIDStaticPath,
    UINT nFileType);
```

### <a name="parameters"></a>Параметры

*lpPathSpec*<br/>
Указывает на нулевую строку, содержащую путь или имя файла. `DlgDirList`изменяет эту строку, которая должна быть достаточно длинной, чтобы содержать изменения. Для получения дополнительной информации смотрите следующий раздел "Замечания".

*nIDListBox*<br/>
Определяет идентификатор ящика списка. Если *nIDListBox* равен 0, предполагает, `DlgDirList` что нет поля списка существует и не пытается заполнить один.

*nIDStaticPath*<br/>
Определяет идентификатор элемента управления статического текста, используемого для отображения текущего диска и каталога. Если *nIDStaticPath* равен 0, предполагает, `DlgDirList` что такого управления текстом нет.

*nFileType*<br/>
Определяет атрибуты отображаемых файлов. Это может быть любое сочетание следующих значений:

- DDL_READWRITE файлы чтения записи данных без каких-либо дополнительных атрибутов.

- DDL_READONLY только файлы для чтения.

- DDL_HIDDEN скрытые файлы.

- DDL_SYSTEM системные файлы.

- DDL_DIRECTORY каталоги.

- DDL_ARCHIVE архивов.

- DDL_POSTMSGS LB_DIR флаг. При установке LB_DIR флага Windows помещает `DlgDirList` сообщения, генерируемые в очереди приложения; в противном случае они направляются непосредственно в процедуру диалог-бокс.

- DDL_DRIVES диски. При установке DDL_DRIVES флага DDL_EXCLUSIVE флаг устанавливается автоматически. Поэтому для создания списка каталогов, включающий диски и файлы, необходимо звонить `DlgDirList` дважды: один раз с набором флага DDL_DRIVES и один раз с флагами для остальной части списка.

- DDL_EXCLUSIVE Эксклюзивный бит. Если набор эксклюзивного бита, перечислены только файлы указанного типа; в противном случае перечислены обычные файлы и файлы указанного типа.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Remarks

`DlgDirList`отправляет [LB_RESETCONTENT](/windows/win32/Controls/lb-resetcontent) и [LB_DIR](/windows/win32/Controls/lb-dir) сообщения в поле списка. Он заполняет окно списка, указанное *nIDListBox* с именами всех файлов, которые соответствуют пути, указанному *lpPathSpec*.

Параметр *lpPathSpec* имеет следующую форму:

`[drive:] [ [\u]directory[\idirectory]...\u] [filename]`

В этом примере *диск* — это дисковая буква, *каталог* — действительное имя каталога, а *имя файла* — действительное имя файла, которое должно содержать по крайней мере одну подстановку. Подстановочные знаки являются вопросительным знаком **(?**), что<strong>\*</strong>означает матч любого персонажа, и звездочка (), то есть соответствовать любому количеству символов.

Если вы указываете строку длиной 0 длины для *lpPathSpec,* или если вы указываете только имя\*каталога, но не включаетв спецификацию файла, строка будет изменена на " . \*".

Если *lpPathSpec* включает в себя диск и/или имя каталога, текущий диск и каталог изменяются на назначенный диск и каталог до заполнения окна списка. Текстовый контроль, идентифицированный *nIDStaticPath,* также обновляется с новым именем диска и/или каталога.

После заполнения окна списка *lpPathSpec* обновляется путем удаления диска и/или каталога части пути.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#88](../../mfc/reference/codesnippet/cpp/cwnd-class_27.cpp)]

## <a name="cwnddlgdirlistcombobox"></a><a name="dlgdirlistcombobox"></a>CWnd::DlgDirListComboBox

Заполняет список элемента управления "Поле со списком" перечнем файлов или каталогов.

```
int DlgDirListComboBox(
    LPTSTR lpPathSpec,
    int nIDComboBox,
    int nIDStaticPath,
    UINT nFileType);
```

### <a name="parameters"></a>Параметры

*lpPathSpec*<br/>
Указывает на нулевую строку, содержащую путь или имя файла. `DlgDirListComboBox`изменяет эту строку, так что эти данные не должны быть в виде строки буквально. Смотрите следующий раздел "Замечания".

*nIDComboBox*<br/>
Определяет идентификатор комбо-коробки в диалоговом окне. Если *nIDComboBox* 0, предполагает, `DlgDirListComboBox` что не существует комбо-бокса и не пытается заполнить один.

*nIDStaticPath*<br/>
Определяет идентификатор элемента управления статического текста, используемого для отображения текущего диска и каталога. Если *nIDStaticPath* равен 0, предполагает, `DlgDirListComboBox` что такого управления текстом нет.

*nFileType*<br/>
Определяет атрибуты файлов DOS для отображения файлов. Это может быть любое сочетание следующих значений:

- DDL_READWRITE файлы чтения записи данных без каких-либо дополнительных атрибутов.

- DDL_READONLY только файлы для чтения.

- DDL_HIDDEN скрытые файлы.

- DDL_SYSTEM системные файлы.

- DDL_DIRECTORY каталоги.

- DDL_ARCHIVE архивов.

- DDL_POSTMSGS CB_DIR флаг. При установке CB_DIR флага Windows помещает `DlgDirListComboBox` сообщения, генерируемые в очереди приложения; в противном случае они направляются непосредственно в процедуру диалог-бокс.

- DDL_DRIVES диски. При установке DDL_DRIVES флага DDL_EXCLUSIVE флаг устанавливается автоматически. Поэтому для создания списка каталогов, включающий диски и файлы, необходимо звонить `DlgDirListComboBox` дважды: один раз с набором флага DDL_DRIVES и один раз с флагами для остальной части списка.

- DDL_EXCLUSIVE Эксклюзивный бит. Если набор эксклюзивного бита, перечислены только файлы указанного типа; в противном случае перечислены обычные файлы и файлы указанного типа.

### <a name="return-value"></a>Возвращаемое значение

Определяет результат функции. Это ненулевой, если объявление было сделано, даже пустой листинг. Значение возврата 0 подразумевает, что строка ввода не содержала допустимого пути поиска.

### <a name="remarks"></a>Remarks

`DlgDirListComboBox`отправляет [CB_RESETCONTENT](/windows/win32/Controls/cb-resetcontent) и [CB_DIR](/windows/win32/Controls/cb-dir) сообщения в комбо-коробку. Он заполняет окно списка комбо-бокс, указанный *nIDComboBox* с именами всех файлов, которые соответствуют пути, данного *lpPathSpec*.

Параметр *lpPathSpec* имеет следующую форму:

`[drive:] [ [\u]directory[\idirectory]...\u] [filename]`

В этом примере *диск* — это дисковая буква, *каталог* — действительное имя каталога, а *имя файла* — действительное имя файла, которое должно содержать по крайней мере одну подстановку. Подстановочные знаки являются вопросительным знаком **(?**), что<strong>\*</strong>означает матч любого персонажа, и звездочка ( ), что означает, соответствовать любому количеству символов.

Если вы укажете строку нулевой длины для *lpPathSpec,* текущий каталог будет использоваться и *lpPathSpec* не будет изменен. Если вы укажете только имя каталога, но не содержите\*спецификацию файла, строка будет изменена на ".

Если *lpPathSpec* включает в себя диск и/или имя каталога, текущий диск и каталог изменяются на назначенный диск и каталог до заполнения окна списка. Текстовый контроль, идентифицированный *nIDStaticPath,* также обновляется с новым именем диска и/или каталога.

После заполнения окна списка комбо-боксов *lpPathSpec* обновляется путем удаления диска и/или каталога.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#89](../../mfc/reference/codesnippet/cpp/cwnd-class_28.cpp)]

## <a name="cwnddlgdirselect"></a><a name="dlgdirselect"></a>CWnd::DlgDirSelect

Извлекает текущее выделение из списка.

```
BOOL DlgDirSelect(
    LPTSTR lpString,
    int nIDListBox);
```

### <a name="parameters"></a>Параметры

*lpString*<br/>
Указывает на буфер, который должен получить текущий выбор в поле списка.

*nIDListBox*<br/>
Упоняет идентификатор идентификатор списка в поле диалога.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Он предполагает, что поле списка было заполнено функцией участника [DlgDirList](#dlgdirlist) и что выбор представляет собой дисковое письмо, файл или имя каталога.

Функция `DlgDirSelect` участника копирует выделение в буфер, данный *lpString.* Если нет выбора, *lpString* не изменяется.

`DlgDirSelect`отправляет [LB_GETCURSEL](/windows/win32/Controls/lb-getcursel) и [LB_GETTEXT](/windows/win32/Controls/lb-gettext) сообщения в поле списка.

Он не позволяет возвращать из окна списка более одного имени файла. Коробка списка не должна быть полем списка с несколькими вариантами.

## <a name="cwnddlgdirselectcombobox"></a><a name="dlgdirselectcombobox"></a>CWnd::DlgDirSelectComboBox

Извлекает текущее выделение списка элемента управления "Поле со списком".

```
BOOL DlgDirSelectComboBox(
    LPTSTR lpString,
    int nIDComboBox);
```

### <a name="parameters"></a>Параметры

*lpString*<br/>
Указывает на буфер, который должен получить выбранный путь.

*nIDComboBox*<br/>
Определяет идентификатор комбо-коробки в диалоговом ящике.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Он предполагает, что поле списка было заполнено функцией участника [DlgDirListComboBox](#dlgdirlistcombobox) и что выбор представляет собой дисковую букву, файл или имя каталога.

Функция `DlgDirSelectComboBox` участника копирует выделение в указанный буфер. Если нет выбора, содержимое буфера не изменяется.

`DlgDirSelectComboBox`отправляет [CB_GETCURSEL](/windows/win32/Controls/cb-getcursel) и [CB_GETLBTEXT](/windows/win32/Controls/cb-getlbtext) сообщения в комбо-коробку.

Он не позволяет более чем одному имени файла быть возвращены из комбо-бокса.

## <a name="cwnddodataexchange"></a><a name="dodataexchange"></a>CWnd::DoDataExchange

Вызывается в рамках для обмена и проверки данных диалогов.

```
virtual void DoDataExchange(CDataExchange* pDX);
```

### <a name="parameters"></a>Параметры

*Pdx*<br/>
Указатель на объект `CDataExchange`.

### <a name="remarks"></a>Remarks

Никогда не звоните в эту функцию напрямую. Он вызывается функцией участника [UpdateData.](#updatedata) Вызов `UpdateData` для инициализации элементов управления диалоговой будкой или получения данных из диалогового окна.

При извлечении из [CDialog](../../mfc/reference/cdialog-class.md)класса диалога для конкретного приложения необходимо переопределить эту функцию участника, если вы хотите использовать автоматический обмен и проверку данных. Мастер Add Variable напишет переопределенную версию этой функции для вас, содержащую желаемую «карту данных» обмена данными диалогов (DDX) и проверки (DDV) глобальных вызовов функции.

Чтобы автоматически генерировать переопределенную версию этой функции участника, сначала создайте диалоговый ресурс с редактором диалогов, а затем создайте класс диалога для конкретного приложения. Затем используйте мастер-разноску Добавить переменную для ассоциирования переменных, данных и диапазонов проверки с различными элементами управления в новом диалоговом поле. Затем мастер записывает `DoDataExchange`переопределенную карту данных. Ниже приводится пример блока кода DDX/DDV, генерируемого мастером Add Variable:

[!code-cpp[NVC_MFCWindowing#90](../../mfc/reference/codesnippet/cpp/cwnd-class_29.cpp)]

Переовереренная `DoDataExchange` функция члена должна предшествовать макро-заявлениям в исходном файле.

Для получения дополнительной информации об обмене и проверке данных диалогов [Dialog Data Exchange and Validation](../../mfc/dialog-data-exchange-and-validation.md)см. [Displaying and Manipulating Data in a Form](../../data/odbc/displaying-and-manipulating-data-in-a-form.md) Для описания DDX_ и DDV_ макросов, генерируемых мастером Добавить переменную, [см.](../../mfc/tn026-ddx-and-ddv-routines.md)

## <a name="cwnddragacceptfiles"></a><a name="dragacceptfiles"></a>CWnd::DragAcceptFiles

Вызов ими функции участника из `CWnd` окна, используя указатель, в cWinApp вашего [приложения::InitInstance](../../mfc/reference/cwinapp-class.md#initinstance) функции, чтобы указать, что окно принимает выпавные файлы из Windows File Manager или File Explorer.

```
void DragAcceptFiles(BOOL bAccept = TRUE);
```

### <a name="parameters"></a>Параметры

*BAccept*<br/>
Пометить, принимается ли перетащенные файлы.

### <a name="remarks"></a>Remarks

Только окно, `DragAcceptFiles` которое вызывает с *bAccept* параметр, установленный для TRUE идентифицировал себя как способный обрабатывать сообщение Windows WM_DROPFILES. Например, в приложении MDI, если указатель `CMDIFrameWnd` `DragAcceptFiles` окна используется в `CMDIFrameWnd` вызове функции, только окно получает WM_DROPFILES сообщение. Это сообщение не отправляется `CMDIChildWnd` во все открытые окна. Для `CMDIChildWnd` получения этого сообщения окном `DragAcceptFiles` необходимо `CMDIChildWnd` позвонить с помощью указателя окна.

Чтобы прекратить прием перетащенных файлов, позвоните функции участника с *набором bAccept* в FALSE.

## <a name="cwnddragdetect"></a><a name="dragdetect"></a>CWnd::DragDetect

Захватывает мышь и отслеживает ее движение, пока пользователь не отпустит левую кнопку мыши, не нажмет клавишу ESC или не переместит мышь за пределы прямоугольника перетаскивания, в котором находится указанная точка.

```
BOOL DragDetect(POINT pt) const;
```

### <a name="parameters"></a>Параметры

*пт*<br/>
Начальное положение мыши, в координатах экрана. Функция определяет координаты перетаскивания прямоугольника с помощью этой точки.

### <a name="return-value"></a>Возвращаемое значение

Если пользователь переместил мышь за пределы прямоугольника, удерживая левую кнопку, значение возврата ненулевое.

Если пользователь не перемещал мышь за пределы прямоугольника, удерживая левую кнопку, значение возврата равно нулю.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [DragDetect](/windows/win32/api/winuser/nf-winuser-dragdetect), как описано в Windows SDK.

## <a name="cwnddrawanimatedrects"></a><a name="drawanimatedrects"></a>CWnd::DrawAnimatedRects

Рисует каркасный прямоугольник и анимирует его для обозначения открытия значка, а также сворачивания или разворачивания окна.

```
BOOL DrawAnimatedRects(
    int idAni,
    CONST RECT* lprcFrom,
    CONST RECT* lprcTo);
```

### <a name="parameters"></a>Параметры

*idAni*<br/>
Определяет тип анимации. Если указать IDANI_CAPTION, подпись окна будет оживиться с позиции, указанной *lprc,* к позиции, указанной *lprcTo.* Эффект аналогичен минимизации или максимизации окна.

*lprcFrom*<br/>
Указатель на структуру [RECT](/previous-versions/dd162897\(v=vs.85\)) с указанием местоположения и размера значка или сведенного к минимуму окна.

*lprcTo*<br/>
Указатель на структуру [RECT](/previous-versions/dd162897\(v=vs.85\)) с указанием местоположения и размера восстановленного окна

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [DrawAnimatedRects,](/windows/win32/api/winuser/nf-winuser-drawanimatedrects)как описано в Windows SDK.

## <a name="cwnddrawcaption"></a><a name="drawcaption"></a>CWnd::DrawCaption

Рисует заголовок окна.

```
BOOL DrawCaption(
    CDC* pDC,
    LPCRECT lprc,
    UINT uFlags);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства. Функция втягивает заголовок окна в контекст этого устройства.

*lprc*<br/>
Указатель на структуру RECT, которая определяет прямоугольник для заголовка окна.

*uФлаги*<br/>
Определяет параметры рисования. Полный список значений можно узнать на примере [DrawCaption.](/windows/win32/api/winuser/nf-winuser-drawcaption)

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [DrawCaption](/windows/win32/api/winuser/nf-winuser-drawcaption), как описано в Windows SDK.

## <a name="cwnddrawmenubar"></a><a name="drawmenubar"></a>CWnd::DrawMenuBar

Перерисовывает строку меню.

```
void DrawMenuBar();
```

### <a name="remarks"></a>Remarks

Если бар меню изменен после создания окна Windows, позвоните в эту функцию, чтобы нарисовать измененную панель меню.

### <a name="example"></a>Пример

  Смотрите пример [для CWnd::GetMenu](#getmenu).

## <a name="cwndenableactiveaccessibility"></a><a name="enableactiveaccessibility"></a>CWnd::EnableActiveAccessibility

Обеспечивает функции активной доступности, определяемые пользователями.

```
void EnableActiveAccessibility();
```

### <a name="remarks"></a>Remarks

Поддержка активной доступности MFC по умолчанию достаточна для стандартных окон и элементов управления, включая элементы управления ActiveX; однако, `CWnd`если ваш класс, полученный из-под окон, содержит элементы пользовательского интерфейса, MFC не имеет возможности узнать о них. В этом случае необходимо переопределить соответствующие [функции участника Active Accessibility](/windows/win32/winauto/sdk-components) в вашем классе, и вы должны вызвать `EnableActiveAccessibility` в конструкторе класса.

## <a name="cwndenabledynamiclayout"></a><a name="enabledynamiclayout"></a>CWnd::EnableDynamicLayout

Включает или отключает диспетчер динамического макета. Если динамический макет активен, положение и размеры дочерних окон можно динамически настраивать, изменяя размер родительского окна.

```
void EnableDynamicLayout(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Значение TRUE — динамический макет включен, FALSE — отключен.

### <a name="remarks"></a>Remarks

Чтобы включить динамический макет, наряду с вызовом этого метода необходимо выполнить дополнительные действия. Необходимо также предоставить сведения о динамическом макете, информирующие о поведении элементов управления в окне в ответ на изменения размеров. Эту информацию можно указать для каждого элемента управления в редакторе ресурсов или программным образом. Смотрите [динамический макет](../../mfc/dynamic-layout.md).

## <a name="cwndenabled2dsupport"></a><a name="enabled2dsupport"></a>CWnd::EnableD2DSupport

Включает или отключает поддержку окнами D2D. Данный метод следует вызывать до инициализации основного окна.

```
void EnableD2DSupport(
    BOOL bEnable = TRUE,
    BOOL bUseDCRenderTarget = FALSE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Указывает, следует включить или отключить поддержку D2D.

*bUseDCRenderTarget*<br/>
Указывает, следует ли использовать целевой объект отрисовки из контекста устройства, т. е. класс CDCRenderTarget. Если значение — FALSE, используется класс CHwndRenderTarget.

## <a name="cwndenablescrollbar"></a><a name="enablescrollbar"></a>CWnd::EnableScrollBar

Включает или выключает одну или обе стрелки полосы прокрутки.

```
BOOL EnableScrollBar(
    int nSBFlags,
    UINT nArrowFlags = ESB_ENABLE_BOTH);
```

### <a name="parameters"></a>Параметры

*nSBFlags*<br/>
Определяет тип прокрутки-бара. Может иметь одно из следующих значений:

- SB_BOTH Включает или отстраняет стрелки горизонтальных и вертикальных полос прокрутки, связанных с окном.

- SB_HORZ Включает или отсваивает стрелки горизонтальной панели прокрутки, связанные с окном.

- SB_VERT включает или отсваивает стрелки вертикальной панели прокрутки, связанные с окном.

*nArrowFlags*<br/>
Определяет, включены или отключены стрелки прокрутки-бара и какие стрелки включены или отключены. Может иметь одно из следующих значений:

- ESB_ENABLE_BOTH Включает обе стрелки панели прокрутки (по умолчанию).

- ESB_DISABLE_LTUP отсрабатывает левую стрелку горизонтальной панели прокрутки или стрелку вверх вертикальной панели прокрутки.

- ESB_DISABLE_RTDN отсрабатывает правую стрелку горизонтальной панели прокрутки или вниз стрелку вертикального прокрутки.

- ESB_DISABLE_BOTH отсрабатывает обе стрелки панели прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если стрелки включены или отключены в указанном виде. В противном случае это 0, что указывает на то, что стрелки уже находятся в запрашиваемом состоянии или что произошла ошибка.

## <a name="cwndenablescrollbarctrl"></a><a name="enablescrollbarctrl"></a>CWnd::EnableScrollBarCtrl

Включает или отсвадает панель прокрутки для этого окна.

```
void EnableScrollBarCtrl(
    int nBar,
    BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Идентификатор прокрутки-бара.

*bEnable*<br/>
Определяет, включена ли или отключена панель прокрутки.

### <a name="remarks"></a>Remarks

Если в окне есть элемент управления прокруткой брата, используется панель прокрутки; в противном случае используется собственная панель прокрутки окна.

## <a name="cwndenabletooltips"></a><a name="enabletooltips"></a>CWnd::EnableToolTips

Позволяет дать советы по инструментам для данного окна.

```
BOOL EnableToolTips(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Определяет, включен или отключен контроль наконечника инструмента. TRUE позволяет управлять; FALSE отскакивает от управления.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если инструмент советы включены; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Переопределение [OnToolHitTest](#ontoolhittest) для обеспечения структуртки [TOOLINFO](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) или структур для окна.

> [!NOTE]
> Некоторые окна, такие как [CToolBar](../../mfc/reference/ctoolbar-class.md), обеспечивают встроенную реализацию [OnToolHitTest.](#ontoolhittest)

Более [подробную](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) информацию об этой структуре можно получить в SDK для Windows.

Простого `EnableToolTips` вызова недостаточно для отображения советов по инструменту `CFrameWnd`для управления ребенком, если только родительское окно не получено из. Это связано с тем, что `CFrameWnd` обработчик по умолчанию предоставляет обработчик по умолчанию для уведомления TTN_NEEDTEXT. Если родительское окно не `CFrameWnd`получено от , то есть, если это диалоговая коробка или представление формы, советы по инструменту для управления ребенком не отображаются правильно, если вы не предоставите обработчик для уведомления о TTN_NEEDTEXT наконечнике инструмента. Смотрите [Советы по инструменту](../../mfc/tool-tips-in-windows-not-derived-from-cframewnd.md).

Советы по умолчанию инструмент, предусмотренные для окон `EnableToolTips` не имеют текст, связанный с ними. Для получения текста для отображения наконечника инструмента уведомление TTN_NEEDTEXT отправляется в родительское окно элемента управления отзывом непосредственно перед отображением окна наконечника инструмента. Если для этого сообщения нет обработчика, чтобы назначить `TOOLTIPTEXT` некоторое значение члену *структуры pszText,* не будет отображаться текст для наконечника инструмента.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#91](../../mfc/reference/codesnippet/cpp/cwnd-class_30.cpp)]

[!code-cpp[NVC_MFCWindowing#92](../../mfc/reference/codesnippet/cpp/cwnd-class_31.cpp)]

## <a name="cwndenabletrackingtooltips"></a><a name="enabletrackingtooltips"></a>CWnd::EnableTrackingToolTips

Включает или отражает наборы инструментов отслеживания.

```
BOOL EnableTrackingToolTips(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Уточняется, включены или отключены советы по отслеживанию инструментов. Если этот параметр является правдой, советы инструмент отслеживания будут включены. Если этот параметр FALSE, советы инструмент отслеживания будут отключены.

### <a name="return-value"></a>Возвращаемое значение

Указывает состояние до `EnableWindow` вызова функции участника. Значение возврата неявляется, если окно ранее было отключено. Значение возврата 0, если окно было включено ранее или произошла ошибка.

### <a name="remarks"></a>Remarks

Советы инструмент отслеживания являются инструментом отзыв окна, которые можно динамически положение на экране. Быстро обновляя положение, окно наконечника инструмента, кажется, движется плавно, или "трек". Эта функциональность может быть полезна, если вам нужен текст наконечника инструмента, чтобы следить за положением указателя по мере его движения.

## <a name="cwndenablewindow"></a><a name="enablewindow"></a>CWnd::EnableWindow

Разрешает или запрещает ввод с помощью мыши и клавиатуры.

```
BOOL EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Определяет, включено или отключено данное окно. Если этот параметр является правдой, окно будет включено. Если этот параметр FALSE, окно будет отключено.

### <a name="return-value"></a>Возвращаемое значение

Указывает состояние до `EnableWindow` вызова функции участника. Значение возврата неявляется, если окно ранее было отключено. Значение возврата 0, если окно было включено ранее или произошла ошибка.

### <a name="remarks"></a>Remarks

При отключении ввода ввод, например, клики мыши и нажатия клавиш, игнорируются. Когда вход включен, окно обрабатывает все входные.

При изменении включенного состояния [WM_ENABLE](#onenable) сообщение отправляется до возвращения этой функции.

Если инвалиды, все детские окна неявно отключены, хотя они не отправляются WM_ENABLE сообщений.

Перед его активацией необходимо включено окно. Например, если приложение отображает нештатную диалоговую коробку и отключило его основное окно, главное окно должно быть включено до того, как поле диалога будет уничтожено. В противном случае другое окно получит фокус ввода и будет активировано. Если окно ребенка отключено, оно игнорируется, когда Windows пытается определить, какое окно должно получать сообщения мыши.

По умолчанию окно включено при его создании. Приложение может указать WS_DISABLED стиле в функции [члена Create](#create) или [CreateEx](#createex) для создания окна, которое изначально отключено. После создания окна приложение может также использовать `EnableWindow` функцию члена для включения или отсвагиваем окна.

Приложение может использовать эту функцию для включения или отключать элемент управления в диалоговом поле. Отключенный элемент управления не может получить фокус ввода, равно как и пользователь не может получить к нему доступ.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#93](../../mfc/reference/codesnippet/cpp/cwnd-class_32.cpp)]

## <a name="cwndendmodalloop"></a><a name="endmodalloop"></a>CWnd::EndModalLoop

Прекращает вызов `RunModalLoop`.

```
virtual void EndModalLoop(int nResult);
```

### <a name="parameters"></a>Параметры

*nResult*<br/>
Содержит значение, необходимое для возврата вызывающему абоненту [RunModalLoop.](#runmodalloop)

### <a name="remarks"></a>Remarks

Параметр *nResult* распространяется на значение возврата `RunModalLoop`от .

## <a name="cwndendmodalstate"></a><a name="endmodalstate"></a>CWnd::EndModalState

Данная функция-член вызывается для изменения состояния окна с модального на немодальное.

```
virtual void EndModalState();
```

## <a name="cwndendpaint"></a><a name="endpaint"></a>CWnd::EndPaint

Отмечает конец живописи в данном окне.

```
void EndPaint(LPPAINTSTRUCT lpPaint);
```

### <a name="parameters"></a>Параметры

*lpPaint*<br/>
Указывает на структуру [PAINTSTRUCT,](/windows/win32/api/winuser/ns-winuser-paintstruct) содержащую информацию о покраске, полученную функцией участника [BeginPaint.](#beginpaint)

### <a name="remarks"></a>Remarks

Функция `EndPaint` участника требуется для каждого `BeginPaint` вызова к функции участника, но только после завершения картины.

Если карета была `BeginPaint` скрыта `EndPaint` функцией члена, восстанавливает карету на экран.

### <a name="example"></a>Пример

  Смотрите пример [Для CWnd::BeginPaint](#beginpaint).

## <a name="cwndexecutedlginit"></a><a name="executedlginit"></a>CWnd::ExecuteDlgInit

Инициирует ресурс диалогового окна.

```
BOOL ExecuteDlgInit(LPCTSTR lpszResourceName);
BOOL ExecuteDlgInit(LPVOID lpResource);
```

### <a name="parameters"></a>Параметры

*lpszResourceName*<br/>
Указатель на нулевую строку с указанием имени ресурса.

*lpResource*<br/>
Указатель на ресурс.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если диалоговый ресурс выполнен; в противном случае FALSE.

### <a name="remarks"></a>Remarks

`ExecuteDlgInit`будет использовать ресурсы, связанные с модулем выполнения, или ресурсы из других источников. Для достижения `ExecuteDlgInit` этой цели, находит `AfxFindResourceHandle`ручку ресурса, вызывая . Если ваше приложение MFC не использует общий DLL (MFCx0. DLL), `AfxFindResourceHandle` вызывает [AfxGetResourceHandle](application-information-and-management.md#afxgetresourcehandle), который возвращает текущую ручку ресурса для исполняемой. Если ваше приложение MFC, использующее MFCx0. DLL, `AfxFindResourceHandle` пересекает `CDynLinkLibrary` список объектов общих и MFC расширение DLLs ищет правильную ручку ресурса.

## <a name="cwndfiltertooltipmessage"></a><a name="filtertooltipmessage"></a>CWnd::FilterToolTipMessage

Вызывается фреймворком для отображения сообщений наконечника инструмента.

```
void FilterToolTipMessage(MSG* pMsg);
```

### <a name="parameters"></a>Параметры

*pMsg*<br/>
Указатель на сообщение наконечника инструмента.

### <a name="remarks"></a>Remarks

В большинстве приложений MFC этот метод называется фреймворком от [PreTranslateMessage](#pretranslatemessage) и [EnableToolTips,](#enabletooltips)и вам не нужно называть его самостоятельно.

Однако в некоторых приложениях, например в некоторых элементах управления ActiveX, эти методы могут не вызываться инфраструктурой, и вам нужно будет вызвать FilterToolTipMessage самостоятельно. Для получения дополнительной [информации, см.](../../mfc/methods-of-creating-tool-tips.md)

## <a name="cwndfindwindow"></a><a name="findwindow"></a>CWnd::FindWindow

Возвращает верхний `CWnd` уровень, класс окон которого дается *lpszClassName* и чье имя окна, или название, дается *lpszWindowName*.

```
static CWnd* PASCAL FindWindow(
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName);
```

### <a name="parameters"></a>Параметры

*lpszClassName*<br/>
Указывает на строку с нулевым завершением, которая определяет `WNDCLASS` название класса окна (структура). Если *lpClassName* является NULL, все имена классов совпадают.

*lpszWindowName*<br/>
Указывает на строку с нулевым завершением, которая определяет имя окна (название окна). Если *lpWindowName* является NULL, все имена окон совпадают.

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует окно с указанным именем класса и именем окна. Это NULL, если такое окно не найдено.

Кон `CWnd`может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Эта функция не выполняет поиск в детских окнах.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#94](../../mfc/reference/codesnippet/cpp/cwnd-class_33.cpp)]

## <a name="cwndfindwindowex"></a><a name="findwindowex"></a>CWnd::FindWindowEx

Извлекает объект окна, имя класса и имя окна которого совпадают с указанными строками.

```
static CWnd* FindWindowEx(
    HWND hwndParent,
    HWND hwndChildAfter,
    LPCTSTR lpszClass,
    LPCTSTR lpszWindow);
```

### <a name="parameters"></a>Параметры

*hwndParent*<br/>
Ручка к родительскому окну, чьи детские окна должны быть обысканы.

*hwndChildAfter*<br/>
Ручка к окну ребенка. Поиск начинается со следующего окна ребенка в порядке «Я». Детское окно должно быть прямым детским окном *hwndParent,* а не просто окном потомка.

*lpszClass*<br/>
Указатель на строку с нулевым завершением, которая определяет имя класса или атом класса, созданный предыдущим вызовом в [RegisterClass](/windows/win32/api/winuser/nf-winuser-registerclassw) или [RegisterClassEx.](/windows/win32/api/winuser/nf-winuser-registerclassexw)

*lpszWindow*<br/>
Указатель на строку с нулевым завершением, которая определяет имя окна (название окна). Если этот параметр NULL, все имена окон совпадают.

### <a name="return-value"></a>Возвращаемое значение

Если функция успешно работает, значение возврата является указателем на объект окна, имеющий указанный класс и имена окон. Если функция выходит из строя, значение возврата является NULL.

### <a name="remarks"></a>Remarks

Эта функция-член имитирует функциональность функции [FindWindowEx,](/windows/win32/api/winuser/nf-winuser-findwindowexw)как описано в SDK Windows.

## <a name="cwndflashwindow"></a><a name="flashwindow"></a>CWnd::FlashWindow

Мигает данный окне один раз.

```
BOOL FlashWindow(BOOL bInvert);
```

### <a name="parameters"></a>Параметры

*bInvert*<br/>
Определяет, является ли `CWnd` это вспышкой или возвращенным в исходное состояние. Вспышки `CWnd` из одного состояния в другое, если *bInvert* является правдой. Если *bInvert* FALSE, окно возвращается в исходное состояние (активное или неактивное).

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если окно было активен `FlashWindow` до вызова к функции члена; в противном случае 0.

### <a name="remarks"></a>Remarks

Для последовательного мигания, создать системный таймер и неоднократно вызова `FlashWindow`. Мигает `CWnd` означает изменение внешнего вида его `CWnd` заголовок бар, как если бы менялись от неактивного к активному статусу, или наоборот. (Неактивная заголовок бар изменения в активную панель заголовка; активный заголовок бар изменения неактивных заголовок бар.)

Как правило, окно мигает, чтобы сообщить пользователю, что он требует внимания, но что он в настоящее время не имеют входного фокуса.

Параметр *bInvert* должен быть FALSE только тогда, когда окно получает входная фокусировка и больше не будет мигать; она должна быть правдой на последовательных вызовов в ожидании, чтобы получить входин фокус.

Эта функция всегда возвращаетнее для минимизированных окон. Если окно сведено `FlashWindow` к минимуму, просто мигает значок окна; *bInvert* игнорируется для минимизированных окон.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#95](../../mfc/reference/codesnippet/cpp/cwnd-class_34.cpp)]

## <a name="cwndflashwindowex"></a><a name="flashwindowex"></a>CWnd::FlashWindowEx

Мигает данное окно.

```
BOOL FlashWindowEx(
    DWORD dwFlags,
    UINT uCount,
    DWORD dwTimeout);
```

### <a name="parameters"></a>Параметры

*dwFlags*<br/>
Определяет состояние вспышки. Полный список значений можно узнать из структуры [FLASHWINFO.](/windows/win32/api/winuser/ns-winuser-flashwinfo)

*uCount*<br/>
Определяет количество раз, чтобы мигать окно.

*dwTimeout*<br/>
Определяет скорость, в миллисекундах, при которых окно будет мигать. Если *dwTimeout* равен нулю, функция использует скорость мигания курсора по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата определяет состояние окна перед вызовом к `FlashWindowEx` функции. Если подпись окна была нарисована как активная до вызова, значение возврата является ненулевым. В противном случае значение возврата равно нулю.

### <a name="remarks"></a>Remarks

Этот метод эмулирует функциональность функции [FlashWindowEx](/windows/win32/api/winuser/nf-winuser-flashwindowex), как описано в Windows SDK.

## <a name="cwndfromhandle"></a><a name="fromhandle"></a>CWnd::FromHandle

Возвращает указатель на объект `CWnd`, когда дескриптор передается окну. Если объект `CWnd` не прикреплен к дескриптору, создается и прикрепляется временный объект `CWnd`.

```
static CWnd* PASCAL FromHandle(HWND hWnd);
```

### <a name="parameters"></a>Параметры

*Hwnd*<br/>
HWND окна Windows.

### <a name="return-value"></a>Возвращаемое значение

Возвращает указатель на объект `CWnd`, когда дескриптор передается окну. Если объект `CWnd` не прикреплен к дескриптору, создается и прикрепляется временный объект `CWnd`.

Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

## <a name="cwndfromhandlepermanent"></a><a name="fromhandlepermanent"></a>CWnd::FromTheПостоянный

Возвращает указатель на объект `CWnd`, когда дескриптор передается окну.

```
static CWnd* PASCAL FromHandlePermanent(HWND hWnd);
```

### <a name="parameters"></a>Параметры

*Hwnd*<br/>
HWND окна Windows.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CWnd`.

### <a name="remarks"></a>Remarks

Если `CWnd` объект не прикреплен к ручке, NULL возвращается.

Эта функция, в отличие от [FromHandle,](#fromhandle)не создает временных объектов.

## <a name="cwndget_accchild"></a><a name="get_accchild"></a>CWnd::get_accChild

Вызывается платформой для извлечения адреса интерфейса `IDispatch` для указанного дочернего элемента.

```
virtual HRESULT get_accChild(
    VARIANT varChild,
    IDispatch** ppdispChild);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Идентифицирует ребенка, интерфейс которого `IDispatch` должен быть извлечен.

*ppdispChild*<br/>
Получает адрес интерфейса `IDispatch` детского объекта.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accChild](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accchild) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации см. [IAccessible::get_accChild](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accchild) в Windows SDK.

## <a name="cwndget_accchildcount"></a><a name="get_accchildcount"></a>CWnd::get_accChildCount

Вызывается платформой для извлечения количества дочерних элементов, принадлежащих этому объекту.

```
virtual HRESULT get_accChildCount(long* pcountChildren);
```

### <a name="parameters"></a>Параметры

*pcountChildren*<br/>
Получает количество детей.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accChildCount](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accchildcount) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает). Вызовите версию базового класса, а затем добавьте элементы незаклееного ребенка.

Для получения дополнительной информации см. [IAccessible::get_accChildCount](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accchildcount) в Windows SDK.

## <a name="cwndget_accdefaultaction"></a><a name="get_accdefaultaction"></a>CWnd::get_accDefaultAction

Вызывается платформой для извлечения строки, описывающей действие объекта по умолчанию.

```
virtual HRESULT get_accDefaultAction(
    VARIANT varChild,
    BSTR* pszDefaultAction);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Определяет, является ли извлеченное действие по умолчанию объектом или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

*pszDefaultAction*<br/>
Адрес BSTR, который получает локализованную строку, описывающую действие по умолчанию для указанного объекта, или NULL, если этот объект не имеет действия по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accDefaultAction](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accdefaultaction) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переизвейдить `CWnd`эту функцию в классе,производное, чтобы описать действие объекта по умолчанию.

Для получения дополнительной информации см. [IAccessible::get_accDefaultAction](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accdefaultaction) в Windows SDK.

## <a name="cwndget_accdescription"></a><a name="get_accdescription"></a>CWnd::get_accDescription

Вызывается платформой для извлечения строки, описывающей внешний вид указанного объекта.

```
virtual HRESULT get_accDescription(
    VARIANT varChild,
    BSTR* pszDescription);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Уточняется, является ли извлеченное описание описанием объекта или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

*pszОписание*<br/>
Адрес BSTR, который получает локализованную строку, описывающую указанный объект, или NULL, если описание не доступно для этого объекта.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accDescription](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accdescription) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переизобить `CWnd`эту функцию в вашем классе, полученном, чтобы описать объект. Позвоните в версию базового класса и добавьте описание.

Для получения дополнительной информации см. [IAccessible::get_accDescription](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accdescription) в Windows SDK.

## <a name="cwndget_accfocus"></a><a name="get_accfocus"></a>CWnd::get_accFocus

Вызывается платформой для извлечения объекта, имеющего фокус клавиатурного ввода.

```
virtual HRESULT get_accFocus(VARIANT* pvarChild);
```

### <a name="parameters"></a>Параметры

*pvarChild*<br/>
Получает информацию об объекте, который имеет фокус. Смотрите *pvarID* в [IAccessible::get_accFocus](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accfocus) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::get_accFocus` в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации см. [IAccessible::get_accFocus](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accfocus) в Windows SDK.

## <a name="cwndget_acchelp"></a><a name="get_acchelp"></a>CWnd::get_accHelp

Вызывается фректовой для извлечения строки **справки** объекта.

```
virtual HRESULT get_accHelp(
    VARIANT varChild,
    BSTR* pszHelp);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Уточняется, является ли полученная информация о справке объектом или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

*pszHelp*<br/>
Адрес BSTR, который получает локализованную строку, содержащую справочную информацию для указанного объекта, или NULL, если информация о справке отсутствует.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accHelp](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acchelp) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переизобить `CWnd`эту функцию в классе, полученном из вашего, чтобы предоставить текст справки для объекта.

Для получения дополнительной информации см. [IAccessible::get_accHelp](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acchelp) в Windows SDK.

## <a name="cwndget_acchelptopic"></a><a name="get_acchelptopic"></a>CWnd::get_accHelpTopic

Вызывается фреймворком для получения полного пути файла **WinHelp,** связанного с указанным объектом, и идентификатором соответствующей темы в этом файле.

```
virtual HRESULT get_accHelpTopic(
    BSTR* pszHelpFile,
    VARIANT varChild,
    long* pidTopic);
```

### <a name="parameters"></a>Параметры

*pszHelpFile*<br/>
Адрес BSTR, который получает полный `WinHelp` путь файла, связанного с указанным объектом, если таковой имеется.

*varChild*<br/>
Уточняется, является ли извлекаемый предмет справки темой объекта или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения темы справки для объекта), либо идентификатора ребенка (для получения темы справки для одного из элементов ребенка объекта).

*pidTopic*<br/>
Определяет тему файла справки, связанную с указанным объектом. Смотрите *pidTopic* в [IAccessible::get_accHelpTopic](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acchelptopic) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::get_accHelpTopic` в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переизобить `CWnd`эту функцию в классе, полученном из вашего, чтобы предоставить справочную информацию о объекте.

Для получения дополнительной информации см. [IAccessible::get_accHelpTopic](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acchelptopic) в Windows SDK.

## <a name="cwndget_acckeyboardshortcut"></a><a name="get_acckeyboardshortcut"></a>CWnd::get_accKeyboardShortcut

Вызывается платформой для извлечения сочетания клавиш указанного объекта или клавиши доступа к нему.

```
virtual HRESULT get_accKeyboardShortcut(
    VARIANT varChild,
    BSTR* pszKeyboardShortcut);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Уточняется, является ли извлечена клавиатура кратчайшим ключом объекта или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

*pszKeyboardShortcut*<br/>
Адрес BSTR, который получает локализованную строку, идентифицирующую ярлык клавиатуры, или NULL, если ярлык клавиатуры не связан с указанным объектом.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accKeyboardShortcut](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acckeyboardshortcut) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переизобить `CWnd`эту функцию в классе полученных клавиатуры, чтобы определить ярлык клавиатуры для объекта.

Для получения дополнительной информации см. [IAccessible::get_accKeyboardShortcut](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acckeyboardshortcut) в Windows SDK.

## <a name="cwndget_accname"></a><a name="get_accname"></a>CWnd::get_accName

Вызывается платформой для извлечения имени указанного объекта.

```
virtual HRESULT get_accName(
    VARIANT varChild,
    BSTR* pszName);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Уточняется, является ли имя, которое необходимо получить, объектом или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

*pszName*<br/>
Адрес BSTR, который получает строку, содержащую имя указанного объекта.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accName](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accname) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переизобить `CWnd`эту функцию в классе,производные от вашего, чтобы вернуть имя объекта.

Для получения дополнительной информации см. [IAccessible::get_accName](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accname) в Windows SDK.

## <a name="cwndget_accparent"></a><a name="get_accparent"></a>CWnd::get_accParent

Вызывается платформой для извлечения интерфейса `IDispatch` родительского элемента данного объекта.

```
virtual HRESULT get_accParent(IDispatch** ppdispParent);
```

### <a name="parameters"></a>Параметры

*ppdispParent*<br/>
Получает адрес интерфейса `IDispatch` родительского объекта. Переменная установлена NULL, если не существует родителя, или если ребенок не может получить доступ к своему родителю.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accParent](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accparent) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

В большинстве случаев вам не придется переопределять эту функцию.

Для получения дополнительной информации см. [IAccessible::get_accParent](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accparent) в Windows SDK.

## <a name="cwndget_accrole"></a><a name="get_accrole"></a>CWnd::get_accRole

Вызывается платформой для извлечения информации, описывающей роль указанного объекта.

```
virtual HRESULT get_accRole(
    VARIANT varChild,
    VARIANT* pvarRole);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Уточняется, является ли полученная информация о роли объектом или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

*pvarRole*<br/>
Получает информацию о роли. Смотрите *pvarRole* в [IAccessible::get_accRole](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accrole) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::get_accRole` в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации см. [IAccessible::get_accRole](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accrole) в Windows SDK.

## <a name="cwndget_accselection"></a><a name="get_accselection"></a>CWnd::get_accSelection

Вызывается платформой для извлечения выбранного дочернего элемента этого объекта.

```
virtual HRESULT get_accSelection(VARIANT* pvarChildren);
```

### <a name="parameters"></a>Параметры

*pvarДети*<br/>
Получает информацию о том, какие дети выбраны. Смотрите *pvarChildren* в [IAccessible::get_accSelection](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accselection) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::get_accSelection` в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации см. [IAccessible::get_accSelection](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accselection) в Windows SDK.

## <a name="cwndget_accstate"></a><a name="get_accstate"></a>CWnd::get_accState

Вызывается платформой для извлечения текущего состояния указанного объекта.

```
virtual HRESULT get_accState(
    VARIANT varChild,
    VARIANT* pvarState);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Определяет, является ли полученная информация о состоянии объектом или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

*pvarState*<br/>
Получает информацию о состоянии объекта. Смотрите *pvarState* в [IAccessible::get_accState](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accstate) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения** возврата `IAccessible::get_accState` в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации см. [IAccessible::get_accState](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accstate) в Windows SDK.

## <a name="cwndget_accvalue"></a><a name="get_accvalue"></a>CWnd::get_accValue

Вызывается платформой для извлечения значения указанного объекта.

```
virtual HRESULT get_accValue(
    VARIANT varChild,
    BSTR* pszValue);
```

### <a name="parameters"></a>Параметры

*varChild*<br/>
Уточняется, является ли полученная информация о значении объектом или одним из элементов ребенка объекта. Этот параметр может быть либо CHILDID_SELF (для получения информации об объекте), либо идентификатором ребенка (для получения информации о элементе ребенка объекта).

*pszValue*<br/>
Адрес BSTR, который получает локализованную строку, содержащую текущее значение объекта.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK на успех, код ошибки COM при сбое. Смотрите **значения возврата** в [IAccessible::get_accValue](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accvalue) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция является частью поддержки [активной доступности](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределить эту функцию в вашем -производном `CWnd`классе, если у вас есть неоконированные элементы пользовательского интерфейса (кроме элементов без окон ActiveX, которые mFC обрабатывает).

Для получения дополнительной информации [см. IAccessible::get_accValue](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accvalue) в Windows SDK.

## <a name="cwndgetactivewindow"></a><a name="getactivewindow"></a>CWnd::GetActiveWindow

Извлекает указатель на активное окно.

```
static CWnd* PASCAL GetActiveWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Активное окно или NULL, если на момент вызова окно не было активным. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Remarks

Активное окно — это либо окно с текущим входной фокусом, либо окно, явно активное функцией члена [SetActiveWindow.](#setactivewindow)

## <a name="cwndgetancestor"></a><a name="getancestor"></a>CWnd::GetПред

Извлекает объект окна-предка для указанного окна.

```
CWnd* GetAncestor(UINT gaFlags) const;
```

### <a name="parameters"></a>Параметры

*gaFlags*<br/>
Определяет предка, который должен быть извлечен. Полный список возможных значений можно узнать на примере [GetAncestor.](/windows/win32/api/winuser/nf-winuser-getancestor)

### <a name="return-value"></a>Возвращаемое значение

Если функция успешно, значение возврата является указателем на объект окна предка. Если функция выходит из строя, значение возврата является NULL.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [GetAncestor](/windows/win32/api/winuser/nf-winuser-getancestor), как описано в Windows SDK.

## <a name="cwndgetcapture"></a><a name="getcapture"></a>CWnd::GetCapture

Извлекает окно, которое имеет захват мыши.

```
static CWnd* PASCAL GetCapture();
```

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует окно, которое имеет захват мыши. Это NULL, если нет окна имеет захват мыши.

Значение возврата может быть временным и не должно храниться для последующего использования.

### <a name="remarks"></a>Remarks

Только одно окно имеет захват мыши в любой момент времени. Окно получает захват мыши при вызове функции участника [SetCapture.](#setcapture) Это окно получает ввод мыши независимо от того, находится ли курсор в пределах своих границ.

## <a name="cwndgetcaretpos"></a><a name="getcaretpos"></a>CWnd::GetCaretPos

Извлекает координаты текущего положения caret и `CPoint`возвращает их в качестве .

```
static CPoint PASCAL GetCaretPos();
```

### <a name="return-value"></a>Возвращаемое значение

[Объект CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) содержащий координаты положения карета.

### <a name="remarks"></a>Remarks

Положение внимательности приведено в координатах `CWnd` клиента окна.

## <a name="cwndgetcheckedradiobutton"></a><a name="getcheckedradiobutton"></a>CWnd::GetCheckedRadioButton

Извлекает идентификатор проверенной в настоящее время кнопки радио в указанной группе.

```
int GetCheckedRadioButton(
    int nIDFirstButton,
    int nIDLastButton);
```

### <a name="parameters"></a>Параметры

*nIDFirstButton*<br/>
Определяет идентификатор первой радиокнопки в группе.

*nIDLastButton*<br/>
Определяет идентификатор всей этой кнопки радио в группе.

### <a name="return-value"></a>Возвращаемое значение

Идентификатор проверенной кнопки радио, или 0, если ни один не выбран.

## <a name="cwndgetclientrect"></a><a name="getclientrect"></a>CWnd::GetClientRect

Копирует координаты `CWnd` клиентской области в структуру, на которую указывает *lpRect.*

```
void GetClientRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на [структуру RECT](/windows/win32/api/windef/ns-windef-rect) или `CRect` объект для получения координат клиента. И `left` `top` членов будет 0. И `right` `bottom` члены будут содержать ширину и высоту окна.

### <a name="remarks"></a>Remarks

В координатах клиента указаны верхний левый и нижний правый углы клиентской зоны. Поскольку координаты клиента относительно верхнего `CWnd` левого угла клиентской области, координаты верхнего левого угла (0,0).

### <a name="example"></a>Пример

  Смотрите пример [для CWnd::IsIconic](#isiconic).

## <a name="cwndgetclipboardowner"></a><a name="getclipboardowner"></a>CWnd::GetClipboardВладелец

Получает текущего владельца Clipboard.

```
static CWnd* PASCAL GetClipboardOwner();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет окно, которому принадлежит Clipboard, если функция успешна. В противном случае, это NULL.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Clipboard по-прежнему может содержать данные, даже если он в настоящее время не принадлежит.

## <a name="cwndgetclipboardviewer"></a><a name="getclipboardviewer"></a>CWnd::GetClipboardViewer

Извлекает первое окно в цепочке Clipboard-viewer.

```
static CWnd* PASCAL GetClipboardViewer();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет окно, в настоящее время ответственное за отображение Clipboard в случае успеха; в противном случае NULL (например, если нет зрителя).

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

## <a name="cwndgetcontrolunknown"></a><a name="getcontrolunknown"></a>CWnd::GetControlUnknown

Вызов исвызывайте эту функцию участника, чтобы получить указатель неизвестному управлению OLE.

```
LPUNKNOWN GetControlUnknown();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на интерфейс [IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown) управления OLE, представленный этим `CWnd` объектом. Если этот объект не представляет элемент управления OLE, значение возврата является NULL.

### <a name="remarks"></a>Remarks

Вы не должны `IUnknown` выпускать этот указатель. Как правило, вы используете для получения определенного интерфейса управления.

Указатель интерфейса, `GetControlUnknown` возвращенный, не считается эталонным. Не звоните [IUnknown::Release](/windows/win32/api/unknwn/nf-unknwn-iunknown-release) на указатель, если вы ранее не назвали [IUnknown::AddRef](/windows/win32/api/unknwn/nf-unknwn-iunknown-addref) на нем.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#96](../../mfc/reference/codesnippet/cpp/cwnd-class_35.cpp)]

## <a name="cwndgetcurrentmessage"></a><a name="getcurrentmessage"></a>CWnd::GetCurrentMessage

Возвращает указатель на сообщение, обрабатываемое этим окном в настоящий момент. Следует вызываться только при работе в функции обработчика сообщений **On**<em>Message.</em>

```
static const MSG* PASCAL GetCurrentMessage();
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает указатель в структуру [MSG,](/windows/win32/api/winuser/ns-winuser-msg) содержащую сообщение, которое в настоящее время обрабатывает окно. Следует вызываться только при обработке **на**<em>сообщении.</em>

### <a name="example"></a>Пример

  Смотрите пример [CMDIFrameWnd::MDICascade](../../mfc/reference/cmdiframewnd-class.md#mdicascade).

## <a name="cwndgetdc"></a><a name="getdc"></a>CWnd::GetDC

Извлекает указатель на общий, классовый или закрытый контекст устройства для области `CWnd`клиента в зависимости от стиля класса, указанного для .

```
CDC* GetDC();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет контекст устройства для `CWnd` области клиента в случае успеха; в противном случае значение возврата null. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Remarks

Для общих контекстов устройства `GetDC` присваиваем атрибуты по умолчанию контексту при каждом извлечении. Для классовики `GetDC` и частных контекстов оставляют ранее назначенные атрибуты без изменений. Контекст устройства можно использовать в последующих функциях интерфейса графического устройства (GDI) для рисования в клиентской области.

Если контекст устройства не относится к классу окон, функция участника [ReleaseDC](#releasedc) должна быть вызвана для выпуска контекста после рисования.

Контекст устройства, относящийся к `CWnd` классу, возвращается функцией `GetDC` элемента, `WNDCLASS` если CS_CLASSDC, CS_OWNDC или CS_PARENTDC был указан как стиль в структуре при регистрации класса.

## <a name="cwndgetdcex"></a><a name="getdcex"></a>CWnd::GetDCEx

Извлекает ручку контекста устройства `CWnd` для окна.

```
CDC* GetDCEx(
    CRgn* prgnClip,
    DWORD flags);
```

### <a name="parameters"></a>Параметры

*prgnClip*<br/>
Определяет область отсечения, которая может быть объединена с видимой областью окна клиента.

*Флаги*<br/>
Может иметь одно из следующих заранее установленных значений:

- DCX_CACHE возвращает контекст устройства из кэша, а не окно OWNDC или CLASSDC. Оверлет CS_OWNDC и CS_CLASSDC.

- DCX_CLIPCHILDREN исключает видимые области всех `CWnd` детских окон под окном.

- DCX_CLIPSIBLINGS исключает видимые области всех `CWnd` окон братьев и сестер над окном.

- DCX_EXCLUDERGN исключает область отсечения, идентифицированную *prgnClip,* из видимой области контекста возвращенного устройства.

- DCX_INTERSECTRGN пересекает область отсечения, идентифицированную *prgnClip* в видимом контексте возвращенного устройства.

- DCX_LOCKWINDOWUPDATE позволяет рисовать, `LockWindowUpdate` даже если есть вызов в силе, что в противном случае исключить это окно. Это значение используется для рисования во время отслеживания.

- DCX_PARENTCLIP использует видимую область родительского окна и игнорирует WS_CLIPCHILDREN и WS_PARENTDC элементов стиля. Это значение устанавливает происхождение контекста устройства в верхний `CWnd` левый угол окна.

- DCX_WINDOW возвращает контекст устройства, который соответствует прямоугольнику окна, а не клиенту прямоугольнику.

### <a name="return-value"></a>Возвращаемое значение

Контекст устройства для указанного окна, если функция успешна; в противном случае NULL.

### <a name="remarks"></a>Remarks

Контекст устройства может быть использован в последующих функциях GDI для рисования в клиентской области.

Эта функция, которая является расширением функции [GetDC,](/windows/win32/api/winuser/nf-winuser-getdc) дает приложению больше контроля над тем, как и является ли контекст устройства для окна обрезан.

Если контекст устройства не относится к классу окон, функция [ReleaseDC](/windows/win32/api/winuser/nf-winuser-releasedc) должна быть вызвана для выпуска контекста после рисования. Поскольку в любой момент времени доступны только пять общих контекстов устройства, отказ от выпуска контекста устройства может помешать другим приложениям получить доступ к контексту устройства.

Для получения контекста кэшированного устройства приложение должно указать [DCX_CACHE](/windows/win32/api/winuser/nf-winuser-getdcex). Если DCX_CACHE не указаний и окно не CS_OWNDC и [CS_CLASSDC,](/windows/win32/api/winuser/ns-winuser-wndclassw)эта функция возвращает NULL.

Контекст устройства со специальными характеристиками возвращается функцией [GetDCEx,](/windows/win32/api/winuser/nf-winuser-getdcex) если CS_CLASSDC, [CS_OWNDC](/windows/win32/api/winuser/ns-winuser-wndclassw)или [CS_PARENTDC](/windows/win32/api/winuser/ns-winuser-wndclassw) стиль был указан в структуре [WNDCLASS](/windows/win32/api/winuser/ns-winuser-wndclassw) при регистрации класса.

Для получения дополнительной информации об этих `WNDCLASS` характеристиках, см.

## <a name="cwndgetdcrendertarget"></a><a name="getdcrendertarget"></a>CWnd::GetDCRenderTarget

Извлекает целевой объект отрисовки из контекста устройства для окна `CWnd`.

```
CDCRenderTarget* GetDCRenderTarget();
```

### <a name="return-value"></a>Возвращаемое значение

Целевой объект отрисовки из контекста устройства, если функция выполнена успешно; в противном случае — NULL.

### <a name="remarks"></a>Remarks

## <a name="cwndgetdescendantwindow"></a><a name="getdescendantwindow"></a>CWnd::GetDescendantWindow

Вызовите эту функцию участника, чтобы найти окно потомка, указанное данным идентификатором.

```
CWnd* GetDescendantWindow(
    int nID,
    BOOL bOnlyPerm = FALSE) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Определяет идентификатор элемента управления или детского окна для извлечения.

*bOnlyPerm*<br/>
Уточняется, может ли возвращенное окно быть временным. Если true, только постоянное окно может быть возвращено; если FALSE, функция может вернуть временное окно. Для получения дополнительной информации о временных окнах [см.](../../mfc/tn003-mapping-of-windows-handles-to-objects.md)

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CWnd` объект или NULL, если не найдено окно ребенка.

### <a name="remarks"></a>Remarks

Эта функция участника выполняет поиск всего дерева детских окон, а не только окон, которые являются непосредственными детьми.

## <a name="cwndgetdesktopwindow"></a><a name="getdesktopwindow"></a>CWnd::GetDesktopWindow

Возвращает окно рабочего стола Windows.

```
static CWnd* PASCAL GetDesktopWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует окно рабочего стола Windows. Этот указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Окно рабочего стола охватывает весь экран и представляет собой область, поверх которой окрашены все значки и другие окна.

## <a name="cwndgetdlgctrlid"></a><a name="getdlgctrlid"></a>CWnd::GetDlgCtrlID

Возвращает значение идентификатора окна или элемента управления для любого окна ребенка, а не только элемент управления в диалоговом окне.

```
int GetDlgCtrlID() const;
```

### <a name="return-value"></a>Возвращаемое значение

Числовый идентификатор `CWnd` окна ребенка, если функция успешна; в противном случае 0.

### <a name="remarks"></a>Remarks

Поскольку окна верхнего уровня не имеют значения идентификатора, `CWnd` значение возврата этой функции является недействительным, если окно верхнего уровня является недействительным.

### <a name="example"></a>Пример

  Смотрите пример [CWnd::OnCtlColor](#onctlcolor).

## <a name="cwndgetdlgitem"></a><a name="getdlgitem"></a>CWnd::GetDlgItem

Извлекает указатель на указанное окно управления или дочернее окно в диалоговом окне или другом окне.

```
CWnd* GetDlgItem(int nID) const;

void GetDlgItem(
    int nID,
    HWND* phWnd) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Определяет идентификатор элемента управления или детского окна для извлечения.

*phWnd*<br/>
Указатель на детское окно.

### <a name="return-value"></a>Возвращаемое значение

Указатель на данное окно управления или детское окно. Если нет контроля с идентификатором, предоставленным параметром *nID,* значение является NULL.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Возвращается указатель, как правило, отбрасывается к типу управления, идентифицированному *nID.*

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#97](../../mfc/reference/codesnippet/cpp/cwnd-class_36.cpp)]

## <a name="cwndgetdlgitemint"></a><a name="getdlgitemint"></a>CWnd::GetDlgItemInt

Извлекает текст элемента управления, идентифицированного *nID.*

```
UINT GetDlgItemInt(
    int nID,
    BOOL* lpTrans = NULL,
    BOOL bSigned = TRUE) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Определяет идентификатор нестого числа управления диалоговой коробкой, который будет переведен.

*lpTrans*<br/>
Указывает на переменную Boolean, которая должна получить переведенный флаг.

*bПодписанный*<br/>
Определяется, подписано ли значение, подносивео к извлечению.

### <a name="return-value"></a>Возвращаемое значение

Определяет переведенное значение текста элемента диалог-бокс. Поскольку 0 является допустимое значение возврата, *lpTrans* должен использоваться для обнаружения ошибок. Если подписанное значение возврата желательно, отбросьте его в тип **Int.**

Функция возвращает 0, если переведенное число превышает INT_MAX (для подписанных номеров) или UINT_MAX (для неподписанных).

При возникновении ошибок, таких как столкновение с ненизмотенными символами и превышение вышеуказанного максимума, `GetDlgItemInt` копии 0 к месту, указанному *lpTrans*. Если ошибок нет, *lpTrans* получает ненулевое значение. Если *lpTrans* является `GetDlgItemInt` NULL, не предупреждает об ошибках.

### <a name="remarks"></a>Remarks

Он преобразует текст указанного элемента управления в данном диалоговом поле в значение, зачистив любые дополнительные пробелы в начале текста и преобразовав десятичные цифры. Он останавливает перевод, когда он достигает конца текста или сталкивается с любым ненчислоным персонажем.

Если *bSigned* является `GetDlgItemInt` правдой, проверяется на знак минус (-) в начале текста и переводит текст в подписанный номер. В противном случае он создает неподписанное значение.

Он отправляет [WM_GETTEXT](/windows/win32/winmsg/wm-gettext) сообщение на контроль.

## <a name="cwndgetdlgitemtext"></a><a name="getdlgitemtext"></a>CWnd::GetDlgItemText

Вызов эту функцию участника для получения заголовка или текста, связанных с элементом управления в диалоговом поле.

```
int GetDlgItemText(
    int nID,
    LPTSTR lpStr,
    int nMaxCount) const;

int GetDlgItemText(
    int nID,
    CString& rString) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Определяет идентификатор самого разложенный элемент управления, название которого должно быть извлечено.

*lpStr*<br/>
Указывает на буфер для получения заголовка или текста элемента управления.

*nMaxCount*<br/>
Упоняет максимальную длину (в символах) строки, которая будет скопирована на *lpStr*. Если строка длиннее *nMaxCount,* она усечена.

*rString*<br/>
Ссылка на [CString](../../atl-mfc-shared/reference/cstringt-class.md).

### <a name="return-value"></a>Возвращаемое значение

Определяет фактическое количество символов, скопированных в буфер, не включая термин null. Значение 0, если текст не скопирован.

### <a name="remarks"></a>Remarks

Функция `GetDlgItemText` участника копирует текст к местоположению, на который указывает *lpStr,* и возвращает количество байтов, которые он копирует.

## <a name="cwndgetdsccursor"></a><a name="getdsccursor"></a>CWnd::GetDSCCursor

Вызовите эту функцию участника, чтобы получить указатель на базовый курсор, определяемый свойствами DataSource, UserName, Password и S'L управления источником данных.

```
IUnknown* GetDSCCursor();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на курсор, определяемый управлением источником данных. MFC заботится `AddRef` о вызове для указателя.

### <a name="remarks"></a>Remarks

Используйте ответный указатель для установки свойства ICursor сложного управления, связанного с данными, например управления сеткой, привязанной к данным. Элемент управления источником данных не станет активным до тех пор, пока первый связанный элемент управления не запрашивает свой курсор. Это может произойти либо явно `GetDSCCursor` по звонку, либо косвенно связывающимся менеджером MFC. В любом случае, вы можете заставить управление источником `GetDSCCursor` данных `Release` стать активным, `IUnknown`позвонив, а затем вызывая возвращенный указатель на . Активация приведет к попытке подключения к базовому источнику данных. Ответный указатель может быть использован в следующем контексте:

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_AxDataBinding#5](../../mfc/reference/codesnippet/cpp/cwnd-class_37.cpp)]

## <a name="cwndgetdynamiclayout"></a><a name="getdynamiclayout"></a>CWnd:GetDynamicLayout

Извлекает указатель на объект диспетчера динамического макета.

```
CMFCDynamicLayout* GetDynamicLayout();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект диспетчера динамического макета; NULL — если динамический макет отключен.

### <a name="remarks"></a>Remarks

Объект окна владеет и управляет временем жизни возвращаемого указателя, поэтому его следует использовать только для доступа к этому объекту. Не удаляйте указатель или сохраняйте его перманентно.

## <a name="cwndgetexstyle"></a><a name="getexstyle"></a>CWnd::GetExStyle

Возвращает расширенный стиль окна.

```
DWORD GetExStyle() const;
```

### <a name="return-value"></a>Возвращаемое значение

Удлинение стиля окна. Для получения дополнительной информации о расширенных стилях окон, используемых в MFC, [см.](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles)

## <a name="cwndgetfocus"></a><a name="getfocus"></a>CWnd::GetFocus

Извлекает указатель на `CWnd` то, что в настоящее время имеет фокус ввода.

```
static CWnd* PASCAL GetFocus();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно с текущим фокусом или NULL, если нет окна фокусировки.

Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

## <a name="cwndgetfont"></a><a name="getfont"></a>CWnd::GetFont

Отправляет WM_GETFONT сообщение в окно для получения текущего шрифта.

```
CFont* GetFont() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CFont,](../../mfc/reference/cfont-class.md) который прикрепляется к текущему шрифту для окна.

### <a name="remarks"></a>Remarks

Этот метод не имеет никакого эффекта, если окно не обрабатывает WM_GETFONT сообщение. Многие классы MFC, которые вытекают из `CWnd` обработки этого сообщения, потому что они прикреплены к заданному классу окон, который включает обработчик сообщений для WM_GETFONT сообщения. Для использования этого метода классы, полученные из `CWnd` этого метода, должны определить обработчик метода для сообщения WM_GETFONT.

## <a name="cwndgetforegroundwindow"></a><a name="getforegroundwindow"></a>CWnd::GetForegroundWindow

Возвращает указатель на окно переднего плана (окно, с которым пользователь в настоящее время работает).

```
static CWnd* PASCAL GetForegroundWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно переднего плана. Это может быть `CWnd` временный объект.

### <a name="remarks"></a>Remarks

Окно переднего плана применяется только к окнам верхнего уровня (окна кадра или диалоговые окна).

## <a name="cwndgeticon"></a><a name="geticon"></a>CWnd::GetIcon

Вызовите эту функцию члена для того чтобы получить ручку к или большому (32x32) или ручке к малому (16x16) значку, как показано *bBigIcon.*

```
HICON GetIcon(BOOL bBigIcon) const;
```

### <a name="parameters"></a>Параметры

*bBigIcon*<br/>
Определяет значок 32 пикселя на 32 пикселя, если это правда; определяет значок 16 пикселей на 16 пикселей, если FALSE.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор для значка. В случае неудачи возвращает NULL.

## <a name="cwndgetlastactivepopup"></a><a name="getlastactivepopup"></a>CWnd::GetLastActivePopup

Определяет последнее проявлявшее активность всплывающее окно, принадлежащее классу `CWnd`.

```
CWnd* GetLastActivePopup() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует последнее активное всплывающее окно. Значение возврата будет само окно, если любое из следующих условий выполнено:

- Само окно было в последнее время активно.

- Окно не владеет всплывающими окнами.

- Окно не является окном верхнего уровня или принадлежит другому окну.

Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="example"></a>Пример

  Смотрите пример [CWnd::FindWindow](#findwindow).

## <a name="cwndgetlayeredwindowattributes"></a><a name="getlayeredwindowattributes"></a>CWnd::GetLayeredWindowAttributes

Получает ключ цвета прозрачности многослойного окна.

```
BOOL GetLayeredWindowAttributes(
    COLORREF* pcrKey,
    BYTE* pbAlpha,
    DWORD* pdwFlags) const;
```

### <a name="parameters"></a>Параметры

*pcrKey*<br/>
Указатель на значение COLORREF, которое получает цветной ключ прозрачности, который будет использоваться при составлении многослойного окна. Все пиксели, окрашенные окном в этом цвете, будут прозрачными. Это может быть NULL, если аргумент не нужен.

*pbAlpha*<br/>
Указатель на BYTE, который получает значение Альфа, используемое для описания непрозрачности многослойного окна. Когда переменная, на которую ссылается *pbAlpha,* составляет 0, окно полностью прозрачно. Когда переменная, на которую ссылается *pbAlpha,* составляет 255, окно непрозрачно. Это может быть NULL, если аргумент не нужен.

*pdwFlags*<br/>
Указатель на DWORD, который получает наслоение флага. Это может быть NULL, если аргумент не нужен. Полный список возможных значений можно узнать на примере [GetLayeredWindowAttributes.](/windows/win32/api/winuser/nf-winuser-getlayeredwindowattributes)

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция-член эмулирует функциональность функции [GetLayeredWindowAttributes,](/windows/win32/api/winuser/nf-winuser-getlayeredwindowattributes)как описано в SDK Windows.

## <a name="cwndgetmenu"></a><a name="getmenu"></a>CWnd::GetMenu

Извлекает указатель в меню для этого окна.

```
CMenu* GetMenu() const;
```

### <a name="return-value"></a>Возвращаемое значение

Определяет меню. Значение NULL, `CWnd` если не имеет меню. Значение возврата не определено, если `CWnd` это окно ребенка.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Эта функция не должна использоваться для детских окон, поскольку у них нет меню.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#98](../../mfc/reference/codesnippet/cpp/cwnd-class_38.cpp)]

## <a name="cwndgetmenubarinfo"></a><a name="getmenubarinfo"></a>CWnd::GetMenuBarInfo

Извлекает информацию об указанном баре меню.

```
BOOL GetMenuBarInfo(
    LONG idObject,
    LONG idItem,
    PMENUBARINFO pmbi) const;
```

### <a name="parameters"></a>Параметры

*idObject*<br/>
Определяет объект меню. Список возможных значений можно узнать на примере [GetMenuBarInfo.](/windows/win32/api/winuser/nf-winuser-getmenubarinfo)

*idItem*<br/>
Оповестите элемент, для которого можно получить информацию. Если этот параметр равен нулю, функция получает информацию о самом меню. Если этот параметр 1, функция получает информацию о первом элементе в меню и так далее.

*pmbi*<br/>
Указатель на структуру [MENUBARINFO,](/windows/win32/api/winuser/ns-winuser-menubarinfo) которая получает информацию.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [GetMenuBarInfo](/windows/win32/api/winuser/nf-winuser-getmenubarinfo), как описано в Windows SDK.

## <a name="cwndgetnextdlggroupitem"></a><a name="getnextdlggroupitem"></a>CWnd::GetNextDlgGroupItem

Поиск предыдущего или следующего элемента управления в группе элементов управления в диалоговом поле.

```
CWnd* GetNextDlgGroupItem(
    CWnd* pWndCtl,
    BOOL bPrevious = FALSE) const;

COleControlSiteOrWnd* GetNextDlgGroupItem(
    COleControlSiteOrWnd* pCurSiteOrWnd = NULL) const;
```

### <a name="parameters"></a>Параметры

*pWndCtl*<br/>
Определяет элемент управления, который будет использоваться в качестве отправной точки для поиска.

*bПредыдущий*<br/>
Определяет, как функция заключается в поиске группы элементов управления в диалоговом поле. Если true, функция выполняет поиск предыдущего элемента управления в группе; если FALSE, он ищет следующий контроль в группе.

*pCurSiteOrWnd*<br/>
Идентифицирует `COleControlSiteOrWnd` элемент управления. Для получения `COleControlSiteOrWnd`дополнительной информации о , см. **Remarks**

### <a name="return-value"></a>Возвращаемое значение

Указать на предыдущий или следующий элемент управления в группе, если функция участника успешна.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Группа элементов управления начинается с элемента управления, созданного с [WS_GROUP](styles-used-by-mfc.md#window-styles) стилем, и заканчивается последним элементом управления, который не был создан с WS_GROUP стилем.

По умолчанию `GetNextDlgGroupItem` функция участника возвращает указатель следующему элементу управления в группе. Если *pWndCtl* идентифицирует первый элемент управления в `GetNextDlgGroupItem` группе и *bPrevious* является правдой, возвращает указатель к последнему элементу управления в группе.

> [!NOTE]
> Поскольку MFC поддерживает элементы управления ActiveX без окон, стандартные элементы управления ActiveX и окна, ссылаясь на элемент управления только HWND больше не хватает. Объект `COleControlSiteOrWnd` включает в себя информацию, которая идентифицирует объект как оконное управление ActiveX, управление ActiveX без окон или окно, следующим образом:

|Тип управления или окна|Идентификационная информация|
|----------------------------|-----------------------------|
|Управление ActiveX с окнами|Содержит HWND и связывает с ним объект [COleControlSite.](../../mfc/reference/colecontrolsite-class.md) Член `m_hWnd` `COleControlSiteOrWnd` устанавливается на HWND управления, и `m_pSite` член указывает на элемент `COleControlSite`управления .|
|Управление ActiveX без окон|Не содержит HWND. Член `m_pSite` `COleControlSiteOrWnd` указывает на элемент `COleControlSite`управления, а `m_hWnd` член NULL.|
|Стандартное окно|Содержит только HWND. Участник `m_hWnd` `COleControlSiteOrWnd` устанавливается в HWND окна, а `m_pSite` участник NULL.|

## <a name="cwndgetnextdlgtabitem"></a><a name="getnextdlgtabitem"></a>CWnd::GetNextDlgTabItem

Извлекает указатель на первый элемент управления, который был создан с [WS_TABSTOP](styles-used-by-mfc.md#window-styles) стилем и который предшествует или следует указанному элементу управления.

```
CWnd* GetNextDlgTabItem(
    CWnd* pWndCtl,
    BOOL bPrevious = FALSE) const;

COleControlSiteOrWnd* GetNextDlgTabItem(
    COleControlSiteOrWnd* pCurSiteOrWnd,
    BOOL bPrevious) const;
```

### <a name="parameters"></a>Параметры

*pWndCtl*<br/>
Определяет элемент управления, который будет использоваться в качестве отправной точки для поиска.

*pCurSiteOrWnd*<br/>
Идентифицирует `COleControlSiteOrWnd` элемент управления. Для получения `COleControlSiteOrWnd`дополнительной информации о , см. [CWnd::GetNextDlgGroupItem](#getnextdlggroupitem).

*bПредыдущий*<br/>
Определяет, как функция заключается в поиске диалогового окна. Если true, функция выполняет поиск предыдущего элемента управления в диалоговом поле; если FALSE, он ищет следующий контроль.

### <a name="return-value"></a>Возвращаемое значение

Указать на предыдущий или следующий элемент управления, который имеет WS_TABSTOP стиль, если функция члена является успешной.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

Для получения `COleControlSiteOrWnd`дополнительной информации о , см. [CWnd::GetNextDlgGroupItem](#getnextdlggroupitem).

## <a name="cwndgetnextwindow"></a><a name="getnextwindow"></a>CWnd::GetNextWindow

Поиск следующего (или предыдущего) окна в списке менеджера окон.

```
CWnd* GetNextWindow(UINT nFlag = GW_HWNDNEXT) const;
```

### <a name="parameters"></a>Параметры

*nФлаг*<br/>
Определяет, возвращает ли функция указатель в следующее окно или предыдущее окно. Это может быть либо GW_HWNDNEXT, который `CWnd` возвращает окно, которое следует за объектом в списке менеджера окна, либо GW_HWNDPREV, которое возвращает предыдущее окно в списке менеджера окон.

### <a name="return-value"></a>Возвращаемое значение

Определяет следующее (или предыдущее) окно в списке менеджера окон, если функция участника успешна.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Список менеджера окон содержит записи для всех окон верхнего уровня, связанных с ними детских окон и детских окон любых детских окон.

Если `CWnd` это окно верхнего уровня, функция выполняет поиск следующего (или предыдущего) окна верхнего уровня; если `CWnd` это окно ребенка, функция выполняет поиск следующего (или предыдущего) окна ребенка.

## <a name="cwndgetolecontrolsite"></a><a name="getolecontrolsite"></a>CWnd::GetOleControlSite

Извлекает настраиваемый сайт для указанного элемента управления ActiveX.

```
COleControlSite* GetOleControlSite(UINT idControl) const;
```

### <a name="parameters"></a>Параметры

*idControl*<br/>
Идентификатор элемента управления ActiveX.

## <a name="cwndgetopenclipboardwindow"></a><a name="getopenclipboardwindow"></a>CWnd::GetOpenClipboardWindow

Извлекает ручку окна, которая в настоящее время имеет Clipboard открытым.

```
static CWnd* PASCAL GetOpenClipboardWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Ручка окна, которая в настоящее время имеет Clipboard открыт, если функция является успешной; в противном случае NULL.

## <a name="cwndgetowner"></a><a name="getowner"></a>CWnd::GetOwner

Получает указатель владельцу окна.

```
CWnd* GetOwner() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CWnd`.

### <a name="remarks"></a>Remarks

Если в окне нет владельца, по умолчанию возвращается указатель на объект родительского окна. Обратите внимание, что отношения между владельцем и владельцем отличается от родительского ребенка аспект в нескольких важных аспектах. Например, окно с родителем ограничено областью клиента родительского окна. Принадлежащие окна могут быть нарисованы в любом месте на рабочем столе.

Концепция собственности этой функции отличается от концепции собственности [GetWindow.](/windows/win32/api/winuser/nf-winuser-getwindow)

## <a name="cwndgetparent"></a><a name="getparent"></a>CWnd::GetParent

Вызов исправьте эту функцию, чтобы получить указатель на родительское окно детского окна (если таковой имеется).

```
CWnd* GetParent() const;
```

### <a name="return-value"></a>Возвращаемое значение

Смотрите раздел Значения возврата в [GetParent](/windows/win32/api/winuser/nf-winuser-getparent) в SDK Windows.

### <a name="remarks"></a>Remarks

Функция `GetParent` возвращает указатель непосредственному родителю (если он существует). В отличие от этого функция [GetParentOwner](#getparentowner) возвращает указатель в самое непосредственное окно родителя или владельца, которое не является окном ребенка (не имеет WS_CHILD стиля). Если у вас есть детское `GetParent` `GetParentOwner` окно в окне ребенка и вернуть различные результаты.

## <a name="cwndgetparentframe"></a><a name="getparentframe"></a>CWnd::GetParentFrame

Вызов эту функцию участника для получения окна родительской рамы.

```
CFrameWnd* GetParentFrame() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно рамы в случае успеха; в противном случае NULL.

### <a name="remarks"></a>Remarks

Функция участника выполняет поиск родительской цепи до тех пор, пока не будет найден объект [CFrameWnd](../../mfc/reference/cframewnd-class.md) (или производный класс).

## <a name="cwndgetparentowner"></a><a name="getparentowner"></a>CWnd:GetParentВладелец

Позвоните в эту функцию участника, чтобы получить указатель на родительское окно или окно владельца детского окна.

```
CWnd* GetParentOwner() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CWnd`. Если объект `CWnd` не прикреплен к дескриптору, создается и прикрепляется временный объект `CWnd`. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Remarks

`GetParentOwner`возвращает указатель на самое непосредственное окно родителя или владельца, которое не является окном ребенка (не имеет WS_CHILD стиля). Текущее окно владельца можно установить с [помощью SetOwner.](#setowner) По умолчанию родительским окном является его владелец.

В отличие от этого функция [GetParent](#getparent) возвращает указатель непосредственному родителю, независимо от того, является ли это окном ребенка или нет. Если у вас есть детское `GetParent` `GetParentOwner` окно в окне ребенка и вернуть различные результаты.

## <a name="cwndgetproperty"></a><a name="getproperty"></a>CWnd::GetProperty

Позвоните в эту функцию участника, чтобы получить свойство управления ActiveX, указанное *dwDispID.*

```
void GetProperty(
    DISPID dwDispID,
    VARTYPE vtProp,
    void* pvProp)const;
```

### <a name="parameters"></a>Параметры

*dwDispID*<br/>
Идентифицирует свойство, подносяе извлечению.

*vtProp*<br/>
Упогоняет тип извлечения свойства. Возможные значения см. в подразделе "Примечания" раздела [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper).

*pvProp*<br/>
Адрес переменной, которая получит стоимость свойства. Он должен соответствовать типу, указанному *vtProp.*

### <a name="remarks"></a>Remarks

`GetProperty`возвращает значение через *pvProp*.

> [!NOTE]
> Эта функция должна вызываться `CWnd` только на объекте, который представляет элемент управления ActiveX.

Для получения дополнительной информации об использовании этой функции [ActiveX Control Containers: Programming ActiveX Controls in an ActiveX Control Container](../../mfc/programming-activex-controls-in-a-activex-control-container.md)участника с помощью контейнеров ActiveX Control, см.

## <a name="cwndgetrendertarget"></a><a name="getrendertarget"></a>CWnd::GetRenderTarget

Возвращает целевой объект отрисовки, связанный с данным окном.

```
CHwndRenderTarget* GetRenderTarget();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на цель рендера или NULL.

## <a name="cwndgetsafehwnd"></a><a name="getsafehwnd"></a>CWnd::GetSafeHwnd

Возвращает `m_hWnd`, или NULL, если **этот** указатель NULL.

```
HWND GetSafeHwnd() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает ручку окна для окна. Возвращает NULL, `CWnd` если он не прикреплен к окну или `CWnd` если он используется с указателем NULL.

### <a name="example"></a>Пример

  Смотрите пример [CWnd::SubclassWindow](#subclasswindow).

## <a name="cwndgetsafeowner"></a><a name="getsafeowner"></a>CWnd:GetSafeOwner

Вызов эту функцию участника, чтобы получить окно владельца, которое должно быть использовано для диалоговые окна или другие модальные окна.

```
static CWnd* GetSafeOwner(
    CWnd* pParent = NULL,
    HWND* pWndTop = NULL);
```

### <a name="parameters"></a>Параметры

*pРодитель*<br/>
Указатель на родительское `CWnd` окно. Может иметь значение "NULL".

*pWndTop*<br/>
Указатель на окно, которое в настоящее время находится на вершине. Может иметь значение "NULL".

### <a name="return-value"></a>Возвращаемое значение

Указатель на безопасного владельца для данного окна.

### <a name="remarks"></a>Remarks

Безопасный владелец является первым не-ребенок родителей окно *pParent*. Если *pParent* является NULL, основное окно потока (извлеченное через [AfxGetMainWnd)](../../mfc/reference/application-information-and-management.md#afxgetmainwnd)используется для поиска владельца.

> [!NOTE]
> Сама система использует эту функцию для определения правильного окна владельца для диалоговых коробок и листов свойств, где владелец не указан.

## <a name="cwndgetscrollbarctrl"></a><a name="getscrollbarctrl"></a>CWnd:GetScrollBarCtrl

Позвоните в эту функцию участника, чтобы получить указатель на указанный бар прокрутки брата или окно сплиттера.

```
virtual CScrollBar* GetScrollBarCtrl(int nBar) const;
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет тип панели прокрутки. Параметр может принимать одно из следующих значений:

- SB_HORZ извлекает положение горизонтальной панели прокрутки.

- SB_VERT извлекает положение вертикальной полосы прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Брат управления прокруткой, или NULL, если нет.

### <a name="remarks"></a>Remarks

Эта функция участника не работает на барах прокрутки, созданных при установке WS_HSCROLL или WS_VSCROLL битов при создании окна. Реализация `CWnd` этой функции просто возвращает NULL. Выведенные классы, `CView`такие как, реализуют описанную функциональность.

## <a name="cwndgetscrollbarinfo"></a><a name="getscrollbarinfo"></a>CWnd::GetScrollBarInfo

Извлекает сведения об указанной полосе прокрутки.

```
BOOL GetScrollBarInfo(
    LONG idObject,
    PSCROLLBARINFO psbi) const;
```

### <a name="parameters"></a>Параметры

*idObject*<br/>
Определяет объект меню. Список возможных значений можно узнать на примере [GetScrollBarInfo.](/windows/win32/api/winuser/nf-winuser-getscrollbarinfo)

*psbi*<br/>
Указатель на структуру [SCROLLBARINFO,](/windows/win32/api/winuser/ns-winuser-scrollbarinfo) которая получает информацию.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [GetScrollBarInfo](/windows/win32/api/winuser/nf-winuser-getscrollbarinfo), как описано в Windows SDK.

## <a name="cwndgetscrollinfo"></a><a name="getscrollinfo"></a>CWnd::GetScrollInfo

Вызовите эту функцию участника, `SCROLLINFO` чтобы получить информацию, которую структура поддерживает о панели прокрутки.

```
BOOL GetScrollInfo(
    int nBar,
    LPSCROLLINFO lpScrollInfo,
    UINT nMask = SIF_ALL);
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет, является ли панель прокрутки элементом управления или частью области неклиента окна. Если он является частью области неклиента, *nBar* также указывает, находится ли панель прокрутки горизонтально, вертикально или и то, и другое. Она должна быть одной из следующих:

- SB_CTL извлекает параметры для управления полосой прокрутки. Член `m_hWnd` данных должен быть ручкой управления панелью прокрутки.

- SB_HORZ извлекает параметры для стандартной горизонтальной панели прокрутки окна.

- SB_VERT извлекает параметры для стандартной вертикальной панели прокрутки окна.

*lpScrollInfo*<br/>
Указатель на структуру [SCROLLINFO.](/windows/win32/api/winuser/ns-winuser-scrollinfo) Дополнительную информацию об этой структуре можно узнать в SDK Windows.

*nМаск*<br/>
Определяет параметры панели прокрутки для извлечения. По умолчанию определяется комбинация SIF_PAGE, SIF_POS, SIF_TRACKPOS и SIF_RANGE. Дополнительную информацию о значениях `SCROLLINFO` *nMask* смотрите.

### <a name="return-value"></a>Возвращаемое значение

Если сообщение извлекает какие-либо значения, возврат является правдой. В противном случае, это FALSE.

### <a name="remarks"></a>Remarks

`GetScrollInfo`позволяет приложениям использовать 32-битные позиции прокрутки.

Структура [SCROLLINFO](/windows/win32/api/winuser/ns-winuser-scrollinfo) содержит информацию о панели прокрутки, включая минимальное и максимальное положение прокрутки, размер страницы и положение окна прокрутки (большой палец). Подробнее `SCROLLINFO` об изменении структуры по умолчанию можно просмотреть тему структуры в SDK Windows SDK.

Обработчики сообщений MFC Windows, указывающие положение прокрутки-бар, [CWnd::OnHScroll](#onhscroll) и [CWnd::OnVScroll,](#onvscroll)предоставляют только 16 бит данных о положении. `GetScrollInfo`и `SetScrollInfo` предоставить 32 бита данных о положении прокрутки-бара. Таким образом, приложение `GetScrollInfo` может `CWnd::OnHScroll` звонить `CWnd::OnVScroll` при обработке либо или для получения 32-битных данных положения прокрутки.бара.

## <a name="cwndgetscrolllimit"></a><a name="getscrolllimit"></a>CWnd::GetScrollLimit

Вызов исчерпе эту функцию участника, чтобы получить максимальное положение прокрутки панели прокрутки.

```
int GetScrollLimit(int nBar);
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет тип панели прокрутки. Параметр может принимать одно из следующих значений:

- SB_HORZ извлекает предел прокрутки горизонтальной панели прокрутки.

- SB_VERT извлекает предел прокрутки вертикальной панели прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Определяет максимальное положение панели прокрутки в случае успеха; в противном случае 0.

## <a name="cwndgetscrollpos"></a><a name="getscrollpos"></a>CWnd::GetScrollPos

Извлекает текущее положение окна прокрутки панели прокрутки.

```
int GetScrollPos(int nBar) const;
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет бар прокрутки для изучения. Параметр может принимать одно из следующих значений:

- SB_HORZ извлекает положение горизонтальной панели прокрутки.

- SB_VERT извлекает положение вертикальной полосы прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Определяет текущее положение окна прокрутки в панели прокрутки в случае успеха; в противном случае 0.

### <a name="remarks"></a>Remarks

Текущее значение — это относительное значение, которое зависит от текущего диапазона прокрутки. Например, если диапазон прокрутки составляет от 50 до 100, а поле прокрутки находится в середине бара, текущее положение — 75.

## <a name="cwndgetscrollrange"></a><a name="getscrollrange"></a>CWnd::GetScrollRange

Копирует текущие минимальные и максимальные позиции панели прокрутки для данной панели прокрутки в места, указанные *lpMinPos* и *lpMaxPos.*

```
void GetScrollRange(
    int nBar,
    LPINT lpMinPos,
    LPINT lpMaxPos) const;
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет бар прокрутки для изучения. Параметр может принимать одно из следующих значений:

- SB_HORZ извлекает положение горизонтальной панели прокрутки.

- SB_VERT извлекает положение вертикальной полосы прокрутки.

*lpMinPos*<br/>
Указывает на рядпеременную переменную, которая должна получить минимальную позицию.

*lpMaxPos*<br/>
Указывает на рядпеременную переменную, которая должна получить максимальную позицию.

### <a name="remarks"></a>Remarks

Если `CWnd` нет панели прокрутки, то функция `GetScrollRange` участника копирует 0 к *lpMinPos* и *lpMaxPos*.

Диапазон по умолчанию для стандартной панели прокрутки составляет от 0 до 100. Диапазон по умолчанию для управления прокруткой является пустым (оба значения 0).

## <a name="cwndgetstyle"></a><a name="getstyle"></a>CWnd::GetStyle

Возвращает стиль текущего окна.

```
DWORD GetStyle() const;
```

### <a name="return-value"></a>Возвращаемое значение

Стиль окна. Для получения дополнительной информации о стилях окон, используемых в MFC, [см.](styles-used-by-mfc.md#window-styles)

## <a name="cwndgetsystemmenu"></a><a name="getsystemmenu"></a>CWnd::GetSystemMenu

Позволяет приложению получить доступ к оконному меню для копирования и изменения.

```
CMenu* GetSystemMenu(BOOL bRevert) const;
```

### <a name="parameters"></a>Параметры

*bRevert*<br/>
Определяется, что необходимо принять меры. Если *bRevert* является `GetSystemMenu` FALSE, возвращает ручку в копию меню Управления, которая используется в настоящее время. Эта копия изначально идентична меню Управления, но может быть изменена. Если *bRevert* является `GetSystemMenu` правдой, сброс меню управления обратно в состояние по умолчанию. Предыдущее, возможно измененное меню управления, если такого имеется, уничтожено. Значение возврата в этом случае не определено.

### <a name="return-value"></a>Возвращаемое значение

Определяет копию меню Управления, если *bRevert* является FALSE. Если *bRevert* является правдой, значение возврата не определено.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Любое окно, `GetSystemMenu` которое не используется для изготовления собственной копии меню Control, получает стандартное меню Control.

Указатель, возвращенный `GetSystemMenu` функцией участника, можно использовать с [помощью CMenu::AppendMenu,](../../mfc/reference/cmenu-class.md#appendmenu) [CMenu::InsertMenu](../../mfc/reference/cmenu-class.md#insertmenu), или [CMenu::ModifyMenu](../../mfc/reference/cmenu-class.md#modifymenu) функции для изменения меню управления.

Меню управления изначально содержит элементы, отождествляемые с различными значениями идентификатора, такие как SC_CLOSE, SC_MOVE и SC_SIZE. Элементы меню Управления генерируют [WM_SYSCOMMAND](#onsyscommand) сообщений. Все предопределенные элементы Control-menu имеют идентификационные номера, превышающее 0xF000. Если приложение добавляет элементы в меню Управления, оно должно использовать идентификационные номера меньше F000.

Windows может автоматически сделать элементы недоступными в стандартном меню управления. `CWnd`может осуществлять свой собственный выбор или недоступность, отвечая на [WM_INITMENU](#oninitmenu) сообщения, которые отправляются до отображения любого меню.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#99](../../mfc/reference/codesnippet/cpp/cwnd-class_39.cpp)]

## <a name="cwndgettitlebarinfo"></a><a name="gettitlebarinfo"></a>CWnd::GetTitleBarInfo

Извлекает сведения об указанной строке заголовка.

```
BOOL GetTitleBarInfo(PTITLEBARINFO pti) const;
```

### <a name="parameters"></a>Параметры

*Pti*<br/>
Указатель на структуру [TITLEBARINFO,](/windows/win32/api/winuser/ns-winuser-titlebarinfo) которая получает информацию.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [GetTitleBarInfo](/windows/win32/api/winuser/nf-winuser-gettitlebarinfo), как описано в Windows SDK.

## <a name="cwndgettoplevelframe"></a><a name="gettoplevelframe"></a>CWnd::GetTopLevelFrame

Вызов эту функцию участника, чтобы получить окно верхнего уровня окна окна, если таковые имеется.

```
CFrameWnd* GetTopLevelFrame() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует окно верхнего уровня кадра окна.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Если `CWnd` нет прикрепленного окна, или его родитель верхнего уровня не является объектом [CFrameWnd,](../../mfc/reference/cframewnd-class.md)эта функция возвращает NULL.

## <a name="cwndgettoplevelowner"></a><a name="gettoplevelowner"></a>CWnd::GetTopLevelOwner

Вызов этой функции участника для получения окна верхнего уровня.

```
CWnd* GetTopLevelOwner() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует окно верхнего уровня. Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Окно верхнего уровня — это окно, которое является ребенком рабочего стола. Если `CWnd` нет прикрепленного окна, эта функция возвращает NULL.

## <a name="cwndgettoplevelparent"></a><a name="gettoplevelparent"></a>CWnd::GetTopLevelParent

Вызов исвызывайте эту функцию участника, чтобы получить родительский штаб окна верхнего уровня.

```
CWnd* GetTopLevelParent() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует родительское окно верхнего уровня.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

`GetTopLevelParent`похож на [GetTopLevelFrame](#gettoplevelframe) и [GetTopLevelOwner;](#gettoplevelowner) однако он игнорирует значение, установленное в качестве текущего окна владельца.

## <a name="cwndgettopwindow"></a><a name="gettopwindow"></a>CWnd::GetTopWindow

Поиск исправок для окна ребенка верхнего уровня, которое принадлежит `CWnd`.

```
CWnd* GetTopWindow() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентифицирует окно ребенка верхнего `CWnd` уровня в связанном списке детских окон. Если не существует детских окон, значение NULL.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Если `CWnd` нет детей, эта функция возвращает NULL.

## <a name="cwndgetupdaterect"></a><a name="getupdaterect"></a>CWnd::GetUpdateRect

Извлекает координаты наименьшего прямоугольника, который полностью закрывает область обновления.

```
BOOL GetUpdateRect(
    LPRECT lpRect,
    BOOL bErase = FALSE);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `CRect` объект или [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) которая должна получать координаты клиента обновления, которое заключает область обновления.

Установите этот параметр в NULL, чтобы `CWnd`определить, существует ли область обновления в пределах . Если *lpRect* является `GetUpdateRect` NULL, функция участника возвращается ненулевой, если область обновления существует, и 0, если она не существует. Это позволяет определить, является ли сообщение WM_PAINT получено из недействительной области. Не устанавливайте этот параметр в NULL в версии Windows 3.0 и ранее.

*bErase*<br/>
Определяется, следует ли стирать фон в области обновления.

### <a name="return-value"></a>Возвращаемое значение

Определяет состояние региона обновления. Значение ненулевое, если область обновления не пуста; в противном случае 0.

Если параметр *lpRect* установлен на NULL, значение возврата является ненулевым, если существует область обновления; в противном случае 0.

### <a name="remarks"></a>Remarks

Если `CWnd` он был создан с CS_OWNDC стилем и `GetUpdateRect` режим отображения не MM_TEXT, функция члена дает прямоугольник в логических координатах. В `GetUpdateRect` противном случае, дает прямоугольник в координатах клиента. Если нет области обновления, `GetUpdateRect` устанавливает прямоугольник, чтобы быть пустым (устанавливает все координаты до 0).

Параметр *bErase* определяет, `GetUpdateRect` следует ли стирать фон области обновления. Если *bErase* является правдой и область обновления не пуста, фон стирается. Чтобы удалить фон, `GetUpdateRect` отправляет сообщение [WM_ERASEBKGND.](#onerasebkgnd)

Прямоугольник обновления, извлеченный функцией участника [BeginPaint,](#beginpaint) идентичен тому, который был получен функцией `GetUpdateRect` участника.

Функция `BeginPaint` участника автоматически проверяет область обновления, поэтому `GetUpdateRect` любой вызов, `BeginPaint` сделанный сразу после вызова, получает пустой регион обновления.

## <a name="cwndgetupdatergn"></a><a name="getupdatergn"></a>CWnd::GetUpdateRgn

Извлекает область обновления в область, идентифицированную *pRgn*.

```
int GetUpdateRgn(
    CRgn* pRgn,
    BOOL bErase = FALSE);
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Идентифицирует область обновления.

*bErase*<br/>
Уточняется, будет ли стерт фон и будут нарисованы неклиентские области детских окон. Если значение FALSE, рисунок не выполняется.

### <a name="return-value"></a>Возвращаемое значение

Опознавательный флаг с коротким рядом, указывающий тип полученной области. Значение может принять любое из следующих:

- SIMPLEREGION Регион не имеет перекрывающихся границ.

- COMPLEXREGION Регион имеет перекрывающиеся границы.

- НУЛРЕГИОН Регион пуст.

- ERROR Не создан регион.

### <a name="remarks"></a>Remarks

Координаты этого региона относительно верхнего левого угла (координаты клиента).

Функция участника [BeginPaint](#beginpaint) автоматически проверяет область обновления, `GetUpdateRgn` поэтому любой вызов, сделанный сразу после вызова, `BeginPaint` получает пустую область обновления.

## <a name="cwndgetwindow"></a><a name="getwindow"></a>CWnd::GetWindow

Возвращает указатель в запрашиваемый окно или NULL, если его нет.

```
CWnd* GetWindow(UINT nCmd) const;
```

### <a name="parameters"></a>Параметры

*nCmd*<br/>
Определяет связь между `CWnd` и возвращенное окно. Это может занять одно из следующих значений:

- GW_CHILD идентифицирует `CWnd` окно первого ребенка.

- GW_HWNDFIRST `CWnd` Если это окно ребенка, возвращает первое окно брата. В противном случае он возвращает первое окно верхнего уровня в списке.

- GW_HWNDLAST `CWnd` Если это окно ребенка, возвращает последнее окно брата. В противном случае он возвращает последнее окно верхнего уровня в списке.

- GW_HWNDNEXT возвращает следующее окно в списке менеджера окон.

- GW_HWNDPREV возвращает предыдущее окно в списке менеджера окон.

- GW_OWNER идентифицирует `CWnd` владельца.

### <a name="return-value"></a>Возвращаемое значение

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

## <a name="cwndgetwindowcontexthelpid"></a><a name="getwindowcontexthelpid"></a>CWnd::GetWindowContextHelpId

Вызовите эту функцию участника, чтобы получить идентификатор контекста справки, если таков, связанный с окном.

```
DWORD GetWindowContextHelpId() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентификатор контекста справки. Возвращает 0, если окно не имеет.

## <a name="cwndgetwindowedchildcount"></a><a name="getwindowedchildcount"></a>CWnd::GetWindowedChildCount

Вызов исчисляйте эту функцию участника, чтобы получить число связанных с ней окон ребенка.

```
long GetWindowedChildCount();
```

### <a name="return-value"></a>Возвращаемое значение

Количество детских окон, `CWnd` связанных с объектом.

## <a name="cwndgetwindowdc"></a><a name="getwindowdc"></a>CWnd::GetWindowDC

Извлекает контекст отображения для всего окна, включая панель подписей, меню и прокрутки баров.

```
CDC* GetWindowDC();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет контекст отображения для данного окна, если функция успешна; в противном случае NULL.

Возвращенный указатель может быть временным и не должен храниться для последующего использования. [ReleaseDC](#releasedc) следует вызывать один раз `GetWindowDC`для каждого успешного вызова.

### <a name="remarks"></a>Remarks

Контекст отображения `CWnd`окна позволяет рисовать в любом месте, `CWnd` так как происхождение контекста является верхним левым углом вместо области клиента.

Атрибуты по умолчанию присваиваются контексту отображения каждый раз, когда он извлекает контекст. Предыдущие атрибуты теряются.

`GetWindowDC`предназначен для использования для специальных `CWnd` эффектов живописи в области неклиента. Картина в неклиентских зонах любого окна не рекомендуется.

Функция [GetSystemMetrics](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) Windows может использоваться для получения размеров различных частей области неклиента, таких как панель заголовков, меню и прокрутки баров.

После завершения картины функция участника [ReleaseDC](#releasedc) должна быть вызвана для выпуска контекста отображения. Непредоставление контекста дисплея серьезно скажется на картине, запрошенной приложениями, из-за ограничений на количество контекстов устройств, которые могут быть открыты одновременно.

## <a name="cwndgetwindowinfo"></a><a name="getwindowinfo"></a>CWnd::GetWindowInfo

Извлекает информацию о окне.

```
BOOL GetWindowInfo(PWINDOWINFO pwi) const;
```

### <a name="parameters"></a>Параметры

*Pwi*<br/>
Указатель на структуру [WINDOWINFO.](/windows/win32/api/winuser/ns-winuser-windowinfo)

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [GetWindowInfo](/windows/win32/api/winuser/nf-winuser-getwindowinfo), как описано в Windows SDK.

## <a name="cwndgetwindowlesschildcount"></a><a name="getwindowlesschildcount"></a>CWnd::GetWindowlessChildCount

Извлекает количество связанных окон без окон.

```
long GetWindowlessChildCount();
```

### <a name="return-value"></a>Возвращаемое значение

Количество оконных детских окон, `CWnd` связанных с объектом.

## <a name="cwndgetwindowplacement"></a><a name="getwindowplacement"></a>CWnd::GetWindowPlacement

Получает состояние отображения, а также обычное (восстановленное), свернутое и развернутое состояния окна.

```
BOOL GetWindowPlacement(WINDOWPLACEMENT* lpwndpl) const;
```

### <a name="parameters"></a>Параметры

*lpwndpl*<br/>
Указывает на `WINDOWPLACEMENT` структуру, которая получает информацию о состоянии и положении шоу.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Remarks

Член `flags` структуры [WINDOWPLACEMENT,](/windows/win32/api/winuser/ns-winuser-windowplacement) извлеченный этой функцией, всегда 0. Если `CWnd` максимизируется, `showCmd` `WINDOWPLACEMENT` член является SW_SHOWMAXIMIZED. Если окно сведено к минимуму, это SW_SHOWMINIMIZED. Это SW_SHOWNORMAL иначе.

## <a name="cwndgetwindowrect"></a><a name="getwindowrect"></a>CWnd::GetWindowRect

Копирует размеры ограничивающего прямоугольника `CWnd` объекта к структуре, на которую указывает *lpRect.*

```
void GetWindowRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `CRect` объект или [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) которая получит координаты экрана в верхнем левом и нижнем правом углах.

### <a name="remarks"></a>Remarks

Размеры приведены в координатах экрана относительно верхнего левого угла экрана. Включены размеры баров заголовка, границы и прокрутки, если они присутствуют.

## <a name="cwndgetwindowrgn"></a><a name="getwindowrgn"></a>CWnd::GetWindowRgn

Вызовите эту функцию участника, чтобы получить область окна окна.

```
int GetWindowRgn(HRGN hRgn)const;
```

### <a name="parameters"></a>Параметры

*hRgn*<br/>
Ручка к оконной области.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата определяет тип региона, получаемого функцией. Может иметь одно из следующих значений.

- НУЛРЕГИОН Регион пуст.

- SIMPLEREGION Регион представляет собой единый прямоугольник.

- COMPLEXREGION Регион является более чем одним прямоугольником.

- ERROR Произошла ошибка; регион не пострадал.

### <a name="remarks"></a>Remarks

Область окна определяет область в окне, где операционная система разрешает рисование. Операционная система не отображает какую-либо часть окна, которая находится за пределами области окна.

Координаты области окна относительно верхнего левого угла окна, а не клиентской области окна.

Чтобы установить область окна, позвоните [CWnd::SetWindowRgn](#setwindowrgn).

## <a name="cwndgetwindowtext"></a><a name="getwindowtext"></a>CWnd::GetWindowText

Копирует `CWnd` название заголовка (если оно имеет одно) в буфер, на который указывает *lpszStringBuf* или в строку назначения *rString.*

```
int GetWindowText(
    LPTSTR lpszStringBuf,
    int nMaxCount) const;

void GetWindowText(
    CString& rString) const;
```

### <a name="parameters"></a>Параметры

*lpszStringBuf*<br/>
Указывает на буфер, который должен получить скопированную строку заголовка окна.

*nMaxCount*<br/>
Определяет максимальное количество символов, которые будут скопированы в буфер, включая прекращение нулевого символа. Если строка длиннее числа символов, указанных в *nMaxCount,* она усечена.

*rString*<br/>
Объект [CString,](../../atl-mfc-shared/reference/cstringt-class.md) который должен получить скопированную строку заголовка окна.

### <a name="return-value"></a>Возвращаемое значение

Определяет длину, в символах, скопированных строк, не включая прекращение нулевой характер. Это 0, `CWnd` если нет подписи или если подпись пуста.

### <a name="remarks"></a>Remarks

Если `CWnd` объект является элементом `GetWindowText` управления, функция элемента копирует текст в элементе управления вместо копирования подписи.

Эта функция члена [WM_GETTEXT](/windows/win32/winmsg/wm-gettext) приводит к отправке `CWnd` WM_GETTEXT сообщения объекту.

### <a name="example"></a>Пример

  Смотрите пример [CWnd::SetWindowText](#setwindowtext).

## <a name="cwndgetwindowtextlength"></a><a name="getwindowtextlength"></a>CWnd::GetWindowTextДлин

Возвращает длину `CWnd` заголовка заголовка объекта.

```
int GetWindowTextLength() const;
```

### <a name="return-value"></a>Возвращаемое значение

Определяет длину текста в символах, не включая какой-либо символ с нулевым прекращением. Значение 0, если такого текста не существует.

### <a name="remarks"></a>Remarks

Если `CWnd` это элемент `GetWindowTextLength` управления, функция элемента возвращает длину текста в элемент управления, а не на подпись.

Эта функция члена [WM_GETTEXTLENGTH](/windows/win32/winmsg/wm-gettextlength) приводит к отправке `CWnd` WM_GETTEXTLENGTH сообщения объекту.

### <a name="example"></a>Пример

  Смотрите пример [CWnd::SetWindowText](#setwindowtext).

## <a name="cwndhidecaret"></a><a name="hidecaret"></a>CWnd::HideCaret

Скрывает курсор, удалив его из отображаемой области.

```
void HideCaret();
```

### <a name="remarks"></a>Remarks

Несмотря на то, что карет больше не виден, он может быть отображен снова с помощью функции участника [ShowCaret.](#showcaret) Скрытие карета не разрушает его текущую форму.

Скрытие является кумулятивным. Если `HideCaret` он был вызван пять раз `ShowCaret` подряд, функция участника должна быть вызвана пять раз, прежде чем будет показана помощь.

## <a name="cwndhilitemenuitem"></a><a name="hilitemenuitem"></a>CWnd::HiliteMenuItem

Изюминка или удаление изюминки из верхнего уровня (меню-бар) пункт меню.

```
BOOL HiliteMenuItem(
    CMenu* pMenu,
    UINT nIDHiliteItem,
    UINT nHilite);
```

### <a name="parameters"></a>Параметры

*pMenu*<br/>
Определяет меню верхнего уровня, содержащее элемент, который должен быть выделен.

*nIDHiliteItem*<br/>
Определяет элемент меню, который будет выделен, в зависимости от значения параметра *nHilite.*

*nHilite*<br/>
Определяется, выделяется ли элемент меню или изюминка удаляется. Это может быть сочетание MF_HILITE или MF_UNHILITE с MF_BYCOMMAND или MF_BYPOSITION. Значения могут быть объединены с помощью bitwise или оператора. Данные величины имеют следующие значения:

- MF_BYCOMMAND интерпретирует *nIDHiliteItem* как идентификатор меню-элемента (интерпретация по умолчанию).

- MF_BYPOSITION интерпретирует *nIDHiliteItem* как нулевую компенсацию элемента меню.

- MF_HILITE Подчеркивает элемент. Если это значение не приведено, изюминка удаляется из элемента.

- MF_UNHILITE удаляет изюминку из элемента.

### <a name="return-value"></a>Возвращаемое значение

Уточняется, был ли выделен элемент меню. Nonzero, если элемент был выделен; в противном случае 0.

### <a name="remarks"></a>Remarks

Флаги MF_HILITE и MF_UNHILITE могут использоваться только с этой функцией участника; они не могут быть использованы с функцией [CMenu::ModifyMenu.](../../mfc/reference/cmenu-class.md#modifymenu)

## <a name="cwndhtmlhelp"></a><a name="htmlhelp"></a>CWnd::HtmlHelp

Вызовите эту функцию участника, чтобы вызвать приложение HTMLHelp.

```
virtual void HtmlHelp(
    DWORD_PTR dwData,
    UINT nCmd = 0x000F);
```

### <a name="parameters"></a>Параметры

*dwData*<br/>
Определяет дополнительные данные. Используемое значение зависит от значения параметра *nCmd.*

*nCmd*<br/>
Задает тип запрошенной справки. Список возможных значений и то, как они влияют на параметр *dwData,* см. *uCommand*

### <a name="remarks"></a>Remarks

Смотрите [CWinApp::HtmlHelp](../../mfc/reference/cwinapp-class.md#htmlhelp) для получения дополнительной информации.

## <a name="cwndinitdynamiclayout"></a><a name="initdynamiclayout"></a>CWnd::InitDynamicLayout

Вызывается платформой для инициализации динамического макета окна.

```
void InitDynamicLayout();
```

### <a name="remarks"></a>Remarks

Не вызывайте этот метод напрямую.

## <a name="cwndinvalidate"></a><a name="invalidate"></a>CWnd::Недействительно

Недействительная вся `CWnd`область клиента .

```
void Invalidate(BOOL bErase = TRUE);
```

### <a name="parameters"></a>Параметры

*bErase*<br/>
Определяется, следует ли стирать фон в области обновления.

### <a name="remarks"></a>Remarks

Область клиента помечается для покраски, когда происходит следующее [WM_PAINT](#onpaint) сообщение. Область также может быть проверена до WM_PAINT сообщения, полученного функцией [члена ValidateRect](#validaterect) или [ValidateRgn.](#validatergn)

Параметр *bErase* определяет, следует ли стирать фон в области обновления при обработке области обновления. Если *bErase* является правдой, фон стирается при вызове функции участника [BeginPaint;](#beginpaint) если *bErase* является FALSE, фон остается неизменным. Если *bErase* является правдой для любой части региона обновления, фон во всем регионе, а не только в данной части, стирается.

Windows отправляет [WM_PAINT](#onpaint) сообщение всякий раз, когда область `CWnd` обновления не пуста и нет других сообщений в очереди приложения для этого окна.

### <a name="example"></a>Пример

  Смотрите пример [Для CWnd::UpdateWindow](#updatewindow).

## <a name="cwndinvalidaterect"></a><a name="invalidaterect"></a>CWnd::НедействительноеRect

Недействительным область клиента в данном прямоугольнике, добавив, что `CWnd` прямоугольник в области обновления.

```
void InvalidateRect(
    LPCRECT lpRect,
    BOOL bErase = TRUE);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `CRect` объект или [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) содержащую прямоугольник (в координатах клиента), который должен быть добавлен в область обновления. Если *lpRect* является NULL, вся клиентская область добавляется в регион.

*bErase*<br/>
Определяется, следует ли стирать фон в области обновления.

### <a name="remarks"></a>Remarks

Недействительный прямоугольник, наряду со всеми другими областями в области обновления, помечается для покраски при отправке следующего [WM_PAINT](#onpaint) сообщения. Недействительные области накапливаются в области обновления до тех пор, пока область не будет обработана при следующем WM_PAINT вызова или до тех пор, пока область не будет проверена функцией [участника ValidateRect](#validaterect) или [ValidateRgn.](#validatergn)

Параметр *bErase* определяет, следует ли стирать фон в области обновления при обработке области обновления. Если *bErase* является правдой, фон стирается при вызове функции участника [BeginPaint;](#beginpaint) если *bErase* является FALSE, фон остается неизменным. Если *bErase* является правдой для любой части региона обновления, фон во всем регионе стирается, а не только в данной части.

Windows отправляет [WM_PAINT](#onpaint) сообщение всякий раз, когда область `CWnd` обновления не пуста и нет других сообщений в очереди приложения для этого окна.

## <a name="cwndinvalidatergn"></a><a name="invalidatergn"></a>CWnd::Недействительно

Недействительная область клиента в данном регионе, добавляя `CWnd`ее в текущий регион обновления.

```
void InvalidateRgn(
    CRgn* pRgn,
    BOOL bErase = TRUE);
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Указатель на объект [CRgn,](../../mfc/reference/crgn-class.md) который идентифицирует область для добавления в область обновления. Предполагается, что в регионе есть координаты клиентов. Если этот параметр NULL, вся область клиента добавляется в область обновления.

*bErase*<br/>
Определяется, следует ли стирать фон в области обновления.

### <a name="remarks"></a>Remarks

Недействительная область, наряду со всеми другими областями в области обновления, помечена для покраски при следующем отправке [сообщения WM_PAINT.](#onpaint) Недействительные области накапливаются в области обновления до тех пор, пока область не будет обработана при следующем отправке сообщения WM_PAINT или до тех пор, пока область не будет проверена функцией [участника ValidateRect](#validaterect) или [ValidateRgn.](#validatergn)

Параметр *bErase* определяет, следует ли стирать фон в области обновления при обработке области обновления. Если *bErase* является правдой, фон стирается при вызове функции участника [BeginPaint;](#beginpaint) если *bErase* является FALSE, фон остается неизменным. Если *bErase* является правдой для любой части региона обновления, фон во всем регионе, а не только в данной части, стирается.

Windows отправляет [WM_PAINT](#onpaint) сообщение всякий раз, когда область `CWnd` обновления не пуста и нет других сообщений в очереди приложения для этого окна.

Данный регион должен быть ранее создан одной из функций региона.

## <a name="cwndinvokehelper"></a><a name="invokehelper"></a>CWnd::InvokeHelper

Вызов ими функции участника, чтобы вызвать метод управления ActiveX или свойство, указанное *dwDispID,* в контексте, указанном *wFlags.*

```
void AFX_CDECL InvokeHelper(
    DISPID dwDispID,
    WORD wFlags,
    VARTYPE vtRet,
    void* pvRet,
    const BYTE* pbParamInfo,
    ... );
```

### <a name="parameters"></a>Параметры

*dwDispID*<br/>
Задает вызываемый метод или свойство.

*wFlags*<br/>
Флаги, описывающие контекст `IDispatch::Invoke`вызова.

*vtRet*<br/>
Указывает тип возвращаемого значения. Возможные значения см. в подразделе "Примечания" раздела [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper).

*pvRet*<br/>
Адрес переменной, которая получит стоимость имущества или значение возврата. Он должен соответствовать типу, указанному *vtRet.*

*pbParamInfo*<br/>
Указатель на нулевую строку байтов с указанием типов параметров, следующих *pbParamInfo.* Для возможных значений, см. `COleDispatchDriver::InvokeHelper`

*...*<br/>
Переменный список параметров, типов, указанных в *pbParamInfo*.

### <a name="remarks"></a>Remarks

Параметр *pbParamInfo* определяет типы параметров, передаваемых методу или свойству. Переменный список аргументов представлен в объявлении синтаксиса как *...* .

Эта функция преобразует параметры в значения VARIANTARG, а `IDispatch::Invoke` затем вызывает метод на элементе управления ActiveX. Если вызов `IDispatch::Invoke` завершается сбоем, эта функция создает исключение. Если sCODE (код статуса), `IDispatch::Invoke` возвращенный DISP_E_EXCEPTION, эта функция бросает объект [COleException,](../../mfc/reference/coleexception-class.md) в противном случае он бросает [COleDispatchException.](../../mfc/reference/coledispatchexception-class.md)

> [!NOTE]
> Эта функция должна вызываться `CWnd` только на объекте, который представляет элемент управления ActiveX.

Для получения дополнительной информации об использовании этой функции [ActiveX Control Containers: Programming ActiveX Controls in an ActiveX Control Container](../../mfc/programming-activex-controls-in-a-activex-control-container.md)участника с помощью контейнеров ActiveX Control, см.

## <a name="cwndischild"></a><a name="ischild"></a>CWnd::IsChild

Указывает, является ли окно, указанное *pWnd,* `CWnd`окном ребенка или другим прямым потомком.

```
BOOL IsChild(const CWnd* pWnd) const;
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
Идентифицирует окно для тестирования.

### <a name="return-value"></a>Возвращаемое значение

Определяет результат функции. Значение ненулевое, если окно, идентифицированное *pWnd,* является окном ребенка; `CWnd` в противном случае 0.

### <a name="remarks"></a>Remarks

Окно ребенка является прямым `CWnd` потомком, если `CWnd` объект находится в цепочке родительских окон, которая ведет из исходного всплывающее окно в окно ребенка.

## <a name="cwndisd2dsupportenabled"></a><a name="isd2dsupportenabled"></a>CWnd::IsD2DSupportEnabled

Определяет, включена ли поддержка D2D.

```
BOOL IsD2DSupportEnabled();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если функция включена; в противном случае FALSE.

## <a name="cwndisdialogmessage"></a><a name="isdialogmessage"></a>CWnd::IsDialogMessage

Вызовите эту функцию участника, чтобы определить, предназначено ли данное сообщение для бесрежимного диалогового окна; если это так, эта функция обрабатывает сообщение.

```
BOOL IsDialogMessage(LPMSG lpMsg);
```

### <a name="parameters"></a>Параметры

*lpMsg*<br/>
Указывает на структуру [MSG,](/windows/win32/api/winuser/ns-winuser-msg) содержащую проверенное сообщение.

### <a name="return-value"></a>Возвращаемое значение

Указывается, обработала ли функция участника данное сообщение. Это ненулевой, если сообщение было обработано; в противном случае 0. Если возврат расшатывлен 0, позвоните в функцию члена [CWnd::PReTranslateMessage](#pretranslatemessage) базового класса для обработки сообщения. В переопределение функции `CWnd::PreTranslateMessage` члена код выглядит следующим образом:

[!code-cpp[NVC_MFCWindowing#100](../../mfc/reference/codesnippet/cpp/cwnd-class_40.cpp)]

### <a name="remarks"></a>Remarks

Когда `IsDialogMessage` функция обрабатывает сообщение, она проверяет сообщения клавиатуры и преобразует их в команды выбора для соответствующего диалогового окна. Например, ключ TAB выбирает следующий элемент управления или группу элементов управления, а ключ DOWN ARROW выбирает следующий элемент управления в группе.

Вы не должны передавать `IsDialogMessage` сообщение, обрабатываемые функциями [TranslateMessage](/windows/win32/api/winuser/nf-winuser-translatemessage) или [DispatchMessage](/windows/win32/api/winuser/nf-winuser-dispatchmessage) Windows, поскольку оно уже обработано.

## <a name="cwndisdlgbuttonchecked"></a><a name="isdlgbuttonchecked"></a>CWnd:IsDlgButtonChecked

Определяет, имеет ли контрольное управление кнопку рядом с ним контрольный знак.

```
UINT IsDlgButtonChecked(int nIDButton) const;
```

### <a name="parameters"></a>Параметры

*nIDButton*<br/>
Определяет идентификатор самого разного соответствия управления кнопками.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если данный элемент управления проверен, и 0, если он не проверен. Проверить можно только радиокнопки и флажки. Для трехсостоянияки значения возврата может быть 2, если кнопка неопределенны. Эта функция участника возвращает 0 для кнопки.

### <a name="remarks"></a>Remarks

Если кнопка является элементом управления тремя состояниями, функция элемента определяет, затемнена она, проверена или нет.

## <a name="cwndisdynamiclayoutenabled"></a><a name="isdynamiclayoutenabled"></a>CWnd::IsDynamicLayout

Определяет, активен ли для данного окна динамический макет. Если динамический макет активен, положение и размеры дочерних окон могут меняться при изменении пользователем размера родительского окна.

```
BOOL IsDynamicLayoutEnabled() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE — динамический макет активен; в противном случае — FALSE.

### <a name="remarks"></a>Remarks

## <a name="cwndisiconic"></a><a name="isiconic"></a>CWnd::IsIconic

Уточняется, является `CWnd` ли сведена к минимуму (иконическая).

```
BOOL IsIconic() const;
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, `CWnd` если сведен о минимум; в противном случае 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#101](../../mfc/reference/codesnippet/cpp/cwnd-class_41.cpp)]

## <a name="cwndistouchwindow"></a><a name="istouchwindow"></a>CWnd::IsTouchWindow

Указывает, поддерживает ли объект `CWnd` сенсорный ввод.

```
BOOL IsTouchWindow() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, `CWnd` если имеет поддержку касания; в противном случае FALSE.

### <a name="remarks"></a>Remarks

## <a name="cwndiswindowenabled"></a><a name="iswindowenabled"></a>CWnd::IsWindowEnabled

Уточняется, включен `CWnd` ли ввод мыши и клавиатуры.

```
BOOL IsWindowEnabled() const;
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, `CWnd` если включен; в противном случае 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#102](../../mfc/reference/codesnippet/cpp/cwnd-class_42.cpp)]

## <a name="cwndiswindowvisible"></a><a name="iswindowvisible"></a>CWnd::IsWindowVisible

Определяет состояние видимости данного окна.

```
BOOL IsWindowVisible() const;
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, `CWnd` если он виден (имеет набор бита [WS_VISIBLE](styles-used-by-mfc.md#window-styles) стилю, и родительское окно видно). Поскольку значение возврата отражает состояние бита стиля WS_VISIBLE, значение возврата `CWnd` может быть ненулевым, даже если полностью скрыто другими окнами.

### <a name="remarks"></a>Remarks

Окно обладает состоянием видимости, указанным WS_VISIBLE стилю бита. Когда этот бит стиля устанавливается с вызовом к функции участника [ShowWindow,](#showwindow) окно отображается и последующий рисунок к окну отображается до тех пор, пока окно имеет набор бита стиля.

Любой рисунок к окну, в который есть WS_VISIBLE стиль, не будет отображаться, если окно покрыто другими окнами или обрезано родительским окном.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#103](../../mfc/reference/codesnippet/cpp/cwnd-class_43.cpp)]

## <a name="cwndiszoomed"></a><a name="iszoomed"></a>CWnd:: Исоомед

Определяет, `CWnd` был ли максимизирован.

```
BOOL IsZoomed() const;
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, `CWnd` если максимизируется; в противном случае 0.

## <a name="cwndkilltimer"></a><a name="killtimer"></a>CWnd:KillTimer

Убивает событие таймер, идентифицированное *nIDEvent* `SetTimer`от предыдущего вызова.

```
BOOL KillTimer(UINT_PTR nIDEvent);
```

### <a name="parameters"></a>Параметры

*nIDEvent*<br/>
Значение события таймер передается [SetTimer](#settimer).

### <a name="return-value"></a>Возвращаемое значение

Определяет результат функции. Значение ненулево, если событие было убито. Это 0, `KillTimer` если функция участника не смогла найти указанное событие таймер.

### <a name="remarks"></a>Remarks

До [WM_TIMER сообщения,](#ontimer) связанные с таймером, не удаляются из очереди сообщений.

### <a name="example"></a>Пример

  Смотрите пример [для CWnd::SetTimer](#settimer).

## <a name="cwndloaddynamiclayoutresource"></a><a name="loaddynamiclayoutresource"></a>CWnd::LoadDynamicLayoutResource

Вызывается платформой для загрузки из файла ресурсов сведений о динамическом макете.

```
BOOL LoadDynamicLayoutResource(LPCTSTR lpszResourceName);
```

### <a name="parameters"></a>Параметры

*lpszResourceName*<br/>
Имя ресурса, содержащего необходимые сведения о динамическом макете для этого окна.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно. В случае ошибки — 0.

### <a name="remarks"></a>Remarks

Не вызывайте этот метод напрямую.

## <a name="cwndlockwindowupdate"></a><a name="lockwindowupdate"></a>CWnd::LockWindowUpdate

Отводит рисунок в данном окне.

```
BOOL LockWindowUpdate();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно. Это 0, если происходит сбой или если `LockWindowUpdate` функция была использована для блокировки другого окна.

### <a name="remarks"></a>Remarks

Заблокированное окно не может быть перемещено. Заодине можно запереть только одно окно. Чтобы разблокировать `LockWindowUpdate`окно, заблокированное с помощью, позвоните [UnlockWindowUpdate.](#unlockwindowupdate)

Если приложение с заблокированным окном (или любыми заблокированными окнами ребенка) вызывает [функцию GetDC,](/windows/win32/api/winuser/nf-winuser-getdc) [GetDCEx](/windows/win32/api/winuser/nf-winuser-getdcex) или [BeginPaint](/windows/win32/api/winuser/nf-winuser-beginpaint) Windows, вызванная функция возвращает контекст устройства, видимая область которого пуста. Это произойдет до тех пор, пока `UnlockWindowUpdate` приложение не разблокирует окно, позвонив функции участника.

В то время как обновления окон заблокированы, система отслеживает прямоугольник границ любых операций рисования в контекстах устройства, связанных с заблокированным окном. При повторном включении чертежа этот прямоугольник ограниченного является недействительным в заблокированном окне и его детских окнах, чтобы заставить возможное [сообщение WM_PAINT](/windows/win32/gdi/wm-paint) обновить экран. Если рисунок не произошел, пока обновление окна было заблокировано, ни одна область не аннулируется.

Функция `LockWindowUpdate` члена не делает данное окно невидимым и не очищает [WS_VISIBLE](styles-used-by-mfc.md#window-styles) бит стиля.

## <a name="cwndm_hwnd"></a><a name="m_hwnd"></a>CWnd::m_hWnd

Ручка окна Windows прилагается `CWnd`к этому.

```
HWND m_hWnd;
```

### <a name="remarks"></a>Remarks

Член `m_hWnd` данных является общедоступной переменной типа HWND.

## <a name="cwndmapwindowpoints"></a><a name="mapwindowpoints"></a>CWnd:MapWindowPoints

Преобразует набор точек из координатного пространства объекта `CWnd` в координатное пространство другого окна.

```
void MapWindowPoints(
    CWnd* pwndTo,
    LPRECT lpRect) const;

void MapWindowPoints(
    CWnd* pwndTo,
    LPPOINT lpPoint,
    UINT nCount) const;
```

### <a name="parameters"></a>Параметры

*pwndTo*<br/>
Определяет окно, в какие точки преобразуется. Если этот параметр NULL, точки преобразуются в координаты экрана.

*lpRect*<br/>
Определяет прямоугольник, точки которого должны быть преобразованы. Первая версия этой функции доступна только для Windows 3.1 и позже.

*lpPoint*<br/>
Указатель на массив [структуры POINT,](/windows/win32/api/windef/ns-windef-point) содержащий набор точек, которые должны быть преобразованы.

*Ncount*<br/>
Определяет количество `POINT` структур в массиве, на которые указывает *lpPoint.*

## <a name="cwndmessagebox"></a><a name="messagebox"></a>CWnd::MessageBox

Создает и отображает окно, содержащее сообщение и подпись, поставляемое приложением, а также сочетание предопределенных иконок и кнопок, описанных в списке [стилей сообщения-Box.](../../mfc/reference/styles-used-by-mfc.md#message-box-styles)

```
int MessageBox(
    LPCTSTR lpszText,
    LPCTSTR lpszCaption = NULL,
    UINT nType = MB_OK);
```

### <a name="parameters"></a>Параметры

*lpszText*<br/>
Очки объекту `CString` или строке с нулевым завершением, содержащей отображаемые сообщения.

*lpszCaption*<br/>
Очки объекту `CString` или строке с нулевым завершением, которые будут использоваться для подписи к яслях. Если *lpszCaption* является NULL, используется подпись по умолчанию "Ошибка".

*nType*<br/>
Определяет содержимое и поведение ящика сообщений.

### <a name="return-value"></a>Возвращаемое значение

Этот метод использует функцию [MessageBox,](/windows/win32/api/winuser/nf-winuser-messagebox) как это определено в SDK Windows. Этот метод возвращает результат вызова этой функции.

### <a name="remarks"></a>Remarks

Используйте глобальную функцию [AfxMessageBox](../../mfc/reference/cstring-formatting-and-message-box-display.md#afxmessagebox) вместо этой функции члена для реализации ящика сообщений в приложении.

Ниже приведены различные значки системы, которые могут быть использованы в поле сообщения:

|||
|-|-|
|![Стоп &#40;и значок&#41;](../../mfc/reference/media/vc364f1.gif "Стоп &#40;и значок&#41;")|MB_ICONHAND, MB_ICONSTOP и MB_ICONERROR|
|![Справка &#40;&#41; значок](../../mfc/reference/media/vc364f2.gif "Справка &#40;&#41; значок")|MB_ICONQUESTION|
|![Важный значок &#40;&#33;&#41; ](../../mfc/reference/media/vc364f3.gif "Важный значок &#40;&#33;&#41; ")|MB_ICONEXCLAMATION и MB_ICONWARNING|
|![Значок информации &#40;я&#41;](../../mfc/reference/media/vc364f4.gif "Значок информации &#40;я&#41;")|MB_ICONASTERISK и MB_ICONINFORMATION|

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#104](../../mfc/reference/codesnippet/cpp/cwnd-class_44.cpp)]

## <a name="cwndmodifystyle"></a><a name="modifystyle"></a>CWnd::ModifyStyle

Вызовите эту функцию участника, чтобы изменить стиль окна.

```
BOOL ModifyStyle(
    DWORD dwRemove,
    DWORD dwAdd,
    UINT nFlags = 0);
```

### <a name="parameters"></a>Параметры

*dwRemove*<br/>
Определяет стили окон, которые должны быть удалены во время модификации стиля.

*dwAdd*<br/>
Определяет стили окон, которые будут добавлены во время модификации стиля.

*nФлаги*<br/>
Флаги, которые должны быть переданы `SetWindowPos` [SetWindowPos](#setwindowpos), или ноль, если не следует вызываться. По умолчанию используется значение 0. Список предустановленных флагов можно осмотреть в разделе «Замечания».

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если стиль был успешно изменен; в противном случае, 0.

### <a name="remarks"></a>Remarks

Стили, которые должны быть добавлены или удалены, могут быть объединены с помощью bitwise ИЛИ (&#124;) оператора. Ознакомьтесь с темами [«Стиль оконов»](/windows/win32/winmsg/window-styles) и [«CreateWindow»](/windows/win32/api/winuser/nf-winuser-createwindoww) в SDK Windows, чтобы получить информацию о доступных стилях окон.

Если *nFlags* незеро, `ModifyStyle` вызов функции Windows API [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) и перерисовывает окно, объединяя *nFlags* со следующими четырьмя предустановленными флагами:

- SWP_NOSIZE сохраняет текущий размер.

- SWP_NOMOVE сохраняет текущее положение.

- SWP_NOZORDER сохраняет текущий заказ.

- SWP_NOACTIVATE не активирует окно.

Чтобы изменить расширенные стили окна, [см.](#modifystyleex)

> [!NOTE]
> Для некоторых стилей в некоторых элементах управления (например, ES_READONLY стиле управления элементами дейтинга) `ModifyStyle` может не быть должным образом изменяемым стилем, поскольку элемент управления может потребоваться для выполнения специальной внутренней обработки. В этих случаях будет доступно соответствующее сообщение об изменении стиля (EM_SETREADONLY в упомянутом примере).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#105](../../mfc/reference/codesnippet/cpp/cwnd-class_45.cpp)]

## <a name="cwndmodifystyleex"></a><a name="modifystyleex"></a>CWnd::ModifyStyleEx

Вызовите эту функцию участника, чтобы изменить расширенный стиль окна.

```
BOOL ModifyStyleEx(
    DWORD dwRemove,
    DWORD dwAdd,
    UINT nFlags = 0);
```

### <a name="parameters"></a>Параметры

*dwRemove*<br/>
Определяет расширенные стили, которые должны быть удалены во время модификации стиля.

*dwAdd*<br/>
Определяет расширенные стили, которые будут добавлены во время модификации стиля.

*nФлаги*<br/>
Флаги, которые должны быть переданы `SetWindowPos` [SetWindowPos](#setwindowpos), или ноль, если не следует вызываться. По умолчанию используется значение 0. Список предустановленных флагов можно осмотреть в разделе «Замечания».

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если стиль был успешно изменен; в противном случае, 0.

### <a name="remarks"></a>Remarks

Стили, которые должны быть добавлены или удалены, могут быть объединены с помощью bitwise ИЛИ (&#124;) оператора. Смотрите темы [Расширенные стили окна](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) в этой книге и [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) в Windows SDK для получения информации о доступных расширенных стилей

Если *nFlags* незеро, `ModifyStyleEx` вызов функции Windows API [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) и перерисовывает окно, объединяя *nFlags* со следующими четырьмя предустановленными флагами:

- SWP_NOSIZE сохраняет текущий размер.

- SWP_NOMOVE сохраняет текущее положение.

- SWP_NOZORDER сохраняет текущий заказ.

- SWP_NOACTIVATE не активирует окно.

Чтобы изменить окна с помощью обычных стилей окон, [см.](#modifystyle)

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#106](../../mfc/reference/codesnippet/cpp/cwnd-class_46.cpp)]

## <a name="cwndmovewindow"></a><a name="movewindow"></a>CWnd::MoveWindow

Изменяет положение и размеры.

```
void MoveWindow(
    int x,
    int y,
    int nWidth,
    int nHeight,
    BOOL bRepaint = TRUE);

void MoveWindow(
    LPCRECT lpRect,
    BOOL bRepaint = TRUE);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Определяет новое положение левой стороны `CWnd`.

*Y*<br/>
Определяет новое положение верхней части `CWnd`.

*nWidth*<br/>
Определяет новую ширину `CWnd`.

*nВысота*<br/>
Определяет новую высоту `CWnd`.

*bRepaint*<br/>
Определяет, следует `CWnd` ли перекрасить. Если true, `CWnd` получает [WM_PAINT](/windows/win32/gdi/wm-paint) сообщение в своем обработчике сообщений [OnPaint,](#onpaint) как обычно. Если этот параметр FALSE, не перекрашивается какой-либо вид происходит. Это относится к клиентской области, к области неклиента (включая заголовок и прокрутки баров), а также к любой части родительского окна, обнаруженного `CWnd`в результате перемещения.'. Когда этот параметр FALSE, приложение должно явно аннулировать `CWnd` или перерисовать любые части и родительское окно, которые должны быть перерисованы.

*lpRect*<br/>
Объект [CRect](../../atl-mfc-shared/reference/crect-class.md) или [структура RECT,](/windows/win32/api/windef/ns-windef-rect) которая определяет новый размер и положение.

### <a name="remarks"></a>Remarks

Для объекта верхнего уровня `CWnd` параметры *x* и *y* относительно верхнего левого угла экрана. Для детского `CWnd` объекта они относятся к верхнему левому углу клиентской зоны родительского окна.

Функция `MoveWindow` отправляет [сообщение WM_GETMINMAXINFO.](#ongetminmaxinfo) Обработка этого `CWnd` сообщения дает возможность изменить значения по умолчанию для самых больших и маленьких возможных окон. Если параметры функции `MoveWindow` члена превышают эти значения, значения могут быть заменены минимальными или максимальными значениями в WM_GETMINMAXINFO обработчике.

### <a name="example"></a>Пример

  Смотрите пример [Для CWnd::ClientToScreen](#clienttoscreen).

## <a name="cwndnotifywinevent"></a><a name="notifywinevent"></a>CWnd::NotifyWinEvent

Сообщает системе, что произошло предопределенное событие. Если какие-либо клиентские приложения зарегистрировали функцию крючка для события, система вызывает функцию крючка клиента.

```
void NotifyWinEvent(
    DWORD event,
    LONG idObjectType,
    LONG idObject);
```

### <a name="parameters"></a>Параметры

*event*<br/>
Определяет событие, которое произошло. Это значение должно быть одним из [констант события.](/windows/win32/WinAuto/event-constants)

*idObjectType*<br/>
Определяет вид объекта, генерируемого событием. Это значение является одним из предопределенных [идентификаторов объектов](/windows/win32/WinAuto/object-identifiers) или пользовательским значением идентификатора объекта.

*idObject*<br/>
Определяет, было ли событие создано объектом или элементом ребенка объекта. Если это значение является CHILDID_SELF, событие было создано самим объектом. Если нет, то это значение является идентификатором элемента, генерируемого событием.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [NotifyWinEvent](/windows/win32/api/winuser/nf-winuser-notifywinevent), как описано в SDK Windows.

## <a name="cwndonactivate"></a><a name="onactivate"></a>CWnd::Onactivate

Платформа вызывает эту функцию `CWnd` члена при активации или деактивации объекта.

```
afx_msg void OnActivate(
    UINT nState,
    CWnd* pWndOther,
    BOOL bMinimized);
```

### <a name="parameters"></a>Параметры

*nState*<br/>
Определяет, `CWnd` активируется или деактивируется ли оно. Может иметь одно из следующих значений.

- WA_INACTIVE окно деактивируется.

- WA_ACTIVE Окно активируется с помощью какого-то метода, кроме щелчка мыши (например, с помощью интерфейса клавиатуры для выбора окна).

- WA_CLICKACTIVE Окно активируется щелчком мыши.

*pWndДругие*<br/>
Указатель на `CWnd` активированный или деактивированный. Указатель может быть NULL, и это может быть временным.

*bСнейдированный*<br/>
Определяет минимизированное `CWnd` состояние активированного или деактивированного. Значение TRUE указывает на то, что окно сведено к минимуму.

Если true, `CWnd` активируется активация; в противном случае деактивирован.

### <a name="remarks"></a>Remarks

Если `CWnd` объект активирован щелчком мыши, он также получит вызов функции участника [OnMouseActivate.](#onmouseactivate)

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonactivateapp"></a><a name="onactivateapp"></a>CWnd::OnActivateApp

Платформа вызывает эту функцию участника ко всем окнам верхнего уровня активированной задачи и для всех окон верхнего уровня деактивации задачи.

```
afx_msg void OnActivateApp(
    BOOL bActive,
    DWORD dwThreadID);
```

### <a name="parameters"></a>Параметры

*bАктивный*<br/>
Определяет, `CWnd` активируется или деактивируется ли оно. TRUE означает, `CWnd` что активируется. FALSE означает, что `CWnd` деактивирован.

*dwThreadID*<br/>
Определяет значение идентификатора потока. Если *bActive* является правдой, *dwThreadID* определяет `CWnd` поток, который владеет деактивированным. Если *bActive* false, *dwThreadID* определяет поток, `CWnd` который владеет активируемым.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonambientproperty"></a><a name="onambientproperty"></a>CWnd::OnAmbientProperty

Платформа вызывает эту функцию участника для получения значений свойств окружающего из окна, содержащего элементы управления OLE.

```
virtual BOOL OnAmbientProperty(
    COleControlSite* pSite,
    DISPID dispid,
    VARIANT* pvar);
```

### <a name="parameters"></a>Параметры

*pSite*<br/>
Указатель на место управления, запрашиваемое окружающим свойством.

*Dispid*<br/>
Идентификатор отправки запрашиваемого свойства окружающей среды.

*pvar*<br/>
Указатель на выделенную `VARIANT` вызываемую структуру, через которую будет возвращена стоимость свойства окружающего.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если эмбиент собственности поддерживается; FALSE, если нет.

### <a name="remarks"></a>Remarks

Переизместите эту функцию, чтобы изменить значения свойств окружающего по умолчанию, возвращенные контейнером управления OLE на элементы управления. Любые запросы на свойства окружающего, не обрабатываемые главной функцией, должны быть направлены в реализацию базового класса.

## <a name="cwndonappcommand"></a><a name="onappcommand"></a>CWnd::OnAppCommand

Платформа вызывает эту функцию элемента, когда пользователь генерирует событие команды приложения. Такое событие происходит, когда пользователь нажимает кнопку команды приложения или вводит ключ команды приложения.

```
afx_msg void OnAppCommand(
    CWnd* pWnd,
    UINT nCmd,
    UINT nDevice,
    UINT nKey);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pWnd*|(в) Указатель на `CWnd` объект, представляющий окно, где пользователь нажал кнопку команды или нажал на ключ команды. Это окно может быть окном ребенка, получая сообщение.|
|*nCmd*|(в) Указывает команду приложения. Список возможных значений [WM_APPCOMMAND](/windows/win32/inputdev/wm-appcommand)см. *cmd* *lParam*|
|*nDevice*|(в) Устройство ввода, генерируемое событиева ввода. Список возможных значений [WM_APPCOMMAND](/windows/win32/inputdev/wm-appcommand)см. *uDevice* *lParam*|
|*nKey*|(в) Отослежено на любые виртуальные клавиши, которые не имеют доступа, например, ключ CTRL или кнопка левой мыши. Список возможных значений смотрите клавиши под разделом *dwKeys* параметра *lParam* [WM_APPCOMMAND.](/windows/win32/inputdev/wm-appcommand) Для получения дополнительной информации см. [About Mouse Input](/windows/win32/inputdev/about-mouse-input)|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_APPCOMMAND,](/windows/win32/inputdev/wm-appcommand) которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonaskcbformatname"></a><a name="onaskcbformatname"></a>CWnd::OnAskCbFormatName

Рамочная функция вызывает эту функцию, когда Clipboard содержит ручку данных для формата CF_OWNERDISPLAY (т.е. когда владелец Clipboard будет отображать содержимое Clipboard).

```
afx_msg void OnAskCbFormatName(
    UINT nMaxCount,
    LPTSTR lpszString);
```

### <a name="parameters"></a>Параметры

*nMaxCount*<br/>
Определяет максимальное количество байтов для копирования.

*lpszString*<br/>
Указывает на буфер, где хранится копия имени формата.

### <a name="remarks"></a>Remarks

Владелец Clipboard должен узнать название своего формата.

Переопределить эту функцию участника и скопировать имя формата CF_OWNERDISPLAY в указанный буфер, не превышая максимальное количество указанных байтов.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoncancelmode"></a><a name="oncancelmode"></a>CWnd::OnCancelMode

Платформа вызывает эту функцию `CWnd` участника, чтобы сообщить об отмене любого внутреннего режима.

```
afx_msg void OnCancelMode();
```

### <a name="remarks"></a>Remarks

Если `CWnd` объект имеет фокус, `OnCancelMode` его функция члена вызывается при отображении диалогового окна или окна сообщений. Это дает `CWnd` возможность отменить режимы, такие как захват мыши.

Реализация по умолчанию отвечает, вызывая функцию [ReleaseCapture](/windows/win32/api/winuser/nf-winuser-releasecapture) Windows. Переопределить эту функцию члена в вашем произвданном классе для обработки других режимов.

## <a name="cwndoncapturechanged"></a><a name="oncapturechanged"></a>CWnd::OnCaptureИзменен

Платформа вызывает эту функцию участника, чтобы уведомить окно, потерявщее захват мыши.

```
afx_msg void OnCaptureChanged(CWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
Указатель на окно, чтобы получить захват мыши

### <a name="remarks"></a>Remarks

Окно получает это сообщение, даже если оно вызывает [сам ReleaseCapture.](/windows/win32/api/winuser/nf-winuser-releasecapture) Приложение не должно пытаться настроить захват мыши в ответ на это сообщение. Когда оно получает это сообщение, окно должно перерисовать себя, если это необходимо, чтобы отразить новое состояние захвата мыши.

Ознакомьтесь с Windows SDK для получения информации о функции `ReleaseCapture` Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonchangecbchain"></a><a name="onchangecbchain"></a>CWnd::OnChangeCbChain

Платформа вызывает эту функцию участника для каждого окна в цепочке Clipboard-viewer, чтобы уведомить его об удалении окна из цепочки.

```
afx_msg void OnChangeCbChain(
    HWND hWndRemove,
    HWND hWndAfter);
```

### <a name="parameters"></a>Параметры

*hWndRemoveRemove*<br/>
Определяет ручку окна, которая удаляется из цепочки Clipboard-viewer.

*hWndAfter*<br/>
Обращайтесь к ручке окна, которая следует за удаляемым окном из цепочки Clipboard-viewer.

### <a name="remarks"></a>Remarks

`CWnd` Каждый объект, `OnChangeCbChain` получивший вызов, должен использовать функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows для отправки [WM_CHANGECBCHAIN](/windows/win32/dataxchg/wm-changecbchain) сообщения в `SetClipboardViewer`следующее окно в цепочке Clipboard-viewer (ручка, возвращенная). Если *hWndRemove* является следующим окном в цепочке, окно, указанное *hWndAfter* становится следующим окном, и сообщения Clipboard передаются ему.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonchangeuistate"></a><a name="onchangeuistate"></a>CWnd::ChangeUIState

Вызывается, когда необходимо изменить состояние пользовательского интерфейса.

```
afx_msg void OnChangeUIState(
    UINT nAction,
    UINT nUIElement);
```

### <a name="parameters"></a>Параметры

*nДействия*<br/>
Определяется, что необходимо принять меры. Может использоваться одно из следующих значений:

- UIS_CLEAR элемент состояния uI (указанный *nUIElement)* должен быть скрыт.

- UIS_INITIALIZE элемент состояния uI (указанный *nUIElement)* должен быть изменен в зависимости от последнего события ввода. Для получения дополнительной информации смотрите раздел **Замечания** [WM_CHANGEUISTATE](/windows/win32/menurc/wm-changeuistate).

- UIS_SET элемент состояния uI (указанный *nUIElement)* должен быть видимым.

*nUIElement*<br/>
Определяет, какие элементы состояния UI затронуты или стиль управления. Может использоваться одно из следующих значений:

- UISF_HIDEACCEL ускорители клавиатуры.

- UISF_HIDEFOCUS индикаторы Фокуса.

- UISF_ACTIVE Windows XP: элемент управления должен быть нарисован в стиле, используемом для активного управления.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения WM_CHANGEUISTATE,](/windows/win32/menurc/wm-changeuistate) как описано в SDK Windows.

## <a name="cwndonchar"></a><a name="onchar"></a>CWnd::OnChar

Платформа вызывает эту функцию участника, когда нажатие клавиши переводится как несистемный символ.

```
afx_msg void OnChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Содержит значение кода символа ключа.

*nRepCnt*<br/>
Содержит количество повторов, количество раз нажатие клавиши повторяется, когда пользователь удерживает ключ.

*nФлаги*<br/>
Содержит код сканирования, код перехода ключей, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Значение|
|-----------|-------------|
|0-15|Определяет количество повторных повторов. Значение — это количество повторений нажатия клавиши в результате удержания пользователя ключом.|
|16—23|Определяет код сканирования. Значение зависит от производителя оригинального оборудования (OEM)|
|24|Уточняется, является ли ключ расширенным ключом, таким как клавиши ALT и CTRL, которые отображаются на улучшенной клавиатуре 101 или 102-ключей. Значение 1, если это расширенный ключ; в противном случае, это 0.|
|25-28|Используется внутренне Windows.|
|29|Определяет код контекста. Значение 1, если ключ ALT удерживается при нажатии клавиши; в противном случае значение составляет 0.|
|30|Определяет предыдущее ключевое состояние. Значение 1, если ключ не работает до отправки сообщения, или 0, если ключ вверх.|
|31|Определяет состояние перехода. Значение 1, если ключ освобождается, или 0, если ключ нажат.|

### <a name="remarks"></a>Remarks

Эта функция вызывается до функции участника [OnKeyUp](#onkeyup) и после вызова функции участника [OnKeyDown.](#onkeydown) `OnChar`содержит значение клавиши клавиатуры, нажатой или выпущенной.

Поскольку между нажатием ключей и `OnChar` генерируемыми вызовами не обязательно существует один к одному, информация в *nFlags,* как правило, не полезна для приложений. Информация в *nFlags* применяется только к `OnKeyUp` последнему вызову в функцию участника или функции `OnKeyDown` участника, которая предшествует вызову. `OnChar`

Для клавиатур IBM Enhanced 101- и 102-ключ, расширенные клавиши являются правильными клавишами ALT и правыми клавишами CTRL на основной части клавиатуры; INS, DEL, HOME, END, PAGE UP, PAGE DOWN и клавиши со стрелками в кластерах слева от цифровой клавиатуры; и клавиши слэйс (/) и ENTER в числовой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *nFlags*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonchartoitem"></a><a name="onchartoitem"></a>CWnd::OnCharToItem

Вызывается, когда поле списка со [стилем LBS_WANTKEYBOARDINPUT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) отправляет своему владельцу [WM_CHARTOITEM](/windows/win32/Controls/wm-chartoitem) сообщение в ответ на [WM_CHAR](#onchar) сообщение.

```
afx_msg int OnCharToItem(
    UINT nChar,
    CListBox* pListBox,
    UINT nIndex);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Определяет значение ключа, нажатого пользователем.

*pListBox*<br/>
Укажите указатель на поле списка. Это может быть временным.

*Nindex*<br/>
Определяет текущее положение caret.

### <a name="return-value"></a>Возвращаемое значение

Платформа называет эту функцию участника, чтобы указать действие, выполняемые приложением в ответ на вызов. Значение возврата -2 указывает на то, что приложение обработало все аспекты выбора элемента и не хочет никаких дальнейших действий по окне списка. Значение возврата -1 указывает на то, что поле списка должно выполнять действие по умолчанию в ответ на нажатие клавиши. Значение возврата 0 или больше указывает на нулевой индекс элемента в поле списка и указывает, что поле списка должно выполнять действие по умолчанию для нажатия клавиши на данном элементе.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonchildactivate"></a><a name="onchildactivate"></a>CWnd::OnChildActivate

Если `CWnd` объект представляет собой несколько интерфейсов документа `OnChildActivate` (MDI) детское окно, вызывается инфраструктурой, когда пользователь нажимает на заголовок панели окна или когда окно активировано, перемещено или размер.

```
afx_msg void OnChildActivate();
```

## <a name="cwndonchildnotify"></a><a name="onchildnotify"></a>CWnd::OnChildNotify

Эта функция участника вызывается родительским окном этого окна, когда оно получает сообщение об уведомлении, применивщее к этому окну.

```
virtual BOOL OnChildNotify(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Номер сообщения Windows, отправленный в родительское окно.

*wParam*<br/>
*Wparam,* связанный с сообщением.

*lParam*<br/>
*Lparam,* связанный с сообщением.

*pLResult*<br/>
Указатель на значение, которое должно быть возвращено из процедуры окна родителя. Этот указатель будет NULL, если не ожидается значение возврата.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если это окно отвечает за обработку сообщения, отправленного его родителю; в противном случае 0.

### <a name="remarks"></a>Remarks

Никогда не вызывайте эту функцию участника напрямую.

Реализация этой функции участника по умолчанию возвращает 0, что означает, что родитель должен обрабатывать сообщение.

Переопределить эту функцию участника, чтобы расширить способ, которым элемент управления реагирует на сообщения уведомлений.

## <a name="cwndonclipboardupdate"></a><a name="onclipboardupdate"></a>CWnd::OnClipboardUpdate

Платформа вызывает эту функцию участника при изменении содержимого буфера обмена.

```
afx_msg void OnClipboardUpdate();
```

## <a name="cwndonclose"></a><a name="onclose"></a>CWnd::Onclose

Платформа называет эту функцию участника `CWnd` сигналом завершения или завершения приложения.

```
afx_msg void OnClose();
```

### <a name="remarks"></a>Remarks

Вызовы реализации по `DestroyWindow`умолчанию.

## <a name="cwndoncolorizationcolorchanged"></a><a name="oncolorizationcolorchanged"></a>CWnd::OnColorizationColorChanged

Рамки называют этого участника, когда политика рендеринга для области неклиента изменилась.

```
afx_msg void OnColorizationColorChanged(
    DWORD dwColorizationColor,
    BOOL bOpacity);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*dwColorizationЦвет*|(в) Определяет новый цвет окрашивания.<br /><br /> Цветовой формат представляет собой гексадецмальный номер формы 0xAARRGGBB, где каждый из четырех компонентов колеблется от 0x00 до 0xFF. Компонент AA является альфа-значение, RR является красный цвет, GG зеленый, и BB синий.|
|*bOpacity*|(в) ПРАВДА, если новый цвет смешивается с непрозрачностью; FALSE, если это не так.|

### <a name="remarks"></a>Remarks

Этот метод получает [WM_DWMNCRENDERINGCHANGED](/windows/win32/dwm/wm-dwmcolorizationcolorchanged) сообщение муведомления, которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoncommand"></a><a name="oncommand"></a>CWnd::OnCommand

Платформа вызывает эту функцию участника, когда пользователь выбирает элемент из меню, когда элемент управления детьми отправляет сообщение уведомления, или когда нажатие клавиши ускорителя переведено.

```
virtual BOOL OnCommand(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*wParam*<br/>
Слово *wParam* низкого порядка определяет идентификатор команды элемента меню, элемент управления или ускорителя. Слово *wParam* высокого порядка определяет сообщение уведомления, если сообщение получено из элемента управления. Если сообщение от ускорителя, слово высокого порядка 1. Если сообщение из меню, слово высокого заказа расшатано 0.

*lParam*<br/>
Определяет элемент управления, который отправляет сообщение, если сообщение от элемента управления. В противном случае, *lParam* 0.

### <a name="return-value"></a>Возвращаемое значение

Приложение возвращает ненулевой, если оно обрабатывает это сообщение; в противном случае 0.

### <a name="remarks"></a>Remarks

`OnCommand`обрабатывает карту сообщений для уведомления управления и ON_COMMAND записей и вызывает соответствующую функцию члена.

Переопределить эту функцию члена в вашем производном классе для обработки [WM_COMMAND](/windows/win32/menurc/wm-command) сообщения. Переопределение не обрабатывает карту сообщений, `OnCommand` если не будет вызван базовый класс.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoncompacting"></a><a name="oncompacting"></a>CWnd::OnCompacting

Платформа вызывает эту функцию члена для всех окон верхнего уровня, когда Windows обнаруживает, что более 12,5 процента системного времени в течение 30-60-секундного интервала тратится на уплотнение памяти.

```
afx_msg void OnCompacting(UINT nCpuTime);
```

### <a name="parameters"></a>Параметры

*nCpuTime*<br/>
Определяет соотношение времени процессора, затрачиваемого в настоящее время на уплотнение памяти Windows, к времени, затрачиваемому на выполнение других операций. Например, 8000h представляет 50 процентов времени, затрачиваемого на компактирование памяти процессора.

### <a name="remarks"></a>Remarks

Это означает, что память системы низкая.

Когда `CWnd` объект получает этот вызов, он должен освободить как можно больше памяти, учитывая текущий уровень активности приложения и общее количество приложений, работающих в Windows. Приложение может вызвать функцию Windows, чтобы определить, сколько приложений работает.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoncompareitem"></a><a name="oncompareitem"></a>CWnd::OnCompareItem

Рамочная система называет эту функцию участника, чтобы указать относительное положение нового элемента в комбо-нарисованный владельцем или поле списка.

```
afx_msg int OnCompareItem(
    int nIDCtl,
    LPCOMPAREITEMSTRUCT lpCompareItemStruct);
```

### <a name="parameters"></a>Параметры

*nIDCtl*<br/>
Идентификатор элемента управления, отправивавого сообщение WM_COMPAREITEM.

*lpCompareItemStruct*<br/>
Содержит длинный указатель на структуру данных [COMPAREITEMSTRUCT,](/windows/win32/api/winuser/ns-winuser-compareitemstruct) которая содержит идентификаторы и данные, предоставленные приложением для двух элементов в комбо или поле списка.

### <a name="return-value"></a>Возвращаемое значение

Указывает относительное положение двух элементов. Это может быть любое из следующих значений:

|Значение|Значение|
|-----------|-------------|
|-1|Пункт 1 имеет до пункта 2.|
|0|Пункт 1 и пункт 2 сортируют то же самое.|
|1|Пункт 1 разнослив после пункта 2.|

### <a name="remarks"></a>Remarks

Если комбо или список окно создается с [CBS_SORT](../../mfc/reference/styles-used-by-mfc.md#combo-box-styles) или [LBS_SORT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) стиле, Windows отправляет комбо-бокс или список-коробка владельца WM_COMPAREITEM сообщение всякий раз, когда приложение добавляет новый элемент.

Два элемента в комбо или список `COMPAREITEMSTRUCT` поле реформированы в структуре указал на *lpCompareItemStruct*. `OnCompareItem`должны вернуть значение, которое указывает, какие из элементов должны отображаться перед другим. Как правило, Windows делает этот вызов несколько раз, пока не определит точное положение нового элемента.

Если `hwndItem` член `COMPAREITEMSTRUCT` структуры принадлежит к объекту [CListBox](../../mfc/reference/clistbox-class.md) или [CComboBox,](../../mfc/reference/ccombobox-class.md) то называется виртуальная `CompareItem` функция соответствующего класса. Переопределить `CComboBox::CompareItem` `CListBox::CompareItem` или в `CListBox` вашем `CComboBox` производном или классе, чтобы сделать сравнение элемента.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoncompositionchanged"></a><a name="oncompositionchanged"></a>CWnd::OnCompositionChanged

Платформа вызывает эту функцию участника для всех окон верхнего уровня, когда композиция Desktop Window Manager (DWM) включена или отключена.

```
afx_msg void OnCompositionChanged();
```

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_DWMCOMPOSITIONCHANGED,](/windows/win32/dwm/wm-dwmcompositionchanged) которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoncontextmenu"></a><a name="oncontextmenu"></a>CWnd::OnContextMenu

Вызывается по системе, когда пользователь нажал правую кнопку мыши (справа нажат) в окне.

```
afx_msg void OnContextMenu(
    CWnd* pWnd,
    CPoint pos);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
Ручка к окну, в которой пользователь справа нажал мышь. Это может быть детское окно окна, получающее сообщение. Для получения дополнительной информации об обработке этого сообщения, смотрите раздел Замечания.

*pos*<br/>
Положение курсора, в координатах экрана, во время щелчка мыши.

### <a name="remarks"></a>Remarks

Обработка этого сообщения можно, отобразив меню контекста, с помощью [TrackPopupMenu.](../../mfc/reference/cmenu-class.md#trackpopupmenu)

Если вы не отображаете контекстное меню, вы должны передать это сообщение функции [DefWindowProc.](#defwindowproc) Если окно — это `DefWindowProc` окно ребенка, отправляет сообщение родителю. В `DefWindowProc` противном случае отображается меню контекста по умолчанию, если указанное положение находится в заголовке окна.

## <a name="cwndoncopydata"></a><a name="oncopydata"></a>CWnd::OnCopyData

Эта функция члена вызывается инфраструктурой для копирования данных из одного приложения в другое.

```
afx_msg BOOL OnCopyData(
    CWnd* pWnd,
    COPYDATASTRUCT* pCopyDataStruct);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
Указатель на `CWnd` объект, отправляющий данные.

*pCopyDataStruct*<br/>
Указатель на структуру [COPYDATASTRUCT,](/windows/win32/api/winuser/ns-winuser-copydatastruct) содержащую отправляемые данные.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE, если принимающее приложение успешно принимает данные. В противном случае, возвращает FALSE.

### <a name="remarks"></a>Remarks

Передаваемые данные не должны содержать указателей или других ссылок на объекты, недоступные для приложения, принимающего данные.

Во время копирования данных они не должны быть изменены другим потоком процесса отправки.

Приемное приложение должно учитывать только считываемые данные. Структура, на которую указывает параметр *pCopyDataStruct,* действительна только при передаче данных; однако, принимающее приложение не должно освобождать память, связанную со структурой.

Если принимающему приложению необходим доступ к данным после возвращения этой функции, оно должно скопировать данные, полученные в локальный буфер.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoncreate"></a><a name="oncreate"></a>CWnd::OnCreate

Платформа вызывает эту функцию участника, когда приложение требует создать окно Windows, вызывая функцию [члена Create](#create) или [CreateEx.](#createex)

```
afx_msg int OnCreate(LPCREATESTRUCT lpCreateStruct);
```

### <a name="parameters"></a>Параметры

*lpСоздатьСтрукт*<br/>
Указывает на структуру [CREATESTRUCT,](/windows/win32/api/winuser/ns-winuser-createstructw) `CWnd` содержащую информацию о создаваемом объекте.

### <a name="return-value"></a>Возвращаемое значение

`OnCreate`должны вернуть 0, чтобы `CWnd` продолжить создание объекта. Если приложение возвращается -1, окно будет уничтожено.

### <a name="remarks"></a>Remarks

Объект `CWnd` получает этот вызов после создания окна, но до того, как он становится видимым. `OnCreate`вызывается до `Create` `CreateEx` возвращения функции или функции участника.

Переопределить эту функцию члена для выполнения любой необходимой инициализации производного класса.

Структура `CREATESTRUCT` содержит копии параметров, используемых для создания окна.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonctlcolor"></a><a name="onctlcolor"></a>CWnd::OnCtlColor

Платформа вызывает эту функцию элемента, когда управление детьми вот-вот будет нарисовано.

```
afx_msg HBRUSH OnCtlColor(
    CDC* pDC,
    CWnd* pWnd,
    UINT nCtlColor);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Содержит указатель на контекст отображения для окна ребенка. Может быть временным.

*pWnd*<br/>
Содержит указатель на элемент управления с просьбой о цвете. Может быть временным.

*nCtlColor*<br/>
Содержит одно из следующих значений, определяющих тип управления:

- управление CTLCOLOR_BTN кнопками

- CTLCOLOR_DLG коробка Dialog

- контроль CTLCOLOR_EDIT отсвасываем

- управление CTLCOLOR_LISTBOX список-коробка

- CTLCOLOR_MSGBOX поле сообщения

- CTLCOLOR_SCROLLBAR управление прокруткой

- CTLCOLOR_STATIC статический контроль

### <a name="return-value"></a>Возвращаемое значение

`OnCtlColor`должны вернуть ручку к кисти, которая должна быть использована для покраски контрольного фона.

### <a name="remarks"></a>Remarks

Большинство элементов управления отправляют это сообщение своему родителю (обычно диалоговому ящику) для подготовки *pDC* к рисованию элемента управления с использованием правильных цветов.

Чтобы изменить цвет текста, `SetTextColor` позвоните функции участника с желаемыми красными, зелеными и синими значениями (RGB).

Чтобы изменить фоновый цвет элемента управления элементами изменения одной строки, установите ручку кисти как в CTLCOLOR_EDIT, так и в CTLCOLOR_MSGBOX коды сообщений, и позвоните в функцию [CDC::SetBkColor](../../mfc/reference/cdc-class.md#setbkcolor) в ответ на CTLCOLOR_EDIT код.

`OnCtlColor`не будет вызван для окна списка выпадающих вниз комбо поле, потому что выпадение вниз список поле на самом деле ребенок комбо-бокс, а не ребенок окна. Чтобы изменить цвет окна списка выпадающих, `CComboBox` создайте переопределение `OnCtlColor` этой проверки `nCtlColor` для CTLCOLOR_LISTBOX в параметре. В этом обработчике `SetBkColor` функция члена должна использоваться для установки цвета фона для текста.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции. Чтобы добавить следующий метод в класс диалогов, используйте панель свойств Visual Studio, чтобы добавить обработчик сообщений для WM_CTLCOLOR. Кроме того, можно вручную добавить запись ON_WM_CTLCOLOR () на карту сообщений.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#107](../../mfc/reference/codesnippet/cpp/cwnd-class_47.cpp)]

## <a name="cwndondeadchar"></a><a name="ondeadchar"></a>CWnd::OnDeadChar

Платформа вызывает эту функцию члена при вызове функции участника [OnKeyUp](#onkeyup) и функции участника [OnKeyDown.](#onkeydown)

```
afx_msg void OnDeadChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Определяет значение символа «мертвый ключ».

*nRepCnt*<br/>
Определяет количество повторных повторов.

*nФлаги*<br/>
Осваивай код сканирования, код перехода ключей, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Описание|
|-----------|-----------------|
|0-7|Код сканирования (OEM-зависимое значение). Низкий байт слова высокого порядка.|
|8|Расширенный ключ, например, функциональный ключ или ключ на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутренне Windows.|
|13|Контекстный код (1, если ключ ALT удерживается при нажатии клавиши; в противном случае 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до вызова, 0, если ключ вверх).|
|15|Состояние перехода (1, если ключ освобождается, 0, если ключ нажат).|

### <a name="remarks"></a>Remarks

Эта функция члена может использоваться для определения значения символов мертвого ключа. Мертвый ключ является ключом, таким как символ умлаута (двойной точки), который сочетается с другими символами для формирования композитного символа. Например, символ умлаут-О состоит из мертвого ключа, умлаута и ключа O.

Приложение обычно `OnDeadChar` использует, чтобы дать пользователю обратную связь о каждом нажатии ключа. Например, приложение может отображать акцент в текущем положении персонажа, не перемещая карету.

Поскольку между нажатием клавишами и `OnDeadChar` вызовами не обязательно существует один к одному, информация в *nFlags,* как правило, не полезна для приложений. Информация в *nFlags* применяется только к последнему вызову в функцию участника [OnKeyUp](#onkeyup) `OnDeadChar` или функции участника [OnKeyDown,](#onkeydown) которая предшествует вызову.

Для клавиатур IBM Enhanced 101- и 102-ключ, расширенные клавиши являются правильными клавишами ALT и правыми клавишами CTRL на основной части клавиатуры; INS, DEL, HOME, END, PAGE UP, PAGE DOWN и клавиши со стрелками в кластерах слева от цифровой клавиатуры; и клавиши слэйс (/) и ENTER в числовой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *nFlags*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndondeleteitem"></a><a name="ondeleteitem"></a>CWnd::OnDeleteItem

Рамочная система называет эту функцию члена, чтобы сообщить владельцу владельца-нарисовать список окно или комбо-поле, что список поле или комбо поле уничтожено или что элементы были удалены [CComboBox: :DeleteString](../../mfc/reference/ccombobox-class.md#deletestring), [CListBox: :DeleteString](../../mfc/reference/clistbox-class.md#deletestring), [CComboBox: ResetContent](../../mfc/reference/ccombobox-class.md#resetcontent), или [CListBox:::ResetContent](../../mfc/reference/clistbox-class.md#resetcontent).

```
afx_msg void OnDeleteItem(
    int nIDCtl,
    LPDELETEITEMSTRUCT lpDeleteItemStruct);
```

### <a name="parameters"></a>Параметры

*nIDCtl*<br/>
Идентификатор элемента управления, отправивавого WM_DELETEITEM сообщение.

*lpDeleteItemStruct*<br/>
Определяет длинный указатель на структуру данных [DELETEITEMSTRUCT,](/windows/win32/api/winuser/ns-winuser-deleteitemstruct) содержащую информацию об удаленном элементе коробки списка.

### <a name="remarks"></a>Remarks

Если `hwndItem` член `DELETEITEMSTRUCT` структуры принадлежит к комбо-коробке или ящику списка, то называется виртуальная `DeleteItem` функция соответствующего класса. Переопределить `DeleteItem` функцию участника класса соответствующего элемента для удаления данных, относясь к конкретным элементам.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndondestroy"></a><a name="ondestroy"></a>CWnd::Уничтожить

Платформа называет эту функцию `CWnd` члена, чтобы сообщить объекту, что он уничтожается.

```
afx_msg void OnDestroy();
```

### <a name="remarks"></a>Remarks

`OnDestroy`вызывается после `CWnd` удаления объекта с экрана.

`OnDestroy`вызвано сперва для `CWnd` быть разрушенным, `CWnd` после этого для окон ребенка по мере того как они разрушены. Можно предположить, что все детские окна все еще существуют во время `OnDestroy` бега.

Если `CWnd` разрушаемый объект является частью цепочки Clipboard-viewer (установленной по `CWnd` вызову функции члена [SetClipboardViewer),](#setclipboardviewer) необходимо удалить себя из `OnDestroy` цепочки Clipboard-viewer, позвонив в функцию участника [ChangeClipboardChain,](#changeclipboardchain) прежде чем вернуться из функции.

## <a name="cwndondestroyclipboard"></a><a name="ondestroyclipboard"></a>CWnd::OnDestroyClipboard

Платформа вызывает эту функцию участника для владельца Clipboard, когда Clipboard опустеет через вызов функции [EmptyClipboard](/windows/win32/api/winuser/nf-winuser-emptyclipboard) Windows.

```
afx_msg void OnDestroyClipboard();
```

## <a name="cwndondevicechange"></a><a name="ondevicechange"></a>CWnd::OnDeviceChange

Платформа вызывает эту функцию участника, чтобы уведомить драйвер приложения или устройства об изменении аппаратной конфигурации устройства или компьютера.

```
afx_msg BOOL OnDeviceChange(
    UINT nEventType,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*nEventType*<br/>
Тип события. Ознакомьтесь с разделом «Замечания» для описания имеющихся значений

*dwData*<br/>
Адрес структуры, содержащей данные, связанные с конкретными событиями. Его значение зависит от данного события.

### <a name="remarks"></a>Remarks

Для устройств, которые предлагают программно-управляемые функции, такие как выброс и блокировка, операционная система обычно отправляет DBT_DEVICEREMOVEPENDING сообщение, чтобы приложения и драйверы устройств прелесть их использование устройства изящно.

Если операционная система решительно удаляет устройство, она не может отправить DBT_DEVICEQUERYREMOVE сообщение, прежде чем сделать это.

Параметр *nEvent* может быть одним из следующих значений:

- [DBT_DEVICEARRIVAL](/windows/win32/DevIO/dbt-devicearrival) Устройство было вставлено и теперь доступно.

- [DBT_DEVICEQUERYREMOVE](/windows/win32/DevIO/dbt-devicequeryremove) Требуется разрешение на удаление устройства. Любое приложение может отклонить этот запрос и отменить удаление.

- [DBT_DEVICEQUERYREMOVEFAILED](/windows/win32/DevIO/dbt-devicequeryremovefailed) Запрос на удаление устройства отменен.

- [DBT_DEVICEREMOVEPENDING](/windows/win32/DevIO/dbt-deviceremovepending) Устройство вот-вот будет удалено. Не может быть отказано.

- [DBT_DEVICEREMOVECOMPLETE](/windows/win32/DevIO/dbt-deviceremovecomplete) Устройство удалено.

- [DBT_DEVICETYPESPECIFIC](/windows/win32/DevIO/dbt-devicetypespecific) Событие, конкретное для устройств.

- [DBT_CONFIGCHANGED](/windows/win32/DevIO/dbt-configchanged) Текущая конфигурация изменилась.

- DBT_DEVNODES_CHANGED узла устройства изменилось.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndondevmodechange"></a><a name="ondevmodechange"></a>CWnd::OnDevModeChange

Платформа вызывает эту функцию члена `CWnd` для всех объектов верхнего уровня, когда пользователь изменяет настройки режима устройства.

```
afx_msg void OnDevModeChange(LPTSTR lpDeviceName);
```

### <a name="parameters"></a>Параметры

*lpDeviceName*<br/>
Указывает на имя устройства, указанное в файле инициализации Windows, WIN. Ini.

### <a name="remarks"></a>Remarks

Приложения, обрабатывающие WM_DEVMODECHANGE сообщение, могут репарализовать настройки режима устройства. Приложения, которые `ExtDeviceMode` используют функцию Windows для сохранения и восстановления настроек устройства, как правило, не обрабатывают эту функцию.

Эта функция не вызывается при изменении принтера по умолчанию из панели управления. В этом случае `OnWinIniChange` вызывается функция.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndondrawclipboard"></a><a name="ondrawclipboard"></a>CWnd::OnDrawClipboard

Платформа вызывает эту функцию участника для каждого окна в цепочке Clipboard-viewer при изменении содержимого Clipboard.

```
afx_msg void OnDrawClipboard();
```

### <a name="remarks"></a>Remarks

Только приложения, которые присоединились к цепочке Clipboard-viewer, позвонив в функцию участника [SetClipboardViewer,](#setclipboardviewer) должны ответить на этот вызов.

Каждое окно, `OnDrawClipboard` которое получает вызов, должно вызвать функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows, чтобы передать [WM_DRAWCLIPBOARD](/windows/win32/dataxchg/wm-drawclipboard) сообщение на следующее окно в цепочке Clipboard-viewer. Ручка следующего окна возвращается функцией участника [SetClipboardViewer;](#setclipboardviewer) он может быть изменен в ответ на вызов функции участника [OnChangeCbChain.](#onchangecbchain)

## <a name="cwndondrawiconicthumbnailorlivepreview"></a><a name="ondrawiconicthumbnailorlivepreview"></a>CWnd::OndrawIconicThumbnailOrLivePreview

Вызывается платформой, когда необходимо отобразить растровое изображение на эскизе вкладки Windows 7 или клиенте для быстрого просмотра приложения.

```
virtual void OnDrawIconicThumbnailOrLivePreview(
    CDC& dc,
    CRect rect,
    CSize szRequiredThumbnailSize,
    BOOL bIsThumbnail,
    BOOL& bAlphaChannelSet);
```

### <a name="parameters"></a>Параметры

*Dc*<br/>
Определяет контекст устройства.

*rect*<br/>
Определяет ограничивающий прямоугольник области для визуализации.

*szRequiredThumbnailSize*<br/>
Определяет размер целевого эскиза. Следует игнорировать, если *bIsThumbnail* является FALSE.

*bIsThumbnail*<br/>
Уточняется, является ли этот метод вызван для знаковых эскизов или живой предварительный просмотр (пик).

*bAlphaChannelSet*<br/>
(ваут) Установите его в правду, если ваша реализация инициализирует альфа-канал bitmap выбран в *dc*.

### <a name="remarks"></a>Remarks

Переопределить этот метод в производном классе и опираться на указанный контекст устройства для того, чтобы настроить эскиз и заглянуть. Если *bThumbnail* является правдой, *szRequiredThumbnailSize* может быть проигнорировано. В этом случае вы должны знать, что вы рисуете полноразмерную бит-карту (то есть бит-карту, которая охватывает всю область клиента). Контекст устройства *(dc*) поставляется с выбранным 32 битовой битовой картой. Реализация по умолчанию отправляет WM_PRINT в это окно с PRF_CLIENT, PRF_CHILDREN и PRF_NONCLIENT флагами.

## <a name="cwndondrawitem"></a><a name="ondrawitem"></a>CWnd::OnDrawItem

Рамочная система вызывает эту функцию участника для владельца управления кнопкой владельца, управления комбо-коробкой, управления списком или меню при изменении визуального аспекта управления или меню.

```
afx_msg void OnDrawItem(
    int nIDCtl,
    LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Параметры

*nIDCtl*<br/>
Содержит идентификатор элемента управления, отправивого WM_DRAWITEM сообщение. Если меню отправило сообщение, *nIDCtl* содержит 0.

*lpDrawItemStruct*<br/>
Определяет длинный указатель на структуру `DRAWITEMSTRUCT` данных, содержащую информацию о нарисованном элементе и типе требуемого чертежа.

### <a name="remarks"></a>Remarks

Член `itemAction` структуры [DRAWITEMSTRUCT](/windows/win32/api/winuser/ns-winuser-drawitemstruct) определяет операцию рисования, которая должна быть выполнена. Данные в этом элементе позволяют владельцу элемента управления определить, какие действия рисования необходимы.

Перед возвращением из обработки этого сообщения приложение должно убедиться, что `DRAWITEMSTRUCT` контекст устройства, идентифицированный членом *hDC* структуры, будет восстановлен в состоянии по умолчанию.

Если `hwndItem` участник принадлежит к [CButton](../../mfc/reference/cbutton-class.md), [CMenu](../../mfc/reference/cmenu-class.md), [CListBox](../../mfc/reference/clistbox-class.md), или `DrawItem` [CComboBox](../../mfc/reference/ccombobox-class.md) объекта, то виртуальная функция соответствующего класса называется. Переопределить `DrawItem` функцию элемента соответствующего элемента для рисования элемента.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndondropfiles"></a><a name="ondropfiles"></a>CWnd::OnDropFiles

Платформа вызывает эту функцию участника, когда пользователь выпускает левую кнопку мыши через окно, которое зарегистрировалось как получатель упавшихся файлов.

```
afx_msg void OnDropFiles(HDROP hDropInfo);
```

### <a name="parameters"></a>Параметры

*hDropInfo*<br/>
Указатель на внутреннюю структуру данных, описывающий упавные файлы. Эта ручка используется `DragFinish` `DragQueryFile`функциями `DragQueryPoint` , и Windows для получения информации об упавных файлах.

### <a name="remarks"></a>Remarks

Как правило, полученный класс будет предназначен для поддержки отброшенных файлов и будет регистрироваться во время строительства окон.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonenable"></a><a name="onenable"></a>CWnd::OnEnable

Платформа вызывает эту функцию элемента при изменении включенного состояния `CWnd` объекта.

```
afx_msg void OnEnable(BOOL bEnable);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Определяет, был ли `CWnd` объект включен или отключен. Этот параметр является `CWnd` правдой, если был включен; это FALSE, `CWnd` если был отключен.

### <a name="remarks"></a>Remarks

`OnEnable`вызывается до возвращения функции функции [Функции EnableWindow,](#enablewindow) но после изменения состояния включенного окна [(WS_DISABLED](styles-used-by-mfc.md#window-styles) бита стиля).

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonendsession"></a><a name="onendsession"></a>CWnd::OnEndSession

Платформа вызывает эту функцию `CWnd` участника после того, как объект вернул ненулевое значение из вызова функции [функции on'queryEndSession.](#onqueryendsession)

```
afx_msg void OnEndSession(BOOL bEnding);
```

### <a name="parameters"></a>Параметры

*Изгиба*<br/>
Уточняется, завершена ли сессия. Это правда, если сессия в настоящее время завершена; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Вызов `OnEndSession` сообщает `CWnd` объекту, действительно ли сеанс заканчивается.

Если *bEnding* является правдой, Windows может прекратить работу в любое время после того, как все приложения вернулись из обработки этого вызова. Следовательно, иметь приложение выполнить все `OnEndSession`задачи, необходимые для прекращения в пределах .

Вам не нужно звонить в функцию участника [DestroyWindow](#destroywindow) или функцию [Post'youmessage](/windows/win32/api/winuser/nf-winuser-postquitmessage) Windows по окончании сеанса.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonenteridle"></a><a name="onenteridle"></a>CWnd::OnEnterIdle

Платформа называет эту функцию участника, чтобы сообщить основной процедуре окна приложения о том, что модульное диалоговое окно или меню входят в состояние простоя.

```
afx_msg void OnEnterIdle(
    UINT nWhy,
    CWnd* pWho);
```

### <a name="parameters"></a>Параметры

*nПочему*<br/>
Уточняется, является ли сообщение результатом отображаемого окна диалога или меню. Этот параметр может быть одним из следующих значений:

- MSGF_DIALOGBOX система простаивает из-за отображения диалогового окна.

- MSGF_MENU система простаивает из-за отображения меню.

*pКто*<br/>
Укажите указатель на поле диалога (если *nWhy* MSGF_DIALOGBOX) или окно, содержащее отображеное меню (если *nПочему* MSGF_MENU). Этот указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Модальный диалоговый ящик или меню входит в состояние простоя, когда сообщения не ждут в очереди после обработки одного или нескольких предыдущих сообщений.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonentermenuloop"></a><a name="onentermenuloop"></a>CWnd::OnEnterMenuLoop

Платформа вызывает эту функцию элемента при входе в модальный цикл меню.

```
afx_msg void OnEnterMenuLoop(BOOL bIsTrackPopupMenu);
```

### <a name="parameters"></a>Параметры

*bIsTrackPopupMenu*<br/>
Определяет, является ли меню всплывающее меню всплывающее. Имеет ненулевое значение, если функция успешна; в противном случае 0.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonentersizemove"></a><a name="onentersizemove"></a>CWnd::OnEnterSizeMove

Платформа вызывает эту функцию одного раза после того, как пострадававшное окно входит в движущийся или размерный модульный цикл.

```
afx_msg void OnEnterSizeMove();
```

### <a name="remarks"></a>Remarks

Этот метод получает [WM_ENTERSIZEMOVE](/windows/win32/winmsg/wm-entersizemove) уведомление, которое описано в SDK Windows.

Окно входит в движущийся или размерный модульный цикл, когда пользователь нажимает на заголовок панели окна или границу размеров, или когда окно передает [WM_SYSCOMMAND](/windows/win32/menurc/wm-syscommand) сообщение функции [CWnd::DefWindowProc,](#defwindowproc) и параметр *wParam* этого сообщения определяет SC_MOVE или SC_SIZE.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonerasebkgnd"></a><a name="onerasebkgnd"></a>CWnd::OnEraseBkgnd

Фрейм вызывает эту `CWnd` функцию члена, когда фон объекта нуждается в стине (например, при повторном размере).

```
afx_msg BOOL OnEraseBkgnd(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Определяет объект устройства-контекста.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если он стирает фон; в противном случае 0.

### <a name="remarks"></a>Remarks

Он призван подготовить недействительную область для покраски.

Реализация по умолчанию стирает фон с помощью фоновой кисти фонового класса окна, указанной `hbrBackground` членом структуры класса окна.

Если `hbrBackground` участник NULL, ваша переопределенная версия `OnEraseBkgnd` должна удалить цвет фона. Ваша версия должна также согласовать происхождение `CWnd` предполагаемой кисти с координатами, сначала позвонив [unrealiseObject](/windows/win32/api/wingdi/nf-wingdi-unrealizeobject) для кисти, а затем выбрав кисть.

Перевернутый `OnEraseBkgnd` должен вернуться ненулевой в ответ на WM_ERASEBKGND, если он обрабатывает сообщение и стирает фон; это означает, что дальнейшее сравливание не требуется. Если оно возвращает 0, окно останется помеченным как необходимое для удаления. (Как правило, это `fErase` означает, `PAINTSTRUCT` что член структуры будет правдой.)

Windows предполагает, что фон вычисляется с помощью режима MM_TEXT отображения. Если контекст устройства использует любой другой режим отображения, стертая область не может находиться в видимой части области клиента.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonexitmenuloop"></a><a name="onexitmenuloop"></a>CWnd::OnExitMenuLoop

Платформа вызывает эту функцию элемента при выходе цикла модального меню.

```
afx_msg void OnExitMenuLoop(BOOL bIsTrackPopupMenu);
```

### <a name="parameters"></a>Параметры

*bIsTrackPopupMenu*<br/>
Уточняется, является ли задействованное меню всплывающее меню. Имеет ненулевое значение, если функция успешна; в противном случае 0.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonexitsizemove"></a><a name="onexitsizemove"></a>CWnd::OnExitSizeMove

Платформа вызывает эту функцию один раз после выхода пострадавшего окна в движущийся или размерный модульный цикл.

```
afx_msg void OnExitSizeMove();
```

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_EXITSIZEMOVE,](/windows/win32/winmsg/wm-exitsizemove) которое описано в SDK Windows.

Окно входит в движущийся или размерный модульный цикл, когда пользователь нажимает на заголовок панели окна или границу размеров, или когда окно передает [WM_SYSCOMMAND](/windows/win32/menurc/wm-syscommand) сообщение функции [CWnd::DefWindowProc,](#defwindowproc) и параметр *wParam* этого сообщения определяет SC_MOVE или SC_SIZE.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonfontchange"></a><a name="onfontchange"></a>CWnd::OnFontChange

Все окна верхнего уровня в `OnFontChange` системе получают вызов из инфраструктуры после того, как приложение изменит пул ресурсов шрифта.

```
afx_msg void OnFontChange();
```

### <a name="remarks"></a>Remarks

Приложение, которое добавляет или удаляет шрифты из системы (например, через функцию [AddFontResource](/windows/win32/api/wingdi/nf-wingdi-addfontresourcew) или [RemoveFontResource](/windows/win32/api/wingdi/nf-wingdi-removefontresourcew) Windows) должно отправлять [WM_FONTCHANGE](/windows/win32/gdi/wm-fontchange) сообщение во все окна верхнего уровня.

Чтобы отправить это сообщение, используйте функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows с *параметраh hWnd,* установленным для HWND_BROADCAST.

## <a name="cwndongetdlgcode"></a><a name="ongetdlgcode"></a>CWnd::OnGetDlgCode

Вызывается, чтобы элемент управления мог самостоятельно обрабатывать нажатия на клавиши со стрелками и клавишу TAB.

```
afx_msg UINT OnGetDlgCode();
```

### <a name="return-value"></a>Возвращаемое значение

Одно или несколько из следующих значений, указывающих, какой тип ввода процесса приложения обрабатывает:

- DLGC_BUTTON кнопка (общий).

- DLGC_DEFPUSHBUTTON кнопка по умолчанию.

- DLGC_HASSETSEL EM_SETSEL сообщения.

- DLGC_UNDEFPUSHBUTTON Нет обработки кнопки по умолчанию. (Приложение может использовать этот флаг с DLGC_BUTTON, чтобы указать, что он обрабатывает ввод кнопки, но полагается на систему для обработки кнопки по умолчанию.)

- DLGC_RADIOBUTTON кнопку радио.

- DLGC_STATIC статический контроль.

- DLGC_WANTALLKEYS Все ввода клавиатуры.

- DLGC_WANTARROWS клавиши Стрелки.

- DLGC_WANTCHARS сообщения WM_CHAR.

- DLGC_WANTMESSAGE Все ввода клавиатуры. Приложение передает это сообщение на элемент управления.

- DLGC_WANTTAB ключ TAB.

### <a name="remarks"></a>Remarks

Как правило, Windows обрабатывает все стрелка ключ и TAB-ключ ввода `CWnd` управления. Переупределив, `OnGetDlgCode` `CWnd` элемент управления может выбрать определенный тип ввода для самой обработки.

Функции `OnGetDlgCode` по умолчанию для предопределенных классов управления возвращают код, подходящий для каждого класса.

## <a name="cwndongetminmaxinfo"></a><a name="ongetminmaxinfo"></a>CWnd::OnGetMinMaxInfo

Платформа вызывает эту функцию члена всякий раз, когда Windows должна знать максимальное положение или размеры, или минимальный или максимальный размер отслеживания.

```
afx_msg void OnGetMinMaxInfo(MINMAXINFO* lpMMI);
```

### <a name="parameters"></a>Параметры

*lpMMI*<br/>
Указывает на `MINMAXINFO` структуру, содержащую информацию о максимальном размере и положении окна, а также о его минимальном и максимальном размере отслеживания. Подробнее об этой структуре читайте в структуре [MINMAXINFO.](/windows/win32/api/winuser/ns-winuser-minmaxinfo)

### <a name="remarks"></a>Remarks

Максимальный размер — это размер окна, когда его границы полностью расширены. Максимальный размер слежения окна является самым большим размером окна, который может быть достигнут с помощью границ для размера окна. Минимальный размер отслеживания окна — это самый маленький размер окна, который может быть достигнут с помощью границ для размера окна.

Windows заполняет массив точек, указывающих значения по умолчанию для различных позиций и измерений. Приложение может изменить эти `OnGetMinMaxInfo`значения в .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonhelp"></a><a name="onhelp"></a>CWnd::OnHelp

Обрабатывает справку F1 в приложении (с использованием текущего контекста).

```
afx_msg void OnHelp();
```

### <a name="remarks"></a>Remarks

Смотрите [CWinApp::OnHelp](../../mfc/reference/cwinapp-class.md#onhelp) для получения дополнительной информации.

## <a name="cwndonhelpfinder"></a><a name="onhelpfinder"></a>CWnd::OnHelpFinder

Обрабатывает ID_HELP_FINDER и ID_DEFAULT_HELP команды.

```
afx_msg void OnHelpFinder();
```

### <a name="remarks"></a>Remarks

Смотрите [CWinApp::OnHelpFinder](../../mfc/reference/cwinapp-class.md#onhelpfinder) для получения дополнительной информации.

## <a name="cwndonhelpindex"></a><a name="onhelpindex"></a>CWnd::OnHelpIndex

Обрабатывает ID_HELP_INDEX команду и предоставляет тему справки по умолчанию.

```
afx_msg void OnHelpIndex();
```

### <a name="remarks"></a>Remarks

Смотрите [CWinApp::OnHelpIndex](../../mfc/reference/cwinapp-class.md#onhelpindex) для получения дополнительной информации.

## <a name="cwndonhelpinfo"></a><a name="onhelpinfo"></a>CWnd::OnHelpInfo

Вызывается платформой, когда пользователь нажимает клавишу F1.

```
afx_msg BOOL OnHelpInfo(HELPINFO* lpHelpInfo);
```

### <a name="parameters"></a>Параметры

*lpHelpInfo*<br/>
Указатель на структуру [HELPINFO,](/windows/win32/api/winuser/ns-winuser-helpinfo) содержащую информацию о пункте меню, элементе управления, диалоговом поле или окне, для которого запрашивается помощь.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE, если окно имеет фокус клавиатуры или если меню активна в окне. Если нет окна клавиатуры фокус, возвращает FALSE.

### <a name="remarks"></a>Remarks

Если меню активиируется при нажатии F1, WM_HELP отправляется в окно, связанное с меню; в противном случае WM_HELP отправляется в окно с фокусом клавиатуры. Если в окне нет фокусировки клавиатуры, WM_HELP отправляется в действующее в настоящее время окно.

## <a name="cwndonhelpusing"></a><a name="onhelpusing"></a>CWnd::OnHelpUsing

Обрабатывает команду ID_HELP_USING.

```
afx_msg void OnHelpUsing();
```

### <a name="remarks"></a>Remarks

Смотрите [CWinApp::OnHelpUsing](../../mfc/reference/cwinapp-class.md#onhelpusing) для получения дополнительной информации.

## <a name="cwndonhotkey"></a><a name="onhotkey"></a>CWnd::OnHotKey

Платформа вызывает эту функцию элемента, когда пользователь нажимает общесистемный горячий ключ.

```
afx_msg void OnHotKey(
    UINT nHotKeyId,
    UINT nKey1,
    UINT nKey2);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nHotKeyId*|(в) Идентификатор горячего ключа, генерируемого сообщением. Если сообщение было создано системным горячим ключом, этот параметр будет одним из следующих значений:<br /><br /> - IDHOT_SNAPDESKTOP - оснастки рабочего стола горячий ключ был нажат.<br />- IDHOT_SNAPWINDOW - оснастки окно горячий ключ был нажат.|
|*nKey1*|(в) Битовая комбинация (ИЛИ) флагов, указывающих клавиши, которые были нажаты в сочетании с ключом, указанным параметром *nKey2.* Вы можете выбрать<br /><br /> - MOD_ALT - либо ключ ALT был сдержан.<br />- MOD_CONTROL - Либо CTRL ключ был задержан.<br />- MOD_SHIFT - либо ключ SHIFT был сдержан.<br />- MOD_WIN - Либо ключ WINDOWS был задержан. Эти ключи помечены логотипом Microsoft Windows.|
|*nKey2*|(в) Виртуальный код ключа горячего ключа.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_HOTKEY,](/windows/win32/inputdev/wm-hotkey) которое описано в SDK Windows. Это сообщение размещается в верхней части очереди сообщений, связанной с потоком, который зарегистрировал горячий ключ. Используйте функцию [RegisterHotKey](/windows/win32/api/winuser/nf-winuser-registerhotkey) для регистрации общесистемного горячего ключа.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonhscroll"></a><a name="onhscroll"></a>CWnd::OnHScroll

Платформа вызывает эту функцию участника, когда пользователь щелкает горизонтальной панелью прокрутки окна.

```
afx_msg void OnHScroll(
    UINT nSBCode,
    UINT nPos,
    CScrollBar* pScrollBar);
```

### <a name="parameters"></a>Параметры

*nSBCode*<br/>
Указано код прокрутки-бар, который указывает запрос на прокрутку пользователя. Возможные значения этого параметра:

- SB_LEFT Прокрутите влево.

- SB_ENDSCROLL Свиток Конца.

- SB_LINELEFT Прокрутка влево.

- SB_LINERIGHT Прокрутите вправо.

- SB_PAGELEFT Прокрутите одну страницу в левое время.

- SB_PAGERIGHT Прокрутите одну страницу вправо.

- SB_RIGHT Прокрутите вкрайней.

- SB_THUMBPOSITION Прокрутите в абсолютное положение. Текущее положение определяется параметром *nPos.*

- SB_THUMBTRACK Перетащите окно прокрутки в указанное положение. Текущее положение определяется параметром *nPos.*

*Npos*<br/>
Уфиксирьте положение окна прокрутки, если код прокрутки-бар SB_THUMBPOSITION или SB_THUMBTRACK; в противном случае, не используется. В зависимости от исходного диапазона прокрутки, *nPos* может быть отрицательным и должны быть отлиты в **Int,** если это необходимо.

*pScrollBar*<br/>
Если сообщение прокрутки пришло из управления прокрутки-панели, содержит указатель на элемент управления. Если пользователь нажал на панель прокрутки окна, этот параметр является NULL. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Remarks

Код SB_THUMBTRACK прокрутки-бар обычно используется приложениями, которые дают некоторую обратную связь во время перетаскивания окна прокрутки.

Если приложение прокручивает содержимое, контролируемое баром прокрутки, оно также должно сбросить положение окна прокрутки с функцией члена [SetScrollPos.](#setscrollpos)

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#108](../../mfc/reference/codesnippet/cpp/cwnd-class_48.cpp)]

## <a name="cwndonhscrollclipboard"></a><a name="onhscrollclipboard"></a>CWnd::OnHScrollClipboard

Функция `OnHScrollClipboard` члена владельца Clipboard вызывается зрителем Clipboard, когда данные Clipboard имеют `CF_OWNERDISPLAY` формат и есть событие в горизонтальной панели прокрутки просмотра Clipboard.

```
afx_msg void OnHScrollClipboard(
    CWnd* pClipAppWnd,
    UINT nSBCode,
    UINT nPos);
```

### <a name="parameters"></a>Параметры

*pClipAppWnd*<br/>
Определяет указатель на окно Clipboard-viewer. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*nSBCode*<br/>
Укажите один из следующих кодов прокрутки-бар в низком порядке слова:

- SB_BOTTOM Прокрутите вправом.

- SB_ENDSCROLL Свиток Конца.

- SB_LINEDOWN Прокрутите одну строку вниз.

- SB_LINEUP Прокрутите одну линию вверх.

- SB_PAGEDOWN Прокрутите одну страницу вниз.

- SB_PAGEUP Прокрутите одну страницу вверх.

- SB_THUMBPOSITION Прокрутите абсолютное положение. Текущая позиция предоставляется в *nPos*.

- SB_TOP Прокрутите в левый верхний.

*Npos*<br/>
Содержит положение окна прокрутки, если код прокрутки-бар SB_THUMBPOSITION; в противном случае не используется.

### <a name="remarks"></a>Remarks

Владелец должен прокрутить изображение Clipboard, вывернуть соответствующий раздел и обновить значения прокрутки-панели.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoniconerasebkgnd"></a><a name="oniconerasebkgnd"></a>CWnd::OnIconEraseBkgnd

Рамки называет эту функцию члена для `CWnd` минимизированного (иконописного) объекта, когда фон значка должен быть заполнен перед покраской значка.

```
afx_msg void OnIconEraseBkgnd(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Определяет объект устройства-контекстзнача иконы. Может быть временным и не должны храниться для последующего использования.

### <a name="remarks"></a>Remarks

`CWnd`получает этот вызов только в том случае, если значок класса определен для реализации по умолчанию окна; в противном случае [OnEraseBkgnd](#onerasebkgnd) называется.

Функция члена [DefWindowProc](#defwindowproc) заполняет фон значка фоновой щеткой родительского окна.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoninitmenu"></a><a name="oninitmenu"></a>CWnd::OnInitMenu

Платформа вызывает эту функцию элемента, когда меню вот-вот станет активным.

```
afx_msg void OnInitMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

*pMenu*<br/>
Определяет меню для инициализации. Может быть временным и не должны храниться для последующего использования.

### <a name="remarks"></a>Remarks

`OnInitMenu`вызывается, когда пользователь нажимает на элемент в баре меню или нажимает клавишу меню. Переопределить эту функцию участника, чтобы изменить меню перед его отображением.

`OnInitMenu`вызывается только один раз, когда меню впервые доступно (например, когда пользователь нажимает на элемент в баре меню). Этот метод не предоставляет информацию о пунктах меню. Когда пользователь переходит к элементам в меню (например, перемещая мышь через несколько элементов меню), функция не вызывается снова. Как только пользователь выходит из меню (например, нажав на область клиента приложения) и затем нажимает элемент в панели меню, функция будет вызвана снова.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoninitmenupopup"></a><a name="oninitmenupopup"></a>CWnd::OnInitMenuPopup

Платформа вызывает эту функцию участника, когда всплывающее меню вот-вот станет активным.

```
afx_msg void OnInitMenuPopup(
    CMenu* pPopupMenu,
    UINT nIndex,
    BOOL bSysMenu);
```

### <a name="parameters"></a>Параметры

*pPopupMenu*<br/>
Определяет объект меню из всплывающих меню. Может быть временным и не должны храниться для последующего использования.

*Nindex*<br/>
В основном меню указан индекс всплывающее меню.

*bSysМеню*<br/>
ПРАВДА, если всплывающее меню меню управления; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Это позволяет приложению изменять всплывающее меню до его отображения без изменения всего меню.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoninputdevicechange"></a><a name="oninputdevicechange"></a>CWnd::OnInputDeviceChange

Платформа вызывает эту функцию элемента при добавлении или удалении устройства ввоза или удаления из системы.

```
afx_msg void OnInputDeviceChange(unsigned short uFlag);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*uФлаг*|(в) Этот флаг может содержать следующие значения:<br /><br /> - GIDC_ARRIVAL - В систему добавлено новое устройство.<br />- GIDC_REMOVAL - Устройство было удалено из системы.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_INPUT_DEVICE_CHANGE,](/windows/win32/inputdev/wm-input-device-change) которое описано в SDK Windows. Это общее сообщение устройства ввода.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoninputlangchange"></a><a name="oninputlangchange"></a>CWnd::InputLangChange

Платформа вызывает этот элемент для верхнего пострадавшего окна после изменения языка ввода приложения.

```
afx_msg void OnInputLangChange(
    UINT nCharSet,
    UINT nLocaleId);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nCharSet*|(в) Набор символов нового локализации. Для получения дополнительной *информации* см. [LOGFONT](/windows/win32/api/wingdi/ns-wingdi-logfontw)|
|*nLocaleId*|(в) Идентификатор локального ввода. Для получения дополнительной информации смотрите [Language Identifier Constants and Strings](/windows/win32/Intl/language-identifier-constants-and-strings).|

### <a name="remarks"></a>Remarks

Этот метод получает [WM_INPUTLANGCHANGE](/windows/win32/winmsg/wm-inputlangchange) сообщение муведомления, которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndoninputlangchangerequest"></a><a name="oninputlangchangerequest"></a>CWnd::InputLangChangeЗапрос

Платформа вызывает этот участник для окна с фокусом, когда пользователь выбирает новый язык ввода.

```
afx_msg void OnInputLangChangeRequest(
    UINT nFlags,
    UINT nLocaleId);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nФлаги*|(в) Битовая комбинация флагов, указывающих на то, что новый локали был выбран из предыдущего или следующего локаль в установленном списке локали, или что макет клавиатуры нового ввода может быть использован с набором символов системы.<br /><br /> Возможные значения INPUTLANGCHANGE_BACKWARD, INPUTLANGCHANGE_FORWARD и INPUTLANGCHANGE_SYSCHARSET.|
|*nLocaleId*|(в) Идентификатор локального ввода. Для получения дополнительной информации смотрите [Language Identifier Constants and Strings](/windows/win32/Intl/language-identifier-constants-and-strings).|

### <a name="remarks"></a>Remarks

Этот метод получает [WM_INPUTLANGCHANGEREQUEST](/windows/win32/winmsg/wm-inputlangchangerequest) сообщение об уведомлении, которое описано в SDK Windows. Это сообщение публикуется, когда пользователь выбирает новый язык ввода либо с hotkey, который указан в приложении панели управления клавиатурой, или из индикатора на панели задач системы.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonkeydown"></a><a name="onkeydown"></a>CWnd::OnKeydown

Платформа вызывает эту функцию члена при нажатии несистемного ключа.

```
afx_msg void OnKeyDown(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Определяет виртуальный код ключа данного ключа. Список стандартных виртуальных кодов ключей можно узнать на примере Winuser.h

*nRepCnt*<br/>
Повторите подсчет (количество раз нажатие клавиши повторяется в результате того, что пользователь удерживает ключ).

*nФлаги*<br/>
Осваивай код сканирования, код перехода ключей, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Описание|
|-----------|-----------------|
|0-7|Код сканирования (OEM-зависимое значение).|
|8|Расширенный ключ, например, функциональный ключ или ключ на цифровой клавиатуре (1, если это расширенный ключ).|
|9-10|Не используется.|
|11-12|Используется внутренне Windows.|
|13|Контекстный код (1, если ключ ALT удерживается при нажатии клавиши; в противном случае 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до вызова, 0, если ключ вверх).|
|15|Состояние перехода (1, если ключ освобождается, 0, если ключ нажат).|

Для WM_KEYDOWN сообщения бит ключа-перехода (бит 15) радо 0, а бит контекст-кода (бит 13) — 0.

### <a name="remarks"></a>Remarks

Несистемный ключ — это клавиша клавиатуры, которая нажата при нажатии клавиши ALT или клавиша клавиатуры, которая нажата при `CWnd` входе.

Из-за автоматического повторения `OnKeyDown` может произойти несколько вызовов до вызова функции функции [участника OnKeyUp.](#onkeyup) Бит, указывающий на предыдущее состояние ключа, `OnKeyDown` может быть использован для определения того, является ли вызов первым переходом вниз или повторным переходом вниз.

Для клавиатур IBM Enhanced 101- и 102-ключ, расширенные клавиши являются правильными клавишами ALT и правыми клавишами CTRL на основной части клавиатуры; INS, DEL, HOME, END, PAGE UP, PAGE DOWN и клавиши со стрелками в кластерах слева от цифровой клавиатуры; и клавиши слэйс (/) и ENTER в числовой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *nFlags*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonkeyup"></a><a name="onkeyup"></a>CWnd::OnKeyUp

Платформа вызывает эту функцию элемента при освобождении несистемного ключа.

```
afx_msg void OnKeyUp(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Определяет виртуальный код ключа данного ключа. Список стандартных виртуальных кодов ключей можно узнать на примере Winuser.h

*nRepCnt*<br/>
Повторите подсчет (количество раз нажатие клавиши повторяется в результате того, что пользователь удерживает ключ).

*nФлаги*<br/>
Осваивай код сканирования, код перехода ключей, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Описание|
|-----------|-----------------|
|0-7|Код сканирования (OEM-зависимое значение). Низкий байт слова высокого порядка.|
|8|Расширенный ключ, например, функциональный ключ или ключ на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутренне Windows.|
|13|Контекстный код (1, если ключ ALT удерживается при нажатии клавиши; в противном случае 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до вызова, 0, если ключ вверх).|
|15|Состояние перехода (1, если ключ освобождается, 0, если ключ нажат).|

Для сообщения WM_KEYUP бит ключа-перехода (бит 15) расписан 1, а бит контекст-кода (бит 13) — 0.

### <a name="remarks"></a>Remarks

Несистемный ключ — это клавиша клавиатуры, которая нажата при нажатии `CWnd` клавиши ALT или клавиша клавиатуры, которая нажата при входе.

Для клавиатур IBM Enhanced 101- и 102-ключ, расширенные клавиши являются правильными клавишами ALT и правыми клавишами CTRL на основной части клавиатуры; INS, DEL, HOME, END, PAGE UP, PAGE DOWN и клавиши со стрелками в кластерах слева от цифровой клавиатуры; и клавиши слэйс (/) и ENTER в числовой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *nFlags*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonkillfocus"></a><a name="onkillfocus"></a>CWnd::OnKillFocus

Платформа вызывает эту функцию участника непосредственно перед потерей входного фокуса.

```
afx_msg void OnKillFocus(CWnd* pNewWnd);
```

### <a name="parameters"></a>Параметры

*pNewWnd*<br/>
Освеление указателя на окно, которое получает входиный фокус (может быть NULL или может быть временным).

### <a name="remarks"></a>Remarks

Если `CWnd` объект отображает карету, карет должен быть уничтожен в этой точке.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonlbuttondblclk"></a><a name="onlbuttondblclk"></a>CWnd::OnLButtonDblClk

Рамочная система вызывает эту функцию участника, когда пользователь дважды щелкает левой кнопкой мыши.

```
afx_msg void OnLButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если ключ SHIFT не работает.

*Точки*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

Только окна, которые имеют CS_DBLCLKS стиле `OnLButtonDblClk` [WNDCLASS,](/windows/win32/api/winuser/ns-winuser-wndclassw) будут принимать звонки. Это значение по умолчанию для окон класса Microsoft Foundation. Windows `OnLButtonDblClk` звонит, когда пользователь нажимает, выпускает, а затем снова нажимает кнопку левой мыши в пределах срока двойного щелчка системы. Двойное нажатие кнопки левой мыши на самом деле генерирует четыре события: [WM_LBUTTONDOWN,](#onlbuttondown) [WM_LBUTTONUP](#onlbuttonup) сообщения, WM_LBUTTONDBLCLK вызова, и еще один WM_LBUTTONUP сообщение, когда кнопка выпущена.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonlbuttondown"></a><a name="onlbuttondown"></a>CWnd::OnLButtonDown

Рамочная система вызывает эту функцию участника, когда пользователь нажимает на левую кнопку мыши.

```
afx_msg void OnLButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если ключ SHIFT не работает.

*Точки*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonlbuttonup"></a><a name="onlbuttonup"></a>CWnd::OnLButtonUp

Платформа вызывает эту функцию участника, когда пользователь выпускает левую кнопку мыши.

```
afx_msg void OnLButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если ключ SHIFT не работает.

*Точки*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmbuttondblclk"></a><a name="onmbuttondblclk"></a>CWnd::OnMButtonDblClk

Рамочная система вызывает эту функцию участника, когда пользователь дважды нажимает на кнопку средней мыши.

```
afx_msg void OnMButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если ключ SHIFT не работает.

*Точки*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

Только окна, которые имеют CS_DBLCLKS стиле `OnMButtonDblClk` [WNDCLASS,](/windows/win32/api/winuser/ns-winuser-wndclassw) будут принимать звонки. Это значение по умолчанию для всех окон класса Microsoft Foundation. Windows генерирует `OnMButtonDblClk` вызов, когда пользователь нажимает, выпускает, а затем снова нажимает кнопку средней мыши в пределах срока двойного щелчка системы. Двойное нажатие кнопки средней мыши на самом деле генерирует четыре события: [WM_MBUTTONDOWN](#onmbuttondown) и [WM_MBUTTONUP](#onmbuttonup) сообщения, WM_MBUTTONDBLCLK вызова и другое WM_MBUTTONUP сообщение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmbuttondown"></a><a name="onmbuttondown"></a>CWnd::OnMButtonDown

Рамочная система вызывает эту функцию участника, когда пользователь нажимает кнопку средней мыши.

```
afx_msg void OnMButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если ключ SHIFT не работает.

*Точки*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmbuttonup"></a><a name="onmbuttonup"></a>CWnd::OnMButtonUp

Платформа вызывает эту функцию участника, когда пользователь выпускает кнопку средней мыши.

```
afx_msg void OnMButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если ключ SHIFT не работает.

*Точки*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmdiactivate"></a><a name="onmdiactivate"></a>CWnd::OnMDIActivate

Платформа называет эту функцию члена для деактивации окна ребенка и активации окна ребенка.

```
afx_msg void OnMDIActivate(
    BOOL bActivate,
    CWnd* pActivateWnd,
    CWnd* pDeactivateWnd);
```

### <a name="parameters"></a>Параметры

*bActivate*<br/>
ПРАВДА, если ребенок активируется и FALSE, если он деактивирован.

*pАктивированный*<br/>
Содержит указатель на окно ребенка MDI для активации. При получении в окне ребенка MDI *pActivateWnd* содержит указатель на активированное окно ребенка. Этот указатель может быть временным и не должен храниться для последующего использования.

*pDeactivateWnd*<br/>
Содержит указатель на деактивацию окна ребенка MDI. Этот указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Окно ребенка MDI активируется независимо от окна рамы MDI. Когда кадр становится активным, окно ребенка, которое в последний раз активировалось с вызовом, `OnMDIActivate` получает `OnMDIActivate` [WM_NCACTIVATE](#onncactivate) сообщение, чтобы нарисовать активную оконную рамку и панель подписи, но не получает другого вызова.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmeasureitem"></a><a name="onmeasureitem"></a>CWnd::OnMeasureItem

Рамочная система вызывает эту функцию элемента по фрейму для владельца кнопки «Нарисовать владельца», комбо-бокса, окна списка или элемента меню при создании элемента управления.

```
afx_msg void OnMeasureItem(
    int nIDCtl, LPMEASUREITEMSTRUCT lpMeasureItemStruct);
```

### <a name="parameters"></a>Параметры

*nIDCtl*<br/>
Идентификатор элемента управления.

*lpИзмеренныйПункт*<br/>
Указывает на структуру данных [MEASUREITEMSTRUCT,](/windows/win32/api/winuser/ns-winuser-measureitemstruct) содержащую размеры элемента управления владельца-рисования.

### <a name="remarks"></a>Remarks

Переопределить эту функцию члена `MEASUREITEMSTRUCT` и заполнить структуру данных, на которую указывает *lpMeasureItemStruct* и возврат; это информирует Windows о размерах элемента управления и позволяет Windows правильно обрабатывать взаимодействие с управлением.

Если поле списка или комбо-поле создается с [LBS_OWNERDRAWVARIABLE](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) или [CBS_OWNERDRAWVARIABLE](../../mfc/reference/styles-used-by-mfc.md#combo-box-styles) стилем, фреймворк вызывает эту функцию для владельца для каждого элемента в элементе управления; в противном случае эта функция называется один раз.

Windows инициирует `OnMeasureItem` вызов для владельца комбо-коробок и список ящиков, созданных со стилем OWNERDRAWFIXED перед отправкой [сообщения WM_INITDIALOG.](/windows/win32/dlgbox/wm-initdialog) В результате, когда владелец получает этот вызов, Windows еще не определила высоту и ширину шрифта, используемого в элементе управления; функциональные вызовы и расчеты, требующие этих значений, должны происходить в основной функции приложения или библиотеки.

Если измеряемый `CListBox` `CComboBox` элемент является `MeasureItem` объектом, `CMenu`то называется виртуальная функция соответствующего класса. Переопределить `MeasureItem` функцию элемента класса соответствующего элемента для расчета и определения размера каждого элемента.

`OnMeasureItem`будет называться только в том случае, если класс элемента управления создан во время выполнения или создается с LBS_OWNERDRAWVARIABLE или CBS_OWNERDRAWVARIABLE стилем. Если элемент управления создан редактором `OnMeasureItem` диалогов, не будет вызываться. Это происходит потому, что [WM_MEASUREITEM](/windows/win32/Controls/wm-measureitem) сообщение отправляется в начале процесса создания элемента управления. Если вы подкласс, используя, `DDX_Control` `SubclassDlgItem`или `SubclassWindow`, подклассификация обычно происходит после процесса создания. Таким образом, нет никакого способа обработки [WM_MEASUREITEM](/windows/win32/Controls/wm-measureitem) `OnChildNotify` сообщения в функции управления, которая является механизмом MFC использует для реализации ON_WM_MEASUREITEM_REFLECT.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmenuchar"></a><a name="onmenuchar"></a>CWnd::OnMenuChar

Фрейм называет эту функцию участника, когда пользователь нажимает на мнемонический символ меню, который не соответствует ни одной из предопределенных мнемоники в текущем меню.

```
afx_msg LRESULT OnMenuChar(
    UINT nChar,
    UINT nFlags,
    CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
В зависимости от настроек сборки, определяется символ ANSI или Unicode, который пользователь нажал.

*nФлаги*<br/>
Содержит MF_POPUP флаг, если меню является всплывающее меню. Он содержит MF_SYSMENU флаг, если меню является меню управления.

*pMenu*<br/>
Содержит указатель на выбранный `CMenu`. Указатель может быть временным и не должен храниться.

### <a name="return-value"></a>Возвращаемое значение

Слово высокого порядка значения возврата должно содержать один из следующих командных кодов:

|Значение|Описание|
|-----------|-----------------|
|0|Говорит Windows, чтобы отбросить символ, что пользователь нажал и создает короткий звуковой сигнал на системном динамике.|
|1|Сообщает Windows о закрытии текущего меню.|
|2|Информирует Windows о том, что слово низкого порядка значения возврата содержит номер элемента для конкретного элемента. Этот элемент выбран Windows.|

Слово с низким порядком игнорируется, если слово высокого порядка содержит 0 или 1. Приложения должны обрабатывать это сообщение, когда клавиши акселератора (короткий отрезок) используются для выбора бит-карт, размещенных в меню.

### <a name="remarks"></a>Remarks

Он отправляется `CWnd` в то, что владеет меню. `OnMenuChar`также вызывается, когда пользователь нажимает ALT и любой другой ключ, даже если ключ не соответствует мнемонскому характеру. В этом *случае, pMenu* указывает на `CWnd`меню, принадлежащее , и *nFlags* составляет 0.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmenudrag"></a><a name="onmenudrag"></a>CWnd::OnMenudrag

Платформа вызывает функцию этого элемента текущего меню перетаскивания, когда пользователь начинает перетаскивать элемент меню.

```
afx_msg UINT OnMenuDrag(
    UINT nPos,
    CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Npos*|(в) Положение индекса элемента меню при начале операции перетаскивания.|
|*pMenu*|(в) Указатель на объект [CMenu,](../../mfc/reference/cmenu-class.md) содержащий элемент меню.|

### <a name="return-value"></a>Возвращаемое значение

|Возвращаемое значение|Значение|
|------------------|-------------|
|MND_CONTINUE|Меню должно оставаться активным. Если мышь выпущена, она должна быть проигнорирована.|
|MND_ENDMENU|Меню должно быть закончено.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_MENUDRAG,](/windows/win32/menurc/wm-menudrag) которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmenugetobject"></a><a name="onmenugetobject"></a>CWnd::OnMenuGetObject

Фрейм называет эту функцию элемента текущего меню перетаскивания, когда курсор мыши входит в элемент меню или перемещается из центра элемента в верхнюю или нижнюю часть элемента.

```
afx_msg UINT OnMenuGetObject(MENUGETOBJECTINFO* pMenuGetObjectInfo);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pMenu*|(в) Указатель на структуру [MENUGETOBJECTINFO,](/windows/win32/api/winuser/ns-winuser-menugetobjectinfo) содержащую информацию о меню перетаскивания, в котором находится курсор мыши.|

### <a name="return-value"></a>Возвращаемое значение

|Возвращаемое значение|Значение|
|------------------|-------------|
|MNGO_NOERROR|Указатель интерфейса, поддерживающий операции «падение `pvObj` и перетаскивание», возвращается в составе структуры [MENUGETOBJECTINFO.](/windows/win32/api/winuser/ns-winuser-menugetobjectinfo) В настоящее время поддерживается только интерфейс [IDropTarget.](/windows/win32/api/oleidl/nn-oleidl-idroptarget)|
|MNGO_NOINTERFACE|Интерфейс drop-and-drag не поддерживается.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_MENUGETOBJECT,](/windows/win32/menurc/wm-menugetobject) которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmenurbuttonup"></a><a name="onmenurbuttonup"></a>CWnd::OnMenuRButtonUp

Платформа вызывает эту функцию участника, когда пользователь выпускает правую кнопку мыши, в то время как курсор находится в пункте меню.

```
afx_msg void OnMenuRButtonUp(
    UINT nPos,
    CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Npos*|(в) Положение индекса элемента меню при выпуске кнопки «правая мышь».|
|*pMenu*|(в) Указатель на объект [CMenu,](../../mfc/reference/cmenu-class.md) содержащий элемент меню.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_MENURBUTTONUP,](/windows/win32/menurc/wm-menurbuttonup) которое описано в SDK Windows. [Сообщение WM_MENURBUTTONUP](/windows/win32/menurc/wm-menurbuttonup) позволяет приложению предоставить чувствительное к контексту меню для элемента меню, указанного в сообщении.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmenuselect"></a><a name="onmenuselect"></a>CWnd::OnMenuSelect

Если `CWnd` объект связан с меню, `OnMenuSelect` вызывается фреймворцом, когда пользователь выбирает элемент меню.

```
afx_msg void OnMenuSelect(
    UINT nItemID,
    UINT nFlags,
    HMENU hSysMenu);
```

### <a name="parameters"></a>Параметры

*nItemID*<br/>
Идентифицирует выбранный элемент. Если выбранный элемент является пунктом меню, *nItemID* содержит идентификатор элемента меню. Если выбранный элемент содержит всплывающее меню, *nItemID* содержит всплывающее меню индекса, а *hSysMenu* содержит ручку основного (нажмите на) меню.

*nФлаги*<br/>
Содержит комбинацию из следующих флагов меню:

- MF_BITMAP Пункт бит-карта.

- MF_CHECKED элемент проверяется.

- MF_DISABLED элемент отключен.

- MF_GRAYED Элемент затемнен.

- MF_MOUSESELECT Элемент был выбран с помощью мыши.

- MF_OWNERDRAW Элемент — это элемент, нарисовавный владельцем.

- MF_POPUP Пункт содержит всплывающее меню.

- MF_SEPARATOR Пункт — это сепаратор меню.?

- MF_SYSMENU элемент содержится в меню Управления.

*hSysMenu*<br/>
Если *nFlags* содержит MF_SYSMENU, идентифицирует меню, связанное с сообщением. Если *nFlags* содержит MF_POPUP, идентифицирует ручку основного меню. Если *nFlags* не содержит ни MF_SYSMENU ни MF_POPUP, он не используется.

### <a name="remarks"></a>Remarks

Если *nFlags* содержит 0xFFFF и *hSysMenu* содержит 0, Windows закрыла меню, потому что пользователь нажал на ключ ESC или нажал вне меню.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmouseactivate"></a><a name="onmouseactivate"></a>CWnd::OnMouseActivate

Фрейм вызывает эту функцию элемента, когда курсор находится в неактивном окне, и пользователь нажимает кнопку мыши.

```
afx_msg int OnMouseActivate(
    CWnd* pDesktopWnd,
    UINT nHitTest,
    UINT message);
```

### <a name="parameters"></a>Параметры

*pDesktopWnd*<br/>
Опознавательный указатель на верхнее родительское окно окна, активированного. Указатель может быть временным и не должен храниться.

*nHitTest*<br/>
Определяет код области [хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора.

*Сообщение*<br/>
Упоняет номер сообщения мыши.

### <a name="return-value"></a>Возвращаемое значение

Определяет, следует ли активировать событие мыши `CWnd` и отбрасывать его. Это должно быть одно из следующих значений:

- MA_ACTIVATE `CWnd` объект активировать.

- MA_NOACTIVATE Не `CWnd` активируйте объект.

- MA_ACTIVATEANDEAT `CWnd` активировать объект и отбросить событие мыши.

- MA_NOACTIVATEANDEAT Не `CWnd` активируйте объект и не отбрасываете событие мыши.

### <a name="remarks"></a>Remarks

Реализация по умолчанию передает это сообщение в родительское окно до начала обработки. Если родительское окно возвращает TRUE, обработка останавливается.

Для описания отдельных кодов области наезда [OnNcHitTest](#onnchittest) на несколько иссоподных кодов см.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCAxCtl#9](../../mfc/reference/codesnippet/cpp/cwnd-class_49.cpp)]

## <a name="cwndonmousehover"></a><a name="onmousehover"></a>CWnd::OnMouseHover

Рамочная функция вызывает эту функцию участника, когда курсор парит над областью клиента окна в течение периода времени, указанного в предыдущем вызове [TrackMouseEvent.](/windows/win32/api/winuser/nf-winuser-trackmouseevent)

```
afx_msg void OnMouseHover(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nФлаги*|(в) Битовая комбинация (ИЛИ) флагов, указывающих, какие клавиши модификатора нажаты. Например, MK_CONTROL флаг указывает на нажатие ключа CTRL.|
|*Точки*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла области клиента.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_MOUSEHOVER,](/windows/win32/inputdev/wm-mousehover) которое описано в SDK Windows.

Параметр *nFlags* может быть комбинацией клавиш модификатора, перечисленных в следующей таблице. Для получения дополнительной информации [см.](/windows/win32/inputdev/about-mouse-input)

|Ключ модификатора|Описание|
|------------------|-----------------|
|MK_CONTROL|Ключ CTRL нажат.|
|MK_LBUTTON|Нажата левая кнопка мыши.|
|MK_MBUTTON|Нажата средняя кнопка мыши.|
|MK_RBUTTON|Нажата правая кнопка мыши.|
|MK_SHIFT|Клавиша SHIFT нажата.|
|MK_XBUTTON1|Кнопка мыши XBUTTON1 Microsoft IntelliMouse нажата.|
|MK_XBUTTON2|Кнопка мыши XBUTTON2 Microsoft IntelliMouse нажата.|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmousehwheel"></a><a name="onmousehwheel"></a>CWnd::OnMouseHWheel

Платформа вызывает этот участник, когда текущее окно составлено менеджером окна рабочего стола (DWM), и это окно максимизируется.

```
afx_msg void OnMouseHWheel(
    UINT nFlags,
    short zDelta,
    CPoint pt);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nФлаги*|(в) Битовая комбинация (ИЛИ) флагов, указывающих, какие клавиши модификатора нажаты. Например, MK_CONTROL флаг указывает на нажатие ключа CTRL.<br /><br /> Список флагов можно узнать в подзаголовке "Параметры сообщений" в [входе мыши.](/windows/win32/inputdev/about-mouse-input)|
|*zDelta*|(в) Указывает расстояние, которое вращается колесо, выраженное в кратных или делениях WHEEL_DELTA, что составляет 120. Положительное значение указывает на то, что колесо было повернуто вправо; отрицательное значение указывает на то, что колесо было повернуто влево.|
|*пт*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла области клиента.|

### <a name="remarks"></a>Remarks

Этот метод получает [WM_MOUSEHWHEEL](/windows/win32/inputdev/wm-mousehwheel) сообщение муведомления, которое описано в SDK Windows. Это сообщение отправляется в окно, которое имеет фокус, когда колесо горизонтального прокрутки мыши наклонено или вращается.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmouseleave"></a><a name="onmouseleave"></a>CWnd::OnMouseLeave

Рамочная функция вызывает эту функцию, когда курсор покидает область клиента окна, указанную в предыдущем вызове [TrackMouseEvent.](/windows/win32/api/winuser/nf-winuser-trackmouseevent)

```
afx_msg void OnMouseLeave();
```

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_MOUSELEAVE,](/windows/win32/inputdev/wm-mouseleave) которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmousemove"></a><a name="onmousemove"></a>CWnd::OnMouseMove

Фрейм вызывает эту функцию члена при движении курсора мыши.

```
afx_msg void OnMouseMove(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если ключ SHIFT не работает.

*Точки*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

Если мышь не захвачена, WM_MOUSEMOVE сообщение `CWnd` получено объектом под курсором мыши; в противном случае сообщение переходит к окну, захватившей мышь.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmousewheel"></a><a name="onmousewheel"></a>CWnd::OnMouseWheel

Рамочная система вызывает эту функцию участника, поскольку пользователь вращает колесо мыши и сталкивается с следующей выемкой колеса.

```
afx_msg BOOL OnMouseWheel(
    UINT nFlags,
    short zDelta,
    CPoint pt);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если ключ SHIFT не работает.

*zDelta*<br/>
Указывает на повернутое расстояние. Значение *zDelta* выражается в кратных или делениех WHEEL_DELTA, что составляет 120. Значение менее нуля указывает на вращающуюся спину (к пользователю), в то время как значение больше нуля указывает на вращающийся вперед (вдали от пользователя). Пользователь может обратить этот ответ вспять, изменив настройки колеса в программном обеспечении мыши. Более подробную информацию об этом параметре можно увидеть в комментариях.

*пт*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если прокрутка колеса мыши включена; в противном случае 0.

### <a name="remarks"></a>Remarks

Если не `OnMouseWheel` переопределить, вызывает дефолт [WM_MOUSEWHEEL](/windows/win32/inputdev/wm-mousewheel). Windows автоматически направляет сообщение в окно управления или ребенка, в центре внимания которое. Функция Win32 [DefWindowProc](/windows/win32/api/winuser/nf-winuser-defwindowprocw) распространяет сообщение вверх по родительской цепочке к окну, которая его обрабатывает.

Параметр *zDelta* кратно WHEEL_DELTA, который установлен на уровне 120. Это значение является порогом для действия, и одно такое действие (например, прокрутка вперед на одну ступень) должно произойти для каждой дельты.

WHEEL_DELTA был установлен на 120, чтобы обеспечить более тонкое разрешение колес, таких как свободно вращающееся колесо без выемок. Колесо с более тонким разрешением отправляет больше сообщений за вращение, но каждое сообщение имеет меньшее значение дельты. Чтобы использовать такое колесо, либо добавляйте входящие значения *zDelta* до достижения WHEEL_DELTA (чтобы вы получили тот же ответ для данной дельты-вращения), либо прокрутите частичные строки в ответ на более частые сообщения. Вы также можете выбрать детализацию прокрутки и накапливать дельты до тех пор, пока не будет достигнута WHEEL_DELTA.

Переопределить эту функцию участника, чтобы обеспечить собственное поведение прокрутки руля мыши.

> [!NOTE]
> `OnMouseWheel`обрабатывает сообщения для Windows NT 4.0 и более поздних версий. Для обработки сообщений для Windows 95/98 или Windows NT 3.51 используйте [OnRegisteredMouseWheel.](#onregisteredmousewheel)

## <a name="cwndonmove"></a><a name="onmove"></a>CWnd::OnMove

Платформа вызывает эту функцию `CWnd` участника после перемещения объекта.

```
afx_msg void OnMove(
    int x,
    int y);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Определяет новое местоположение x-координки в верхнем левом углу клиентской зоны. Это новое местоположение приведено в координатах экрана для перекрытых и всплывающих окон, а также координат родителей и клиентов для детских окон.

*Y*<br/>
Определяет новое местоположение y-координации верхнего левого угла клиентской зоны. Это новое местоположение приведено в координатах экрана для перекрытых и всплывающих окон, а также координат родителей и клиентов для детских окон.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonmoving"></a><a name="onmoving"></a>CWnd::OnMoving

Платформа вызывает эту функцию пользователя во `CWnd` время перемещения объекта.

```
afx_msg void OnMoving(
    UINT nSide,
    LPRECT lpRect);
```

### <a name="parameters"></a>Параметры

*nSide*<br/>
Край окна, который будет перемещен.

*lpRect*<br/>
Адрес структуры [CRect](../../atl-mfc-shared/reference/crect-class.md) или [RECT,](/windows/win32/api/windef/ns-windef-rect) которая будет содержать координаты товара.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncactivate"></a><a name="onncactivate"></a>CWnd::OnNcactivate

Рамочная система вызывает эту функцию элемента, когда область неклиента должна быть изменена для обозначения активного или неактивного состояния.

```
afx_msg BOOL OnNcActivate(BOOL bActive);
```

### <a name="parameters"></a>Параметры

*bАктивный*<br/>
Определяет, когда бар подписи или значок необходимо изменить, чтобы указать активное или неактивное состояние. Параметр *bActive* является правдой, если будет нарисована активная подпись или значок. Это FALSE для неактивной подписи или значка.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если Windows должна приступить к обработке по умолчанию; 0 для предотвращения деактивации панели подписей или значка.

### <a name="remarks"></a>Remarks

Реализация по умолчанию рисует заголовок бар и название-бар текст в их активных цветов, если *bActive* является правдой и в их неактивных цветов, если *bActive* является FALSE.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonnccalcsize"></a><a name="onnccalcsize"></a>CWnd::OnNcCalcSize

Рамочная система вызывает эту функцию участника, когда необходимо рассчитать размер и положение клиентской области.

```
afx_msg void OnNcCalcSize(
    BOOL bCalcValidRects,
    NCCALCSIZE_PARAMS* lpncsp);
```

### <a name="parameters"></a>Параметры

*bCalcValidRects*<br/>
Уточняется, следует ли указывать, какая часть клиентской области содержит достоверные сведения. Windows будет копировать достоверные сведения в указанной области в новой клиентской области. Если этот параметр является правдой, приложение должно указать, какая часть клиентской области действительна.

*lpncsp*<br/>
Указывает на [NCCALCSIZE_PARAMS](/windows/win32/api/winuser/ns-winuser-nccalcsize_params) структуру данных, содержащую информацию, которую приложение может использовать для расчета нового размера и положения `CWnd` прямоугольника (включая область клиента, границы, подписи, прокрутки и так далее).

### <a name="remarks"></a>Remarks

Обработка этого сообщения может управлять содержимым клиентской области окна при изменении размера или положения окна.

Независимо от значения *bCalcValidRects,* первый прямоугольник в `rgrc` массиве, `NCCALCSIZE_PARAMS` указанном членом структуры структуры, содержит координаты окна. Для окна ребенка координаты относительно клиентской области родительского окна. Для окон верхнего уровня координаты являются координатами экрана. Приложение должно изменить `rgrc[0]` прямоугольник, чтобы отразить размер и положение клиентской области.

И `rgrc[1]` `rgrc[2]` прямоугольники действительны только в том случае, если *bCalcValidRects* является правдой. В этом случае `rgrc[1]` прямоугольник содержит координаты окна до его перемещения или переобраски. Прямоугольник `rgrc[2]` содержит координаты клиентской области окна перед тем, как окно было перемещено. Все координаты относительно родительского окна или экрана.

Реализация по умолчанию вычисляет размер области клиента на основе характеристик окна (наличие баров прокрутки, меню и т.д.) и помещает результат в *lpncsp.*

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonnccreate"></a><a name="onnccreate"></a>CWnd::OnNcCreate

Платформа вызывает эту функцию [WM_CREATE](#oncreate) участника до `CWnd` WM_CREATE сообщение, когда объект впервые создан.

```
afx_msg BOOL OnNcCreate(LPCREATESTRUCT lpCreateStruct);
```

### <a name="parameters"></a>Параметры

*lpСоздатьСтрукт*<br/>
Указывает на структуру данных `CWnd` [CREATESTRUCT](/windows/win32/api/winuser/ns-winuser-createstructw) для .

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если неклиент области создана. Это 0, если происходит ошибка; `Create` функция вернет **сбой** в этом случае.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncdestroy"></a><a name="onncdestroy"></a>CWnd::OnNcDestroy

Вызывается инфраструктурой при уничтожении области неклиента и является последней функцией участника, называемой при уничтожении окна Windows.

```
afx_msg void OnNcDestroy();
```

### <a name="remarks"></a>Remarks

Реализация по умолчанию выполняет некоторую очистку, а затем вызывает функцию виртуального члена [PostNcDestroy.](#postncdestroy)

Переувистрить, `PostNcDestroy` если вы хотите выполнить свою собственную очистку, например, **удалить эту** операцию. При переопределением `OnNcDestroy`необходимо `OnNcDestroy` вызвать базовый класс, чтобы убедиться, что любая память, внутренне выделенная для окна, будет освобождена.

## <a name="cwndonnchittest"></a><a name="onnchittest"></a>CWnd::OnNcHitTest

Фрейм вызывает эту `CWnd` функцию члена для объекта, `CWnd` содержащего курсор (или объект, который использовал функцию члена [SetCapture](#setcapture) для захвата ввода мыши) каждый раз, когда мышь перемещается.

```
afx_msg LRESULT OnNcHitTest(CPoint point);
```

### <a name="parameters"></a>Параметры

*Точки*<br/>
Содержит x- и y-координаты курсора. Эти координаты всегда являются координатами экрана.

### <a name="return-value"></a>Возвращаемое значение

Один из мыши хит-тест перечисленных значений. Список значений смотрите [WM_NCHITTEST.](/windows/win32/inputdev/wm-nchittest)

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonnclbuttondblclk"></a><a name="onnclbuttondblclk"></a>CWnd::OnNcLButtonDblClk

Рамочная система вызывает эту функцию участника, когда пользователь дважды щелкает левую `CWnd`кнопку мыши, в то время как курсор находится в зоне неклиента.

```
afx_msg void OnNcLButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора. Список значений смотрите [WM_NCHITTEST.](/windows/win32/inputdev/wm-nchittest)

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

При необходимости отправляется [WM_SYSCOMMAND](#onsyscommand) сообщение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonnclbuttondown"></a><a name="onnclbuttondown"></a>CWnd::OnNcLButtonDown

Фрейм вызывает эту функцию участника, когда пользователь нажимает на левую `CWnd` кнопку мыши, пока курсор находится в зоне неклиента объекта.

```
afx_msg void OnNcLButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора. Список значений смотрите [WM_NCHITTEST.](/windows/win32/inputdev/wm-nchittest)

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

При необходимости [WM_SYSCOMMAND](#onsyscommand) отправляется.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные рамкой при получении сообщения. Если вы называете реализацию этой функции базового класса, то в реализации будут использоваться параметры, первоначально пройденое с сообщением, а не параметры, которые вы поставляете функции.

## <a name="cwndonnclbuttonup"></a><a name="onnclbuttonup"></a>CWnd::OnNcLButtonUp

Рамочная функция вызывает эту функцию, когда пользователь выпускает левую кнопку мыши, в то время как курсор находится в зоне неклиента.

```
afx_msg void OnNcLButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора. Список значений смотрите [WM_NCHITTEST.](/windows/win32/inputdev/wm-nchittest)

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

При необходимости [WM_SYSCOMMAND](#onsyscommand) отправляется.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncmbuttondblclk"></a><a name="onncmbuttondblclk"></a>CWnd::OnNcMButtonDblClk

Рамочная система вызывает эту функцию участника, когда пользователь дважды щелкает кнопку средней мыши, в то время как курсор находится в зоне неклиента.

```
afx_msg void OnNcMButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора.

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncmbuttondown"></a><a name="onncmbuttondown"></a>CWnd::OnNcMButtonDown

Рамочная функция вызывает эту функцию, когда пользователь нажимает кнопку средней мыши, в то время как курсор находится в зоне неклиента.

```
afx_msg void OnNcMButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора.

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncmbuttonup"></a><a name="onncmbuttonup"></a>CWnd::OnNcMButtonUp

Рамочная функция вызывает эту функцию, когда пользователь выпускает кнопку средней мыши, в то время как курсор находится в зоне неклиента.

```
afx_msg void OnNcMButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора.

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncmousehover"></a><a name="onncmousehover"></a>CWnd::OnNcMouseHover

Рамочная функция вызывает эту функцию участника, когда курсор парит над областью окна неклиента в течение периода времени, указанного в предыдущем вызове [на TrackMouseEvent.](/windows/win32/api/winuser/nf-winuser-trackmouseevent)

```
afx_msg void OnNcMouseHover(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nHitTest*|(в) Значение хит-теста, возвращенное функцией [CWnd::DefWindowProc](#defwindowproc) в результате обработки [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) сообщения.|
|*Точки*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла экрана.|

### <a name="remarks"></a>Remarks

Этот метод получает [WM_NCMOUSEHOVER](/windows/win32/inputdev/wm-ncmousehover) уведомление, которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncmouseleave"></a><a name="onncmouseleave"></a>CWnd::OnNcMouseLeave

Рамочная функция вызывает эту функцию участника, когда курсор покидает область неклиента окна, указанную в предыдущем вызове [TrackMouseEvent.](/windows/win32/api/winuser/nf-winuser-trackmouseevent)

```
afx_msg void OnNcMouseLeave();
```

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_NCMOUSELEAVE,](/windows/win32/inputdev/wm-ncmouseleave) которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncmousemove"></a><a name="onncmousemove"></a>CWnd::OnNcMouseMove

Платформа вызывает эту функцию члена при перемещении курсора в области неклиента.

```
afx_msg void OnNcMouseMove(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора.

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

При необходимости отправляется [WM_SYSCOMMAND](#onsyscommand) сообщение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncpaint"></a><a name="onncpaint"></a>CWnd::OnNcPaint

Платформа называет эту функцию члена, когда область неклиента должна быть окрашена.

```
afx_msg void OnNcPaint();
```

### <a name="remarks"></a>Remarks

Реализация по умолчанию рисует оконную раму.

Приложение может переопределить этот вызов и покрасить свою собственную пользовательскую оконную раму. Область отсечения всегда прямоугольна, даже если форма рамы изменена.

## <a name="cwndonncrbuttondblclk"></a><a name="onncrbuttondblclk"></a>CWnd::OnNcRButtonDblClk

Рамочная система вызывает эту функцию участника, когда пользователь дважды щелкает правой `CWnd`кнопкой мыши, в то время как курсор находится в зоне неклиента.

```
afx_msg void OnNcRButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора.

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncrbuttondown"></a><a name="onncrbuttondown"></a>CWnd::OnNcRButtonDown

Рамочная система вызывает эту функцию участника, когда пользователь нажимает правую кнопку мыши, в то время как курсор находится в зоне неклиента.

```
afx_msg void OnNcRButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора.

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncrbuttonup"></a><a name="onncrbuttonup"></a>CWnd::OnNcRButtonUp

Рамочная система вызывает эту функцию участника, когда пользователь выпускает правую кнопку мыши, в то время как курсор находится в зоне неклиента.

```
afx_msg void OnNcRButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nHitTest*<br/>
Упоняет [код хит-теста.](#onnchittest) Тест попадания — это тест, определяющий местоположение курсора.

*Точки*<br/>
Определяет `CPoint` объект, содержащий координаты экрана x и y в положении курсора. Эти координаты всегда относительно верхнего левого угла экрана.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncrenderingchanged"></a><a name="onncrenderingchanged"></a>CWnd::OnNcRenderingChanged

Рамки называют этого участника, когда политика рендеринга для области неклиента изменилась.

```
afx_msg void OnNcRenderingChanged(BOOL bIsRendering);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*bIsRendering*|(в) TRUE, если рендеринг настольного окна (DWM) включен для области окна, не клиентской; FALSE, если рендеринг отключен.|

### <a name="remarks"></a>Remarks

Этот метод получает [WM_DWMNCRENDERINGCHANGED](/windows/win32/dwm/wm-dwmncrenderingchanged) уведомление, которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncxbuttondblclk"></a><a name="onncxbuttondblclk"></a>CWnd::OnNcXButtonDblClk

Рамочная система вызывает эту функцию участника, когда пользователь дважды щелкает XBUTTON1 или XBUTTON2, пока курсор находится в области неклиента окна.

```
void OnNcXButtonDblClk(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nHitTest*|(в) Значение хит-теста, возвращенное функцией [CWnd::DefWindowProc](#defwindowproc) в результате обработки [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) сообщения.|
|*nКнопка*|(в) Значение XBUTTON1, если первая кнопка Microsoft Intellimouse X имеет двойное нажатие, или XBUTTON2, если вторая кнопка X имеет двойное нажатие.|
|*Точки*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла области клиента.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_XBUTTONDBLCLK,](/windows/win32/inputdev/wm-xbuttondblclk) которое описано в SDK Windows. Это сообщение размещается в окне, содержащем курсор. Если окно захватило мышь, это сообщение не размещено.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncxbuttondown"></a><a name="onncxbuttondown"></a>CWnd::OnNcXButtonDown

Рамочная функция вызывает эту функцию, когда пользователь нажимает на XBUTTON1 или XBUTTON2 мыши, пока курсор находится в области неклиента окна.

```
afx_msg void OnNcXButtonDown(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nHitTest*|(в) Значение хит-теста, возвращенное функцией [CWnd::DefWindowProc](#defwindowproc) в результате обработки [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) сообщения.|
|*nКнопка*|(в) Значение XBUTTON1 при нажатии первой кнопки мыши X или XBUTTON2 при нажатии второй кнопки X.|
|*Точки*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла экрана.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_NCXBUTTONDOWN,](/windows/win32/inputdev/wm-ncxbuttondown) которое описано в SDK Windows. Это сообщение размещается в окне, содержащем курсор. Если окно захватило мышь, это сообщение не размещено.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonncxbuttonup"></a><a name="onncxbuttonup"></a>CWnd::OnNcXButtonUp

Рамочная функция вызывает эту функцию, когда пользователь выпускает XBUTTON1 или XBUTTON2 мыши, в то время как курсор находится в области неклиента окна.

```
afx_msg void OnNcXButtonUp(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nHitTest*|(в) Значение хит-теста, возвращенное функцией [CWnd::DefWindowProc](#defwindowproc) в результате обработки [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) сообщения.|
|*nКнопка*|(в) Значение XBUTTON1, если первая кнопка мыши X выпущена, или XBUTTON2, если вторая кнопка X выпущена.|
|*Точки*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла экрана.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_NCXBUTTONUP,](/windows/win32/inputdev/wm-ncxbuttonup) которое описано в SDK Windows. Это сообщение размещается в окне, содержащем курсор. Если окно захватило мышь, это сообщение не размещено.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonnextmenu"></a><a name="onnextmenu"></a>CWnd::OnNextMenu

Рамочная функция вызывает эту функцию, когда правый или левый ключ стрелки используется для переключения между баром меню и меню системы.

```
afx_msg void OnNextMenu(
    UINT nKey,
    LPMDINEXTMENU lpMdiNextMenu);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nKey*|(в) Битовая комбинация (ИЛИ) флагов, указывающих, какие клавиши модификатора нажаты. Например, MK_CONTROL флаг указывает на нажатие ключа CTRL.<br /><br /> Список флагов можно узнать в подзаголовке "Параметры сообщений" в [входе мыши.](/windows/win32/inputdev/about-mouse-input)|
|*lpMdiNextMenu*|(в) Указатель на структуру [MDINEXTMENU,](/windows/win32/api/winuser/ns-winuser-mdinextmenu) содержащую информацию о меню, которое будет активировано.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_UNINITMENUPOPUP,](/windows/win32/menurc/wm-uninitmenupopup) которое описано в SDK Windows. В ответ на это сообщение приложение `hmenuNext` может настроить члену структуры [MDINEXTMENU](/windows/win32/api/winuser/ns-winuser-mdinextmenu) для уточнения меню для переключения, а `hwndNext` участнику — указать окно для получения сообщений уведомлений меню.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonnotify"></a><a name="onnotify"></a>CWnd::OnNotify

Платформа вызывает эту функцию элемента, чтобы сообщить родительскому окну элемента управления о том, что событие произошло в элементе управления или что элемент управления требует определенной информации.

```
virtual BOOL OnNotify(
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*wParam*<br/>
Определяет элемент управления, который отправляет сообщение, если сообщение от элемента управления. В противном случае, *wParam* 0.

*lParam*<br/>
Указатель на сообщение`NMHDR`об уведомлении () структура, которая содержит код уведомления и дополнительную информацию. Для некоторых сообщений уведомлений этот параметр указывает на большую структуру, которая имеет структуру в `NMHDR` качестве первого члена.

*pResult*<br/>
Указатель на переменную LRESULT, в которой можно хранить код результата при обработке сообщения.

### <a name="return-value"></a>Возвращаемое значение

Приложение возвращает ненулевой, если оно обрабатывает это сообщение; в противном случае 0.

### <a name="remarks"></a>Remarks

`OnNotify`обрабатывает карту сообщений для уведомления управления.

Переизобить эту функцию участника в своем классе производных для обработки WM_NOTIFY сообщения. Переопределение не обрабатывает карту сообщений, `OnNotify` если не будет вызван базовый класс.

Для получения дополнительной информации о сообщении WM_NOTIFY [WM_NOTIFY ON_NOTIFY](../../mfc/tn061-on-notify-and-wm-notify-messages.md)см. Вы также можете быть заинтересованы в смежных темах, описанных в [темах управления](../../mfc/controls-mfc.md), и TN062, [Отражение сообщений для управления Windows](../../mfc/tn062-message-reflection-for-windows-controls.md).

## <a name="cwndonnotifyformat"></a><a name="onnotifyformat"></a>CWnd::OnNotifyFormat

Платформа вызывает эту функцию элемента, чтобы определить, принимает ли текущее окно структуры ANSI или Unicode в WM_NOTIFY сообщение муведомления.

```
afx_msg UINT OnNotifyFormat(
    CWnd* pWnd,
    UINT nCommand);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pWnd*|(в) Указатель на `CWnd` объект, представляющий окно, отправляя [WM_NOTIFY](/windows/win32/controls/wm-notify) сообщение.<br /><br /> Этот параметр является указателем на элемент управления, если параметр *nCommand* находится NF_QUERY, или указателем на родительское окно элемента управления, если *nCommand* NF_REQUERY.|
|*nКоманда*|(в) Значение команды, специализирующееся на WM_NOTIFY сообщении. Вы можете выбрать<br /><br /> - NF_QUERY -<br />     Сообщение представляет собой запрос для определения того, следует ли использовать структуры ANSI или Unicode в WM_NOTIFY сообщений. Это сообщение отправляется из элемента управления в родительское окно во время создания элемента управления и в ответ на NF_REQUERY форму этого сообщения.<br />- NF_REQUERY -<br />     Сообщение — это запрос элемента управления на отправку NF_QUERY формы этого сообщения в родительское окно. Этот запрос отправляется из родительского окна и просит элемент управления выдать родительскому элементу тип структуры для использования в WM_NOTIFY сообщений. Если параметр *nCommand* NF_REQUERY, значение возврата является результатом операции затворства.|

### <a name="return-value"></a>Возвращаемое значение

|Возвращаемое значение|Значение|
|------------------|-------------|
|NFR_ANSI|Структуры ANSI должны использоваться в WM_NOTIFY сообщений, отправляемых элементом управления.|
|NFR_UNICODE|Структуры Unicode должны использоваться в WM_NOTIFY сообщений, отправляемых элементом управления.|
|0|Произошла ошибка.|

### <a name="remarks"></a>Remarks

Этот метод получает [WM_NOTIFYFORMAT](/windows/win32/Controls/wm-notifyformat) уведомление, которое описано в SDK Windows. WM_NOTIFY сообщения отправляются из общего элемента управления в родительское окно и из родительского окна в общий элемент управления.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonpaint"></a><a name="onpaint"></a>CWnd::OnPaint

Платформа вызывает эту функцию участника, когда Windows или приложение запрашивает перекраску части окна приложения.

```
afx_msg void OnPaint();
```

### <a name="remarks"></a>Remarks

Сообщение [WM_PAINT](/windows/win32/gdi/the-wm-paint-message) отправляется при вызове функции участника [UpdateWindow](#updatewindow) или [RedrawWindow.](#redrawwindow)

Окно может получать внутренние сообщения краски `RedrawWindow` в результате вызова функции участника с набором RDW_INTERNALPAINT флага. В этом случае в окне может не быть области обновления. Приложение должно вызвать функцию участника [GetUpdateRect,](#getupdaterect) чтобы определить, есть ли в окне область обновления. При `GetUpdateRect` возврате 0 приложение не должно вызывать функции участников [BeginPaint](#beginpaint) и [EndPaint.](#endpaint)

Приложение несет ответственность за проверку на наличие необходимой внутренней перекраски или обновления, просматривая свои внутренние структуры данных для каждого сообщения `RedrawWindow` WM_PAINT, поскольку WM_PAINT сообщение может быть вызвано как недействительной областью, так и вызовом функции участника с набором RDW_INTERNALPAINT флага.

Внутреннее WM_PAINT сообщение отправляется только один раз Windows. После того, как внутреннее WM_PAINT `UpdateWindow` сообщение отправляется в окно функцией участника, никакие дополнительные сообщения `RedrawWindow` WM_PAINT будут отправлены или размещены до тех пор, пока окно не будет признано недействительным или пока функция участника не будет снова вызвана с набором RDW_INTERNALPAINT флага.

Информацию о рендеринге изображения в приложениях документа/просмотра можно узнать в [CView::OnDraw](../../mfc/reference/cview-class.md#ondraw).

Для получения дополнительной `WM_Paint`информации об использовании, см.

- [Сообщение WM_PAINT](/windows/win32/gdi/the-wm-paint-message)

- [Использование WM_PAINT сообщения](/windows/win32/gdi/using-the-wm-paint-message)

## <a name="cwndonpaintclipboard"></a><a name="onpaintclipboard"></a>CWnd::OnPaintClipboard

Функция `OnPaintClipboard` члена владельца Clipboard называется зрителем Clipboard, когда владелец Clipboard разместил данные на Clipboard в формате CF_OWNERDISPLAY и клиентская зона просмотра Clipboard нуждается в перекрашивании.

```
afx_msg void OnPaintClipboard(
    CWnd* pClipAppWnd,
    HGLOBAL hPaintStruct);
```

### <a name="parameters"></a>Параметры

*pClipAppWnd*<br/>
Определяет указатель на окно приложения буфера обмена. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*hPaintStruct*<br/>
Определяет структуру данных [PAINTSTRUCT](/windows/win32/api/winuser/ns-winuser-paintstruct) , которая определяет, какая часть клиентской области предназначена для рисования.

### <a name="remarks"></a>Remarks

Чтобы определить, нуждается ли в перекраске всей клиентской области или просто части ее, `rcpaint` владелец `PAINTSTRUCT` Clipboard должен сравнить размеры области чертежа, приведенной в составе структуры, с размерами, приведенными в последнем вызове функции участника [OnSizeClipboard.](#onsizeclipboard)

`OnPaintClipboard`следует использовать функцию [GlobalLock](/windows/win32/api/winbase/nf-winbase-globallock) Windows для `PAINTSTRUCT` блокировки памяти, содержащей структуру данных, и разблокировки этой памяти с помощью функции [GlobalUnlock](/windows/win32/api/winbase/nf-winbase-globalunlock) Windows перед ее выходом.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonpalettechanged"></a><a name="onpalettechanged"></a>CWnd::OnPaletteИзменен

Платформа называет эту функцию члена для всех окон верхнего уровня после того, как окно с входного фокуса осознало свою логическую палитру, тем самым изменив системную палитру.

```
afx_msg void OnPaletteChanged(CWnd* pFocusWnd);
```

### <a name="parameters"></a>Параметры

*pFocusWnd*<br/>
Определяет указатель на окно, что привело к изменению всей палитры системы. Указатель может быть временным и не должен храниться.

### <a name="remarks"></a>Remarks

Этот вызов позволяет окно без входного фокуса, который использует цветовую палитру, чтобы реализовать свои логические палитры и обновить свою клиентскую область.

Функция `OnPaletteChanged` участника требуется для всех окон верхнего уровня и перекрытых, включая те, которые изменили палитру системы и вызвали отправку WM_PALETTECHANGED сообщения. Если в окне ребенка используется цветовая палитра, это сообщение должно быть передано ему.

Чтобы избежать бесконечного цикла, окно не должно осознавать свою палитру, если оно не определяет, что *pFocusWnd* не содержит указателя на себя.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonpaletteischanging"></a><a name="onpaletteischanging"></a>CWnd::OnPaletteIsChanging

Платформа называет эту функцию участника для информирования приложений о том, что приложение будет осознавать свою логическую палитру.

```
afx_msg void OnPaletteIsChanging(CWnd* pRealizeWnd);
```

### <a name="parameters"></a>Параметры

*pRealizeWnd*<br/>
Определяет окно, которое вот-вот осуществит свою логическую палитру.

### <a name="remarks"></a>Remarks

Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonparentnotify"></a><a name="onparentnotify"></a>CWnd::OnParentNotify

Функция члена `OnParentNotify` родительского пользователя вызывается инфраструктурой при создании или уничтожении окна ребенка или когда пользователь нажимает кнопку мыши, пока курсор находится над окном ребенка.

```
afx_msg void OnParentNotify(
    UINT message,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Опознавательный случай, для которого уведомляется родитель, и идентификатор окна ребенка. Событие является словом с низким порядком *сообщения.* Если событие WM_CREATE или WM_DESTROY, слово *сообщения* высокого порядка является идентификатором окна ребенка; в противном случае слово высокого порядка не определено. Событие (слово *сообщения*низкого порядка) может быть любым из этих значений:

- WM_CREATE создается окно ребенка.

- WM_DESTROY Детское окно разрушается.

- WM_LBUTTONDOWN Пользователь поместил курсор мыши над окном ребенка и нажал на левую кнопку мыши.

- WM_MBUTTONDOWN Пользователь поместил курсор мыши над окном ребенка и нажал кнопку средней мыши.

- WM_RBUTTONDOWN Пользователь поместил курсор мыши над окном ребенка и нажал правую кнопку мыши.

*lParam*<br/>
Если событие (слово низкого порядка) *сообщения* WM_CREATE или WM_DESTROY, *lParam* определяет ручку окна окна ребенка; в противном случае *lParam* содержит x и y координаты курсора. Координата x находится в слове низкого порядка, а координат y — в слове высокого порядка.

### <a name="remarks"></a>Remarks

При создании окна —нёму `OnParentNotify` система вызывает вызов ы непосредственно перед функцией члена [«Создать»,](#create) которая создает возврат окна. Когда окно ребенка разрушается, `OnParentNotify` система вызывает перед любой обработкой, чтобы уничтожить окно.

`OnParentNotify`требуется для всех окон предка окна ребенка, включая окно верхнего уровня.

Все окна ребенка, за исключением тех, которые имеют [WS_EX_NOPARENTNOTIFY](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) стиль отправить это сообщение на свои родительские окна. По умолчанию детские окна в диалоговом поле имеют WS_EX_NOPARENTNOTIFY стиль, если только окно ребенка не было создано без этого стиля, позвонив в функцию члена [CreateEx.](#createex)

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonpowerbroadcast"></a><a name="onpowerbroadcast"></a>CWnd::OnPowerBroadcast

Платформа вызывает эту функцию участника при возникновении события управления питанием.

```
afx_msg UINT OnPowerBroadcast(
    UINT nPowerEvent,
    UINT nEventData);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nPowerEvent*|(в) Событие управления питанием.|
|*nEventData*|(в) Данные, связанные с событиями.|

### <a name="return-value"></a>Возвращаемое значение

Если событие является запросом, верните TRUE, чтобы удовлетворить запрос, или BROADCAST_QUERY_DENY отклонить запрос.

### <a name="remarks"></a>Remarks

Этот метод получает [WM_POWERBROADCAST](/windows/win32/Power/wm-powerbroadcast) сообщение, которое описано в SDK Windows.

Параметр *nPowerEvent* определяет такие события, как мощность батареи низкая, статус питания изменен, разрешение на приостановку работы запрашивается или отказано, операция возобновляется автоматически после события, система приостанавливает работу, или операция возобновляется после приостановки. Параметр *nEventData* обычно не используется. Для получения дополнительной *wParam* информации см [WM_POWERBROADCAST.](/windows/win32/Power/wm-powerbroadcast) *lParam*

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonquerydragicon"></a><a name="onquerydragicon"></a>CWnd::On-MeryDragIcon

Платформа вызывает эту функцию элемента в минимизированное (иконическое) окно, в которое не имеется значок, определенный для своего класса.

```
afx_msg HCURSOR OnQueryDragIcon();
```

### <a name="return-value"></a>Возвращаемое значение

Значение двойного слова, содержащее курсор или ручку значка в слове с низким заказом. Курсор или значок должны быть совместимы с разрешением драйвера дисплея. Если приложение возвращает NULL, система отображает курсор по умолчанию. Значение возврата по умолчанию является NULL.

### <a name="remarks"></a>Remarks

Система делает этот вызов для получения курсора для отображения, в то время как пользователь перетаскивает сведенное к минимуму окно. Если приложение возвращает ручку значка или курсора, система преобразует ее в черно-белую. Если приложение возвращает ручку, ручка должна определить монохромный курсор или значок, совместимый с разрешением драйвера дисплея. Приложение может вызвать [CWinApp::LoadCursor](../../mfc/reference/cwinapp-class.md#loadcursor) или [CWinApp::LoadIcon](../../mfc/reference/cwinapp-class.md#loadicon) функции члена загрузить курсор или значок из ресурсов в его исполняемый файл и получить эту ручку.

## <a name="cwndonqueryendsession"></a><a name="onqueryendsession"></a>CWnd::On-'SinEndSession

Платформа вызывает эту функцию участника, когда пользователь выбирает окончание сеанса Windows или когда приложение вызывает функцию [ExitWindows](/windows/win32/api/winuser/nf-winuser-exitwindows) Windows.

```
afx_msg BOOL OnQueryEndSession();
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если приложение может быть удобно выключено; в противном случае 0.

### <a name="remarks"></a>Remarks

Если какое-либо приложение возвращает 0, сеанс Windows не будет завершен. Windows прекращает вызов, `OnQueryEndSession` как только одно приложение возвращает 0 и отправляет [WM_ENDSESSION](#onendsession) сообщение с параметром значения FALSE для любого приложения, которое уже вернулось nonzero.

## <a name="cwndonquerynewpalette"></a><a name="onquerynewpalette"></a>CWnd::On'queryNewPalette

Платформа называет эту функцию `CWnd` члена, когда объект собирается получить `CWnd` входного фокуса, давая возможность реализовать свою логическую палитру, когда он получает фокус.

```
afx_msg BOOL OnQueryNewPalette();
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, `CWnd` если реализует свою логическую палитру; в противном случае 0.

## <a name="cwndonqueryopen"></a><a name="onqueryopen"></a>CWnd::On'meryOpen

Фрейм вызывает эту `CWnd` функцию члена, когда объект `CWnd` сведен к минимуму и пользователь просит восстановить его до премизавного размера и положения.

```
afx_msg BOOL OnQueryOpen();
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если значок может быть открыт, или 0, чтобы предотвратить открытие значка.

### <a name="remarks"></a>Remarks

В `OnQueryOpen`то `CWnd` время как в , не должны выполнять какие-либо действия, которые могут привести к активации или изменения фокуса (например, создание диалогового окна).

## <a name="cwndonqueryuistate"></a><a name="onqueryuistate"></a>CWnd::OnuryUIState

Вызывается, чтобы извлечь состояние пользовательского интерфейса окна.

```
afx_msg UINT OnQueryUIState();
```

### <a name="return-value"></a>Возвращаемое значение

Значение возврата является NULL, если видны индикаторы фокусировки и ускорители клавиатуры. В противном случае значение возврата может быть одним или более из следующих значений:

- UISF_HIDEFOCUS индикаторы Фокуса скрыты.

- UISF_HIDEACCEL ускорители клавиатуры скрыты.

- UISF_ACTIVE Windows XP: элемент управления должен быть нарисован в стиле, используемом для активного управления.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения WM_QUERYUISTATE,](/windows/win32/menurc/wm-queryuistate) как описано в SDK Windows.

## <a name="cwndonrawinput"></a><a name="onrawinput"></a>CWnd::OnrawInput

Платформа вызывает эту функцию члена, когда текущее окно получает необработанный вход.

```
afx_msg void OnRawInput(
    UINT nInputCode,
    HRAWINPUT hRawInput);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nInputCode*|(в) Код ввода, указывающий, произошел ли вход ный вход во время нахудяого приложения на переднем плане или нет. В любом случае приложение должно вызвать [CWnd::DefWindowProc,](#defwindowproc) чтобы система смогли выполнить очистку.<br /><br /> Этот параметр может быть одним из следующих значений:<br /><br /> - RIM_INPUT - Вход произошел в то время как приложение было на переднем плане.<br />- RIM_INPUTSINK - Вход произошел, пока приложение не было на переднем плане.|
|*hrawInput*|(в) Обработка к структуре [RAWINPUT,](/windows/win32/api/winuser/ns-winuser-rawinput) которая содержит необработанный вход от устройства.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_INPUT,](/windows/win32/inputdev/wm-appcommand) которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonrbuttondblclk"></a><a name="onrbuttondblclk"></a>CWnd::OnRButtonDblClk

Рамочная система вызывает эту функцию участника, когда пользователь дважды нажимает на правую кнопку мыши.

```
afx_msg void OnRButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON Установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если SHIFT ключ не работает.

*Точки*<br/>
Определяет координаты курсора x и y. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

Только окна, которые имеют CS_DBLCLKS стиль `OnRButtonDblClk` [WNDCLASS](/windows/win32/api/winuser/ns-winuser-wndclassw) может принимать звонки. Это значение по умолчанию для окон в библиотеке класса Microsoft Foundation. Windows `OnRButtonDblClk` звонит, когда пользователь нажимает, выпускает, а затем снова нажимает правую кнопку мыши в пределах срока двойного щелчка системы. Двойное нажатие кнопки правой мыши на самом деле `OnRButtonDblClk` генерирует четыре события: [WM_RBUTTONDOWN](#onrbuttondown) и [WM_RBUTTONUP](#onrbuttonup) сообщения, вызов и еще одно сообщение WM_RBUTTONUP, когда кнопка выпущена.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonrbuttondown"></a><a name="onrbuttondown"></a>CWnd::OnRButtonDown

Рамочная система вызывает эту функцию участника, когда пользователь нажимает правую кнопку мыши.

```
afx_msg void OnRButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON Установить, если средняя кнопка мыши не работает.

- MK_RBUTTON Установить, если правая кнопка мыши не работает.

- MK_SHIFT Установить, если SHIFT ключ не работает.

*Точки*<br/>
Определяет координаты курсора x и y. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonrbuttonup"></a><a name="onrbuttonup"></a>CWnd::OnRButtonUp

Платформа вызывает эту функцию участника, когда пользователь выпускает правую кнопку мыши.

```
afx_msg void OnRButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*nФлаги*<br/>
Указывает, не имеют ли различные виртуальные клавиши. Этот параметр может быть любой комбинацией следующих значений:

- MK_CONTROL Установить, если ключ CTRL не работает.

- MK_LBUTTON Установить, если левая кнопка мыши не работает.

- MK_MBUTTON Установить, если средняя кнопка мыши не работает.

- MK_SHIFT Установить, если SHIFT ключ не работает.

*Точки*<br/>
Определяет координаты курсора x и y. Эти координаты всегда относительно верхнего левого угла окна.

### <a name="remarks"></a>Remarks

Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonregisteredmousewheel"></a><a name="onregisteredmousewheel"></a>CWnd::OnRegisteredMouseWheel

Рамочная система вызывает эту функцию участника, поскольку пользователь вращает колесо мыши и сталкивается с следующей выемкой колеса.

```
afx_msg LRESULT OnRegisteredMouseWheel(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*wParam*<br/>
Горизонтальное положение указателя.

*lParam*<br/>
Вертикальное положение указателя.

### <a name="return-value"></a>Возвращаемое значение

Незначительно в это время. Всегда нуль.

### <a name="remarks"></a>Remarks

Если не `OnRegisteredMouseWheel` переопределить, маршруты сообщения в соответствующее окно (родительское окно с фокусом), и вызывает [обработчик WM_MOUSEWHEEL](/windows/win32/inputdev/wm-mousewheel) для этого окна.

Переопределить эту функцию участника, чтобы обеспечить собственную передачу сообщений или изменить поведение прокрутки руля мыши.

> [!NOTE]
> `OnRegisteredMouseWheel`обрабатывает сообщения для Windows 95/98 и Windows NT 3.51. Для обработки сообщений Windows NT 4.0 используйте [OnMouseWheel.](#onmousewheel)

## <a name="cwndonrenderallformats"></a><a name="onrenderallformats"></a>CWnd::OnRenderAllFormats

Функция `OnRenderAllFormats` члена функции владельца Clipboard вызывается инфраструктурой при уничтожении приложения владельца.

```
afx_msg void OnRenderAllFormats();
```

### <a name="remarks"></a>Remarks

Владелец Clipboard должен передать данные во всех форматах, которые он способен генерировать, и передать ручку данных для каждого формата в Clipboard, позвонив в функцию [SetClipboardData](/windows/win32/api/winuser/nf-winuser-setclipboarddata) Windows. Это гарантирует, что Clipboard содержит достоверные данные, даже если приложение, которое внедренное данные, уничтожено. Приложение должно вызвать функцию члена [OpenClipboard,](#openclipboard) прежде чем вызвать функцию [SetClipboardData](/windows/win32/api/winuser/nf-winuser-setclipboarddata) Windows и позвонить функции [CloseClipboard](/windows/win32/api/winuser/nf-winuser-closeclipboard) Windows.

## <a name="cwndonrenderformat"></a><a name="onrenderformat"></a>CWnd::OnRenderFormat

Функция `OnRenderFormat` члена функции владельца Clipboard вызывается инфраструктурой, когда необходимо визуализировать определенный формат с задержкой рендеринга.

```
afx_msg void OnRenderFormat(UINT nFormat);
```

### <a name="parameters"></a>Параметры

*nФормат*<br/>
Определяет формат Clipboard.

### <a name="remarks"></a>Remarks

Получатель должен визуализировать данные в этом формате и передать их в Clipboard, позвонив в функцию [SetClipboardData](/windows/win32/api/winuser/nf-winuser-setclipboarddata) Windows.

Не звоните `OpenClipboard` функции `CloseClipboard` участника или `OnRenderFormat`функции Windows изнутри.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsessionchange"></a><a name="onsessionchange"></a>CWnd::OnSessionChange

Платформа называет эту функцию участника уведомлением о применении состояния сеанса.

```
afx_msg void OnSessionChange(
    UINT nSessionState,
    UINT nId);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nСеансState*|(в) Код состояния описывает изменение состояния сеанса.|
|*Nid*|(в) Идентификатор сеанса.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_WTSSESSION_CHANGE,](/windows/win32/TermServ/wm-wtssession-change) которое описано в SDK Windows.

Параметр *nSessionState* указывает, что сеанс подключен или отключен от консоли или удаленного терминала, пользователь вошел или выключается, сеанс заблокирован или разблокирован, или сеанс был изменен на статус удаленного управления. Для получения дополнительной *wParam* информации см [WM_WTSSESSION_CHANGE.](/windows/win32/TermServ/wm-wtssession-change)

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsetcursor"></a><a name="onsetcursor"></a>CWnd::OnSetCursor

Фрейм вызывает эту функцию члена, если ввод мыши не `CWnd` захвачен и мышь вызывает движение курсора внутри объекта.

```
afx_msg BOOL OnSetCursor(
    CWnd* pWnd,
    UINT nHitTest,
    UINT message);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
Укажите указатель на окно, содержащее курсор. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*nHitTest*<br/>
Определяет код области [хит-теста.](#onnchittest) Тест попадания определяет местоположение курсора.

*Сообщение*<br/>
Упоняет номер сообщения мыши.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, чтобы остановить дальнейшую обработку, или 0, чтобы продолжить.

### <a name="remarks"></a>Remarks

Реализация по умолчанию вызывает `OnSetCursor` родительское окно перед обработкой. Если родительское окно возвращает TRUE, дальнейшая обработка останавливается. Вызов родительского окна дает родительскому окну контроль над настройками курсора в окне ребенка.

Реализация по умолчанию устанавливает курсор к стрелке, если он не находится в области клиента или в курсоре зарегистрированного класса, если он есть.

Если *nHitTest* является HTERROR и *сообщение* мыши кнопки вниз сообщение, функция `MessageBeep` члена называется.

Параметр *сообщения* 0 `CWnd` при вводе в режим меню.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsetfocus"></a><a name="onsetfocus"></a>CWnd::OnSetFocus

Платформа вызывает эту функцию участника после получения входного фокуса.

```
afx_msg void OnSetFocus(CWnd* pOldWnd);
```

### <a name="parameters"></a>Параметры

*pOldWnd*<br/>
Содержит `CWnd` объект, который теряет вхожей фокус (может быть NULL). Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Remarks

Чтобы отобразить `CWnd` карету, следует вызвать соответствующие функции caret в этой точке.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsettingchange"></a><a name="onsettingchange"></a>CWnd::OnSetting

Платформа требует `OnSettingChange` для всех окон верхнего уровня, когда функция Win32 SystemParametersInfo изменяет общесистемную настройку.

```
afx_msg void OnSettingChange(
    UINT uFlags,
    LPCTSTR lpszSection);
```

### <a name="parameters"></a>Параметры

*uФлаги*<br/>
Когда система отправляет сообщение в результате `SystemParametersInfo` вызова, этот параметр является флагом, указывающим на измененный параметр системы. Список значений можно узнать в [SDK Windows.](/windows/win32/api/winuser/nf-winuser-systemparametersinfow) Когда приложение отправляет сообщение, этот параметр должен быть 0.

*lpszSection*<br/>
Указывает на строку, которая определяет название измененного раздела. (Строка не включает квадратные скобки, которые приконяют название раздела.)

### <a name="remarks"></a>Remarks

Приложение должно отправить сообщение во все окна верхнего уровня, когда оно вносит изменения в параметры системы, и Windows отправит сообщение, если пользователь изменяет настройки через панель управления.

Сообщение ON_WM_SETTINGCHANGE похоже на сообщение ON_WM_WININICHANGE, со следующим отличием:

- Используйте ON_WM_SETTINGCHANGE при запуске Windows NT 4.0 или новее или под Windows 95/98.

- Используйте ON_WININICHANGE при запуске Windows NT 3.51 или старше. Это сообщение устарело.

На карте сообщений должен быть только один из этих макросов. Чтобы написать программу, которая работает как для Windows 95/98, так и для Windows NT 4.0, напишите обработчик для ON_WM_SETTINGCHANGE. В соответствии с Windows NT 3.51, ваш обработчик будет вызываться `OnSettingChange` и *uFlags* и всегда будет равен нулю.

## <a name="cwndonshowwindow"></a><a name="onshowwindow"></a>CWnd::OnShowWindow

Фрейм вызывает эту `CWnd` функцию члена, когда объект вот-вот будет скрыт или показан.

```
afx_msg void OnShowWindow(
    BOOL bShow,
    UINT nStatus);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
Определяет, отображается ли окно. Это правда, если окно отображается; это FALSE, если окно скрыто.

*nСтатус*<br/>
Определяет состояние отображаемого окна. Это 0, если сообщение отправлено `ShowWindow` из-за вызова функции участника; в противном случае *nStatus* является одним из следующих:

- SW_PARENTCLOSING родительское окно закрывается (делается знаковым) или всплывающее окно скрыто.

- SW_PARENTOPENING родительское окно открывается (отображается) или отображается всплывающее окно.

### <a name="remarks"></a>Remarks

Окно скрыто или отображается `ShowWindow` при вызове функции элемента, при максимизации или восстановлении перекрытого окна или при закрытии (сделанном иконообразном) или открытом (отображаемом на экране). Когда перекрытое окно закрывается, все всплывающие окна, связанные с этим окном, скрыты.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsize"></a><a name="onsize"></a>CWnd::OnSize

Платформа вызывает эту функцию участника после изменения размера окна.

```
afx_msg void OnSize(
    UINT nType,
    int cx,
    int cy);
```

### <a name="parameters"></a>Параметры

*nType*<br/>
Определяет тип запрошенного размера. Этот параметр может быть одним из следующих значений:

- SIZE_MAXIMIZED окно было максимально.

- SIZE_MINIMIZED окно было сведено к минимуму.

- SIZE_RESTORED окно было переопределено, но ни SIZE_MINIMIZED, ни SIZE_MAXIMIZED не применяется.

- SIZE_MAXHIDE сообщение отправляется во все всплывающие окна, когда некоторые другие окна максимизации.

- SIZE_MAXSHOW сообщение отправляется во все всплывающие окна, когда другое окно было восстановлено до прежнего размера.

*Cx*<br/>
Определяет новую ширину клиентской области.

*Cy*<br/>
Определяет новую высоту клиентской зоны.

### <a name="remarks"></a>Remarks

Если функция [члена SetScrollPos](#setscrollpos) или [MoveWindow](#movewindow) вызывается `OnSize`для `bRedraw` окна `SetScrollPos` `MoveWindow` ребенка из, параметр или должен быть незеролевым, чтобы вызвать `CWnd` перекраску.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#109](../../mfc/reference/codesnippet/cpp/cwnd-class_50.cpp)]

## <a name="cwndonsizeclipboard"></a><a name="onsizeclipboard"></a>CWnd::OnSizeClipboard

Функция `OnSizeClipboard` члена владельца Clipboard вызывается зрителем Clipboard, когда Clipboard `CF_OWNERDISPLAY` содержит данные с атрибутом и размером клиентской области окна Clipboard-viewer.

```
afx_msg void OnSizeClipboard(
    CWnd* pClipAppWnd,
    HGLOBAL hRect);
```

### <a name="parameters"></a>Параметры

*pClipAppWnd*<br/>
Идентифицирует окно приложения Clipboard. Указатель может быть временным и не должен храниться.

*hRect*<br/>
Идентифицирует глобальный объект памяти. Объект памяти содержит структуру данных RECT, которая определяет область для рисования владельца Clipboard.

### <a name="remarks"></a>Remarks

Функция `OnSizeClipboard` члена вызывается с нулевой прямоугольником (0,0,0,0, 0) в качестве нового размера, когда приложение Clipboard вот-вот будет уничтожено или сведено к минимуму. Это позволяет владельцу Clipboard освободить ресурсы отображения.

Внутри `OnSizeClipboard`приложения необходимо использовать функцию [GlobalLock](/windows/win32/api/winbase/nf-winbase-globallock) Windows для блокировки памяти, содержащей структуру данных RECT. Разблокируйте эту память с помощью функции [GlobalUnlock](/windows/win32/api/winbase/nf-winbase-globalunlock) Windows до того, как она даст или вернет управление.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsizing"></a><a name="onsizing"></a>CWnd::OnSizing

Платформа вызывает эту функцию участника, чтобы указать, что пользователь изменяет размер прямоугольника.

```
afx_msg void OnSizing(
    UINT nSide,
    LPRECT lpRect);
```

### <a name="parameters"></a>Параметры

*nSide*<br/>
Край окна, который будет перемещен.

*lpRect*<br/>
Адрес структуры [CRect](../../atl-mfc-shared/reference/crect-class.md) или [RECT,](/windows/win32/api/windef/ns-windef-rect) которая будет содержать координаты товара.

### <a name="remarks"></a>Remarks

Обработав это сообщение, приложение может контролировать размер и положение драг-прямоугольника и, при необходимости, изменять его размер или положение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#110](../../mfc/reference/codesnippet/cpp/cwnd-class_51.cpp)]

## <a name="cwndonspoolerstatus"></a><a name="onspoolerstatus"></a>CWnd::OnSpoolerStatus

Платформа вызывает эту функцию участника от менеджера печати всякий раз, когда задание добавляется или удаляется из очереди менеджера печати.

```
afx_msg void OnSpoolerStatus(
    UINT nStatus,
    UINT nJobs);
```

### <a name="parameters"></a>Параметры

*nСтатус*<br/>
Определяет SP_JOBSTATUS флаг.

*nДжобс*<br/>
Определяет количество заданий, остающихся в очереди менеджера печати.

### <a name="remarks"></a>Remarks

Этот вызов предназначен только для информационных целей.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonstylechanged"></a><a name="onstylechanged"></a>CWnd::OnStyleChanged

Платформа вызывает эту функцию участника после того, как функция [SetWindowLong](/windows/win32/api/winuser/nf-winuser-setwindowlongw) изменила один или несколько стилей окна.

```
afx_msg void OnStyleChanged(
    int nStyleType,
    LPSTYLESTRUCT lpStyleStruct);
```

### <a name="parameters"></a>Параметры

*nStyleType*<br/>
Уточняется, изменились ли расширенные или нерасширенные стили окна. Этот параметр может быть комбинацией следующих значений:

- GWL_EXSTYLE расширенные стили окна изменились.

- GWL_STYLE нерасширенные стили окна изменились.

*lpStyleStruct*<br/>
Указывает на структуру [STYLESTRUCT,](/windows/win32/api/winuser/ns-winuser-stylestruct) содержащую новые стили для окна. Приложение может изучить стили, но оно не может изменить их.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonstylechanging"></a><a name="onstylechanging"></a>CWnd::OnStyleChanging

Платформа вызывает эту функцию участника, когда функция [SetWindowLong](/windows/win32/api/winuser/nf-winuser-setwindowlongw) собирается изменить один или несколько стилей окна.

```
afx_msg void OnStyleChanging(
    int nStyleType,
    LPSTYLESTRUCT lpStyleStruct);
```

### <a name="parameters"></a>Параметры

*nStyleType*<br/>
Уточняется, изменились ли расширенные или нерасширенные стили окна. Этот параметр может быть комбинацией следующих значений:

- GWL_EXSTYLE расширенные стили окна изменились.

- GWL_STYLE нерасширенные стили окна изменились.

*lpStyleStruct*<br/>
Указывает на структуру [STYLESTRUCT,](/windows/win32/api/winuser/ns-winuser-stylestruct) содержащую новые стили для окна. Приложение может изучить стили и изменить их.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsyschar"></a><a name="onsyschar"></a>CWnd::OnSysChar

Платформа вызывает эту функцию члена, если `CWnd` у него есть входного фокуса и [WM_SYSKEYUP](#onsyskeyup) и [WM_SYSKEYDOWN](#onsyskeydown) сообщения переведены.

```
afx_msg void OnSysChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Упоняет ключевой код ASCII-символа ключа Control-menu.

*nRepCnt*<br/>
Уфиксирует количество повторов (количество раз, когда нажатие клавиши повторяется в результате удержания пользователя ключом).

*nФлаги*<br/>
Параметр *nFlags* может иметь следующие значения:

|Значение|Значение|
|-----------|-------------|
|0-15|Определяет количество повторных повторов. Значение — это количество повторений нажатия клавиши в результате удержания пользователя ключом.|
|16—23|Определяет код сканирования. Значение зависит от производителя оригинального оборудования (OEM)|
|24|Уточняется, является ли ключ расширенным ключом, таким как клавиши ALT и CTRL, которые отображаются на улучшенной клавиатуре 101 или 102-ключей. Значение 1, если это расширенный ключ; в противном случае, это 0.|
|25-28|Используется внутренне Windows.|
|29|Определяет код контекста. Значение 1, если ключ ALT удерживается при нажатии клавиши; в противном случае значение составляет 0.|
|30|Определяет предыдущее ключевое состояние. Значение 1, если ключ не работает до отправки сообщения, или 0, если ключ вверх.|
|31|Определяет состояние перехода. Значение 1, если ключ освобождается, или 0, если ключ нажат.|

### <a name="remarks"></a>Remarks

Он определяет виртуальный код ключа ключа Control-menu. (Список стандартных виртуальных кодов ключей см. Winuser.h)

Когда код контекста равен 0, WM_SYSCHAR можете передать [WM_SYSCHAR](/windows/win32/menurc/wm-syschar) сообщение функции [TranslateAccelerator](/windows/win32/api/winuser/nf-winuser-translateacceleratorw) Windows, которая будет обрабатывать его, как если бы это было нормальное ключевое сообщение вместо системного ключа символов. Это позволяет использовать клавиши ускорителя с активным окном, даже если активное окно не имеет вхонного фокуса.

Для клавиатур IBM Enhanced 101- и 102-ключ, расширенные клавиши являются правильными клавишами ALT и правыми клавишами CTRL на основной части клавиатуры; INS, DEL, HOME, END, PAGE UP, PAGE DOWN и клавиши со стрелками в кластерах слева от цифровой клавиатуры; и клавиши слэйс (/) и ENTER в числовой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *nFlags*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsyscolorchange"></a><a name="onsyscolorchange"></a>CWnd::OnSysColorChange

Платформа вызывает эту функцию участника для всех окон верхнего уровня при изменении настройки цвета системы.

```
afx_msg void OnSysColorChange();
```

### <a name="remarks"></a>Remarks

Windows `OnSysColorChange` требует любого окна, которое зависит от изменения цвета системы.

Приложения с кистами, которые используют существующие цвета системы, должны удалять эти кисти и воссоздать их новыми цветами системы.

## <a name="cwndonsyscommand"></a><a name="onsyscommand"></a>CWnd::OnSysCommand

Платформа вызывает эту функцию участника, когда пользователь выбирает команду из меню Управления, или когда пользователь выбирает кнопку «Максимизировать» или «Минимизацию».

```
afx_msg void OnSysCommand(
    UINT nID,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Определяет тип запрашиваемых команд систем. Этот параметр может быть любым из следующих значений:

- SC_CLOSE Закройте `CWnd` объект.

- SC_HOTKEY активировать объект, `CWnd` связанный с указанным приложением горячим ключом. Низкое слово *lParam* определяет HWND окна для активации.

- SC_HSCROLL Прокрутки горизонтально.

- SC_KEYMENU извлекаем меню через нажатие клавиши.

- SC_MAXIMIZE (или SC_ZOOM) `CWnd` Увеличьте объект.

- SC_MINIMIZE (или SC_ICON) `CWnd` минимизировать объект.

- SC_MOUSEMENU получить меню с помощью щелчка мыши.

- SC_MOVE Переместить `CWnd` объект.

- SC_NEXTWINDOW Перейдите к следующему окну.

- SC_PREVWINDOW Перемещение в предыдущее окно.

- SC_RESTORE Восстановить окно в нормальное положение и размер.

- SC_SCREENSAVE выполняет приложение для сохранения экрана, указанное в разделе SYSTEM. Файл INI.

- SC_SIZE Размер `CWnd` объекта.

- SC_TASKLIST выполнить или активировать приложение «Менеджер задач Windows».

- SC_VSCROLL Прокрутите вертикально.

*lParam*<br/>
Если команда Control-menu выбрана с помощью мыши, *lParam* содержит координаты курсора. Слово низкого порядка содержит координат x, а слово высокого порядка содержит координаты y. В противном случае этот параметр не используется.

- SC_HOTKEY Активировать окно, связанное с указанным приложением горячим ключом. Низкое слово *lParam* идентифицирует окно для активации.

- SC_SCREENSAVE Выполнить приложение для сохранения экрана, указанное в разделе Рабочего стола панели управления.

### <a name="remarks"></a>Remarks

По умолчанию выполняет запрос «Контрольно-меню» для предопределенных действий, `OnSysCommand` указанных в предыдущей таблице.

В WM_SYSCOMMAND сообщений четыре бита *nID* низкого порядка используются Windows внутри Windows. Когда приложение проверяет значение *nID,* оно должно объединить значение 0xFFF0 с значением *nID,* используя bitwise-And оператора для получения правильного результата.

Элементы меню в меню Управления могут `GetSystemMenu`быть `AppendMenu` `InsertMenu`изменены `ModifyMenu` с функциями, и член. Приложения, изменяющие меню управления, должны обрабатывать WM_SYSCOMMAND сообщений, а любые `OnSysCommand`WM_SYSCOMMAND сообщения, не обрабатываемые приложением, должны передаваться. Любые значения команд, добавленные приложением, должны быть `OnSysCommand`обработаны приложением и не могут быть переданы.

Приложение может выполнять любую системную команду в любое `OnSysCommand`время, передавая WM_SYSCOMMAND сообщение.

Нажатия клавиш accelerator (shortcut), которые определяются для выбора `OnSysCommand` элементов из меню Control, переводятся в вызовы; все другие нажатия клавиш акселератора переведены на [WM_COMMAND](#oncommand) сообщения.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsysdeadchar"></a><a name="onsysdeadchar"></a>CWnd::OnSysDeadChar

Платформа вызывает эту функцию `CWnd` элемента, если объект имеет фокус ввода при вызове функции участника [OnSysKeyUp](#onsyskeyup) или [OnSysKeyDown.](#onsyskeydown)

```
afx_msg void OnSysDeadChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Определяет значение символа «мертвый ключ».

*nRepCnt*<br/>
Определяет количество повторных повторов.

*nФлаги*<br/>
Осваивай код сканирования, код перехода ключей, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Значение|
|-----------|-------------|
|0-7|Код сканирования (OEM-зависимое значение). Низкий байт слова высокого порядка.|
|8|Расширенный ключ, например, функциональный ключ или ключ на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутренне Windows.|
|13|Контекстный код (1, если ключ ALT удерживается при нажатии клавиши; в противном случае 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до вызова, 0, если ключ вверх).|
|15|Состояние перехода (1, если ключ освобождается, 0, если ключ нажат).|

### <a name="remarks"></a>Remarks

Он определяет значение характера мертвого ключа.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsyskeydown"></a><a name="onsyskeydown"></a>CWnd::OnSysKeyDown

Если `CWnd` объект имеет фокус ввода, функция `OnSysKeyDown` элемента вызывается фреймворком, когда пользователь удерживает ключ ALT, а затем нажимает другой ключ.

```
afx_msg void OnSysKeyDown(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Определяет виртуальный код ключа нажатия ключа. Список стандартных виртуальных кодов ключей можно узнать на примере Winuser.h

*nRepCnt*<br/>
Определяет количество повторных повторов.

*nФлаги*<br/>
Осваивай код сканирования, код перехода ключей, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Значение|
|-----------|-------------|
|0-7|Код сканирования (OEM-зависимое значение). Низкий байт слова высокого порядка.|
|8|Расширенный ключ, например, функциональный ключ или ключ на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутренне Windows.|
|13|Контекстный код (1, если ключ ALT удерживается при нажатии ключа, 0 в противном случае).|
|14|Предыдущее состояние ключа (1, если ключ не работает до отправки сообщения, 0, если ключ вверх).|
|15|Состояние перехода (1, если ключ освобождается, 0, если ключ нажат).|

Для `OnSysKeyDown` вызовов бит ключа-перехода (бит 15) расписан 0. Бит контекст-кода (бит 13) составляет 1, если ключ ALT не работает во время нажатия ключа; 0, если сообщение отправлено в активное окно, потому что ни одно окно не имеет фокуса ввода.

### <a name="remarks"></a>Remarks

Если в настоящее время нет окна вфокусатива, вызывается функция `OnSysKeyDown` участника активного окна. Объект, `CWnd` получивший сообщение, может различать эти два `nFlags`контекста, проверяя код контекста в .

Когда код контекста равен 0, `OnSysKeyDown` полученное WM_SYSKEYDOWN сообщение может быть передано функции [TranslateAccelerator](/windows/win32/api/winuser/nf-winuser-translateacceleratorw) Windows, которая будет обрабатывать его, как если бы это было нормальное ключевое сообщение вместо сообщения системы ключ. Это позволяет использовать клавиши ускорителя с активным окном, даже если активное окно не имеет вхонного фокуса.

Из-за автоматического повторения `OnSysKeyDown` до получения [сообщения WM_SYSKEYUP](#onsyskeyup) может произойти несколько вызовов. Предыдущее состояние ключа (бит 14) может `OnSysKeyDown` быть использовано для определения того, указывает ли вызов на первый переход вниз или повторный переход вниз.

Для клавиатур IBM Enhanced 101- и 102-ключ, расширенные клавиши являются правильными клавишами ALT и правыми клавишами CTRL на основной части клавиатуры; INS, DEL, HOME, END, PAGE UP, PAGE DOWN и клавиши со стрелками в кластерах слева от цифровой клавиатуры; и клавиши слэйс (/) и ENTER в числовой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *nFlags*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonsyskeyup"></a><a name="onsyskeyup"></a>CWnd::OnSysKeyUp

Если `CWnd` объект имеет фокус, `OnSysKeyUp` функция элемента вызывается инфраструктурой, когда пользователь выпускает ключ, который был нажат во время удерживаемого ключа ALT.

```
afx_msg void OnSysKeyUp(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
Определяет виртуальный код ключа нажатия ключа. Список стандартных виртуальных кодов ключей можно узнать на примере Winuser.h

*nRepCnt*<br/>
Определяет количество повторных повторов.

*nФлаги*<br/>
Осваивай код сканирования, код перехода ключей, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Значение|
|-----------|-------------|
|0-7|Код сканирования (OEM-зависимое значение). Низкий байт слова высокого порядка.|
|8|Расширенный ключ, например, функциональный ключ или ключ на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутренне Windows.|
|13|Контекстный код (1, если ключ ALT удерживается при нажатии ключа, 0 в противном случае).|
|14|Предыдущее состояние ключа (1, если ключ не работает до отправки сообщения, 0, если ключ вверх).|
|15|Состояние перехода (1, если ключ освобождается, 0, если ключ нажат).|

Для `OnSysKeyUp` вызовов бит ключа-перехода (бит 15) расписан 1. Бит контекст-кода (бит 13) составляет 1, если ключ ALT не работает во время нажатия ключа; 0, если сообщение отправлено в активное окно, потому что ни одно окно не имеет фокуса ввода.

### <a name="remarks"></a>Remarks

Если в настоящее время нет окна вфокусатива, вызывается функция `OnSysKeyUp` участника активного окна. Объект, `CWnd` получивший вызов, может различать эти два контекста, проверяя код контекста в *nFlags*.

Когда код контекста равен 0, `OnSysKeyUp` полученное WM_SYSKEYUP сообщение может быть передано функции [TranslateAccelerator](/windows/win32/api/winuser/nf-winuser-translateacceleratorw) Windows, которая будет обрабатывать его, как если бы это было нормальное ключевое сообщение вместо сообщения системы ключа. Это позволяет использовать клавиши ускорителя (короткий отрезок) с активным окном, даже если активное окно не имеет входним фокуса.

Для клавиатур IBM Enhanced 101- и 102-ключ, расширенные клавиши являются правильными клавишами ALT и правыми клавишами CTRL на основной части клавиатуры; INS, DEL, HOME, END, PAGE UP, PAGE DOWN и клавиши со стрелками в кластерах слева от цифровой клавиатуры; и клавиши слэйс (/) и ENTER в числовой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *nFlags*.

Для клавиатур, не относясь к 102 ключам, правый ключ ALT обрабатывается как комбинация клавиш CTRL-ALT. Ниже показана последовательность сообщений и вызовов, которые приводят к тому, что пользователь нажимает и выпускает этот ключ:

|Последовательность|Доступ к функциям|Передаваемые сообщения|
|--------------|-----------------------|--------------------|
|1.|[WM_KEYDOWN](#onkeydown)|VK_CONTROL|
|2.|[WM_KEYDOWN](#onkeydown)|VK_MENU|
|3.|[WM_KEYUP](#onkeyup)|VK_CONTROL|
|4.|[WM_SYSKEYUP](/windows/win32/inputdev/wm-syskeyup)|VK_MENU|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndontcard"></a><a name="ontcard"></a>CWnd::OnTCard

Платформа вызывает эту функцию участника, когда пользователь нажимает на авторскую кнопку.

```
afx_msg void OnTCard(
    UINT idAction,
    DWORD dwActionData);
```

### <a name="parameters"></a>Параметры

*idAction*<br/>
Указывает действие, предпринятое пользователем. Этот параметр может быть одним из этих значений:

- IDABORT Пользователь нажал авторскую кнопку Прерывания.

- IDCANCEL Пользователь нажал авторируемую кнопку Отмена.

- IDCLOSE Пользователь закрыл учебную карту.

- IDHELP Пользователь нажал на авторскую кнопку помощи Windows.

- IDIGNORE Пользователь нажал авторируемую кнопку Игнорировать.

- IDOK Пользователь нажал авторскую кнопку OK.

- IDNO Пользователь нажал авторируемую кнопку No.

- IDRETRY Пользователь нажал авторскую кнопку Retry.

- HELP_TCARD_DATA Пользователь нажал авторскую кнопку. Параметр *dwActionData* содержит длинный целый ряд, указанный автором справки.

- HELP_TCARD_NEXT Пользователь нажал авторируемую кнопку Next.

- HELP_TCARD_OTHER_CALLER Другая заявка запросила обучающие карты.

- IDYES Пользователь нажал авторскую кнопку Да.

*dwActionData*<br/>
Если *idAction* указывает HELP_TCARD_DATA, этот параметр представляет собой длинный целый ряд, указанный автором справки. В противном случае этот параметр равен нулю.

### <a name="remarks"></a>Remarks

Эта функция вызывается только тогда, когда приложение инициировало обучаемую карту с помощью Windows. Приложение инициирует учебную карту, указывая HELP_TCARD команду в вызове к функции [WinHelp.](../../mfc/reference/cwinapp-class.md#winhelp)

## <a name="cwndontimechange"></a><a name="ontimechange"></a>CWnd::OnTimeChange

Платформа вызывает эту функцию участника после изменения времени системы.

```
afx_msg void OnTimeChange();
```

### <a name="remarks"></a>Remarks

Есть любое приложение, которое изменяет время системы отправить это сообщение на все окна верхнего уровня. Для отправки WM_TIMECHANGE сообщения во все окна верхнего уровня приложение может использовать функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows с *набором параметра hwnd* для HWND_BROADCAST.

## <a name="cwndontimer"></a><a name="ontimer"></a>CWnd::OnTimer

Платформа вызывает эту функцию участника после каждого интервала, указанного в функции члена [SetTimer,](#settimer) используемой для установки таймера.

```
afx_msg void OnTimer(UINT_PTR nIDEvent);
```

### <a name="parameters"></a>Параметры

*nIDEvent*<br/>
Определяет идентификатор таймер.

### <a name="remarks"></a>Remarks

Функция [DispatchMessage](/windows/win32/api/winuser/nf-winuser-dispatchmessage) Windows отправляет [WM_TIMER](/windows/win32/winmsg/wm-timer) сообщение, когда в очереди сообщений приложения нет других сообщений.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

  Смотрите пример в [CWnd::SetTimer](#settimer).

## <a name="cwndontoolhittest"></a><a name="ontoolhittest"></a>CWnd::OnToolHitTest

Платформа вызывает эту функцию члена, чтобы определить, находится ли точка в связующего прямоугольнике указанного инструмента.

```
virtual INT_PTR OnToolHitTest(
    CPoint point,
    TOOLINFO* pTI) const;
```

### <a name="parameters"></a>Параметры

*Точки*<br/>
Определяет x- и y-координаты курсора. Эти координаты всегда относительно верхнего левого угла окна

*Pti*<br/>
Указатель на структуру [TOOLINFO.](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) Следующие значения структуры устанавливаются по умолчанию:

- *hwnd*  =  `m_hWnd` Ручка к окну

- *uId*  =  `(UINT)hWndChild` Ручка к окну ребенка

- *uFlags* &#124;- TTF_IDISHWND ручка инструмента

- *lpszText* - LPSTR_TEXTCALLBACK указатель на строку, которая должна отображаться в указанном окне

### <a name="return-value"></a>Возвращаемое значение

Если элемент управления инструментарием найден, идентификатор управления окном. Если инструментарий не найден, -1.

### <a name="remarks"></a>Remarks

Если точка находится в прямоугольнике, она получает информацию об инструменте.

Если область, с которой связан инструмент, не `OnToolHitTest` является кнопкой, устанавливает флаги структуры на TTF_NOTBUTTON и TTF_CENTERTIP.

Переопределение `OnToolHitTest` для предоставления другой информации, чем предоставляет по умолчанию.

Подробнее о структуре читайте в [см.](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa)

## <a name="cwndontouchinput"></a><a name="ontouchinput"></a>CWnd::OnTouchInput

Обработка одного ввода Windows touch.

```
virtual BOOL OnTouchInput(
    CPoint pt,
    int nInputNumber,
    int nInputsCount,
    PTOUCHINPUT pInput);
```

### <a name="parameters"></a>Параметры

*пт*<br/>
Точка, где экран был тронут (в координатах клиента).

*nInputNumber*<br/>
Количество сенсорного ввода.

*nInputsCount*<br/>
Общее количество сенсорных входов.

*pInput*<br/>
Указатель на структуру TOUCHINPUT.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если приложение обрабатывает сенсорный вход Windows; в противном случае FALSE.

### <a name="remarks"></a>Remarks

## <a name="cwndontouchinputs"></a><a name="ontouchinputs"></a>CWnd::OnTouchInputs

Обрабатывает входные данные с сенсорного Windows.

```
virtual BOOL OnTouchInputs(
    UINT nInputsCount,
    PTOUCHINPUT pInputs);
```

### <a name="parameters"></a>Параметры

*nInputsCount*<br/>
Общее количество сенсорных входов Windows.

*pInputs*<br/>
Массив TOUCHINPUT.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если приложение обрабатывает сенсорные входы Windows; в противном случае FALSE.

### <a name="remarks"></a>Remarks

## <a name="cwndonunichar"></a><a name="onunichar"></a>CWnd::OnUniChar

Платформа вызывает эту функцию члена при нажатии ключа. То есть текущее окно имеет фокус клавиатуры, а [WM_KEYDOWN](/windows/win32/inputdev/wm-keydown) сообщение переводится функцией [TranslateMessage.](/windows/win32/api/winuser/nf-winuser-translatemessage)

```
afx_msg void OnUniChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Nchar*|(в) Определяет код символа отжатого ключа.|
|*nRepCnt*|(в) Упогоняет количество повторных повторов для текущего сообщения. Значение — это количество раз, когда нажатие клавиши автоматически повторяется в результате удержания пользователя ключом. Если нажатие клавиши держится достаточно долго, отправляется несколько сообщений. Тем не менее, количество повторных повторов не является кумулятивным.|
|*nФлаги*|(в) Флаги, определяющие код сканирования, расширенный ключ, контекстный код, предыдущее состояние ключа и состояние перехода, как показано в следующей таблице:<br /><br /> **0-7:** Определяет код сканирования. Значение зависит от производителя оригинального оборудования (OEM).<br /><br /> **8:** Определяет расширенный ключ, такой как правые клавиши ALT и CTRL, которые отображаются на улучшенной клавиатуре 101 или 102 клавиш. Флаг 1, если ключ является расширенным ключом; в противном случае, это 0.<br /><br /> **9-12:**  Используется внутренне Windows.<br /><br /> **13:**  Определяет код контекста. Флаг 1, если ключ ALT удерживается при нажатии клавиши; в противном случае значение составляет 0.<br /><br /> **14:**  Определяет предыдущее ключевое состояние. Флаг 1, если ключ не работает до отправки сообщения, или 0, если ключ поднят.<br /><br /> **15:**  Определяет состояние перехода. Флаг 1, если ключ освобождается, или 0, если ключ нажат.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_UNICHAR,](/windows/win32/inputdev/wm-unichar) которое описано в SDK Windows. [Сообщение WM_UNICHAR](/windows/win32/inputdev/wm-unichar) предназначено для отправки или отправки символов Unicode в окна ANSI. Это эквивалентно [WM_CHAR](/windows/win32/inputdev/wm-char) сообщению, но использует кодирование Unicode Transformation Format (UTF-32), в то время как [WM_CHAR](/windows/win32/inputdev/wm-char) сообщение использует UTF-16.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonuninitmenupopup"></a><a name="onuninitmenupopup"></a>CWnd::OnUnInitMenuPopup

Платформа вызывает эту функцию элемента, когда выпадающее меню или подменю было уничтожено.

```
afx_msg void OnUnInitMenuPopup(
    CMenu* pPopupMenu,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pMenu*|(в) Указатель на объект [CMenu,](../../mfc/reference/cmenu-class.md) представляющий меню или подменю.|
|*nФлаги*|(в) Меню, которое было уничтожено. В настоящее время это может быть только окно меню, MF_SYSMENU.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_UNINITMENUPOPUP,](/windows/win32/menurc/wm-uninitmenupopup) которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonupdateuistate"></a><a name="onupdateuistate"></a>CWnd::OnUpdateUIState

Вызывается, чтобы изменить состояние пользовательского интерфейса указанного окна и всех его дочерних окон.

```
afx_msg void OnUpdateUIState(
    UINT nAction,
    UINT nUIElement);
```

### <a name="parameters"></a>Параметры

*nДействия*<br/>
Указывает действие, подлежащее выполнению. Может использоваться одно из следующих значений:

- UIS_CLEAR элемент состояния uI (указанный *nUIElement)* должен быть скрыт.

- UIS_INITIALIZE элемент состояния uI (указанный *nUIElement)* должен быть изменен в зависимости от последнего события ввода. Для получения дополнительной информации смотрите раздел **Замечания** [WM_UPDATEISTATE](/windows/win32/menurc/wm-updateuistate).

- UIS_SET элемент состояния uI (указанный *nUIElement)* должен быть видимым.

*nUIElement*<br/>
Определяет, какие элементы состояния UI затронуты или стиль управления. Может использоваться одно из следующих значений:

- UISF_HIDEACCEL ускорители клавиатуры.

- UISF_HIDEFOCUS индикаторы Фокуса.

- UISF_ACTIVE Windows XP: элемент управления должен быть нарисован в стиле, используемом для активного управления.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [WM_UPDATEUISTATE](/windows/win32/menurc/wm-updateuistate) сообщения, как описано в SDK Windows.

## <a name="cwndonuserchanged"></a><a name="onuserchanged"></a>CWnd::OnUserChanged

Платформа вызывает этот участник для всех окон после входа или выключения пользователя.

```
afx_msg void OnUserChanged();
```

### <a name="remarks"></a>Remarks

Этот метод получает [WM_USERCHANGED](/windows/win32/winmsg/wm-userchanged) сообщение муведомления, которое описано в SDK Windows. Когда пользователь входит в систему или выключается, операционная система обновляет настройки для пользователей. Система отправляет это сообщение сразу после обновления настроек.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonvkeytoitem"></a><a name="onvkeytoitem"></a>CWnd::OnVKeyToItem

Если `CWnd` объект владеет полем списка со [стилем LBS_WANTKEYBOARDINPUT,](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) поле списка отправит WM_VKEYTOITEM сообщение в ответ на WM_KEYDOWN сообщение.

```
afx_msg int OnVKeyToItem(
    UINT nKey,
    CListBox* pListBox,
    UINT nIndex);
```

### <a name="parameters"></a>Параметры

*nKey*<br/>
Определяет виртуальный код ключа ключа, который пользователь нажал. Список стандартных виртуальных кодов ключей можно узнать на примере Winuser.h

*pListBox*<br/>
Укажите указатель на поле списка. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*Nindex*<br/>
Определяет текущее положение caret.

### <a name="return-value"></a>Возвращаемое значение

Упоняет действие, выполненное приложением в ответ на сообщение. Значение возврата -2 указывает на то, что приложение обработало все аспекты выбора элемента и не требует дальнейших действий в поле списка. Значение возврата -1 указывает на то, что поле списка должно выполнять действие по умолчанию в ответ на нажатие клавиши. Значение возврата 0 или больше указывает на нулевой индекс элемента в поле списка и указывает, что поле списка должно выполнять действие по умолчанию для нажатия клавиши на данном элементе.

### <a name="remarks"></a>Remarks

Эта функция участника вызывается фреймворкой только для коробок списка, которые имеют [LBS_HASSTRINGS](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) стиль.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonvscroll"></a><a name="onvscroll"></a>CWnd::OnVScroll

Платформа вызывает эту функцию участника, когда пользователь щелкает панель вертикального прокрутки окна.

```
afx_msg void OnVScroll(
    UINT nSBCode,
    UINT nPos,
    CScrollBar* pScrollBar);
```

### <a name="parameters"></a>Параметры

*nSBCode*<br/>
Указано код прокрутки-бар, который указывает запрос на прокрутку пользователя. Возможные значения этого параметра:

- SB_BOTTOM Прокрутите вниз.

- SB_ENDSCROLL Свиток Конца.

- SB_LINEDOWN Прокрутите одну строку вниз.

- SB_LINEUP Прокрутите одну линию вверх.

- SB_PAGEDOWN Прокрутите одну страницу вниз.

- SB_PAGEUP Прокрутите одну страницу вверх.

- SB_THUMBPOSITION Прокрутите абсолютное положение. Текущая позиция предоставляется в *nPos*.

- SB_THUMBTRACK Перетащите окно прокрутки в указанное положение. Текущая позиция предоставляется в *nPos*.

- SB_TOP Прокрутите сверху.

*Npos*<br/>
Содержит текущее положение окна прокрутки, если код прокрутки-бар SB_THUMBPOSITION или SB_THUMBTRACK; в противном случае не используется. В зависимости от исходного диапазона прокрутки, *nPos* может быть отрицательным и должны быть отлиты в **Int,** если это необходимо.

*pScrollBar*<br/>
Если сообщение прокрутки пришло из управления прокрутки-панели, содержит указатель на элемент управления. Если пользователь нажал на панель прокрутки окна, этот параметр является NULL. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Remarks

`OnVScroll`обычно используется приложениями, которые дают некоторую обратную связь во время перетаскивания окна прокрутки.

Если `OnVScroll` прокручивается содержимое `CWnd` объекта, он должен также сбросить положение окна прокрутки с функцией члена [SetScrollPos.](#setscrollpos)

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonvscrollclipboard"></a><a name="onvscrollclipboard"></a>CWnd::OnVScrollClipboard

Функция `OnVScrollClipboard` члена владельца Clipboard вызывается зрителем Clipboard, когда данные Clipboard имеют формат CF_OWNERDISPLAY и есть событие в вертикальной панели прокрутки просмотра Clipboard.

```
afx_msg void OnVScrollClipboard(
    CWnd* pClipAppWnd,
    UINT nSBCode,
    UINT nPos);
```

### <a name="parameters"></a>Параметры

*pClipAppWnd*<br/>
Определяет указатель на окно Clipboard-viewer. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*nSBCode*<br/>
Определяет одно из следующих значений прокрутки-бара:

- SB_BOTTOM Прокрутите вниз.

- SB_ENDSCROLL Свиток Конца.

- SB_LINEDOWN Прокрутите одну строку вниз.

- SB_LINEUP Прокрутите одну линию вверх.

- SB_PAGEDOWN Прокрутите одну страницу вниз.

- SB_PAGEUP Прокрутите одну страницу вверх.

- SB_THUMBPOSITION Прокрутите абсолютное положение. Текущая позиция предоставляется в *nPos*.

- SB_TOP Прокрутите сверху.

*Npos*<br/>
Содержит положение окна прокрутки, если код прокрутки-бар SB_THUMBPOSITION; в противном случае *nPos* не используется.

### <a name="remarks"></a>Remarks

Владелец должен прокрутить изображение Clipboard, вывернуть соответствующий раздел и обновить значения прокрутки-панели.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonwindowmaximizedchanged"></a><a name="onwindowmaximizedchanged"></a>CWnd::OnWindowMaximizedChanged

Платформа вызывает этот участник, когда текущее окно максимизируется, а окно состоит из менеджера окна рабочего стола (DWM).

```
afx_msg void OnWindowMaximizedChanged(BOOL bIsMaximized);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*bIsMaximized*|(в) ПРАВДА, если текущее окно максимизируется, и FALSE, если это не так.|

### <a name="remarks"></a>Remarks

Этот метод получает [WM_DWMWINDOWMAXIMIZEDCHANGE](/windows/win32/dwm/wm-dwmwindowmaximizedchange) сообщение муведомления, которое описано в SDK Windows.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonwindowposchanged"></a><a name="onwindowposchanged"></a>CWnd::OnWindowPosChanged

Платформа вызывает эту функцию участника, когда размер, положение или порядок изменяются в результате вызова к функции члена [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) или другой функции управления окнами.

```
afx_msg void OnWindowPosChanged(WINDOWPOS* lpwndpos);
```

### <a name="parameters"></a>Параметры

*lpwndpos*<br/>
Указывает на структуру данных [WINDOWPOS,](/windows/win32/api/winuser/ns-winuser-windowpos) содержащую информацию о новом размере и положении окна.

### <a name="remarks"></a>Remarks

Реализация по умолчанию отправляет [WM_SIZE](/windows/win32/winmsg/wm-size) и [WM_MOVE](/windows/win32/winmsg/wm-move) сообщения в окно. Эти сообщения не отправляются, если `OnWindowPosChanged` приложение обрабатывает вызов без вызова своего базового класса. Более эффективно выполнять любое изменение перемещения или изменения `OnWindowPosChanged` размера во время вызова, не вызывая базовый класс.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonwindowposchanging"></a><a name="onwindowposchanging"></a>CWnd::OnWindowPosChanging

Платформа вызывает эту функцию участника, когда размер, позиция или порядок вот-вот изменятся в результате вызова к функции члена [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) или другой функции управления окнами.

```
afx_msg void OnWindowPosChanging(WINDOWPOS* lpwndpos);
```

### <a name="parameters"></a>Параметры

*lpwndpos*<br/>
Указывает на `WINDOWPOS` структуру данных, содержащую информацию о новом размере и положении окна.

### <a name="remarks"></a>Remarks

Приложение может предотвратить изменения в окне, установив или очистив соответствующие биты в **флагах,** входящего в структуру [WINDOWPOS.](/windows/win32/api/winuser/ns-winuser-windowpos)

Для окна со [стилем WS_OVERLAPPED](styles-used-by-mfc.md#window-styles) или [WS_THICKFRAME](styles-used-by-mfc.md#window-styles) реализация по умолчанию отправляет [WM_GETMINMAXINFO](/windows/win32/winmsg/wm-getminmaxinfo) сообщение в окно. Это делается для проверки нового размера и положения окна и обеспечения соблюдения CS_BYTEALIGNCLIENT и CS_BYTEALIGN стилей клиентов. Приложение может переопределить эту функциональность, не называя свой базовый класс.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonwininichange"></a><a name="onwininichange"></a>CWnd::OnWinIniChange

Платформа вызывает эту функцию участника после того, как было внесено изменение файла инициализации Windows WIN. Ini.

```
afx_msg void OnWinIniChange(LPCTSTR lpszSection);
```

### <a name="parameters"></a>Параметры

*lpszSection*<br/>
Указывает на строку, которая определяет название измененного раздела. (Строка не включает квадратные скобки, которые приконяют название раздела.)

### <a name="remarks"></a>Remarks

Функция [SystemParametersInfo](/windows/win32/api/winuser/nf-winuser-systemparametersinfow) Windows `OnWinIniChange` вызывает после того, как приложение использует функцию для изменения настройки в WIN. Файл INI.

Для отправки WM_WININICHANGE сообщения во все окна верхнего уровня приложение может использовать функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows с набором параметра *hwnd* для HWND_BROADCAST.

Если приложение изменяет множество различных разделов в WIN. INI в то же время, приложение должно отправить одно WM_WININICHANGE сообщение с *lpszSection* набор NULL. В противном случае, приложение должно отправлять WM_WININICHANGE каждый раз, когда он вносит изменения в WIN. Ini.

Если приложение получает `OnWinIniChange` вызов с *lpszSection,* установленным на NULL, приложение должно проверить все разделы в WIN. INI, которые влияют на приложение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonwndmsg"></a><a name="onwndmsg"></a>CWnd::OnWndMsg

Эта функция члена `WindowProc`вызывается или вызывается во время отражения сообщения.

```
virtual BOOL OnWndMsg(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Упоняет сообщение, необходимое для отправки.

*wParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*lParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*pResult*<br/>
Значение возврата [WindowProc](#windowproc). Зависит от сообщения; может быть NULL.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если сообщение было обработано; в противном случае FALSE.

### <a name="remarks"></a>Remarks

`OnWndMsg`определяет тип сообщения и либо вызывает соответствующую функцию фреймворка (например, [OnCommand](#oncommand) для WM_COMMAND), либо находит соответствующее сообщение на карте сообщений.

Для получения дополнительной информации об отражении сообщений [см.](../../mfc/handling-reflected-messages.md)

## <a name="cwndonxbuttondblclk"></a><a name="onxbuttondblclk"></a>CWnd::OnXButtonDblClk

Рамочная система вызывает эту функцию участника, когда пользователь дважды щелкает XBUTTON1 или XBUTTON2, пока курсор находится в клиентской области окна.

```
afx_msg void OnXButtonDblClk(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nФлаги*|(в) Битовая комбинация (ИЛИ) флагов, указывающих, какие клавиши модификатора нажаты. Например, MK_CONTROL флаг указывает на нажатие ключа CTRL.|
|*nКнопка*|(в) Значение XBUTTON1, если первая кнопка Microsoft Intellimouse X имеет двойное нажатие, или XBUTTON2, если вторая кнопка X имеет двойное нажатие.|
|*Точки*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла области клиента.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_XBUTTONDBLCLK,](/windows/win32/inputdev/wm-xbuttondblclk) которое описано в SDK Windows. Если мышь не захвачена, сообщение размещается в окне под курсором. В противном случае сообщение размещается в окне, запечатлевавщее мышь.

Параметр *nFlags* может быть комбинацией клавиш модификатора, перечисленных в следующей таблице. Для получения дополнительной информации [см.](/windows/win32/inputdev/about-mouse-input)

|Ключ модификатора|Описание|
|------------------|-----------------|
|MK_CONTROL|Ключ CTRL нажат.|
|MK_LBUTTON|Нажата левая кнопка мыши.|
|MK_MBUTTON|Нажата средняя кнопка мыши.|
|MK_RBUTTON|Нажата правая кнопка мыши.|
|MK_SHIFT|Клавиша SHIFT нажата.|
|MK_XBUTTON1|Кнопка мыши XBUTTON1 Microsoft IntelliMouse нажата.|
|MK_XBUTTON2|Кнопка мыши XBUTTON2 Microsoft IntelliMouse нажата.|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonxbuttondown"></a><a name="onxbuttondown"></a>CWnd::OnXButtonDown

Рамочная функция вызывает эту функцию, когда пользователь нажимает XBUTTON1 или XBUTTON2, пока курсор находится в клиентской области окна.

```
afx_msg void OnXButtonDown(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nФлаги*|(в) Битовая комбинация (ИЛИ) флагов, указывающих, какие клавиши модификатора нажаты. Например, MK_CONTROL флаг указывает на нажатие ключа CTRL.|
|*nКнопка*|(в) Значение XBUTTON1, если первая кнопка Microsoft Intellimouse X была нажата, или XBUTTON2, если была нажата вторая кнопка X.|
|*Точки*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла области клиента.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_XBUTTONDOWN,](/windows/win32/inputdev/wm-xbuttondown) которое описано в SDK Windows. Если мышь не захвачена, сообщение размещается в окне под курсором. В противном случае сообщение размещается в окне, запечатлевавщее мышь.

Параметр *nFlags* может быть комбинацией клавиш модификатора, перечисленных в следующей таблице. Для получения дополнительной информации [см.](/windows/win32/inputdev/about-mouse-input)

|Ключ модификатора|Описание|
|------------------|-----------------|
|MK_CONTROL|Ключ CTRL нажат.|
|MK_LBUTTON|Нажата левая кнопка мыши.|
|MK_MBUTTON|Нажата средняя кнопка мыши.|
|MK_RBUTTON|Нажата правая кнопка мыши.|
|MK_SHIFT|Клавиша SHIFT нажата.|
|MK_XBUTTON1|Кнопка мыши XBUTTON1 Microsoft IntelliMouse нажата.|
|MK_XBUTTON2|Кнопка мыши XBUTTON2 Microsoft IntelliMouse нажата.|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndonxbuttonup"></a><a name="onxbuttonup"></a>CWnd::OnXButtonUp

Платформа вызывает эту функцию участника, когда пользователь выпускает XBUTTON1 или XBUTTON2, пока курсор находится в клиентской области окна.

```
afx_msg void OnXButtonUp(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nФлаги*|(в) Битовая комбинация (ИЛИ) флагов, указывающих, какие клавиши модификатора нажаты. Например, MK_CONTROL флаг указывает на нажатие ключа CTRL.|
|*nКнопка*|(в) Значение XBUTTON1, если первая кнопка Microsoft Intellimouse X была нажата дважды, или XBUTTON2, если вторая кнопка X была нажата дважды.|
|*Точки*|(в) Объект [CPoint,](../../atl-mfc-shared/reference/cpoint-class.md) который определяет *x* и *y* координаты курсора относительно верхнего левого угла области клиента.|

### <a name="remarks"></a>Remarks

Этот метод получает [уведомление WM_XBUTTONUP,](/windows/win32/inputdev/wm-xbuttonup) которое описано в SDK Windows. Если мышь не захвачена, сообщение размещается в окне под курсором. В противном случае сообщение размещается в окне, запечатлевавщее мышь.

Параметр *nFlags* может быть комбинацией клавиш модификатора, перечисленных в следующей таблице. Для получения дополнительной информации [см.](/windows/win32/inputdev/about-mouse-input)

|Ключ модификатора|Описание|
|------------------|-----------------|
|MK_CONTROL|Ключ CTRL нажат.|
|MK_LBUTTON|Нажата левая кнопка мыши.|
|MK_MBUTTON|Нажата средняя кнопка мыши.|
|MK_RBUTTON|Нажата правая кнопка мыши.|
|MK_SHIFT|Клавиша SHIFT нажата.|
|MK_XBUTTON1|Кнопка мыши XBUTTON1 Microsoft IntelliMouse нажата.|
|MK_XBUTTON2|Кнопка мыши XBUTTON2 Microsoft IntelliMouse нажата.|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

## <a name="cwndopenclipboard"></a><a name="openclipboard"></a>CWnd::OpenClipboard

Открывает буфер обмена.

```
BOOL OpenClipboard();
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если Clipboard `CWnd`открыт через, или 0, если другое приложение или окно имеет Clipboard открытым.

### <a name="remarks"></a>Remarks

Другие приложения не смогут изменять Clipboard до тех пор, пока не будет вызвана функция [CloseClipboard](/windows/win32/api/winuser/nf-winuser-closeclipboard) Windows.

Текущий `CWnd` объект не станет владельцем Clipboard до тех пор, пока не будет вызвана функция [EmptyClipboard](/windows/win32/api/winuser/nf-winuser-emptyclipboard) Windows.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#111](../../mfc/reference/codesnippet/cpp/cwnd-class_52.cpp)]

## <a name="cwndoperator-hwnd"></a><a name="operator_hwnd"></a>CWnd:оператор HWND

Используйте этот оператор, чтобы `CWnd` получить ручку к объекту.

```
operator HWND() const;
```

## <a name="cwndoperator-"></a><a name="operator_neq"></a>CWnd::оператор !

Сравнивает `CWnd` два объекта, чтобы определить, если они не имеют одинаковые [m_hWnd](#m_hwnd).

```
BOOL operator!=(const CWnd& wnd) const;
```

### <a name="parameters"></a>Параметры

*Wnd*<br/>
Ссылка на объект `CWnd`.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если равны; в противном случае 0.

## <a name="cwndoperator-"></a><a name="operator_eq_eq"></a>CWnd::оператор

Сравнивает `CWnd` два объекта, чтобы определить, имеют ли они одинаковую [m_hWnd.](#m_hwnd)

```
BOOL operator==(const CWnd& wnd) const;
```

### <a name="parameters"></a>Параметры

*Wnd*<br/>
Ссылка на объект `CWnd`.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если равны; в противном случае 0.

## <a name="cwndpaintwindowlesscontrols"></a><a name="paintwindowlesscontrols"></a>CWnd::PaintWindowlessControls

Рисует неоконные элементы управления в контейнере элемента управления.

```
BOOL PaintWindowlessControls(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Контекст устройства, на котором можно нарисовать элементы управления без окон.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE, если есть контейнер управления и без окон элементы управления нарисованы успешно, в противном случае FALSE.

## <a name="cwndpostmessage"></a><a name="postmessage"></a>CWnd::PostMessage

Размещает сообщение в очереди сообщений окна, а затем возвращается, не дожидаясь соответствующего окна для обработки сообщения.

```
BOOL PostMessage(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Упомяните сообщение, подавение.

*wParam*<br/>
Определяет дополнительную информацию о сообщениях. Содержание этого параметра зависит от размещения сообщения.

*lParam*<br/>
Определяет дополнительную информацию о сообщениях. Содержание этого параметра зависит от размещения сообщения.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если сообщение размещено; в противном случае 0.

### <a name="remarks"></a>Remarks

Сообщения в очереди сообщений извлекаются с помощью вызовов в функцию [GetMessage](/windows/win32/api/winuser/nf-winuser-getmessage) или [PeekMessage](/windows/win32/api/winuser/nf-winuser-peekmessagew) Windows.

Функция Windows [PostMessage](/windows/win32/api/winuser/nf-winuser-postmessagew) может быть использована для доступа к другому приложению.

### <a name="example"></a>Пример

  Смотрите пример [Для AfxGetMainWnd](../../mfc/reference/application-information-and-management.md#afxgetmainwnd).

## <a name="cwndpostncdestroy"></a><a name="postncdestroy"></a>CWnd::PostNcDestroy

Вызывается по умолчанию функция участника [OnNcDestroy](#onncdestroy) после того, как окно было уничтожено.

```
virtual void PostNcDestroy();
```

### <a name="remarks"></a>Remarks

Полученные классы могут использовать эту функцию для пользовательской очистки, например, удаления **этого** указателя.

## <a name="cwndprecreatewindow"></a><a name="precreatewindow"></a>CWnd::PreCreateWindow

Вызывается фреймворком перед созданием окна `CWnd` Windows, прикрепленного к этому объекту.

```
virtual BOOL PreCreateWindow(CREATESTRUCT& cs);
```

### <a name="parameters"></a>Параметры

*cs*<br/>
Структура [CREATESTRUCT.](/windows/win32/api/winuser/ns-winuser-createstructw)

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если создание окна должно продолжаться; 0, чтобы указать сбой создания.

### <a name="remarks"></a>Remarks

> [!WARNING]
> `CWnd::PreCreateWindow`теперь назначает член hMenu *cs* **к этому** указателю, если меню NULL и стиль содержит WS_CHILD. Для правильной функциональности убедитесь, что ваш элемент управления диалогом имеет идентификатор, который не является NULL.
>
> Это изменение фиксирует сбой в сценариях управляемого/родного интерпа. Заявление TRACE `CWnd::Create` в предупреждении разработчика проблемы.

Никогда не звоните в эту функцию напрямую.

Реализация этой функции по умолчанию проверяет имя класса окна NULL и заменяет соответствующий по умолчанию. Переизместите эту `CREATESTRUCT` функцию члена, чтобы изменить структуру до создания окна.

Каждый класс, `CWnd` полученный из добавляет свою `PreCreateWindow`собственную функциональность к его переопределение . По замыслу, эти `PreCreateWindow` производные не документированы. Чтобы определить стили, подходящие для каждого класса и взаимозависимости между стилями, можно изучить исходный код MFC для базового класса приложения. Если вы решите `PreCreateWindow,` переопределить, вы можете определить, обеспечивают ли стили, используемые в базовом классе приложения, необходимую функциональность, используя информацию, собранную из исходного кода MFC.

Для получения дополнительной информации об изменении стилей окна [см.](../../mfc/changing-the-styles-of-a-window-created-by-mfc.md)

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#112](../../mfc/reference/codesnippet/cpp/cwnd-class_53.cpp)]

## <a name="cwndpresubclasswindow"></a><a name="presubclasswindow"></a>CWnd::PreSubclassWindow

Эта функция члена вызывается инфраструктурой, чтобы другие необходимые подклассы происходили до подкласса окна.

```
virtual void PreSubclassWindow();
```

### <a name="remarks"></a>Remarks

Переопределение этой функции члена позволяет динамическое подклассэлементов элементов управления. Это передовой overridable.

## <a name="cwndpretranslatemessage"></a><a name="pretranslatemessage"></a>CWnd::PreTranslateMessage

Используется классом [CWinApp](../../mfc/reference/cwinapp-class.md) для преобразования сообщений окна перед их передачей функциям Windows [TranslateMessage](/windows/win32/api/winuser/nf-winuser-translatemessage) и [DispatchMessage](/windows/win32/api/winuser/nf-winuser-dispatchmessage) .

```
virtual BOOL PreTranslateMessage(MSG* pMsg);
```

### <a name="parameters"></a>Параметры

*pMsg*<br/>
Указывает на структуру [MSG,](/windows/win32/api/winuser/ns-winuser-msg) содержащую сообщение для обработки.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если сообщение было переведено и не должно быть отправлено; 0, если сообщение не было переведено и должно быть отправлено.

## <a name="cwndprint"></a><a name="print"></a>CWnd::Print

Вызовите эту функцию участника, чтобы нарисовать текущее окно в указанном контексте устройства, которое чаще всего находится в контексте устройства принтера.

```
void Print(
    CDC* pDC,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства.

*dwFlags*<br/>
Определяет параметры рисования. Этот параметр может быть одним или более из этих флагов:

- PRF_CHECKVISIBLE Нарисуйте окно только в том случае, если оно видно.

- PRF_CHILDREN Нарисуйте все видимые окна детей.

- PRF_CLIENT Нарисуйте клиентскую область окна.

- PRF_ERASEBKGND Стереть фон перед рисованием окна.

- PRF_NONCLIENT Нарисуйте неклиентобласти окна.

- PRF_OWNED Нарисуйте все принадлежащие окна.

### <a name="remarks"></a>Remarks

[Функция CWnd::DefWindowProc](#defwindowproc) обрабатывает это сообщение, на основе которого указан вариант рисования:

- Если PRF_CHECKVISIBLE указана и окно не видно, ничего не делайте.

- Если указана PRF_NONCLIENT, нарисуйте область неклиента в данном контексте устройства.

- Если PRF_ERASEBKGND указан, отправьте в окно [WM_ERASEBKGND](/windows/win32/winmsg/wm-erasebkgnd) сообщение.

- Если PRF_CLIENT указан, отправьте в окно [сообщение WM_PRINTCLIENT.](/windows/win32/gdi/wm-printclient)

- Если PRF_CHILDREN установлен, отправьте каждому видимому окну ребенка [WM_PRINT](/windows/win32/gdi/wm-print) сообщение.

- Если PRF_OWNED установлен, отправьте каждому видимому окну WM_PRINT сообщение.

## <a name="cwndprintclient"></a><a name="printclient"></a>CWnd::PrintClient

Вызовите эту функцию участника, чтобы нарисовать любое окно в указанном контексте устройства (обычно контексте устройства принтера).

```
void PrintClient(
    CDC* pDC,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства.

*dwFlags*<br/>
Определяет параметры рисования. Этот параметр может быть одним или более из этих флагов:

- PRF_CHECKVISIBLE Нарисуйте окно только в том случае, если оно видно.

- PRF_CHILDREN Нарисуйте все видимые окна детей.

- PRF_CLIENT Нарисуйте клиентскую область окна.

- PRF_ERASEBKGND Стереть фон перед рисованием окна.

- PRF_NONCLIENT Нарисуйте неклиентобласти окна.

- PRF_OWNED Нарисуйте все принадлежащие окна.

## <a name="cwndprintwindow"></a><a name="printwindow"></a>CWnd::PrintWindow

Копирует визуальное окно в указанный контекст устройства (обычно принтера).

```
BOOL PrintWindow(
    CDC* pDC,
    UINT nFlags) const;
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства, на который следует отпечатывать.

*nФлаги*<br/>
Определяет параметры рисования. Список возможных значений можно узнать на примере [PrintWindow.](/windows/win32/api/winuser/nf-winuser-printwindow)

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [PrintWindow](/windows/win32/api/winuser/nf-winuser-printwindow), как описано в Windows SDK.

## <a name="cwndredrawwindow"></a><a name="redrawwindow"></a>CWnd::RedrawWindow

Обновляет указанный прямоугольник или область в клиентской зоне данного окна.

```
BOOL RedrawWindow(
    LPCRECT lpRectUpdate = NULL,
    CRgn* prgnUpdate = NULL,
    UINT flags = RDW_INVALIDATE | RDW_UPDATENOW | RDW_ERASE);
```

### <a name="parameters"></a>Параметры

*lpRectUpdate*<br/>
Указывает на [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) содержащую координаты прямоугольника обновления. Этот параметр игнорируется, если *prgnUpdate* содержит действительную ручку области.

*prgnUpdate*<br/>
Идентифицирует область обновления. Если *prgnUpdate* и *lpRectUpdate* являются NULL, вся область клиента добавляется в область обновления.

*Флаги*<br/>
Для признания окна недействительными используются следующие флаги:

- RDW_ERASE вызывает WM_ERASEBKGND [сообщение](/windows/win32/winmsg/wm-erasebkgnd) окна при перекрашении окна. Флаг RDW_INVALIDATE также должен быть указан; в противном случае RDW_ERASE не имеет никакого эффекта.

- RDW_FRAME вызывает любую часть области неклиента окна, которая пересекает область обновления для получения [сообщения WM_NCPAINT.](/windows/win32/gdi/wm-ncpaint) Флаг RDW_INVALIDATE также должен быть указан; в противном случае RDW_FRAME не имеет никакого эффекта.

- RDW_INTERNALPAINT вызывает [WM_PAINT](/windows/win32/gdi/wm-paint) сообщение, которое должно быть размещено в окне независимо от того, содержит ли окно недействительную область.

- RDW_INVALIDATE *недействительной lpRectUpdate* или *prgnUpdate* (только один может быть не действительно). Если оба они являются NULL, все окно является недействительным.

Для проверки окна используются следующие флаги:

- RDW_NOERASE подавляет любые ожидающие сообщения WM_ERASEBKGND.

- RDW_NOFRAME подавляет любые ожидающие сообщения WM_NCPAINT. Этот флаг должен использоваться с RDW_VALIDATE и обычно используется с RDW_NOCHILDREN. Этот параметр следует использовать с осторожностью, так как это может предотвратить части окна от покраски должным образом.

- RDW_NOINTERNALPAINT подавляет любые ожидающие внутренние сообщения WM_PAINT. Этот флаг не влияет на WM_PAINT сообщений, полученных из недействительных областей.

- RDW_VALIDATE проверяет *lpRectUpdate* или *prgnUpdate* (только один может быть не null). Если оба они являются NULL, все окно проверяется. Этот флаг не влияет на внутренние сообщения WM_PAINT.

Следующие флаги управления при перекрашивании происходит. Картина не выполняется `RedrawWindow` функцией, если не указан один из этих битов.

- RDW_ERASENOW Вызывает, что пораженные окна (как указано RDW_ALLCHILDREN и RDW_NOCHILDREN флаги) получают WM_NCPAINT и WM_ERASEBKGND сообщения, если это необходимо, до возвращения функции. WM_PAINT сообщения откладываются.

- RDW_UPDATENOW вызывает, что пострадавшие окна (как указано в RDW_ALLCHILDREN и RDW_NOCHILDREN флаги) получают WM_NCPAINT, WM_ERASEBKGND и WM_PAINT сообщения, если это необходимо, до возвращения функции.

По умолчанию окна, `RedrawWindow` затронутые функцией, зависят от того, имеет ли указанное окно WS_CLIPCHILDREN стиль. Детские окна WS_CLIPCHILDREN окон не пострадали. Однако те окна, которые не WS_CLIPCHILDREN окна, рекурсивно проверяются или не выдаются на изыскиваются до тех пор, пока не возникнет WS_CLIPCHILDREN окно. Следующие флаги контролируют, какие `RedrawWindow` окна зависят от функции:

- RDW_ALLCHILDREN включает в себя детские окна, если таковые имеется, в операции перекрашивания.

- RDW_NOCHILDREN исключает детские окна, если таковые имеется, из операции перекрашивания.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если окно было успешно перерисовано; в противном случае 0.

### <a name="remarks"></a>Remarks

Когда `RedrawWindow` функция участника используется для аннулирования части окна рабочего стола, это окно не получает [WM_PAINT](/windows/win32/gdi/wm-paint) сообщения. Для перекраски рабочего стола приложение должно использовать [CWnd::ValidateRgn](#validatergn), [CWnd::InvalidateRgn](#invalidatergn), [CWnd::UpdateWindow](#updatewindow), или [RedrawWindow](/windows/win32/api/winuser/nf-winuser-redrawwindow)

## <a name="cwndreflectchildnotify"></a><a name="reflectchildnotify"></a>CWnd::ReflectChildNotify

Эта функция сообщения вызывается инфраструктурой из [OnChildNotify.](#onchildnotify)

```
BOOL ReflectChildNotify(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Определяет сообщение, необходимое для отражения.

*wParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*lParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*pResult*<br/>
Результат, генерируемый окном ребенка, который возвращается через родительское окно. Может иметь значение NULL.

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если сообщение было отражено; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Это функция помощника, которая отражает *сообщение* к его источнику.

Отраженные сообщения отправляются непосредственно в [CWnd::OnWndMsg](#onwndmsg) или [CCmdTarget::OnCmdMsg](../../mfc/reference/ccmdtarget-class.md#oncmdmsg).

Для получения дополнительной информации об отражении сообщений [см.](../../mfc/handling-reflected-messages.md)

## <a name="cwndreflectlastmsg"></a><a name="reflectlastmsg"></a>CWnd::ReflectLastMsg

Эта функция члена вызывается инфраструктурой для отражения последнего сообщения в окне ребенка.

```
static BOOL PASCAL ReflectLastMsg(
    HWND hWndChild,
    LRESULT* pResult = NULL);
```

### <a name="parameters"></a>Параметры

*hWndChild*<br/>
Ручка к окну ребенка.

*pResult*<br/>
Результат, генерируемый окном ребенка, который возвращается через родительское окно. Может иметь значение NULL.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если сообщение было обработано; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция участника вызывает [SendChildNotifyLastMsG,](#sendchildnotifylastmsg) если окно, идентифицированное *hWndChild,* является элементом управления OLE или окном на постоянной карте.

Для получения дополнительной информации об отражении сообщений [см.](../../mfc/handling-reflected-messages.md)

## <a name="cwndreleasedc"></a><a name="releasedc"></a>CWnd::ReleaseDC

Выпускает контекст устройства, освобождая его для использования другими приложениями.

```
int ReleaseDC(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Определяет контекст устройства, который будет выпущен.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Эффект функции `ReleaseDC` члена зависит от типа устройства-контекста.

Приложение должно вызывать `ReleaseDC` функцию участника для каждого вызова в функцию участника [GetWindowDC](#getwindowdc) и для каждого вызова в функцию члена [GetDC.](#getdc)

## <a name="cwndrepositionbars"></a><a name="repositionbars"></a>CWnd::RepositionBars

Вызывается для перепозиционирования и замены баров управления в клиентской области окна.

```
void RepositionBars(UINT nIDFirst,
    UINT nIDLast,
    UINT nIDLeftOver,
    UINT nFlag = reposDefault,
    LPRECT lpRectParam = NULL,
    LPCRECT lpRectClient = NULL,
    BOOL bStretch = TRUE) ;
```

### <a name="parameters"></a>Параметры

*nIDПервый*<br/>
Идентификатор первого в диапазоне контрольных баров для перепозиционирования и изобреза.

*nIDLast*<br/>
Идентификатор последнего в диапазоне контрольных баров для перепозиционирования и переразмерности.

*nIDLeftOver*<br/>
Упоняет идентификатор панели, заполняя остальную часть клиентской области.

*nФлаг*<br/>
Может иметь одно из следующих значений:

- `CWnd::reposDefault`Выполняет расположение контрольных решеток. *lpRectParam* не используется и может быть NULL.

- `CWnd::reposQuery`Макет контрольных решеток не выполнен; вместо этого *lpRectParam* инициализирован с размером клиентской зоны, как если бы макет был фактически сделан.

- `CWnd::reposExtra`Добавляет значения *lpRectParam* в клиентскую область *nIDLast,* а также выполняет макет.

*lpRectParam*<br/>
Указывает на [структуру RECT;](/windows/win32/api/windef/ns-windef-rect) использование которых зависит от значения *nFlag.*

*lpRectClient*<br/>
Указывает на [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) содержащую доступную клиентскую область. Если NULL, клиентская зона окна будет использоваться.

*bStretch*<br/>
Указывает, следует ли растягивать планку до размера кадра.

### <a name="remarks"></a>Remarks

Параметры *nIDFirst* и *nIDLast* определяют диапазон идентификаторов панели управления, которые будут перемещены в клиентской области. Параметр *nIDLeftOver* определяет идентификатор окна ребенка (обычно вид), который перемещается и переопределяется для заполнения остальной части клиентской области, не заполненной контрольными батончиками.

## <a name="cwndrunmodalloop"></a><a name="runmodalloop"></a>CWnd::RunModalLoop

Вызов эту функцию участника для получения, перевода или отправки сообщений до тех пор, пока [ContinueModal](#continuemodal) не вернет FALSE.

```
int RunModalLoop(DWORD dwFlags = 0);
```

### <a name="parameters"></a>Параметры

*dwFlags*<br/>
Определяет сообщение Windows, подхваено. Может использоваться одно из следующих значений:

- MLF_NOIDLEMSG не отправляйте [WM_ENTERIDLE](/windows/win32/dlgbox/wm-enteridle) сообщения родителю.

- MLF_NOKICKIDLE не отправляйте WM_KICKIDLE сообщения в окно.

- MLF_SHOWONIDLE Показать окно, когда очередь сообщений простаивает.

### <a name="return-value"></a>Возвращаемое значение

Определяет значение параметра *nResult,* передаваемого функции члена [EndModalLoop,](#endmodalloop) которая затем используется для прекращения модального цикла.

### <a name="remarks"></a>Remarks

По умолчанию, `ContinueModal` `EndModalLoop` возвращает false после вызывается. Возвращает значение, предоставленное `EndModalLoop`как *nResult.*

## <a name="cwndscreentoclient"></a><a name="screentoclient"></a>CWnd::ScreenToClient

Преобразует экранные координаты указанной точки или прямоугольника в клиентские координаты.

```
void ScreenToClient(LPPOINT lpPoint) const;  void ScreenToClient(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpPoint*<br/>
Указывает на объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) или [структуру POINT,](/windows/win32/api/windef/ns-windef-point) содержащую координаты экрана, которые должны быть преобразованы.

*lpRect*<br/>
Указывает на объект [CRect](../../atl-mfc-shared/reference/crect-class.md) или [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) содержащую координаты экрана, которые должны быть преобразованы.

### <a name="remarks"></a>Remarks

Функция `ScreenToClient` члена заменяет координаты экрана, приведенные в *lpPoint* или *lpRect,* с координатами клиента. Новые координаты относительно верхнего `CWnd` левого угла клиентской области.

### <a name="example"></a>Пример

  Смотрите пример [для CListCtrl::GetItemRect](../../mfc/reference/clistctrl-class.md#getitemrect).

## <a name="cwndscrollwindow"></a><a name="scrollwindow"></a>CWnd::ScrollWindow

Прокрутки содержимого области клиента `CWnd` текущего объекта.

```
void ScrollWindow(
    int xAmount,
    int yAmount,
    LPCRECT lpRect = NULL,
    LPCRECT lpClipRect = NULL);
```

### <a name="parameters"></a>Параметры

*xAmount*<br/>
Определяет количество, в единицах устройства, горизонтальной прокрутки. Этот параметр должен быть отрицательным значением для прокрутки влево.

*yAmount*<br/>
Определяет количество вертикальной прокрутки в единицах устройства. Этот параметр должен быть отрицательным значением для прокрутки вверх.

*lpRect*<br/>
Указывает на объект [CRect](../../atl-mfc-shared/reference/crect-class.md) или [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) которая определяет часть области клиента, подлежащую прокрутке. Если *lpRect* является NULL, вся область клиента прокручивается. Карет перемещается, если прямоугольник курсора пересекает прямоугольник прокрутки.

*lpClipRect*<br/>
Указывает на `CRect` объект `RECT` или структуру, которая определяет прямоугольник отсечения для прокрутки. Прокручиваются только биты внутри этого прямоугольника. Биты за пределами этого прямоугольника не затрагиваются, даже если они находятся в прямоугольнике *lpRect.* Если *lpClipRect* является NULL, отсечение не выполняется на прямоугольнике прокрутки.

### <a name="remarks"></a>Remarks

Если карета находится `CWnd` в прокрутке, автоматически скрывает карету, `ScrollWindow` чтобы предотвратить его стирание, а затем восстанавливает карету после завершения свитка. Положение caret регулировка соответственно.

Область, обнаруженная `ScrollWindow` функцией члена, не перекрашивается, а объединена в область обновления текущего `CWnd` объекта. Приложение в конечном итоге получит [WM_PAINT](/windows/win32/gdi/wm-paint) сообщение, уведомляющее о том, что регион нуждается в перекрашивании. Чтобы перекрасить обнаруженную область одновременно с прокруткой, позвоните в `ScrollWindow`функцию участника [UpdateWindow](#updatewindow) сразу после вызова.

Если *lpRect* является NULL, положение любых детских окон в окне компенсируется суммой, указанной *xAmount* и `CWnd` *yAmount,* а любые недействительные (неокрашенные) области в окне также компенсируются. `ScrollWindow`быстрее, когда *lpRect* является NULL.

Если *lpRect* не является NULL, положение детских окон не `CWnd` изменяется, а недействительные области не компенсируются. Чтобы предотвратить проблемы с *обновлением,* когда `UpdateWindow` lpRect не `CWnd` является `ScrollWindow`NULL, позвоните функции участника для перекраски перед вызовом.

## <a name="cwndscrollwindowex"></a><a name="scrollwindowex"></a>CWnd::ScrollWindowEx

Прокрутки содержимого клиентской области окна.

```
int ScrollWindowEx(
    int dx,
    int dy,
    LPCRECT lpRectScroll,
    LPCRECT lpRectClip,
    CRgn* prgnUpdate,
    LPRECT lpRectUpdate,
    UINT flags);
```

### <a name="parameters"></a>Параметры

*dx*<br/>
Определяет количество, в единицах устройства, горизонтальной прокрутки. Этот параметр должен иметь отрицательное значение для прокрутки влево.

*Dy*<br/>
Определяет количество вертикальной прокрутки в единицах устройства. Этот параметр должен иметь отрицательное значение для прокрутки вверх.

*lpRectScroll*<br/>
Указывает на [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) которая определяет часть области клиента, подлежащую прокрутке. Если этот параметр NULL, вся область клиента прокручивается.

*lpRectClip*<br/>
Указывает на `RECT` структуру, которая определяет прямоугольник отсечения для прокрутки. Эта структура имеет приоритет над прямоугольником, на который указывает *lpRectScroll.* Прокручиваются только биты внутри этого прямоугольника. Биты за пределами этого прямоугольника не затрагиваются, даже если они находятся в прямоугольнике *lpRectScroll.* Если этот параметр NULL, отсечение не выполняется на прямоугольнике прокрутки.

*prgnUpdate*<br/>
Определяет область, измененную для удержания области, недействительной по средством прокрутки. Этот параметр может быть NULL.

*lpRectUpdate*<br/>
Указывает на `RECT` структуру, которая получит границы прямоугольника, недействительную путем прокрутки. Этот параметр может быть NULL.

*Флаги*<br/>
Может иметь одно из следующих значений:

- SW_ERASE При указании с SW_INVALIDATE, стирает вновь недействительную область, отправив [WM_ERASEBKGND](/windows/win32/winmsg/wm-erasebkgnd) сообщение в окно.

- SW_INVALIDATE недействительным регион, определенный *prgnUpdate* после прокрутки.

- SW_SCROLLCHILDREN прокручивает все детские окна, которые пересекают прямоугольник, на который указывает *lpRectScroll* по количеству пикселей, указанных в *dx* и *dy.* Windows отправляет [WM_MOVE](/windows/win32/winmsg/wm-move) сообщение всем окнам ребенка, которые пересекаются *lpRectScroll,* даже если они не двигаются. Карет перекладывается, когда окно ребенка прокручивается, а прямоугольник курсора пересекает прямоугольник прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата: SIMPLEREGION (прямоугольный недействительный регион), COMPLEXREGION (неравноугольная область недействительного; перекрывающиеся прямоугольники) или NULLREGION (без недействительной области), если функция успешна; в противном случае значение возврата является ERROR.

### <a name="remarks"></a>Remarks

Эта функция похожа на функцию [ScrollWindow,](/windows/win32/api/winuser/nf-winuser-scrollwindow) с некоторыми дополнительными функциями.

Если [SW_INVALIDATE](/windows/win32/api/winuser/nf-winuser-scrollwindowex) и [SW_ERASE](/windows/win32/api/winuser/nf-winuser-scrollwindowex) не `ScrollWindowEx` указаны, функция участника не аннулирует область, которая прокручивается. Если один из этих `ScrollWindowEx` флагов установлен, аннулирует эту область. Область не обновляется до тех пор, пока приложение не вызывает функцию участника [UpdateWindow,](/windows/win32/api/winuser/nf-winuser-updatewindow) не вызывает функцию участника [RedrawWindow](/windows/win32/api/winuser/nf-winuser-redrawwindow) (указывая [RDW_UPDATENOW](/windows/win32/api/winuser/nf-winuser-redrawwindow) или [RDW_ERASENOW)](/windows/win32/api/winuser/nf-winuser-redrawwindow)или не извлекает [WM_PAINT](/windows/win32/gdi/wm-paint) сообщение из очереди приложения.

Если окно имеет [WS_CLIPCHILDREN](/windows/win32/api/winuser/nf-winuser-createwindoww) стиль, возвращенные области, указанные *prgnUpdate* и *lpRectUpdate,* представляют собой общую площадь прокрутки окна, которая должна быть обновлена, включая любые области в детских окнах, которые нуждаются в обновлении.

Если [SW_SCROLLCHILDREN](/windows/win32/api/winuser/nf-winuser-scrollwindowex) флаг указан, Windows не будет должным образом обновлять экран, если прокрутка части окна ребенка. Часть прокрутки окна ребенка, которая находится за пределами прямоугольника источника, не будет стерта и не будет перерисована должным образом в новом пункте назначения. Используйте функцию [DeferWindowPos](/windows/win32/api/winuser/nf-winuser-deferwindowpos) Windows для перемещения детских окон, которые не лежат полностью в прямоугольнике *lpRectScroll.* Курсор перемещается, если установлен SW_SCROLLCHILDREN флаг, а прямоугольник карет пересекает прямоугольник прокрутки.

Все входные и выходные координаты (для *lpRectScroll,* *lpRectClip,* *lpRectUpdate*и *prgnUpdate)* должны быть в координатах клиента, независимо от того, есть ли в окне CS_OWNDC или CS_CLASSDC стиль класса. Используйте функции [LPtoDP](/windows/win32/api/wingdi/nf-wingdi-lptodp) и [DPtoLP](/windows/win32/api/wingdi/nf-wingdi-dptolp) Windows для преобразования в логические координаты и из них, если это необходимо.

## <a name="cwndsendchildnotifylastmsg"></a><a name="sendchildnotifylastmsg"></a>CWnd::SendChildNotifyLastMsg

Эта функция члена вызывается инфраструктурой для предоставления сообщения уведомления окну ребенка из родительского окна, чтобы окно ребенка работало с задачей.

```
BOOL SendChildNotifyLastMsg(LRESULT* pResult = NULL);
```

### <a name="parameters"></a>Параметры

*pResult*<br/>
Результат, генерируемый окном ребенка, который возвращается через родительское окно.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если окно ребенка обрабатывает сообщение, отправленное его родителю; в противном случае 0.

### <a name="remarks"></a>Remarks

`SendChildNotifyLastMsg`отправить текущее сообщение источнику, если это отражаемый текст сообщения.

Для получения дополнительной информации об отражении сообщений [см.](../../mfc/handling-reflected-messages.md)

## <a name="cwndsenddlgitemmessage"></a><a name="senddlgitemmessage"></a>CWnd::SendDlgItemMessage

Отправляет сообщение на контроль.

```
LRESULT SendDlgItemMessage(
    int nID,
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Определяет идентификатор управления диалогом, который будет получать сообщение.

*Сообщение*<br/>
Упоняет сообщение, необходимое для отправки.

*wParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*lParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Упоняет значение, возвращенное процедурой окна элемента управления, или 0, если элемент управления не найден.

### <a name="remarks"></a>Remarks

Функция `SendDlgItemMessage` участника не возвращается до тех пор, пока сообщение не будет обработано.

Использование `SendDlgItemMessage` идентично `CWnd`получению q данного элемента управления и вызову функции участника [SendMessage.](#sendmessage)

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#113](../../mfc/reference/codesnippet/cpp/cwnd-class_54.cpp)]

## <a name="cwndsendmessage"></a><a name="sendmessage"></a>CWnd::SendMessage

Отправляет указанное сообщение в это окно.

```
LRESULT SendMessage(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Упоняет сообщение, необходимое для отправки.

*wParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*lParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Результат обработки сообщений; его значение зависит от отправленного сообщения.

### <a name="remarks"></a>Remarks

Функция `SendMessage` участника вызывает процедуру окна напрямую и не возвращается до тех пор, пока эта процедура окна не обработала сообщение. Это в отличие от функции участника [PostMessage,](#postmessage) которая помещает сообщение в очередь сообщения окна и немедленно возвращается.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#101](../../mfc/reference/codesnippet/cpp/cwnd-class_41.cpp)]

## <a name="cwndsendmessagetodescendants"></a><a name="sendmessagetodescendants"></a>CWnd::SendMessageToDescendants

Вызовите эту функцию участника, чтобы отправить указанное сообщение Windows во все окна потомка.

```
void SendMessageToDescendants(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0,
    BOOL bDeep = TRUE,
    BOOL bOnlyPerm = FALSE);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Упоняет сообщение, необходимое для отправки.

*wParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*lParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*bDeep*<br/>
Определяет уровень, на котором можно искать. Если правда, рекурсивно искать всех детей; если FALSE, поиск только непосредственных детей.

*bOnlyPerm*<br/>
Уточняется, будет ли сообщение получено временными окнами. Если true, временные окна могут получить сообщение; если FALSE, только постоянные окна получают сообщение. Для получения дополнительной информации о временных окнах [см.](../../mfc/tn003-mapping-of-windows-handles-to-objects.md)

### <a name="remarks"></a>Remarks

Если *bDeep* является FALSE, сообщение отправляется только ближайшим детям окна; в противном случае сообщение отправляется во все окна потомка.

Если *bDeep* и *bOnlyPerm* являются правдой, поиск продолжается ниже временных окон. В этом случае только постоянные окна, возникающие во время поиска, получают сообщение. Если *bDeep* false, сообщение отправляется только непосредственным детям окна.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#114](../../mfc/reference/codesnippet/cpp/cwnd-class_55.cpp)]

## <a name="cwndsendnotifymessage"></a><a name="sendnotifymessage"></a>CWnd::SendNotifyMessage

Отправляет указанное сообщение в окно.

```
BOOL SendNotifyMessage(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Упоняет сообщение, необходимое для отправки.

*wParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

*lParam*<br/>
Определяет дополнительную информацию, зависящая от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Remarks

Если окно было создано потоком вызова, `SendNotifyMessage` вызовите процедуру окна для окна и не возвращается до тех пор, пока процедура окна не обработала сообщение. Если окно было создано другим `SendNotifyMessage` потоком, передает сообщение в процедуру окна и немедленно возвращается; он не ждет завершения процедуры окна обработки сообщения.

## <a name="cwndsetactivewindow"></a><a name="setactivewindow"></a>CWnd::SetActiveWindow

Делает `CWnd` активное окно.

```
CWnd* SetActiveWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Окно, которое ранее было активным.

Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Функция `SetActiveWindow` члена должна использоваться с осторожностью, так как она позволяет приложению произвольно взять на себя активное окно и входного фокуса. Как правило, Windows заботится о всех активациях.

## <a name="cwndsetcapture"></a><a name="setcapture"></a>CWnd::SetCapture

Вызывает отправку всех последующих ввода `CWnd` мыши на текущий объект независимо от положения курсора.

```
CWnd* SetCapture();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект окна, который ранее получил все ввод мыши. Это NULL, если нет такого окна. Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Когда `CWnd` больше не требуется ввод всех мышей, приложение должно вызвать функцию [ReleaseCapture,](/windows/win32/api/winuser/nf-winuser-releasecapture) чтобы другие окна могли получать ввод мыши.

Во время захвата ввода мыши в активное окно не отправляются WM_NCHITTEST или WM_SETCURSOR сообщения.

## <a name="cwndsetcaretpos"></a><a name="setcaretpos"></a>CWnd::SetCaretPos

Устанавливает положение кареты.

```
static void PASCAL SetCaretPos(POINT point);
```

### <a name="parameters"></a>Параметры

*Точки*<br/>
Определяет новые координаты x и y (в координатах клиента) карета.

### <a name="remarks"></a>Remarks

Функция `SetCaretPos` члена перемещает карету только в том случае, если она принадлежит окну в текущей задаче. `SetCaretPos`перемещает уход ли или нет, что ухаживает за ней.

Caret является общим ресурсом. Окно не должно перемещать карету, если она не владеет каретом.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#115](../../mfc/reference/codesnippet/cpp/cwnd-class_56.cpp)]

## <a name="cwndsetclipboardviewer"></a><a name="setclipboardviewer"></a>CWnd::SetClipboardViewer

Добавляет это окно в цепочку окон, которые уведомляются (с помощью сообщения WM_DRAWCLIPBOARD) при изменении содержимого Clipboard.

```
HWND SetClipboardViewer();
```

### <a name="return-value"></a>Возвращаемое значение

Ручка к следующему окну в цепочке Clipboard-viewer в случае успеха. Приложения должны сохранять эту ручку (она может храниться в качестве переменной члена) и использовать ее при ответе на сообщения цепи Clipboard-viewer.

### <a name="remarks"></a>Remarks

Окно, которое является частью цепочки Clipboard-viewer, должно отвечать на [WM_DRAWCLIPBOARD,](#ondrawclipboard) [WM_CHANGECBCHAIN](#onchangecbchain)и [WM_DESTROY](#ondestroy) сообщения и передавать сообщение следующему окну в цепочке.

Эта функция члена отправляет WM_DRAWCLIPBOARD сообщение в окно. Поскольку ручка к следующему окну в цепочке Clipboard-viewer еще не возвращена, приложение не `SetClipboardViewer`должно передавать WM_DRAWCLIPBOARD сообщение, которое оно получает во время вызова.

Чтобы удалить себя из цепочки Clipboard-viewer, приложение должно вызвать функцию участника [ChangeClipboardChain.](#changeclipboardchain)

## <a name="cwndsetdlgctrlid"></a><a name="setdlgctrlid"></a>CWnd::SetDlgCtrlID

Устанавливает идентификатор окна или идентификатор управления для окна на новое значение.

```
int SetDlgCtrlID(int nID);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Новое значение для установки для идентификатора элемента управления.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий идентификатор окна, в случае успеха; в противном случае 0.

### <a name="remarks"></a>Remarks

Окно может быть любым детским окном, а не только элементом управления в диалоговом окне. Окно не может быть окном верхнего уровня.

## <a name="cwndsetdlgitemint"></a><a name="setdlgitemint"></a>CWnd::SetDlgItemInt

Устанавливает текст заданного элемента управления в диалоговом поле на строковое представление указанного значения рядов.

```
void SetDlgItemInt(
    int nID,
    UINT nValue,
    BOOL bSigned = TRUE);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Упогоняет идентификатор самого элемента управления, который будет изменен.

*nValue*<br/>
Определяет значение несколько, используемое для создания текста элемента.

*bПодписанный*<br/>
Определяет, подписано ли значение рядового значения или не подписано. Если этот параметр является правдой, *nValue* подписан. Если этот параметр является правдой, а *nValue* меньше 0, знак минус помещается перед первой цифрой в строке. Если этот параметр FALSE, *nValue* не подписан.

### <a name="remarks"></a>Remarks

`SetDlgItemInt`отправляет [WM_SETTEXT](/windows/win32/winmsg/wm-settext) сообщение данному элементу управления.

### <a name="example"></a>Пример

  Смотрите пример [для CWnd::SetDlgItemText](#setdlgitemtext).

## <a name="cwndsetdlgitemtext"></a><a name="setdlgitemtext"></a>CWnd::SetDlgItemText

Устанавливает подпись или текст элемента управления, принадлежащего окну или диалоговому окну.

```
void SetDlgItemText(
    int nID,
    LPCTSTR lpszString);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Определяет элемент управления, текст которого должен быть установлен.

*lpszString*<br/>
Указывает на объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) или строку с нулевым завершением, содержащую текст, который должен быть скопирован в элемент управления.

### <a name="remarks"></a>Remarks

`SetDlgItemText`отправляет [WM_SETTEXT](/windows/win32/winmsg/wm-settext) сообщение данному элементу управления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#116](../../mfc/reference/codesnippet/cpp/cwnd-class_57.cpp)]

## <a name="cwndsetforegroundwindow"></a><a name="setforegroundwindow"></a>CWnd::SetForegroundWindow

Помещает создавший окно поток на передний план и активирует окно.

```
BOOL SetForegroundWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Remarks

Ввод клавиатуры направлен на окно, и различные визуальные сигналы изменяются для пользователя. Окно переднего плана — это окно, с которым пользователь в настоящее время работает. Окно переднего плана применяется только к окнам верхнего уровня (окна кадра или диалоговые окна).

### <a name="example"></a>Пример

  Смотрите пример [CWnd::FindWindow](#findwindow).

## <a name="cwndsetfocus"></a><a name="setfocus"></a>CWnd::SetFocus

Утверждает фокус ввода.

```
CWnd* SetFocus();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект окна, который ранее имел фокус ввода. Это NULL, если нет такого окна. Возвращенный указатель может быть временным и не должен храниться.

### <a name="remarks"></a>Remarks

Вхотогий фокус направляет все последующие входные данные клавиатуры к этому окну. Любое окно, которое ранее имело входной фокус, теряет его.

Функция `SetFocus` члена отправляет [WM_KILLFOCUS](/windows/win32/inputdev/wm-killfocus) сообщение в окно, которое теряет фокус ввода и [WM_SETFOCUS](/windows/win32/inputdev/wm-setfocus) сообщение в окно, которое получает входно-входное фокус. Он также активирует окно или его родителей.

Если текущее окно активен, но не имеет фокуса (т.е. ни одно окно не имеет фокуса), любой нажатие клавиши будет производить сообщения [WM_SYSCHAR,](#onsyschar) [WM_SYSKEYDOWN](#onsyskeydown)или [WM_SYSKEYUP.](#onsyskeyup)

## <a name="cwndsetfont"></a><a name="setfont"></a>CWnd::SetFont

Отправляет WM_SETFONT сообщение в окно для использования указанного шрифта.

```
void SetFont(
    CFont* pFont,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*pFont*<br/>
Указатель на `CFont` объект.

*bRedraw*<br/>
TRUE для окна, чтобы перерисовать сразу же после обработки WM_SETFONT сообщение; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Этот метод не имеет никакого эффекта, если окно не обрабатывает WM_SETFONT сообщение. Многие классы MFC, которые вытекают из `CWnd` обработки этого сообщения, потому что они прикреплены к заданному классу окон, который включает обработчик сообщений для WM_SETFONT сообщения. Для использования этого метода классы, полученные из `CWnd` этого метода, должны определить обработчик метода для сообщения WM_SETFONT.

## <a name="cwndseticon"></a><a name="seticon"></a>CWnd::SetIcon

Вызов эту функцию участника, чтобы установить ручку для определенного значка, как это определено *hIcon.*

```
HICON SetIcon(
    HICON hIcon,
    BOOL bBigIcon);
```

### <a name="parameters"></a>Параметры

*hIcon*<br/>
Ручка к предыдущему значку.

*bBigIcon*<br/>
Определяет значок 32 пикселя на 32 пикселя, если это правда; определяет значок 16 пикселей на 16 пикселей, если FALSE.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор для значка.

### <a name="remarks"></a>Remarks

Когда класс окна зарегистрирован, он выбирает значок.

### <a name="example"></a>Пример

  Смотрите пример [CWnd::GetSystemMenu](#getsystemmenu).

## <a name="cwndsetlayeredwindowattributes"></a><a name="setlayeredwindowattributes"></a>CWnd::SetlayeredWindowAttributes

Задает ключ цвета прозрачности многослойного окна.

```
BOOL SetLayeredWindowAttributes(
    COLORREF crKey,
    BYTE bAlpha,
    DWORD dwFlags);
```

### <a name="parameters"></a>Параметры

*crKey*<br/>
Указатель на значение COLORREF, которое определяет цветной ключ прозрачности, который будет использоваться при составлении многослойного окна. Все пиксели, окрашенные окном в этом цвете, будут прозрачными. Для создания COLORREF используйте макрос RGB.

*bAlpha*<br/>
Альфа-значение, используемое для описания непрозрачности многослойного окна. Для получения дополнительной `SourceConstantAlpha` информации [BLENDFUNCTION](/windows/win32/api/wingdi/ns-wingdi-blendfunction) см. Когда *bAlpha* 0, окно полностью прозрачно. Когда *bAlpha* 255, окно непрозрачно.

*dwFlags*<br/>
Определяет действие, необходимое для принятия. Этот параметр может быть одним или более из следующих значений. Список возможных значений можно узнать в [SetLayeredWindowAttributes.](/windows/win32/api/winuser/nf-winuser-setlayeredwindowattributes)

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция-член эмулирует функциональность функции [SetLayeredWindowAttributes,](/windows/win32/api/winuser/nf-winuser-setlayeredwindowattributes)как описано в SDK Windows.

## <a name="cwndsetmenu"></a><a name="setmenu"></a>CWnd::SetMenu

Устанавливает текущее меню в указанное меню.

```
BOOL SetMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

*pMenu*<br/>
Определяет новое меню. Если этот параметр NULL, текущее меню удаляется.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если меню изменено; в противном случае 0.

### <a name="remarks"></a>Remarks

Вызывает перерисовку окна, чтобы отразить изменение меню.

`SetMenu`не уничтожит предыдущее меню. Для выполнения этой задачи приложение должно позвонить в функцию участника [CMenu::DestroyMenu.](../../mfc/reference/cmenu-class.md#destroymenu)

### <a name="example"></a>Пример

  Смотрите пример [для CMenu:LoadMenu](../../mfc/reference/cmenu-class.md#loadmenu).

## <a name="cwndsetowner"></a><a name="setowner"></a>CWnd::SetOwner

Устанавливает владелец текущего окна на указанный объект окна.

```
void SetOwner(CWnd* pOwnerWnd);
```

### <a name="parameters"></a>Параметры

*pOwnerWnd*<br/>
Идентифицирует нового владельца объекта окна. Если этот параметр NULL, объект окна не имеет владельца.

### <a name="remarks"></a>Remarks

Затем этот владелец может получать командные сообщения от текущего объекта окна. По умолчанию родительским текущим окном является его владелец.

Часто полезно установить связи между объектами окна, не связанными с иерархией окон. Например, [CToolBar](../../mfc/reference/ctoolbar-class.md) отправляет уведомления своему владельцу, а не его родителю. Это позволяет панели инструментов стать ребенком одного окна (например, окна приложения контейнера OLE) при отправке уведомлений в другое окно (например, окно кадра на месте). Кроме того, когда окно сервера отключается или активируется во время редактирования на месте, любое окно, принадлежащее окну кадра, скрыто или отображается. Эта собственность явно устанавливается `SetOwner`с вызовом.

Концепция собственности этой функции отличается от концепции собственности [GetWindow.](/windows/win32/api/winuser/nf-winuser-getwindow)

## <a name="cwndsetparent"></a><a name="setparent"></a>CWnd::SetParent

Изменяет родительское окно окна ребенка.

```
CWnd* SetParent(CWnd* pWndNewParent);
```

### <a name="parameters"></a>Параметры

*pWndNewParent*<br/>
Идентифицирует новое родительское окно.

### <a name="return-value"></a>Возвращаемое значение

Указатель на предыдущий объект родительского окна в случае успеха. Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

Если окно ребенка видно, Windows выполняет соответствующую перерисовку и перекраску.

## <a name="cwndsetproperty"></a><a name="setproperty"></a>CWnd::SetProperty

Позвоните в эту функцию участника, чтобы установить свойство управления OLE, указанное *dwDispID.*

```
void AFX_CDECL SetProperty(
    DISPID dwDispID,
    VARTYPE vtProp, ...);
```

### <a name="parameters"></a>Параметры

*dwDispID*<br/>
Определяет свойство, которое необходимо задать.

*vtProp*<br/>
Определяет тип свойства, которое необходимо задать. Возможные значения см. в подразделе "Примечания" раздела [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper).

*...*<br/>
Единый параметр типа, указанный *vtProp*.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Эта функция должна вызываться `CWnd` только на объекте, который представляет элемент управления OLE.

Для получения дополнительной информации об использовании этой функции члена с контейнерами управления OLE, см. [ActiveX Control Containers: Programming ActiveX Controls in an ActiveX Control Container](../../mfc/programming-activex-controls-in-a-activex-control-container.md)

## <a name="cwndsetredraw"></a><a name="setredraw"></a>CWnd::SetRedraw

Приложение требует `SetRedraw` перерисовать изменения или предотвратить перерисовку изменений.

```
void SetRedraw(BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*bRedraw*<br/>
Определяет состояние перерисовки флага. Если этот параметр является правдой, устанавливается флаг перерисовки; если FALSE, флаг очищается.

### <a name="remarks"></a>Remarks

Функция этого члена устанавливает или очищает флаг перерисовки. В то время как флаг перерисовки очищается, содержимое не будет обновляться после каждого изменения и не будет перекраиваться до тех пор, пока флаг перерисовки не будет установлен. Например, приложение, которое должно добавить несколько элементов в поле списка, может очистить флаг перерисовки, добавить элементы, а затем установить флаг перерисовки. Наконец, приложение может вызвать функцию [недействительного](#invalidate) или [недействительного rect,](#invalidaterect) чтобы привести к перекрашению окна списка.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#117](../../mfc/reference/codesnippet/cpp/cwnd-class_58.cpp)]

## <a name="cwndsetscrollinfo"></a><a name="setscrollinfo"></a>CWnd::SetScrollInfo

Вызовите эту функцию участника, чтобы установить информацию, которую `SCROLLINFO` структура поддерживает о панели прокрутки.

```
BOOL SetScrollInfo(
    int nBar,
    LPSCROLLINFO lpScrollInfo,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет, является ли панель прокрутки элементом управления или частью области неклиента окна. Если он является частью области неклиента, nBar также указывает, находится ли панель прокрутки горизонтально, вертикально или и то, и другое. Она должна быть одной из следующих:

- SB_CTL содержит параметры для управления панелью прокрутки. Член `m_hWnd` данных должен быть ручкой управления панелью прокрутки.

- SB_HORZ указывает, что окно представляет собой горизонтальную панель прокрутки.

- SB_VERT указывает, что окно представляет собой вертикальный бар прокрутки.

*lpScrollInfo*<br/>
Указатель на структуру [SCROLLINFO.](/windows/win32/api/winuser/ns-winuser-scrollinfo) Дополнительную информацию об этой структуре можно узнать в SDK Windows.

*bRedraw*<br/>
Определяет, следует ли перерисовывать панель прокрутки, чтобы отразить новое положение. Если *bRedraw* является правдой, панель прокрутки перерисовывается. Если это FALSE, он не перерисовывается. Панель прокрутки перерисовывается по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

В случае успеха, возвращение является правдой. В противном случае, это FALSE.

### <a name="remarks"></a>Remarks

Структура [SCROLLINFO](/windows/win32/api/winuser/ns-winuser-scrollinfo) содержит информацию о панели прокрутки, включая минимальное и максимальное положение прокрутки, размер страницы и положение окна прокрутки (большой палец). Подробнее `SCROLLINFO` об изменении структуры по умолчанию можно просмотреть тему структуры в SDK Windows SDK.

Обработчики сообщений MFC Windows, указывающие положение прокрутки-бар, [CWnd::OnHScroll](#onhscroll) и [CWnd::OnVScroll,](#onvscroll)предоставляют только 16 бит данных о положении. [GetScrollInfo](#getscrollinfo) `SetScrollInfo` и предоставить 32 бита данных о положении прокрутки-бар. Таким образом, приложение `GetScrollInfo` может `CWnd::OnHScroll` звонить `CWnd::OnVScroll` при обработке либо или для получения 32-битных данных положения прокрутки.бара.

> [!NOTE]
> [CWnd::GetScrollInfo](#getscrollinfo) позволяет приложениям использовать 32-битные позиции прокрутки-бар.

## <a name="cwndsetscrollpos"></a><a name="setscrollpos"></a>CWnd::SetScrollPos

Устанавливает текущее положение окна прокрутки и, при необходимости, перерисовывает панель прокрутки, чтобы отразить новое положение окна прокрутки.

```
int SetScrollPos(
    int nBar,
    int nPos,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет набор панели прокрутки. Этот параметр может быть одним из следующих:

- SB_HORZ устанавливает положение окна прокрутки в горизонтальной панели прокрутки окна.

- SB_VERT устанавливает положение окна прокрутки в вертикальной панели прокрутки окна.

*Npos*<br/>
Определяет новое положение окна прокрутки. Она должна находиться в пределах диапазона прокрутки.

*bRedraw*<br/>
Определяет, следует ли перекрасить панель прокрутки, чтобы отразить новое положение окна прокрутки. Если этот параметр является правдой, панель прокрутки перекрашивается; если FALSE, бар прокрутки не перекрашивается.

### <a name="return-value"></a>Возвращаемое значение

Предыдущее положение окна прокрутки.

### <a name="remarks"></a>Remarks

Установка *bRedraw* на FALSE полезна всякий раз, когда панель прокрутки будет перерисована последующим вызовом на другую функцию.

## <a name="cwndsetscrollrange"></a><a name="setscrollrange"></a>CWnd::SetScrollRange

Задает для указанной полосы прокрутки положения минимума и максимума.

```
void SetScrollRange(
    int nBar,
    int nMinPos,
    int nMaxPos,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет набор панели прокрутки. Этот параметр может быть одним из следующих значений:

- SB_HORZ устанавливает диапазон горизонтальной панели прокрутки окна.

- SB_VERT устанавливает диапазон вертикальной панели прокрутки окна.

*nMinPos*<br/>
Определяет минимальное положение прокрутки.

*nMaxPos*<br/>
Определяет максимальное положение прокрутки.

*bRedraw*<br/>
Определяет, следует ли перерисовывать панель прокрутки, чтобы отразить изменение. Если *bRedraw* является правдой, панель прокрутки перерисована; если FALSE, бар прокрутки не перерисовывается.

### <a name="remarks"></a>Remarks

Он также может быть использован, чтобы скрыть или показать стандартные бары прокрутки.

Приложение не должно вызывать эту функцию, чтобы скрыть бар прокрутки при обработке сообщения уведомления прокрутки-бара.

Если вызов `SetScrollRange` немедленно следует за вызовом к функции члена [SetScrollPos,](#setscrollpos) параметр *bRedraw* в функции `SetScrollPos` члена должен быть 0, чтобы предотвратить дважды нарисовать бар прокрутки.

Диапазон по умолчанию для стандартной панели прокрутки составляет от 0 до 100. Диапазон по умолчанию для управления панелью прокрутки пуст (как значения *nMinPos,* так и *nMaxPos* 0). Разница между значениями, указанными *nMinPos* и *nMaxPos,* не должна быть больше, чем INT_MAX.

## <a name="cwndsettimer"></a><a name="settimer"></a>CWnd::SetTimer

Устанавливает системный таймер.

```
UINT_PTR SetTimer(
    UINT_PTR nIDEvent,
    UINT nElapse,
    void (CALLBACK* lpfnTimer)(HWND,
    UINT,
    UINT_PTR,
    DWORD));
```

### <a name="parameters"></a>Параметры

*nIDEvent*<br/>
Определяет идентификатор ненулевого таймера. Если идентификатор таймер уникален, `SetTimer`это же значение возвращается . В `SetTimer` противном случае, определяет новое уникальное значение и возвращает его. Для таймер окна (который имеет функцию обратного вызова NULL), значение должно быть уникальным только для других таймер окон, которые связаны с текущим окном. Для таймер обратного вызова значение должно быть уникальным для всех таймер во всех процессах. Поэтому при создании таймер обратного вызова, более вероятно, что возвращенное значение может отличаться от значения, указанного.

*nElapse*<br/>
Определяет значение тайм-аута или интервал в миллисекундах.

*lpfnTimer*<br/>
Определяет адрес функции обратного вызова, поставляемой `TimerProc` приложением, которая обрабатывает [WM_TIMER](/windows/win32/winmsg/wm-timer) сообщений. Если этот параметр NULL, WM_TIMER сообщения помещаются в очередь сообщений приложения и обрабатываются объектом. `CWnd`

### <a name="return-value"></a>Возвращаемое значение

Идентификатор таймер нового таймера, если функция успешна. Это значение может или не может быть равен значению, передаваемому через параметр *nIDEvent.* Приложение всегда должно передавать значение возврата в функцию участника [KillTimer,](#killtimer) чтобы убить таймер. Nonzero, если успешно; в противном случае, 0.

### <a name="remarks"></a>Remarks

Указывается интервательное значение, и каждый раз, когда интервал проходит, система размещает WM_TIMER сообщение в очередь `TimerProc` установки сообщения в приложении или передает сообщение функции обратного вызова, определяемой приложением.

Функция обратного вызова *lpfnTimer* `TimerProc`не должна называться, но она должна быть объявлена статичной и определена следующим образом.

```
void CALLBACK TimerProc(
    HWND hWnd,   // handle of CWnd that called SetTimer
    UINT nMsg,   // WM_TIMER
    UINT_PTR nIDEvent,   // timer identification
    DWORD dwTime    // system time);
```

### <a name="example"></a>Пример

Этот пример `CWnd::SetTimer` `CWnd::OnTimer`использует, `CWnd::KillTimer` и для обработки WM_TIMER сообщений. Первый таймер настроен для отправки WM_TIMER сообщения в окно `OnStartTimer`основной кадра каждые 2 секунды. Обработчик `OnTimer` событий обрабатывает WM_TIMER сообщений для окна основного кадра. Этот метод заставляет динамик ПК сигналить каждые 2 секунды. Второй таймер отправляет сообщение функции обратного вызова каждые 3,75 секунды. `OnStopTimer`остановит оба таймеры, `CWnd::KillTimer` позвонив для каждого таймер ID.

[!code-cpp[NVC_MFCWindowing#118](../../mfc/reference/codesnippet/cpp/cwnd-class_59.cpp)]

## <a name="cwndsetwindowcontexthelpid"></a><a name="setwindowcontexthelpid"></a>CWnd::SetWindowContextHelpId

Вызовите эту функцию участника, чтобы связать идентификатор контекста справки с указанным окном.

```
BOOL SetWindowContextHelpId(DWORD dwContextHelpId);
```

### <a name="parameters"></a>Параметры

*dwContextHelpId*<br/>
Идентификатор контекста справки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Remarks

Если в окне ребенка нет идентификатора контекста справки, он наследует идентификатор родительского окна. Аналогичным образом, если принадлежащее окно не имеет идентификатора контекста справки, оно наследует идентификатор окна владельца. Это наследование идентификаторов контекста справки позволяет приложению установить только один идентификатор для диалогового окна и всех его элементов управления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#119](../../mfc/reference/codesnippet/cpp/cwnd-class_60.cpp)]

## <a name="cwndsetwindowplacement"></a><a name="setwindowplacement"></a>CWnd::SetWindowPlacement

Задает состояние отображения, а также обычное (восстановленное), свернутое и развернутое состояния окна.

```
BOOL SetWindowPlacement(const WINDOWPLACEMENT* lpwndpl);
```

### <a name="parameters"></a>Параметры

*lpwndpl*<br/>
Указывает на структуру [WINDOWPLACEMENT,](/windows/win32/api/winuser/ns-winuser-windowplacement) которая определяет новое состояние шоу и позиции.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

## <a name="cwndsetwindowpos"></a><a name="setwindowpos"></a>CWnd::SetWindowPos

Изменяет размер, положение и порядок детского, всплывающих окон и окон верхнего уровня.

```
BOOL SetWindowPos(
    const CWnd* pWndInsertAfter,
    int x,
    int y,
    int cx,
    int cy,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*pWndInsertAfter*<br/>
Идентифицирует `CWnd` объект, который будет предшествовать (быть выше, чем) этот `CWnd` объект в порядке. Этот параметр может быть `CWnd` указателем на указатель или указателем на одно из следующих значений:

- `wndBottom`Разместите окно в нижней части заказа. Если `CWnd` это верхнее окно, окно теряет свой верхний статус; система помещает окно в нижней части всех других окон.

- `wndTop`Разместите окно в верхней части заказа.

- `wndTopMost`Поместите окно над всеми не-верхними окнами. Окно сохраняет верхнее положение даже при деактивации.

- `wndNoTopMost`Перемещает окно в верхней части всех не-верхних окон (т.е. за всеми верхними окнами). Этот флаг не имеет эффекта, если окно уже не является самым верхним окном.

О правилах использования этого параметра можно ознакомиться в разделе "Замечания" этой темы.

*x*<br/>
Определяет новое положение левой стороны окна.

*Y*<br/>
Определяет новое положение верхней части окна.

*Cx*<br/>
Определяет новую ширину окна.

*Cy*<br/>
Определяет новую высоту окна.

*nФлаги*<br/>
Определяет параметры размеров и позиционирования. Этот параметр может быть комбинацией следующих флагов:

- SWP_DRAWFRAME рисует рамку (определяемую при создании окна) вокруг окна.

- SWP_FRAMECHANGED отправляет WM_NCCALCSIZE сообщение в окно, даже если размер окна не изменяется. Если этот флаг не указан, WM_NCCALCSIZE отправляется только при изменении размера окна.

- SWP_HIDEWINDOW прячет окно.

- SWP_NOACTIVATE не активирует окно. Если этот флаг не установлен, окно активируется и перемещается в верхнюю часть верхней или не самой верхней группы (в зависимости от настройки параметра *pWndInsertAfter).*

- SWP_NOCOPYBITS отбрасывает все содержимое клиентской области. Если этот флаг не указан, допустимое содержимое клиентской области сохраняется и скопировано обратно в область клиента после размера или перерасположения окна.

- SWP_NOMOVE сохраняет текущее положение (игнорирует параметры *x* и *y).*

- SWP_NOOWNERZORDER не меняет положение окна владельца в заказе.

- SWP_NOREDRAW не перерисовываю изменения. Если этот флаг установлен, перекрашивание любого рода не происходит. Это относится к области клиента, области неклиента (включая заголовок и прокрутки баров), и любой части родительского окна обнаружили в результате перемещенного окна. Когда этот флаг установлен, приложение должно явно аннулировать или перерисовать любые части окна и родительского окна, которые должны быть перерисованы.

- SWP_NOREPOSITION же, что и SWP_NOOWNERZORDER.

- SWP_NOSENDCHANGING предотвращает получение WM_WINDOWPOSCHANGING сообщения.

- SWP_NOSIZE сохраняет текущий размер (игнорирует параметры *cx* и *cy).*

- SWP_NOZORDER сохраняет текущий заказ (игнорирует *pWndInsertAfter).*

- SWP_SHOWWINDOW отображает окно.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешна; в противном случае, 0.

### <a name="remarks"></a>Remarks

Окна заказываются на экране в соответствии с их заказом; окно в верхней части заказа появляется поверх всех других окон в порядке.

Все координаты для детских окон являются координатами клиента (относительно верхнего левого угла клиентской области родительского окна).

Окно может быть перемещено в верхнюю часть заказа либо путем установки параметра *pWndInsertAfter*&**wndTopMost** и обеспечения того, чтобы SWP_NOZORDER флаг не установлен, либо установив порядок окна, чтобы он был выше любых существующих верхних окон. Когда не топмост окна сделан топмост, его принадлежащих окна также сделаны сверху. Его владельцы не меняются.

Верхнее окно больше не верхнее, если оно перемещается на дно **(&wndBottom)** от заказа или после любого окна, не являватого верхним. Когда верхнее окно сделано без верхнего, все его владельцы и принадлежащие ему окна также сделаны не верхние окна.

Если ни SWP_NOACTIVATE ни SWP_NOZORDER не указаны (т.е. когда приложение просит одновременно активировать окно и поместить его в указанный порядок), значение, указанное в *pWndInsertAfter,* используется только при следующих обстоятельствах:

- Ни **&wndTopMost,** ни **&wndNoTopMost** не указаны в параметре *pWndInsertAfter.*

- Это окно не является активным окном.

Приложение не может активировать неактивное окно, не доведя его до верхней части заказа. Приложения могут изменять порядок активации окна без ограничений.

Окно, не являвщееся топом, может иметь верхнее окно, но не наоборот. Любое окно (например, диалоговая будка), принадлежащее самому верхнему окну, само по себе является верхним окном, чтобы гарантировать, что все принадлежащие окна остаются выше своего владельца.

С версиями Windows 3.1 и более поздними, окна могут быть перемещены в верхнюю часть заказа и заблокированы там, установив свои WS_EX_TOPMOST стили. Такое верхнее окно сохраняет свое верхнее положение даже при деактивации. Например, выбор команды WinHelp Always On Top делает окно справки самым верхним, а затем остается видимым при возвращении в приложение.

Чтобы создать верхнее окно, позвоните `SetWindowPos` с параметром *pWndInsertAfter,* равным&**wndTopMost,** или установите WS_EX_TOPMOST стиль при создании окна.

Если в заказе есть окна со стилем WS_EX_TOPMOST, то окно, перемещенное с **&wndTopMost** значение, помещается в верхней части всех окон, не являющихся самыми верхними окнами, но ниже любых верхних окон. Когда приложение активирует неактивное окно без WS_EX_TOPMOST бита, окно перемещается выше всех не верхних окон, но ниже любых верхних окон.

Если `SetWindowPos` *параметр pWndInsertAfter* **&wndBottom** `CWnd` и является верхним окном, окно теряет свой верхний статус (WS_EX_TOPMOST очищается), и система помещает окно в нижней части заказа.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#120](../../mfc/reference/codesnippet/cpp/cwnd-class_61.cpp)]

## <a name="cwndsetwindowrgn"></a><a name="setwindowrgn"></a>CWnd::SetWindowRgn

Вызовите эту функцию участника, чтобы установить область окна.

```
int SetWindowRgn(
    HRGN hRgn,
    BOOL bRedraw);
```

### <a name="parameters"></a>Параметры

*hRgn*<br/>
Ручка в регион.

*bRedraw*<br/>
Если true, операционная система перерисовывает окно после установки региона; в противном случае, это не так. Как правило, установите *bRedraw* к TRUE, если окно видно. Если установить на TRUE, система отправляет WM_WINDOWPOSCHANGING и WM_WINDOWPOSCHANGED сообщения в окно.

### <a name="return-value"></a>Возвращаемое значение

Если функция успешно, значение возврата неявляется. Если функция выполняется неудачно, возвращается нулевое значение.

### <a name="remarks"></a>Remarks

Координаты области окна относительно верхнего левого угла окна, а не клиентской области окна.

После успешного `SetWindowRgn`вызова в, операционная система владеет регионом, указанным в регионе ручкой *hRgn*. Операционная система не делает копию региона, поэтому не делайте никаких дальнейших вызовов функции с этой обработкой региона, и не закрывайте эту ручку региона.

## <a name="cwndsetwindowtext"></a><a name="setwindowtext"></a>CWnd::SetWindowText

Устанавливает название окна в указанном тексте.

```
void SetWindowText(LPCTSTR lpszString);
```

### <a name="parameters"></a>Параметры

*lpszString*<br/>
Очки на объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) или строку с нулевым завершением, которая будет использоваться в качестве нового заголовка или текста управления.

### <a name="remarks"></a>Remarks

Если окно является элементом управления, текст внутри элемента управления устанавливается.

Эта функция приводит к отправке [WM_SETTEXT](/windows/win32/winmsg/wm-settext) сообщения в это окно.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#121](../../mfc/reference/codesnippet/cpp/cwnd-class_62.cpp)]

## <a name="cwndshowcaret"></a><a name="showcaret"></a>CWnd::ShowCaret

Показывает карету на экране в текущем положении caret.

```
void ShowCaret();
```

### <a name="remarks"></a>Remarks

После отображения курсор начинает автоматически мигать.

Функция `ShowCaret` члена показывает карету только в том случае, если она имеет текущую форму и не была скрыта два или более раз подряд. Если каретне не принадлежит этому окну, каретне не отображается.

Скрытие карет является кумулятивным. Если функция члена [HideCaret](#hidecaret) была вызвана `ShowCaret` пять раз подряд, необходимо вызвать пять раз, чтобы показать уход.

Caret является общим ресурсом. Окно должно отображать caret только тогда, когда он имеет входиный фокус или активен.

### <a name="example"></a>Пример

  Смотрите пример [для CWnd::CreateCaret](#createcaret).

## <a name="cwndshowownedpopups"></a><a name="showownedpopups"></a>CWnd::ShowOwnedPopups

Показывает или скрывает все всплывающие окна, принадлежащие этому окну.

```
void ShowOwnedPopups(BOOL bShow = TRUE);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
Определяет, должны ли быть показаны или скрыты всплывающие окна. Если этот параметр является правдой, все скрытые всплывающие окна отображаются. Если этот параметр FALSE, все видимые всплывающие окна скрыты.

### <a name="example"></a>Пример

  Смотрите пример [CWnd::SetWindowPos](#setwindowpos).

## <a name="cwndshowscrollbar"></a><a name="showscrollbar"></a>CWnd::ShowScrollBar

Показывает или скрывает бар прокрутки.

```
void ShowScrollBar(
    UINT nBar,
    BOOL bShow = TRUE);
```

### <a name="parameters"></a>Параметры

*nБар*<br/>
Определяет, является ли панель прокрутки элементом управления или частью области неклиента окна. Если он является частью области неклиента, *nBar* также указывает, находится ли панель прокрутки горизонтально, вертикально или и то, и другое. Она должна быть одной из следующих:

- SB_BOTH определяет горизонтальные и вертикальные прокрутки баров окна.

- SB_HORZ указывает, что окно представляет собой горизонтальную панель прокрутки.

- SB_VERT указывает, что окно представляет собой вертикальный бар прокрутки.

*bShow*<br/>
Определяет, показывает ли Windows или скрывает бар прокрутки. Если этот параметр является правдой, отображается панель прокрутки; в противном случае бар прокрутки скрыт.

### <a name="remarks"></a>Remarks

Приложение не должно `ShowScrollBar` вызываться, чтобы скрыть бар прокрутки при обработке сообщения уведомления прокрутки-бара.

## <a name="cwndshowwindow"></a><a name="showwindow"></a>CWnd::ShowWindow

Устанавливает состояние видимости окна.

```
BOOL ShowWindow(int nCmdShow);
```

### <a name="parameters"></a>Параметры

*nCmdShow*<br/>
Определяет, как `CWnd` должно быть показано. Это должно быть одно из следующих значений:

- SW_HIDE скрывает это окно и передает активацию в другое окно.

- SW_MINIMIZE минимизирует окно и активирует окно верхнего уровня в списке системы.

- SW_RESTORE активирует и отображает окно. Если окно сведено к минимуму или максимизировано, Windows восстанавливает его до исходного размера и положения.

- SW_SHOW активирует окно и отображает его в текущем размере и положении.

- SW_SHOWMAXIMIZED активирует окно и отображает его как максимальное окно.

- SW_SHOWMINIMIZED активирует окно и отображает его как значок.

- SW_SHOWMINNOACTIVE отображает окно в виде значка. Окно, которое в настоящее время активно, остается активным.

- SW_SHOWNA отображает окно в текущем состоянии. Окно, которое в настоящее время активно, остается активным.

- SW_SHOWNOACTIVATE отображает окно в своем последнем размере и положении. Окно, которое в настоящее время активно, остается активным.

- SW_SHOWNORMAL активирует и отображает окно. Если окно сведено к минимуму или максимизировано, Windows восстанавливает его до исходного размера и положения.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если окно было ранее видно; 0, `CWnd` если ранее был скрыт.

### <a name="remarks"></a>Remarks

`ShowWindow`должны быть вызваны только один раз в приложение для основного окна с [CWinApp::m_nCmdShow](../../mfc/reference/cwinapp-class.md#m_ncmdshow). Последующие `ShowWindow` вызовы должны использовать одно из значений, `CWinApp::m_nCmdShow`перечисленных выше, вместо указанного .

### <a name="example"></a>Пример

  Смотрите пример [для CWnd::CalcWindowRect](#calcwindowrect).

## <a name="cwndsubclassdlgitem"></a><a name="subclassdlgitem"></a>CWnd::SubclassDlgItem

Вызовите эту функцию участника в "динамически подкласс" элементом, `CWnd` созданным из шаблона диалогов, и прикрепите его к этому объекту.

```
BOOL SubclassDlgItem(
    UINT nID,
    CWnd* pParent);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор элемента управления.

*pРодитель*<br/>
Родитель элемента управления (обычно диалоговая коробка).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Remarks

Когда элемент управления динамически подклассифицирован, `CWnd`сообщения окон будут направляться через `CWnd`карту сообщений 's и обработчики сообщений в классе 'в первую очередь. Сообщения, передаваемые базовому классу, будут передаваться обработчику сообщений по умолчанию в элементе управления.

Эта функция члена прикрепляет `CWnd` элемент управления Windows к `WndProc` объекту и заменяет элемент управления и `AfxWndProc` функции. Функция хранит старое `WndProc` в месте, `GetSuperWndProcAddr` возвращенном функцией члена.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#122](../../mfc/reference/codesnippet/cpp/cwnd-class_63.cpp)]

## <a name="cwndsubclasswindow"></a><a name="subclasswindow"></a>CWnd::SubclassWindow

Вызовите эту функцию участника, чтобы "динамически `CWnd` подкласс" окно и прикрепить его к этому объекту.

```
BOOL SubclassWindow(HWND hWnd);
```

### <a name="parameters"></a>Параметры

*Hwnd*<br/>
Ручка к окну.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Remarks

Когда окно динамически подклассно, сообщения окон `CWnd`будут направляться через карту сообщений `CWnd`'s и обработчики сообщений в классе 'в первую очередь. Сообщения, передаваемые базовому классу, будут передаваться обработчику сообщений по умолчанию в окне.

Эта функция члена прикрепляет `CWnd` элемент управления Windows к `WndProc` объекту и заменяет окно и `AfxWndProc` функции. Функция хранит указатель на `WndProc` старый `CWnd` объект.

> [!NOTE]
> Окно не должно быть уже прикреплено к объекту MFC при вызове этой функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#123](../../mfc/reference/codesnippet/cpp/cwnd-class_64.cpp)]

## <a name="cwndunlockwindowupdate"></a><a name="unlockwindowupdate"></a>CWnd::UnlockWindowUpdate

Вызов эту функцию участника, чтобы `CWnd::LockWindowUpdate`разблокировать окно, которое было заблокировано с .

```
void UnlockWindowUpdate();
```

### <a name="remarks"></a>Remarks

Только одно окно за один `LockWindowUpdate`раз может быть заблокировано с помощью. Смотрите [CWnd::LockWindowUpdate](#lockwindowupdate) или функцию Win32 [LockWindowUpdate](/windows/win32/api/winuser/nf-winuser-lockwindowupdate) для получения дополнительной информации о блокировке окон.

## <a name="cwndunsubclasswindow"></a><a name="unsubclasswindow"></a>CWnd::UnsubclassWindow

Вызовите эту `WndProc` функцию участника, чтобы вернуться к исходному значению `CWnd` и отсоединить окно, идентифицированное HWND, от объекта.

```
HWND UnsubclassWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Ручка к неподклассивомок окна.

### <a name="example"></a>Пример

  Смотрите пример [CWnd::SubclassWindow](#subclasswindow).

## <a name="cwndupdatedata"></a><a name="updatedata"></a>CWnd:UpdateData

Вызов инициализации данных в диалоговом поле или для извлечения и проверки данных диалогов.

```
BOOL UpdateData(BOOL bSaveAndValidate = TRUE);
```

### <a name="parameters"></a>Параметры

*bSaveAndValidate*<br/>
Пометить, указывает ли диалоговое поле в настоящее время инициализированы (FALSE) или данные извлекаются (TRUE).

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если операция прошла успешно; в противном случае 0. Если *bSaveAndValidat*e является правдой, то значение возврата ненулевого означает, что данные успешно проверены.

### <a name="remarks"></a>Remarks

Платформа автоматически `UpdateData` вызывает с *bSaveAndValidate* установить false, когда модальный диалоговый ящик создается в реализации по умолчанию [CDialog::OnInitDialog](../../mfc/reference/cdialog-class.md#oninitdialog). Вызов происходит до того, как будет виден диалоговый ящик. Реализация [CDialog по умолчанию::OnOK](../../mfc/reference/cdialog-class.md#onok) вызывает эту функцию участника с *bSaveAndValidate* набор для получения данных, и в случае успеха, закроет диалоговое окно. (Если кнопка «Отмена» нажата в диалоговом поле, диалоговая будка закрывается без получения данных.)

## <a name="cwndupdatedialogcontrols"></a><a name="updatedialogcontrols"></a>CWnd::UpdateDialogControls

Вызов ими функции участника для обновления состояния кнопок диалога и других элементов управления в диалоговом окне или окне, использующем [механизм ON_UPDATE_COMMAND_UI](message-map-macros-mfc.md#on_update_command_ui) обратного вызова.

```
void UpdateDialogControls(
    CCmdTarget* pTarget,
    BOOL bDisableIfNoHndler);
```

### <a name="parameters"></a>Параметры

*pTarget*<br/>
Указывает на основное окно кадра приложения и используется для направления сообщений обновления.

*bDisableIfNoHndler*<br/>
Пометить, следует ли автоматически отображать элемент управления, не обличенного обработчиком обновлений, как отключенный.

### <a name="remarks"></a>Remarks

Если у детского контроля нет обработчика и *bDisableIfNoHndler* является правдой, то контроль над детьми будет отключен.

Платформа вызывает эту функцию элемента для элементов управления в диалоговых барах или панели инструментов как часть простоя обработки приложения.

## <a name="cwndupdatelayeredwindow"></a><a name="updatelayeredwindow"></a>CWnd::UpdateLayeredWindow

Обновляет положение, размер, форму, содержимое и прозрачность многослойного окна.

```
BOOL UpdateLayeredWindow(
    CDC* pDCDst,
    POINT* pptDst,
    SIZE* psize,
    CDC* pDCSrc,
    POINT* pptSrc,
    COLORREF crKey,
    BLENDFUNCTION* pblend,
    DWORD dwFlags);
```

### <a name="parameters"></a>Параметры

*pDCDst*<br/>
Указатель на контекст устройства для экрана. Он используется для соответствия цвета палитры при обновлении содержимого окна. Если *pDCDst* является NULL, будет использоваться палитра по умолчанию.

Если *pDCSrc* является NULL, *pDCDst* должен быть NULL.

*pptDst*<br/>
Указатель на `POINT` структуру, определяющую новое положение экрана многослойного окна. Если текущая позиция не меняется, *pptDst* может быть NULL.

*psize*<br/>
Указатель на `SIZE` структуру, которая определяет новый размер многослойного окна. Если размер окна не меняется, *psize* может быть NULL.

Если *pDCSrc* является NULL, *psize* должен быть NULL.

*pDCSrc*<br/>
Указатель на DC для поверхности, определяющей многослойное окно. Если форма и визуальный контекст окна не изменяются, *pDCSrc* может быть NULL.

*pptSrc*<br/>
Указатель на `POINT` структуру, опознавательную расположение слоя в контексте устройства.

Если *pDCSrc* является NULL, *pptSrc* должен быть NULL.

*crKey*<br/>
Указатель на значение COLORREF, которое определяет цветной ключ прозрачности, который будет использоваться при составлении многослойного окна. Все пиксели, окрашенные окном в этом цвете, будут прозрачными. Для создания COLORREF используйте макрос RGB.

*pblend*<br/>
Указатель на структуру [BLENDFUNCTION,](/windows/win32/api/wingdi/ns-wingdi-blendfunction) которая определяет значение прозрачности, которое будет использоваться при составлении многослойного окна.

*dwFlags*<br/>
Определяет действие, необходимое для принятия. Этот параметр может быть одним или более из следующих значений. Список возможных значений можно узнать в [списке обновленного окна.](/windows/win32/api/winuser/nf-winuser-updatelayeredwindow)

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если функция успешно; в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность функции [UpdateLayeredWindow](/windows/win32/api/winuser/nf-winuser-updatelayeredwindow), как описано в Windows SDK.

## <a name="cwndupdatewindow"></a><a name="updatewindow"></a>CWnd:UpdateWindow

Обновление области клиента, отправив [сообщение WM_PAINT,](/windows/win32/gdi/wm-paint) если область обновления не пуста.

```
void UpdateWindow();
```

### <a name="remarks"></a>Remarks

Функция `UpdateWindow` участника отправляет WM_PAINT сообщение напрямую, минуя очередь приложения. Если область обновления пуста, WM_PAINT не отправляется.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#124](../../mfc/reference/codesnippet/cpp/cwnd-class_65.cpp)]

## <a name="cwndvalidaterect"></a><a name="validaterect"></a>CWnd::ValidateRec

Проверяет область клиента в данном прямоугольнике, удалив прямоугольник из области обновления окна.

```
void ValidateRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на объект [CRect](../../atl-mfc-shared/reference/crect-class.md) или [структуру RECT,](/windows/win32/api/windef/ns-windef-rect) содержащую клиентские координаты прямоугольника, которые должны быть удалены из области обновления. Если *lpRect* является NULL, все окно проверяется.

### <a name="remarks"></a>Remarks

Функция участника [BeginPaint](#beginpaint) автоматически проверяет всю область клиента. `ValidateRect` Ни функция [члена ValidateRgn](#validatergn) не должна вызываться, если часть региона обновления должна быть проверена до того, как [WM_PAINT](/windows/win32/gdi/wm-paint) будет создана в следующем виде.

Windows продолжает генерировать WM_PAINT сообщений до тех пор, пока не будет проверена текущая область обновления.

## <a name="cwndvalidatergn"></a><a name="validatergn"></a>CWnd::ValidateRgn

Проверяет область клиента в данном регионе, удаляя область из текущего обновления области окна.

```
void ValidateRgn(CRgn* pRgn);
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Указатель на объект [CRgn,](../../mfc/reference/crgn-class.md) который определяет область, определяющую область, которая будет удалена из области обновления. Если этот параметр NULL, вся область клиента удаляется.

### <a name="remarks"></a>Remarks

Данный регион должен быть создан ранее функцией региона. Предполагается, что координаты региона являются координатами клиента.

Функция участника [BeginPaint](#beginpaint) автоматически проверяет всю область клиента. Ни [ValidateRect,](#validaterect) `ValidateRgn` ни функция члена не должны вызываться, если часть региона обновления должна быть проверена до того, как будет создано сообщение [следующего WM_PAINT.](/windows/win32/gdi/wm-paint)

## <a name="cwndwindowfrompoint"></a><a name="windowfrompoint"></a>CWnd::WindowFromPoint

Извлекает окно, содержащее указанную точку; *точка* должна указать координаты экрана точки на экране.

```
static CWnd* PASCAL WindowFromPoint(POINT point);
```

### <a name="parameters"></a>Параметры

*Точки*<br/>
Определяет объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) или структуру данных [POINT,](/windows/win32/api/windef/ns-windef-point) которая определяет точку, подкоторую проверяемую.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект окна, в котором находится точка. Это NULL, если в данной точке не существует окна. Возвращенный указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Remarks

`WindowFromPoint`не получает скрытое или отключенное окно, даже если точка находится в окне. Приложение должно использовать функцию члена [ChildWindowFromPoint](#childwindowfrompoint) для неограниченного поиска.

## <a name="cwndwindowproc"></a><a name="windowproc"></a>CWnd::WindowProc

Обеспечивает процедуру `WindowProc`Windows () для `CWnd` объекта.

```
virtual LRESULT WindowProc(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*Сообщение*<br/>
Определяет сообщение Windows, подаваемый для обработки.

*wParam*<br/>
Предоставляет дополнительную информацию, используемую при обработке сообщения. Значение параметра зависит от сообщения.

*lParam*<br/>
Предоставляет дополнительную информацию, используемую при обработке сообщения. Значение параметра зависит от сообщения.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата зависит от сообщения.

### <a name="remarks"></a>Remarks

Он отправляет сообщения через карту сообщения окна.

## <a name="cwndwinhelp"></a><a name="winhelp"></a>CWnd::WinHelp

Вызывается для запуска приложения WinHelp.

```
virtual void WinHelp(
    DWORD_PTR dwData,
    UINT nCmd = HELP_CONTEXT);
```

### <a name="parameters"></a>Параметры

*dwData*<br/>
Определяет дополнительные данные. Используемое значение зависит от значения параметра *nCmd.*

*nCmd*<br/>
Задает тип запрошенной справки. Список возможных значений и их влияния на параметр [WinHelp](/windows/win32/api/winuser/nf-winuser-winhelpw) *dwData* можно узнать в SDK Windows.

### <a name="remarks"></a>Remarks

Смотрите [CWinApp::WinHelp](../../mfc/reference/cwinapp-class.md#winhelp) для получения дополнительной информации.

## <a name="cwndregistertouchwindow"></a><a name="registertouchwindow"></a>CWnd::RegisterTouchWindow

Регистры или нерегистрируют поддержку сенсорной windows.

```
BOOL RegisterTouchWindow(
    BOOL bRegister = TRUE,
    ULONG ulFlags = 0);
```

### <a name="parameters"></a>Параметры

*bРегистрация*<br/>
TRUE указывает на поддержку касания Windows; FALSE в противном случае.

*ulFlags*<br/>
Набор битовых флагов, которые указывают дополнительные изменения. Это поле может содержать 0 или одно из следующих значений: TWF_FINETOUCH, TWF_WANTPALM.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Remarks

## <a name="cwndresizedynamiclayout"></a><a name="resizedynamiclayout"></a>CWnd::ResizeDynamicLayout

Вызывается платформой при изменении размера окна для настройки макета дочерних окон, если для этого окна используется динамический макет.

```
virtual void ResizeDynamicLayout();
```

### <a name="remarks"></a>Remarks

## <a name="see-also"></a>См. также раздел

[Класс CCmdTarget](../../mfc/reference/ccmdtarget-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CFrameWnd](../../mfc/reference/cframewnd-class.md)<br/>
[Класс CView](../../mfc/reference/cview-class.md)
