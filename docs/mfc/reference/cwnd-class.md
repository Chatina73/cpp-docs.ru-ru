---
title: Класс CWnd
ms.date: 11/19/2018
f1_keywords:
- CWnd
- AFXWIN/CWnd
- AFXWIN/CWnd::CWnd
- AFXWIN/CWnd::accDoDefaultAction
- AFXWIN/CWnd::accHitTest
- AFXWIN/CWnd::accLocation
- AFXWIN/CWnd::accNavigate
- AFXWIN/CWnd::accSelect
- AFXWIN/CWnd::AnimateWindow
- AFXWIN/CWnd::ArrangeIconicWindows
- AFXWIN/CWnd::Attach
- AFXWIN/CWnd::BeginModalState
- AFXWIN/CWnd::BeginPaint
- AFXWIN/CWnd::BindDefaultProperty
- AFXWIN/CWnd::BindProperty
- AFXWIN/CWnd::BringWindowToTop
- AFXWIN/CWnd::CalcWindowRect
- AFXWIN/CWnd::CancelToolTips
- AFXWIN/CWnd::CenterWindow
- AFXWIN/CWnd::ChangeClipboardChain
- AFXWIN/CWnd::CheckDlgButton
- AFXWIN/CWnd::CheckRadioButton
- AFXWIN/CWnd::ChildWindowFromPoint
- AFXWIN/CWnd::ClientToScreen
- AFXWIN/CWnd::CloseWindow
- AFXWIN/CWnd::ContinueModal
- AFXWIN/CWnd::Create
- AFXWIN/CWnd::CreateAccessibleProxy
- AFXWIN/CWnd::CreateCaret
- AFXWIN/CWnd::CreateControl
- AFXWIN/CWnd::CreateEx
- AFXWIN/CWnd::CreateGrayCaret
- AFXWIN/CWnd::CreateSolidCaret
- AFXWIN/CWnd::DeleteTempMap
- AFXWIN/CWnd::DestroyWindow
- AFXWIN/CWnd::Detach
- AFXWIN/CWnd::DlgDirList
- AFXWIN/CWnd::DlgDirListComboBox
- AFXWIN/CWnd::DlgDirSelect
- AFXWIN/CWnd::DlgDirSelectComboBox
- AFXWIN/CWnd::DragAcceptFiles
- AFXWIN/CWnd::DragDetect
- AFXWIN/CWnd::DrawAnimatedRects
- AFXWIN/CWnd::DrawCaption
- AFXWIN/CWnd::DrawMenuBar
- AFXWIN/CWnd::EnableActiveAccessibility
- AFXWIN/CWnd::EnableDynamicLayout
- AFXWIN/CWnd::EnableD2DSupport
- AFXWIN/CWnd::EnableScrollBar
- AFXWIN/CWnd::EnableScrollBarCtrl
- AFXWIN/CWnd::EnableToolTips
- AFXWIN/CWnd::EnableTrackingToolTips
- AFXWIN/CWnd::EnableWindow
- AFXWIN/CWnd::EndModalLoop
- AFXWIN/CWnd::EndModalState
- AFXWIN/CWnd::EndPaint
- AFXWIN/CWnd::ExecuteDlgInit
- AFXWIN/CWnd::FilterToolTipMessage
- AFXWIN/CWnd::FindWindow
- AFXWIN/CWnd::FindWindowEx
- AFXWIN/CWnd::FlashWindow
- AFXWIN/CWnd::FlashWindowEx
- AFXWIN/CWnd::FromHandle
- AFXWIN/CWnd::FromHandlePermanent
- AFXWIN/CWnd::get_accChild
- AFXWIN/CWnd::get_accChildCount
- AFXWIN/CWnd::get_accDefaultAction
- AFXWIN/CWnd::get_accDescription
- AFXWIN/CWnd::get_accFocus
- AFXWIN/CWnd::get_accHelp
- AFXWIN/CWnd::get_accHelpTopic
- AFXWIN/CWnd::get_accKeyboardShortcut
- AFXWIN/CWnd::get_accName
- AFXWIN/CWnd::get_accParent
- AFXWIN/CWnd::get_accRole
- AFXWIN/CWnd::get_accSelection
- AFXWIN/CWnd::get_accState
- AFXWIN/CWnd::get_accValue
- AFXWIN/CWnd::GetActiveWindow
- AFXWIN/CWnd::GetAncestor
- AFXWIN/CWnd::GetCapture
- AFXWIN/CWnd::GetCaretPos
- AFXWIN/CWnd::GetCheckedRadioButton
- AFXWIN/CWnd::GetClientRect
- AFXWIN/CWnd::GetClipboardOwner
- AFXWIN/CWnd::GetClipboardViewer
- AFXWIN/CWnd::GetControlUnknown
- AFXWIN/CWnd::GetDC
- AFXWIN/CWnd::GetDCEx
- AFXWIN/CWnd::GetDCRenderTarget
- AFXWIN/CWnd::GetDescendantWindow
- AFXWIN/CWnd::GetDesktopWindow
- AFXWIN/CWnd::GetDlgCtrlID
- AFXWIN/CWnd::GetDlgItem
- AFXWIN/CWnd::GetDlgItemInt
- AFXWIN/CWnd::GetDlgItemText
- AFXWIN/CWnd::GetDSCCursor
- AFXWIN/CWnd::GetDynamicLayout
- AFXWIN/CWnd::GetExStyle
- AFXWIN/CWnd::GetFocus
- AFXWIN/CWnd::GetFont
- AFXWIN/CWnd::GetForegroundWindow
- AFXWIN/CWnd::GetIcon
- AFXWIN/CWnd::GetLastActivePopup
- AFXWIN/CWnd::GetLayeredWindowAttributes
- AFXWIN/CWnd::GetMenu
- AFXWIN/CWnd::GetNextDlgGroupItem
- AFXWIN/CWnd::GetNextDlgTabItem
- AFXWIN/CWnd::GetNextWindow
- AFXWIN/CWnd::GetOleControlSite
- AFXWIN/CWnd::GetOpenClipboardWindow
- AFXWIN/CWnd::GetOwner
- AFXWIN/CWnd::GetParent
- AFXWIN/CWnd::GetParentFrame
- AFXWIN/CWnd::GetParentOwner
- AFXWIN/CWnd::GetProperty
- AFXWIN/CWnd::GetRenderTarget
- AFXWIN/CWnd::GetSafeHwnd
- AFXWIN/CWnd::GetSafeOwner
- AFXWIN/CWnd::GetScrollBarCtrl
- AFXWIN/CWnd::GetScrollBarInfo
- AFXWIN/CWnd::GetScrollInfo
- AFXWIN/CWnd::GetScrollLimit
- AFXWIN/CWnd::GetScrollPos
- AFXWIN/CWnd::GetScrollRange
- AFXWIN/CWnd::GetStyle
- AFXWIN/CWnd::GetSystemMenu
- AFXWIN/CWnd::GetTitleBarInfo
- AFXWIN/CWnd::GetTopLevelFrame
- AFXWIN/CWnd::GetTopLevelOwner
- AFXWIN/CWnd::GetTopLevelParent
- AFXWIN/CWnd::GetTopWindow
- AFXWIN/CWnd::GetUpdateRect
- AFXWIN/CWnd::GetUpdateRgn
- AFXWIN/CWnd::GetWindow
- AFXWIN/CWnd::GetWindowContextHelpId
- AFXWIN/CWnd::GetWindowDC
- AFXWIN/CWnd::GetWindowedChildCount
- AFXWIN/CWnd::GetWindowInfo
- AFXWIN/CWnd::GetWindowlessChildCount
- AFXWIN/CWnd::GetWindowPlacement
- AFXWIN/CWnd::GetWindowRect
- AFXWIN/CWnd::GetWindowRgn
- AFXWIN/CWnd::GetWindowText
- AFXWIN/CWnd::GetWindowTextLength
- AFXWIN/CWnd::HideCaret
- AFXWIN/CWnd::HiliteMenuItem
- AFXWIN/CWnd::HtmlHelp
- AFXWIN/CWnd::Invalidate
- AFXWIN/CWnd::InvalidateRect
- AFXWIN/CWnd::InvalidateRgn
- AFXWIN/CWnd::InvokeHelper
- AFXWIN/CWnd::IsChild
- AFXWIN/CWnd::IsD2DSupportEnabled
- AFXWIN/CWnd::IsDialogMessage
- AFXWIN/CWnd::IsDlgButtonChecked
- AFXWIN/CWnd::IsDynamicLayoutEnabled
- AFXWIN/CWnd::IsIconic
- AFXWIN/CWnd::IsTouchWindow
- AFXWIN/CWnd::IsWindowEnabled
- AFXWIN/CWnd::IsWindowVisible
- AFXWIN/CWnd::IsZoomed
- AFXWIN/CWnd::KillTimer
- AFXWIN/CWnd::LockWindowUpdate
- AFXWIN/CWnd::MapWindowPoints
- AFXWIN/CWnd::MessageBox
- AFXWIN/CWnd::ModifyStyle
- AFXWIN/CWnd::ModifyStyleEx
- AFXWIN/CWnd::MoveWindow
- AFXWIN/CWnd::NotifyWinEvent
- AFXWIN/CWnd::OnAmbientProperty
- AFXWIN/CWnd::OnDrawIconicThumbnailOrLivePreview
- AFXWIN/CWnd::OnHelp
- AFXWIN/CWnd::OnHelpFinder
- AFXWIN/CWnd::OnHelpIndex
- AFXWIN/CWnd::OnHelpUsing
- AFXWIN/CWnd::OnToolHitTest
- AFXWIN/CWnd::OpenClipboard
- AFXWIN/CWnd::PaintWindowlessControls
- AFXWIN/CWnd::PostMessage
- AFXWIN/CWnd::PreCreateWindow
- AFXWIN/CWnd::PreSubclassWindow
- AFXWIN/CWnd::PreTranslateMessage
- AFXWIN/CWnd::Print
- AFXWIN/CWnd::PrintClient
- AFXWIN/CWnd::PrintWindow
- AFXWIN/CWnd::RedrawWindow
- AFXWIN/CWnd::RegisterTouchWindow
- AFXWIN/CWnd::ReleaseDC
- AFXWIN/CWnd::RepositionBars
- AFXWIN/CWnd::RunModalLoop
- AFXWIN/CWnd::ScreenToClient
- AFXWIN/CWnd::ScrollWindow
- AFXWIN/CWnd::ScrollWindowEx
- AFXWIN/CWnd::SendChildNotifyLastMsg
- AFXWIN/CWnd::SendDlgItemMessage
- AFXWIN/CWnd::SendMessage
- AFXWIN/CWnd::SendMessageToDescendants
- AFXWIN/CWnd::SendNotifyMessage
- AFXWIN/CWnd::SetActiveWindow
- AFXWIN/CWnd::SetCapture
- AFXWIN/CWnd::SetCaretPos
- AFXWIN/CWnd::SetClipboardViewer
- AFXWIN/CWnd::SetDlgCtrlID
- AFXWIN/CWnd::SetDlgItemInt
- AFXWIN/CWnd::SetDlgItemText
- AFXWIN/CWnd::SetFocus
- AFXWIN/CWnd::SetFont
- AFXWIN/CWnd::SetForegroundWindow
- AFXWIN/CWnd::SetIcon
- AFXWIN/CWnd::SetLayeredWindowAttributes
- AFXWIN/CWnd::SetMenu
- AFXWIN/CWnd::SetOwner
- AFXWIN/CWnd::SetParent
- AFXWIN/CWnd::SetProperty
- AFXWIN/CWnd::SetRedraw
- AFXWIN/CWnd::SetScrollInfo
- AFXWIN/CWnd::SetScrollPos
- AFXWIN/CWnd::SetScrollRange
- AFXWIN/CWnd::SetTimer
- AFXWIN/CWnd::SetWindowContextHelpId
- AFXWIN/CWnd::SetWindowPlacement
- AFXWIN/CWnd::SetWindowPos
- AFXWIN/CWnd::SetWindowRgn
- AFXWIN/CWnd::SetWindowText
- AFXWIN/CWnd::ShowCaret
- AFXWIN/CWnd::ShowOwnedPopups
- AFXWIN/CWnd::ShowScrollBar
- AFXWIN/CWnd::ShowWindow
- AFXWIN/CWnd::SubclassDlgItem
- AFXWIN/CWnd::SubclassWindow
- AFXWIN/CWnd::UnlockWindowUpdate
- AFXWIN/CWnd::UnsubclassWindow
- AFXWIN/CWnd::UpdateData
- AFXWIN/CWnd::UpdateDialogControls
- AFXWIN/CWnd::UpdateLayeredWindow
- AFXWIN/CWnd::UpdateWindow
- AFXWIN/CWnd::ValidateRect
- AFXWIN/CWnd::ValidateRgn
- AFXWIN/CWnd::WindowFromPoint
- AFXWIN/CWnd::WinHelp
- AFXWIN/CWnd::Default
- AFXWIN/CWnd::DefWindowProc
- AFXWIN/CWnd::DoDataExchange
- AFXWIN/CWnd::GetCurrentMessage
- AFXWIN/CWnd::InitDynamicLayout
- AFXWIN/CWnd::LoadDynamicLayoutResource
- AFXWIN/CWnd::OnActivate
- AFXWIN/CWnd::OnActivateApp
- AFXWIN/CWnd::OnAppCommand
- AFXWIN/CWnd::OnAskCbFormatName
- AFXWIN/CWnd::OnCancelMode
- AFXWIN/CWnd::OnCaptureChanged
- AFXWIN/CWnd::OnChangeCbChain
- AFXWIN/CWnd::OnChangeUIState
- AFXWIN/CWnd::OnChar
- AFXWIN/CWnd::OnCharToItem
- AFXWIN/CWnd::OnChildActivate
- AFXWIN/CWnd::OnChildNotify
- AFXWIN/CWnd::OnClipboardUpdate
- AFXWIN/CWnd::OnClose
- AFXWIN/CWnd::OnColorizationColorChanged
- AFXWIN/CWnd::OnCommand
- AFXWIN/CWnd::OnCompacting
- AFXWIN/CWnd::OnCompareItem
- AFXWIN/CWnd::OnCompositionChanged
- AFXWIN/CWnd::OnContextMenu
- AFXWIN/CWnd::OnCopyData
- AFXWIN/CWnd::OnCreate
- AFXWIN/CWnd::OnCtlColor
- AFXWIN/CWnd::OnDeadChar
- AFXWIN/CWnd::OnDeleteItem
- AFXWIN/CWnd::OnDestroy
- AFXWIN/CWnd::OnDestroyClipboard
- AFXWIN/CWnd::OnDeviceChange
- AFXWIN/CWnd::OnDevModeChange
- AFXWIN/CWnd::OnDrawClipboard
- AFXWIN/CWnd::OnDrawItem
- AFXWIN/CWnd::OnDropFiles
- AFXWIN/CWnd::OnEnable
- AFXWIN/CWnd::OnEndSession
- AFXWIN/CWnd::OnEnterIdle
- AFXWIN/CWnd::OnEnterMenuLoop
- AFXWIN/CWnd::OnEnterSizeMove
- AFXWIN/CWnd::OnEraseBkgnd
- AFXWIN/CWnd::OnExitMenuLoop
- AFXWIN/CWnd::OnExitSizeMove
- AFXWIN/CWnd::OnFontChange
- AFXWIN/CWnd::OnGetDlgCode
- AFXWIN/CWnd::OnGetMinMaxInfo
- AFXWIN/CWnd::OnHelpInfo
- AFXWIN/CWnd::OnHotKey
- AFXWIN/CWnd::OnHScroll
- AFXWIN/CWnd::OnHScrollClipboard
- AFXWIN/CWnd::OnIconEraseBkgnd
- AFXWIN/CWnd::OnInitMenu
- AFXWIN/CWnd::OnInitMenuPopup
- AFXWIN/CWnd::OnInputDeviceChange
- AFXWIN/CWnd::OnInputLangChange
- AFXWIN/CWnd::OnInputLangChangeRequest
- AFXWIN/CWnd::OnKeyDown
- AFXWIN/CWnd::OnKeyUp
- AFXWIN/CWnd::OnKillFocus
- AFXWIN/CWnd::OnLButtonDblClk
- AFXWIN/CWnd::OnLButtonDown
- AFXWIN/CWnd::OnLButtonUp
- AFXWIN/CWnd::OnMButtonDblClk
- AFXWIN/CWnd::OnMButtonDown
- AFXWIN/CWnd::OnMButtonUp
- AFXWIN/CWnd::OnMDIActivate
- AFXWIN/CWnd::OnMeasureItem
- AFXWIN/CWnd::OnMenuChar
- AFXWIN/CWnd::OnMenuDrag
- AFXWIN/CWnd::OnMenuGetObject
- AFXWIN/CWnd::OnMenuRButtonUp
- AFXWIN/CWnd::OnMenuSelect
- AFXWIN/CWnd::OnMouseActivate
- AFXWIN/CWnd::OnMouseHover
- AFXWIN/CWnd::OnMouseHWheel
- AFXWIN/CWnd::OnMouseLeave
- AFXWIN/CWnd::OnMouseMove
- AFXWIN/CWnd::OnMouseWheel
- AFXWIN/CWnd::OnMove
- AFXWIN/CWnd::OnMoving
- AFXWIN/CWnd::OnNcActivate
- AFXWIN/CWnd::OnNcCalcSize
- AFXWIN/CWnd::OnNcCreate
- AFXWIN/CWnd::OnNcDestroy
- AFXWIN/CWnd::OnNcHitTest
- AFXWIN/CWnd::OnNcLButtonDblClk
- AFXWIN/CWnd::OnNcLButtonDown
- AFXWIN/CWnd::OnNcLButtonUp
- AFXWIN/CWnd::OnNcMButtonDblClk
- AFXWIN/CWnd::OnNcMButtonDown
- AFXWIN/CWnd::OnNcMButtonUp
- AFXWIN/CWnd::OnNcMouseHover
- AFXWIN/CWnd::OnNcMouseLeave
- AFXWIN/CWnd::OnNcMouseMove
- AFXWIN/CWnd::OnNcPaint
- AFXWIN/CWnd::OnNcRButtonDblClk
- AFXWIN/CWnd::OnNcRButtonDown
- AFXWIN/CWnd::OnNcRButtonUp
- AFXWIN/CWnd::OnNcRenderingChanged
- AFXWIN/CWnd::OnNcXButtonDblClk
- AFXWIN/CWnd::OnNcXButtonDown
- AFXWIN/CWnd::OnNcXButtonUp
- AFXWIN/CWnd::OnNextMenu
- AFXWIN/CWnd::OnNotify
- AFXWIN/CWnd::OnNotifyFormat
- AFXWIN/CWnd::OnPaint
- AFXWIN/CWnd::OnPaintClipboard
- AFXWIN/CWnd::OnPaletteChanged
- AFXWIN/CWnd::OnPaletteIsChanging
- AFXWIN/CWnd::OnParentNotify
- AFXWIN/CWnd::OnPowerBroadcast
- AFXWIN/CWnd::OnQueryDragIcon
- AFXWIN/CWnd::OnQueryEndSession
- AFXWIN/CWnd::OnQueryNewPalette
- AFXWIN/CWnd::OnQueryOpen
- AFXWIN/CWnd::OnQueryUIState
- AFXWIN/CWnd::OnRawInput
- AFXWIN/CWnd::OnRButtonDblClk
- AFXWIN/CWnd::OnRButtonDown
- AFXWIN/CWnd::OnRButtonUp
- AFXWIN/CWnd::OnRenderAllFormats
- AFXWIN/CWnd::OnRenderFormat
- AFXWIN/CWnd::OnSessionChange
- AFXWIN/CWnd::OnSetCursor
- AFXWIN/CWnd::OnSetFocus
- AFXWIN/CWnd::OnSettingChange
- AFXWIN/CWnd::OnShowWindow
- AFXWIN/CWnd::OnSize
- AFXWIN/CWnd::OnSizeClipboard
- AFXWIN/CWnd::OnSizing
- AFXWIN/CWnd::OnSpoolerStatus
- AFXWIN/CWnd::OnStyleChanged
- AFXWIN/CWnd::OnStyleChanging
- AFXWIN/CWnd::OnSysChar
- AFXWIN/CWnd::OnSysColorChange
- AFXWIN/CWnd::OnSysCommand
- AFXWIN/CWnd::OnSysDeadChar
- AFXWIN/CWnd::OnSysKeyDown
- AFXWIN/CWnd::OnSysKeyUp
- AFXWIN/CWnd::OnTCard
- AFXWIN/CWnd::OnTimeChange
- AFXWIN/CWnd::OnTimer
- AFXWIN/CWnd::OnTouchInput
- AFXWIN/CWnd::OnTouchInputs
- AFXWIN/CWnd::OnUniChar
- AFXWIN/CWnd::OnUnInitMenuPopup
- AFXWIN/CWnd::OnUpdateUIState
- AFXWIN/CWnd::OnUserChanged
- AFXWIN/CWnd::OnVKeyToItem
- AFXWIN/CWnd::OnVScroll
- AFXWIN/CWnd::OnVScrollClipboard
- AFXWIN/CWnd::OnWindowPosChanged
- AFXWIN/CWnd::OnWindowPosChanging
- AFXWIN/CWnd::OnWinIniChange
- AFXWIN/CWnd::OnWndMsg
- AFXWIN/CWnd::OnXButtonDblClk
- AFXWIN/CWnd::OnXButtonDown
- AFXWIN/CWnd::OnXButtonUp
- AFXWIN/CWnd::PostNcDestroy
- AFXWIN/CWnd::ReflectChildNotify
- AFXWIN/CWnd::ReflectLastMsg
- AFXWIN/CWnd::ResizeDynamicLayout
- AFXWIN/CWnd::WindowProc
- AFXWIN/CWnd::m_hWnd
helpviewer_keywords:
- CWnd [MFC], CWnd
- CWnd [MFC], accDoDefaultAction
- CWnd [MFC], accHitTest
- CWnd [MFC], accLocation
- CWnd [MFC], accNavigate
- CWnd [MFC], accSelect
- CWnd [MFC], AnimateWindow
- CWnd [MFC], ArrangeIconicWindows
- CWnd [MFC], Attach
- CWnd [MFC], BeginModalState
- CWnd [MFC], BeginPaint
- CWnd [MFC], BindDefaultProperty
- CWnd [MFC], BindProperty
- CWnd [MFC], BringWindowToTop
- CWnd [MFC], CalcWindowRect
- CWnd [MFC], CancelToolTips
- CWnd [MFC], CenterWindow
- CWnd [MFC], ChangeClipboardChain
- CWnd [MFC], CheckDlgButton
- CWnd [MFC], CheckRadioButton
- CWnd [MFC], ChildWindowFromPoint
- CWnd [MFC], ClientToScreen
- CWnd [MFC], CloseWindow
- CWnd [MFC], ContinueModal
- CWnd [MFC], Create
- CWnd [MFC], CreateAccessibleProxy
- CWnd [MFC], CreateCaret
- CWnd [MFC], CreateControl
- CWnd [MFC], CreateEx
- CWnd [MFC], CreateGrayCaret
- CWnd [MFC], CreateSolidCaret
- CWnd [MFC], DeleteTempMap
- CWnd [MFC], DestroyWindow
- CWnd [MFC], Detach
- CWnd [MFC], DlgDirList
- CWnd [MFC], DlgDirListComboBox
- CWnd [MFC], DlgDirSelect
- CWnd [MFC], DlgDirSelectComboBox
- CWnd [MFC], DragAcceptFiles
- CWnd [MFC], DragDetect
- CWnd [MFC], DrawAnimatedRects
- CWnd [MFC], DrawCaption
- CWnd [MFC], DrawMenuBar
- CWnd [MFC], EnableActiveAccessibility
- CWnd [MFC], EnableDynamicLayout
- CWnd [MFC], EnableD2DSupport
- CWnd [MFC], EnableScrollBar
- CWnd [MFC], EnableScrollBarCtrl
- CWnd [MFC], EnableToolTips
- CWnd [MFC], EnableTrackingToolTips
- CWnd [MFC], EnableWindow
- CWnd [MFC], EndModalLoop
- CWnd [MFC], EndModalState
- CWnd [MFC], EndPaint
- CWnd [MFC], ExecuteDlgInit
- CWnd [MFC], FilterToolTipMessage
- CWnd [MFC], FindWindow
- CWnd [MFC], FindWindowEx
- CWnd [MFC], FlashWindow
- CWnd [MFC], FlashWindowEx
- CWnd [MFC], FromHandle
- CWnd [MFC], FromHandlePermanent
- CWnd [MFC], get_accChild
- CWnd [MFC], get_accChildCount
- CWnd [MFC], get_accDefaultAction
- CWnd [MFC], get_accDescription
- CWnd [MFC], get_accFocus
- CWnd [MFC], get_accHelp
- CWnd [MFC], get_accHelpTopic
- CWnd [MFC], get_accKeyboardShortcut
- CWnd [MFC], get_accName
- CWnd [MFC], get_accParent
- CWnd [MFC], get_accRole
- CWnd [MFC], get_accSelection
- CWnd [MFC], get_accState
- CWnd [MFC], get_accValue
- CWnd [MFC], GetActiveWindow
- CWnd [MFC], GetAncestor
- CWnd [MFC], GetCapture
- CWnd [MFC], GetCaretPos
- CWnd [MFC], GetCheckedRadioButton
- CWnd [MFC], GetClientRect
- CWnd [MFC], GetClipboardOwner
- CWnd [MFC], GetClipboardViewer
- CWnd [MFC], GetControlUnknown
- CWnd [MFC], GetDC
- CWnd [MFC], GetDCEx
- CWnd [MFC], GetDCRenderTarget
- CWnd [MFC], GetDescendantWindow
- CWnd [MFC], GetDesktopWindow
- CWnd [MFC], GetDlgCtrlID
- CWnd [MFC], GetDlgItem
- CWnd [MFC], GetDlgItemInt
- CWnd [MFC], GetDlgItemText
- CWnd [MFC], GetDSCCursor
- CWnd [MFC], GetDynamicLayout
- CWnd [MFC], GetExStyle
- CWnd [MFC], GetFocus
- CWnd [MFC], GetFont
- CWnd [MFC], GetForegroundWindow
- CWnd [MFC], GetIcon
- CWnd [MFC], GetLastActivePopup
- CWnd [MFC], GetLayeredWindowAttributes
- CWnd [MFC], GetMenu
- CWnd [MFC], GetNextDlgGroupItem
- CWnd [MFC], GetNextDlgTabItem
- CWnd [MFC], GetNextWindow
- CWnd [MFC], GetOleControlSite
- CWnd [MFC], GetOpenClipboardWindow
- CWnd [MFC], GetOwner
- CWnd [MFC], GetParent
- CWnd [MFC], GetParentFrame
- CWnd [MFC], GetParentOwner
- CWnd [MFC], GetProperty
- CWnd [MFC], GetRenderTarget
- CWnd [MFC], GetSafeHwnd
- CWnd [MFC], GetSafeOwner
- CWnd [MFC], GetScrollBarCtrl
- CWnd [MFC], GetScrollBarInfo
- CWnd [MFC], GetScrollInfo
- CWnd [MFC], GetScrollLimit
- CWnd [MFC], GetScrollPos
- CWnd [MFC], GetScrollRange
- CWnd [MFC], GetStyle
- CWnd [MFC], GetSystemMenu
- CWnd [MFC], GetTitleBarInfo
- CWnd [MFC], GetTopLevelFrame
- CWnd [MFC], GetTopLevelOwner
- CWnd [MFC], GetTopLevelParent
- CWnd [MFC], GetTopWindow
- CWnd [MFC], GetUpdateRect
- CWnd [MFC], GetUpdateRgn
- CWnd [MFC], GetWindow
- CWnd [MFC], GetWindowContextHelpId
- CWnd [MFC], GetWindowDC
- CWnd [MFC], GetWindowedChildCount
- CWnd [MFC], GetWindowInfo
- CWnd [MFC], GetWindowlessChildCount
- CWnd [MFC], GetWindowPlacement
- CWnd [MFC], GetWindowRect
- CWnd [MFC], GetWindowRgn
- CWnd [MFC], GetWindowText
- CWnd [MFC], GetWindowTextLength
- CWnd [MFC], HideCaret
- CWnd [MFC], HiliteMenuItem
- CWnd [MFC], HtmlHelp
- CWnd [MFC], Invalidate
- CWnd [MFC], InvalidateRect
- CWnd [MFC], InvalidateRgn
- CWnd [MFC], InvokeHelper
- CWnd [MFC], IsChild
- CWnd [MFC], IsD2DSupportEnabled
- CWnd [MFC], IsDialogMessage
- CWnd [MFC], IsDlgButtonChecked
- CWnd [MFC], IsDynamicLayoutEnabled
- CWnd [MFC], IsIconic
- CWnd [MFC], IsTouchWindow
- CWnd [MFC], IsWindowEnabled
- CWnd [MFC], IsWindowVisible
- CWnd [MFC], IsZoomed
- CWnd [MFC], KillTimer
- CWnd [MFC], LockWindowUpdate
- CWnd [MFC], MapWindowPoints
- CWnd [MFC], MessageBox
- CWnd [MFC], ModifyStyle
- CWnd [MFC], ModifyStyleEx
- CWnd [MFC], MoveWindow
- CWnd [MFC], NotifyWinEvent
- CWnd [MFC], OnAmbientProperty
- CWnd [MFC], OnDrawIconicThumbnailOrLivePreview
- CWnd [MFC], OnHelp
- CWnd [MFC], OnHelpFinder
- CWnd [MFC], OnHelpIndex
- CWnd [MFC], OnHelpUsing
- CWnd [MFC], OnToolHitTest
- CWnd [MFC], OpenClipboard
- CWnd [MFC], PaintWindowlessControls
- CWnd [MFC], PostMessage
- CWnd [MFC], PreCreateWindow
- CWnd [MFC], PreSubclassWindow
- CWnd [MFC], PreTranslateMessage
- CWnd [MFC], Print
- CWnd [MFC], PrintClient
- CWnd [MFC], PrintWindow
- CWnd [MFC], RedrawWindow
- CWnd [MFC], RegisterTouchWindow
- CWnd [MFC], ReleaseDC
- CWnd [MFC], RepositionBars
- CWnd [MFC], RunModalLoop
- CWnd [MFC], ScreenToClient
- CWnd [MFC], ScrollWindow
- CWnd [MFC], ScrollWindowEx
- CWnd [MFC], SendChildNotifyLastMsg
- CWnd [MFC], SendDlgItemMessage
- CWnd [MFC], SendMessage
- CWnd [MFC], SendMessageToDescendants
- CWnd [MFC], SendNotifyMessage
- CWnd [MFC], SetActiveWindow
- CWnd [MFC], SetCapture
- CWnd [MFC], SetCaretPos
- CWnd [MFC], SetClipboardViewer
- CWnd [MFC], SetDlgCtrlID
- CWnd [MFC], SetDlgItemInt
- CWnd [MFC], SetDlgItemText
- CWnd [MFC], SetFocus
- CWnd [MFC], SetFont
- CWnd [MFC], SetForegroundWindow
- CWnd [MFC], SetIcon
- CWnd [MFC], SetLayeredWindowAttributes
- CWnd [MFC], SetMenu
- CWnd [MFC], SetOwner
- CWnd [MFC], SetParent
- CWnd [MFC], SetProperty
- CWnd [MFC], SetRedraw
- CWnd [MFC], SetScrollInfo
- CWnd [MFC], SetScrollPos
- CWnd [MFC], SetScrollRange
- CWnd [MFC], SetTimer
- CWnd [MFC], SetWindowContextHelpId
- CWnd [MFC], SetWindowPlacement
- CWnd [MFC], SetWindowPos
- CWnd [MFC], SetWindowRgn
- CWnd [MFC], SetWindowText
- CWnd [MFC], ShowCaret
- CWnd [MFC], ShowOwnedPopups
- CWnd [MFC], ShowScrollBar
- CWnd [MFC], ShowWindow
- CWnd [MFC], SubclassDlgItem
- CWnd [MFC], SubclassWindow
- CWnd [MFC], UnlockWindowUpdate
- CWnd [MFC], UnsubclassWindow
- CWnd [MFC], UpdateData
- CWnd [MFC], UpdateDialogControls
- CWnd [MFC], UpdateLayeredWindow
- CWnd [MFC], UpdateWindow
- CWnd [MFC], ValidateRect
- CWnd [MFC], ValidateRgn
- CWnd [MFC], WindowFromPoint
- CWnd [MFC], WinHelp
- CWnd [MFC], Default
- CWnd [MFC], DefWindowProc
- CWnd [MFC], DoDataExchange
- CWnd [MFC], GetCurrentMessage
- CWnd [MFC], InitDynamicLayout
- CWnd [MFC], LoadDynamicLayoutResource
- CWnd [MFC], OnActivate
- CWnd [MFC], OnActivateApp
- CWnd [MFC], OnAppCommand
- CWnd [MFC], OnAskCbFormatName
- CWnd [MFC], OnCancelMode
- CWnd [MFC], OnCaptureChanged
- CWnd [MFC], OnChangeCbChain
- CWnd [MFC], OnChangeUIState
- CWnd [MFC], OnChar
- CWnd [MFC], OnCharToItem
- CWnd [MFC], OnChildActivate
- CWnd [MFC], OnChildNotify
- CWnd [MFC], OnClipboardUpdate
- CWnd [MFC], OnClose
- CWnd [MFC], OnColorizationColorChanged
- CWnd [MFC], OnCommand
- CWnd [MFC], OnCompacting
- CWnd [MFC], OnCompareItem
- CWnd [MFC], OnCompositionChanged
- CWnd [MFC], OnContextMenu
- CWnd [MFC], OnCopyData
- CWnd [MFC], OnCreate
- CWnd [MFC], OnCtlColor
- CWnd [MFC], OnDeadChar
- CWnd [MFC], OnDeleteItem
- CWnd [MFC], OnDestroy
- CWnd [MFC], OnDestroyClipboard
- CWnd [MFC], OnDeviceChange
- CWnd [MFC], OnDevModeChange
- CWnd [MFC], OnDrawClipboard
- CWnd [MFC], OnDrawItem
- CWnd [MFC], OnDropFiles
- CWnd [MFC], OnEnable
- CWnd [MFC], OnEndSession
- CWnd [MFC], OnEnterIdle
- CWnd [MFC], OnEnterMenuLoop
- CWnd [MFC], OnEnterSizeMove
- CWnd [MFC], OnEraseBkgnd
- CWnd [MFC], OnExitMenuLoop
- CWnd [MFC], OnExitSizeMove
- CWnd [MFC], OnFontChange
- CWnd [MFC], OnGetDlgCode
- CWnd [MFC], OnGetMinMaxInfo
- CWnd [MFC], OnHelpInfo
- CWnd [MFC], OnHotKey
- CWnd [MFC], OnHScroll
- CWnd [MFC], OnHScrollClipboard
- CWnd [MFC], OnIconEraseBkgnd
- CWnd [MFC], OnInitMenu
- CWnd [MFC], OnInitMenuPopup
- CWnd [MFC], OnInputDeviceChange
- CWnd [MFC], OnInputLangChange
- CWnd [MFC], OnInputLangChangeRequest
- CWnd [MFC], OnKeyDown
- CWnd [MFC], OnKeyUp
- CWnd [MFC], OnKillFocus
- CWnd [MFC], OnLButtonDblClk
- CWnd [MFC], OnLButtonDown
- CWnd [MFC], OnLButtonUp
- CWnd [MFC], OnMButtonDblClk
- CWnd [MFC], OnMButtonDown
- CWnd [MFC], OnMButtonUp
- CWnd [MFC], OnMDIActivate
- CWnd [MFC], OnMeasureItem
- CWnd [MFC], OnMenuChar
- CWnd [MFC], OnMenuDrag
- CWnd [MFC], OnMenuGetObject
- CWnd [MFC], OnMenuRButtonUp
- CWnd [MFC], OnMenuSelect
- CWnd [MFC], OnMouseActivate
- CWnd [MFC], OnMouseHover
- CWnd [MFC], OnMouseHWheel
- CWnd [MFC], OnMouseLeave
- CWnd [MFC], OnMouseMove
- CWnd [MFC], OnMouseWheel
- CWnd [MFC], OnMove
- CWnd [MFC], OnMoving
- CWnd [MFC], OnNcActivate
- CWnd [MFC], OnNcCalcSize
- CWnd [MFC], OnNcCreate
- CWnd [MFC], OnNcDestroy
- CWnd [MFC], OnNcHitTest
- CWnd [MFC], OnNcLButtonDblClk
- CWnd [MFC], OnNcLButtonDown
- CWnd [MFC], OnNcLButtonUp
- CWnd [MFC], OnNcMButtonDblClk
- CWnd [MFC], OnNcMButtonDown
- CWnd [MFC], OnNcMButtonUp
- CWnd [MFC], OnNcMouseHover
- CWnd [MFC], OnNcMouseLeave
- CWnd [MFC], OnNcMouseMove
- CWnd [MFC], OnNcPaint
- CWnd [MFC], OnNcRButtonDblClk
- CWnd [MFC], OnNcRButtonDown
- CWnd [MFC], OnNcRButtonUp
- CWnd [MFC], OnNcRenderingChanged
- CWnd [MFC], OnNcXButtonDblClk
- CWnd [MFC], OnNcXButtonDown
- CWnd [MFC], OnNcXButtonUp
- CWnd [MFC], OnNextMenu
- CWnd [MFC], OnNotify
- CWnd [MFC], OnNotifyFormat
- CWnd [MFC], OnPaint
- CWnd [MFC], OnPaintClipboard
- CWnd [MFC], OnPaletteChanged
- CWnd [MFC], OnPaletteIsChanging
- CWnd [MFC], OnParentNotify
- CWnd [MFC], OnPowerBroadcast
- CWnd [MFC], OnQueryDragIcon
- CWnd [MFC], OnQueryEndSession
- CWnd [MFC], OnQueryNewPalette
- CWnd [MFC], OnQueryOpen
- CWnd [MFC], OnQueryUIState
- CWnd [MFC], OnRawInput
- CWnd [MFC], OnRButtonDblClk
- CWnd [MFC], OnRButtonDown
- CWnd [MFC], OnRButtonUp
- CWnd [MFC], OnRenderAllFormats
- CWnd [MFC], OnRenderFormat
- CWnd [MFC], OnSessionChange
- CWnd [MFC], OnSetCursor
- CWnd [MFC], OnSetFocus
- CWnd [MFC], OnSettingChange
- CWnd [MFC], OnShowWindow
- CWnd [MFC], OnSize
- CWnd [MFC], OnSizeClipboard
- CWnd [MFC], OnSizing
- CWnd [MFC], OnSpoolerStatus
- CWnd [MFC], OnStyleChanged
- CWnd [MFC], OnStyleChanging
- CWnd [MFC], OnSysChar
- CWnd [MFC], OnSysColorChange
- CWnd [MFC], OnSysCommand
- CWnd [MFC], OnSysDeadChar
- CWnd [MFC], OnSysKeyDown
- CWnd [MFC], OnSysKeyUp
- CWnd [MFC], OnTCard
- CWnd [MFC], OnTimeChange
- CWnd [MFC], OnTimer
- CWnd [MFC], OnTouchInput
- CWnd [MFC], OnTouchInputs
- CWnd [MFC], OnUniChar
- CWnd [MFC], OnUnInitMenuPopup
- CWnd [MFC], OnUpdateUIState
- CWnd [MFC], OnUserChanged
- CWnd [MFC], OnVKeyToItem
- CWnd [MFC], OnVScroll
- CWnd [MFC], OnVScrollClipboard
- CWnd [MFC], OnWindowPosChanged
- CWnd [MFC], OnWindowPosChanging
- CWnd [MFC], OnWinIniChange
- CWnd [MFC], OnWndMsg
- CWnd [MFC], OnXButtonDblClk
- CWnd [MFC], OnXButtonDown
- CWnd [MFC], OnXButtonUp
- CWnd [MFC], PostNcDestroy
- CWnd [MFC], ReflectChildNotify
- CWnd [MFC], ReflectLastMsg
- CWnd [MFC], ResizeDynamicLayout
- CWnd [MFC], WindowProc
- CWnd [MFC], m_hWnd
ms.assetid: 49a832ee-bc34-4126-88b3-bc1d9974f6c4
ms.openlocfilehash: 1f0338d827a9ec92747169ff2682e6d47485e4c2
ms.sourcegitcommit: 7ecd91d8ce18088a956917cdaf3a3565bd128510
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/16/2020
ms.locfileid: "79426399"
---
# <a name="cwnd-class"></a>Класс CWnd

Предоставляет базовую функциональность всех классов окон в библиотеке Microsoft Foundation Class.

## <a name="syntax"></a>Синтаксис

```
class CWnd : public CCmdTarget
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|[CWnd:: CWnd](#cwnd)|Создает объект `CWnd`.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CWnd:: Аккдодефаултактион](#accdodefaultaction)|Вызывается платформой для выполнения объектом действия по умолчанию.|
|[CWnd::accHitTest](#acchittest)|Вызывается платформой для извлечения дочернего элемента или дочернего объекта в заданной точке экрана.|
|[CWnd:: Акклокатион](#acclocation)|Вызывается платформой для получения текущего положения указанного объекта на экране.|
|[CWnd::accNavigate](#accnavigate)|Вызывается платформой для перехода к другому элементу пользовательского интерфейса внутри контейнера и, если возможно, для извлечения объекта.|
|[CWnd::accSelect](#accselect)|Вызывается платформой для изменения выбранной области или перемещения фокуса клавиатурного ввода указанного объекта.|
|[CWnd::AnimateWindow](#animatewindow)|Анимирует связанный объект"Окно".|
|[CWnd::ArrangeIconicWindows](#arrangeiconicwindows)|Упорядочивает все свернутые (преобразованные в значки) дочерние окна.|
|[CWnd:: Attach](#attach)|Прикрепляет дескриптор Windows к объекту `CWnd`.|
|[CWnd:: Бегинмодалстате](#beginmodalstate)|Данная функция-член вызывается для преобразования окна фрейма в модальное.|
|[CWnd:: Бегинпаинт](#beginpaint)|Подготавливает `CWnd` к рисованию.|
|[CWnd:: Бинддефаултпроперти](#binddefaultproperty)|Привязывает простое стандартное свойство привязки вызывающего объекта, отмеченное в библиотеке типов, к курсору, связанному с элементом управления источником данных.|
|[CWnd:: Биндпроперти](#bindproperty)|Привязывает связанное с курсором свойство на элементе управления, привязанном к данным, к элементу управления источником данных и регистрирует такую связь в диспетчере привязки MFC.|
|[CWnd:: Брингвиндовтотоп](#bringwindowtotop)|Перемещает `CWnd` на вершину стека перекрывающихся окон.|
|[CWnd:: Калквиндоврект](#calcwindowrect)|Вызывается для вычисления размеров прямоугольной области окна из клиентской прямоугольной области.|
|[CWnd::CancelToolTips](#canceltooltips)|Отключает элемент управления "Всплывающая подсказка".|
|[CWnd::CenterWindow](#centerwindow)|Выравнивает окно по центру относительно его родительских окон.|
|[CWnd::ChangeClipboardChain](#changeclipboardchain)|Удаляет объект `CWnd` из цепи в окне буфера обмена.|
|[CWnd::CheckDlgButton](#checkdlgbutton)|Устанавливает флажок для элемента управления "Кнопка" или снимает его.|
|[CWnd:: Чеккрадиобуттон](#checkradiobutton)|Отмечает указанный переключатель и убирает отметку для остальных переключателей в указанной группе кнопок.|
|[CWnd::ChildWindowFromPoint](#childwindowfrompoint)|Определяет, в каком из указанных дочерних окон содержится заданная точка (если такие окна имеются).|
|[CWnd:: Клиенттоскрин](#clienttoscreen)|Преобразует клиентские координаты указанной точки или прямоугольника на экране в экранные координаты.|
|[CWnd::CloseWindow](#closewindow)|Сворачивает окно.|
|[CWnd:: Континуемодал](#continuemodal)|Сохраняет модальное состояние окна.|
|[CWnd:: Create](#create)|Создает и инициализирует дочернее окно, связанное с объектом `CWnd`.|
|[CWnd::CreateAccessibleProxy](#createaccessibleproxy)|Создает прокси-сервер Active Accessibility для указанного объекта.|
|[CWnd::CreateCaret](#createcaret)|Создает новую форму системного курсора и получает его во владение.|
|[CWnd::CreateControl](#createcontrol)|Создает элемент управления ActiveX, который будет представлен в программе MFC объектом `CWnd`.|
|[CWnd::CreateEx](#createex)|Создает перекрывающееся, всплывающее или дочернее окно Windows и прикрепляет его к объекту `CWnd`.|
|[CWnd::CreateGrayCaret](#creategraycaret)|Создает серый блок для системного курсора и получает этот курсор во владение.|
|[CWnd::CreateSolidCaret](#createsolidcaret)|Создает сплошной блок для системного курсора и получает этот курсор во владение.|
|[CWnd::DeleteTempMap](#deletetempmap)|Автоматически вызывается обработчиком времени простоя `CWinApp` и удаляет все временные объекты `CWnd`, созданные `FromHandle`.|
|[CWnd::DestroyWindow](#destroywindow)|Уничтожает прикрепленное окно Windows.|
|[CWnd::D етач](#detach)|Отсоединяет дескриптор Windows от объекта `CWnd` и возвращает дескриптор.|
|[CWnd::D Лгдирлист](#dlgdirlist)|Заполняет список файлами или каталогами.|
|[CWnd::DlgDirListComboBox](#dlgdirlistcombobox)|Заполняет список элемента управления "Поле со списком" перечнем файлов или каталогов.|
|[CWnd::D Лгдирселект](#dlgdirselect)|Извлекает текущее выделение из списка.|
|[CWnd::DlgDirSelectComboBox](#dlgdirselectcombobox)|Извлекает текущее выделение списка элемента управления "Поле со списком".|
|[CWnd::D Рагакцептфилес](#dragacceptfiles)|Указывает, что в окно можно перетаскивать файлы.|
|[CWnd::D Рагдетект](#dragdetect)|Захватывает мышь и отслеживает ее движение, пока пользователь не отпустит левую кнопку мыши, не нажмет клавишу ESC или не переместит мышь за пределы прямоугольника перетаскивания, в котором находится указанная точка.|
|[CWnd::D Раваниматедректс](#drawanimatedrects)|Рисует каркасный прямоугольник и анимирует его для обозначения открытия значка, а также сворачивания или разворачивания окна.|
|[CWnd::D Равкаптион](#drawcaption)|Рисует заголовок.|
|[CWnd::D Равменубар](#drawmenubar)|Перерисовывает строку меню.|
|[CWnd:: Енаблеактивеакцессибилити](#enableactiveaccessibility)|Включает пользовательские функции `Active Accessibility`.|
|[CWnd:: Енаблединамиклайаут](#enabledynamiclayout)|Включает динамическое изменение положения и размера дочерних окон при изменении размеров родительского окна.|
|[CWnd:: EnableD2DSupport](#enabled2dsupport)|Включает или отключает поддержку окнами `D2D`. Данный метод следует вызывать до инициализации основного окна.|
|[CWnd:: Енаблескроллбар](#enablescrollbar)|Включает или выключает одну или обе стрелки полосы прокрутки.|
|[CWnd:: Енаблескроллбарктрл](#enablescrollbarctrl)|Включает или выключает элемент управления "Полоса прокрутки" того же уровня.|
|[CWnd:: Енаблетултипс](#enabletooltips)|Включает элемент управления "Всплывающая подсказка".|
|[CWnd:: Енаблетраккингтултипс](#enabletrackingtooltips)|Включает элемент управления "Всплывающая подсказка" в режиме отслеживания.|
|[CWnd::EnableWindow](#enablewindow)|Разрешает или запрещает ввод с помощью мыши и клавиатуры.|
|[CWnd:: Ендмодаллуп](#endmodalloop)|Снимает с окна модальное состояние.|
|[CWnd::EndModalState](#endmodalstate)|Данная функция-член вызывается для изменения состояния окна с модального на немодальное.|
|[CWnd:: Ендпаинт](#endpaint)|Отмечает завершение рисования.|
|[CWnd::ExecuteDlgInit](#executedlginit)|Инициирует ресурс диалогового окна.|
|[CWnd::FilterToolTipMessage](#filtertooltipmessage)|Извлекает заголовок или текст, связанный с элементом управления в диалоговом окне.|
|[CWnd::FindWindow](#findwindow)|Возвращает дескриптор окна, идентифицированного по имени и классу.|
|[CWnd:: FindWindowEx](#findwindowex)|Возвращает дескриптор окна, идентифицированного по имени и классу.|
|[CWnd:: FlashWindow интерфейса](#flashwindow)|Окно однократно мигает.|
|[CWnd:: Флашвиндовекс](#flashwindowex)|Мигание окна с дополнительными возможностями.|
|[CWnd:: FromHandle](#fromhandle)|Возвращает указатель на объект `CWnd`, когда дескриптор передается окну. Если объект `CWnd` не прикреплен к дескриптору, создается и прикрепляется временный объект `CWnd`.|
|[CWnd:: Фромхандлеперманент](#fromhandlepermanent)|Возвращает указатель на объект `CWnd`, когда дескриптор передается окну.|
|[CWnd::get_accChild](#get_accchild)|Вызывается платформой для извлечения адреса интерфейса `IDispatch` для указанного дочернего элемента.|
|[CWnd::get_accChildCount](#get_accchildcount)|Вызывается платформой для извлечения количества дочерних элементов, принадлежащих этому объекту.|
|[CWnd::get_accDefaultAction](#get_accdefaultaction)|Вызывается платформой для извлечения строки, описывающей действие объекта по умолчанию.|
|[CWnd::get_accDescription](#get_accdescription)|Вызывается платформой для извлечения строки, описывающей внешний вид указанного объекта.|
|[CWnd::get_accFocus](#get_accfocus)|Вызывается платформой для извлечения объекта, имеющего фокус клавиатурного ввода.|
|[CWnd::get_accHelp](#get_acchelp)|Вызывается платформой для получения строки свойства **справки** объекта.|
|[CWnd::get_accHelpTopic](#get_acchelptopic)|Вызывается платформой для извлечения полного пути файла `WinHelp`, связанного с указанным объектом и идентификатором нужного раздела в файле.|
|[CWnd::get_accKeyboardShortcut](#get_acckeyboardshortcut)|Вызывается платформой для извлечения сочетания клавиш указанного объекта или клавиши доступа к нему.|
|[CWnd::get_accName](#get_accname)|Вызывается платформой для извлечения имени указанного объекта.|
|[CWnd::get_accParent](#get_accparent)|Вызывается платформой для извлечения интерфейса `IDispatch` родительского элемента данного объекта.|
|[CWnd::get_accRole](#get_accrole)|Вызывается платформой для извлечения информации, описывающей роль указанного объекта.|
|[CWnd::get_accSelection](#get_accselection)|Вызывается платформой для извлечения выбранного дочернего элемента этого объекта.|
|[CWnd::get_accState](#get_accstate)|Вызывается платформой для извлечения текущего состояния указанного объекта.|
|[CWnd::get_accValue](#get_accvalue)|Вызывается платформой для извлечения значения указанного объекта.|
|[CWnd::GetActiveWindow](#getactivewindow)|Извлекает активное окно.|
|[CWnd::GetAncestor](#getancestor)|Извлекает объект окна-предка для указанного окна.|
|[CWnd::GetCapture](#getcapture)|Извлекает объект `CWnd`, захваченный мышью.|
|[CWnd::GetCaretPos](#getcaretpos)|Извлекает клиентские координаты текущего положения курсора.|
|[CWnd::GetCheckedRadioButton](#getcheckedradiobutton)|Возвращает идентификатор отмеченного переключателя в группе кнопок.|
|[CWnd::GetClientRect](#getclientrect)|Возвращает размеры клиентской области `CWnd`.|
|[CWnd::GetClipboardOwner](#getclipboardowner)|Извлекает указатель на текущего владельца буфера обмена.|
|[CWnd::GetClipboardViewer](#getclipboardviewer)|Извлекает указатель на первое окно в цепочке окон буфера обмена.|
|[CWnd::GetControlUnknown](#getcontrolunknown)|Извлекает указатель на неизвестный элемент управления ActiveX.|
|[CWnd::GetDC](#getdc)|Извлекает контекст отображения для клиентской области.|
|[CWnd::GetDCEx](#getdcex)|Извлекает контекст отображения для клиентской области и включает обрезку при рисовании.|
|[CWnd::GetDCRenderTarget](#getdcrendertarget)|Извлекает целевой объект отрисовки из контекста устройства для окна `CWnd`.|
|[CWnd::GetDescendantWindow](#getdescendantwindow)|Выполняет поиск всех окон-потомков и возвращает окно с указанным идентификатором.|
|[CWnd::GetDesktopWindow](#getdesktopwindow)|Извлекает окно рабочего стола Windows.|
|[CWnd::GetDlgCtrlID](#getdlgctrlid)|Если окно `CWnd` является дочерним, вызов этой функции возвращает значение его идентификатора.|
|[CWnd::GetDlgItem](#getdlgitem)|Извлекает из указанного диалогового окна элемент управления с указанным идентификатором.|
|[CWnd::GetDlgItemInt](#getdlgitemint)|Преобразует текст элемента управления в указанном диалоговом окне в целое число.|
|[CWnd::GetDlgItemText](#getdlgitemtext)|Извлекает заголовок или текст, связанный с элементом управления.|
|[CWnd::GetDSCCursor](#getdsccursor)|Извлекает указатель на базовый курсор, который определяется свойствами DataSource, UserName, Password, и SQL элемента управления источником данных.|
|[CWnd::GetDynamicLayout](#getdynamiclayout)|Извлекает указатель на объект диспетчера динамического макета.|
|[CWnd::GetExStyle](#getexstyle)|Возвращает расширенный стиль окна.|
|[CWnd::GetFocus](#getfocus)|Извлекает объект `CWnd`, на котором в данный момент установлен фокус ввода.|
|[CWnd::GetFont](#getfont)|Извлекает текущий шрифт.|
|[CWnd::GetForegroundWindow](#getforegroundwindow)|Возвращает указатель на окно переднего плана (окно верхнего уровня, в котором пользователь работает на данный момент).|
|[CWnd::GetIcon](#geticon)|Извлекает дескриптор значка.|
|[CWnd::GetLastActivePopup](#getlastactivepopup)|Определяет последнее проявлявшее активность всплывающее окно, принадлежащее классу `CWnd`.|
|[CWnd::GetLayeredWindowAttributes](#getlayeredwindowattributes)|Получает ключ цвета прозрачности многослойного окна.|
|[CWnd::GetMenu](#getmenu)|Извлекает указатель на заданное меню.|
|[CWnd::GetNextDlgGroupItem](#getnextdlggroupitem)|Ищет следующий (или предыдущий) элемент управления в группе элементов управления.|
|[CWnd::GetNextDlgTabItem](#getnextdlgtabitem)|Извлекает первый элемент управления с [WS_TABSTOP](styles-used-by-mfc.md#window-styles) стилем, приведенным ниже (или предшествующим) к указанному элементу управления.|
|[CWnd::GetNextWindow](#getnextwindow)|Возвращает следующее или предыдущее окно в списке диспетчера окон.|
|[CWnd::GetOleControlSite](#getolecontrolsite)|Извлекает настраиваемый сайт для указанного элемента управления ActiveX.|
|[CWnd::GetOpenClipboardWindow](#getopenclipboardwindow)|Извлекает указатель на окно с открытым буфером обмена.|
|[CWnd::GetOwner](#getowner)|Извлекает указатель на владельца объекта `CWnd`.|
|[CWnd::GetParent](#getparent)|Извлекает родительское окно объекта `CWnd` (при наличии).|
|[CWnd::GetParentFrame](#getparentframe)|Извлекает родительское окно фрейма объекта `CWnd`.|
|[CWnd::GetParentOwner](#getparentowner)|Возвращает указатель на родительское окно дочернего окна.|
|[CWnd:: Property](#getproperty)|Извлекает свойство элемента управления ActiveX.|
|[CWnd::GetRenderTarget](#getrendertarget)|Возвращает целевой объект отрисовки, связанный с данным окном.|
|[CWnd::GetSafeHwnd](#getsafehwnd)|Возвращает `m_hWnd`или значение NULL, если **этот** указатель имеет значение null.|
|[CWnd::GetSafeOwner](#getsafeowner)|Извлекает безопасного владельца указанного окна.|
|[CWnd::GetScrollBarCtrl](#getscrollbarctrl)|Возвращает элемент управления "Полоса прокрутки" того же уровня.|
|[CWnd::GetScrollBarInfo](#getscrollbarinfo)|Извлекает сведения об указанной полосе прокрутки.|
|[CWnd::GetScrollInfo](#getscrollinfo)|Извлекает данные о полосе прокрутки, содержащиеся в структуре `SCROLLINFO`.|
|[CWnd::GetScrollLimit](#getscrolllimit)|Извлекает ограничение полосы прокрутки.|
|[CWnd::GetScrollPos](#getscrollpos)|Извлекает текущее положение ползунка.|
|[CWnd::GetScrollRange](#getscrollrange)|Копирует текущие значения минимума и максимума указанной полосы прокрутки.|
|[CWnd::GetStyle](#getstyle)|Возвращает стиль текущего окна.|
|[CWnd::GetSystemMenu](#getsystemmenu)|Позволяет приложению получить доступ к оконному меню для копирования и изменения.|
|[CWnd::GetTitleBarInfo](#gettitlebarinfo)|Извлекает сведения об указанной строке заголовка.|
|[CWnd::GetTopLevelFrame](#gettoplevelframe)|Извлекает окно фрейма верхнего уровня для указанного окна.|
|[CWnd::GetTopLevelOwner](#gettoplevelowner)|Извлекает окно верхнего уровня.|
|[CWnd::GetTopLevelParent](#gettoplevelparent)|Извлекает родительское окно верхнего уровня для указанного окна.|
|[CWnd::GetTopWindow](#gettopwindow)|Возвращает первое дочернее окно, принадлежащее к классу `CWnd`.|
|[CWnd::GetUpdateRect](#getupdaterect)|Извлекает координаты наименьшего прямоугольника, в который полностью входит область обновления `CWnd`.|
|[CWnd::GetUpdateRgn](#getupdatergn)|Извлекает область обновления `CWnd`.|
|[CWnd::GetWindow](#getwindow)|Возвращает окно, связанное с данным окном указанным образом.|
|[CWnd::GetWindowContextHelpId](#getwindowcontexthelpid)|Извлекает идентификатор контекста для справки.|
|[CWnd::GetWindowDC](#getwindowdc)|Извлекает контекст отображения для всего окна, включая его строку заголовка, меню и полосы прокрутки.|
|[CWnd::GetWindowedChildCount](#getwindowedchildcount)|Возвращает количество связанных дочерних окон.|
|[CWnd::GetWindowInfo](#getwindowinfo)|Возвращает информацию об окне.|
|[CWnd::GetWindowlessChildCount](#getwindowlesschildcount)|Возвращает количество связанных безоконных дочерних окон.|
|[CWnd::GetWindowPlacement](#getwindowplacement)|Получает состояние отображения, а также обычное (восстановленное), свернутое и развернутое состояния окна.|
|[CWnd::GetWindowRect](#getwindowrect)|Получает экранные координаты объекта `CWnd`.|
|[CWnd::GetWindowRgn](#getwindowrgn)|Извлекает копию области окна.|
|[CWnd::GetWindowText](#getwindowtext)|Возвращает текст или заголовок окна (при наличии).|
|[CWnd::GetWindowTextLength](#getwindowtextlength)|Возвращает длину текста или заголовка окна.|
|[CWnd::HideCaret](#hidecaret)|Скрывает курсор, удалив его из отображаемой области.|
|[CWnd:: Хилитеменуитем](#hilitemenuitem)|Выделяет или отменяет выделение элемента меню верхнего уровня (в строке меню).|
|[CWnd:: HtmlHelp](#htmlhelp)|Вызывается для запуска приложения HTMLHelp.|
|[CWnd:: недействительность](#invalidate)|Делает недействительной всю клиентскую область.|
|[CWnd:: Инвалидатерект](#invalidaterect)|Делает недействительной клиентскую область в пределах заданного прямоугольника, добавляя этот прямоугольник в текущую область обновления.|
|[CWnd::InvalidateRgn](#invalidatergn)|Делает недействительной клиентскую область в пределах заданной области, добавляя эту область в текущую область обновления.|
|[CWnd::InvokeHelper](#invokehelper)|Вызывает метод или свойство элемента управления ActiveX.|
|[CWnd::IsChild](#ischild)|Указывает, является `CWnd` дочерним окном или другим прямым потомком указанного окна.|
|[CWnd:: IsD2DSupportEnabled](#isd2dsupportenabled)|Определяет, включена ли поддержка D2D.|
|[CWnd::IsDialogMessage](#isdialogmessage)|Определяет, предназначено ли данное сообщение для немодального диалогового окна, и, если предназначено, обрабатывает его.|
|[CWnd::IsDlgButtonChecked](#isdlgbuttonchecked)|Определяет, отмечен ли элемент управления "Кнопка".|
|[CWnd:: Исдинамиклайаутенаблед](#isdynamiclayoutenabled)|Определяет, активен ли для данного окна динамический макет. Если динамический макет активен, положение и размеры дочерних окон могут меняться при изменении пользователем размера родительского окна.|
|[CWnd:: a Icon](#isiconic)|Определяет, является ли объект `CWnd` свернутым (преобразованным в значок).|
|[CWnd::IsTouchWindow](#istouchwindow)|Указывает, поддерживает ли объект `CWnd` сенсорный ввод.|
|[CWnd::IsWindowEnabled](#iswindowenabled)|Определяет, возможен ли в окне ввод с помощью мыши и клавиатуры.|
|[CWnd::IsWindowVisible](#iswindowvisible)|Определяет, является ли окно видимым.|
|[CWnd:: с масштабом](#iszoomed)|Определяет, является ли объект `CWnd` развернутым.|
|[CWnd::KillTimer](#killtimer)|Уничтожает системный таймер.|
|[CWnd::LockWindowUpdate](#lockwindowupdate)|Отключает или повторно включает возможность рисования в заданном окне.|
|[CWnd:: Мапвиндовпоинтс](#mapwindowpoints)|Преобразует набор точек из координатного пространства объекта `CWnd` в координатное пространство другого окна.|
|[CWnd::MessageBox](#messagebox)|Создает и отображает окно, содержащее предоставленные приложением сообщение и заголовок.|
|[CWnd:: Модифистиле](#modifystyle)|Изменяет стиль текущего окна.|
|[CWnd::ModifyStyleEx](#modifystyleex)|Изменяет расширенный стиль окна.|
|[CWnd::MoveWindow](#movewindow)|Изменяет положение и размеры объекта `CWnd`.|
|[CWnd:: Нотифивиневент](#notifywinevent)|Сообщает системе, что произошло предопределенное событие.|
|[CWnd:: Онамбиентпроперти](#onambientproperty)|Реализует значения внешнего свойства.|
|[CWnd::OnDrawIconicThumbnailOrLivePreview](#ondrawiconicthumbnailorlivepreview)|Вызывается платформой, когда необходимо отобразить растровое изображение на эскизе вкладки Windows 7 или клиенте для быстрого просмотра приложения.|
|[CWnd::OnHelp](#onhelp)|Обрабатывает справку F1 в приложении (с использованием текущего контекста).|
|[CWnd::OnHelpFinder](#onhelpfinder)|Обрабатывает команды ID_HELP_FINDER и ID_DEFAULT_HELP.|
|[CWnd::OnHelpIndex](#onhelpindex)|Обрабатывает команду ID_HELP_INDEX и предоставляет раздел справки по умолчанию.|
|[CWnd:: Онхелпусинг](#onhelpusing)|Обрабатывает команду ID_HELP_USING.|
|[CWnd::OnToolHitTest](#ontoolhittest)|Определяет, находится ли указатель в прямоугольнике указанного инструмента и извлекает информацию об этом инструменте.|
|[CWnd:: Опенклипбоард](#openclipboard)|Открывает буфер обмена. Другие приложения не смогут изменять буфер обмена, пока не будет вызвана функция Windows [клосеклипбоард](/windows/win32/api/winuser/nf-winuser-closeclipboard) .|
|[CWnd::P Аинтвиндовлессконтролс](#paintwindowlesscontrols)|Рисует неоконные элементы управления в контейнере элемента управления.|
|[CWnd::PostMessage](#postmessage)|Размещает сообщение в очереди приложения, а затем возвращает управление, не ожидая окончания обработки сообщения окном.|
|[CWnd::PreCreateWindow](#precreatewindow)|Вызывается до создания окна Windows, присоединенного к данному объекту класса `CWnd`.|
|[CWnd::PreSubclassWindow](#presubclasswindow)|Разрешает выполнение других необходимых подклассов до вызова [субклассвиндов](#subclasswindow) .|
|[CWnd::PreTranslateMessage](#pretranslatemessage)|Используется объектом `CWinApp` для фильтрации сообщений окон до их передачи функциям Windows `TranslateMessage` и `DispatchMessage`.|
|[CWnd::P печать](#print)|Рисует текущее окно в заданном контексте устройства.|
|[CWnd::PrintClient](#printclient)|Рисует любое окно в заданном контексте устройства (обычно принтера).|
|[CWnd::PrintWindow](#printwindow)|Копирует визуальное окно в указанный контекст устройства (обычно принтера).|
|[CWnd::RedrawWindow](#redrawwindow)|Обновляет заданную прямоугольную или другую область в клиентской области.|
|[CWnd::RegisterTouchWindow](#registertouchwindow)|Регистрация и отмена регистрации поддержки технологии касания Windows.|
|[CWnd:: Релеаседк](#releasedc)|Освобождает контексты устройств клиента и окна, делая возможным их использование другими приложениями.|
|[CWnd:: Репоситионбарс](#repositionbars)|Изменяет положение панелей элементов управления в клиентской области.|
|[CWnd:: RunModalLoop](#runmodalloop)|Извлекает, преобразует или передает сообщения для окна, находящегося в модальном состоянии.|
|[CWnd:: Скринтоклиент](#screentoclient)|Преобразует экранные координаты указанной точки или прямоугольника в клиентские координаты.|
|[CWnd::ScrollWindow](#scrollwindow)|Прокручивает содержимое клиентской области.|
|[CWnd::ScrollWindowEx](#scrollwindowex)|Прокручивает содержимое клиентской области. Аналогично `ScrollWindow`, но с дополнительными возможностями.|
|[CWnd:: Сендчилднотифиластмсг](#sendchildnotifylastmsg)|Передает дочернему окну уведомляющее сообщение от родительского окна, чтобы дочернее окно могло обработать задачу.|
|[CWnd::SendDlgItemMessage](#senddlgitemmessage)|Отправляет сообщение указанному элементу управления.|
|[CWnd::SendMessage](#sendmessage)|Передает сообщение объекту `CWnd` и не возвращает управление, пока оно не будет обработано.|
|[CWnd:: Сендмессажетодесцендантс](#sendmessagetodescendants)|Отправляет сообщение всем окнам-потомкам данного окна.|
|[CWnd::SendNotifyMessage](#sendnotifymessage)|Отправляет указанное сообщение окну и возвращает управление  при первой возможности, в зависимости от того, создано ли окно вызывающим потоком.|
|[CWnd::SetActiveWindow](#setactivewindow)|Активирует окно.|
|[CWnd:: Сеткаптуре](#setcapture)|Весь последующий ввод с помощью мыши передается объекту `CWnd`.|
|[CWnd:: Сеткаретпос](#setcaretpos)|Перемещает курсор в указанную позицию.|
|[CWnd::SetClipboardViewer](#setclipboardviewer)|Добавляет объект `CWnd` в цепочку окон, которым отправляются уведомления при изменении содержимого буфера обмена.|
|[CWnd::SetDlgCtrlID](#setdlgctrlid)|Задает для окна идентификатор элемента управления или окна. Идентификатор может задаваться для любого дочернего окна, а не только для элемента управления в диалоговом окне.|
|[CWnd:: Сетдлгитеминт](#setdlgitemint)|Располагает текст элемента управления в виде строки, являющейся представлением целого числа.|
|[CWnd::SetDlgItemText](#setdlgitemtext)|Задает заголовок или текст элемента управления в указанном диалоговом окне.|
|[CWnd:: SetFocus](#setfocus)|Утверждает фокус ввода.|
|[CWnd:: Сетфонт](#setfont)|Задает текущий шрифт.|
|[CWnd::SetForegroundWindow](#setforegroundwindow)|Помещает создавший окно поток на передний план и активирует окно.|
|[CWnd:: Сетикон](#seticon)|Задает дескриптор для указанного значка.|
|[CWnd:: SetLayeredWindowAttributes](#setlayeredwindowattributes)|Задает ключ цвета прозрачности многослойного окна.|
|[CWnd:: Сетмену](#setmenu)|Меняет указанное меню на новое.|
|[CWnd::SetOwner](#setowner)|Изменяет владельца объекта `CWnd`.|
|[CWnd:: Сетпарент](#setparent)|Изменяет родительское окно.|
|[CWnd:: SetProperty](#setproperty)|Задает свойство элемента управления ActiveX.|
|[CWnd:: Сетредрав](#setredraw)|Разрешает перерисовку изменений объекта `CWnd` или запрещает ее.|
|[CWnd::SetScrollInfo](#setscrollinfo)|Задает сведения о полосе прокрутки.|
|[CWnd:: Сетскроллпос](#setscrollpos)|Задает текущее положение ползунка и, если оно указано, перерисовывает полосу прокрутки в соответствии с новым положением.|
|[CWnd::SetScrollRange](#setscrollrange)|Задает для указанной полосы прокрутки положения минимума и максимума.|
|[CWnd::SetTimer](#settimer)|Устанавливает системный таймер, который отправляет сообщение [WM_TIMER](#ontimer) при активации.|
|[CWnd::SetWindowContextHelpId](#setwindowcontexthelpid)|Задает идентификатор контекста справки.|
|[CWnd::SetWindowPlacement](#setwindowplacement)|Задает состояние отображения, а также обычное (восстановленное), свернутое и развернутое состояния окна.|
|[CWnd::SetWindowPos](#setwindowpos)|Изменяет размер, положение и порядок дочерних и всплывающих окон, а также окон верхнего уровня.|
|[CWnd::SetWindowRgn](#setwindowrgn)|Задает область окна.|
|[CWnd::SetWindowText](#setwindowtext)|Меняет текст или заголовок окна (при наличии) на указанный текст.|
|[CWnd::ShowCaret](#showcaret)|Показывает курсор в его текущем положении на экране. После отображения курсор начинает автоматически мигать.|
|[CWnd:: Шововнедпопупс](#showownedpopups)|Показывает или скрывает все всплывающие окна, принадлежащие окну.|
|[CWnd::ShowScrollBar](#showscrollbar)|Показывает или скрывает полосу прокрутки.|
|[CWnd::ShowWindow](#showwindow)|Показывает или скрывает окно.|
|[CWnd:: Субклассдлгитем](#subclassdlgitem)|Прикрепляет элемент управления Windows к объекту `CWnd` и отдает ему команду перенаправлять сообщения с помощью схемы сообщений объекта `CWnd`.|
|[CWnd::SubclassWindow](#subclasswindow)|Прикрепляет окно к объекту `CWnd` и отдает ему команду перенаправлять сообщения с помощью схемы сообщений объекта `CWnd`.|
|[CWnd::UnlockWindowUpdate](#unlockwindowupdate)|Выполняет разблокировку окна, заблокированного с помощью метода `CWnd::LockWindowUpdate`.|
|[CWnd::UnsubclassWindow](#unsubclasswindow)|Отсоединяет окно от объекта `CWnd`|
|[CWnd:: Упдатедата](#updatedata)|Инициализирует или извлекает данные из диалогового окна.|
|[CWnd:: Упдатедиалогконтролс](#updatedialogcontrols)|Запрос на обновление состояния кнопок и других элементов управления диалогового окна.|
|[CWnd::UpdateLayeredWindow](#updatelayeredwindow)|Обновляет положение, размер, форму, содержимое и прозрачность многослойного окна.|
|[CWnd::UpdateWindow](#updatewindow)|Обновляет клиентскую область.|
|[CWnd:: Валидатерект](#validaterect)|Проверяет клиентскую область в пределах заданного прямоугольника, удаляя этот прямоугольник из текущей области обновления.|
|[CWnd::ValidateRgn](#validatergn)|Проверяет клиентскую область в пределах заданной области, удаляя ее из текущей области обновления.|
|[CWnd::WindowFromPoint](#windowfrompoint)|Идентифицирует окно, содержащее заданную точку.|
|[CWnd:: WinHelp](#winhelp)|Вызывается для запуска приложения WinHelp.|

### <a name="protected-methods"></a>Защищенные методы

|name|Описание|
|----------|-----------------|
|[CWnd::D молчанию](#default)|Вызывает процедуру окна по умолчанию, обеспечивающую стандартную обработку любых сообщений окна, не обработанных приложением.|
|[CWnd::DefWindowProc](#defwindowproc)|Вызывает процедуру окна по умолчанию, обеспечивающую стандартную обработку любых сообщений окна, не обработанных приложением.|
|[CWnd::D Одатаексчанже](#dodataexchange)|Обеспечивает обмен данными диалогового окна и их проверку. Вызывается методом `UpdateData`.|
|[CWnd::GetCurrentMessage](#getcurrentmessage)|Возвращает указатель на сообщение, обрабатываемое этим окном в настоящий момент. Должен вызываться только в функции-члене *сообщения `On`Message* — обработчика.|
|[CWnd:: Инитдинамиклайаут](#initdynamiclayout)|Вызывается платформой для инициализации динамического макета окна.|
|[CWnd::LoadDynamicLayoutResource](#loaddynamiclayoutresource)|Загружает из файла ресурсов сведения о динамическом макете.|
|[CWnd:: OnActivate](#onactivate)|Вызывается при активации или деактивации объекта `CWnd`.|
|[CWnd::OnActivateApp](#onactivateapp)|Вызывается непосредственно перед активацией или деактивацией приложения.|
|[CWnd::OnAppCommand](#onappcommand)|Вызывается, когда пользователь создает команду события приложения.|
|[CWnd::OnAskCbFormatName](#onaskcbformatname)|Вызывается приложением просмотра буфера обмена, когда владелец буфера обмена отображает его содержимое.|
|[CWnd::OnCancelMode](#oncancelmode)|Вызывается, чтобы разрешить объекту `CWnd` выполнить отмену всех внутренних режимов, таких как захват мыши.|
|[CWnd:: Онкаптуречанжед](#oncapturechanged)|Отправляет сообщение окну, теряющему захват мыши.|
|[CWnd::OnChangeCbChain](#onchangecbchain)|Уведомляет об удалении указанного окна из цепочки.|
|[CWnd::OnChangeUIState](#onchangeuistate)|Вызывается, когда необходимо изменить состояние пользовательского интерфейса.|
|[CWnd:: OnChar](#onchar)|Вызывается, когда нажатие клавиши преобразуются в несистемный символ.|
|[CWnd:: Ончартоитем](#onchartoitem)|Вызывается дочерним списком с [LBS_WANTKEYBOARDINPUT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) стилем в ответ на сообщение [WM_CHAR](#onchar) .|
|[CWnd:: Ончилдактивате](#onchildactivate)|Вызывается для дочерних окон многодокументного интерфейса (MDI) при изменении размера или положения объекта `CWnd`, а также при активации объекта `CWnd`.|
|[CWnd:: Ончилднотифи](#onchildnotify)|Вызывается родительским окном, чтобы позволить уведомляющему элементу управления ответить на уведомление элемента управления.|
|[CWnd:: Онклипбоардупдате](#onclipboardupdate)|Вызывается при изменении содержимого буфера обмена.|
|[CWnd:: OnClose](#onclose)|Вызывается в качестве сигнала о необходимости закрытия объекта `CWnd`.|
|[CWnd::OnColorizationColorChanged](#oncolorizationcolorchanged)|Вызывается при изменении политики отрисовки неклиентской области.|
|[CWnd:: OnCommand](#oncommand)|Вызывается, когда пользователь выбирает какую-либо команду.|
|[CWnd:: oncompact](#oncompacting)|Вызывается, когда Windows обнаруживает нехватку системной памяти.|
|[CWnd::OnCompareItem](#oncompareitem)|Вызывается для определения относительной позиции нового элемента в элементе управления "Список" или в дочернем упорядоченном элементе управления "Поле со списком", рисуемом владельцем.|
|[CWnd:: Онкомпоситиончанжед](#oncompositionchanged)|Вызывается для всех окон верхнего уровня при включении или выключении композиции рабочего стола в диспетчере окон рабочего стола (DWM).|
|[CWnd::OnContextMenu](#oncontextmenu)|Вызывается, когда пользователь щелкает в окне правой кнопкой мыши.|
|[CWnd:: Онкопидата](#oncopydata)|Копирует данные из одного приложения в другое.|
|[CWnd::OnCreate](#oncreate)|Вызывается при создании окна.|
|[CWnd::OnCtlColor](#onctlcolor)|Вызывается непосредственно перед рисованием элемента управления, если объект `CWnd` является родительским для элемента управления.|
|[CWnd:: Ондеадчар](#ondeadchar)|Вызывается, когда нажатие клавиши преобразуется в несистемный диакритический знак.|
|[CWnd::OnDeleteItem](#ondeleteitem)|Вызывается, когда дочерний элемент управления "Поле со списком", рисуемый владельцем, или элемент управления "Поле со списком" уничтожается, а также при удалении из элемента управления элементов списка.|
|[CWnd::OnDestroy](#ondestroy)|Вызывается при уничтожении объекта `CWnd`.|
|[CWnd::OnDestroyClipboard](#ondestroyclipboard)|Вызывается, когда буфер обмена очищается с помощью вызова функции [Емптиклипбоард](/windows/win32/api/winuser/nf-winuser-emptyclipboard) Windows.|
|[CWnd::OnDeviceChange](#ondevicechange)|Сообщает приложению или драйверу устройства об изменении конфигурации оборудования устройства или компьютера.|
|[CWnd::OnDevModeChange](#ondevmodechange)|Вызывается для всех окон верхнего уровня, когда пользователь меняет параметры режима устройства.|
|[CWnd::OnDrawClipboard](#ondrawclipboard)|Вызывается при изменении содержимого буфера обмена.|
|[CWnd:: Ондравитем](#ondrawitem)|Вызывается, когда необходимо визуально изобразить рисуемый владельцем дочерний элемент управления "Кнопка", элемент управления "Поле со списком", элемент управления "Поле" или меню.|
|[CWnd:: Ондропфилес](#ondropfiles)|Вызывается, когда пользователь отпускает левую кнопку мыши в окне, зарегистрировавшем себя в качестве получателя переносимых файлов.|
|[CWnd:: OnEnable](#onenable)|Вызывается при включении или отключении объекта `CWnd`.|
|[CWnd:: Онендсессион](#onendsession)|Вызывается во время окончания сессии.|
|[CWnd::OnEnterIdle](#onenteridle)|Вызывается для информирования процедуры главного окна приложения о переходе модального диалогового окна или меню в состояние простоя.|
|[CWnd::OnEnterMenuLoop](#onentermenuloop)|Вызывается при входе в модальный цикл меню.|
|[CWnd::OnEnterSizeMove](#onentersizemove)|Вызывается, когда затронутое окно входит в модальный цикл перемещения или изменения размера.|
|[CWnd::OnEraseBkgnd](#onerasebkgnd)|Вызывается, когда требуется стирание фона окна.|
|[CWnd:: Онекситменулуп](#onexitmenuloop)|Вызывается при выходе из модального цикла меню.|
|[CWnd::OnExitSizeMove](#onexitsizemove)|Вызывается, когда затронутое окно выходит из модального цикла перемещения или изменения размера.|
|[CWnd::OnFontChange](#onfontchange)|Вызывается при изменении пула ресурсов шрифтов.|
|[CWnd::OnGetDlgCode](#ongetdlgcode)|Вызывается, чтобы элемент управления мог самостоятельно обрабатывать нажатия на клавиши со стрелками и клавишу TAB.|
|[CWnd::OnGetMinMaxInfo](#ongetminmaxinfo)|Вызывается, когда Windows требуется получить сведения о положении в развернутом состоянии, размерах, минимальном или максимальном размере отслеживания.|
|[CWnd::OnHelpInfo](#onhelpinfo)|Вызывается платформой, когда пользователь нажимает клавишу F1.|
|[CWnd::OnHotKey](#onhotkey)|Вызывается, когда пользователь нажимает общесистемное сочетание клавиш.|
|[CWnd::OnHScroll](#onhscroll)|Вызывается, когда пользователь щелкает горизонтальную полосу прокрутки объекта `CWnd`.|
|[CWnd::OnHScrollClipboard](#onhscrollclipboard)|Вызывается, когда владелец буфера обмена должен прокрутить изображение из буфера, объявить необходимый раздел недействительным, а также обновить значения полосы прокрутки.|
|[CWnd::OnIconEraseBkgnd](#oniconerasebkgnd)|Вызывается, когда объект `CWnd` сворачивается (преобразуется в значок) и фон значка необходимо заполнить до его рисования.|
|[CWnd::OnInitMenu](#oninitmenu)|Вызывается непосредственно перед тем, как меню станет активным.|
|[CWnd::OnInitMenuPopup](#oninitmenupopup)|Вызывается непосредственно перед тем, как всплывающее меню станет активным.|
|[CWnd::OnInputDeviceChange](#oninputdevicechange)|Вызывается при добавлении в систему устройства ввода-вывода или его удаления из нее.|
|[CWnd::OnInputLangChange](#oninputlangchange)|Вызывается после изменения языка ввода приложения.|
|[CWnd::OnInputLangChangeRequest](#oninputlangchangerequest)|Вызывается, когда пользователь выбирает новый язык ввода.|
|[CWnd::OnKeyDown](#onkeydown)|Вызывается при нажатии несистемной клавиши.|
|[CWnd::OnKeyUp](#onkeyup)|Вызывается, когда нажатая несистемная клавиша отпускается.|
|[CWnd::OnKillFocus](#onkillfocus)|Вызывается непосредственно перед тем, как объект `CWnd` теряет фокус ввода.|
|[CWnd::OnLButtonDblClk](#onlbuttondblclk)|Вызывается, когда пользователь дважды щелкает левой кнопкой мыши.|
|[CWnd:: Онлбуттондовн](#onlbuttondown)|Вызывается, когда пользователь щелкает левой кнопкой мыши.|
|[CWnd:: Онлбуттонуп](#onlbuttonup)|Вызывается, когда пользователь отпускает левую кнопку мыши.|
|[CWnd:: Онмбуттондблклк](#onmbuttondblclk)|Вызывается, когда пользователь дважды щелкает средней кнопкой мыши.|
|[CWnd::OnMButtonDown](#onmbuttondown)|Вызывается, когда пользователь щелкает средней кнопкой мыши.|
|[CWnd::OnMButtonUp](#onmbuttonup)|Вызывается, когда пользователь отпускает среднюю кнопку мыши.|
|[CWnd:: Онмдиактивате](#onmdiactivate)|Вызывается при активации или деактивации дочернего окна MDI.|
|[CWnd:: Онмеасуреитем](#onmeasureitem)|Вызывается для рисуемого владельцем дочернего элемента управление "Поле со списком", элемента управление "Список" или меню при создании нового элемента управления. Объект `CWnd` сообщает Windows размеры этого элемента управления.|
|[CWnd:: Онменучар](#onmenuchar)|Вызывается, когда пользователь нажимает назначенный символ меню, не соответствующий ни одному из символов, назначенных для текущего меню.|
|[CWnd:: Онменудраг](#onmenudrag)|Вызывается, когда пользователь начинает перетаскивать элемент меню.|
|[CWnd::OnMenuGetObject](#onmenugetobject)|Вызывается когда курсор мыши попадает на элемент меню или перемещается из центра элемента в его верхнюю или нижнюю часть.|
|[CWnd:: Онменурбуттонуп](#onmenurbuttonup)|Вызывается, если пользователь отпускает правую кнопку мыши, когда курсор находится на элементе меню.|
|[CWnd::OnMenuSelect](#onmenuselect)|Вызывается, когда пользователь выбирает элемент меню.|
|[CWnd::OnMouseActivate](#onmouseactivate)|Вызывается, если пользователь щелкает кнопкой мыши, когда курсор находится в неактивном окне.|
|[CWnd::OnMouseHover](#onmousehover)|Вызывается при наведении курсора на клиентскую область окна в течение периода времени, указанного в предыдущем вызове метода [TrackMouseEven](/windows/win32/api/winuser/nf-winuser-trackmouseevent).|
|[CWnd::OnMouseHWheel](#onmousehwheel)|Вызывается, если текущее окно создано диспетчером окон рабочего стола (DWM) и развернуто.|
|[CWnd::OnMouseLeave](#onmouseleave)|Вызывается, когда курсор покидает клиентскую область окна, указанное в предыдущем вызове метода [TrackMouseEven](/windows/win32/api/winuser/nf-winuser-trackmouseevent).|
|[CWnd::OnMouseMove](#onmousemove)|Вызывается при перемещении указателя мыши.|
|[CWnd::OnMouseWheel](#onmousewheel)|Вызывается, когда пользователь вращает колесико мыши. Использует обработчик сообщений Windows NT 4.0.|
|[CWnd::OnMove](#onmove)|Вызывается после изменения положения объекта `CWnd`.|
|[CWnd:: onmoving](#onmoving)|Указывает, что пользователь перемещает объект `CWnd`.|
|[CWnd:: Оннкактивате](#onncactivate)|Вызывается, когда требуется изменить неклиентскую область, чтобы указать на активное или неактивное состояние.|
|[CWnd::OnNcCalcSize](#onnccalcsize)|Вызывается, когда требуется вычислить размер и положение клиентской области.|
|[CWnd::OnNcCreate](#onnccreate)|Вызывается перед [созданием](#oncreate) при создании области без клиента.|
|[CWnd:: OnNcDestroy](#onncdestroy)|Вызывается при уничтожении неклиентской области.|
|[CWnd::OnNcHitTest](#onnchittest)|Вызывается средой Windows при каждом перемещении указателя мыши, если объект `CWnd` содержит курсор или захватил ввод с помощью мыши, используя метод `SetCapture`.|
|[CWnd:: Оннклбуттондблклк](#onnclbuttondblclk)|Вызывается, если пользователь дважды щелкает левой кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd:: Оннклбуттондовн](#onnclbuttondown)|Вызывается, если пользователь щелкает левой кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd:: Оннклбуттонуп](#onnclbuttonup)|Вызывается, если пользователь отпускает левую кнопку мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcMButtonDblClk](#onncmbuttondblclk)|Вызывается, если пользователь дважды щелкает средней кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd:: Оннкмбуттондовн](#onncmbuttondown)|Вызывается, если пользователь щелкает средней кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd:: Оннкмбуттонуп](#onncmbuttonup)|Вызывается, если пользователь отпускает среднюю кнопку мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcMouseHover](#onncmousehover)|Вызывается при наведении курсора на неклиентскую область окна в течение периода времени, указанного в предыдущем вызове метода [TrackMouseEven](/windows/win32/api/winuser/nf-winuser-trackmouseevent).|
|[CWnd::OnNcMouseLeave](#onncmouseleave)|Платформа вызывает эту функцию-член, когда курсор покидает неклиентскую область окна, заданную в предыдущем вызове метода [TrackMouseEven](/windows/win32/api/winuser/nf-winuser-trackmouseevent).|
|[CWnd::OnNcMouseMove](#onncmousemove)|Вызывается при перемещении курсора в пределах неклиентской области `CWnd`.|
|[CWnd:: Оннкпаинт](#onncpaint)|Вызывается, когда требуется отрисовка неклиентской области.|
|[CWnd:: Оннкрбуттондблклк](#onncrbuttondblclk)|Вызывается, если пользователь дважды щелкает правой кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd:: Оннкрбуттондовн](#onncrbuttondown)|Вызывается, если пользователь щелкает правой кнопкой мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd:: Оннкрбуттонуп](#onncrbuttonup)|Вызывается, если пользователь отпускает правую кнопку мыши, когда курсор находится в пределах неклиентской области `CWnd`.|
|[CWnd::OnNcRenderingChanged](#onncrenderingchanged)|Вызывается при изменении политики отрисовки неклиентской области.|
|[CWnd::OnNcXButtonDblClk](#onncxbuttondblclk)|Вызывается, если пользователь дважды щелкает кнопкой XBUTTON1 или XBUTTON2, когда курсор находится в неклиентской области окна.|
|[CWnd::OnNcXButtonDown](#onncxbuttondown)|Вызывается, если пользователь щелкает кнопкой мыши XBUTTON1 или XBUTTON2, когда курсор находится в неклиентской области окна.|
|[CWnd::OnNcXButtonUp](#onncxbuttonup)|Вызывается, если пользователь отпускает кнопку мыши XBUTTON1 или XBUTTON2, когда курсор находится в неклиентской области окна.|
|[CWnd:: Оннекстмену](#onnextmenu)|Посылается, когда для переключения между панелью меню и системным меню используется клавиша "Стрелка вправо" или "Стрелка влево".|
|[CWnd:: OnNotify](#onnotify)|Вызывается платформой для информирования родительского окна о событии, произошедшем для одного из его элементов управления, или о запросе информации элементом управления.|
|[CWnd:: Оннотифиформат](#onnotifyformat)|Вызывается для определения, принимает текущее окно в сообщении WM_NOTIFY структуры формата ANSI или Юникода.|
|[CWnd:: onpain](#onpaint)|Вызывается для перерисовки части окна.|
|[CWnd::OnPaintClipboard](#onpaintclipboard)|Вызывается, когда требуется перерисовка клиентской области окна просмотра буфера обмена.|
|[CWnd::OnPaletteChanged](#onpalettechanged)|Вызывается, чтобы разрешить окнам, использующим цветовую палитру, реализовать свои логические палитры и обновить клиентские области.|
|[CWnd::OnPaletteIsChanging](#onpaletteischanging)|Информирует другие приложения, когда приложение собирается реализовать свою логическую палитру.|
|[CWnd:: Онпарентнотифи](#onparentnotify)|Вызывается при создании или уничтожении дочернего окна, а также если пользователь щелкает кнопкой мыши, когда курсор находится на дочернем окне.|
|[CWnd:: Онповерброадкаст](#onpowerbroadcast)|Вызывается при возникновении события управления питанием.|
|[CWnd:: Онкуеридрагикон](#onquerydragicon)|Вызывается, непосредственно перед перетаскиванием свернутого (преобразованного в значок) объекта `CWnd`.|
|[CWnd::OnQueryEndSession](#onqueryendsession)|Вызывается при завершении пользователем сеанса Windows.|
|[CWnd::OnQueryNewPalette](#onquerynewpalette)|Сообщает объекту `CWnd`, что вскоре ему будет передан фокус ввода.|
|[CWnd::OnQueryOpen](#onqueryopen)|Вызывается, когда объект `CWnd` является значком, на открытие которого пользователь подает запрос.|
|[CWnd::OnQueryUIState](#onqueryuistate)|Вызывается, чтобы извлечь состояние пользовательского интерфейса окна.|
|[CWnd::OnRawInput](#onrawinput)|Вызывается, когда текущее окно получает необработанные данные ввода.|
|[CWnd:: Онрбуттондблклк](#onrbuttondblclk)|Вызывается, когда пользователь дважды щелкает правой кнопкой мыши.|
|[CWnd:: Онрбуттондовн](#onrbuttondown)|Вызывается, когда пользователь щелкает правой кнопкой мыши.|
|[CWnd:: Онрбуттонуп](#onrbuttonup)|Вызывается, когда пользователь отпускает правую кнопку мыши.|
|[CWnd:: Онрендераллформатс](#onrenderallformats)|Вызывается при уничтожении приложения-владельца и необходимости отрисовки всех его форматов.|
|[CWnd::OnRenderFormat](#onrenderformat)|Вызывается для владельца буфера обмена при необходимости отрисовки формата, отрисовка которого была отложена.|
|[CWnd:: Онсессиончанже](#onsessionchange)|Вызывается для оповещения приложения об изменении состояния сеанса.|
|[CWnd::OnSetCursor](#onsetcursor)|Вызывается, если данные от мыши не фиксируются, и указатель мыши перемещается в окне.|
|[CWnd::OnSetFocus](#onsetfocus)|Вызывается, когда объект `CWnd` получает фокус ввода.|
|[CWnd::OnSettingChange](#onsettingchange)|Вызывается, когда функция Win32 `SystemParametersInfo` меняет параметр уровня системы.|
|[CWnd::OnShowWindow](#onshowwindow)|Вызывается непосредственно перед скрытием или отображением объекта `CWnd`.|
|[CWnd::OnSize](#onsize)|Вызывается после изменения размера объекта `CWnd`.|
|[CWnd::OnSizeClipboard](#onsizeclipboard)|Вызывается при изменении размера клиентской области окна буфера обмена.|
|[CWnd:: onsizing](#onsizing)|Указывает, что пользователь изменят размер прямоугольника.|
|[CWnd::OnSpoolerStatus](#onspoolerstatus)|Вызывается из диспетчера печати при каждом добавлении задачи в очередь диспетчера или удалении задания из нее.|
|[CWnd::OnStyleChanged](#onstylechanged)|Указывает, что функция Windows [SetWindowLong](/windows/win32/api/winuser/nf-winuser-setwindowlongw) изменила один или несколько стилей окна.|
|[CWnd::OnStyleChanging](#onstylechanging)|Указывает, что функция Windows [SetWindowLong](/windows/win32/api/winuser/nf-winuser-setwindowlongw) собирается изменить один или несколько стилей окна.|
|[CWnd::OnSysChar](#onsyschar)|Вызывается, когда нажатие клавиши преобразуется в системный символ.|
|[CWnd::OnSysColorChange](#onsyscolorchange)|Вызывается для всех окон верхнего уровня при изменении параметра системного цвета.|
|[CWnd:: Онсискомманд](#onsyscommand)|Вызывается, когда пользователь выбирает команду в оконном меню или нажимает кнопку развертывания или свертывания.|
|[CWnd::OnSysDeadChar](#onsysdeadchar)|Вызывается, когда нажатие клавиши преобразуется в системный диакритический знак.|
|[CWnd::OnSysKeyDown](#onsyskeydown)|Вызывается, когда пользователь, удерживая клавишу ALT, нажимает другую клавишу.|
|[CWnd::OnSysKeyUp](#onsyskeyup)|Вызывается, когда пользователь отпускает клавишу, нажатую при удерживании клавиши ALT.|
|[CWnd:: Онткард](#ontcard)|Вызывается, когда пользователь нажимает настраиваемую кнопку.|
|[CWnd::OnTimeChange](#ontimechange)|Вызывается для всех окон верхнего уровня после изменения системного времени.|
|[CWnd::OnTimer](#ontimer)|Вызывается после каждого интервала, указанного в [сеттимер](#settimer).|
|[CWnd:: Онтаучинпут](#ontouchinput)|Обработка одного ввода Windows touch.|
|[CWnd:: Онтаучинпутс](#ontouchinputs)|Обработка входных данных Windows touch.|
|[CWnd::OnUniChar](#onunichar)|Вызывается при нажатии клавиши. Это значит, что текущее окно имеет фокус клавиатуры, а [WM_KEYDOWN](/windows/win32/inputdev/wm-keydown) сообщение преобразуется функцией [TranslateMessage](/windows/win32/api/winuser/nf-winuser-translatemessage) .|
|[CWnd::OnUnInitMenuPopup](#onuninitmenupopup)|Вызывается при уничтожении раскрывающегося меню или подменю.|
|[CWnd::OnUpdateUIState](#onupdateuistate)|Вызывается, чтобы изменить состояние пользовательского интерфейса указанного окна и всех его дочерних окон.|
|[CWnd::OnUserChanged](#onuserchanged)|Вызывается при входе пользователя в систему или выходе из нее.|
|[CWnd::OnVKeyToItem](#onvkeytoitem)|Вызывается списком, принадлежащим `CWnd` в ответ на сообщение [WM_KEYDOWN](#onkeydown) .|
|[CWnd::OnVScroll](#onvscroll)|Вызывается, когда пользователь щелкает вертикальную полосу прокрутки окна.|
|[CWnd::OnVScrollClipboard](#onvscrollclipboard)|Вызывается, когда владелец должен прокрутить изображение из буфера, объявить необходимый раздел недействительным, а также обновить значения полосы прокрутки.|
|[CWnd::OnWindowPosChanged](#onwindowposchanged)|Вызывается, когда размер, расположение или Z-порядок изменились в результате вызова [SetWindowPos](#setwindowpos) или другой функции управления окнами.|
|[CWnd::OnWindowPosChanging](#onwindowposchanging)|Вызывается, когда размер, расположение или Z-порядок собирается измениться в результате вызова [SetWindowPos](#setwindowpos) или другой функции управления окнами.|
|[CWnd::OnWinIniChange](#onwininichange)|Вызывается для всех окон верхнего уровня после изменения файла инициализации Windows (WIN.INI).|
|[CWnd::OnWndMsg](#onwndmsg)|Указывает, что сообщение для окна обработано.|
|[CWnd::OnXButtonDblClk](#onxbuttondblclk)|Вызывается, если пользователь дважды щелкает кнопкой XBUTTON1 или XBUTTON2, когда курсор находится в клиентской области окна.|
|[CWnd::OnXButtonDown](#onxbuttondown)|Вызывается, если пользователь щелкает кнопкой XBUTTON1 или XBUTTON2, когда курсор находится в клиентской области окна.|
|[CWnd:: Онксбуттонуп](#onxbuttonup)|Вызывается, если пользователь отпускает кнопку XBUTTON1 или XBUTTON2, когда курсор находится в клиентской области окна.|
|[CWnd::PostNcDestroy](#postncdestroy)|Эта виртуальная функция вызывается функцией [OnNcDestroy](#onncdestroy) по умолчанию после уничтожения окна.|
|[CWnd:: Рефлектчилднотифи](#reflectchildnotify)|Вспомогательная функция, отражающая сообщение его источнику.|
|[CWnd:: Рефлектластмсг](#reflectlastmsg)|Отражает последнее сообщение дочернему окну.|
|[CWnd:: Ресизединамиклайаут](#resizedynamiclayout)|Вызывается платформой при изменении размера окна для настройки макета дочерних окон, если для этого окна используется динамический макет.|
|[CWnd::WindowProc](#windowproc)|Предоставляет объекту `CWnd` процедуру окна. По умолчанию отправляет сообщения через схему сообщений.|

### <a name="public-operators"></a>Открытые операторы

|name|Описание|
|----------|-----------------|
|[CWnd:: operator HWND](#operator_hwnd)|Вызывается для получения дескриптора окна.|
|[CWnd:: operator! =](#operator_neq)|Определяет, отличается ли окно от окна, маркер которого [m_hWnd](#m_hwnd).|
|[CWnd:: operator = =](#operator_eq_eq)|Определяет, совпадает ли окно с окном, маркером которого является [m_hWnd](#m_hwnd).|

### <a name="public-data-members"></a>Открытые члены данных

|name|Описание|
|----------|-----------------|
|[CWnd::m_hWnd](#m_hwnd)|Указывает HWND, присоединенный к этому `CWnd`.|

## <a name="remarks"></a>Примечания

Объект `CWnd` используется отдельно от окна Windows, но они тесно связаны. Объект `CWnd` создается или уничтожается конструктором или деструктором `CWnd` соответственно. Окно Windows, с другой стороны, представляет собой структуру данных, которая является внутренней для Windows, созданной функцией-членом `Create` и уничтожается виртуальным деструктором `CWnd`. Функция [дестройвиндов](#destroywindow) уничтожает окно Windows без уничтожения объекта.

Класс `CWnd` и механизм карт сообщений скрывают функцию `WndProc`. Входящие сообщения уведомлений Windows автоматически направляются через **схему сообщений в соответствующие функции**-члены<em>сообщений</em> `CWnd`. Вы переопределяете функцию-член **для**<em>сообщения</em> , чтобы обрабатывалось конкретное сообщение члена в производных классах.

С помощью класса `CWnd` также возможно создание дочерних окон Windows для вашего приложения. Создайте производный класс от `CWnd`, а затем добавьте в него переменные-члены для хранения данных, относящихся к вашему приложению. Реализуйте в производном классе функции-члены обработчика сообщений и схему сообщений, чтобы указать, что происходит, когда сообщения направляются в окно.

Дочерние окна создаются в два этапа. Сначала вызовите конструктор `CWnd` для создания объекта `CWnd`, а затем вызовите функцию [создания](#create) члена, чтобы создать дочернее окно и присоединить его к объекту `CWnd`.

Когда пользователь закроет ваше дочернее окно, уничтожьте объект `CWnd` или вызовите функцию-член `DestroyWindow` для удаления окна и уничтожения его структур данных.

В библиотеке Microsoft Foundation Class дальнейшие классы получаются как производные от `CWnd`, что позволяет создавать окна особых типов. Многие из этих классов, включая [CFrameWnd](../../mfc/reference/cframewnd-class.md), [CMDIFrameWnd](../../mfc/reference/cmdiframewnd-class.md), [CMDIChildWnd](../../mfc/reference/cmdichildwnd-class.md), [CView](../../mfc/reference/cview-class.md)и [CDialog](../../mfc/reference/cdialog-class.md), предназначены для последующего наследования. Классы элементов управления, производные от `CWnd`, например [кбуттон](../../mfc/reference/cbutton-class.md), можно использовать напрямую или использовать для дальнейшего наследования классов.

Дополнительные сведения об использовании `CWnd`см. в разделе окна и [объекты окон](../../mfc/window-objects.md) [рамки](../../mfc/frame-windows.md) .

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

`CWnd`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

##  <a name="accdodefaultaction"></a>CWnd:: Аккдодефаултактион

Вызывается платформой для выполнения объектом действия по умолчанию.

```
virtual HRESULT accDoDefaultAction(VARIANT varChild);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, должно ли вызываться действие по умолчанию в отношении объекта или одного из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для выполнения действия по умолчанию объекта), либо ИДЕНТИФИКАТОРом дочернего элемента (для выполнения действия по умолчанию одного из дочерних элементов объекта).

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: аккдодефаултактион](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accdodefaultaction) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, чтобы выполнить действие по умолчанию для объекта. Дополнительные сведения см. в разделе [IAccessible:: аккдодефаултактион](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accdodefaultaction) в Windows SDK.

##  <a name="acchittest"></a>  CWnd::accHitTest

Вызывается платформой для извлечения дочернего элемента или дочернего объекта в заданной точке экрана.

```
virtual HRESULT accHitTest(
    long xLeft,
    long yTop,
    VARIANT* pvarChild);
```

### <a name="parameters"></a>Параметры

*кслефт*<br/>
Координата по оси X точки, которую необходимо проверить на попадание (в единицах экрана).

*итоп*<br/>
Координата Y точки, которая должна быть проверена на попадание (в единицах экрана).

*пварчилд*<br/>
Получает сведения, идентифицирующие объект в точке, указанной в параметре *кслефт* и *итоп*. См. раздел *пварид* in [IAccessible:: акчиттест](/windows/win32/api/oleacc/nf-oleacc-iaccessible-acchittest) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::accHitTest` в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: акчиттест](/windows/win32/api/oleacc/nf-oleacc-iaccessible-acchittest) в Windows SDK.

##  <a name="acclocation"></a>CWnd:: Акклокатион

Вызывается платформой для получения текущего положения указанного объекта на экране.

```
virtual HRESULT accLocation(
    long* pxLeft,
    long* pyTop,
    long* pcxWidth,
    long* pcyHeight,
    VARIANT varChild);
```

### <a name="parameters"></a>Параметры

*пкслефт*<br/>
Получает координату по оси x верхнего левого угла объекта (в единицах экрана).

*питоп*<br/>
Получает координату по оси y верхнего левого угла объекта (в единицах экрана).

*пкксвидс*<br/>
Получает ширину объекта (в единицах экрана).

*пцихеигхт*<br/>
Получает высоту объекта (в единицах экрана).

*варчилд*<br/>
Указывает, является ли извлекаемое расположение объектом или одним из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::accLocation` в Windows SDK.

### <a name="remarks"></a>Примечания

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе `IAccessible::accLocation` в Windows SDK.

##  <a name="accnavigate"></a>CWnd:: Аккнавигате

Вызывается платформой для перехода к другому элементу пользовательского интерфейса внутри контейнера и, если возможно, для извлечения объекта.

```
virtual HRESULT accNavigate(
    long navDir,
    VARIANT varStart,
    VARIANT* pvarEndUpAt);
```

### <a name="parameters"></a>Параметры

*навдир*<br/>
Указывает направление перехода. См. раздел *навдир* in [IAccessible:: аккнавигате](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accnavigate) в Windows SDK.

*варстарт*<br/>
Задает начальный объект. См. раздел *варстарт* в `IAccessible::accNavigate` в Windows SDK.

*пварендупат*<br/>
Получает сведения о целевом объекте пользовательского интерфейса. См. раздел *пваренд* в `IAccessible::accNavigate` в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::accNavigate` в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: аккнавигате](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accnavigate) в Windows SDK.

##  <a name="accselect"></a>  CWnd::accSelect

Вызывается платформой для изменения выбранной области или перемещения фокуса клавиатурного ввода указанного объекта.

```
virtual HRESULT accSelect(
    long flagsSelect,
    VARIANT varChild);
```

### <a name="parameters"></a>Параметры

*флагсселект*<br/>
Задает способ изменения текущего выделения или фокуса. См. раздел *флагсселект* in [IAccessible:: аккселект](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accselect) в Windows SDK.

*варчилд*<br/>
Указывает объект для выбора. Этот параметр может быть либо CHILDID_SELF (для выбора самого объекта), либо ИДЕНТИФИКАТОРом дочернего элемента (для выбора одного из потомков объекта).

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::accSelect` в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: аккселект](/windows/win32/api/oleacc/nf-oleacc-iaccessible-accselect) в Windows SDK.

##  <a name="animatewindow"></a>  CWnd::AnimateWindow

Создает специальные эффекты при отображении или скрытии окон.

```
BOOL AnimateWindow(
    DWORD dwTime,
    DWORD dwFlags);
```

### <a name="parameters"></a>Параметры

*двтиме*<br/>
Указывает время, затрачиваемое на воспроизведение анимации в миллисекундах. Как правило, воспроизведение анимации занимает 200 миллисекунд.

*dwFlags*<br/>
Задает тип анимации. Полный список возможных значений см. в разделе [аниматевиндов](/windows/win32/api/winuser/nf-winuser-animatewindow).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [аниматевиндов](/windows/win32/api/winuser/nf-winuser-animatewindow), как описано в Windows SDK.

##  <a name="arrangeiconicwindows"></a>CWnd:: Арранжеикониквиндовс

Упорядочивает все свернутые (преобразованные в значки) дочерние окна.

```
UINT ArrangeIconicWindows();
```

### <a name="return-value"></a>Возвращаемое значение

Высота одной строки значков, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция элемента также упорядочивает значки в окне рабочего стола, которое охватывает весь экран. Функция-член [жетдесктопвиндов](#getdesktopwindow) извлекает указатель на объект окна рабочего стола.

Чтобы разместить значки дочерних MDI-окон в окне клиента MDI, вызовите метод [CMDIFrameWnd:: мдииконарранже](../../mfc/reference/cmdiframewnd-class.md#mdiiconarrange).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#66](../../mfc/reference/codesnippet/cpp/cwnd-class_1.cpp)]

##  <a name="attach"></a>CWnd:: Attach

Присоединяет окно Windows к объекту `CWnd`.

```
BOOL Attach(HWND hWndNew);
```

### <a name="parameters"></a>Параметры

*хвнднев*<br/>
Задает маркер окна Windows.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

В этом примере показано, как использовать присоединение и отсоединение для отображения в окне клиента MDI.

[!code-cpp[NVC_MFCWindowing#67](../../mfc/reference/codesnippet/cpp/cwnd-class_2.h)]

[!code-cpp[NVC_MFCWindowing#68](../../mfc/reference/codesnippet/cpp/cwnd-class_3.cpp)]

[!code-cpp[NVC_MFCWindowing#69](../../mfc/reference/codesnippet/cpp/cwnd-class_4.cpp)]

##  <a name="beginmodalstate"></a>CWnd:: Бегинмодалстате

Данная функция-член вызывается для преобразования окна фрейма в модальное.

```
virtual void BeginModalState();
```

##  <a name="beginpaint"></a>CWnd:: Бегинпаинт

Подготавливает `CWnd` для рисования и заливки структуры данных `PAINTSTRUCT` с информацией о выкраске.

```
CDC* BeginPaint(LPPAINTSTRUCT lpPaint);
```

### <a name="parameters"></a>Параметры

*лппаинт*<br/>
Указывает на структуру [PAINTSTRUCT](/windows/win32/api/winuser/ns-winuser-paintstruct) , которая предназначена для получения сведений о выкраске.

### <a name="return-value"></a>Возвращаемое значение

Определяет контекст устройства для `CWnd`. Указатель может быть временным и не должен храниться за пределами области [ендпаинт](#endpaint).

### <a name="remarks"></a>Примечания

Структура заливки содержит структуру данных RECT с наименьшим прямоугольником, который полностью заключает в себя область обновления, и флаг, указывающий, был ли стерт фон.

Область обновления задается функциями [Invalidate](#invalidate), [InvalidateRect](#invalidaterect) или [InvalidateRgn](#invalidatergn) и системой после ее размера, перемещения, создания, прокрутки или выполнения любой другой операции, влияющей на клиентскую область. Если регион обновления помечен для удаления, `BeginPaint` отправляет сообщение [WM_ONERASEBKGND](#onerasebkgnd) .

Не вызывайте функцию-член `BeginPaint`, за исключением сообщения [WM_PAINT](#onpaint) . Каждый вызов функции-члена `BeginPaint` должен иметь соответствующий вызов функции-члена [ендпаинт](#endpaint) . Если курсор находится в закрашиваемой области, функция-член `BeginPaint` автоматически скрывает курсор, чтобы предотвратить его стирание.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#70](../../mfc/reference/codesnippet/cpp/cwnd-class_5.cpp)]

##  <a name="binddefaultproperty"></a>CWnd:: Бинддефаултпроперти

Привязывает свойство простого связанного объекта по умолчанию (например, элемент управления "поле ввода"), как указано в библиотеке типов, к базовому курсору, определенному в свойствах DataSource, UserName, Password и SQL элемента управления источника данных.

```
void BindDefaultProperty(
    DISPID dwDispID,
    VARTYPE vtProp,
    LPCTSTR szFieldName,
    CWnd* pDSCWnd);
```

### <a name="parameters"></a>Параметры

*двдиспид*<br/>
Указывает DISPID свойства в элементе управления с привязкой к данным, который должен быть привязан к элементу управления источника данных.

*втпроп*<br/>
Указывает тип свойства для привязки, например VT_BSTR, VT_VARIANT и т. д.

*сзфиелднаме*<br/>
Задает имя столбца в курсоре, предоставленном элементом управления источника данных, к которому будет привязано свойство.

*пдсквнд*<br/>
Указывает на окно, в котором размещен элемент управления источника данных, к которому будет привязано свойство. Вызовите `GetDlgItem` с ИДЕНТИФИКАТОРом ресурса главного окна контроллера домена, чтобы получить этот указатель.

### <a name="remarks"></a>Примечания

Объект `CWnd`, для которого вызывается эта функция, должен быть элементом управления с привязкой к данным.

### <a name="example"></a>Пример

`BindDefaultProperty` может использоваться в следующем контексте:

[!code-cpp[NVC_MFC_AxDataBinding#2](../../mfc/reference/codesnippet/cpp/cwnd-class_7.cpp)]

##  <a name="bindproperty"></a>CWnd:: Биндпроперти

Привязывает привязанное к курсору свойство к элементу управления с привязкой к данным (например, к элементу управления "Сетка") к элементу управления источником данных и регистрирует эту связь с помощью диспетчера привязок MFC.

```
void BindProperty(
    DISPID dwDispId,
    CWnd* pWndDSC);
```

### <a name="parameters"></a>Параметры

*dwDispId*<br/>
Указывает DISPID свойства в элементе управления с привязкой к данным, который должен быть привязан к элементу управления источника данных.

*пвнддск*<br/>
Указывает на окно, в котором размещен элемент управления источника данных, к которому будет привязано свойство. Вызовите `GetDlgItem` с ИДЕНТИФИКАТОРом ресурса главного окна контроллера домена, чтобы получить этот указатель.

### <a name="remarks"></a>Примечания

Объект `CWnd`, для которого вызывается эта функция, должен быть элементом управления с привязкой к данным.

### <a name="example"></a>Пример

`BindProperty` может использоваться в следующем контексте:

[!code-cpp[NVC_MFC_AxDataBinding#4](../../mfc/reference/codesnippet/cpp/cwnd-class_9.cpp)]

##  <a name="bringwindowtotop"></a>CWnd:: Брингвиндовтотоп

Перемещает `CWnd` на вершину стека перекрывающихся окон.

```
void BringWindowToTop();
```

### <a name="remarks"></a>Примечания

Кроме того `BringWindowToTop` активирует всплывающие окна, окна высшего уровня и дочерние окна MDI. Функцию-член `BringWindowToTop` следует использовать, чтобы показать любое окно, частично или полностью скрытое какими-либо перекрывающими окнами.

Эта функция просто вызывает функцию Win32 [брингвиндовтотоп](/windows/win32/api/winuser/nf-winuser-bringwindowtotop) . Вызовите функцию [SetWindowPos](#setwindowpos) , чтобы изменить расположение окна в Z-порядке. Функция `BringWindowToTop` не изменяет стиль окна, чтобы сделать его окном верхнего уровня. Дополнительные сведения см. [в разделе различие между HWND_TOP и HWND_TOPMOST](https://devblogs.microsoft.com/oldnewthing/?p=33263)

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#71](../../mfc/reference/codesnippet/cpp/cwnd-class_10.cpp)]

##  <a name="calcwindowrect"></a>  CWnd::CalcWindowRect

Вычисляет прямоугольник окна, который может содержать указанный клиентский прямоугольник.

```
virtual void CalcWindowRect(
    LPRECT lpClientRect,
    UINT nAdjustType = adjustBorder);
```

### <a name="parameters"></a>Параметры

*лпклиентрект*<br/>
[вход, выход] Указатель на структуру прямоугольника. На входе эта структура содержит клиентский прямоугольник. После завершения метода эта структура содержит прямоугольник окна, который может содержать указанный клиентский прямоугольник.

*наджусттипе*<br/>
окне Используйте `CWnd::adjustBorder`, чтобы вычислить координаты окна без стиля WS_EX_CLIENTEDGE. в противном случае используйте `CWnd::adjustOutside`.

### <a name="remarks"></a>Примечания

Размер вычисляемого прямоугольника окна не включает пробел для строки меню.

Дополнительные ограничения на использование см. в разделе [аджуствиндовректекс](/windows/win32/api/winuser/nf-winuser-adjustwindowrectex).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#72](../../mfc/reference/codesnippet/cpp/cwnd-class_11.cpp)]

##  <a name="canceltooltips"></a>CWnd:: Канцелтултипс

Вызовите эту функцию-член, чтобы удалить всплывающую подсказку с экрана, если в данный момент отображается подсказка.

```
static void PASCAL CancelToolTips(BOOL bKeys = FALSE);
```

### <a name="parameters"></a>Параметры

*бкэйс*<br/>
Значение TRUE, чтобы отменить подсказки при нажатии клавиши, а также задать для текста строки состояния значение по умолчанию; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Использование этой функции – члена не влияет на подсказки инструментов, которыми управляет ваш код. Он влияет только на элемент управления «подсказка», управляемый [CWnd:: енаблетултипс](#enabletooltips).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#73](../../mfc/reference/codesnippet/cpp/cwnd-class_12.cpp)]

##  <a name="centerwindow"></a>  CWnd::CenterWindow

Выравнивает окно по центру относительно его родительских окон.

```
void CenterWindow(CWnd* pAlternateOwner = NULL);
```

### <a name="parameters"></a>Параметры

*палтернатеовнер*<br/>
Указатель на альтернативное окно, относительно которого оно будет центрировано (кроме родительского окна).

### <a name="remarks"></a>Примечания

Обычно вызывается из класса [CDialog:: онинитдиалог](../../mfc/reference/cdialog-class.md#oninitdialog) в центр диалоговых окон по отношению к главному окну приложения. По умолчанию функция центрирует дочерние окна относительно родительского окна, а всплывающие окна — относительно их владельца. Если всплывающее окно не принадлежит, оно центрируется относительно экрана. Чтобы центрировать окно относительно определенного окна, которое не является владельцем или родителем, параметр *палтернатеовнер* может быть установлен в допустимое окно. Чтобы принудительно выровнять по центру относительно экрана, передайте значение, возвращенное методом [CWnd:: жетдесктопвиндов](#getdesktopwindow) как *палтернатеовнер*.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#74](../../mfc/reference/codesnippet/cpp/cwnd-class_13.cpp)]

##  <a name="changeclipboardchain"></a>CWnd:: Чанжеклипбоардчаин

Удаляет `CWnd` из цепочки средств просмотра буфера обмена и делает окно заданным, *хвнднекст* потомки элемента-предка `CWnd` в цепочке.

```
BOOL ChangeClipboardChain(HWND hWndNext);
```

### <a name="parameters"></a>Параметры

*хвнднекст*<br/>
Определяет окно, которое следует `CWnd` в цепочке окна просмотра буфера обмена.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

##  <a name="checkdlgbutton"></a>  CWnd::CheckDlgButton

Выбирает (устанавливает галочку рядом с кнопкой) или очищает (удаляет галочку из) кнопки или изменяет состояние кнопки с тремя состояниями.

```
void CheckDlgButton(
    int nIDButton,
    UINT nCheck);
```

### <a name="parameters"></a>Параметры

*нидбуттон*<br/>
Задает изменяемую кнопку.

*nДополнительные*<br/>
Указывает действие, которое необходимо выполнить. Если *nДополнительные* имеет ненулевое значение, функция-член `CheckDlgButton` помещает флажок рядом с кнопкой; Если значение равно 0, галочка снимается. Для кнопок с тремя состояниями, если *nДополнительные* имеет значение 2, состояние кнопки является неопределенным.

### <a name="remarks"></a>Примечания

Функция `CheckDlgButton` отправляет сообщение [BM_SETCHECK](/windows/win32/Controls/bm-setcheck) указанной кнопке.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#75](../../mfc/reference/codesnippet/cpp/cwnd-class_14.cpp)]

##  <a name="checkradiobutton"></a>CWnd:: Чеккрадиобуттон

Выбирает (добавляет флажок) для данного переключателя в группе и очищает (снимает флажок с) всех остальных переключателей в группе.

```
void CheckRadioButton(
    int nIDFirstButton,
    int nIDLastButton,
    int nIDCheckButton);
```

### <a name="parameters"></a>Параметры

*нидфирстбуттон*<br/>
Задает целочисленный идентификатор для первого переключателя в группе.

*нидластбуттон*<br/>
Задает целочисленный идентификатор последнего переключателя в группе.

*нидчеккбуттон*<br/>
Задает целочисленный идентификатор переключателя для проверки.

### <a name="remarks"></a>Примечания

Функция `CheckRadioButton` отправляет сообщение [BM_SETCHECK](/windows/win32/Controls/bm-setcheck) указанному переключателю.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#76](../../mfc/reference/codesnippet/cpp/cwnd-class_15.cpp)]

##  <a name="childwindowfrompoint"></a>  CWnd::ChildWindowFromPoint

Определяет, какие из дочерних окон, принадлежащих `CWnd`, содержат указанную точку, если таковые имеются.

```
CWnd* ChildWindowFromPoint(POINT point) const;

CWnd* ChildWindowFromPoint(
    POINT point,
    UINT nFlags) const;
```

### <a name="parameters"></a>Параметры

*point*<br/>
Указывает клиентские координаты проверяемой точки.

*нфлагс*<br/>
Указывает, какие дочерние окна следует пропустить. Этот параметр может быть сочетанием следующих значений:

|Значение|Значение|
|-----------|-------------|
|CWP_ALL|Не пропускать дочерние окна|
|CWP_SKIPINVISIBLE|Пропустить невидимые дочерние окна|
|CWP_SKIPDISABLED|Пропустить отключенные дочерние окна|
|CWP_SKIPTRANSPARENT|Пропустить прозрачные дочерние окна|

### <a name="return-value"></a>Возвращаемое значение

Определяет дочернее окно, содержащее точку. Имеет значение NULL, если заданная точка находится за пределами клиентской области. Если точка находится в клиентской области, но не содержится в любом дочернем окне, возвращается `CWnd`.

Эта функция-член возвратит скрытое или отключенное дочернее окно, содержащее указанную точку.

Заданная точка может содержаться в нескольких окнах. Однако эта функция возвращает только `CWnd`* первого найденного окна, содержащего точку.

Возвращаемый `CWnd`* может быть временным и не должен храниться для последующего использования.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#77](../../mfc/reference/codesnippet/cpp/cwnd-class_16.cpp)]

##  <a name="clienttoscreen"></a>CWnd:: Клиенттоскрин

Преобразует клиентские координаты указанной точки или прямоугольника на экране в экранные координаты.

```
void ClientToScreen(LPPOINT lpPoint) const;  void ClientToScreen(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лппоинт*<br/>
Указывает на [структуру точек](/windows/win32/api/windef/ns-windef-point) или `CPoint` объект, содержащий клиентские координаты для преобразования.

*лпрект*<br/>
Указывает на [структуру Rect](/windows/win32/api/windef/ns-windef-rect) или `CRect` объект, содержащий клиентские координаты для преобразования.

### <a name="remarks"></a>Примечания

Функция члена `ClientToScreen` использует координаты клиента в структуре `POINT` или `RECT` либо объект `CPoint` или `CRect`, на который указывает *лппоинт* или *лпрект* для вычислений новых экранных координат. Затем они заменяют координаты в структуре новыми координатами. Новые экранные координаты задаются относительно левого верхнего угла отображения системы.

Функция-член `ClientToScreen` предполагает, что заданная точка или прямоугольник находится в координатах клиента.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#78](../../mfc/reference/codesnippet/cpp/cwnd-class_17.cpp)]

##  <a name="closewindow"></a>  CWnd::CloseWindow

Сворачивает окно.

```
void CloseWindow();
```

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [клосевиндов](/windows/win32/api/winuser/nf-winuser-closewindow), как описано в Windows SDK.

##  <a name="continuemodal"></a>CWnd:: Континуемодал

Эта функция-член вызывается методом [RunModalLoop](#runmodalloop) , чтобы определить, когда следует выйти из модального состояния.

```
virtual BOOL ContinueModal();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если модальный цикл должен быть продолжен; 0 при вызове [ендмодаллуп](#endmodalloop) .

### <a name="remarks"></a>Примечания

По умолчанию он возвращает ненулевое значение до вызова `EndModalLoop`.

##  <a name="create"></a>  CWnd::Create

Создает указанное дочернее окно и прикрепляет его к объекту [CWnd](../../mfc/reference/cwnd-class.md) .

```
virtual BOOL Create(
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    Const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CCreateContext* pContext = NULL);
```

### <a name="parameters"></a>Параметры

*лпсзкласснаме*<br/>
окне Указатель на строку, завершающуюся нулем, которая содержит имя зарегистрированного системного класса окна; или имя стандартного класса системного окна.

*лпсзвиндовнаме*<br/>
окне Указатель на строку, завершающуюся нулем, которая содержит отображаемое имя окна; в противном случае NULL не отображает отображаемое имя окна.

*двстиле*<br/>
окне Побитовое сочетание (или) [стилей окна](styles-used-by-mfc.md#window-styles). Параметр WS_POPUP не является допустимым стилем.

*rect*<br/>
окне Размер и расположение окна относительно левого верхнего угла родительского окна.

*ппарентвнд*<br/>
окне Указатель на родительское окно.

*nID*<br/>
окне ИДЕНТИФИКАТОР окна.

*pContext*<br/>
окне Указатель на структуру [ккреатеконтекст](../../mfc/reference/ccreatecontext-structure.md) , которая используется для настройки архитектуры представления документа для приложения.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

> [!WARNING]
> `CWnd::PreCreateWindow` теперь присваивает **этому** указателю член HMENU своего параметра `CREATESTRUCT`, если меню имеет значение null, а стиль содержит WS_CHILD. Для правильной работы убедитесь, что элемент управления диалогового окна имеет идентификатор, отличный от NULL.
>
> Это изменение устраняет сбой в сценариях управляемого и машинного взаимодействия. Инструкция трассировки в `CWnd::Create` предупреждает разработчика о проблеме.

Используйте функцию [афксрегистервндкласс](../../mfc/reference/application-information-and-management.md#afxregisterwndclass) для регистрации классов окон. Пользовательские классы окон доступны в модуле, в котором они зарегистрированы.

Метод [CWnd:: OnCreate](#oncreate) вызывается перед возвратом метода `Create` и до того, как окно становится видимым.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#79](../../mfc/reference/codesnippet/cpp/cwnd-class_18.cpp)]

##  <a name="createaccessibleproxy"></a>CWnd:: Креатеакцессиблепрокси

Создает прокси-сервер Active Accessibility для указанного объекта.

```
virtual HRESULT CreateAccessibleProxy(
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*wParam*<br/>
Определяет объект, к которому обращается Active Accessibility прокси-сервер. Может принимать одно из следующих значений:

|Значение|Значение|
|-----------|-------------|
|OBJID_CLIENT|Ссылается на клиентскую область окна.|

*lParam*<br/>
Предоставляет дополнительные сведения, зависящие от сообщений.

*пресулт*<br/>
Указатель на LRESULT, в котором хранится код результата.

### <a name="remarks"></a>Примечания

Создает прокси-сервер Active Accessibility для указанного объекта.

##  <a name="createcaret"></a>  CWnd::CreateCaret

Создает новую фигуру для системного курсора и владельца курсора.

```
void CreateCaret(CBitmap* pBitmap);
```

### <a name="parameters"></a>Параметры

*пбитмап*<br/>
Определяет точечный рисунок, определяющий фигуру курсора.

### <a name="remarks"></a>Примечания

Точечный рисунок должен быть создан ранее функцией члена [CBitmap:: креатебитмап](../../mfc/reference/cbitmap-class.md#createbitmap) , функцией Windows [креатедибитмап](/windows/win32/api/wingdi/nf-wingdi-createdibitmap) или функцией члена [CBitmap:: лоадбитмап](../../mfc/reference/cbitmap-class.md#loadbitmap) .

`CreateCaret` автоматически удаляет предыдущую фигуру курсора, если она есть, независимо от того, какое окно владеет курсором. После создания курсор изначально скрыт. Чтобы отобразить курсор, необходимо вызвать функцию члена [шовкарет](#showcaret) .

Системный курсор — это общий ресурс. `CWnd` должен создавать курсор, только если он имеет фокус ввода или активен. Он должен уничтожить курсор до того, как он потерял фокус ввода или стал неактивным.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#80](../../mfc/reference/codesnippet/cpp/cwnd-class_19.cpp)]

##  <a name="createcontrol"></a>  CWnd::CreateControl

Эта функция-член используется для создания элемента управления ActiveX, который будет представлен в программе MFC объектом `CWnd`.

```
BOOL CreateControl(
    LPCTSTR pszClass,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);

BOOL CreateControl(
    REFCLSID clsid,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);

BOOL CreateControl(
    REFCLSID clsid,
    LPCTSTR pszWindowName,
    DWORD dwStyle,
    const POINT* ppt,
    const SIZE* psize,
    CWnd* pParentWnd,
    UINT nID,
    CFile* pPersist = NULL,
    BOOL bStorage = FALSE,
    BSTR bstrLicKey = NULL);
```

### <a name="parameters"></a>Параметры

*псзкласс*<br/>
Эта строка может содержать "короткое имя" (ProgID) для класса, например "CIRC3". Circ3Ctrl. 1 ". Имя должно совпадать с именем, зарегистрированным элементом управления. Кроме того, строка может содержать форму строки CLSID, содержащуюся в фигурных скобках, например "{9DBAFCCF-592F-101B-85CE-00608CEC297B}". В любом случае `CreateControl` преобразует строку в соответствующий идентификатор класса.

*pszWindowName*<br/>
Указатель на текст, отображаемый в элементе управления. Задает значение свойства Caption или Text элемента управления (если оно имеется). Если значение равно NULL, свойство Caption или Text элемента управления не изменяется.

*двстиле*<br/>
Стили Windows. Доступные стили перечислены в разделе Примечания.

*rect*<br/>
Задает размер и расположение элемента управления. Это может быть либо объект [крект](../../atl-mfc-shared/reference/crect-class.md) , либо [Структура Rect](/windows/win32/api/windef/ns-windef-rect).

*PowerPoint*<br/>
Указывает на [структуру точек](/windows/win32/api/windef/ns-windef-point) или `CPoint` объект, содержащий левый верхний угол элемента управления.

*псизе*<br/>
Указывает на структуру [SIZE](/windows/win32/api/windef/ns-windef-size) или объект `CSize`, который содержит размер элемента управления

*ппарентвнд*<br/>
Указывает родительское окно элемента управления. Оно не должно иметь значение NULL.

*nID*<br/>
Указывает идентификатор элемента управления.

*пперсист*<br/>
Указатель на [кфиле](../../mfc/reference/cfile-class.md) , содержащий постоянное состояние для элемента управления. Значение по умолчанию равно NULL, что означает, что элемент управления инициализируется без восстановления состояния из постоянного хранилища. Если значение не равно NULL, оно должно быть указателем на объект, производный от `CFile`, который содержит постоянные данные элемента управления, в виде потока или хранилища. Эти данные могли быть сохранены в предыдущей активации клиента. `CFile` может содержать другие данные, но указатель для чтения и записи должен быть установлен на первый байт постоянных данных во время вызова `CreateControl`.

*бстораже*<br/>
Указывает, должны ли данные в *пперсист* интерпретироваться как данные IStorage или IStream. Если данные в *пперсист* являются хранилищем, *бстораже* должно иметь значение true. Если данные в *пперсист* являются потоком, *бстораже* должен иметь значение false. По умолчанию используется значение FALSE.

*бстрликкэй*<br/>
Необязательные данные лицензионного ключа. Эти данные необходимы только для создания элементов управления, требующих лицензионного ключа во время выполнения. Если элемент управления поддерживает лицензирование, необходимо предоставить лицензионный ключ, чтобы создать элемент управления для выполнения. Значение по умолчанию — NULL.

*этому*<br/>
Уникальный идентификатор класса элемента управления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

`CreateControl` является прямым аналогом функции [CWnd:: Create](#create) , которая создает окно для `CWnd`. `CreateControl` создает элемент управления ActiveX вместо обычного окна.

`CreateControl`поддерживаются только подмножество флагов Windows *двстиле* :

- WS_VISIBLE создает окно, которое изначально видимо. Требуется, если необходимо, чтобы элемент управления был видимым немедленно, например обычным окнам.

- WS_DISABLED создает окно, которое изначально отключено. Отключенное окно не может принимать входные данные от пользователя. Может быть задан, если элемент управления имеет свойство Enabled.

- WS_BORDER создает окно с тонкой линией. Может быть задан, если элемент управления имеет свойство BorderStyle.

- WS_GROUP задает первый элемент управления группы элементов управления. Пользователь может изменить фокус клавиатуры с одного элемента управления в группе на следующий с помощью клавиш направления. Все элементы управления, определенные с WS_GROUP стилем после первого элемента управления, принадлежат к одной группе. Следующий элемент управления с стилем WS_GROUP завершает группу и запускает следующую группу.

- WS_TABSTOP указывает элемент управления, который может получать фокус клавиатуры, когда пользователь нажимает клавишу TAB. При нажатии клавиши TAB фокус клавиатуры меняется на следующий элемент управления стиля WS_TABSTOP.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#81](../../mfc/reference/codesnippet/cpp/cwnd-class_20.h)]

##  <a name="createex"></a>  CWnd::CreateEx

Создает указанное окно и прикрепляет его к объекту `CWnd`.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    int x,
    int y,
    int nWidth,
    int nHeight,
    HWND hWndParent,
    HMENU nIDorHMenu,
    LPVOID lpParam = NULL);

virtual BOOL CreateEx(
    DWORD dwExStyle,
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID,
    LPVOID lpParam = NULL);
```

### <a name="parameters"></a>Параметры

*двексстиле*<br/>
Побитовое сочетание (или) [расширенных стилей окон](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles); в противном случае — NULL для расширенного стиля окна по умолчанию.

*лпсзкласснаме*<br/>
Указатель на строку, завершающуюся нулем, которая содержит имя зарегистрированного системного класса окна; или имя стандартного класса системного окна.

*лпсзвиндовнаме*<br/>
Указатель на строку, завершающуюся нулем, которая содержит отображаемое имя окна; в противном случае NULL не отображает отображаемое имя окна.

*двстиле*<br/>
Побитовое сочетание (или) [стилей окна](styles-used-by-mfc.md#window-styles); в противном случае значение NULL для стиля окна по умолчанию.

*x*<br/>
Начальное расстояние по горизонтали окна с левой стороны экрана или родительского окна.

*y*<br/>
Начальное расстояние по вертикали окна от верхнего края экрана или родительского окна.

*нвидс*<br/>
Ширина окна в пикселях.

*нхеигхт*<br/>
Высота окна в пикселях.

*хвндпарент*<br/>
Для дочернего окна — это маркер родительского окна; в противном случае — маркер окна владельца, если у окна есть владелец.

*нидорхмену*<br/>
Для дочернего окна — идентификатор окна; в противном случае — идентификатор меню для окна.

*лппарам*<br/>
Указатель на данные пользователя, которые передаются в метод [CWnd:: OnCreate](#oncreate) в поле *лпкреатепарамс* .

*rect*<br/>
Размер и расположение окна относительно экрана или родительского окна.

*ппарентвнд*<br/>
Для дочернего окна — Указатель на родительское окно; в противном случае — указатель на окно владельца, если у окна есть владелец.

*nID*<br/>
Для дочернего окна — идентификатор окна; в противном случае — идентификатор меню для окна.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

> [!WARNING]
> `CWnd::PreCreateWindow` теперь присваивает **этому** указателю член HMENU своего параметра `CREATESTRUCT`, если меню имеет значение null, а стиль содержит WS_CHILD. Для правильной работы убедитесь, что элемент управления диалогового окна имеет идентификатор, отличный от NULL.
>
> Это изменение устраняет сбой в сценариях управляемого и машинного взаимодействия. Инструкция `TRACE` в `CWnd::Create` предупреждает разработчика о проблеме.

Расширенный стиль окна по умолчанию — WS_EX_LEFT. Стиль окна по умолчанию — WS_OVERLAPPED.

Используйте функцию [афксрегистервндкласс](../../mfc/reference/application-information-and-management.md#afxregisterwndclass) для регистрации классов окон. Пользовательские классы окон доступны в модуле, в котором они зарегистрированы.

Размеры дочерних окон задаются относительно левого верхнего угла клиентской области родительского окна. Измерения для окон верхнего уровня задаются относительно левого верхнего угла экрана.

Метод [CWnd:: OnCreate](#oncreate) вызывается перед возвратом метода `CreateEx` и до того, как окно становится видимым.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#82](../../mfc/reference/codesnippet/cpp/cwnd-class_21.cpp)]

##  <a name="creategraycaret"></a>  CWnd::CreateGrayCaret

Создает серый прямоугольник для системного курсора и владение утверждениями курсора.

```
void CreateGrayCaret(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*нвидс*<br/>
Задает ширину курсора (в логических единицах). Если этот параметр равен 0, то ширина задается системой, заданной в окне.

*нхеигхт*<br/>
Задает высоту курсора (в логических единицах). Если этот параметр равен 0, то высота устанавливается в соответствии с заданной системой высотой границы окна.

### <a name="remarks"></a>Примечания

Фигура курсора может быть строкой или блоком.

Параметры *нвидс* и *нхеигхт* задают ширину и высоту курсора (в логических единицах); Точная ширина и высота (в пикселях) зависят от режима сопоставления.

В функции Windows [жетсистемметрикс](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) можно получить ширину или высоту окна системы с индексами SM_CXBORDER и SM_CYBORDER. Использование ширины окна и высоты гарантирует, что курсор будет отображаться на дисплее с высоким разрешением.

Функция члена `CreateGrayCaret` автоматически удаляет предыдущую фигуру курсора, если она есть, независимо от того, какое окно владеет курсором. После создания курсор изначально скрыт. Чтобы отобразить курсор, необходимо вызвать функцию члена [шовкарет](#showcaret) .

Системный курсор — это общий ресурс. `CWnd` должен создавать курсор, только если он имеет фокус ввода или активен. Он должен уничтожить курсор до того, как он потерял фокус ввода или стал неактивным.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#83](../../mfc/reference/codesnippet/cpp/cwnd-class_22.cpp)]

##  <a name="createsolidcaret"></a>  CWnd::CreateSolidCaret

Создает сплошной прямоугольник для системного курсора и владельца курсора.

```
void CreateSolidCaret(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*нвидс*<br/>
Задает ширину курсора (в логических единицах). Если этот параметр равен 0, то ширина задается системой, заданной в окне.

*нхеигхт*<br/>
Задает высоту курсора (в логических единицах). Если этот параметр равен 0, то высота устанавливается в соответствии с заданной системой высотой границы окна.

### <a name="remarks"></a>Примечания

Фигура курсора может быть строкой или блоком.

Параметры *нвидс* и *нхеигхт* задают ширину и высоту курсора (в логических единицах); Точная ширина и высота (в пикселях) зависят от режима сопоставления.

В функции Windows [жетсистемметрикс](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) можно получить ширину или высоту окна системы с индексами SM_CXBORDER и SM_CYBORDER. Использование ширины окна и высоты гарантирует, что курсор будет отображаться на дисплее с высоким разрешением.

Функция члена `CreateSolidCaret` автоматически удаляет предыдущую фигуру курсора, если она есть, независимо от того, какое окно владеет курсором. После создания курсор изначально скрыт. Чтобы отобразить курсор, необходимо вызвать функцию члена [шовкарет](#showcaret) .

Системный курсор — это общий ресурс. `CWnd` должен создавать курсор, только если он имеет фокус ввода или активен. Он должен уничтожить курсор до того, как он потерял фокус ввода или стал неактивным.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#84](../../mfc/reference/codesnippet/cpp/cwnd-class_23.cpp)]

##  <a name="cwnd"></a>  CWnd::CWnd

Создает объект `CWnd`.

```
CWnd();
```

### <a name="remarks"></a>Примечания

Окно Windows не создается и не прикрепляется, пока не будет вызвана функция-член [креатикс](#createex) или [CREATE](#create) .

##  <a name="default"></a>CWnd::D молчанию

Вызывает процедуру окна по умолчанию.

```
LRESULT Default();
```

### <a name="return-value"></a>Возвращаемое значение

Зависит от отправленного сообщения.

### <a name="remarks"></a>Примечания

Процедура окна по умолчанию предоставляет обработку по умолчанию для любого сообщения окна, которое не обрабатывается приложением. Эта функция-член гарантирует обработку каждого сообщения.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#85](../../mfc/reference/codesnippet/cpp/cwnd-class_24.cpp)]

##  <a name="defwindowproc"></a>  CWnd::DefWindowProc

Вызывает процедуру окна по умолчанию, которая обеспечивает обработку по умолчанию для любого сообщения окна, которое не обрабатывается приложением.

```
virtual LRESULT DefWindowProc(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает сообщение Windows для обработки.

*wParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*lParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Зависит от отправленного сообщения.

### <a name="remarks"></a>Примечания

Эта функция-член гарантирует обработку каждого сообщения. Он должен вызываться с теми же параметрами, которые были получены процедурой окна.

##  <a name="deletetempmap"></a>  CWnd::DeleteTempMap

Вызывается автоматически обработчиком времени простоя объекта `CWinApp`.

```
static void PASCAL DeleteTempMap();
```

### <a name="remarks"></a>Примечания

Удаляет все временные `CWnd` объекты, созданные функцией члена `FromHandle`.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#86](../../mfc/reference/codesnippet/cpp/cwnd-class_25.cpp)]

##  <a name="destroywindow"></a>  CWnd::DestroyWindow

Уничтожает окно Windows, присоединенное к объекту `CWnd`.

```
virtual BOOL DestroyWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если окно уничтожается; в противном случае — 0.

### <a name="remarks"></a>Примечания

Функция члена `DestroyWindow` отправляет в окно соответствующие сообщения для деактивации и удаления фокуса ввода. Он также уничтожает меню окна, очищает очередь приложений, уничтожает невыполненные таймеры, удаляет владение буфером обмена и прерывает цепочку просмотра буфера, если `CWnd` находится в верхней части цепочки средств просмотра. Он отправляет в окно [WM_DESTROY](#ondestroy) и [WM_NCDESTROY](#onncdestroy) сообщения. Он не уничтожает объект `CWnd`.

`DestroyWindow` — это заполнитель для выполнения очистки. Поскольку `DestroyWindow` является виртуальной функцией, она отображается в любом классе, производном от `CWnd`, в представление классов. Но даже при переопределении этой функции в классе, производном от `CWnd`, `DestroyWindow` не обязательно вызывается. Если `DestroyWindow` не вызывается в коде MFC, необходимо явно вызвать его в собственном коде, если его нужно вызвать.

Предположим, например, что вы переопределили `DestroyWindow` в классе, производном от `CView`. Поскольку исходный код MFC не вызывает `DestroyWindow` в любом из классов, производных от `CFrameWnd`, переопределенные `DestroyWindow` не будут вызываться, пока он не будет вызван явным образом.

Если окно является родительским для любого окна, эти дочерние окна автоматически уничтожаются при уничтожении родительского окна. Функция члена `DestroyWindow` уничтожает сначала дочерние окна, а затем само окно.

Функция члена `DestroyWindow` также уничтожает немодальные диалоговые окна, созданные с помощью класса [CDialog:: Create](../../mfc/reference/cdialog-class.md#create).

Если удаляемый объект `CWnd` является дочерним окном и не имеет набора стилей [WS_EX_NOPARENTNOTIFY](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles), то сообщение [WM_PARENTNOTIFY](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) отправляется родительскому элементу.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#87](../../mfc/reference/codesnippet/cpp/cwnd-class_26.cpp)]

##  <a name="detach"></a>CWnd::D етач

Отсоединяет дескриптор Windows от объекта `CWnd` и возвращает дескриптор.

```
HWND Detach();
```

### <a name="return-value"></a>Возвращаемое значение

HWND для объекта Windows.

### <a name="example"></a>Пример

  См. пример для [CWnd:: Attach](#attach).

##  <a name="dlgdirlist"></a>  CWnd::DlgDirList

Заполняет список файлами или каталогами.

```
int DlgDirList(
    LPTSTR lpPathSpec,
    int nIDListBox,
    int nIDStaticPath,
    UINT nFileType);
```

### <a name="parameters"></a>Параметры

*лппасспек*<br/>
Указывает на строку, завершающуюся нулем, которая содержит путь или имя файла. `DlgDirList` изменяет эту строку, которая должна быть достаточно длинна для хранения изменений. Дополнительные сведения см. в следующем разделе "Примечания".

*нидлистбокс*<br/>
Задает идентификатор поля списка. Если *нидлистбокс* имеет значение 0, `DlgDirList` предполагает, что список не существует и не пытается заполнить его.

*нидстатикпас*<br/>
Задает идентификатор элемента управления "статический текст", используемый для вывода текущего диска и каталога. Если *нидстатикпас* имеет значение 0, `DlgDirList` предполагает, что такого элемента управления Text не существует.

*нфилетипе*<br/>
Задает атрибуты отображаемых файлов. Это может быть любое сочетание следующих значений:

- DDL_READWRITE файлы данных для чтения и записи без дополнительных атрибутов.

- DDL_READONLY файлы только для чтения.

- DDL_HIDDEN скрытые файлы.

- DDL_SYSTEM системные файлы.

- DDL_DIRECTORY каталоги.

- DDL_ARCHIVE архивов.

- Флаг LB_DIR DDL_POSTMSGS. Если установлен флаг LB_DIR, Windows помещает сообщения, созданные `DlgDirList`, в очередь приложения. в противном случае они отправляются непосредственно в процедуру диалогового окна.

- DDL_DRIVES диски. Если установлен флаг DDL_DRIVES, флаг DDL_EXCLUSIVE устанавливается автоматически. Таким образом, чтобы создать список каталогов, включающий диски и файлы, необходимо вызвать метод `DlgDirList` дважды: один раз с установленным флагом DDL_DRIVES и один раз с флагами для остальной части списка.

- DDL_EXCLUSIVE эксклюзивный бит. Если задан эксклюзивный бит, отображаются только файлы указанного типа. в противном случае будут перечислены обычные файлы и файлы указанного типа.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

`DlgDirList` отправляет [LB_RESETCONTENT](/windows/win32/Controls/lb-resetcontent) и [LB_DIR](/windows/win32/Controls/lb-dir) сообщения в список. Он заполняет список, заданный параметром *нидлистбокс* , именами всех файлов, которые соответствуют пути, заданному параметром *лппасспек*.

Параметр *лппасспек* имеет следующий вид:

`[drive:] [ [\u]directory[\idirectory]...\u] [filename]`

В этом примере *диск* — это буква диска, *Каталог* — это допустимое имя каталога, а *filename* — это допустимое имя файла, которое должно содержать по крайней мере один подстановочный знак. Подстановочные знаки представляют собой вопросительный знак ( **?** ), который означает совпадение любого символа, и звездочку (<strong>\*</strong>), то есть соответствует любому числу символов.

Если указать строку нулевой длины для *лппасспек*или указать только имя каталога, но не включать спецификацию файла, то строка будет изменена на "\*.\*".

Если *лппасспек* включает имя диска и/или каталога, то текущий диск и каталог заменяются на указанный диск и каталог до заполнения списка. Элемент управления Text, идентифицируемый *нидстатикпас* , также обновляется с новым именем диска и/или каталога.

После заполнения списка *лппасспек* обновляется путем удаления части диска и (или) каталога в пути.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#88](../../mfc/reference/codesnippet/cpp/cwnd-class_27.cpp)]

##  <a name="dlgdirlistcombobox"></a>  CWnd::DlgDirListComboBox

Заполняет список элемента управления "Поле со списком" перечнем файлов или каталогов.

```
int DlgDirListComboBox(
    LPTSTR lpPathSpec,
    int nIDComboBox,
    int nIDStaticPath,
    UINT nFileType);
```

### <a name="parameters"></a>Параметры

*лппасспек*<br/>
Указывает на строку, завершающуюся нулем, которая содержит путь или имя файла. `DlgDirListComboBox` изменяет эту строку, поэтому эти данные не должны быть в виде строкового литерала. См. следующий раздел "Примечания".

*нидкомбобокс*<br/>
Задает идентификатор поля со списком в диалоговом окне. Если *нидкомбобокс* имеет значение 0, `DlgDirListComboBox` предполагает, что поле со списком не существует и не пытается заполнить его.

*нидстатикпас*<br/>
Задает идентификатор элемента управления "статический текст", используемый для вывода текущего диска и каталога. Если *нидстатикпас* имеет значение 0, `DlgDirListComboBox` предполагает, что такого элемента управления Text не существует.

*нфилетипе*<br/>
Указывает атрибуты файла DOS для отображаемых файлов. Это может быть любое сочетание следующих значений:

- DDL_READWRITE файлы данных для чтения и записи без дополнительных атрибутов.

- DDL_READONLY файлы только для чтения.

- DDL_HIDDEN скрытые файлы.

- DDL_SYSTEM системные файлы.

- DDL_DIRECTORY каталоги.

- DDL_ARCHIVE архивов.

- Флаг CB_DIR DDL_POSTMSGS. Если установлен флаг CB_DIR, Windows помещает сообщения, созданные `DlgDirListComboBox`, в очередь приложения. в противном случае они отправляются непосредственно в процедуру диалогового окна.

- DDL_DRIVES диски. Если установлен флаг DDL_DRIVES, флаг DDL_EXCLUSIVE устанавливается автоматически. Таким образом, чтобы создать список каталогов, включающий диски и файлы, необходимо вызвать метод `DlgDirListComboBox` дважды: один раз с установленным флагом DDL_DRIVES и один раз с флагами для остальной части списка.

- DDL_EXCLUSIVE эксклюзивный бит. Если задан эксклюзивный бит, отображаются только файлы указанного типа. в противном случае будут перечислены обычные файлы и файлы указанного типа.

### <a name="return-value"></a>Возвращаемое значение

Указывает результат функции. Это значение не равно нулю, если список был создан, даже пустой список. Возвращаемое значение 0 означает, что входная строка не содержит допустимый путь поиска.

### <a name="remarks"></a>Примечания

`DlgDirListComboBox` отправляет [CB_RESETCONTENT](/windows/win32/Controls/cb-resetcontent) и [CB_DIR](/windows/win32/Controls/cb-dir) сообщения в поле со списком. Он заполняет список поля со списком, заданного параметром *нидкомбобокс* , именами всех файлов, которые соответствуют пути, заданному параметром *лппасспек*.

Параметр *лппасспек* имеет следующий вид:

`[drive:] [ [\u]directory[\idirectory]...\u] [filename]`

В этом примере *диск* — это буква диска, *Каталог* — это допустимое имя каталога, а *filename* — это допустимое имя файла, которое должно содержать по крайней мере один подстановочный знак. Подстановочные знаки — вопросительный знак ( **?** ), который означает совпадение с любым символом, и звездочку (<strong>\*</strong>), которая означает совпадение любого числа символов.

Если указать строку нулевой длины для *лппасспек*, будет использоваться текущий каталог и *лппасспек* не будет изменен. Если указано только имя каталога, но не указана спецификация файла, строка будет изменена на "\*".

Если *лппасспек* включает имя диска и/или каталога, то текущий диск и каталог заменяются на указанный диск и каталог до заполнения списка. Элемент управления Text, идентифицируемый *нидстатикпас* , также обновляется с новым именем диска и/или каталога.

После заполнения списка с раскрывающимся списком *лппасспек* обновляется путем удаления диска и/или части каталога в пути.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#89](../../mfc/reference/codesnippet/cpp/cwnd-class_28.cpp)]

##  <a name="dlgdirselect"></a>CWnd::D Лгдирселект

Извлекает текущее выделение из списка.

```
BOOL DlgDirSelect(
    LPTSTR lpString,
    int nIDListBox);
```

### <a name="parameters"></a>Параметры

*лпстринг*<br/>
Указывает на буфер, который будет принимать текущее выделение в списке.

*нидлистбокс*<br/>
Задает целочисленный идентификатор поля списка в диалоговом окне.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Предполагается, что поле со списком заполнено функцией-членом [длгдирлист](#dlgdirlist) и выбрана буква диска, файл или имя каталога.

Функция члена `DlgDirSelect` копирует выделение в буфер, заданный параметром *лпстринг*. Если ничего не выбрано, *лпстринг* не изменяется.

`DlgDirSelect` отправляет [LB_GETCURSEL](/windows/win32/Controls/lb-getcursel) и [LB_GETTEXT](/windows/win32/Controls/lb-gettext) сообщения в список.

Он не допускает возврата нескольких файлов из списка. Список не должен быть списком с множественным выбором.

##  <a name="dlgdirselectcombobox"></a>  CWnd::DlgDirSelectComboBox

Извлекает текущее выделение списка элемента управления "Поле со списком".

```
BOOL DlgDirSelectComboBox(
    LPTSTR lpString,
    int nIDComboBox);
```

### <a name="parameters"></a>Параметры

*лпстринг*<br/>
Указывает на буфер, который получает выбранный путь.

*нидкомбобокс*<br/>
Задает целочисленный идентификатор поля со списком в диалоговом окне.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Предполагается, что поле со списком заполнено функцией-членом [длгдирлисткомбобокс](#dlgdirlistcombobox) и выбрана буква диска, файл или имя каталога.

Функция члена `DlgDirSelectComboBox` копирует выделенный фрагмент в указанный буфер. Если ничего не выбрано, содержимое буфера не изменяется.

`DlgDirSelectComboBox` отправляет [CB_GETCURSEL](/windows/win32/Controls/cb-getcursel) и [CB_GETLBTEXT](/windows/win32/Controls/cb-getlbtext) сообщения в поле со списком.

Он не допускает возврата нескольких файлов из поля со списком.

##  <a name="dodataexchange"></a>CWnd::D Одатаексчанже

Вызывается платформой для обмена и проверки данных диалогового окна.

```
virtual void DoDataExchange(CDataExchange* pDX);
```

### <a name="parameters"></a>Параметры

*pDX*<br/>
Указатель на объект `CDataExchange` .

### <a name="remarks"></a>Примечания

Никогда не вызывайте эту функцию напрямую. Он вызывается функцией-членом [упдатедата](#updatedata) . Вызовите `UpdateData`, чтобы инициализировать элементы управления диалогового окна или получить данные из диалогового окна.

При наследовании класса диалогового окна для конкретного приложения от [CDialog](../../mfc/reference/cdialog-class.md)необходимо переопределить эту функцию-член, если вы хотите использовать автоматический обмен данными и проверку платформы. Мастер добавления переменной запишет переопределенную версию этой функции-члена, которая содержит нужные вызовы глобальной функции обмена данными диалоговых данных (DDX) и проверки (DDV).

Чтобы автоматически создать переопределенную версию этой функции-члена, сначала создайте ресурс диалогового окна с помощью редактора диалоговых окон, а затем произберете класс диалогового окна, зависящего от приложения. Затем с помощью мастера добавления переменной свяжите переменные, данные и диапазоны проверки с помощью различных элементов управления в диалоговом окне Создать. Затем мастер записывает переопределенный `DoDataExchange`, который содержит карту данных. Ниже приведен пример блока кода DDX/DDV, созданного мастером добавления переменной.

[!code-cpp[NVC_MFCWindowing#90](../../mfc/reference/codesnippet/cpp/cwnd-class_29.cpp)]

Переопределяемая `DoDataExchange` функция члена должна предшествовать операторам макроса в исходном файле.

Дополнительные сведения об обмене и проверке данных в диалоговых окнах см. [в разделе Отображение и обработка данных в формах](../../data/odbc/displaying-and-manipulating-data-in-a-form.md) и [диалоговых окнах обмена данными и проверки](../../mfc/dialog-data-exchange-and-validation.md). Описание макросов DDX_ и DDV_, созданных мастером добавления переменных, см. в [техническом примечании 26](../../mfc/tn026-ddx-and-ddv-routines.md).

##  <a name="dragacceptfiles"></a>CWnd::D Рагакцептфилес

Вызовите эту функцию-член из окна с помощью указателя `CWnd` в функции [CWinApp:: InitInstance](../../mfc/reference/cwinapp-class.md#initinstance) приложения, чтобы указать, что окно принимает удаленные файлы из диспетчера файлов Windows или проводника.

```
void DragAcceptFiles(BOOL bAccept = TRUE);
```

### <a name="parameters"></a>Параметры

*бакцепт*<br/>
Флаг, указывающий, принимаются ли перетаскиваемые файлы.

### <a name="remarks"></a>Примечания

Только окно, вызывающее `DragAcceptFiles` с параметром *бакцепт* , ИМЕЮЩИМ значение true, распознаются как способ обработки сообщения Windows WM_DROPFILES. Например, в приложении MDI, если в вызове функции `DragAcceptFiles` используется указатель `CMDIFrameWnd` окна, только `CMDIFrameWnd` окно получает сообщение WM_DROPFILES. Это сообщение не отправляется во все открытые окна `CMDIChildWnd`. Чтобы `CMDIChildWnd`ное окно получало это сообщение, необходимо вызвать `DragAcceptFiles` с указателем окна `CMDIChildWnd`.

Чтобы прекратить получение перетаскиваемых файлов, вызовите функцию члена с параметром *бакцепт* , ИМЕЮЩИМ значение false.

##  <a name="dragdetect"></a>CWnd::D Рагдетект

Захватывает мышь и отслеживает ее движение, пока пользователь не отпустит левую кнопку мыши, не нажмет клавишу ESC или не переместит мышь за пределы прямоугольника перетаскивания, в котором находится указанная точка.

```
BOOL DragDetect(POINT pt) const;
```

### <a name="parameters"></a>Параметры

*pt*<br/>
Начальное расположение мыши в экранных координатах. Функция определяет координаты прямоугольника перетаскивания с помощью этой точки.

### <a name="return-value"></a>Возвращаемое значение

Если пользователь переместил указатель мыши за пределы прямоугольника перетаскивания, удерживая левую кнопку, возвращаемое значение будет ненулевым.

Если пользователь не переместит указатель мыши за пределы прямоугольника перетаскивания, удерживая левую кнопку, то возвращаемое значение будет равно нулю.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [драгдетект](/windows/win32/api/winuser/nf-winuser-dragdetect), как описано в Windows SDK.

##  <a name="drawanimatedrects"></a>CWnd::D Раваниматедректс

Рисует каркасный прямоугольник и анимирует его для обозначения открытия значка, а также сворачивания или разворачивания окна.

```
BOOL DrawAnimatedRects(
    int idAni,
    CONST RECT* lprcFrom,
    CONST RECT* lprcTo);
```

### <a name="parameters"></a>Параметры

*idAni*<br/>
Задает тип анимации. Если указать IDANI_CAPTION, заголовок окна будет анимироваться с расположения, указанного параметром *лпркфром* , в положении, заданном параметром *лпркто*. Этот результат аналогичен минимуму или разворачиванию окна.

*лпркфром*<br/>
Указатель на структуру [Rect](/previous-versions/dd162897\(v=vs.85\)) , указывающую расположение и размер значка или сворачивания окна.

*лпркто*<br/>
Указатель на структуру [Rect](/previous-versions/dd162897\(v=vs.85\)) , указывающую расположение и размер восстановленного окна

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [драваниматедректс](/windows/win32/api/winuser/nf-winuser-drawanimatedrects), как описано в Windows SDK.

##  <a name="drawcaption"></a>CWnd::D Равкаптион

Рисует заголовок окна.

```
BOOL DrawCaption(
    CDC* pDC,
    LPCRECT lprc,
    UINT uFlags);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства. Функция рисует заголовок окна в этом контексте устройства.

*лпрк*<br/>
Указатель на структуру RECT, указывающую ограничивающий прямоугольник для заголовка окна.

*уфлагс*<br/>
Задает параметры рисования. Полный список значений см. в разделе [дравкаптион](/windows/win32/api/winuser/nf-winuser-drawcaption).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [дравкаптион](/windows/win32/api/winuser/nf-winuser-drawcaption), как описано в Windows SDK.

##  <a name="drawmenubar"></a>CWnd::D Равменубар

Перерисовывает строку меню.

```
void DrawMenuBar();
```

### <a name="remarks"></a>Примечания

Если строка меню изменяется после создания окна, вызовите эту функцию, чтобы нарисовать измененную строку меню.

### <a name="example"></a>Пример

  См. пример для [CWnd:: Menu](#getmenu).

##  <a name="enableactiveaccessibility"></a>CWnd:: Енаблеактивеакцессибилити

Включает определяемые пользователем функции Active Accessibility.

```
void EnableActiveAccessibility();
```

### <a name="remarks"></a>Примечания

Поддержка Active Accessibility по умолчанию в MFC достаточно для стандартных окон и элементов управления, включая элементы управления ActiveX; Однако, если класс, производный от `CWnd`, содержит неоконные элементы пользовательского интерфейса, MFC не имеет возможности знать о них. В этом случае необходимо переопределить соответствующие [функции члена Active Accessibility](/windows/win32/winauto/sdk-components) в классе, и необходимо вызвать `EnableActiveAccessibility` в конструкторе класса.

##  <a name="enabledynamiclayout"></a>CWnd:: Енаблединамиклайаут

Включает или отключает диспетчер динамического макета. Если динамический макет активен, положение и размеры дочерних окон можно динамически настраивать, изменяя размер родительского окна.

```
void EnableDynamicLayout(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Значение TRUE — динамический макет включен, FALSE — отключен.

### <a name="remarks"></a>Примечания

Чтобы включить динамический макет, наряду с вызовом этого метода необходимо выполнить дополнительные действия. Необходимо также предоставить сведения о динамическом макете, информирующие о поведении элементов управления в окне в ответ на изменения размеров. Эту информацию можно указать для каждого элемента управления в редакторе ресурсов или программным образом. См. [динамический макет](../../mfc/dynamic-layout.md).

##  <a name="enabled2dsupport"></a>CWnd:: EnableD2DSupport

Включает или отключает поддержку окнами D2D. Данный метод следует вызывать до инициализации основного окна.

```
void EnableD2DSupport(
    BOOL bEnable = TRUE,
    BOOL bUseDCRenderTarget = FALSE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Указывает, следует включить или отключить поддержку D2D.

*буседкрендертаржет*<br/>
Указывает, следует ли использовать целевой объект отрисовки из контекста устройства, т. е. класс CDCRenderTarget. Если значение — FALSE, используется класс CHwndRenderTarget.

##  <a name="enablescrollbar"></a>CWnd:: Енаблескроллбар

Включает или выключает одну или обе стрелки полосы прокрутки.

```
BOOL EnableScrollBar(
    int nSBFlags,
    UINT nArrowFlags = ESB_ENABLE_BOTH);
```

### <a name="parameters"></a>Параметры

*нсбфлагс*<br/>
Указывает тип полосы прокрутки. Может иметь одно из следующих значений:

- SB_BOTH включает или отключает стрелки горизонтальной и вертикальной полос прокрутки, связанные с окном.

- SB_HORZ включает или отключает стрелки горизонтальной полосы прокрутки, связанной с окном.

- SB_VERT включает или отключает стрелки вертикальной полосы прокрутки, связанной с окном.

*нарровфлагс*<br/>
Указывает, включены или отключены стрелки полосы прокрутки и какие стрелки включены или отключены. Может иметь одно из следующих значений:

- ESB_ENABLE_BOTH включает обе стрелки полосы прокрутки (по умолчанию).

- ESB_DISABLE_LTUP отключает левую стрелку горизонтальной полосы прокрутки или стрелку вверх вертикальной полосы прокрутки.

- ESB_DISABLE_RTDN отключает стрелку вправо на горизонтальной полосе прокрутки или стрелку вниз вертикальной полосы прокрутки.

- ESB_DISABLE_BOTH отключает обе стрелки полосы прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если стрелки включены или отключены, как указано. В противном случае он равен 0, что означает, что стрелки уже находятся в запрошенном состоянии или произошла ошибка.

##  <a name="enablescrollbarctrl"></a>  CWnd::EnableScrollBarCtrl

Включает или отключает полосу прокрутки для этого окна.

```
void EnableScrollBarCtrl(
    int nBar,
    BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Идентификатор полосы прокрутки.

*bEnable*<br/>
Указывает, должна ли быть включена или отключена полоса прокрутки.

### <a name="remarks"></a>Примечания

Если в окне есть элемент управления полосы прокрутки, используется полоса прокрутки; в противном случае используется собственная полоса прокрутки окна.

##  <a name="enabletooltips"></a>CWnd:: Енаблетултипс

Включает всплывающие подсказки для заданного окна.

```
BOOL EnableToolTips(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Указывает, включен или отключен элемент управления "Подсказка". Значение TRUE включает элемент управления; Значение FALSE отключает элемент управления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если всплывающие подсказки включены. в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Переопределите [онтулхиттест](#ontoolhittest) , чтобы предоставить структуру или структуры [тулинфо](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) для окна.

> [!NOTE]
> Некоторые окна, например [CToolBar](../../mfc/reference/ctoolbar-class.md), предоставляют встроенную реализацию [онтулхиттест](#ontoolhittest).

Дополнительные сведения об этой структуре см. в разделе [тулинфо](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) в Windows SDK.

Простое вызов `EnableToolTips` недостаточно для показа всплывающих подсказок для дочерних элементов управления, если только родительское окно не является производным от `CFrameWnd`. Это обусловлено тем, что `CFrameWnd` предоставляет обработчик по умолчанию для TTN_NEEDTEXT уведомления. Если родительское окно не является производным от `CFrameWnd`, то есть, если это диалоговое окно или представление формы, подсказки для дочерних элементов управления будут отображаться неправильно, если не предоставить обработчик для уведомления о подсказке для TTN_NEEDTEXT. См. [всплывающие подсказки](../../mfc/tool-tips-in-windows-not-derived-from-cframewnd.md).

Подсказка по умолчанию, предоставляемая для окон, `EnableToolTips` не имеет связанного с ними текста. Чтобы получить текст для отображаемой подсказки, в родительское окно всплывающей подсказки перед отображением всплывающей подсказки будет отправлено уведомление TTN_NEEDTEXT. Если для этого сообщения не существует обработчика, чтобы присвоить какое-либо значение элементу *псзтекст* структуры `TOOLTIPTEXT`, для всплывающей подсказки не будет отображаться текст.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#91](../../mfc/reference/codesnippet/cpp/cwnd-class_30.cpp)]

[!code-cpp[NVC_MFCWindowing#92](../../mfc/reference/codesnippet/cpp/cwnd-class_31.cpp)]

##  <a name="enabletrackingtooltips"></a>CWnd:: Енаблетраккингтултипс

Включает или отключает отслеживание всплывающих подсказок.

```
BOOL EnableTrackingToolTips(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Указывает, включены или отключены подсказки по средствам отслеживания. Если этот параметр имеет значение TRUE, подсказки средства отслеживания будут включены. Если этот параметр имеет значение FALSE, советы средства отслеживания будут отключены.

### <a name="return-value"></a>Возвращаемое значение

Указывает состояние до вызова функции члена `EnableWindow`. Если окно было ранее отключено, возвращаемое значение не равно нулю. Возвращаемое значение равно 0, если окно было включено ранее или произошла ошибка.

### <a name="remarks"></a>Примечания

Советы по инструментам отслеживания — это окна всплывающих подсказок, которые можно динамически разместить на экране. При быстром обновлении положения откроется окно подсказки, которое перемещается плавно, или «Track». Эта функция может оказаться полезной, если требуется текст подсказки для перехода к положению указателя при его перемещении.

##  <a name="enablewindow"></a>CWnd:: Енаблевиндов

Разрешает или запрещает ввод с помощью мыши и клавиатуры.

```
BOOL EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Указывает, следует ли включать или отключать заданное окно. Если этот параметр имеет значение TRUE, окно будет включено. Если этот параметр имеет значение FALSE, окно будет отключено.

### <a name="return-value"></a>Возвращаемое значение

Указывает состояние до вызова функции члена `EnableWindow`. Если окно было ранее отключено, возвращаемое значение не равно нулю. Возвращаемое значение равно 0, если окно было включено ранее или произошла ошибка.

### <a name="remarks"></a>Примечания

Если входные данные отключены, ввод, например щелчок мыши и нажатие клавиш, игнорируется. Если входные данные включены, окно обрабатывает все входные данные.

Если включенное состояние меняется, [WM_ENABLE](#onenable) сообщение отправляется перед возвратом этой функции.

Если этот элемент отключен, все дочерние окна неявно отключаются, хотя они не отправляются WM_ENABLE сообщений.

Перед активацией окно должно быть включено. Например, если приложение отображает немодальное диалоговое окно и отключило его главное окно, главное окно должно быть включено до уничтожения диалогового окна. В противном случае в другом окне будет получен фокус ввода и он будет активирован. Если дочернее окно отключено, оно игнорируется, когда Windows пытается определить, какое окно должно получать сообщения мыши.

По умолчанию окно включается при его создании. Приложение может указать стиль WS_DISABLED в функции-члене [CREATE](#create) или [креатикс](#createex) , чтобы создать окно, которое изначально отключено. После создания окна приложение также может использовать функцию-член `EnableWindow` для включения или отключения окна.

Приложение может использовать эту функцию для включения или отключения элемента управления в диалоговом окне. Отключенный элемент управления не может получать фокус ввода, и пользователь не может получить к нему доступ.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#93](../../mfc/reference/codesnippet/cpp/cwnd-class_32.cpp)]

##  <a name="endmodalloop"></a>  CWnd::EndModalLoop

Прерывает вызов `RunModalLoop`.

```
virtual void EndModalLoop(int nResult);
```

### <a name="parameters"></a>Параметры

*Nрезультат*<br/>
Содержит значение, возвращаемое вызывающему объекту [RunModalLoop](#runmodalloop).

### <a name="remarks"></a>Примечания

Параметр *nрезультат* распространяется на возвращаемое значение из `RunModalLoop`.

##  <a name="endmodalstate"></a>  CWnd::EndModalState

Данная функция-член вызывается для изменения состояния окна с модального на немодальное.

```
virtual void EndModalState();
```

##  <a name="endpaint"></a>CWnd:: Ендпаинт

Помечает конец рисования в данном окне.

```
void EndPaint(LPPAINTSTRUCT lpPaint);
```

### <a name="parameters"></a>Параметры

*лппаинт*<br/>
Указывает на структуру [PAINTSTRUCT](/windows/win32/api/winuser/ns-winuser-paintstruct) , содержащую сведения о выкраске, полученные функцией-членом [бегинпаинт](#beginpaint) .

### <a name="remarks"></a>Примечания

Функция-член `EndPaint` является обязательной для каждого вызова функции-члена `BeginPaint`, но только после завершения рисования.

Если курсор скрыт функцией `BeginPaint` члена, `EndPaint` восстанавливает курсор на экране.

### <a name="example"></a>Пример

  См. пример для [CWnd:: бегинпаинт](#beginpaint).

##  <a name="executedlginit"></a>  CWnd::ExecuteDlgInit

Инициирует ресурс диалогового окна.

```
BOOL ExecuteDlgInit(LPCTSTR lpszResourceName);
BOOL ExecuteDlgInit(LPVOID lpResource);
```

### <a name="parameters"></a>Параметры

*лпсзресаурценаме*<br/>
Указатель на строку с завершающим нулем, указывающую имя ресурса.

*лпресаурце*<br/>
Указатель на ресурс.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если выполняется ресурс диалогового окна; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

`ExecuteDlgInit` будет использовать ресурсы, привязанные к выполняющемуся модулю, или ресурсы из других источников. Для этого `ExecuteDlgInit` находит обработчик ресурсов, вызывая `AfxFindResourceHandle`. Если приложение MFC не использует общую библиотеку DLL (MFCx0 [U] [D]). DLL), `AfxFindResourceHandle` вызывает метод [афксжетресаурцехандле](application-information-and-management.md#afxgetresourcehandle), который возвращает текущий обработчик ресурсов для исполняемого объекта. Если приложение MFC использует MFCx0 [U] [D]. DLL, `AfxFindResourceHandle` перебирает список объектов `CDynLinkLibrary` общего доступа и библиотек DLL расширения MFC, которые ищут правильный маркер ресурса.

##  <a name="filtertooltipmessage"></a>  CWnd::FilterToolTipMessage

Вызывается платформой для вывода сообщений всплывающей подсказки.

```
void FilterToolTipMessage(MSG* pMsg);
```

### <a name="parameters"></a>Параметры

*пмсг*<br/>
Указатель на сообщение подсказки.

### <a name="remarks"></a>Примечания

В большинстве приложений MFC этот метод вызывается платформой из [претранслатемессаже](#pretranslatemessage) и [енаблетултипс](#enabletooltips), и вам не нужно вызывать его самостоятельно.

Однако в некоторых приложениях, например некоторых элементах управления ActiveX, эти методы могут не вызываться платформой, и вам нужно будет вызвать Филтертултипмессаже самостоятельно. Дополнительные сведения см. в разделе [методы создания всплывающих подсказок](../../mfc/methods-of-creating-tool-tips.md).

##  <a name="findwindow"></a>CWnd:: FindWindow

Возвращает `CWnd` верхнего уровня, класс окон которого предоставляется параметром *лпсзкласснаме* , а имя окна или заголовок — *лпсзвиндовнаме*.

```
static CWnd* PASCAL FindWindow(
    LPCTSTR lpszClassName,
    LPCTSTR lpszWindowName);
```

### <a name="parameters"></a>Параметры

*лпсзкласснаме*<br/>
Указывает на строку, завершающуюся нулем, которая указывает имя класса окна (структура `WNDCLASS`). Если *лпкласснаме* имеет значение null, все имена классов совпадают.

*лпсзвиндовнаме*<br/>
Указывает на строку, завершающуюся нулем, которая указывает имя окна (заголовок окна). Если *лпвиндовнаме* имеет значение null, все имена окон совпадают.

### <a name="return-value"></a>Возвращаемое значение

Определяет окно с указанными именем класса и именем окна. Если такого окна не найдено, оно имеет значение NULL.

`CWnd`* может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Эта функция не выполняет поиск в дочерних окнах.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#94](../../mfc/reference/codesnippet/cpp/cwnd-class_33.cpp)]

##  <a name="findwindowex"></a>  CWnd::FindWindowEx

Извлекает объект Window, имя класса и имя окна которого совпадают с указанными строками.

```
static CWnd* FindWindowEx(
    HWND hwndParent,
    HWND hwndChildAfter,
    LPCTSTR lpszClass,
    LPCTSTR lpszWindow);
```

### <a name="parameters"></a>Параметры

*хвндпарент*<br/>
Маркер родительского окна, для которого должны быть просмотрены дочерние окна.

*хвндчилдафтер*<br/>
Обработчик для дочернего окна. Поиск начинается со следующего дочернего окна в порядке Z. Дочернее окно должно быть прямым дочерним окном *хвндпарент*, а не только вложенным окном.

*лпсзкласс*<br/>
Указатель на строку, завершающуюся нулем, которая указывает имя класса или класс Atom, созданный предыдущим вызовом [registerClass](/windows/win32/api/winuser/nf-winuser-registerclassw) или [RegisterClassEx](/windows/win32/api/winuser/nf-winuser-registerclassexw).

*lpszWindow*<br/>
Указатель на строку, завершающуюся нулем, которая указывает имя окна (заголовок окна). Если этот параметр имеет значение NULL, все имена окон совпадают.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполнена, возвращаемое значение является указателем на объект Window с указанными именами класса и окна. Если функция завершается ошибкой, возвращается значение NULL.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [FindWindowEx](/windows/win32/api/winuser/nf-winuser-findwindowexw), как описано в Windows SDK.

##  <a name="flashwindow"></a>CWnd:: FlashWindow интерфейса

Заflash заданное окно один раз.

```
BOOL FlashWindow(BOOL bInvert);
```

### <a name="parameters"></a>Параметры

*бинверт*<br/>
Указывает, должна ли `CWnd` быть вспышка или возвращена в исходное состояние. `CWnd` будет мигать из одного состояния в другое, если *бинверт* имеет значение true. Если *бинверт* имеет значение false, окно возвращается в исходное состояние (активное или неактивное).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если окно было активно до вызова функции члена `FlashWindow`; в противном случае — 0.

### <a name="remarks"></a>Примечания

Для последующего мигания Создайте системный таймер и повторно вызовите `FlashWindow`. Мигание `CWnd` означает изменение внешнего вида строки заголовка, как если бы `CWnd` был изменен с неактивного на активное состояние или наоборот. (Неактивная строка заголовка меняется на активную строку заголовка; активная строка заголовка меняется на неактивную строку заголовка.)

Как правило, окно мигает для информирования пользователя о том, что он требует внимания, но в данный момент не имеет фокуса ввода.

Параметр *бинверт* должен иметь значение false, только если окно получает фокус ввода и больше не будет мигать; при последовательных вызовах он должен иметь значение TRUE, ожидая получения фокуса ввода.

Эта функция всегда возвращает ненулевое значение для минимальных окон. Если окно является сведенным, `FlashWindow` просто заflashет значок окна; *бинверт* игнорируется для сворачивания окон.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#95](../../mfc/reference/codesnippet/cpp/cwnd-class_34.cpp)]

##  <a name="flashwindowex"></a>CWnd:: Флашвиндовекс

Завспышки в заданном окне.

```
BOOL FlashWindowEx(
    DWORD dwFlags,
    UINT uCount,
    DWORD dwTimeout);
```

### <a name="parameters"></a>Параметры

*dwFlags*<br/>
Указывает состояние флэш-памяти. Полный список значений см. в разделе Структура [флашвинфо](/windows/win32/api/winuser/ns-winuser-flashwinfo) .

*укаунт*<br/>
Указывает количество попыток мигания окна.

*двтимеаут*<br/>
Указывает скорость в миллисекундах, с которой окно будет мигать. Если *двтимеаут* равен нулю, функция использует частоту мерцания курсора по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение задает состояние окна перед вызовом функции `FlashWindowEx`. Если заголовок окна был нарисован как активный перед вызовом, возвращаемое значение не равно нулю. В противном случае возвращаемое значение равно нулю.

### <a name="remarks"></a>Примечания

Этот метод эмулирует функциональность функции [флашвиндовекс](/windows/win32/api/winuser/nf-winuser-flashwindowex), как описано в Windows SDK.

##  <a name="fromhandle"></a>CWnd:: FromHandle

Возвращает указатель на объект `CWnd`, когда дескриптор передается окну. Если объект `CWnd` не прикреплен к дескриптору, создается и прикрепляется временный объект `CWnd`.

```
static CWnd* PASCAL FromHandle(HWND hWnd);
```

### <a name="parameters"></a>Параметры

*hWnd*<br/>
HWND окна Windows.

### <a name="return-value"></a>Возвращаемое значение

Возвращает указатель на объект `CWnd`, когда дескриптор передается окну. Если объект `CWnd` не прикреплен к дескриптору, создается и прикрепляется временный объект `CWnd`.

Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

##  <a name="fromhandlepermanent"></a>CWnd:: Фромхандлеперманент

Возвращает указатель на объект `CWnd`, когда дескриптор передается окну.

```
static CWnd* PASCAL FromHandlePermanent(HWND hWnd);
```

### <a name="parameters"></a>Параметры

*hWnd*<br/>
HWND окна Windows.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CWnd` .

### <a name="remarks"></a>Примечания

Если объект `CWnd` не присоединен к маркеру, возвращается значение NULL.

Эта функция, в отличие от [FromHandle](#fromhandle), не создает временные объекты.

##  <a name="get_accchild"></a>  CWnd::get_accChild

Вызывается платформой для извлечения адреса интерфейса `IDispatch` для указанного дочернего элемента.

```
virtual HRESULT get_accChild(
    VARIANT varChild,
    IDispatch** ppdispChild);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Определяет дочерний элемент, для которого извлекается интерфейс `IDispatch`.

*ppdispChild*<br/>
Получает адрес интерфейса `IDispatch` дочернего объекта.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accChild](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accchild) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: get_accChild](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accchild) в Windows SDK.

##  <a name="get_accchildcount"></a>  CWnd::get_accChildCount

Вызывается платформой для извлечения количества дочерних элементов, принадлежащих этому объекту.

```
virtual HRESULT get_accChildCount(long* pcountChildren);
```

### <a name="parameters"></a>Параметры

*пкаунтчилдрен*<br/>
Получает число дочерних элементов.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accChildCount](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accchildcount) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC). Вызовите версию базового класса, а затем добавьте неоконные дочерние элементы.

Дополнительные сведения см. в разделе [IAccessible:: get_accChildCount](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accchildcount) в Windows SDK.

##  <a name="get_accdefaultaction"></a>  CWnd::get_accDefaultAction

Вызывается платформой для извлечения строки, описывающей действие объекта по умолчанию.

```
virtual HRESULT get_accDefaultAction(
    VARIANT varChild,
    BSTR* pszDefaultAction);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, является ли возвращаемое действие по умолчанию объектом или одним из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

*псздефаултактион*<br/>
Адрес строки BSTR, которая получает локализованную строку, описывающую действие по умолчанию для указанного объекта, или значение NULL, если этот объект не имеет действия по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accDefaultAction](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accdefaultaction) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, чтобы описать действие по умолчанию для объекта.

Дополнительные сведения см. в разделе [IAccessible:: get_accDefaultAction](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accdefaultaction) в Windows SDK.

##  <a name="get_accdescription"></a>  CWnd::get_accDescription

Вызывается платформой для извлечения строки, описывающей внешний вид указанного объекта.

```
virtual HRESULT get_accDescription(
    VARIANT varChild,
    BSTR* pszDescription);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, является ли извлекаемое описание объектом или одним из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

*псздескриптион*<br/>
Адрес строки BSTR, которая получает локализованную строку, описывающую указанный объект, или значение NULL, если описание для этого объекта недоступно.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accDescription](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accdescription) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, чтобы описать объект. Вызовите версию базового класса и добавьте описание.

Дополнительные сведения см. в разделе [IAccessible:: get_accDescription](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accdescription) в Windows SDK.

##  <a name="get_accfocus"></a>  CWnd::get_accFocus

Вызывается платформой для извлечения объекта, имеющего фокус клавиатурного ввода.

```
virtual HRESULT get_accFocus(VARIANT* pvarChild);
```

### <a name="parameters"></a>Параметры

*пварчилд*<br/>
Получает сведения об объекте, который находится в фокусе. См. раздел *пварид* in [IAccessible:: get_accFocus](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accfocus) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::get_accFocus` в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: get_accFocus](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accfocus) в Windows SDK.

##  <a name="get_acchelp"></a>  CWnd::get_accHelp

Вызывается платформой для получения строки свойства **справки** объекта.

```
virtual HRESULT get_accHelp(
    VARIANT varChild,
    BSTR* pszHelp);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, должны ли извлекаться справочные сведения — объект или один из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

*pszHelp*<br/>
Адрес строки BSTR, которая получает локализованную строку, содержащую справочные сведения для указанного объекта, или значение NULL, если справочная информация недоступна.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accHelp](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acchelp) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, чтобы предоставить текст справки для объекта.

Дополнительные сведения см. в разделе [IAccessible:: get_accHelp](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acchelp) в Windows SDK.

##  <a name="get_acchelptopic"></a>  CWnd::get_accHelpTopic

Вызвано платформой для получения полного пути к файлу **WinHelp** , связанному с указанным объектом, и идентификатором соответствующего раздела в этом файле.

```
virtual HRESULT get_accHelpTopic(
    BSTR* pszHelpFile,
    VARIANT varChild,
    long* pidTopic);
```

### <a name="parameters"></a>Параметры

*псзелпфиле*<br/>
Адрес объекта BSTR, который получает полный путь к файлу `WinHelp`, связанному с указанным объектом, если он имеется.

*варчилд*<br/>
Указывает, должен ли раздел справки извлекаться из объекта или одного из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения раздела справки по объекту), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения раздела справки для одного из дочерних элементов объекта).

*пидтопик*<br/>
Определяет раздел файла справки, связанный с указанным объектом. См. раздел *пидтопик* in [IAccessible:: get_accHelpTopic](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acchelptopic) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::get_accHelpTopic` в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, чтобы предоставить справочную информацию об объекте.

Дополнительные сведения см. в разделе [IAccessible:: get_accHelpTopic](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acchelptopic) в Windows SDK.

##  <a name="get_acckeyboardshortcut"></a>  CWnd::get_accKeyboardShortcut

Вызывается платформой для извлечения сочетания клавиш указанного объекта или клавиши доступа к нему.

```
virtual HRESULT get_accKeyboardShortcut(
    VARIANT varChild,
    BSTR* pszKeyboardShortcut);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, следует ли получать сочетание клавиш для объекта или для одного из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

*pszKeyboardShortcut*<br/>
Адрес строки BSTR, которая получает локализованную строку, идентифицирующую сочетание клавиш, или значение NULL, если сочетание клавиш не связано с указанным объектом.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accKeyboardShortcut](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acckeyboardshortcut) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, чтобы обозначить сочетание клавиш для объекта.

Дополнительные сведения см. в разделе [IAccessible:: get_accKeyboardShortcut](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_acckeyboardshortcut) в Windows SDK.

##  <a name="get_accname"></a>  CWnd::get_accName

Вызывается платформой для извлечения имени указанного объекта.

```
virtual HRESULT get_accName(
    VARIANT varChild,
    BSTR* pszName);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, является ли извлекаемое имя объектом или одним из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

*pszName*<br/>
Адрес строки BSTR, которая получает строку, содержащую имя указанного объекта.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accName](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accname) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, чтобы вернуть имя объекта.

Дополнительные сведения см. в разделе [IAccessible:: get_accName](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accname) в Windows SDK.

##  <a name="get_accparent"></a>  CWnd::get_accParent

Вызывается платформой для извлечения интерфейса `IDispatch` родительского элемента данного объекта.

```
virtual HRESULT get_accParent(IDispatch** ppdispParent);
```

### <a name="parameters"></a>Параметры

*ппдисппарент*<br/>
Получает адрес интерфейса `IDispatch` родительского объекта. Переменная получает значение NULL, если родительский объект не существует, или если дочерний элемент не может получить доступ к родительскому элементу.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accParent](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accparent) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

В большинстве случаев переопределение этой функции не требуется.

Дополнительные сведения см. в разделе [IAccessible:: get_accParent](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accparent) в Windows SDK.

##  <a name="get_accrole"></a>  CWnd::get_accRole

Вызывается платформой для извлечения информации, описывающей роль указанного объекта.

```
virtual HRESULT get_accRole(
    VARIANT varChild,
    VARIANT* pvarRole);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, являются ли извлекаемые сведения о роли объектом или одним из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

*пварроле*<br/>
Получает сведения о роли. См. раздел *пварроле* in [IAccessible:: get_accRole](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accrole) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::get_accRole` в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: get_accRole](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accrole) в Windows SDK.

##  <a name="get_accselection"></a>  CWnd::get_accSelection

Вызывается платформой для извлечения выбранного дочернего элемента этого объекта.

```
virtual HRESULT get_accSelection(VARIANT* pvarChildren);
```

### <a name="parameters"></a>Параметры

*пварчилдрен*<br/>
Получает сведения о том, какие дочерние элементы выбраны. См. раздел *пварчилдрен* in [IAccessible:: get_accSelection](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accselection) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::get_accSelection` в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: get_accSelection](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accselection) в Windows SDK.

##  <a name="get_accstate"></a>  CWnd::get_accState

Вызывается платформой для извлечения текущего состояния указанного объекта.

```
virtual HRESULT get_accState(
    VARIANT varChild,
    VARIANT* pvarState);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, являются ли извлекаемые сведения о состоянии объектом или одним из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

*пварстате*<br/>
Получает сведения о состоянии объекта. См. раздел *пварстате* in [IAccessible:: get_accState](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accstate) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в `IAccessible::get_accState` в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: get_accState](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accstate) в Windows SDK.

##  <a name="get_accvalue"></a>  CWnd::get_accValue

Вызывается платформой для извлечения значения указанного объекта.

```
virtual HRESULT get_accValue(
    VARIANT varChild,
    BSTR* pszValue);
```

### <a name="parameters"></a>Параметры

*варчилд*<br/>
Указывает, являются ли получаемые сведения о значениях объектом или одним из дочерних элементов объекта. Этот параметр может быть либо CHILDID_SELF (для получения сведений об объекте), либо ИДЕНТИФИКАТОРом дочернего элемента (для получения сведений о дочернем элементе объекта).

*псзвалуе*<br/>
Адрес строки BSTR, которая получает локализованную строку, содержащую текущее значение объекта.

### <a name="return-value"></a>Возвращаемое значение

Возвращает S_OK при успешном выполнении — код ошибки COM при сбое. См. раздел **возвращаемые значения** в [IAccessible:: get_accValue](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accvalue) в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция является частью поддержки [Active ACCESSIBILITY](/windows/win32/WinAuto/microsoft-active-accessibility) MFC.

Переопределите эту функцию в классе, производном от `CWnd`, если имеются неоконные элементы пользовательского интерфейса (отличные от безоконных элементов управления ActiveX, которые обрабатываются MFC).

Дополнительные сведения см. в разделе [IAccessible:: get_accValue](/windows/win32/api/oleacc/nf-oleacc-iaccessible-get_accvalue) в Windows SDK.

##  <a name="getactivewindow"></a>  CWnd::GetActiveWindow

Получает указатель на активное окно.

```
static CWnd* PASCAL GetActiveWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Активное окно или значение NULL, если во время вызова не было активно ни одного окна. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Примечания

Активное окно — это либо окно с текущим фокусом ввода, либо окно, явно активное функцией-членом [сетактивевиндов](#setactivewindow) .

##  <a name="getancestor"></a>CWnd:: ancestor

Извлекает объект окна-предка для указанного окна.

```
CWnd* GetAncestor(UINT gaFlags) const;
```

### <a name="parameters"></a>Параметры

*гафлагс*<br/>
Указывает извлекаемый предок. Полный список возможных значений см. в разделе- [предок](/windows/win32/api/winuser/nf-winuser-getancestor).

### <a name="return-value"></a>Возвращаемое значение

Если функция выполнена, возвращаемое значение является указателем на объект окна-предка. Если функция завершается ошибкой, возвращается значение NULL.

### <a name="remarks"></a>Примечания

Эта функция — имитирует функциональные возможности функции с именем [ancestor](/windows/win32/api/winuser/nf-winuser-getancestor), как описано в Windows SDK.

##  <a name="getcapture"></a>  CWnd::GetCapture

Извлекает окно с захватом мыши.

```
static CWnd* PASCAL GetCapture();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет окно, в котором находится захват мыши. Имеет значение NULL, если ни одно окно не получило захват мыши.

Возвращаемое значение может быть временным и не должно храниться для последующего использования.

### <a name="remarks"></a>Примечания

Только одно окно захватывает мышь в любое заданное время. Окно получает захват мыши при вызове функции-члена [сеткаптуре](#setcapture) . Это окно получает ввод с помощью мыши независимо от того, находится ли курсор внутри его границ.

##  <a name="getcaretpos"></a>  CWnd::GetCaretPos

Возвращает клиентские координаты текущей позиции курсора и возвращает их в виде `CPoint`.

```
static CPoint PASCAL GetCaretPos();
```

### <a name="return-value"></a>Возвращаемое значение

Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , содержащий координаты позиции курсора.

### <a name="remarks"></a>Примечания

Позиции курсора задаются в клиентских координатах окна `CWnd`.

##  <a name="getcheckedradiobutton"></a>  CWnd::GetCheckedRadioButton

Возвращает идентификатор выбранного переключателя в указанной группе.

```
int GetCheckedRadioButton(
    int nIDFirstButton,
    int nIDLastButton);
```

### <a name="parameters"></a>Параметры

*нидфирстбуттон*<br/>
Задает целочисленный идентификатор для первого переключателя в группе.

*нидластбуттон*<br/>
Задает целочисленный идентификатор последнего переключателя в группе.

### <a name="return-value"></a>Возвращаемое значение

Идентификатор проверяемого переключателя или значение 0, если ничего не выбрано.

##  <a name="getclientrect"></a>  CWnd::GetClientRect

Копирует клиентские координаты `CWnd` клиентской области в структуру, на которую указывает *лпрект*.

```
void GetClientRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на [структуру Rect](/windows/win32/api/windef/ns-windef-rect) или объект `CRect` для получения клиентских координат. Члены `left` и `top` будут иметь значение 0. Элементы `right` и `bottom` будут содержать ширину и высоту окна.

### <a name="remarks"></a>Примечания

Клиентские координаты указывают верхний левый и нижний правый угол клиентской области. Так как координаты клиента зависят от верхнего левого угла `CWnd` клиентской области, координаты левого верхнего угла равны (0, 0).

### <a name="example"></a>Пример

  См. пример для [CWnd:: «Icon](#isiconic)».

##  <a name="getclipboardowner"></a>  CWnd::GetClipboardOwner

Извлекает текущего владельца буфера обмена.

```
static CWnd* PASCAL GetClipboardOwner();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет окно, которому принадлежит буфер обмена, если функция выполнена успешно. В противном случае он имеет значение NULL.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Буфер обмена по-прежнему может содержать данные, даже если в настоящее время они не принадлежат.

##  <a name="getclipboardviewer"></a>  CWnd::GetClipboardViewer

Извлекает первое окно в цепочке средства просмотра буфера обмена.

```
static CWnd* PASCAL GetClipboardViewer();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет окно, которое в настоящее время отвечает за отображение буфера обмена в случае успеха; в противном случае — NULL (например, если отсутствует средство просмотра).

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

##  <a name="getcontrolunknown"></a>  CWnd::GetControlUnknown

Вызовите эту функцию-член, чтобы получить указатель на неизвестный элемент управления OLE.

```
LPUNKNOWN GetControlUnknown();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на интерфейс [IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown) элемента управления OLE, представленный данным объектом `CWnd`. Если этот объект не представляет элемент управления OLE, возвращается значение NULL.

### <a name="remarks"></a>Примечания

Не следует освобождать этот указатель `IUnknown`. Как правило, для получения определенного интерфейса элемента управления используется.

Указатель интерфейса, возвращенный `GetControlUnknown`, не подсчитывается по ссылке. Не вызывайте [IUnknown:: Release](/windows/win32/api/unknwn/nf-unknwn-iunknown-release) в указателе, если только вы ранее не вызывали [IUnknown:: AddRef](/windows/win32/api/unknwn/nf-unknwn-iunknown-addref) .

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#96](../../mfc/reference/codesnippet/cpp/cwnd-class_35.cpp)]

##  <a name="getcurrentmessage"></a>  CWnd::GetCurrentMessage

Возвращает указатель на сообщение, обрабатываемое этим окном в настоящий момент. Должен вызываться только в функции-члене обработчика сообщения **On**<em>Message</em> .

```
static const MSG* PASCAL GetCurrentMessage();
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает указатель на структуру [MSG](/windows/win32/api/winuser/ns-winuser-msg) , содержащую сообщение, которое окно обрабатывает в данный момент. Должен вызываться только в обработчике<em>сообщений</em> on.

### <a name="example"></a>Пример

  См. пример для [CMDIFrameWnd:: мдикаскаде](../../mfc/reference/cmdiframewnd-class.md#mdicascade).

##  <a name="getdc"></a>  CWnd::GetDC

Получает указатель на общий контекст устройства, класса или частного контекста для клиентской области в зависимости от стиля класса, указанного для `CWnd`.

```
CDC* GetDC();
```

### <a name="return-value"></a>Возвращаемое значение

Указывает контекст устройства для клиентской области `CWnd` в случае успеха; в противном случае возвращаемое значение равно NULL. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Примечания

Для распространенных контекстов устройств `GetDC` назначает атрибуты по умолчанию для контекста при каждом извлечении. Для классов и частных контекстов `GetDC` оставляет ранее назначенные атрибуты без изменений. Контекст устройства можно использовать в последующих функциях интерфейса графических устройств (GDI) для рисования в клиентской области.

Если контекст устройства не принадлежит классу окна, необходимо вызвать функцию-член [релеаседк](#releasedc) , чтобы освободить контекст после рисования.

Контекст устройства, принадлежащий классу `CWnd`, возвращается `GetDC`ной функцией-членом, если CS_CLASSDC, CS_OWNDC или CS_PARENTDC был указан в качестве стиля в структуре `WNDCLASS` при регистрации класса.

##  <a name="getdcex"></a>  CWnd::GetDCEx

Получает маркер контекста устройства для окна `CWnd`.

```
CDC* GetDCEx(
    CRgn* prgnClip,
    DWORD flags);
```

### <a name="parameters"></a>Параметры

*пргнклип*<br/>
Определяет область обрезки, которая может быть объединена с видимой областью окна клиента.

*flags*<br/>
Может иметь одно из следующих предустановленных значений:

- DCX_CACHE Возвращает контекст устройства из кэша, а не окна ОВНДК или КЛАССДК. Переопределяет CS_OWNDC и CS_CLASSDC.

- DCX_CLIPCHILDREN исключает видимые области всех дочерних окон под окном `CWnd`.

- DCX_CLIPSIBLINGS исключает видимые области всех одноуровневого окна над окном `CWnd`.

- DCX_EXCLUDERGN исключает область обрезки, обозначенную *пргнклип* , из видимой области возвращаемого контекста устройства.

- DCX_INTERSECTRGN пересекает область обрезки, обозначенную *пргнклип* , в видимой области возвращаемого контекста устройства.

- DCX_LOCKWINDOWUPDATE позволяет рисовать, даже если существует вызов `LockWindowUpdate`, который в противном случае исключит это окно. Это значение используется для рисования во время отслеживания.

- DCX_PARENTCLIP использует видимую область родительского окна и игнорирует биты стиля родительского окна WS_CLIPCHILDREN и WS_PARENTDC. Это значение задает начальное положение контекста устройства в левом верхнем углу окна `CWnd`.

- DCX_WINDOW Возвращает контекст устройства, соответствующий прямоугольнику окна, а не прямоугольнику клиента.

### <a name="return-value"></a>Возвращаемое значение

Контекст устройства для указанного окна, если функция выполнена успешно; в противном случае — NULL.

### <a name="remarks"></a>Примечания

Контекст устройства можно использовать в последующих функциях GDI для отрисовки в клиентской области.

Эта функция, которая является расширением функции [GetDC](/windows/win32/api/winuser/nf-winuser-getdc) , предоставляет приложению более полный контроль над тем, как и как обрезается контекст устройства для окна.

Если контекст устройства не принадлежит классу окна, необходимо вызвать функцию [релеаседк](/windows/win32/api/winuser/nf-winuser-releasedc) , чтобы освободить контекст после рисования. Так как в любой момент времени доступны только пять общих контекстов устройств, сбой освобождения контекста устройства может препятствовать доступу других приложений к контексту устройства.

Чтобы получить контекст кэшированного устройства, приложение должно указать [DCX_CACHE](/windows/win32/api/winuser/nf-winuser-getdcex). Если параметр DCX_CACHE не указан и окно не имеет ни CS_OWNDC ни [CS_CLASSDC](/windows/win32/api/winuser/ns-winuser-wndclassw), эта функция возвращает значение null.

Контекст устройства с особыми характеристиками возвращается функцией [жетдцекс](/windows/win32/api/winuser/nf-winuser-getdcex) , если в структуре [вндкласс](/windows/win32/api/winuser/ns-winuser-wndclassw) был указан стиль CS_CLASSDC, [CS_OWNDC](/windows/win32/api/winuser/ns-winuser-wndclassw)или [CS_PARENTDC](/windows/win32/api/winuser/ns-winuser-wndclassw) при регистрации класса.

Дополнительные сведения об этих характеристиках см. в описании структуры `WNDCLASS` в Windows SDK.

##  <a name="getdcrendertarget"></a>  CWnd::GetDCRenderTarget

Извлекает целевой объект отрисовки из контекста устройства для окна `CWnd`.

```
CDCRenderTarget* GetDCRenderTarget();
```

### <a name="return-value"></a>Возвращаемое значение

Целевой объект отрисовки из контекста устройства, если функция выполнена успешно; в противном случае — NULL.

### <a name="remarks"></a>Примечания

##  <a name="getdescendantwindow"></a>  CWnd::GetDescendantWindow

Вызовите эту функцию-член для поиска дочернего окна, указанного с помощью заданного идентификатора.

```
CWnd* GetDescendantWindow(
    int nID,
    BOOL bOnlyPerm = FALSE) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Указывает идентификатор элемента управления или дочернего окна для извлечения.

*бонлиперм*<br/>
Указывает, может ли возвращаемое окно быть временным. Если значение — TRUE, может возвращаться только постоянное окно. Если значение равно FALSE, функция может возвращать временное окно. Дополнительные сведения о временных окнах см. в [техническом примечании 3](../../mfc/tn003-mapping-of-windows-handles-to-objects.md).

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CWnd` или значение NULL, если дочернее окно не найдено.

### <a name="remarks"></a>Примечания

Эта функция члена выполняет поиск по всему дереву дочерних окон, а не только к окнам, которые являются непосредственными дочерними элементами.

##  <a name="getdesktopwindow"></a>  CWnd::GetDesktopWindow

Возвращает окно рабочего стола Windows.

```
static CWnd* PASCAL GetDesktopWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет окно рабочего стола Windows. Этот указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Окно рабочего стола охватывает весь экран и является областью, на которой рисуются все значки и другие окна.

##  <a name="getdlgctrlid"></a>  CWnd::GetDlgCtrlID

Возвращает значение идентификатора окна или элемента управления для любого дочернего окна, а не только для элемента управления в диалоговом окне.

```
int GetDlgCtrlID() const;
```

### <a name="return-value"></a>Возвращаемое значение

Числовой идентификатор дочернего окна `CWnd`, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Так как окна верхнего уровня не имеют значения идентификатора, возвращаемое значение этой функции является недопустимым, если `CWnd` является окном верхнего уровня.

### <a name="example"></a>Пример

  См. пример для [CWnd:: онктлколор](#onctlcolor).

##  <a name="getdlgitem"></a>  CWnd::GetDlgItem

Извлекает указатель на указанный элемент управления или дочернее окно в диалоговом окне или другом окне.

```
CWnd* GetDlgItem(int nID) const;

void GetDlgItem(
    int nID,
    HWND* phWnd) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Указывает идентификатор элемента управления или дочернего окна для извлечения.

*фвнд*<br/>
Указатель на дочернее окно.

### <a name="return-value"></a>Возвращаемое значение

Указатель на заданный элемент управления или дочернее окно. Если отсутствует элемент управления с целочисленным ИДЕНТИФИКАТОРом, заданным параметром *NID* , значение равно null.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Возвращаемый указатель обычно приводится к типу элемента управления, идентифицируемого *NID*.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#97](../../mfc/reference/codesnippet/cpp/cwnd-class_36.cpp)]

##  <a name="getdlgitemint"></a>  CWnd::GetDlgItemInt

Извлекает текст элемента управления, идентифицируемого *NID*.

```
UINT GetDlgItemInt(
    int nID,
    BOOL* lpTrans = NULL,
    BOOL bSigned = TRUE) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Задает целочисленный идентификатор элемента управления "диалоговое окно" для перевода.

*лптранс*<br/>
Указывает на логическую переменную, которая будет принимать переведенный флаг.

*бсигнед*<br/>
Указывает, подписывается ли возвращаемое значение.

### <a name="return-value"></a>Возвращаемое значение

Задает переведенное значение текста элемента диалогового окна. Поскольку 0 является допустимым возвращаемым значением, для обнаружения ошибок необходимо использовать *лптранс* . Если требуется возвращаемое значение со знаком, приведите его как тип **int** .

Функция возвращает 0, если переведенное число больше INT_MAX (для чисел со знаком) или UINT_MAX (для неподписанных).

При возникновении ошибок, например при обнаружении нецифровых символов и превышении указанного выше максимального значения, `GetDlgItemInt` копирует 0 в расположение, на которое указывает *лптранс*. Если ошибок нет, *лптранс* получает ненулевое значение. Если *лптранс* имеет значение NULL, `GetDlgItemInt` не предупреждает об ошибках.

### <a name="remarks"></a>Примечания

Он преобразует текст указанного элемента управления в заданном диалоговом окне в целочисленное значение, удаляя лишние пробелы в начале текста и преобразуя десятичные разряды. Он останавливает перевод при достижении конца текста или при обнаружении любого нечислового символа.

Если *бсигнед* имеет значение TRUE, `GetDlgItemInt` проверяет знак "минус" (-) в начале текста и преобразует текст в число со знаком. В противном случае создается значение без знака.

Он отправляет элементу управления [WM_GETTEXT](/windows/win32/winmsg/wm-gettext) сообщение.

##  <a name="getdlgitemtext"></a>  CWnd::GetDlgItemText

Вызовите эту функцию-член для получения заголовка или текста, связанного с элементом управления в диалоговом окне.

```
int GetDlgItemText(
    int nID,
    LPTSTR lpStr,
    int nMaxCount) const;

int GetDlgItemText(
    int nID,
    CString& rString) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Задает целочисленный идентификатор элемента управления, заголовок которого необходимо получить.

*lpStr*<br/>
Указывает на буфер для получения заголовка или текста элемента управления.

*нмакскаунт*<br/>
Задает максимальную длину (в символах) строки, копируемой в *LPSTR*. Если строка длиннее, чем *нмакскаунт*, она усекается.

*rStr*<br/>
Ссылка на [CString](../../atl-mfc-shared/reference/cstringt-class.md).

### <a name="return-value"></a>Возвращаемое значение

Задает фактическое число символов, копируемых в буфер, не включая завершающий символ null. Если текст не копируется, значение равно 0.

### <a name="remarks"></a>Примечания

Функция-член `GetDlgItemText` копирует текст в расположение, на которое указывает *LPSTR* , и возвращает количество копируемых байтов.

##  <a name="getdsccursor"></a>  CWnd::GetDSCCursor

Вызовите эту функцию-член для получения указателя на базовый курсор, который определяется свойствами DataSource, UserName, Password и SQL элемента управления источника данных.

```
IUnknown* GetDSCCursor();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на курсор, определенный элементом управления источника данных. MFC выполняет вызов `AddRef` для указателя.

### <a name="remarks"></a>Примечания

Используйте возвращаемый указатель, чтобы задать свойство Икурсор сложного элемента управления с привязкой к данным, например элемент управления сетки с привязкой к данным. Элемент управления источника данных не станет активным до тех пор, пока первый привязанный элемент управления не запросит его курсор. Это может быть явным образом путем вызова `GetDSCCursor` или неявно диспетчером привязок MFC. В любом случае можно принудительно активировать элемент управления источником данных, вызвав `GetDSCCursor` и вызвав `Release` возвращаемого указателя на `IUnknown`. Активация приведет к тому, что система управления источниками данных попытается подключиться к базовому источнику данных. Возвращаемый указатель может использоваться в следующем контексте:

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_AxDataBinding#5](../../mfc/reference/codesnippet/cpp/cwnd-class_37.cpp)]

##  <a name="getdynamiclayout"></a>  CWnd::GetDynamicLayout

Извлекает указатель на объект диспетчера динамического макета.

```
CMFCDynamicLayout* GetDynamicLayout();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект диспетчера динамического макета; NULL — если динамический макет отключен.

### <a name="remarks"></a>Примечания

Объект окна владеет и управляет временем жизни возвращаемого указателя, поэтому его следует использовать только для доступа к этому объекту. Не удаляйте указатель или сохраняйте его перманентно.

##  <a name="getexstyle"></a>  CWnd::GetExStyle

Возвращает расширенный стиль окна.

```
DWORD GetExStyle() const;
```

### <a name="return-value"></a>Возвращаемое значение

Расширенный стиль окна. Дополнительные сведения о расширенных стилях окон, используемых в MFC, см. в разделе [Расширенные стили окон](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles).

##  <a name="getfocus"></a>  CWnd::GetFocus

Извлекает указатель на `CWnd`, в данный момент имеющий фокус ввода.

```
static CWnd* PASCAL GetFocus();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно, имеющее текущий фокус, или значение NULL, если окно фокуса отсутствует.

Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

##  <a name="getfont"></a>  CWnd::GetFont

Отправляет в окно сообщение WM_GETFONT, чтобы получить текущий шрифт.

```
CFont* GetFont() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [кфонт](../../mfc/reference/cfont-class.md) , присоединенный к текущему шрифту окна.

### <a name="remarks"></a>Примечания

Этот метод не действует, если только окно не обрабатывает сообщение WM_GETFONT. Многие классы MFC, производные от `CWnd`, обрабатывают это сообщение, так как они присоединены к предопределенному классу окна, который включает обработчик сообщений для WM_GETFONT сообщения. Чтобы использовать этот метод, классы, производные от `CWnd`, должны определять обработчик метода для сообщения WM_GETFONT.

##  <a name="getforegroundwindow"></a>  CWnd::GetForegroundWindow

Возвращает указатель на окно переднего плана (окно, с которым пользователь работает в данный момент).

```
static CWnd* PASCAL GetForegroundWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно переднего плана. Это может быть временный объект `CWnd`.

### <a name="remarks"></a>Примечания

Окно переднего плана применяется только к окнам верхнего уровня (окнам фрейма или диалоговым окнам).

##  <a name="geticon"></a>CWnd:: "Icon"

Вызовите эту функцию-член, чтобы получить маркер для большого (32x32) или маркера на маленький значок (16x16), как указано в *ббигикон*.

```
HICON GetIcon(BOOL bBigIcon) const;
```

### <a name="parameters"></a>Параметры

*ббигикон*<br/>
Задает значок 32 пикселей на 32 пикселей, если значение TRUE; Задает значок 16 пикселей на 16 пикселей при значении FALSE.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор для значка. В случае неудачи возвращает значение NULL.

##  <a name="getlastactivepopup"></a>  CWnd::GetLastActivePopup

Определяет последнее проявлявшее активность всплывающее окно, принадлежащее классу `CWnd`.

```
CWnd* GetLastActivePopup() const;
```

### <a name="return-value"></a>Возвращаемое значение

Определяет последнее активное всплывающее окно. Возвращаемое значение будет являться окном при выполнении любого из следующих условий.

- Последнее окно было активно.

- Окно не владеет всплывающими окнами.

- Окно не является окном верхнего уровня или принадлежит другому окну.

Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="example"></a>Пример

  См. пример для [CWnd:: FindWindow](#findwindow).

##  <a name="getlayeredwindowattributes"></a>  CWnd::GetLayeredWindowAttributes

Получает ключ цвета прозрачности многослойного окна.

```
BOOL GetLayeredWindowAttributes(
    COLORREF* pcrKey,
    BYTE* pbAlpha,
    DWORD* pdwFlags) const;
```

### <a name="parameters"></a>Параметры

*пкркэй*<br/>
Указатель на значение COLORREF, которое получает ключ цвета прозрачности, используемый при создании многоуровневого окна. Все пиксели, закрашенные окном этого цвета, будут прозрачными. Может иметь значение NULL, если аргумент не требуется.

*пбалфа*<br/>
Указатель на байт, который получает альфа-значение, используемое для описания прозрачности многоуровневого окна. Если переменная, на которую ссылается *пбалфа* , имеет значение 0, окно полностью прозрачно. Если переменная, на которую ссылается *пбалфа* , имеет значение 255, окно является непрозрачным. Может иметь значение NULL, если аргумент не требуется.

*пдвфлагс*<br/>
Указатель на DWORD, принимающий флаг слоев. Может иметь значение NULL, если аргумент не требуется. Полный список возможных значений см. в разделе [жетлайередвиндоваттрибутес](/windows/win32/api/winuser/nf-winuser-getlayeredwindowattributes).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жетлайередвиндоваттрибутес](/windows/win32/api/winuser/nf-winuser-getlayeredwindowattributes), как описано в Windows SDK.

##  <a name="getmenu"></a>  CWnd::GetMenu

Получает указатель на меню для этого окна.

```
CMenu* GetMenu() const;
```

### <a name="return-value"></a>Возвращаемое значение

Определяет меню. Значение равно NULL, если `CWnd` не имеет меню. Возвращаемое значение не определено, если `CWnd` является дочерним окном.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Эта функция не должна использоваться для дочерних окон, так как у них нет меню.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#98](../../mfc/reference/codesnippet/cpp/cwnd-class_38.cpp)]

##  <a name="getmenubarinfo"></a>  CWnd::GetMenuBarInfo

Извлекает сведения о указанной строке меню.

```
BOOL GetMenuBarInfo(
    LONG idObject,
    LONG idItem,
    PMENUBARINFO pmbi) const;
```

### <a name="parameters"></a>Параметры

*идобжект*<br/>
Указывает объект меню. Список возможных значений см. в разделе [GetMenuBarInfo](/windows/win32/api/winuser/nf-winuser-getmenubarinfo).

*идитем*<br/>
Указывает элемент, для которого требуется получить сведения. Если этот параметр равен нулю, функция получает сведения о самом меню. Если этот параметр равен 1, функция получает сведения о первом элементе в меню и т. д.

*пмби*<br/>
Указатель на структуру [менубаринфо](/windows/win32/api/winuser/ns-winuser-menubarinfo) , которая получает сведения.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [GetMenuBarInfo](/windows/win32/api/winuser/nf-winuser-getmenubarinfo), как описано в Windows SDK.

##  <a name="getnextdlggroupitem"></a>  CWnd::GetNextDlgGroupItem

Выполняет поиск предыдущего или следующего элемента управления в группе элементов управления в диалоговом окне.

```
CWnd* GetNextDlgGroupItem(
    CWnd* pWndCtl,
    BOOL bPrevious = FALSE) const;

COleControlSiteOrWnd* GetNextDlgGroupItem(
    COleControlSiteOrWnd* pCurSiteOrWnd = NULL) const;
```

### <a name="parameters"></a>Параметры

*пвндктл*<br/>
Определяет элемент управления, который будет использоваться в качестве отправной точки для поиска.

*бпревиаус*<br/>
Указывает, как функция должна выполнять поиск в группе элементов управления в диалоговом окне. Если значение — TRUE, функция ищет предыдущий элемент управления в группе; Если значение равно FALSE, выполняется поиск следующего элемента управления в группе.

*пкурситеорвнд*<br/>
Определяет элемент управления `COleControlSiteOrWnd`. Дополнительные сведения о `COleControlSiteOrWnd`см. в разделе **Примечания**.

### <a name="return-value"></a>Возвращаемое значение

Указатель на предыдущий или следующий элемент управления в группе, если функция-член успешно выполнена.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Группа элементов управления начинается с элемента управления, созданного с использованием стиля [WS_GROUP](styles-used-by-mfc.md#window-styles) и заканчивающегося последним элементом управления, который не был создан с помощью стиля WS_GROUP.

По умолчанию функция-член `GetNextDlgGroupItem` возвращает указатель на следующий элемент управления в группе. Если *пвндктл* определяет первый элемент управления в группе, а *бпревиаус* имеет значение true, `GetNextDlgGroupItem` возвращает указатель на последний элемент управления в группе.

> [!NOTE]
> Поскольку MFC поддерживает безоконные элементы управления ActiveX, стандартные элементы управления ActiveX и окна, ссылающиеся на элемент управления только с помощью HWND, больше не достаточно. Объект `COleControlSiteOrWnd` содержит сведения, определяющие объект как оконный элемент управления ActiveX, безоконный элемент управления ActiveX или окно, как показано ниже.

|Тип элемента управления или окна|Идентифицирующие сведения|
|----------------------------|-----------------------------|
|Оконный элемент управления ActiveX|Содержит HWND и связывает с ним объект [колеконтролсите](../../mfc/reference/colecontrolsite-class.md) . Элемент `m_hWnd` `COleControlSiteOrWnd` устанавливается в HWND элемента управления, а элемент `m_pSite` указывает на `COleControlSite`элемента управления.|
|Элемент управления ActiveX без окон|Не содержит HWND. Элемент `m_pSite` `COleControlSiteOrWnd` указывает на `COleControlSite`элемента управления, а элемент `m_hWnd` имеет значение NULL.|
|Стандартное окно|Содержит только HWND. Элементу `m_hWnd` `COleControlSiteOrWnd` присваивается HWND окна, а элемент `m_pSite` имеет значение NULL.|

##  <a name="getnextdlgtabitem"></a>  CWnd::GetNextDlgTabItem

Извлекает указатель на первый элемент управления, созданный с помощью стиля [WS_TABSTOP](styles-used-by-mfc.md#window-styles) , который предшествует указанному элементу управления или следует за ним.

```
CWnd* GetNextDlgTabItem(
    CWnd* pWndCtl,
    BOOL bPrevious = FALSE) const;

COleControlSiteOrWnd* GetNextDlgTabItem(
    COleControlSiteOrWnd* pCurSiteOrWnd,
    BOOL bPrevious) const;
```

### <a name="parameters"></a>Параметры

*пвндктл*<br/>
Определяет элемент управления, который будет использоваться в качестве отправной точки для поиска.

*пкурситеорвнд*<br/>
Определяет элемент управления `COleControlSiteOrWnd`. Дополнительные сведения о `COleControlSiteOrWnd`см. в разделе [CWnd:: жетнекстдлгграупитем](#getnextdlggroupitem).

*бпревиаус*<br/>
Указывает, как функция должна выполнять поиск в диалоговом окне. Если значение — TRUE, функция ищет предыдущий элемент управления в диалоговом окне; Если значение равно FALSE, выполняется поиск следующего элемента управления.

### <a name="return-value"></a>Возвращаемое значение

Указатель на предыдущий или следующий элемент управления, имеющий стиль WS_TABSTOP, если функция-член выполнена успешно.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

Дополнительные сведения о `COleControlSiteOrWnd`см. в разделе [CWnd:: жетнекстдлгграупитем](#getnextdlggroupitem).

##  <a name="getnextwindow"></a>  CWnd::GetNextWindow

Выполняет поиск следующего (или предыдущего) окна в списке диспетчера окон.

```
CWnd* GetNextWindow(UINT nFlag = GW_HWNDNEXT) const;
```

### <a name="parameters"></a>Параметры

*нфлаг*<br/>
Указывает, возвращает ли функция указатель на следующее окно или предыдущее окно. Это может быть либо GW_HWNDNEXT, которая возвращает окно, следующее за объектом `CWnd` в списке диспетчера окон, либо GW_HWNDPREV, которое возвращает предыдущее окно в списке диспетчера окон.

### <a name="return-value"></a>Возвращаемое значение

Определяет следующее (или предыдущее) окно в списке диспетчера окон, если функция-член успешно выполнена.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Список диспетчера окон содержит записи для всех окон верхнего уровня, связанных с ними дочерних окон и дочерних окон дочерних окон.

Если `CWnd` является окном верхнего уровня, функция выполняет поиск следующего (или предыдущего) окна верхнего уровня; Если `CWnd` является дочерним окном, функция выполняет поиск следующего (или предыдущего) дочернего окна.

##  <a name="getolecontrolsite"></a>  CWnd::GetOleControlSite

Извлекает настраиваемый сайт для указанного элемента управления ActiveX.

```
COleControlSite* GetOleControlSite(UINT idControl) const;
```

### <a name="parameters"></a>Параметры

*идконтрол*<br/>
Идентификатор элемента управления ActiveX.

##  <a name="getopenclipboardwindow"></a>  CWnd::GetOpenClipboardWindow

Получает маркер окна, в котором в данный момент открыт буфер обмена.

```
static CWnd* PASCAL GetOpenClipboardWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Маркер окна, в котором в данный момент открыт буфер обмена, если функция выполнена успешно; в противном случае — NULL.

##  <a name="getowner"></a>  CWnd::GetOwner

Получает указатель на владельца окна.

```
CWnd* GetOwner() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CWnd` .

### <a name="remarks"></a>Примечания

Если окно не имеет владельца, то по умолчанию возвращается указатель на объект родительского окна. Обратите внимание, что связь между владельцем и владельцем отличается от аспекта "родители-потомки" в нескольких важных аспектах. Например, окно с родителем ограничено клиентской областью родительского окна. Собственные окна могут отображаться в любом месте рабочего стола.

Понятие владения этой функцией отличается от концепции «владение [»](/windows/win32/api/winuser/nf-winuser-getwindow).

##  <a name="getparent"></a>  CWnd::GetParent

Вызовите эту функцию, чтобы получить указатель на родительское окно дочернего окна (если оно есть).

```
CWnd* GetParent() const;
```

### <a name="return-value"></a>Возвращаемое значение

См. раздел "возвращаемые значения" в разделе " [родители](/windows/win32/api/winuser/nf-winuser-getparent) " в Windows SDK.

### <a name="remarks"></a>Примечания

Функция `GetParent` возвращает указатель на ближайший родительский элемент (если он существует). В отличие от этого функция [жетпарентовнер](#getparentowner) возвращает указатель на наиболее непосредственный родительский или подчиненный окно, которое не является дочерним окном (не имеет стиля WS_CHILD). Если в дочернем окне имеется дочернее окно `GetParent` и `GetParentOwner` возвращать разные результаты.

##  <a name="getparentframe"></a>  CWnd::GetParentFrame

Вызовите эту функцию члена, чтобы получить окно родительского фрейма.

```
CFrameWnd* GetParentFrame() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно фрейма в случае успеха; в противном случае — NULL.

### <a name="remarks"></a>Примечания

Функция-член выполняет поиск по родительской цепочке до тех пор, пока не будет найден объект [CFrameWnd](../../mfc/reference/cframewnd-class.md) (или производный класс).

##  <a name="getparentowner"></a>  CWnd::GetParentOwner

Вызовите эту функцию-член, чтобы получить указатель на родительское окно или окно-владелец дочернего окна.

```
CWnd* GetParentOwner() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CWnd` . Если объект `CWnd` не прикреплен к дескриптору, создается и прикрепляется временный объект `CWnd`. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Примечания

`GetParentOwner` возвращает указатель на наиболее непосредственный родительский или подчиненный окно, которое не является дочерним окном (не имеет стиля WS_CHILD). Окно текущего владельца можно задать с помощью [сетовнер](#setowner). По умолчанию родительским элементом окна является его владелец.

В отличие от этого функция- [родитель](#getparent) возвращает указатель на ближайший родительский элемент, будь это дочернее окно. Если в дочернем окне имеется дочернее окно `GetParent` и `GetParentOwner` возвращать разные результаты.

##  <a name="getproperty"></a>CWnd:: Property

Вызовите эту функцию члена, чтобы получить свойство элемента управления ActiveX, заданное параметром *двдиспид*.

```
void GetProperty(
    DISPID dwDispID,
    VARTYPE vtProp,
    void* pvProp)const;
```

### <a name="parameters"></a>Параметры

*двдиспид*<br/>
Определяет извлекаемое свойство.

*втпроп*<br/>
Указывает тип извлекаемого свойства. Возможные значения см. в подразделе "Примечания" раздела [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper).

*пвпроп*<br/>
Адрес переменной, которая будет принимать значение свойства. Он должен соответствовать типу, заданному параметром *втпроп*.

### <a name="remarks"></a>Примечания

`GetProperty` возвращает значение через *пвпроп*.

> [!NOTE]
> Эта функция должна вызываться только для объекта `CWnd`, представляющего элемент управления ActiveX.

Дополнительные сведения об использовании этой функции члена с контейнерами элементов управления ActiveX см. в статье [контейнерах элементов управления ActiveX: Программирование элементов управления ActiveX в контейнере элементов управления ActiveX](../../mfc/programming-activex-controls-in-a-activex-control-container.md).

##  <a name="getrendertarget"></a>  CWnd::GetRenderTarget

Возвращает целевой объект отрисовки, связанный с данным окном.

```
CHwndRenderTarget* GetRenderTarget();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на целевой объект прорисовки или значение NULL.

##  <a name="getsafehwnd"></a>  CWnd::GetSafeHwnd

Возвращает `m_hWnd`или значение NULL, если **этот** указатель имеет значение null.

```
HWND GetSafeHwnd() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает маркер окна. Возвращает значение NULL, если `CWnd` не присоединен к окну или используется с указателем `CWnd` NULL.

### <a name="example"></a>Пример

  См. пример для [CWnd:: субклассвиндов](#subclasswindow).

##  <a name="getsafeowner"></a>  CWnd::GetSafeOwner

Вызовите эту функцию члена, чтобы получить окно владельца, которое должно использоваться для диалоговых окон или других модальных окон.

```
static CWnd* GetSafeOwner(
    CWnd* pParent = NULL,
    HWND* pWndTop = NULL);
```

### <a name="parameters"></a>Параметры

*ппарент*<br/>
Указатель на родительское окно `CWnd`. Может иметь значение "NULL".

*пвндтоп*<br/>
Указатель на окно, находящегося в данный момент в верхней части. Может иметь значение "NULL".

### <a name="return-value"></a>Возвращаемое значение

Указатель на безопасного владельца для данного окна.

### <a name="remarks"></a>Примечания

Владелец безопасности — это первое, не дочернее родительское окно *ппарент*. Если *ппарент* имеет значение null, то основное окно потока (полученное через [афксжетмаинвнд](../../mfc/reference/application-information-and-management.md#afxgetmainwnd)) используется для поиска владельца.

> [!NOTE]
> Сама платформа использует эту функцию для определения правильного окна владельца для диалоговых окон и страниц свойств, в которых не указан владелец.

##  <a name="getscrollbarctrl"></a>  CWnd::GetScrollBarCtrl

Вызовите эту функцию-член, чтобы получить указатель на указанную родственную полосу прокрутки или окно-разделитель.

```
virtual CScrollBar* GetScrollBarCtrl(int nBar) const;
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Указывает тип полосы прокрутки. Параметр может принимать одно из следующих значений:

- SB_HORZ извлекает расположение горизонтальной полосы прокрутки.

- SB_VERT Извлекает расположение вертикальной полосы прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Элемент управления "полоса прокрутки" или значение NULL, если нет.

### <a name="remarks"></a>Примечания

Эта функция-член не работает с полосами прокрутки, созданными при установке WS_HSCROLL или WS_VSCROLL бит во время создания окна. `CWnd` реализация этой функции просто возвращает значение NULL. Производные классы, такие как `CView`, реализуют описанную функциональность.

##  <a name="getscrollbarinfo"></a>  CWnd::GetScrollBarInfo

Извлекает сведения об указанной полосе прокрутки.

```
BOOL GetScrollBarInfo(
    LONG idObject,
    PSCROLLBARINFO psbi) const;
```

### <a name="parameters"></a>Параметры

*идобжект*<br/>
Указывает объект меню. Список возможных значений см. в разделе [жетскроллбаринфо](/windows/win32/api/winuser/nf-winuser-getscrollbarinfo).

*псби*<br/>
Указатель на структуру [скроллбаринфо](/windows/win32/api/winuser/ns-winuser-scrollbarinfo) , которая получает сведения.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жетскроллбаринфо](/windows/win32/api/winuser/nf-winuser-getscrollbarinfo), как описано в Windows SDK.

##  <a name="getscrollinfo"></a>  CWnd::GetScrollInfo

Вызовите эту функцию-член для получения сведений, которые структура `SCROLLINFO` удерживает о полосе прокрутки.

```
BOOL GetScrollInfo(
    int nBar,
    LPSCROLLINFO lpScrollInfo,
    UINT nMask = SIF_ALL);
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Указывает, является ли полоса прокрутки элементом управления или частью неклиентской области окна. Если он является частью неклиентской области, *НБАР* также указывает, располагается ли полоса прокрутки горизонтально, вертикально или и то, и другое. Он должен быть одним из следующих:

- SB_CTL Получает параметры для элемента управления "полоса прокрутки". Элемент данных `m_hWnd` должен быть маркером элемента управления "полоса прокрутки".

- SB_HORZ получает параметры для стандартной горизонтальной полосы прокрутки окна.

- SB_VERT Получает параметры для стандартной вертикальной полосы прокрутки окна.

*лпскроллинфо*<br/>
Указатель на структуру [скроллинфо](/windows/win32/api/winuser/ns-winuser-scrollinfo) . Дополнительные сведения об этой структуре см. в Windows SDK.

*нмаск*<br/>
Задает параметры полосы прокрутки для извлечения. Значение по умолчанию задает сочетание SIF_PAGE, SIF_POS, SIF_TRACKPOS и SIF_RANGE. Дополнительные сведения о значениях *нмаск* см. в разделе `SCROLLINFO`.

### <a name="return-value"></a>Возвращаемое значение

Если сообщение получает какие-либо значения, возвращается значение TRUE. В противном случае — FALSE.

### <a name="remarks"></a>Примечания

`GetScrollInfo` позволяет приложениям использовать 32-разрядные позиции прокрутки.

Структура [скроллинфо](/windows/win32/api/winuser/ns-winuser-scrollinfo) содержит сведения о полосе прокрутки, включая минимальные и максимальные положения прокрутки, размер страницы и положение ползунка (бегунка). Дополнительные сведения об изменении структуры по умолчанию см. в разделе `SCROLLINFO` Structure статьи Windows SDK.

Обработчики сообщений Windows MFC, указывающие расположение полосы прокрутки, [CWnd:: онхскролл](#onhscroll) и [CWnd:: онвскролл](#onvscroll), предоставляют только 16 бит данных о положении. `GetScrollInfo` и `SetScrollInfo` предоставляют 32 бит данных о положении полосы прокрутки. Таким же, приложение может вызвать `GetScrollInfo` при обработке `CWnd::OnHScroll` или `CWnd::OnVScroll` для получения 32-разрядных данных о положении полосы прокрутки.

##  <a name="getscrolllimit"></a>  CWnd::GetScrollLimit

Вызовите эту функцию члена, чтобы получить максимальную точку прокрутки полосы прокрутки.

```
int GetScrollLimit(int nBar);
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Указывает тип полосы прокрутки. Параметр может принимать одно из следующих значений:

- SB_HORZ получает ограничение прокрутки горизонтальной полосы прокрутки.

- SB_VERT Получает ограничение прокрутки вертикальной полосы прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Задает максимальную точку полосы прокрутки при успешном выполнении; в противном случае — 0.

##  <a name="getscrollpos"></a>  CWnd::GetScrollPos

Извлекает текущее расположение бегунка полосы прокрутки.

```
int GetScrollPos(int nBar) const;
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Указывает полосу прокрутки для проверки. Параметр может принимать одно из следующих значений:

- SB_HORZ извлекает расположение горизонтальной полосы прокрутки.

- SB_VERT Извлекает расположение вертикальной полосы прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Задает текущую точку прокрутки на полосе прокрутки в случае успешного выполнения; в противном случае — 0.

### <a name="remarks"></a>Примечания

Текущая величина — это относительное значение, которое зависит от текущего диапазона прокрутки. Например, если диапазон прокрутки находится в диапазоне от 50 до 100, а поле прокрутки находится в середине линейки, текущее расположение равно 75.

##  <a name="getscrollrange"></a>  CWnd::GetScrollRange

Копирует текущие минимальное и максимальное позиции полосы прокрутки для заданной полосы прокрутки в расположения, заданные *лпминпос* и *лпмакспос*.

```
void GetScrollRange(
    int nBar,
    LPINT lpMinPos,
    LPINT lpMaxPos) const;
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Указывает полосу прокрутки для проверки. Параметр может принимать одно из следующих значений:

- SB_HORZ извлекает расположение горизонтальной полосы прокрутки.

- SB_VERT Извлекает расположение вертикальной полосы прокрутки.

*лпминпос*<br/>
Указывает на целочисленную переменную, которая должна принимать минимальную позиции.

*лпмакспос*<br/>
Указывает на целочисленную переменную, которая должна принимать максимальную позиции.

### <a name="remarks"></a>Примечания

Если `CWnd` не имеет полосы прокрутки, функция-член `GetScrollRange` копирует 0 в *лпминпос* и *лпмакспос*.

По умолчанию для стандартной полосы прокрутки используется диапазон от 0 до 100. Диапазон по умолчанию для элемента управления "полоса прокрутки" пуст (оба значения равны 0).

##  <a name="getstyle"></a>  CWnd::GetStyle

Возвращает стиль текущего окна.

```
DWORD GetStyle() const;
```

### <a name="return-value"></a>Возвращаемое значение

Стиль окна. Дополнительные сведения о стилях окон, используемых в MFC, см. в разделе [стили окон](styles-used-by-mfc.md#window-styles).

##  <a name="getsystemmenu"></a>  CWnd::GetSystemMenu

Позволяет приложению получить доступ к оконному меню для копирования и изменения.

```
CMenu* GetSystemMenu(BOOL bRevert) const;
```

### <a name="parameters"></a>Параметры

*бреверт*<br/>
Указывает выполняемое действие. Если *бреверт* имеет значение FALSE, `GetSystemMenu` возвращает маркер копии меню элемента управления, используемой в данный момент. Эта копия изначально идентична меню Control, но может быть изменена. Если *бреверт* имеет значение TRUE, `GetSystemMenu` вернет меню управления к состоянию по умолчанию. Предыдущее, возможно, измененное меню управления (при наличии) уничтожается. В этом случае возвращаемое значение не определено.

### <a name="return-value"></a>Возвращаемое значение

Определяет копию меню управления, если *бреверт* имеет значение false. Если *бреверт* имеет значение true, возвращаемое значение не определено.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Любое окно, в котором не используется `GetSystemMenu` для создания собственной копии меню элемента управления, получает стандартное меню управления.

Указатель, возвращаемый функцией члена `GetSystemMenu`, можно использовать с функциями [кмену:: аппендмену](../../mfc/reference/cmenu-class.md#appendmenu), [Кмену:: инсертмену](../../mfc/reference/cmenu-class.md#insertmenu)или [кмену:: Модифимену](../../mfc/reference/cmenu-class.md#modifymenu) для изменения меню элемента управления.

Меню элемент управления изначально содержит элементы, определенные с использованием различных значений идентификатора, таких как SC_CLOSE, SC_MOVE и SC_SIZE. Элементы в меню управления создают [WM_SYSCOMMAND](#onsyscommand) сообщения. Все предопределенные элементы меню элементов управления имеют номера ИДЕНТИФИКАТОРов больше число 0xF000 не. Если приложение добавляет элементы в меню управления, оно должно использовать номера ИДЕНТИФИКАТОРов меньше, чем F000.

Windows может автоматически сделать элементы недоступными в стандартном меню управления. `CWnd` может выполнять собственный выбор или недоступность, отвечая на сообщения [WM_INITMENU](#oninitmenu) , которые отправляются перед отображением меню.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#99](../../mfc/reference/codesnippet/cpp/cwnd-class_39.cpp)]

##  <a name="gettitlebarinfo"></a>  CWnd::GetTitleBarInfo

Извлекает сведения об указанной строке заголовка.

```
BOOL GetTitleBarInfo(PTITLEBARINFO pti) const;
```

### <a name="parameters"></a>Параметры

*пти*<br/>
Указатель на структуру [титлебаринфо](/windows/win32/api/winuser/ns-winuser-titlebarinfo) , которая получает сведения.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жеттитлебаринфо](/windows/win32/api/winuser/nf-winuser-gettitlebarinfo), как описано в Windows SDK.

##  <a name="gettoplevelframe"></a>  CWnd::GetTopLevelFrame

Вызовите эту функцию члена, чтобы получить окно фрейма верхнего уровня окна, если оно имеется.

```
CFrameWnd* GetTopLevelFrame() const;
```

### <a name="return-value"></a>Возвращаемое значение

Определяет окно фрейма верхнего уровня окна.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Если `CWnd` не имеет присоединенного окна или его родителя верхнего уровня не является объектом, производным от [CFrameWnd](../../mfc/reference/cframewnd-class.md), эта функция возвращает значение null.

##  <a name="gettoplevelowner"></a>  CWnd::GetTopLevelOwner

Вызовите эту функцию-член для получения окна верхнего уровня.

```
CWnd* GetTopLevelOwner() const;
```

### <a name="return-value"></a>Возвращаемое значение

Определяет окно верхнего уровня. Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Окно верхнего уровня — это окно, которое является дочерним по отношению к рабочему столу. Если `CWnd` не имеет присоединенного окна, эта функция возвращает значение NULL.

##  <a name="gettoplevelparent"></a>  CWnd::GetTopLevelParent

Вызовите эту функцию-член, чтобы получить родительский элемент верхнего уровня окна.

```
CWnd* GetTopLevelParent() const;
```

### <a name="return-value"></a>Возвращаемое значение

Определяет родительское окно верхнего уровня окна.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

`GetTopLevelParent` похож на [жеттоплевелфраме](#gettoplevelframe) и [жеттоплевеловнер](#gettoplevelowner); Однако он игнорирует значение, установленное в качестве текущего окна владельца.

##  <a name="gettopwindow"></a>  CWnd::GetTopWindow

Выполняет поиск дочернего окна верхнего уровня, принадлежащего `CWnd`.

```
CWnd* GetTopWindow() const;
```

### <a name="return-value"></a>Возвращаемое значение

Определяет дочернее окно верхнего уровня в `CWnd` связанном списке дочерних окон. Если дочерние окна не существуют, значение равно NULL.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Если `CWnd` не имеет дочерних элементов, эта функция возвращает значение NULL.

##  <a name="getupdaterect"></a>CWnd:: Жетупдатерект

Получает координаты наименьшего прямоугольника, полностью охватывающего область обновления.

```
BOOL GetUpdateRect(
    LPRECT lpRect,
    BOOL bErase = FALSE);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на объект `CRect` или [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , которая получает клиентские координаты обновления, охватывающего регион обновления.

Присвойте этому параметру значение NULL, чтобы определить, существует ли область обновления в `CWnd`. Если *лпрект* имеет значение null, функция-член `GetUpdateRect` возвращает ненулевой, если область обновления существует, и 0, если нет. Это позволяет определить, получено ли сообщение WM_PAINT из недопустимой области. Не устанавливайте этот параметр в значение NULL в Windows версии 3,0 и более ранних версиях.

*берасе*<br/>
Указывает, следует ли стирать фон в области обновления.

### <a name="return-value"></a>Возвращаемое значение

Указывает состояние области обновления. Если область обновления не пуста, значение не равно нулю; в противном случае — 0.

Если для параметра *лпрект* задано значение null, то возвращаемое значение будет ненулевым, если существует регион обновления. в противном случае — 0.

### <a name="remarks"></a>Примечания

Если `CWnd` был создан с CS_OWNDCным стилем, а режим сопоставления не MM_TEXT, то функция-член `GetUpdateRect` предоставляет прямоугольник в логических координатах. В противном случае `GetUpdateRect` предоставляет прямоугольник в клиентских координатах. Если регион обновления отсутствует, `GetUpdateRect` задает пустой прямоугольник (устанавливает все координаты равными 0).

Параметр *берасе* указывает, должен ли `GetUpdateRect` очищать фон области обновления. Если *берасе* имеет значение true и область обновления не пуста, фон удаляется. Чтобы стереть фон, `GetUpdateRect` отправляет [WM_ERASEBKGND](#onerasebkgnd) сообщение.

Прямоугольник обновления, полученный функцией-членом [бегинпаинт](#beginpaint) , идентичен тому, что извлекается функцией-членом `GetUpdateRect`.

Функция-член `BeginPaint` автоматически проверяет область обновления, так что любой вызов `GetUpdateRect` выполняется сразу после вызова `BeginPaint` Извлекает пустой регион обновления.

##  <a name="getupdatergn"></a>  CWnd::GetUpdateRgn

Извлекает регион обновления в регион, определенный параметром *пргн*.

```
int GetUpdateRgn(
    CRgn* pRgn,
    BOOL bErase = FALSE);
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Определяет регион обновления.

*берасе*<br/>
Указывает, будет ли отображаться фон и неклиентские области дочерних окон. Если значение равно FALSE, прорисовка не выполняется.

### <a name="return-value"></a>Возвращаемое значение

Задает флаг короткого целого числа, указывающий тип результирующей области. Значение может принимать одно из следующих значений:

- СИМПЛЕРЕГИОН. в области нет перекрывающихся границ.

- КОМПЛЕКСРЕГИОН. область содержит перекрывающиеся границы.

- НУЛЛРЕГИОН. регион пуст.

- Ошибка: регион не создан.

### <a name="remarks"></a>Примечания

Координаты этой области задаются относительно левого верхнего угла (клиентские координаты).

Функция-член [бегинпаинт](#beginpaint) автоматически проверяет область обновления, поэтому любой вызов `GetUpdateRgn` сделан сразу после вызова `BeginPaint` Извлекает пустой регион обновления.

##  <a name="getwindow"></a>  CWnd::GetWindow

Возвращает указатель на запрошенное окно или значение NULL, если нет.

```
CWnd* GetWindow(UINT nCmd) const;
```

### <a name="parameters"></a>Параметры

*нкмд*<br/>
Задает связь между `CWnd` и возвращаемым окном. Может принимать одно из следующих значений:

- GW_CHILD определяет `CWnd` первое дочернее окно.

- GW_HWNDFIRST Если `CWnd` является дочерним окном, возвращает первое родственное окно. В противном случае возвращается первое окно верхнего уровня в списке.

- GW_HWNDLAST Если `CWnd` является дочерним окном, возвращает последнее родственное окно. В противном случае возвращается Последнее окно верхнего уровня в списке.

- GW_HWNDNEXT Возвращает следующее окно в списке диспетчера окон.

- GW_HWNDPREV возвращает предыдущее окно в списке диспетчера окон.

- GW_OWNER идентифицирует владельца `CWnd`.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

##  <a name="getwindowcontexthelpid"></a>  CWnd::GetWindowContextHelpId

Вызовите эту функцию члена, чтобы получить идентификатор контекста справки (при наличии), связанный с окном.

```
DWORD GetWindowContextHelpId() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентификатор контекста справки. Возвращает 0, если окно отсутствует.

##  <a name="getwindowedchildcount"></a>  CWnd::GetWindowedChildCount

Вызовите эту функцию члена, чтобы получить количество связанных дочерних окон.

```
long GetWindowedChildCount();
```

### <a name="return-value"></a>Возвращаемое значение

Количество дочерних окон, связанных с объектом `CWnd`.

##  <a name="getwindowdc"></a>  CWnd::GetWindowDC

Извлекает контекст отображения для всего окна, включая строку заголовка, меню и полосы прокрутки.

```
CDC* GetWindowDC();
```

### <a name="return-value"></a>Возвращаемое значение

Определяет контекст вывода для данного окна, если функция выполнена успешно; в противном случае — NULL.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования. [Релеаседк](#releasedc) должен вызываться один раз для каждого успешного вызова `GetWindowDC`.

### <a name="remarks"></a>Примечания

Контекст отображения окна позволяет рисовать в любом месте `CWnd`, так как источником контекста является левый верхний угол `CWnd` вместо клиентской области.

Атрибуты по умолчанию присваиваются контексту вывода каждый раз, когда он получает контекст. Предыдущие атрибуты теряются.

`GetWindowDC` предназначено для использования с особыми эффектами рисования в неклиентской области `CWnd`. Рисование в неклиентских областях любого окна не рекомендуется.

Функцию Windows [жетсистемметрикс](/windows/win32/api/winuser/nf-winuser-getsystemmetrics) можно использовать для получения измерений различных частей неклиентской области, таких как строка заголовка, меню и полосы прокрутки.

После завершения рисования необходимо вызвать функцию-член [релеаседк](#releasedc) , чтобы освободить контекст отображения. Невозможность освободить контекст отображения сильно повлияет на оформление, запрошенное приложениями из-за ограничений на количество контекстов устройств, которые могут быть открыты одновременно.

##  <a name="getwindowinfo"></a>  CWnd::GetWindowInfo

Извлекает сведения о окне.

```
BOOL GetWindowInfo(PWINDOWINFO pwi) const;
```

### <a name="parameters"></a>Параметры

*пви*<br/>
Указатель на структуру [виндовинфо](/windows/win32/api/winuser/ns-winuser-windowinfo) .

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жетвиндовинфо](/windows/win32/api/winuser/nf-winuser-getwindowinfo), как описано в Windows SDK.

##  <a name="getwindowlesschildcount"></a>  CWnd::GetWindowlessChildCount

Возвращает количество связанных безоконных дочерних окон.

```
long GetWindowlessChildCount();
```

### <a name="return-value"></a>Возвращаемое значение

Количество безоконных дочерних окон, связанных с объектом `CWnd`.

##  <a name="getwindowplacement"></a>  CWnd::GetWindowPlacement

Получает состояние отображения, а также обычное (восстановленное), свернутое и развернутое состояния окна.

```
BOOL GetWindowPlacement(WINDOWPLACEMENT* lpwndpl) const;
```

### <a name="parameters"></a>Параметры

*лпвндпл*<br/>
Указывает на структуру `WINDOWPLACEMENT`, которая получает сведения о состоянии отображения и позиции.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Элемент `flags` структуры [WINDOWPLACEMENT](/windows/win32/api/winuser/ns-winuser-windowplacement), полученной этой функцией, всегда имеет значение 0. Если `CWnd` развернут, `showCmd` элемент `WINDOWPLACEMENT` SW_SHOWMAXIMIZED. Если окно является сведенным, это SW_SHOWMINIMIZED. В противном случае это SW_SHOWNORMAL.

##  <a name="getwindowrect"></a>  CWnd::GetWindowRect

Копирует размеры ограничивающего прямоугольника `CWnd` объекта в структуру, на которую указывает *лпрект*.

```
void GetWindowRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на объект `CRect` или [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , которая будет принимать экранные координаты верхнего левого и правого нижнего угла.

### <a name="remarks"></a>Примечания

Размеры задаются в экранных координатах относительно левого верхнего угла экрана отображения. Включаются размеры заголовка, границы и полос прокрутки, если они есть.

##  <a name="getwindowrgn"></a>  CWnd::GetWindowRgn

Вызовите эту функцию-член, чтобы получить область окна.

```
int GetWindowRgn(HRGN hRgn)const;
```

### <a name="parameters"></a>Параметры

*хргн*<br/>
Маркер области окна.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение указывает тип области, которую получает функция. Может иметь одно из следующих значений.

- НУЛЛРЕГИОН. регион пуст.

- СИМПЛЕРЕГИОН. регион является одним прямоугольником.

- КОМПЛЕКСРЕГИОН. регион является более чем одним прямоугольником.

- Произошла ошибка; область не затрагивается.

### <a name="remarks"></a>Примечания

Область окна определяет область внутри окна, в которой операционная система разрешает рисование. Операционная система не отображает ни одной части окна, которая находится за пределами области окна.

Координаты области окна окна задаются относительно левого верхнего угла окна, а не клиентской области окна.

Чтобы задать область окна окна, вызовите [CWnd:: сетвиндовргн](#setwindowrgn).

##  <a name="getwindowtext"></a>  CWnd::GetWindowText

Копирует заголовок `CWnd` заголовка (если он имеется) в буфер, на который указывает *лпсзстрингбуф* , или в целевую строку, которая является *RSTR*.

```
int GetWindowText(
    LPTSTR lpszStringBuf,
    int nMaxCount) const;

void GetWindowText(
    CString& rString) const;
```

### <a name="parameters"></a>Параметры

*лпсзстрингбуф*<br/>
Указывает на буфер, который получает скопированную строку заголовка окна.

*нмакскаунт*<br/>
Указывает максимальное число символов, копируемых в буфер, включая завершающий нуль. Если строка длиннее числа символов, указанных в *нмакскаунт*, она усекается.

*rStr*<br/>
Объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) , который получает скопированную строку заголовка окна.

### <a name="return-value"></a>Возвращаемое значение

Задает длину копируемой строки в символах, не включая завершающий символ null. Значение 0, если `CWnd` не имеет заголовка или если заголовок пуст.

### <a name="remarks"></a>Примечания

Если объект `CWnd` является элементом управления, функция-член `GetWindowText` копирует текст внутри элемента управления вместо копирования заголовка.

Эта функция члена вызывает отправку сообщения [WM_GETTEXT](/windows/win32/winmsg/wm-gettext) в объект `CWnd`.

### <a name="example"></a>Пример

  См. пример для [CWnd:: SetWindowText](#setwindowtext).

##  <a name="getwindowtextlength"></a>  CWnd::GetWindowTextLength

Возвращает длину заголовка заголовка объекта `CWnd`.

```
int GetWindowTextLength() const;
```

### <a name="return-value"></a>Возвращаемое значение

Задает длину текста в символах, не включая завершающий символ null. Если такого текста не существует, значение равно 0.

### <a name="remarks"></a>Примечания

Если `CWnd` является элементом управления, функция-член `GetWindowTextLength` возвращает длину текста внутри элемента управления, а не заголовка.

Эта функция члена вызывает отправку сообщения [WM_GETTEXTLENGTH](/windows/win32/winmsg/wm-gettextlength) в объект `CWnd`.

### <a name="example"></a>Пример

  См. пример для [CWnd:: SetWindowText](#setwindowtext).

##  <a name="hidecaret"></a>  CWnd::HideCaret

Скрывает курсор, удалив его из отображаемой области.

```
void HideCaret();
```

### <a name="remarks"></a>Примечания

Хотя курсор больше не отображается, его можно снова отобразить с помощью функции-члена [шовкарет](#showcaret) . При скрытии курсора текущая фигура не уничтожается.

Скрытие является накопительным. Если `HideCaret` в строке вызывалось пять раз, функция-член `ShowCaret` должна вызываться пять раз, прежде чем будет отображаться курсор.

##  <a name="hilitemenuitem"></a>  CWnd::HiliteMenuItem

Выделение или удаление выделения из пункта меню верхнего уровня (панели меню).

```
BOOL HiliteMenuItem(
    CMenu* pMenu,
    UINT nIDHiliteItem,
    UINT nHilite);
```

### <a name="parameters"></a>Параметры

*пмену*<br/>
Определяет меню верхнего уровня, содержащее элемент для выделения.

*нидхилитеитем*<br/>
Указывает пункт меню, который должен быть выделен в зависимости от значения параметра *нхилите* .

*нхилите*<br/>
Указывает, выделен ли пункт меню или удаляется выделение. Это может быть сочетание MF_HILITE или MF_UNHILITE с MF_BYCOMMAND или MF_BYPOSITION. Значения можно комбинировать с помощью побитового оператора или. Данные величины имеют следующие значения:

- MF_BYCOMMAND интерпретирует *нидхилитеитем* как идентификатор элемента меню (интерпретация по умолчанию).

- MF_BYPOSITION интерпретирует *нидхилитеитем* как смещение элемента меню, начинающееся с нуля.

- MF_HILITE выделяет элемент. Если это значение не задано, выделение удаляется из элемента.

- MF_UNHILITE удаляет выделение из элемента.

### <a name="return-value"></a>Возвращаемое значение

Указывает, выделен ли пункт меню. Ненулевое значение, если элемент был выделен; в противном случае — 0.

### <a name="remarks"></a>Примечания

Флаги MF_HILITE и MF_UNHILITE можно использовать только с этой функцией члена. они не могут использоваться с функцией члена [кмену:: модифимену](../../mfc/reference/cmenu-class.md#modifymenu) .

##  <a name="htmlhelp"></a>  CWnd::HtmlHelp

Вызовите эту функцию члена, чтобы вызвать приложение HTMLHelp.

```
virtual void HtmlHelp(
    DWORD_PTR dwData,
    UINT nCmd = 0x000F);
```

### <a name="parameters"></a>Параметры

*двдата*<br/>
Указывает дополнительные данные. Используемое значение зависит от значения параметра *нкмд* .

*нкмд*<br/>
Задает тип запрошенной справки. Список возможных значений и их влияние на параметр *двдата* см. в описании параметра *укомманд* , как описано в справочнике по API справки HTML в Windows SDK.

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [CWinApp:: HtmlHelp](../../mfc/reference/cwinapp-class.md#htmlhelp) .

##  <a name="initdynamiclayout"></a>CWnd:: Инитдинамиклайаут

Вызывается платформой для инициализации динамического макета окна.

```
void InitDynamicLayout();
```

### <a name="remarks"></a>Примечания

Не вызывайте этот метод напрямую.

##  <a name="invalidate"></a>CWnd:: недействительность

Делает недействительным всю клиентскую область `CWnd`.

```
void Invalidate(BOOL bErase = TRUE);
```

### <a name="parameters"></a>Параметры

*берасе*<br/>
Указывает, следует ли стирать фон в области обновления.

### <a name="remarks"></a>Примечания

Клиентская область помечается для рисования при появлении следующего [WM_PAINT](#onpaint) сообщения. Кроме того, область можно проверить до сообщения WM_PAINT, поступает от функции-члена [валидатерект](#validaterect) или [валидатергн](#validatergn) .

Параметр *берасе* указывает, следует ли удалять фон в области обновления при обработке области обновления. Если *берасе* имеет значение true, фон удаляется при вызове функции-члена [бегинпаинт](#beginpaint) ; Если *берасе* имеет значение false, фон остается неизменным. Если *берасе* имеет значение true для любой части области обновления, то фон во всем регионе, а не только в заданной части, удаляется.

Windows отправляет сообщение [WM_PAINT](#onpaint) , когда область обновления `CWnd` не пуста и в очереди приложения для этого окна отсутствуют другие сообщения.

### <a name="example"></a>Пример

  См. пример для [CWnd:: упдатевиндов](#updatewindow).

##  <a name="invalidaterect"></a>CWnd:: Инвалидатерект

Делает недействительным клиентскую область в пределах данного прямоугольника, добавляя этот прямоугольник в область обновления `CWnd`.

```
void InvalidateRect(
    LPCRECT lpRect,
    BOOL bErase = TRUE);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на объект `CRect` или [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , содержащую прямоугольник (в клиентских координатах), добавляемый в область обновления. Если *лпрект* имеет значение null, в регион добавляется вся клиентская область.

*берасе*<br/>
Указывает, следует ли стирать фон в области обновления.

### <a name="remarks"></a>Примечания

Недействительный прямоугольник, а также все остальные области в области обновления помечаются для рисования при отправке следующего [WM_PAINT](#onpaint) сообщения. Недействительные области накапливаются в области обновления до тех пор, пока регион не будет обработан, когда происходит следующий вызов WM_PAINT или пока регион не будет проверен функцией-членом [валидатерект](#validaterect) или [валидатергн](#validatergn) .

Параметр *берасе* указывает, следует ли удалять фон в области обновления при обработке области обновления. Если *берасе* имеет значение true, фон удаляется при вызове функции-члена [бегинпаинт](#beginpaint) ; Если *берасе* имеет значение false, фон остается неизменным. Если *берасе* имеет значение true для любой части области обновления, фон во всем регионе удаляется, а не только в данной части.

Windows отправляет сообщение [WM_PAINT](#onpaint) , когда область обновления `CWnd` не пуста и в очереди приложения для этого окна отсутствуют другие сообщения.

##  <a name="invalidatergn"></a>CWnd:: Инвалидатергн

Делает недействительным клиентскую область в заданном регионе, добавляя ее в текущую область обновления `CWnd`.

```
void InvalidateRgn(
    CRgn* pRgn,
    BOOL bErase = TRUE);
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Указатель на объект [кргн](../../mfc/reference/crgn-class.md) , определяющий область, добавляемую в область обновления. Предполагается, что для региона заданы клиентские координаты. Если этот параметр имеет значение NULL, в регион обновления добавляется вся клиентская область.

*берасе*<br/>
Указывает, следует ли стирать фон в области обновления.

### <a name="remarks"></a>Примечания

Недействительная область, а также все остальные области в области обновления помечаются для рисования при следующем отправке сообщения [WM_PAINT](#onpaint) . Недействительные области накапливаются в области обновления до тех пор, пока регион не будет обработан при следующей отправке WM_PAINT сообщения или до тех пор, пока регион не будет проверен функцией-членом [валидатерект](#validaterect) или [валидатергн](#validatergn) .

Параметр *берасе* указывает, следует ли удалять фон в области обновления при обработке области обновления. Если *берасе* имеет значение true, фон удаляется при вызове функции-члена [бегинпаинт](#beginpaint) ; Если *берасе* имеет значение false, фон остается неизменным. Если *берасе* имеет значение true для любой части области обновления, то фон во всем регионе, а не только в заданной части, удаляется.

Windows отправляет сообщение [WM_PAINT](#onpaint) , когда область обновления `CWnd` не пуста и в очереди приложения для этого окна отсутствуют другие сообщения.

Заданный регион должен быть ранее создан одной из функций Region.

##  <a name="invokehelper"></a>  CWnd::InvokeHelper

Вызовите эту функцию члена, чтобы вызвать метод или свойство элемента управления ActiveX, заданное параметром *двдиспид*, в контексте, заданном параметром *вфлагс*.

```
void AFX_CDECL InvokeHelper(
    DISPID dwDispID,
    WORD wFlags,
    VARTYPE vtRet,
    void* pvRet,
    const BYTE* pbParamInfo,
    ... );
```

### <a name="parameters"></a>Параметры

*двдиспид*<br/>
Задает вызываемый метод или свойство.

*вфлагс*<br/>
Флаги, описывающие контекст вызова `IDispatch::Invoke`.

*втрет*<br/>
Указывает тип возвращаемого значения. Возможные значения см. в подразделе "Примечания" раздела [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper).

*пврет*<br/>
Адрес переменной, которая будет принимать значение свойства или возвращаемое значение. Он должен соответствовать типу, заданному параметром *втрет*.

*пбпараминфо*<br/>
Указатель на строку байтов с завершающим нулем, указывающую типы параметров, следующие *пбпараминфо*. Возможные значения см. в разделе "Примечания" для `COleDispatchDriver::InvokeHelper`.

*...*<br/>
Список переменных параметров типов, указанных в *пбпараминфо*.

### <a name="remarks"></a>Примечания

Параметр *пбпараминфо* задает типы параметров, передаваемых методу или свойству. Переменный список аргументов представлен в объявлении синтаксиса как *...* .

Эта функция преобразует параметры в значения VARIANTARG, а затем вызывает метод `IDispatch::Invoke` для элемента управления ActiveX. Если вызов `IDispatch::Invoke` завершается сбоем, эта функция создает исключение. Если SCODE (код состояния), возвращенный `IDispatch::Invoke`, имеет DISP_E_EXCEPTION, эта функция создает объект [COleException](../../mfc/reference/coleexception-class.md) , в противном случае вызывает исключение [COleDispatchException](../../mfc/reference/coledispatchexception-class.md).

> [!NOTE]
> Эта функция должна вызываться только для объекта `CWnd`, представляющего элемент управления ActiveX.

Дополнительные сведения об использовании этой функции члена с контейнерами элементов управления ActiveX см. в статье [контейнерах элементов управления ActiveX: Программирование элементов управления ActiveX в контейнере элементов управления ActiveX](../../mfc/programming-activex-controls-in-a-activex-control-container.md).

##  <a name="ischild"></a>  CWnd::IsChild

Указывает, является ли окно, заданное параметром *приводится* , дочерним окном или другим прямым потомком `CWnd`.

```
BOOL IsChild(const CWnd* pWnd) const;
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
Определяет тестируемое окно.

### <a name="return-value"></a>Возвращаемое значение

Указывает результат функции. Значение не равно нулю, если окно, идентифицируемое *приводится* , является дочерним окном `CWnd`; в противном случае — 0.

### <a name="remarks"></a>Примечания

Дочернее окно — это прямой потомок `CWnd`, если объект `CWnd` находится в цепочке родительских окон, ведущих от исходного всплывающего окна к дочернему окну.

##  <a name="isd2dsupportenabled"></a>CWnd:: IsD2DSupportEnabled

Определяет, включена ли поддержка D2D.

```
BOOL IsD2DSupportEnabled();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если функция включена; в противном случае — FALSE.

##  <a name="isdialogmessage"></a>CWnd:: Исдиалогмессаже

Вызовите эту функцию-член, чтобы определить, предназначено ли данное сообщение для немодального диалогового окна. Если это так, эта функция обрабатывает сообщение.

```
BOOL IsDialogMessage(LPMSG lpMsg);
```

### <a name="parameters"></a>Параметры

*лпмсг*<br/>
Указывает на структуру [MSG](/windows/win32/api/winuser/ns-winuser-msg) сообщения, содержащую проверяемое сообщение.

### <a name="return-value"></a>Возвращаемое значение

Указывает, обрабатывало ли данное сообщение функция члена. Если сообщение было обработано, оно не равно нулю. в противном случае — 0. Если возвращается значение 0, вызовите функцию-член [CWnd::P ретранслатемессаже](#pretranslatemessage) базового класса, чтобы обработать сообщение. В переопределении функции члена `CWnd::PreTranslateMessage` код выглядит следующим образом:

[!code-cpp[NVC_MFCWindowing#100](../../mfc/reference/codesnippet/cpp/cwnd-class_40.cpp)]

### <a name="remarks"></a>Примечания

Когда функция `IsDialogMessage` обрабатывает сообщение, оно проверяет наличие сообщений клавиатуры и преобразует их в команды выбора для соответствующего диалогового окна. Например, клавиша TAB выбирает следующий элемент управления или группу элементов управления, а клавиша со стрелкой вниз выбирает следующий элемент управления в группе.

Не следует передавать сообщение, обработанное `IsDialogMessage` функции Windows [TranslateMessage](/windows/win32/api/winuser/nf-winuser-translatemessage) или [DispatchMessage](/windows/win32/api/winuser/nf-winuser-dispatchmessage) , так как оно уже обработано.

##  <a name="isdlgbuttonchecked"></a>  CWnd::IsDlgButtonChecked

Определяет, установлен ли рядом с элементом управления "Кнопка" галочку.

```
UINT IsDlgButtonChecked(int nIDButton) const;
```

### <a name="parameters"></a>Параметры

*нидбуттон*<br/>
Задает целочисленный идентификатор элемента управления "Кнопка".

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если данный элемент управления установлен, и 0, если он не установлен. Можно проверять только переключатели и флажки. Для кнопок с тремя состояниями возвращаемое значение может быть равно 2, если кнопка является неопределенной. Эта функция-член возвращает 0 для кнопки.

### <a name="remarks"></a>Примечания

Если кнопка является элементом управления с тремя состояниями, функция-член определяет, является ли она недоступной, установленной или ни одной.

##  <a name="isdynamiclayoutenabled"></a>CWnd:: Исдинамиклайаутенаблед

Определяет, активен ли для данного окна динамический макет. Если динамический макет активен, положение и размеры дочерних окон могут меняться при изменении пользователем размера родительского окна.

```
BOOL IsDynamicLayoutEnabled() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE — динамический макет активен; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

##  <a name="isiconic"></a>  CWnd::IsIconic

Указывает, является ли `CWnd` минимальным (значком).

```
BOOL IsIconic() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если `CWnd` является сведенным; в противном случае — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#101](../../mfc/reference/codesnippet/cpp/cwnd-class_41.cpp)]

##  <a name="istouchwindow"></a>CWnd:: Истаучвиндов

Указывает, поддерживает ли объект `CWnd` сенсорный ввод.

```
BOOL IsTouchWindow() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если `CWnd` поддерживает сенсорный ввод; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

##  <a name="iswindowenabled"></a>CWnd:: Исвиндовенаблед

Указывает, включена ли `CWnd` для ввода с клавиатуры и мыши.

```
BOOL IsWindowEnabled() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если включен `CWnd`. в противном случае — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#102](../../mfc/reference/codesnippet/cpp/cwnd-class_42.cpp)]

##  <a name="iswindowvisible"></a>CWnd:: Исвиндоввисибле

Определяет состояние видимости данного окна.

```
BOOL IsWindowVisible() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если `CWnd` является видимым (имеет бит стиля [WS_VISIBLE](styles-used-by-mfc.md#window-styles) , а родительское окно является видимым). Поскольку возвращаемое значение отражает состояние бита стиля WS_VISIBLE, возвращаемое значение может быть ненулевым, несмотря на то, что `CWnd` полностью скрывается другими окнами.

### <a name="remarks"></a>Примечания

Окно имеет состояние видимости, обозначенное битом стиля WS_VISIBLE. Если этот бит стиля задан с помощью вызова функции-члена [ShowWindow](#showwindow) , окно отображается, а последующее рисование в окне отображается, пока для окна задан бит стиля.

Любой рисунок в окне, имеющий стиль WS_VISIBLE, не будет отображаться, если окно охватывается другими окнами или обрезается родительским окном.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#103](../../mfc/reference/codesnippet/cpp/cwnd-class_43.cpp)]

##  <a name="iszoomed"></a>  CWnd::IsZoomed

Определяет, развернуто ли `CWnd`.

```
BOOL IsZoomed() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если `CWnd` развернуто. в противном случае — 0.

##  <a name="killtimer"></a>  CWnd::KillTimer

Ликвидирует событие таймера, идентифицируемое *нидевент* , из предыдущего вызова `SetTimer`.

```
BOOL KillTimer(UINT_PTR nIDEvent);
```

### <a name="parameters"></a>Параметры

*нидевент*<br/>
Значение события таймера, переданного в [сеттимер](#settimer).

### <a name="return-value"></a>Возвращаемое значение

Указывает результат функции. Если событие было уничтожено, значение не равно нулю. Значение 0, если функции-члену `KillTimer` не удалось найти указанное событие таймера.

### <a name="remarks"></a>Примечания

Ожидающие [WM_TIMER](#ontimer) сообщения, связанные с таймером, не удаляются из очереди сообщений.

### <a name="example"></a>Пример

  См. пример для [CWnd:: сеттимер](#settimer).

##  <a name="loaddynamiclayoutresource"></a>CWnd:: Лоаддинамиклайаутресаурце

Вызывается платформой для загрузки из файла ресурсов сведений о динамическом макете.

```
BOOL LoadDynamicLayoutResource(LPCTSTR lpszResourceName);
```

### <a name="parameters"></a>Параметры

*лпсзресаурценаме*<br/>
Имя ресурса, содержащего необходимые сведения о динамическом макете для этого окна.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно. В случае ошибки — 0.

### <a name="remarks"></a>Примечания

Не вызывайте этот метод напрямую.

##  <a name="lockwindowupdate"></a>  CWnd::LockWindowUpdate

Отключает рисование в данном окне.

```
BOOL LockWindowUpdate();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно. Значение 0, если происходит сбой или если функция `LockWindowUpdate` использовалась для блокировки другого окна.

### <a name="remarks"></a>Примечания

Невозможно переместить заблокированное окно. Одновременно может быть заблокировано только одно окно. Чтобы разблокировать окно, заблокированное `LockWindowUpdate`, вызовите метод [унлокквиндовупдате](#unlockwindowupdate).

Если приложение с заблокированным окном (или любыми закрытыми дочерними окнами) вызывает функцию Windows [GetDC,](/windows/win32/api/winuser/nf-winuser-getdc) [жетдцекс](/windows/win32/api/winuser/nf-winuser-getdcex) или [бегинпаинт](/windows/win32/api/winuser/nf-winuser-beginpaint) , вызываемая функция возвращает контекст устройства, видимая область которого пуста. Это произойдет до тех пор, пока приложение не разблокирует окно, вызвав функцию члена `UnlockWindowUpdate`.

Несмотря на то, что обновления окон заблокированы, система отслеживает ограничивающий прямоугольник любых операций рисования в контекстах устройств, связанных с заблокированным окном. При повторном включении рисования этот ограничивающий прямоугольник становится недействительным в заблокированном окне, а его дочерние окна — принудительно вынуждает в конечном [WM_PAINT](/windows/win32/gdi/wm-paint) сообщение для обновления экрана. Если во время блокировки обновлений окна не происходило никакой прорисовки, то область не становится недействительной.

Функция члена `LockWindowUpdate` не делает данное окно невидимым и не очищает бит стиля [WS_VISIBLE](styles-used-by-mfc.md#window-styles) .

##  <a name="m_hwnd"></a>  CWnd::m_hWnd

Маркер окна Windows, присоединенного к этому `CWnd`.

```
HWND m_hWnd;
```

### <a name="remarks"></a>Примечания

Элемент данных `m_hWnd` является открытой переменной типа HWND.

##  <a name="mapwindowpoints"></a>CWnd:: Мапвиндовпоинтс

Преобразует набор точек из координатного пространства объекта `CWnd` в координатное пространство другого окна.

```
void MapWindowPoints(
    CWnd* pwndTo,
    LPRECT lpRect) const;

void MapWindowPoints(
    CWnd* pwndTo,
    LPPOINT lpPoint,
    UINT nCount) const;
```

### <a name="parameters"></a>Параметры

*пвндто*<br/>
Определяет окно, в котором преобразуются точки. Если этот параметр имеет значение NULL, точки преобразуются в экранные координаты.

*лпрект*<br/>
Задает прямоугольник, точки которого должны быть преобразованы. Первая версия этой функции доступна только для Windows 3,1 и более поздних версий.

*лппоинт*<br/>
Указатель на массив [структуры Point](/windows/win32/api/windef/ns-windef-point) , содержащий набор точек для преобразования.

*нкаунт*<br/>
Указывает количество структур `POINT` в массиве, на которое указывает *лппоинт*.

##  <a name="messagebox"></a>  CWnd::MessageBox

Создает и отображает окно, содержащее предоставляемое приложением сообщение и заголовок, а также сочетание стандартных значков и кнопок, описанных в списке [стили окна сообщений](../../mfc/reference/styles-used-by-mfc.md#message-box-styles) .

```
int MessageBox(
    LPCTSTR lpszText,
    LPCTSTR lpszCaption = NULL,
    UINT nType = MB_OK);
```

### <a name="parameters"></a>Параметры

*lpszText*<br/>
Указывает на объект `CString` или строку, завершающуюся нулем, которая содержит отображаемое сообщение.

*лпсзкаптион*<br/>
Указывает на объект `CString` или строку, завершающуюся нулем, которая будет использоваться для подписи в поле сообщения. Если *лпсзкаптион* имеет значение null, используется заголовок по умолчанию "Error".

*nType*<br/>
Задает содержимое и поведение окна сообщения.

### <a name="return-value"></a>Возвращаемое значение

Этот метод использует функцию [MessageBox](/windows/win32/api/winuser/nf-winuser-messagebox) , определенную в Windows SDK. Этот метод возвращает результат вызова этой функции.

### <a name="remarks"></a>Примечания

Для реализации окна сообщения в приложении используйте глобальную функцию [AfxMessageBox](../../mfc/reference/cstring-formatting-and-message-box-display.md#afxmessagebox) вместо этой функции-члена.

Ниже показаны различные системные значки, которые можно использовать в окне сообщения.

|||
|-|-|
|![Значок &#40;«&#41; останавливает x»](../../mfc/reference/media/vc364f1.gif "Значок &#40;«&#41; останавливает x»")|MB_ICONHAND, MB_ICONSTOP и MB_ICONERROR|
|![Справка &#40;? &#41; значок](../../mfc/reference/media/vc364f2.gif "Справка &#40;? &#41; значок")|MB_ICONQUESTION|
|![Значок &#40; &#33; &#41; "важно"](../../mfc/reference/media/vc364f3.gif "Значок &#40; &#33; &#41; "важно"")|MB_ICONEXCLAMATION и MB_ICONWARNING|
|![&#41; Значок "информация" &#40;](../../mfc/reference/media/vc364f4.gif "&#41; Значок "информация" &#40;")|MB_ICONASTERISK и MB_ICONINFORMATION|

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#104](../../mfc/reference/codesnippet/cpp/cwnd-class_44.cpp)]

##  <a name="modifystyle"></a>  CWnd::ModifyStyle

Вызовите эту функцию-член, чтобы изменить стиль окна.

```
BOOL ModifyStyle(
    DWORD dwRemove,
    DWORD dwAdd,
    UINT nFlags = 0);
```

### <a name="parameters"></a>Параметры

*двремове*<br/>
Задает стили окна, которые будут удалены во время изменения стиля.

*двадд*<br/>
Задает стили окна, добавляемые во время изменения стиля.

*нфлагс*<br/>
Флаги, передаваемые в [SetWindowPos](#setwindowpos), или нуль, если не следует вызывать `SetWindowPos`. По умолчанию используется значение ноль. Список предустановленных флагов см. в разделе "Примечания".

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если стиль изменен успешно. в противном случае — значение 0.

### <a name="remarks"></a>Примечания

Добавляемые или удаляемые стили можно объединять с помощью побитового оператора&#124;or (). Сведения о доступных стилях окна см. в разделе [стили окна](/windows/win32/winmsg/window-styles) "темы" и [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindoww) в Windows SDK.

Если *нфлагс* имеет ненулевое значение, `ModifyStyle` вызывает функцию Windows API [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) и перерисовывает окно путем объединения *нфлагс* со следующими четырьмя предустановленными флагами:

- SWP_NOSIZE оставляет текущий размер.

- SWP_NOMOVE оставляет текущее расположение.

- SWP_NOZORDER оставляет текущий Z порядок.

- SWP_NOACTIVATE не активирует окно.

Сведения об изменении расширенных стилей окна см. в разделе [модифистиликс](#modifystyleex).

> [!NOTE]
> Для некоторых стилей в некоторых элементах управления (например, стиль ES_READONLY в элементе управления "поле ввода") `ModifyStyle` может неправильно изменить стиль, так как элементу управления может потребоваться специальная внутренняя обработка. В таких случаях будет доступен соответствующее сообщение для изменения стиля (EM_SETREADONLY в приведенном выше примере).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#105](../../mfc/reference/codesnippet/cpp/cwnd-class_45.cpp)]

##  <a name="modifystyleex"></a>  CWnd::ModifyStyleEx

Вызовите эту функцию-член для изменения расширенного стиля окна.

```
BOOL ModifyStyleEx(
    DWORD dwRemove,
    DWORD dwAdd,
    UINT nFlags = 0);
```

### <a name="parameters"></a>Параметры

*двремове*<br/>
Задает расширенные стили, которые будут удалены во время изменения стиля.

*двадд*<br/>
Задает расширенные стили, добавляемые во время изменения стиля.

*нфлагс*<br/>
Флаги, передаваемые в [SetWindowPos](#setwindowpos), или нуль, если не следует вызывать `SetWindowPos`. По умолчанию используется значение ноль. Список предустановленных флагов см. в разделе "Примечания".

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если стиль изменен успешно. в противном случае — значение 0.

### <a name="remarks"></a>Примечания

Добавляемые или удаляемые стили можно объединять с помощью побитового оператора&#124;or (). Дополнительные сведения о доступных расширенных стилях см. в разделах, посвященных [расширенным стилям окон](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) этой книги и [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) в Windows SDK.

Если *нфлагс* имеет ненулевое значение, `ModifyStyleEx` вызывает функцию Windows API [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) и перерисовывает окно путем объединения *нфлагс* со следующими четырьмя предустановленными флагами:

- SWP_NOSIZE оставляет текущий размер.

- SWP_NOMOVE оставляет текущее расположение.

- SWP_NOZORDER оставляет текущий Z порядок.

- SWP_NOACTIVATE не активирует окно.

Сведения об изменении окон с помощью обычных стилей окна см. в разделе [модифистиле](#modifystyle).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#106](../../mfc/reference/codesnippet/cpp/cwnd-class_46.cpp)]

##  <a name="movewindow"></a>  CWnd::MoveWindow

Изменяет расположение и размеры.

```
void MoveWindow(
    int x,
    int y,
    int nWidth,
    int nHeight,
    BOOL bRepaint = TRUE);

void MoveWindow(
    LPCRECT lpRect,
    BOOL bRepaint = TRUE);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает новое расположение левой части `CWnd`.

*y*<br/>
Указывает новое расположение верхней части `CWnd`.

*нвидс*<br/>
Задает новую ширину `CWnd`.

*нхеигхт*<br/>
Задает новую высоту `CWnd`.

*bRepaint*<br/>
Указывает, следует ли перерисовать `CWnd`. Если значение true, `CWnd` получает сообщение [WM_PAINT](/windows/win32/gdi/wm-paint) в обработчике сообщений [OnPaint](#onpaint) как обычно. Если этот параметр имеет значение FALSE, перерисовка какого-либо вида не происходит. Это относится к клиентской области, неклиентской области (включая заголовки и полосы прокрутки), а также к любой части родительского окна, обнаруженной в результате перемещения `CWnd`. Если этот параметр имеет значение FALSE, приложение должно явно сделать недействительным или перерисовывать все части `CWnd` и родительского окна, которые необходимо перерисовать.

*лпрект*<br/>
Объект [крект](../../atl-mfc-shared/reference/crect-class.md) или [Структура Rect](/windows/win32/api/windef/ns-windef-rect) , указывающая новый размер и расположение.

### <a name="remarks"></a>Примечания

Для объекта `CWnd` верхнего уровня параметры *x* и *y* задаются относительно левого верхнего угла экрана. Для дочернего `CWnd` объекта они находятся относительно левого верхнего угла клиентской области родительского окна.

Функция `MoveWindow` отправляет сообщение [WM_GETMINMAXINFO](#ongetminmaxinfo) . Обработка этого сообщения дает `CWnd` возможность изменить значения по умолчанию для самых крупных и наименьших возможных окон. Если параметры функции члена `MoveWindow` превышают эти значения, их значения могут быть заменены минимальными или максимальными значениями в обработчике WM_GETMINMAXINFO.

### <a name="example"></a>Пример

  См. пример для [CWnd:: клиенттоскрин](#clienttoscreen).

##  <a name="notifywinevent"></a>  CWnd::NotifyWinEvent

Сообщает системе, что произошло предопределенное событие. Если все клиентские приложения зарегистрировали функцию-обработчик для события, система вызывает функцию-ловушку клиента.

```
void NotifyWinEvent(
    DWORD event,
    LONG idObjectType,
    LONG idObject);
```

### <a name="parameters"></a>Параметры

*event*<br/>
Указывает произошедшее событие. Это значение должно быть одной из [констант событий](/windows/win32/WinAuto/event-constants).

*идобжекттипе*<br/>
Определяет тип объекта, создавшего событие. Это значение представляет собой один из стандартных [идентификаторов объекта](/windows/win32/WinAuto/object-identifiers) или значение идентификатора пользовательского объекта.

*идобжект*<br/>
Определяет, было ли событие создано объектом или дочерним элементом объекта. Если это значение равно CHILDID_SELF, событие было создано самим объектом. Если нет, это значение является дочерним ИДЕНТИФИКАТОРом элемента, создавшего событие.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [нотифивиневент](/windows/win32/api/winuser/nf-winuser-notifywinevent), как описано в Windows SDK.

##  <a name="onactivate"></a>CWnd:: OnActivate

Платформа вызывает эту функцию-член, когда объект `CWnd` активируется или деактивируется.

```
afx_msg void OnActivate(
    UINT nState,
    CWnd* pWndOther,
    BOOL bMinimized);
```

### <a name="parameters"></a>Параметры

*Nсведения*<br/>
Указывает, активируется ли `CWnd` или деактивируется. Может иметь одно из следующих значений.

- WA_INACTIVE окно деактивируется.

- WA_ACTIVE окно активируется с помощью какого-либо метода, отличного от щелчка мышью (например, с помощью интерфейса клавиатуры для выбора окна).

- WA_CLICKACTIVE, что окно активируется щелчком мыши.

*пвндосер*<br/>
Указатель на `CWnd` активируется или деактивируется. Указатель может иметь значение NULL и может быть временным.

*бминимизед*<br/>
Указывает минимальное состояние `CWnd` активируется или деактивируется. Значение TRUE указывает, что окно является сведенным.

Если значение равно TRUE, активируется `CWnd`. в противном случае деактивируется.

### <a name="remarks"></a>Примечания

Если объект `CWnd` активируется нажатием кнопки мыши, он также получает вызов функции-члена [онмаусеактивате](#onmouseactivate) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onactivateapp"></a>  CWnd::OnActivateApp

Платформа вызывает эту функцию-член для всех окон верхнего уровня активируемой задачи и для всех окон верхнего уровня, для которых выполняется деактивация задачи.

```
afx_msg void OnActivateApp(
    BOOL bActive,
    DWORD dwThreadID);
```

### <a name="parameters"></a>Параметры

*бактиве*<br/>
Указывает, активируется ли `CWnd` или деактивируется. Значение TRUE означает, что `CWnd` активируется. Значение FALSE означает, что `CWnd` деактивируется.

*двсреадид*<br/>
Указывает значение идентификатора потока. Если *бактиве* имеет значение true, *двсреадид* идентифицирует поток, владеющий `CWnd` деактивированной. Если *бактиве* имеет значение false, *двсреадид* идентифицирует поток, владеющий активируемым `CWnd`.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onambientproperty"></a>CWnd:: Онамбиентпроперти

Платформа вызывает эту функцию-член для получения значений свойств окружения из окна, содержащего элементы управления OLE.

```
virtual BOOL OnAmbientProperty(
    COleControlSite* pSite,
    DISPID dispid,
    VARIANT* pvar);
```

### <a name="parameters"></a>Параметры

*псите*<br/>
Указатель на сайт элемента управления, который запросил внешнее свойство.

*DISPID*<br/>
Идентификатор диспетчеризации запрошенного внешнего свойства.

*пвар*<br/>
Указатель на структуру `VARIANT`, выделенную вызывающим объектом, через которую будет возвращено значение свойства окружения.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если свойство окружения поддерживается; Значение FALSE, если нет.

### <a name="remarks"></a>Примечания

Переопределите эту функцию, чтобы изменить значения свойств окружения по умолчанию, возвращаемые контейнером элементов управления OLE, в его элементы управления. Любые запросы внешних свойств, не обрабатываемые переопределяющей функцией, должны перенаправляться в реализацию базового класса.

##  <a name="onappcommand"></a>CWnd:: Онаппкомманд

Платформа вызывает эту функцию члена, когда пользователь создает событие команды приложения. Такое событие возникает, когда пользователь нажимает на кнопку команды приложения или вводит ключ команды приложения.

```
afx_msg void OnAppCommand(
    CWnd* pWnd,
    UINT nCmd,
    UINT nDevice,
    UINT nKey);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Приводится*|окне Указатель на объект `CWnd`, представляющий окно, в котором пользователь нажал на кнопку или клавишу Command. Это окно может быть дочерним окном окна, получающего сообщение.|
|*нкмд*|окне Указывает команду приложения. Список возможных значений см. в командах в разделе *cmd* параметра *lParam* [WM_APPCOMMAND](/windows/win32/inputdev/wm-appcommand).|
|*ндевице*|окне Устройство ввода, создавшее событие ввода. Список возможных значений см. на устройствах в разделе *удевице* параметра *lParam* [WM_APPCOMMAND](/windows/win32/inputdev/wm-appcommand).|
|*нкэй*|окне Указывает все виртуальные клавиши, которые не работают, например клавишу CTRL или левую кнопку мыши. Список возможных значений см. в разделе "ключи" раздела *двкэйс* параметра *lParam* в [WM_APPCOMMAND](/windows/win32/inputdev/wm-appcommand). Дополнительные сведения см. в подразделе "Параметры сообщения" статьи [о вводе](/windows/win32/inputdev/about-mouse-input)с помощью мыши.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_APPCOMMAND](/windows/win32/inputdev/wm-appcommand) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onaskcbformatname"></a>CWnd:: Онасккбформатнаме

Платформа вызывает эту функцию-член, когда буфер обмена содержит маркер данных для формата CF_OWNERDISPLAY (т. е. когда владелец буфера обмена будет отображать содержимое буфера обмена).

```
afx_msg void OnAskCbFormatName(
    UINT nMaxCount,
    LPTSTR lpszString);
```

### <a name="parameters"></a>Параметры

*нмакскаунт*<br/>
Указывает максимальное число копируемых байтов.

*лпсзстринг*<br/>
Указывает на буфер, где будет храниться копия имени формата.

### <a name="remarks"></a>Примечания

Владелец буфера обмена должен предоставить имя для своего формата.

Переопределите эту функцию члена и скопируйте имя формата CF_OWNERDISPLAY в указанный буфер, не превышающий указанное максимальное число байтов.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oncancelmode"></a>  CWnd::OnCancelMode

Платформа вызывает эту функцию члена, чтобы сообщить `CWnd` отменить любой внутренний режим.

```
afx_msg void OnCancelMode();
```

### <a name="remarks"></a>Примечания

Если объект `CWnd` имеет фокус, его `OnCancelMode`ная функция-член вызывается при отображении диалогового окна или поля сообщения. Это дает `CWnd` возможность отмены таких режимов, как захват мыши.

Реализация по умолчанию отвечает вызовом функции Windows [релеасекаптуре](/windows/win32/api/winuser/nf-winuser-releasecapture) . Переопределите эту функцию члена в производном классе для работы с другими режимами.

##  <a name="oncapturechanged"></a>CWnd:: Онкаптуречанжед

Платформа вызывает эту функцию-член, чтобы уведомить окно, которое теряет захват мыши.

```
afx_msg void OnCaptureChanged(CWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
Указатель на окно для получения захвата мыши

### <a name="remarks"></a>Примечания

Окно получает это сообщение, даже если оно вызывает [релеасекаптуре](/windows/win32/api/winuser/nf-winuser-releasecapture) . Приложение не должно пытаться установить захват мыши в ответ на это сообщение. При получении этого сообщения окно должно перерисовывать себя при необходимости, чтобы отразить новое состояние захвата мыши.

Сведения о функции `ReleaseCapture` Windows см. в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onchangecbchain"></a>  CWnd::OnChangeCbChain

Платформа вызывает эту функцию-член для каждого окна в цепочке средства просмотра буфера обмена, чтобы уведомить о том, что окно удаляется из цепочки.

```
afx_msg void OnChangeCbChain(
    HWND hWndRemove,
    HWND hWndAfter);
```

### <a name="parameters"></a>Параметры

*хвндремове*<br/>
Задает маркер окна, удаляемый из цепочки средства просмотра буфера обмена.

*хвндафтер*<br/>
Задает маркер окна, который следует за окном, удаляемым из цепочки средства просмотра буфера обмена.

### <a name="remarks"></a>Примечания

Каждый объект `CWnd`, который получает вызов `OnChangeCbChain`, должен использовать функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows для отправки [WM_CHANGECBCHAIN](/windows/win32/dataxchg/wm-changecbchain) сообщения в следующее окно в цепочке окна просмотра буфера обмена (маркер, возвращаемый `SetClipboardViewer`). Если *хвндремове* является следующим окном в цепочке, окно, заданное параметром *хвндафтер* , становится следующим окном, и к нему передаются сообщения буфера обмена.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onchangeuistate"></a>CWnd:: Ончанжеуистате

Вызывается, когда необходимо изменить состояние пользовательского интерфейса.

```
afx_msg void OnChangeUIState(
    UINT nAction,
    UINT nUIElement);
```

### <a name="parameters"></a>Параметры

*Nвыходные*<br/>
Указывает выполняемое действие. Может принимать одно из следующих значений:

- UIS_CLEAR должен быть скрыт элемент состояния пользовательского интерфейса (заданный параметром *нуиелемент*).

- UIS_INITIALIZE Элемент состояния пользовательского интерфейса (заданный параметром *нуиелемент*) должен быть изменен на основе последнего события ввода. Дополнительные сведения см. в подразделе **"Примечания"** раздела [WM_CHANGEUISTATE](/windows/win32/menurc/wm-changeuistate).

- UIS_SET должен быть виден элемент состояния пользовательского интерфейса (заданный параметром *нуиелемент*).

*нуиелемент*<br/>
Указывает, какие элементы состояния пользовательского интерфейса затрагиваются, или стиль элемента управления. Может принимать одно из следующих значений:

- UISF_HIDEACCEL сочетаний клавиш.

- UISF_HIDEFOCUS индикаторы фокуса.

- UISF_ACTIVE Windows XP: Элемент управления должен быть нарисован в стиле, используемом для активных элементов управления.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность [WM_CHANGEUISTATE](/windows/win32/menurc/wm-changeuistate) сообщения, как описано в Windows SDK.

##  <a name="onchar"></a>CWnd:: OnChar

Платформа вызывает эту функцию-член, когда нажатие клавиши преобразуется в несистемный символ.

```
afx_msg void OnChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Содержит значение кода символа для ключа.

*нрепкнт*<br/>
Содержит число повторов, количество повторов нажатия клавиши, когда пользователь удерживает нажатой клавишу.

*нфлагс*<br/>
Содержит код сканирования, код перехода на ключ, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Значение|
|-----------|-------------|
|0—15|Указывает число повторов. Значение — это количество повторений нажатия клавиши в результате нажатия пользователем клавиши.|
|16—23|Указывает код сканирования. Это значение зависит от изготовителя оборудования (OEM)|
|24|Указывает, является ли ключ расширенным ключом, таким как правая клавиша ALT и CTRL, отображаемые на расширенной клавиатуре 101 или 102. Значение равно 1, если это расширенный ключ; в противном случае — 0.|
|25-28|Используется внутри Windows.|
|29|Указывает код контекста. Значение равно 1, если клавиша ALT удерживается при нажатии клавиши; в противном случае значение равно 0.|
|30|Указывает предыдущее состояние ключа. Значение равно 1, если ключ не работает до отправки сообщения, или 0, если ключ работает.|
|31|Задает состояние перехода. Значение равно 1, если ключ освобождается, или 0, если клавиша нажата.|

### <a name="remarks"></a>Примечания

Эта функция вызывается перед функцией-членом [онкэйуп](#onkeyup) и после вызова функции-члена [KeyDown](#onkeydown) . `OnChar` содержит значение нажатой или освобожденной клавиши клавиатуры.

Так как между нажатыми и `OnChar`ными вызовами не обязательно соответствие "один к одному", информация в *нфлагс* обычно не полезна для приложений. Сведения в *нфлагс* применяются только к последнему вызову функции `OnKeyUp` члена или `OnKeyDown` функции члена, предшествующей вызову `OnChar`.

Для клавиатуры IBM с улучшенными 101-и 102-клавишами расширенными ключами являются правая клавиша ALT и правые клавиши CTRL в основном разделе клавиатуры. клавиши INS, DEL, ДОМАШНяя, КОНЕЧная страница вверх, PAGE DOWN и стрелка в кластерах слева от цифровой клавиатуры; и косая черта (/) и введите клавиши на цифровой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *нфлагс*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onchartoitem"></a>  CWnd::OnCharToItem

Вызывается, когда поле со списком со стилем [LBS_WANTKEYBOARDINPUT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) отправляет своего владельца [WM_CHARTOITEM](/windows/win32/Controls/wm-chartoitem) сообщение в ответ на сообщение [WM_CHAR](#onchar) .

```
afx_msg int OnCharToItem(
    UINT nChar,
    CListBox* pListBox,
    UINT nIndex);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Задает значение клавиши, нажатой пользователем.

*плистбокс*<br/>
Указывает указатель на поле со списком. Это может быть временным.

*ниндекс*<br/>
Задает текущую точку курсора.

### <a name="return-value"></a>Возвращаемое значение

Платформа вызывает эту функцию члена, чтобы указать действие, выполняемое приложением в ответ на вызов. Возвращаемое значение, равное-2, указывает, что приложение обработало все аспекты выбора элемента и не требует дальнейших действий по списку. Возвращаемое значение, равное-1, указывает, что окно списка должно выполнять действие по умолчанию в ответ на нажатие клавиши. Возвращаемое значение 0 или больше Указывает отсчитываемый от нуля индекс элемента в списке и указывает, что поле списка должно выполнять действие по умолчанию для данного элемента.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onchildactivate"></a>CWnd:: Ончилдактивате

Если объект `CWnd` является дочерним окном многодокументного интерфейса (MDI), `OnChildActivate` вызывается платформой, когда пользователь щелкает заголовок окна или когда окно активируется, перемещается или изменяется размер.

```
afx_msg void OnChildActivate();
```

##  <a name="onchildnotify"></a>CWnd:: Ончилднотифи

Эта функция-член вызывается родительским окном этого окна при получении сообщения уведомления, которое применяется к этому окну.

```
virtual BOOL OnChildNotify(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Номер сообщения Windows, отправленный в родительское окно.

*wParam*<br/>
Параметр *wParam* , связанный с сообщением.

*lParam*<br/>
*LParam* , связанный с сообщением.

*плресулт*<br/>
Указатель на значение, возвращаемое из процедуры родительского окна. Если возвращаемое значение не ожидается, этот указатель будет иметь значение NULL.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если это окно отвечает за обработку сообщения, отправленного его родителю; в противном случае — 0.

### <a name="remarks"></a>Примечания

Никогда не вызывайте эту функцию члена напрямую.

Реализация по умолчанию этой функции члена возвращает 0, что означает, что родительское сообщение должно быть обработано.

Переопределите эту функцию-член, чтобы расширить способ реагирования элемента управления на сообщения уведомления.

##  <a name="onclipboardupdate"></a>  CWnd::OnClipboardUpdate

Платформа вызывает эту функцию члена, когда содержимое буфера обмена изменилось.

```
afx_msg void OnClipboardUpdate();
```

##  <a name="onclose"></a>CWnd:: OnClose

Платформа вызывает эту функцию-член как сигнал о том, что `CWnd` или приложение завершается.

```
afx_msg void OnClose();
```

### <a name="remarks"></a>Примечания

Реализация по умолчанию вызывает `DestroyWindow`.

##  <a name="oncolorizationcolorchanged"></a>CWnd:: Онколоризатионколорчанжед

Платформа вызывает этот элемент при изменении политики отрисовки неклиентской области.

```
afx_msg void OnColorizationColorChanged(
    DWORD dwColorizationColor,
    BOOL bOpacity);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*двколоризатионколор*|окне Указывает новый цвет раскраски.<br /><br /> Цветовой формат представляет собой шестнадцатеричное число в формате 0xAARRGGBB, где каждый из четырех компонентов находится в диапазоне от 0x00 до 0xFF. Компонент AA — это значение альфа, RR — красный цвет, GG — зеленый, а BB — синий.|
|*бопаЦити*|окне Значение TRUE, если новый цвет смешивается с непрозрачностью; FALSE, если это не так.|

### <a name="remarks"></a>Примечания

Этот метод получает сообщение уведомления [WM_DWMNCRENDERINGCHANGED](/windows/win32/dwm/wm-dwmcolorizationcolorchanged) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oncommand"></a>CWnd:: OnCommand

Платформа вызывает эту функцию-член, когда пользователь выбирает элемент из меню, когда дочерний элемент управления отправляет сообщение уведомления или при преобразовании нажатия клавиши быстрого вызова.

```
virtual BOOL OnCommand(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*wParam*<br/>
Слово *wParam* с низким приоритетом определяет идентификатор команды элемента меню, элемента управления или ускорителя. Слово « *wParam* » высокого порядка задает сообщение уведомления, если оно получено из элемента управления. Если сообщение получено от ускорителя, то его значение в высоком порядке равно 1. Если сообщение находится в меню, то в верхнем порядке слово имеет значение 0.

*lParam*<br/>
Определяет элемент управления, который отправляет сообщение, если сообщение получено из элемента управления. В противном случае *lParam* имеет значение 0.

### <a name="return-value"></a>Возвращаемое значение

Приложение возвращает ненулевое значение, если обрабатывает это сообщение; в противном случае — 0.

### <a name="remarks"></a>Примечания

`OnCommand` обрабатывает схему сообщений для управляющих уведомлений и записей ON_COMMAND и вызывает соответствующую функцию члена.

Переопределите эту функцию члена в производном классе, чтобы она обрабатывала сообщение [WM_COMMAND](/windows/win32/menurc/wm-command) . Переопределение не будет обрабатывать схему сообщений, если не вызывается базовый класс `OnCommand`.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oncompacting"></a>CWnd:: oncompact

Платформа вызывает эту функцию-член для всех окон верхнего уровня, когда Windows обнаруживает, что в течение 30 – 60-секундного времени в течение интервала, в течение которого более 12,5 процентов системное время тратится на сжатие памяти.

```
afx_msg void OnCompacting(UINT nCpuTime);
```

### <a name="parameters"></a>Параметры

*нкпутиме*<br/>
Указывает отношение времени ЦП, которое в настоящее время потратило памятью сжатия Windows, к времени ЦП, затраченному на выполнение других операций. Например, 8000h представляет 50 процента времени ЦП, затраченного на сжатие памяти.

### <a name="remarks"></a>Примечания

Это означает, что недостаточно памяти системы.

Когда объект `CWnd` получает этот вызов, он должен освободить максимально возможный объем памяти, принимая во внимание текущий уровень активности приложения и общее число приложений, выполняющихся в Windows. Приложение может вызвать функцию Windows, чтобы определить, сколько приложений выполняется.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oncompareitem"></a>  CWnd::OnCompareItem

Платформа вызывает эту функцию-член, чтобы указать относительное расположение нового элемента в поле со списком или в дочернем элементе, упорядоченном для рисования владельцем.

```
afx_msg int OnCompareItem(
    int nIDCtl,
    LPCOMPAREITEMSTRUCT lpCompareItemStruct);
```

### <a name="parameters"></a>Параметры

*нидктл*<br/>
Идентификатор элемента управления, отправившего сообщение WM_COMPAREITEM.

*лпкомпареитемструкт*<br/>
Содержит длинный указатель на структуру данных [COMPAREITEMSTRUCT](/windows/win32/api/winuser/ns-winuser-compareitemstruct) , содержащую идентификаторы и данные, предоставляемые приложением, для двух элементов в поле со списком или в списке.

### <a name="return-value"></a>Возвращаемое значение

Указывает относительное расположение двух элементов. Может принимать любое из следующих значений:

|Значение|Значение|
|-----------|-------------|
|-1|Элемент 1 сортируется до элемента 2.|
|0|Элемент 1 и элемент 2 сортируются одинаково.|
|1|Элемент 1 сортируется после элемента 2.|

### <a name="remarks"></a>Примечания

Если поле со списком или со списком создано с помощью [CBS_SORT](../../mfc/reference/styles-used-by-mfc.md#combo-box-styles) или [LBS_SORT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) , Windows отправляет в поле со списком или владельцу списка сообщение WM_COMPAREITEM, когда приложение добавляет новый элемент.

Два элемента в поле со списком или списка изменяются в структуре `COMPAREITEMSTRUCT`, на которую указывает *лпкомпареитемструкт*. `OnCompareItem` должны возвращать значение, указывающее, какие элементы должны отображаться перед другим. Как правило, Windows делает этот вызов несколько раз, пока он не определит точную позицию для нового элемента.

Если член `hwndItem` структуры `COMPAREITEMSTRUCT` принадлежит объекту [CListBox](../../mfc/reference/clistbox-class.md) или [CComboBox](../../mfc/reference/ccombobox-class.md), то вызывается виртуальная функция `CompareItem` соответствующего класса. Переопределите `CComboBox::CompareItem` или `CListBox::CompareItem` в производном классе `CListBox` или `CComboBox`, чтобы выполнить сравнение элементов.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oncompositionchanged"></a>CWnd:: Онкомпоситиончанжед

Платформа вызывает эту функцию-член для всех окон верхнего уровня, если композиция диспетчер окон рабочего стола (DWM) включена или отключена.

```
afx_msg void OnCompositionChanged();
```

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_DWMCOMPOSITIONCHANGED](/windows/win32/dwm/wm-dwmcompositionchanged) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oncontextmenu"></a>  CWnd::OnContextMenu

Вызывается структурой, когда пользователь щелкнул правой кнопкой мыши в окне.

```
afx_msg void OnContextMenu(
    CWnd* pWnd,
    CPoint pos);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
Указатель на окно, в котором пользователь щелкнул мышью. Это может быть дочернее окно окна, получающего сообщение. Дополнительные сведения об обработке этого сообщения см. в разделе "Примечания".

*pos*<br/>
Расположение курсора в экранных координатах во время щелчка мышью.

### <a name="remarks"></a>Примечания

Это сообщение можно обработать, выполнив контекстное меню с помощью [метод TrackPopupMenu](../../mfc/reference/cmenu-class.md#trackpopupmenu).

Если контекстное меню не отображается, это сообщение следует передать в функцию [дефвиндовпрок](#defwindowproc) . Если окно является дочерним, `DefWindowProc` отправляет сообщение родительскому окну. В противном случае `DefWindowProc` отображает контекстное меню по умолчанию, если указанное расположение находится в заголовке окна.

##  <a name="oncopydata"></a>CWnd:: Онкопидата

Эта функция-член вызывается платформой для копирования данных из одного приложения в другое.

```
afx_msg BOOL OnCopyData(
    CWnd* pWnd,
    COPYDATASTRUCT* pCopyDataStruct);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
Указатель на объект `CWnd`, который отправляет данные.

*пкопидатаструкт*<br/>
Указатель на структуру [копидатаструкт](/windows/win32/api/winuser/ns-winuser-copydatastruct) , содержащую отправляемые данные.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE, если принимающее приложение успешно принимает данные. В противном случае возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Передаваемые данные не должны содержать указатели или другие ссылки на объекты, недоступные для приложения, получающего данные.

Во время копирования данные не должны изменяться другим потоком отправляющего процесса.

Принимающее приложение должно учитывать данные, которые доступны только для чтения. Структура, на которую указывает параметр *пкопидатаструкт* , допустима только во время перемещения данных. Однако принимающее приложение не должно освобождать память, связанную со структурой.

Если принимающему приложению требуется доступ к данным после возврата этой функции, он должен скопировать данные, полученные в локальный буфер.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oncreate"></a>  CWnd::OnCreate

Платформа вызывает эту функцию члена, когда приложение запрашивает создание окна Windows с помощью вызова функции члена [CREATE](#create) или [креатикс](#createex) .

```
afx_msg int OnCreate(LPCREATESTRUCT lpCreateStruct);
```

### <a name="parameters"></a>Параметры

*лпкреатеструкт*<br/>
Указывает на структуру [CREATESTRUCT](/windows/win32/api/winuser/ns-winuser-createstructw) , содержащую сведения о создаваемом объекте `CWnd`.

### <a name="return-value"></a>Возвращаемое значение

`OnCreate` должен возвращать значение 0, чтобы продолжить создание объекта `CWnd`. Если приложение возвращает значение-1, окно будет уничтожено.

### <a name="remarks"></a>Примечания

Объект `CWnd` получает этот вызов после создания окна, но до того, как он станет видимым. `OnCreate` вызывается перед возвратом функции-члена `Create` или `CreateEx`.

Переопределите эту функцию-член, чтобы выполнить необходимую инициализацию производного класса.

Структура `CREATESTRUCT` содержит копии параметров, используемых для создания окна.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onctlcolor"></a>  CWnd::OnCtlColor

Платформа вызывает эту функцию-член при прорисовке дочернего элемента управления.

```
afx_msg HBRUSH OnCtlColor(
    CDC* pDC,
    CWnd* pWnd,
    UINT nCtlColor);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Содержит указатель на контекст вывода для дочернего окна. Может быть временным.

*Приводится*<br/>
Содержит указатель на элемент управления, запрашивающий цвет. Может быть временным.

*нктлколор*<br/>
Содержит одно из следующих значений, определяющее тип элемента управления:

- Элемент управления CTLCOLOR_BTN Button

- Диалоговое окно «CTLCOLOR_DLG»

- Элемент управления CTLCOLOR_EDIT Edit

- CTLCOLOR_LISTBOX элемента управления "список"

- Окно сообщения CTLCOLOR_MSGBOX

- CTLCOLOR_SCROLLBAR элемента управления "полоса прокрутки"

- CTLCOLOR_STATIC статический элемент управления

### <a name="return-value"></a>Возвращаемое значение

`OnCtlColor` должен возвращать дескриптор кисти, которая будет использоваться для рисования фона элемента управления.

### <a name="remarks"></a>Примечания

Большинство элементов управления отправляют это сообщение своим родительским (обычно диалоговому окну) для подготовки *основного контроллера домена* для рисования элемента управления с использованием правильных цветов.

Чтобы изменить цвет текста, вызовите функцию-член `SetTextColor` с нужными значениями красного, зеленого и синего (RGB).

Чтобы изменить цвет фона однострочного элемента управления "поле ввода", задайте маркер кисти в кодах сообщений CTLCOLOR_EDIT и CTLCOLOR_MSGBOX и вызовите функцию [CDC:: сетбкколор](../../mfc/reference/cdc-class.md#setbkcolor) в ответ на код CTLCOLOR_EDIT.

`OnCtlColor` не будет вызываться для поля со списком раскрывающегося списка, так как раскрывающийся список на самом деле является дочерним по отношению к полю со списком, а не дочерним элементом окна. Чтобы изменить цвет раскрывающегося списка, создайте `CComboBox` с переопределением `OnCtlColor`, которое проверяет наличие CTLCOLOR_LISTBOX в параметре `nCtlColor`. В этом обработчике необходимо использовать функцию члена `SetBkColor`, чтобы задать цвет фона для текста.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции. Чтобы добавить следующий метод в класс диалогового окна, используйте панель свойств Visual Studio, чтобы добавить обработчик сообщений для WM_CTLCOLOR. Кроме того, можно вручную добавить запись ON_WM_CTLCOLOR () в схему сообщений.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#107](../../mfc/reference/codesnippet/cpp/cwnd-class_47.cpp)]

##  <a name="ondeadchar"></a>CWnd:: Ондеадчар

Платформа вызывает эту функцию члена при вызове функции [онкэйуп](#onkeyup) и элемента [KeyDown](#onkeydown) .

```
afx_msg void OnDeadChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Задает значение символа неработающего ключа.

*нрепкнт*<br/>
Указывает число повторов.

*нфлагс*<br/>
Указывает код сканирования, код перехода на ключ, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Описание|
|-----------|-----------------|
|0-7|Код сканирования (значение, зависящее от изготовителя оборудования). Младший байт для слова высокого порядка.|
|8|Расширенный ключ, например ключ функции или клавиша на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутри Windows.|
|13|Контекстный код (1, если клавиша ALT удерживается при нажатии клавиши; в противном случае — 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до вызова, 0, если ключ работает).|
|15|Состояние перехода (1, если ключ освобождается, 0 при нажатии клавиши).|

### <a name="remarks"></a>Примечания

Эта функция-член может использоваться для указания значения символа неработающего ключа. Мертвый ключ — это ключ, такой как умляут (двойная точка), который объединяется с другими символами для формирования составного символа. Например, символ умляут-O состоит из неработающего ключа, умляут и ключа O.

Приложение обычно использует `OnDeadChar`, чтобы дать пользователю отзыв о каждом нажатии клавиши. Например, приложение может отображать диакритические знаки в текущей позиции символа без перемещения курсора.

Так как между нажатиями клавишами и `OnDeadChar`ными вызовами не обязательно соответствие "один к одному", информация в *нфлагс* обычно не полезна для приложений. Сведения в *nFlags* применяются только к последнему вызову функции члена [OnKeyUp](#onkeyup) или к функции элемента [OnKeyDown](#onkeydown), которая предшествует вызову `OnDeadChar`.

Для клавиатуры IBM с улучшенными 101-и 102-клавишами расширенными ключами являются правая клавиша ALT и правые клавиши CTRL в основном разделе клавиатуры. клавиши INS, DEL, ДОМАШНяя, КОНЕЧная страница вверх, PAGE DOWN и стрелка в кластерах слева от цифровой клавиатуры; и косая черта (/) и введите клавиши на цифровой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *нфлагс*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="ondeleteitem"></a>  CWnd::OnDeleteItem

Платформа вызывает эту функцию-член для информирования владельца списка или поля со списком, рисуемого владельцем, о том, что список или поле со списком уничтожаются или что элементы были удалены с помощью [CComboBox::D елетестринг](../../mfc/reference/ccombobox-class.md#deletestring), [CListBox::D елетестринг](../../mfc/reference/clistbox-class.md#deletestring), [CComboBox:: Ресетконтент](../../mfc/reference/ccombobox-class.md#resetcontent)или [CListBox:: ресетконтент](../../mfc/reference/clistbox-class.md#resetcontent).

```
afx_msg void OnDeleteItem(
    int nIDCtl,
    LPDELETEITEMSTRUCT lpDeleteItemStruct);
```

### <a name="parameters"></a>Параметры

*нидктл*<br/>
Идентификатор элемента управления, отправившего сообщение WM_DELETEITEM.

*лпделетеитемструкт*<br/>
Задает длинный указатель на структуру данных [делетеитемструкт](/windows/win32/api/winuser/ns-winuser-deleteitemstruct) , содержащую сведения об удаленном элементе списка.

### <a name="remarks"></a>Примечания

Если элемент `hwndItem` структуры `DELETEITEMSTRUCT` принадлежит полю со списком или списку, то вызывается `DeleteItem` виртуальная функция соответствующего класса. Переопределите `DeleteItem` функцию-член соответствующего класса элемента управления, чтобы удалить данные, относящиеся к элементу.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="ondestroy"></a>  CWnd::OnDestroy

Платформа вызывает эту функцию-член, чтобы сообщить объекту `CWnd`, что он уничтожается.

```
afx_msg void OnDestroy();
```

### <a name="remarks"></a>Примечания

`OnDestroy` вызывается после удаления объекта `CWnd` с экрана.

`OnDestroy` вызывается первым для удаляемого `CWnd`, а затем для дочерних окон `CWnd` при их уничтожении. Можно предположить, что во время выполнения `OnDestroy` все еще существуют дочерние окна.

Если удаляемый объект `CWnd` является частью цепочки окна просмотра буфера обмена (задается вызовом функции-члена [SetClipboardViewer](#setclipboardviewer)), компонент `CWnd` должен удалить сам себя из цепочки буфера просмотра, вызвав функцию члена [ChangeClipboardChain](#changeclipboardchain) перед возвратом из функции `OnDestroy`.

##  <a name="ondestroyclipboard"></a>  CWnd::OnDestroyClipboard

Платформа вызывает эту функцию-член для владельца буфера обмена, когда буфер обмена очищается посредством вызова функции Windows [емптиклипбоард](/windows/win32/api/winuser/nf-winuser-emptyclipboard) .

```
afx_msg void OnDestroyClipboard();
```

##  <a name="ondevicechange"></a>  CWnd::OnDeviceChange

Платформа вызывает эту функцию-член для уведомления приложения или драйвера устройства об изменении конфигурации оборудования устройства или компьютера.

```
afx_msg BOOL OnDeviceChange(
    UINT nEventType,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*невенттипе*<br/>
Тип события. Описание доступных значений см. в разделе "Примечания".

*двдата*<br/>
Адрес структуры, содержащей данные, относящиеся к конкретному событию. Его значение зависит от заданного события.

### <a name="remarks"></a>Примечания

Для устройств, которые предлагают функции, управляемые программным обеспечением, такие как извлечение и блокировка, операционная система обычно отправляет DBT_DEVICEREMOVEPENDING сообщение, чтобы разрешить приложениям и драйверам устройств корректно использовать устройство.

Если операционная система принудительно удаляет устройство, она может не отправить DBT_DEVICEQUERYREMOVE сообщение перед этим.

Параметр *невент* может принимать одно из следующих значений:

- [DBT_DEVICEARRIVAL](/windows/win32/DevIO/dbt-devicearrival) Устройство было вставлено и теперь доступно.

- [DBT_DEVICEQUERYREMOVE](/windows/win32/DevIO/dbt-devicequeryremove) Запрошено разрешение на удаление устройства. Любое приложение может отклонить этот запрос и отменить удаление.

- [DBT_DEVICEQUERYREMOVEFAILED](/windows/win32/DevIO/dbt-devicequeryremovefailed) Запрос на удаление устройства отменен.

- [DBT_DEVICEREMOVEPENDING](/windows/win32/DevIO/dbt-deviceremovepending) Устройство будет удалено. Нельзя запретить.

- [DBT_DEVICEREMOVECOMPLETE](/windows/win32/DevIO/dbt-deviceremovecomplete) Устройство удалено.

- [DBT_DEVICETYPESPECIFIC](/windows/win32/DevIO/dbt-devicetypespecific) Событие для конкретного устройства.

- [DBT_CONFIGCHANGED](/windows/win32/DevIO/dbt-configchanged) Текущая конфигурация изменена.

- Узел устройства DBT_DEVNODES_CHANGED изменился.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="ondevmodechange"></a>  CWnd::OnDevModeChange

Платформа вызывает эту функцию-член для всех `CWnd` объектов верхнего уровня, когда пользователь изменяет параметры режима устройства.

```
afx_msg void OnDevModeChange(LPTSTR lpDeviceName);
```

### <a name="parameters"></a>Параметры

*лпдевиценаме*<br/>
Указывает имя устройства, указанное в файле инициализации Windows, WIN. Ссылки.

### <a name="remarks"></a>Примечания

Приложения, обрабатывающие WM_DEVMODECHANGE сообщение, могут повторно инициализировать параметры режима устройства. Приложения, использующие функцию Windows `ExtDeviceMode` для сохранения и восстановления параметров устройств, обычно не обрабатывают эту функцию.

Эта функция не вызывается, когда пользователь изменяет принтер по умолчанию из панели управления. В этом случае вызывается функция `OnWinIniChange`.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="ondrawclipboard"></a>  CWnd::OnDrawClipboard

Платформа вызывает эту функцию-член для каждого окна в цепочке окна просмотра буфера обмена при изменении содержимого буфера обмена.

```
afx_msg void OnDrawClipboard();
```

### <a name="remarks"></a>Примечания

Только приложения, Объединенные в цепочку просмотра буфера обмена путем вызова функции-члена [сетклипбоардвиевер](#setclipboardviewer) , должны отвечать на этот вызов.

Каждое окно, принимающее вызов `OnDrawClipboard`, должно вызывать функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows для передачи [WM_DRAWCLIPBOARD](/windows/win32/dataxchg/wm-drawclipboard) сообщения в следующее окно в цепочке окна просмотра буфера обмена. Маркер следующего окна возвращается функцией-членом [сетклипбоардвиевер](#setclipboardviewer) . Он может быть изменен в ответ на вызов функции члена [ончанжекбчаин](#onchangecbchain) .

##  <a name="ondrawiconicthumbnailorlivepreview"></a>CWnd:: Ондравикониксумбнаилорливепревиев

Вызывается платформой, когда необходимо отобразить растровое изображение на эскизе вкладки Windows 7 или клиенте для быстрого просмотра приложения.

```
virtual void OnDrawIconicThumbnailOrLivePreview(
    CDC& dc,
    CRect rect,
    CSize szRequiredThumbnailSize,
    BOOL bIsThumbnail,
    BOOL& bAlphaChannelSet);
```

### <a name="parameters"></a>Параметры

*dc*<br/>
Указывает контекст устройства.

*rect*<br/>
Задает ограничивающий прямоугольник области для отображения.

*сзрекуиредсумбнаилсизе*<br/>
Задает размер целевого эскиза. Следует игнорировать, если *биссумбнаил* имеет значение false.

*биссумбнаил*<br/>
Указывает, вызывается ли этот метод для значка эскиза или динамической предварительной версии (считывание).

*балфачаннелсет*<br/>
заполняет Задайте значение TRUE, если ваша реализация инициализирует альфа-канал точечного рисунка, выбранного в *контроллере домена*.

### <a name="remarks"></a>Примечания

Переопределите этот метод в производном классе и нарисуйте в указанном контексте устройства для настройки эскиза и просмотра. Если *бсумбнаил* имеет значение true, *сзрекуиредсумбнаилсизе* можно игнорировать. В этом случае следует иметь в виду, что рисуется полный точечный рисунок (то есть битовая карта, охватывающая всю клиентскую область). Контекст устройства ( *DC*) поставляется с выбранным битовым рисунком 32 битов. Реализация по умолчанию отправляет WM_PRINT в это окно с флагами PRF_CLIENT, PRF_CHILDREN и PRF_NONCLIENT.

##  <a name="ondrawitem"></a>  CWnd::OnDrawItem

Платформа вызывает эту функцию-член для владельца элемента управления "кнопка-прорисовка", элемента управления "поле со списком", элемента управления "список" или меню при изменении визуального аспекта элемента управления или меню.

```
afx_msg void OnDrawItem(
    int nIDCtl,
    LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Параметры

*нидктл*<br/>
Содержит идентификатор элемента управления, отправившего сообщение WM_DRAWITEM. Если сообщение отправило меню, *нидктл* содержит 0.

*лпдравитемструкт*<br/>
Задает длинный указатель на `DRAWITEMSTRUCT` структуру данных, содержащую сведения о рисуемом элементе и требуемом типе рисования.

### <a name="remarks"></a>Примечания

Элемент `itemAction` структуры [DRAWITEMSTRUCT](/windows/win32/api/winuser/ns-winuser-drawitemstruct) определяет операцию рисования, которую необходимо выполнить. Данные в этом элементе позволяют владельцу элемента определить, какое действие по отрисовке требуется.

Перед возвратом из обработки этого сообщения приложение должно обеспечить восстановление контекста устройства, идентифицируемого членом *HDC* структуры `DRAWITEMSTRUCT`, в состояние по умолчанию.

Если элемент `hwndItem` принадлежит к объекту [CButton](../../mfc/reference/cbutton-class.md), [CMenu](../../mfc/reference/cmenu-class.md), [CListBox](../../mfc/reference/clistbox-class.md) или [CComboBox](../../mfc/reference/ccombobox-class.md), то вызывается виртуальная функция `DrawItem` соответствующего класса. Переопределите функцию члена `DrawItem` соответствующего класса элемента управления для рисования элемента.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="ondropfiles"></a>CWnd:: Ондропфилес

Платформа вызывает эту функцию-член, когда пользователь отпускает левую кнопку мыши над окном, которое зарегистрировалось как получатель удаленных файлов.

```
afx_msg void OnDropFiles(HDROP hDropInfo);
```

### <a name="parameters"></a>Параметры

*хдропинфо*<br/>
Указатель на внутреннюю структуру данных, описывающую удаленные файлы. Этот маркер используется функциями Windows `DragFinish`, `DragQueryFile`и `DragQueryPoint` для получения сведений об удаленных файлах.

### <a name="remarks"></a>Примечания

Как правило, производный класс предназначен для поддержки удаленных файлов, и он регистрируется во время создания окна.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onenable"></a>CWnd:: OnEnable

Платформа вызывает эту функцию члена, когда приложение изменяет состояние включения объекта `CWnd`.

```
afx_msg void OnEnable(BOOL bEnable);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
Указывает, включен или отключен объект `CWnd`. Этот параметр имеет значение TRUE, если `CWnd` включен. значение FALSE, если `CWnd` отключено.

### <a name="remarks"></a>Примечания

`OnEnable` вызывается перед возвратом функции-члена [енаблевиндов](#enablewindow) , но после изменения состояния окна ( [WS_DISABLED](styles-used-by-mfc.md#window-styles) бит стиля).

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onendsession"></a>CWnd:: Онендсессион

Платформа вызывает эту функцию-член после того, как объект `CWnd` вернул ненулевое значение из вызова функции-члена [онкуерендсессион](#onqueryendsession) .

```
afx_msg void OnEndSession(BOOL bEnding);
```

### <a name="parameters"></a>Параметры

*Изгиб*<br/>
Указывает, завершается ли сеанс. Значение TRUE, если сеанс завершается; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

`OnEndSession` вызов информирует объект `CWnd` о том, что сеанс фактически завершается.

Если *изгиб* имеет значение true, Windows может завершиться в любое время после того, как все приложения возвращали обработку этого вызова. Следовательно, приложение должно выполнять все задачи, необходимые для завершения работы в `OnEndSession`.

При завершении сеанса не нужно вызывать функцию-член [дестройвиндов](#destroywindow) или функцию Windows [посткуитмессаже](/windows/win32/api/winuser/nf-winuser-postquitmessage) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onenteridle"></a>  CWnd::OnEnterIdle

Платформа вызывает эту функцию-член, чтобы сообщить главному окну приложения о том, что модальное диалоговое окно или меню переходит в состояние простоя.

```
afx_msg void OnEnterIdle(
    UINT nWhy,
    CWnd* pWho);
```

### <a name="parameters"></a>Параметры

*нвхи*<br/>
Указывает, является ли сообщение результатом отображения диалогового окна или меню. Этот параметр может принимать одно из следующих значений:

- MSGF_DIALOGBOX, что система бездействует, так как отображается диалоговое окно.

- MSGF_MENU, что система бездействует, поскольку отображается меню.

*пвхо*<br/>
Указывает указатель на диалоговое окно (если *нвхи* — MSGF_DIALOGBOX) или окно, содержащее отображаемое меню (если *нвхи* — MSGF_MENU). Этот указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Модальное диалоговое окно или меню переходит в состояние простоя, если в очереди нет сообщений, ожидающих обработки одного или нескольких предыдущих сообщений.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onentermenuloop"></a>  CWnd::OnEnterMenuLoop

Платформа вызывает эту функцию-член, когда был введен модальный цикл меню.

```
afx_msg void OnEnterMenuLoop(BOOL bIsTrackPopupMenu);
```

### <a name="parameters"></a>Параметры

*бистраккпопупмену*<br/>
Указывает, является ли используемое меню всплывающим меню. Имеет ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onentersizemove"></a>CWnd:: Онентерсиземове

Платформа вызывает эту функцию-член один раз после того, как затронутый окно пойдет в модальный цикл перемещения или изменения размера.

```
afx_msg void OnEnterSizeMove();
```

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_ENTERSIZEMOVE](/windows/win32/winmsg/wm-entersizemove) , которое описано в Windows SDK.

Окно перемещается в модальный цикл перемещения или изменения размера, когда пользователь щелкает заголовок окна или границу изменения размера, или когда окно передает [WM_SYSCOMMAND](/windows/win32/menurc/wm-syscommand) сообщение в функцию [CWnd::D ефвиндовпрок](#defwindowproc) , а параметр *wParam* этого сообщения указывает SC_MOVE или SC_SIZE.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onerasebkgnd"></a>CWnd:: Онерасебкгнд

Платформа вызывает эту функцию-член, когда фоновый объект `CWnd` нуждается в стирании (например, при изменении размера).

```
afx_msg BOOL OnEraseBkgnd(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указывает объект контекста устройства.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если удаляет фон. в противном случае — 0.

### <a name="remarks"></a>Примечания

Он вызывается для подготовки недействительного региона для рисования.

Реализация по умолчанию удаляет фон с помощью кисти фона класса окна, заданной `hbrBackground` элементом структуры класса Window.

Если элемент `hbrBackground` имеет значение NULL, переопределенная версия `OnEraseBkgnd` должна стирать цвет фона. Ваша версия должна также согласовать происхождение предполагаемой кисти с `CWnd` координатами, сначала вызвав [унреализеобжект](/windows/win32/api/wingdi/nf-wingdi-unrealizeobject) для кисти, а затем выбрав кисть.

Переопределенный `OnEraseBkgnd` должен возвращать ненулевое значение в ответ на WM_ERASEBKGND, если он обрабатывает сообщение и удаляет фон. Это означает, что дальнейшая очистка не требуется. Если он возвращает 0, окно остается помеченным, как требуется стереть. (Как правило, это означает, что элемент `fErase` структуры `PAINTSTRUCT` будет иметь значение TRUE.)

Windows предполагает, что фон вычисляется с использованием режима сопоставления MM_TEXT. Если контекст устройства использует любой другой режим сопоставления, то область стирания может не находиться в видимой части клиентской области.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onexitmenuloop"></a>  CWnd::OnExitMenuLoop

Платформа вызывает эту функцию-член при завершении модального цикла меню.

```
afx_msg void OnExitMenuLoop(BOOL bIsTrackPopupMenu);
```

### <a name="parameters"></a>Параметры

*бистраккпопупмену*<br/>
Указывает, является ли используемое меню всплывающим меню. Имеет ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onexitsizemove"></a>CWnd:: Онекситсиземове

Платформа вызывает эту функцию-член один раз после того, как затронутое окно выходит из модального цикла перемещения или изменения размера.

```
afx_msg void OnExitSizeMove();
```

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_EXITSIZEMOVE](/windows/win32/winmsg/wm-exitsizemove) , которое описано в Windows SDK.

Окно перемещается в модальный цикл перемещения или изменения размера, когда пользователь щелкает заголовок окна или границу изменения размера, или когда окно передает [WM_SYSCOMMAND](/windows/win32/menurc/wm-syscommand) сообщение в функцию [CWnd::D ефвиндовпрок](#defwindowproc) , а параметр *wParam* этого сообщения указывает SC_MOVE или SC_SIZE.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onfontchange"></a>  CWnd::OnFontChange

Все окна верхнего уровня в системе получают `OnFontChange` вызов из платформы после того, как приложение изменяет пул ресурсов шрифтов.

```
afx_msg void OnFontChange();
```

### <a name="remarks"></a>Примечания

Приложение, добавляющее или удаляющее шрифты из системы (например, с помощью функции Windows [аддфонтресаурце](/windows/win32/api/wingdi/nf-wingdi-addfontresourcew) или [ремовефонтресаурце](/windows/win32/api/wingdi/nf-wingdi-removefontresourcew) ), должно передавать [WM_FONTCHANGE](/windows/win32/gdi/wm-fontchange) сообщение всем окнам верхнего уровня.

Чтобы отправить это сообщение, используйте функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows с параметром *HWND* , для которого установлено значение HWND_BROADCAST.

##  <a name="ongetdlgcode"></a>  CWnd::OnGetDlgCode

Вызывается, чтобы элемент управления мог самостоятельно обрабатывать нажатия на клавиши со стрелками и клавишу TAB.

```
afx_msg UINT OnGetDlgCode();
```

### <a name="return-value"></a>Возвращаемое значение

Одно или несколько из следующих значений, указывающих тип входных данных, обрабатываемых приложением:

- Кнопка DLGC_BUTTON (универсальная).

- DLGC_DEFPUSHBUTTON кнопка по умолчанию.

- DLGC_HASSETSEL EM_SETSEL сообщения.

- DLGC_UNDEFPUSHBUTTON не обрабатывается кнопка по умолчанию. (Приложение может использовать этот флаг с DLGC_BUTTON, чтобы указать, что он обрабатывает входные данные кнопки, но использует систему для обработки кнопок по умолчанию.)

- Переключатель DLGC_RADIOBUTTON.

- DLGC_STATIC статический элемент управления.

- DLGC_WANTALLKEYS все входные данные с клавиатуры.

- DLGC_WANTARROWS клавиши со стрелками.

- DLGC_WANTCHARS WM_CHAR сообщения.

- DLGC_WANTMESSAGE все входные данные с клавиатуры. Приложение передает это сообщение элементу управления.

- Клавиша TAB DLGC_WANTTAB.

### <a name="remarks"></a>Примечания

Как правило, Windows обрабатывает все входные клавиши со стрелками и клавишей TAB для элемента управления `CWnd`. При переопределении `OnGetDlgCode`элемент управления `CWnd` может выбрать конкретный тип входных данных для обработки.

Функции `OnGetDlgCode` по умолчанию для предопределенных классов элементов управления возвращают код, соответствующий каждому классу.

##  <a name="ongetminmaxinfo"></a>  CWnd::OnGetMinMaxInfo

Платформа вызывает эту функцию члена всякий раз, когда Windows должна расположить развернутое расположение или размеры либо минимальный или максимальный размер отслеживания.

```
afx_msg void OnGetMinMaxInfo(MINMAXINFO* lpMMI);
```

### <a name="parameters"></a>Параметры

*lpMMI*<br/>
Указывает на структуру `MINMAXINFO`, содержащую сведения о максимальном размере окна и его положении, минимальном и максимальном размере отслеживания. Дополнительные сведения об этой структуре см. в разделе Структура [минмаксинфо](/windows/win32/api/winuser/ns-winuser-minmaxinfo) .

### <a name="remarks"></a>Примечания

Развернутый размер — это размер окна, когда его границы полностью расширены. Максимальный размер для отслеживания окна — наибольший размер окна, который можно достигнуть с помощью границ для изменения размера окна. Минимальный размер для отслеживания окна — это наименьший размер окна, который можно достигнуть с помощью границ для изменения размера окна.

Windows заполняет массив точек, указывая значения по умолчанию для различных позиций и измерений. Приложение может изменить эти значения в `OnGetMinMaxInfo`.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onhelp"></a>  CWnd::OnHelp

Обрабатывает справку F1 в приложении (с использованием текущего контекста).

```
afx_msg void OnHelp();
```

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе о функции [CWinApp:: OnHelp](../../mfc/reference/cwinapp-class.md#onhelp) .

##  <a name="onhelpfinder"></a>  CWnd::OnHelpFinder

Обрабатывает команды ID_HELP_FINDER и ID_DEFAULT_HELP.

```
afx_msg void OnHelpFinder();
```

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [CWinApp:: онхелпфиндер](../../mfc/reference/cwinapp-class.md#onhelpfinder) .

##  <a name="onhelpindex"></a>  CWnd::OnHelpIndex

Обрабатывает команду ID_HELP_INDEX и предоставляет раздел справки по умолчанию.

```
afx_msg void OnHelpIndex();
```

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [CWinApp:: онхелпиндекс](../../mfc/reference/cwinapp-class.md#onhelpindex) .

##  <a name="onhelpinfo"></a>  CWnd::OnHelpInfo

Вызывается платформой, когда пользователь нажимает клавишу F1.

```
afx_msg BOOL OnHelpInfo(HELPINFO* lpHelpInfo);
```

### <a name="parameters"></a>Параметры

*лфелпинфо*<br/>
Указатель на структуру [HELPINFO](/windows/win32/api/winuser/ns-winuser-helpinfo) , содержащую сведения о пункте меню, элементе управления, диалоговом окне или окне, для которого запрашивается справка.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE, если окно имеет фокус клавиатуры или если меню активно в окне. Если ни одно окно не имеет фокуса клавиатуры, возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Если меню активна при нажатии клавиши F1, WM_HELP отправляется в окно, связанное с меню; в противном случае WM_HELP отправляется в окно, имеющее фокус клавиатуры. Если ни один из окон не имеет фокуса клавиатуры, WM_HELP отправляется в текущее активное окно.

##  <a name="onhelpusing"></a>CWnd:: Онхелпусинг

Обрабатывает команду ID_HELP_USING.

```
afx_msg void OnHelpUsing();
```

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [CWinApp:: онхелпусинг](../../mfc/reference/cwinapp-class.md#onhelpusing) .

##  <a name="onhotkey"></a>  CWnd::OnHotKey

Платформа вызывает эту функцию-член, когда пользователь нажимает на уровне системы сочетание клавиш.

```
afx_msg void OnHotKey(
    UINT nHotKeyId,
    UINT nKey1,
    UINT nKey2);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нхоткэйид*|окне Идентификатор для сочетания клавиш, создавшего сообщение. Если сообщение было создано системой с помощью сочетания клавиш, этот параметр будет иметь одно из следующих значений:<br /><br /> -IDHOT_SNAPDESKTOP — была нажата клавиша "привязать".<br />-IDHOT_SNAPWINDOW — была нажата горячая клавиша окна привязки.|
|*nKey1*|окне Побитовое сочетание (или) флагов, указывающих клавиши, которые были нажаты в сочетании с ключом, заданным параметром *nKey2* . Допустимые значения:<br /><br /> -MOD_ALT — клавиша ALT была удержана.<br />-MOD_CONTROL — клавиша CTRL была удержана.<br />-MOD_SHIFT — клавиша SHIFT была удержана.<br />-MOD_WIN — любой из ключей WINDOWS был удержан. Эти ключи помечены эмблемой Microsoft Windows.|
|*nKey2*|окне Код виртуального ключа для сочетания клавиш.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_HOTKEY](/windows/win32/inputdev/wm-hotkey) , которое описано в Windows SDK. Это сообщение помещается в верхней части очереди сообщений, связанной с потоком, который зарегистрировал горячую клавишу. Используйте функцию [RegisterHotKey](/windows/win32/api/winuser/nf-winuser-registerhotkey) для регистрации сочетания клавиш для всей системы.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onhscroll"></a>CWnd:: Онхскролл

Платформа вызывает эту функцию-член, когда пользователь щелкает горизонтальную полосу прокрутки окна.

```
afx_msg void OnHScroll(
    UINT nSBCode,
    UINT nPos,
    CScrollBar* pScrollBar);
```

### <a name="parameters"></a>Параметры

*нсбкоде*<br/>
Указывает код полосы прокрутки, который указывает на запрос прокрутки пользователя. Возможные значения этого параметра:

- SB_LEFT прокрутить до левого края.

- SB_ENDSCROLL завершения прокрутки.

- SB_LINELEFT прокрутка влево.

- SB_LINERIGHT прокрутка вправо.

- SB_PAGELEFT прокрутить на одну страницу влево.

- SB_PAGERIGHT перейти на одну страницу вправо.

- SB_RIGHT прокрутить до правого края.

- SB_THUMBPOSITION прокрутить к абсолютному положению. Текущая позицией задается параметром *npos* .

- SB_THUMBTRACK перетащите ползунок в указанное расположение. Текущая позицией задается параметром *npos* .

*nPos*<br/>
Задает точку прокрутки, если код полосы прокрутки SB_THUMBPOSITION или SB_THUMBTRACK; в противном случае не используется. В зависимости от первоначального диапазона прокрутки *npos* могут быть отрицательными и при необходимости приводить к типу **int** .

*пскроллбар*<br/>
Если сообщение с прокруткой поступило из элемента управления полосы прокрутки, содержит указатель на элемент управления. Если пользователь щелкнул полосу прокрутки окна, этот параметр имеет значение NULL. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Примечания

SB_THUMBTRACK полосы прокрутки обычно используются приложениями, которые предоставляют некоторую обратную связь во время перетаскивания бегунка.

Если приложение прокручивает содержимое, управляемое полосой прокрутки, оно должно также сбрасывать точку прокрутки с помощью функции члена [сетскроллпос](#setscrollpos) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#108](../../mfc/reference/codesnippet/cpp/cwnd-class_48.cpp)]

##  <a name="onhscrollclipboard"></a>  CWnd::OnHScrollClipboard

Функция-член `OnHScrollClipboard` владельца буфера обмена вызывается средством просмотра буфера обмена, если данные в буфере обмена имеют формат `CF_OWNERDISPLAY` и событие в горизонтальной полосе прокрутки окна буфера просмотра.

```
afx_msg void OnHScrollClipboard(
    CWnd* pClipAppWnd,
    UINT nSBCode,
    UINT nPos);
```

### <a name="parameters"></a>Параметры

*пклипаппвнд*<br/>
Указывает указатель на окно средства просмотра буфера обмена. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*нсбкоде*<br/>
Задает один из следующих кодов полос прокрутки в слове низкого порядка:

- SB_BOTTOM прокрутить вниз вправо.

- SB_ENDSCROLL завершения прокрутки.

- SB_LINEDOWN прокрутить на одну строку вниз.

- SB_LINEUP прокрутить на одну строку вверх.

- SB_PAGEDOWN прокрутить на одну страницу вниз.

- SB_PAGEUP перейти на одну страницу вверх.

- SB_THUMBPOSITION прокрутите до абсолютной позицией. Текущая заданная позицией предоставляется в *npos*.

- SB_TOP прокрутить к верхнему левому краю.

*nPos*<br/>
Содержит расположение бокса прокрутки, если код полосы прокрутки SB_THUMBPOSITION; в противном случае не используется.

### <a name="remarks"></a>Примечания

Владелец должен прокручивать изображение в буфере обмена, сделать недействительным соответствующий раздел и обновить значения полосы прокрутки.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oniconerasebkgnd"></a>CWnd:: Ониконерасебкгнд

Платформа вызывает эту функцию-член для сворачивания (значка) `CWnd` объекта, когда фон значка необходимо заполнить перед рисованием значка.

```
afx_msg void OnIconEraseBkgnd(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указывает объект контекста устройства для значка. Может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

`CWnd` получает этот вызов, только если значок класса определен для реализации окна по умолчанию; в противном случае вызывается [онерасебкгнд](#onerasebkgnd) .

Функция члена [дефвиндовпрок](#defwindowproc) заполняет фон значка фоновой кистью родительского окна.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oninitmenu"></a>  CWnd::OnInitMenu

Платформа вызывает эту функцию-член, когда меню собирается стать активным.

```
afx_msg void OnInitMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

*пмену*<br/>
Указывает меню для инициализации. Может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

`OnInitMenu` вызывается, когда пользователь щелкает элемент в строке меню или нажимает клавишу меню. Переопределите эту функцию-член, чтобы изменить меню перед отображением.

`OnInitMenu` вызывается только один раз, при первом обращении к меню (например, когда пользователь щелкает элемент в строке меню). Этот метод не предоставляет сведения о пунктах меню. При переходе пользователя к элементам в меню (например, при перемещении мыши по нескольким пунктам меню) функция не вызывается снова. После выхода пользователя из меню (например, при щелчке в клиентской области приложения) и последующем щелчке элемента в строке меню функция будет вызываться снова.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oninitmenupopup"></a>  CWnd::OnInitMenuPopup

Платформа вызывает эту функцию-член, когда всплывающее меню станет активным.

```
afx_msg void OnInitMenuPopup(
    CMenu* pPopupMenu,
    UINT nIndex,
    BOOL bSysMenu);
```

### <a name="parameters"></a>Параметры

*ппопупмену*<br/>
Указывает объект меню всплывающего меню. Может быть временным и не должен храниться для последующего использования.

*ниндекс*<br/>
Задает индекс всплывающего меню в главном меню.

*бсисмену*<br/>
Значение TRUE, если всплывающее меню является меню управления; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Это позволяет приложению изменить всплывающее меню до его отображения без изменения всего меню.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oninputdevicechange"></a>  CWnd::OnInputDeviceChange

Платформа вызывает эту функцию-член при добавлении или удалении устройства ввода/вывода из системы.

```
afx_msg void OnInputDeviceChange(unsigned short uFlag);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*уфлаг*|окне Этот флаг может содержать следующие значения:<br /><br /> -GIDC_ARRIVAL — новое устройство добавлено в систему.<br />-GIDC_REMOVAL — устройство удалено из системы.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_INPUT_DEVICE_CHANGE](/windows/win32/inputdev/wm-input-device-change) , которое описано в Windows SDK. Является универсальным сообщением устройства ввода.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oninputlangchange"></a>  CWnd::OnInputLangChange

Платформа вызывает этот элемент для самого верхнего затронутого окна после изменения языка ввода приложения.

```
afx_msg void OnInputLangChange(
    UINT nCharSet,
    UINT nLocaleId);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Тип nChar*|окне Кодировка нового языкового стандарта. Дополнительные сведения см. в описании параметра *лфчарсет* структуры [LOGFONT](/windows/win32/api/wingdi/ns-wingdi-logfontw) .|
|*нлокалеид*|окне Идентификатор локали ввода. Дополнительные сведения см. в разделе [константы и строки идентификатора языка](/windows/win32/Intl/language-identifier-constants-and-strings).|

### <a name="remarks"></a>Примечания

Этот метод получает сообщение уведомления [WM_INPUTLANGCHANGE](/windows/win32/winmsg/wm-inputlangchange) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="oninputlangchangerequest"></a>  CWnd::OnInputLangChangeRequest

Платформа вызывает этот элемент для окна с фокусом, когда пользователь выбирает новый язык ввода.

```
afx_msg void OnInputLangChangeRequest(
    UINT nFlags,
    UINT nLocaleId);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нфлагс*|окне Побитовое сочетание (или) флагов, указывающих на то, что новый языковой стандарт был выбран из предыдущего или следующего языкового стандарта в списке установленных языков, или что новая раскладка клавиатуры ввода может использоваться с системным набором символов.<br /><br /> Возможные значения: INPUTLANGCHANGE_BACKWARD, INPUTLANGCHANGE_FORWARD и INPUTLANGCHANGE_SYSCHARSET.|
|*нлокалеид*|окне Идентификатор локали ввода. Дополнительные сведения см. в разделе [константы и строки идентификатора языка](/windows/win32/Intl/language-identifier-constants-and-strings).|

### <a name="remarks"></a>Примечания

Этот метод получает сообщение уведомления [WM_INPUTLANGCHANGEREQUEST](/windows/win32/winmsg/wm-inputlangchangerequest) , которое описано в Windows SDK. Это сообщение отправляется, когда пользователь выбирает новый язык ввода с помощью сочетания клавиш, указанного в приложении панели управления "клавиатура", или из индикатора на системной панели задач.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onkeydown"></a>  CWnd::OnKeyDown

Платформа вызывает эту функцию-член при нажатии несистемного ключа.

```
afx_msg void OnKeyDown(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Указывает виртуальный код ключа данного ключа. Список стандартных виртуальных клавиш см. в разделе Winuser. h

*нрепкнт*<br/>
Число повторов (количество повторов нажатия клавиши в результате, когда пользователь удерживает клавишу).

*нфлагс*<br/>
Указывает код сканирования, код перехода на ключ, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Описание|
|-----------|-----------------|
|0-7|Код сканирования (значение, зависящее от изготовителя оборудования).|
|8|Расширенный ключ, например ключ функции или клавиша на цифровой клавиатуре (1, если это расширенный ключ).|
|9-10|Не используется.|
|11-12|Используется внутри Windows.|
|13|Контекстный код (1, если клавиша ALT удерживается при нажатии клавиши; в противном случае — 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до вызова, 0, если ключ работает).|
|15|Состояние перехода (1, если ключ освобождается, 0 при нажатии клавиши).|

Для WM_KEYDOWN сообщения бит перехода на ключ (бит 15) равен 0, а бит контекстного кода (бит 13) равен 0.

### <a name="remarks"></a>Примечания

Несистемный ключ — клавиша клавиатуры, которая нажата, когда клавиша ALT не нажата или нажата клавиша ВВОД, когда `CWnd` имеет фокус ввода.

Из-за автоматической повторной повторной попытки вызов функции-члена [онкэйуп](#onkeyup) может вызвать несколько `OnKeyDown`. Бит, указывающий предыдущее состояние ключа, может использоваться для определения того, является ли вызов `OnKeyDown` первым переходом или повторным переходом.

Для клавиатуры IBM с улучшенными 101-и 102-клавишами расширенными ключами являются правая клавиша ALT и правые клавиши CTRL в основном разделе клавиатуры. клавиши INS, DEL, ДОМАШНяя, КОНЕЧная страница вверх, PAGE DOWN и стрелка в кластерах слева от цифровой клавиатуры; и косая черта (/) и введите клавиши на цифровой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *нфлагс*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onkeyup"></a>  CWnd::OnKeyUp

Платформа вызывает эту функцию-член при освобождении несистемного ключа.

```
afx_msg void OnKeyUp(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Указывает виртуальный код ключа данного ключа. Список стандартных виртуальных клавиш см. в разделе Winuser. h

*нрепкнт*<br/>
Число повторов (количество повторов нажатия клавиши в результате, когда пользователь удерживает клавишу).

*нфлагс*<br/>
Указывает код сканирования, код перехода на ключ, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Описание|
|-----------|-----------------|
|0-7|Код сканирования (значение, зависящее от изготовителя оборудования). Младший байт для слова высокого порядка.|
|8|Расширенный ключ, например ключ функции или клавиша на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутри Windows.|
|13|Контекстный код (1, если клавиша ALT удерживается при нажатии клавиши; в противном случае — 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до вызова, 0, если ключ работает).|
|15|Состояние перехода (1, если ключ освобождается, 0 при нажатии клавиши).|

Для WM_KEYUP сообщения бит перехода на ключ (бит 15) равен 1, а бит контекстного кода (бит 13) равен 0.

### <a name="remarks"></a>Примечания

Несистемный ключ — клавиша клавиатуры, которая нажата, когда клавиша ALT не нажата или клавиша клавиатуры, которая нажата, когда `CWnd` имеет фокус ввода.

Для клавиатуры IBM с улучшенными 101-и 102-клавишами расширенными ключами являются правая клавиша ALT и правые клавиши CTRL в основном разделе клавиатуры. клавиши INS, DEL, ДОМАШНяя, КОНЕЧная страница вверх, PAGE DOWN и стрелка в кластерах слева от цифровой клавиатуры; и косая черта (/) и введите клавиши на цифровой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *нфлагс*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onkillfocus"></a>  CWnd::OnKillFocus

Платформа вызывает эту функцию члена непосредственно перед тем, как потерять фокус ввода.

```
afx_msg void OnKillFocus(CWnd* pNewWnd);
```

### <a name="parameters"></a>Параметры

*pNewWnd*<br/>
Указывает указатель на окно, которое получает фокус ввода (может быть равно NULL или может быть временным).

### <a name="remarks"></a>Примечания

Если объект `CWnd` отображает курсор, в этот момент курсор должен быть разрушен.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onlbuttondblclk"></a>CWnd:: Онлбуттондблклк

Платформа вызывает эту функцию-член, когда пользователь дважды щелкает левую кнопку мыши.

```
afx_msg void OnLButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON задается, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не нажата.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

Только окна, имеющие стиль CS_DBLCLKS [вндкласс](/windows/win32/api/winuser/ns-winuser-wndclassw) , будут принимать вызовы `OnLButtonDblClk`. Это значение по умолчанию для окон Microsoft Foundation Class. Windows вызывает `OnLButtonDblClk`, когда пользователь нажимает, отпускает, а затем снова нажимает левую кнопку мыши в пределах предельного времени двойного щелчка системы. Двойной щелчок левой кнопки мыши на самом деле приводит к четырем событиям: [WM_LBUTTONDOWN](#onlbuttondown), [WM_LBUTTONUP](#onlbuttonup) сообщения, вызов WM_LBUTTONDBLCLK и другое сообщение WM_LBUTTONUP при отпускании кнопки.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onlbuttondown"></a>CWnd:: Онлбуттондовн

Платформа вызывает эту функцию члена, когда пользователь нажимает левую кнопку мыши.

```
afx_msg void OnLButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON задается, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не нажата.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onlbuttonup"></a>CWnd:: Онлбуттонуп

Платформа вызывает эту функцию члена, когда пользователь отпускает левую кнопку мыши.

```
afx_msg void OnLButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не нажата.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmbuttondblclk"></a>  CWnd::OnMButtonDblClk

Платформа вызывает эту функцию-член, когда пользователь дважды щелкает среднюю кнопку мыши.

```
afx_msg void OnMButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON задается, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не нажата.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

Только окна, имеющие стиль CS_DBLCLKS [вндкласс](/windows/win32/api/winuser/ns-winuser-wndclassw) , будут принимать вызовы `OnMButtonDblClk`. Это значение по умолчанию для всех окон Microsoft Foundation Class. Windows создает `OnMButtonDblClk` вызов, когда пользователь нажимает, отпускает, а затем снова нажимает среднюю кнопку мыши в пределах предельного времени двойного щелчка системы. Двойной щелчок средней кнопки мыши на самом деле приводит к четырем событиям: [WM_MBUTTONDOWN](#onmbuttondown) и [WM_MBUTTONUP](#onmbuttonup) сообщения, вызов WM_MBUTTONDBLCLK и другое сообщение WM_MBUTTONUP.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmbuttondown"></a>  CWnd::OnMButtonDown

Платформа вызывает эту функцию члена, когда пользователь нажимает среднюю кнопку мыши.

```
afx_msg void OnMButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON задается, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не нажата.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmbuttonup"></a>  CWnd::OnMButtonUp

Платформа вызывает эту функцию члена, когда пользователь отпускает среднюю кнопку мыши.

```
afx_msg void OnMButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON задается, если левая кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не нажата.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmdiactivate"></a>CWnd:: Онмдиактивате

Платформа вызывает эту функцию члена для деактивируемого дочернего окна и активируемого дочернего окна.

```
afx_msg void OnMDIActivate(
    BOOL bActivate,
    CWnd* pActivateWnd,
    CWnd* pDeactivateWnd);
```

### <a name="parameters"></a>Параметры

*bActivate*<br/>
Значение TRUE, если дочерний элемент активируется, и значение FALSE, если он деактивируется.

*пактиватевнд*<br/>
Содержит указатель на дочернее окно MDI, которое необходимо активировать. При получении с помощью дочернего окна MDI *пактиватевнд* содержит указатель на активируемое дочернее окно. Этот указатель может быть временным и не должен храниться для последующего использования.

*пдеактиватевнд*<br/>
Содержит указатель на дочернее окно MDI, деактивируемое. Этот указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Дочернее окно MDI активируется независимо от окна фрейма MDI. Когда кадр станет активным, дочернее окно, которое было последний раз активировалось с помощью `OnMDIActivate`ного вызова, получает сообщение [WM_NCACTIVATE](#onncactivate) , чтобы нарисовать кадр активного окна и строку заголовка, но не получить другой вызов `OnMDIActivate`.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmeasureitem"></a>  CWnd::OnMeasureItem

Платформа вызывает эту функцию-член платформой для владельца кнопки рисования владельца, поля со списком, списка или пункта меню при создании элемента управления.

```
afx_msg void OnMeasureItem(
    int nIDCtl, LPMEASUREITEMSTRUCT lpMeasureItemStruct);
```

### <a name="parameters"></a>Параметры

*нидктл*<br/>
Идентификатор элемента управления.

*лпмеасуреитемструкт*<br/>
Указывает на структуру данных [меасуреитемструкт](/windows/win32/api/winuser/ns-winuser-measureitemstruct) , которая содержит размеры элемента управления, рисуемого владельцем.

### <a name="remarks"></a>Примечания

Переопределите эту функцию члена и заполните `MEASUREITEMSTRUCT`ную структуру данных, на которую указывает *лпмеасуреитемструкт* и Return. Это информирует окна измерений элемента управления и позволяет Windows обрабатывать взаимодействие пользователя с элементом управления правильно.

Если список или поле со списком создается с [LBS_OWNERDRAWVARIABLE](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) или [CBS_OWNERDRAWVARIABLE](../../mfc/reference/styles-used-by-mfc.md#combo-box-styles) стилем, то платформа вызывает эту функцию для владельца каждого элемента в элементе управления. в противном случае эта функция вызывается один раз.

Windows инициирует вызов `OnMeasureItem` для владельца полей со списком и списков, созданных с помощью стиля ОВНЕРДРАВФИКСЕД, перед отправкой сообщения [WM_INITDIALOG](/windows/win32/dlgbox/wm-initdialog) . В результате, когда владелец получает этот вызов, Windows еще не определил высоту и ширину шрифта, используемого в элементе управления; вызовы функций и вычисления, требующие этих значений, должны выполняться в основной функции приложения или библиотеки.

Если измеряемый элемент является `CMenu`ом, `CListBox` или `CComboBox`ным объектом, вызывается `MeasureItem` виртуальная функция соответствующего класса. Переопределите функцию члена `MeasureItem` соответствующего класса элемента управления, чтобы вычислить и задать размер каждого элемента.

`OnMeasureItem` будет вызываться только в том случае, если класс элемента управления создается во время выполнения или создается с LBS_OWNERDRAWVARIABLE или CBS_OWNERDRAWVARIABLE стиле. Если элемент управления создается редактором диалоговых окон, `OnMeasureItem` не будет вызываться. Это обусловлено тем, что [WM_MEASUREITEM](/windows/win32/Controls/wm-measureitem) сообщение отправляется на ранних этапах процесса создания элемента управления. Если вы поддаете подкласс с помощью `DDX_Control`, `SubclassDlgItem`или `SubclassWindow`, подкласс обычно происходит после процесса создания. Таким образом, невозможно обменять сообщение [WM_MEASUREITEM](/windows/win32/Controls/wm-measureitem) в функции `OnChildNotify` элемента управления, которая является механизмом, используемым MFC для реализации ON_WM_MEASUREITEM_REFLECT.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmenuchar"></a>CWnd:: Онменучар

Платформа вызывает эту функцию-член, когда пользователь нажимает на клавишу, назначенную меню, которая не соответствует ни одной из стандартных назначенных клавиш в текущем меню.

```
afx_msg LRESULT OnMenuChar(
    UINT nChar,
    UINT nFlags,
    CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
В зависимости от параметров сборки указывает символ ANSI или Unicode, который пользователь нажал.

*нфлагс*<br/>
Содержит флаг MF_POPUP, если меню является всплывающим меню. Он содержит флаг MF_SYSMENU, если меню является меню управления.

*пмену*<br/>
Содержит указатель на выбранный `CMenu`. Указатель может быть временным и не должен храниться.

### <a name="return-value"></a>Возвращаемое значение

Слово с высоким порядком возвращаемого значения должно содержать один из следующих кодов команд:

|Значение|Описание|
|-----------|-----------------|
|0|Указывает, что Windows будет отклонять символ, который пользователь нажал, и создает короткий звуковой сигнал на системном докладчике.|
|1|Указывает Windows закрыть текущее меню.|
|2|Информирует окна о том, что младшее слово возвращаемого значения содержит номер элемента для определенного элемента. Этот элемент выбран Windows.|

Слово низкого порядка пропускается, если слово в высоком порядке содержит 0 или 1. Приложения должны обрабатывать это сообщение, если для выбора точечных рисунков, помещенных в меню, используются сочетания клавиш.

### <a name="remarks"></a>Примечания

Он отправляется в `CWnd`, которому принадлежит меню. `OnMenuChar` также вызывается, когда пользователь нажимает клавишу ALT и любой другой ключ, даже если этот ключ не соответствует назначенному символу. В этом случае *пмену* указывает меню, принадлежащее `CWnd`, а *нфлагс* — 0.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmenudrag"></a>CWnd:: Онменудраг

Платформа вызывает эту функцию-член текущего меню перетаскивания, когда пользователь начинает перетаскивать пункт меню.

```
afx_msg UINT OnMenuDrag(
    UINT nPos,
    CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nPos*|окне Позиция индекса элемента меню при начале операции перетаскивания.|
|*пмену*|окне Указатель на объект [кмену](../../mfc/reference/cmenu-class.md) , который содержит пункт меню.|

### <a name="return-value"></a>Возвращаемое значение

|Возвращаемое значение|Значение|
|------------------|-------------|
|MND_CONTINUE|Меню должно оставаться активным. Если мышь освобождена, ее следует игнорировать.|
|MND_ENDMENU|Меню должно быть завершено.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_MENUDRAG](/windows/win32/menurc/wm-menudrag) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmenugetobject"></a>  CWnd::OnMenuGetObject

Платформа вызывает эту функцию-член текущего меню перетаскивания, когда курсор мыши попадает в пункт меню или перемещается от центра элемента к верхней или нижней части элемента.

```
afx_msg UINT OnMenuGetObject(MENUGETOBJECTINFO* pMenuGetObjectInfo);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*пмену*|окне Указатель на структуру [менужетобжектинфо](/windows/win32/api/winuser/ns-winuser-menugetobjectinfo) , содержащую сведения о меню перетаскивания, на котором находится курсор мыши.|

### <a name="return-value"></a>Возвращаемое значение

|Возвращаемое значение|Значение|
|------------------|-------------|
|MNGO_NOERROR|Указатель интерфейса, поддерживающий операции перетаскивания, возвращается в элемент `pvObj` структуры [менужетобжектинфо](/windows/win32/api/winuser/ns-winuser-menugetobjectinfo) . В настоящее время поддерживается только интерфейс [интерфейс IDropTarget](/windows/win32/api/oleidl/nn-oleidl-idroptarget) .|
|MNGO_NOINTERFACE|Интерфейс с поддержкой перетаскивания и перетаскивания не поддерживается.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_MENUGETOBJECT](/windows/win32/menurc/wm-menugetobject) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmenurbuttonup"></a>  CWnd::OnMenuRButtonUp

Платформа вызывает эту функцию-член, когда пользователь отпускает правую кнопку мыши, когда курсор находится над пунктом меню.

```
afx_msg void OnMenuRButtonUp(
    UINT nPos,
    CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nPos*|окне Позиция индекса элемента меню при отпускании правой кнопки мыши.|
|*пмену*|окне Указатель на объект [кмену](../../mfc/reference/cmenu-class.md) , который содержит пункт меню.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_MENURBUTTONUP](/windows/win32/menurc/wm-menurbuttonup) , которое описано в Windows SDK. Сообщение [WM_MENURBUTTONUP](/windows/win32/menurc/wm-menurbuttonup) позволяет приложению предоставить контекстно-зависимое меню для пункта меню, указанного в сообщении.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmenuselect"></a>  CWnd::OnMenuSelect

Если объект `CWnd` связан с меню, `OnMenuSelect` вызывается платформой, когда пользователь выбирает пункт меню.

```
afx_msg void OnMenuSelect(
    UINT nItemID,
    UINT nFlags,
    HMENU hSysMenu);
```

### <a name="parameters"></a>Параметры

*нитемид*<br/>
Определяет выбранный элемент. Если выбранный элемент является пунктом меню, *нитемид* содержит идентификатор пункта меню. Если выбранный элемент содержит всплывающее меню, *нитемид* содержит указатель всплывающего меню, а *хсисмену* содержит маркер главного меню (щелчок по щелчку мышью).

*нфлагс*<br/>
Содержит сочетание следующих флагов меню:

- MF_BITMAP элемент является точечным рисунком.

- MF_CHECKED элемент установлен.

- Элемент MF_DISABLED отключен.

- MF_GRAYED элемент недоступен.

- Элемент MF_MOUSESELECT был выбран с помощью мыши.

- MF_OWNERDRAW элемент является элементом, рисуемым владельцем.

- MF_POPUP элемент содержит всплывающее меню.

- MF_SEPARATOR элемент является разделителем элементов меню.

- MF_SYSMENU элемент содержится в меню управления.

*хсисмену*<br/>
Если *нфлагс* содержит MF_SYSMENU, определяет меню, связанное с сообщением. Если *нфлагс* содержит MF_POPUP, определяет маркер главного меню. Если *нфлагс* не содержит ни MF_SYSMENU, ни MF_POPUP, он не используется.

### <a name="remarks"></a>Примечания

Если *нфлагс* содержит 0xFFFF, а *хсисмену* содержит 0, Windows закрыл меню, так как пользователь нажал клавишу ESC или щелкнул его за пределами меню.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmouseactivate"></a>  CWnd::OnMouseActivate

Платформа вызывает эту функцию-член, когда курсор находится в неактивном окне, и пользователь нажимает кнопку мыши.

```
afx_msg int OnMouseActivate(
    CWnd* pDesktopWnd,
    UINT nHitTest,
    UINT message);
```

### <a name="parameters"></a>Параметры

*пдесктопвнд*<br/>
Указывает указатель на родительское окно верхнего уровня активируемого окна. Указатель может быть временным и не должен храниться.

*нхиттест*<br/>
Указывает код области [проверки попадания](#onnchittest) . Проверка нажатия — это проверка, определяющая положение курсора.

*message*<br/>
Указывает номер сообщения мыши.

### <a name="return-value"></a>Возвращаемое значение

Указывает, следует ли активировать `CWnd` и следует ли отклонять событие мыши. Оно должно иметь одно из следующих значений:

- MA_ACTIVATE активировать `CWnd` объект.

- MA_NOACTIVATE не активировать `CWnd` объект.

- MA_ACTIVATEANDEAT активировать `CWnd` объект и отменить событие мыши.

- MA_NOACTIVATEANDEAT не активировать `CWnd` объект и отменить событие мыши.

### <a name="remarks"></a>Примечания

Реализация по умолчанию передает это сообщение родительскому окну перед любой обработкой. Если родительское окно возвращает значение TRUE, обработка прерывается.

Описание отдельных кодов области проверки попадания см. в описании функции-члена [оннчиттест](#onnchittest) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCAxCtl#9](../../mfc/reference/codesnippet/cpp/cwnd-class_49.cpp)]

##  <a name="onmousehover"></a>  CWnd::OnMouseHover

Платформа вызывает эту функцию-член при наведении курсора на клиентскую область окна в течение периода времени, указанного в предыдущем вызове метода [TrackMouseEven](/windows/win32/api/winuser/nf-winuser-trackmouseevent).

```
afx_msg void OnMouseHover(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нфлагс*|окне Побитовое сочетание (или) флагов, указывающих, какие клавиши-модификаторы нажаты. Например, флаг MK_CONTROL указывает, что нажата клавиша CTRL.|
|*point*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла клиентской области.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_MOUSEHOVER](/windows/win32/inputdev/wm-mousehover) , которое описано в Windows SDK.

Параметр *нфлагс* может представлять собой сочетание клавиш-модификаторов, перечисленных в следующей таблице. Дополнительные сведения см. в статье [о вводе](/windows/win32/inputdev/about-mouse-input)с помощью мыши.

|Клавиша модификатора|Описание|
|------------------|-----------------|
|MK_CONTROL|Нажата клавиша CTRL.|
|MK_LBUTTON|Нажата левая кнопка мыши.|
|MK_MBUTTON|Нажата средняя кнопка мыши.|
|MK_RBUTTON|Нажата правая кнопка мыши.|
|MK_SHIFT|Нажата клавиша SHIFT.|
|MK_XBUTTON1|Нажата кнопка мыши XBUTTON1 в Microsoft IntelliMouse.|
|MK_XBUTTON2|Нажата кнопка мыши XBUTTON2 в Microsoft IntelliMouse.|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmousehwheel"></a>  CWnd::OnMouseHWheel

Платформа вызывает этот элемент, когда текущее окно состоит из диспетчер окон рабочего стола (DWM), и это окно развернуто.

```
afx_msg void OnMouseHWheel(
    UINT nFlags,
    short zDelta,
    CPoint pt);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нфлагс*|окне Побитовое сочетание (или) флагов, указывающих, какие клавиши-модификаторы нажаты. Например, флаг MK_CONTROL указывает, что нажата клавиша CTRL.<br /><br /> Список флагов см. в подразделе "Параметры сообщения" статьи [о вводе](/windows/win32/inputdev/about-mouse-input)с помощью мыши.|
|*зделта*|окне Указывает расстояние, на которое вращается колесико, выраженное в множителях или подразделениях WHEEL_DELTA, 120. Положительное значение указывает, что колесо поворачивается вправо; отрицательное значение указывает, что колесико мыши было повернуто влево.|
|*pt*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла клиентской области.|

### <a name="remarks"></a>Примечания

Этот метод получает сообщение уведомления [WM_MOUSEHWHEEL](/windows/win32/inputdev/wm-mousehwheel) , которое описано в Windows SDK. Это сообщение отправляется в окно, которое находится в фокусе, когда колесо горизонтальной прокрутки мыши вращается или поворачивается.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmouseleave"></a>  CWnd::OnMouseLeave

Платформа вызывает эту функцию-член, когда курсор покидает клиентскую область окна, указанное в предыдущем вызове метода [TrackMouseEven](/windows/win32/api/winuser/nf-winuser-trackmouseevent).

```
afx_msg void OnMouseLeave();
```

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_MOUSELEAVE](/windows/win32/inputdev/wm-mouseleave) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmousemove"></a>  CWnd::OnMouseMove

Платформа вызывает эту функцию члена при перемещении курсора мыши.

```
afx_msg void OnMouseMove(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON задается, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не нажата.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

Если мышь не захвачена, WM_MOUSEMOVE сообщение получает объект `CWnd` под курсором мыши; в противном случае сообщение перейдет в окно, которое захватило мышь.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmousewheel"></a>  CWnd::OnMouseWheel

Платформа вызывает эту функцию-член, так как пользователь поворачивает колесико мыши и встречает следующее деление колесика.

```
afx_msg BOOL OnMouseWheel(
    UINT nFlags,
    short zDelta,
    CPoint pt);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON задается, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не нажата.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*зделта*<br/>
Указывает расстояние повернутого. Значение *зделта* выражается в нескольких единицах или в подразделениях WHEEL_DELTA, что 120. Значение меньше нуля означает поворот назад (к пользователю), а значение больше нуля означает вращение вперед (от пользователя). Пользователь может отменить этот ответ, изменив параметр Wheel в программном обеспечении мыши. Дополнительные сведения об этом параметре см. в разделе "Примечания".

*pt*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если прокрутка колесика мыши включена; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если не переопределено, `OnMouseWheel` вызывает значение по умолчанию [WM_MOUSEWHEEL](/windows/win32/inputdev/wm-mousewheel). Windows автоматически направляет сообщение в элемент управления или дочернее окно, которое имеет фокус. Функция Win32 [дефвиндовпрок](/windows/win32/api/winuser/nf-winuser-defwindowprocw) распространяет сообщение вверх по родительской цепочке в окно, которое его обрабатывает.

Параметр *зделта* является кратным WHEEL_DELTA, который задается в 120. Это значение является пороговым значением действия, которое необходимо выполнить, и одним из таких действий (например, прокруткой на одно деление вперед) должно быть для каждой разницы.

Для WHEEL_DELTA было задано значение 120, разрешающее колеса с более высоким разрешением, такие как свободное колесо поворота без раскрутки. Колесико более точного разрешения отправляет больше сообщений на поворот, но каждое сообщение имеет меньшее разностное значение. Чтобы использовать такое колесо, добавьте входящие значения *зделта* до тех пор, пока не будет достигнуто WHEEL_DELTA (чтобы получить тот же ответ для заданного сдвига), или прокрутите часть строк в ответ на более частые сообщения. Можно также выбрать гранулярность прокрутки и накапливать разности до тех пор, пока не будет достигнут WHEEL_DELTA.

Переопределите эту функцию-член, чтобы обеспечить собственное поведение прокрутки колесика мыши.

> [!NOTE]
> `OnMouseWheel` обрабатывает сообщения для Windows NT 4,0 и более поздних версий. Для обработки сообщений Windows 95/98 или Windows NT 3,51 Используйте [онрегистередмаусевхил](#onregisteredmousewheel).

##  <a name="onmove"></a>  CWnd::OnMove

Платформа вызывает эту функцию члена после перемещения объекта `CWnd`.

```
afx_msg void OnMove(
    int x,
    int y);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает новое положение координаты x в левом верхнем углу клиентской области. Это новое расположение задается в экранных координатах для перекрывающихся и всплывающих окон и координат родительского клиента для дочерних окон.

*y*<br/>
Указывает новое положение координаты y верхнего левого угла клиентской области. Это новое расположение задается в экранных координатах для перекрывающихся и всплывающих окон и координат родительского клиента для дочерних окон.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onmoving"></a>CWnd:: onmoving

Платформа вызывает эту функцию-член, пока пользователь перемещает объект `CWnd`.

```
afx_msg void OnMoving(
    UINT nSide,
    LPRECT lpRect);
```

### <a name="parameters"></a>Параметры

*нсиде*<br/>
Граница перемещаемого окна.

*лпрект*<br/>
Адрес структуры [крект](../../atl-mfc-shared/reference/crect-class.md) или [Rect](/windows/win32/api/windef/ns-windef-rect) , которая будет содержать координаты элемента.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncactivate"></a>CWnd:: Оннкактивате

Платформа вызывает эту функцию члена, когда неклиентскую область необходимо изменить, чтобы указать активное или неактивное состояние.

```
afx_msg BOOL OnNcActivate(BOOL bActive);
```

### <a name="parameters"></a>Параметры

*бактиве*<br/>
Указывает, когда нужно изменить строку заголовка или значок, чтобы они указывали на активное или неактивное состояние. Параметр *бактиве* имеет значение true, если должен быть нарисован активный заголовок или значок. Значение FALSE для неактивного заголовка или значка.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если Windows будет продолжать обработку по умолчанию; 0, чтобы запретить деактивацию строки заголовка или значка.

### <a name="remarks"></a>Примечания

Реализация по умолчанию выводит строку заголовка и текст строки заголовка в своих активных цветах, если *бактиве* имеет значение true и неактивные цвета, если *бактиве* имеет значение false.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onnccalcsize"></a>  CWnd::OnNcCalcSize

Платформа вызывает эту функцию члена, когда необходимо вычислить размер и расположение клиентской области.

```
afx_msg void OnNcCalcSize(
    BOOL bCalcValidRects,
    NCCALCSIZE_PARAMS* lpncsp);
```

### <a name="parameters"></a>Параметры

*бкалквалидректс*<br/>
Указывает, должно ли приложение указывать, какая часть клиентской области содержит действительные сведения. Windows скопирует действительные данные в указанную область в новой клиентской области. Если этот параметр имеет значение TRUE, приложение должно указать, какая часть клиентской области является допустимой.

*лпнксп*<br/>
Указывает на [NCCALCSIZE_PARAMS](/windows/win32/api/winuser/ns-winuser-nccalcsize_params) структуру данных, содержащую сведения, которые приложение может использовать для вычисления нового размера и позиции `CWnd` прямоугольника (включая клиентскую область, границы, заголовок, полосы прокрутки и т. д.).

### <a name="remarks"></a>Примечания

Обрабатывая это сообщение, приложение может управлять содержимым клиентской области окна при изменении размера или расположения окна.

Независимо от значения *бкалквалидректс*, первый прямоугольник в массиве, заданный `rgrc` структурой элемента структуры `NCCALCSIZE_PARAMS`, содержит координаты окна. Для дочернего окна координаты задаются относительно клиентской области родительского окна. Для окон верхнего уровня координаты являются экранными координатами. Приложение должно изменить `rgrc[0]` прямоугольника, чтобы отразить размер и расположение клиентской области.

Прямоугольники `rgrc[1]` и `rgrc[2]` допустимы только в том случае, если *бкалквалидректс* имеет значение true. В этом случае прямоугольник `rgrc[1]` содержит координаты окна до его перемещения или изменения размера. Прямоугольник `rgrc[2]` содержит координаты клиентской области окна перед перемещением окна. Все координаты задаются относительно родительского окна или экрана.

Реализация по умолчанию вычисляет размер клиентской области на основе характеристик окна (наличие полос прокрутки, меню и т. д.) и помещает результат в *лпнксп*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onnccreate"></a>  CWnd::OnNcCreate

Платформа вызывает эту функцию-член до появления сообщения [WM_CREATE](#oncreate) при первом создании объекта `CWnd`.

```
afx_msg BOOL OnNcCreate(LPCREATESTRUCT lpCreateStruct);
```

### <a name="parameters"></a>Параметры

*лпкреатеструкт*<br/>
Указывает на структуру данных [CREATESTRUCT](/windows/win32/api/winuser/ns-winuser-createstructw) для `CWnd`.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если создана неклиентская область. Это значение равно 0, если возникает ошибка. в этом случае функция `Create` возвратит **ошибку** .

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncdestroy"></a>  CWnd::OnNcDestroy

Вызывается платформой при уничтожении неклиентской области и является последней функцией-членом, вызываемой при уничтожении окна Windows.

```
afx_msg void OnNcDestroy();
```

### <a name="remarks"></a>Примечания

Реализация по умолчанию выполняет некоторую очистку, а затем вызывает виртуальную функцию члена [постнкдестрой](#postncdestroy).

Переопределите `PostNcDestroy`, если хотите выполнить собственную очистку, например **удалить эту** операцию. При переопределении `OnNcDestroy`необходимо вызвать `OnNcDestroy` в базовом классе, чтобы освободить память, внутренне выделенную для окна.

##  <a name="onnchittest"></a>  CWnd::OnNcHitTest

Платформа вызывает эту функцию-член для объекта `CWnd`, содержащего курсор (или объект `CWnd`, который использовал функцию-член [сеткаптуре](#setcapture) для захвата ввода с помощью мыши) при каждом перемещении мыши.

```
afx_msg LRESULT OnNcHitTest(CPoint point);
```

### <a name="parameters"></a>Параметры

*point*<br/>
Содержит координаты x и y курсора. Эти координаты всегда являются экранными координатами.

### <a name="return-value"></a>Возвращаемое значение

Одно из перечислимых значений, проверяемых нажатием кнопки мыши. Список значений см. в разделе [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) .

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onnclbuttondblclk"></a>CWnd:: Оннклбуттондблклк

Платформа вызывает эту функцию-член, когда пользователь дважды щелкает левую кнопку мыши, когда курсор находится внутри неклиентской области `CWnd`.

```
afx_msg void OnNcLButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора. Список значений см. в разделе [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) .

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

При необходимости отправляется [WM_SYSCOMMAND](#onsyscommand) сообщение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onnclbuttondown"></a>CWnd:: Оннклбуттондовн

Платформа вызывает эту функцию-член, когда пользователь нажимает левую кнопку мыши, когда курсор находится внутри неклиентской области объекта `CWnd`.

```
afx_msg void OnNcLButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора. Список значений см. в разделе [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) .

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

При необходимости отправляется [WM_SYSCOMMAND](#onsyscommand) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражая параметры, полученные платформой при получении сообщения. При вызове реализации этой функции базового класса эта реализация будет использовать параметры, изначально переданные вместе с сообщением, а не параметры, предоставленные функции.

##  <a name="onnclbuttonup"></a>CWnd:: Оннклбуттонуп

Платформа вызывает эту функцию-член, когда пользователь отпускает левую кнопку мыши, пока курсор находится внутри неклиентской области.

```
afx_msg void OnNcLButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора. Список значений см. в разделе [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) .

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

При необходимости отправляется [WM_SYSCOMMAND](#onsyscommand) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncmbuttondblclk"></a>  CWnd::OnNcMButtonDblClk

Платформа вызывает эту функцию-член, когда пользователь дважды щелкает среднюю кнопку мыши, когда курсор находится внутри неклиентской области.

```
afx_msg void OnNcMButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора.

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncmbuttondown"></a>  CWnd::OnNcMButtonDown

Платформа вызывает эту функцию-член, когда пользователь нажимает среднюю кнопку мыши, когда курсор находится внутри неклиентской области.

```
afx_msg void OnNcMButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора.

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncmbuttonup"></a>  CWnd::OnNcMButtonUp

Платформа вызывает эту функцию-член, когда пользователь отпускает среднюю кнопку мыши, когда курсор находится внутри неклиентской области.

```
afx_msg void OnNcMButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора.

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncmousehover"></a>  CWnd::OnNcMouseHover

Платформа вызывает эту функцию-член при наведении курсора на неклиентскую область окна в течение периода времени, указанного в предыдущем вызове метода [TrackMouseEven](/windows/win32/api/winuser/nf-winuser-trackmouseevent).

```
afx_msg void OnNcMouseHover(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нхиттест*|окне Значение проверки попадания, возвращаемое функцией [CWnd::D ефвиндовпрок](#defwindowproc) в результате обработки сообщения [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) .|
|*point*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла экрана.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_NCMOUSEHOVER](/windows/win32/inputdev/wm-ncmousehover) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncmouseleave"></a>  CWnd::OnNcMouseLeave

Платформа вызывает эту функцию-член, когда курсор оставляет неклиентскую область окна, указанную в предыдущем вызове метода [TrackMouseEven](/windows/win32/api/winuser/nf-winuser-trackmouseevent).

```
afx_msg void OnNcMouseLeave();
```

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_NCMOUSELEAVE](/windows/win32/inputdev/wm-ncmouseleave) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncmousemove"></a>  CWnd::OnNcMouseMove

Платформа вызывает эту функцию-член, когда курсор перемещается внутри неклиентской области.

```
afx_msg void OnNcMouseMove(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора.

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

При необходимости отправляется [WM_SYSCOMMAND](#onsyscommand) сообщение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncpaint"></a>CWnd:: Оннкпаинт

Платформа вызывает эту функцию члена, когда неклиентская область должна быть окрашена.

```
afx_msg void OnNcPaint();
```

### <a name="remarks"></a>Примечания

Реализация по умолчанию закрашивает рамку окна.

Приложение может переопределить этот вызов и закрасить собственный пользовательский фрейм окна. Область обрезки всегда прямоугольная, даже если форма рамки изменена.

##  <a name="onncrbuttondblclk"></a>  CWnd::OnNcRButtonDblClk

Платформа вызывает эту функцию-член, когда пользователь дважды щелкает правую кнопку мыши, когда курсор находится внутри неклиентской области `CWnd`.

```
afx_msg void OnNcRButtonDblClk(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора.

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncrbuttondown"></a>CWnd:: Оннкрбуттондовн

Платформа вызывает эту функцию-член, когда пользователь нажимает правую кнопку мыши, когда курсор находится внутри неклиентской области.

```
afx_msg void OnNcRButtonDown(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора.

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncrbuttonup"></a>  CWnd::OnNcRButtonUp

Платформа вызывает эту функцию-член, когда пользователь отпускает правую кнопку мыши, когда курсор находится внутри неклиентской области.

```
afx_msg void OnNcRButtonUp(
    UINT nHitTest,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нхиттест*<br/>
Указывает [код проверки попадания](#onnchittest). Проверка нажатия — это проверка, определяющая положение курсора.

*point*<br/>
Задает `CPoint` объект, содержащий экранные координаты x и y позиции курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла экрана.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncrenderingchanged"></a>CWnd:: Оннкрендерингчанжед

Платформа вызывает этот элемент при изменении политики отрисовки неклиентской области.

```
afx_msg void OnNcRenderingChanged(BOOL bIsRendering);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*бисрендеринг*|окне TRUE, если отрисовка диспетчер окон рабочего стола (DWM) включена для неклиентской области окна; Значение FALSE, если отрисовка отключена.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_DWMNCRENDERINGCHANGED](/windows/win32/dwm/wm-dwmncrenderingchanged) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncxbuttondblclk"></a>  CWnd::OnNcXButtonDblClk

Платформа вызывает эту функцию-член, когда пользователь дважды щелкает XBUTTON1 или XBUTTON2, когда курсор находится в неклиентской области окна.

```
void OnNcXButtonDblClk(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нхиттест*|окне Значение проверки попадания, возвращаемое функцией [CWnd::D ефвиндовпрок](#defwindowproc) в результате обработки сообщения [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) .|
|*нбуттон*|окне Значение XBUTTON1, если первая кнопка Microsoft IntelliMouse X нажата двойным щелчком, или XBUTTON2, если дважды щелкнуть вторую кнопку X.|
|*point*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла клиентской области.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_XBUTTONDBLCLK](/windows/win32/inputdev/wm-xbuttondblclk) , которое описано в Windows SDK. Это сообщение отправляется в окно, содержащее курсор. Если окно захвачено мышью, это сообщение не отправляется.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncxbuttondown"></a>  CWnd::OnNcXButtonDown

Платформа вызывает эту функцию-член, когда пользователь нажимает XBUTTON1 или XBUTTON2 мыши, когда курсор находится в неклиентской области окна.

```
afx_msg void OnNcXButtonDown(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нхиттест*|окне Значение проверки попадания, возвращаемое функцией [CWnd::D ефвиндовпрок](#defwindowproc) в результате обработки сообщения [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) .|
|*нбуттон*|окне Значение XBUTTON1, если была нажата первая кнопка мыши или XBUTTON2 при нажатии второй кнопки X.|
|*point*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла экрана.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_NCXBUTTONDOWN](/windows/win32/inputdev/wm-ncxbuttondown) , которое описано в Windows SDK. Это сообщение отправляется в окно, содержащее курсор. Если окно захвачено мышью, это сообщение не отправляется.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onncxbuttonup"></a>  CWnd::OnNcXButtonUp

Платформа вызывает эту функцию-член, когда пользователь отпускает XBUTTON1 или XBUTTON2 мыши, когда курсор находится в неклиентской области окна.

```
afx_msg void OnNcXButtonUp(
    short nHitTest,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нхиттест*|окне Значение проверки попадания, возвращаемое функцией [CWnd::D ефвиндовпрок](#defwindowproc) в результате обработки сообщения [WM_NCHITTEST](/windows/win32/inputdev/wm-nchittest) .|
|*нбуттон*|окне Значение XBUTTON1, если первая кнопка мыши была отжата, или XBUTTON2 при отпускании второй кнопки X.|
|*point*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла экрана.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_NCXBUTTONUP](/windows/win32/inputdev/wm-ncxbuttonup) , которое описано в Windows SDK. Это сообщение отправляется в окно, содержащее курсор. Если окно захвачено мышью, это сообщение не отправляется.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onnextmenu"></a>  CWnd::OnNextMenu

Платформа вызывает эту функцию-член, когда клавиша со стрелкой вправо или влево используется для переключения между строкой меню и системным меню.

```
afx_msg void OnNextMenu(
    UINT nKey,
    LPMDINEXTMENU lpMdiNextMenu);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нкэй*|окне Побитовое сочетание (или) флагов, указывающих, какие клавиши-модификаторы нажаты. Например, флаг MK_CONTROL указывает, что нажата клавиша CTRL.<br /><br /> Список флагов см. в подразделе "Параметры сообщения" статьи [о вводе](/windows/win32/inputdev/about-mouse-input)с помощью мыши.|
|*лпмдинекстмену*|окне Указатель на структуру [мдинекстмену](/windows/win32/api/winuser/ns-winuser-mdinextmenu) , содержащую сведения о меню, которое должно быть активировано.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_UNINITMENUPOPUP](/windows/win32/menurc/wm-uninitmenupopup) , которое описано в Windows SDK. В ответ на это сообщение приложение может задать `hmenuNext` элемент структуры [мдинекстмену](/windows/win32/api/winuser/ns-winuser-mdinextmenu) , чтобы указать меню, к которому будет переключаться, а `hwndNext` элемент, чтобы указать окно для получения сообщений уведомления меню.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onnotify"></a>CWnd:: OnNotify

Платформа вызывает эту функцию-член для информирования родительского окна элемента управления о том, что событие произошло в элементе управления или что элементу управления требуются какие-либо сведения.

```
virtual BOOL OnNotify(
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*wParam*<br/>
Определяет элемент управления, который отправляет сообщение, если сообщение получено из элемента управления. В противном случае *wParam* имеет значение 0.

*lParam*<br/>
Указатель на структуру сообщения уведомления (`NMHDR`), которая содержит код уведомления и дополнительные сведения. Для некоторых сообщений с уведомлениями этот параметр указывает на большую структуру, в которой структура `NMHDR` в качестве первого элемента.

*пресулт*<br/>
Указатель на переменную LRESULT, в которой будет храниться код результата, если сообщение обрабатывается.

### <a name="return-value"></a>Возвращаемое значение

Приложение возвращает ненулевое значение, если обрабатывает это сообщение; в противном случае — 0.

### <a name="remarks"></a>Примечания

`OnNotify` обрабатывает схему сообщений для управляющих уведомлений.

Переопределите эту функцию члена в производном классе, чтобы она обрабатывала сообщение WM_NOTIFY. Переопределение не будет обрабатывать схему сообщений, если не вызывается базовый класс `OnNotify`.

Дополнительные сведения о WM_NOTIFY сообщении см. в статьях технические примечания 61 (TN061), [ON_NOTIFY и WM_NOTIFY сообщения](../../mfc/tn061-on-notify-and-wm-notify-messages.md). Вы также можете заинтересовать соответствующие разделы, описанные в [разделах Управление разделами](../../mfc/controls-mfc.md)и TN062, [отражение сообщений для элементов управления Windows](../../mfc/tn062-message-reflection-for-windows-controls.md).

##  <a name="onnotifyformat"></a>  CWnd::OnNotifyFormat

Платформа вызывает эту функцию члена, чтобы определить, принимает ли текущее окно структуры ANSI или Unicode в сообщении уведомления WM_NOTIFY.

```
afx_msg UINT OnNotifyFormat(
    CWnd* pWnd,
    UINT nCommand);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Приводится*|окне Указатель на объект `CWnd`, представляющий окно, отправляющее сообщение [WM_NOTIFY](/windows/win32/controls/wm-notify) .<br /><br /> Этот параметр является указателем на элемент управления, если параметр *nвыполненная команда* имеет значение NF_QUERY, или указатель на родительское окно элемента управления, если *nвыполненная команда* имеет NF_REQUERY.|
|*Nвыполненная команда*|окне Значение команды, специализирующее WM_NOTIFY сообщение. Допустимые значения:<br /><br /> - NF_QUERY -<br />     Сообщение — это запрос, позволяющий определить, следует ли использовать в сообщениях WM_NOTIFY структуры ANSI или Юникод. Это сообщение отправляется из элемента управления в его родительское окно во время создания элемента управления и в ответ на NF_REQUERY форму этого сообщения.<br />-NF_REQUERY —<br />     Сообщение является запросом элемента управления на отправку NF_QUERY формы этого сообщения родительскому окну. Этот запрос отправляется из родительского окна и запрашивает у элемента управления возможность повторного запроса родителя о типе структуры, используемой в сообщениях WM_NOTIFY. Если параметр *nвыполненная команда* имеет значение NF_REQUERY, то возвращаемым значением является результат операции Requery.|

### <a name="return-value"></a>Возвращаемое значение

|Возвращаемое значение|Значение|
|------------------|-------------|
|NFR_ANSI|Структуры ANSI следует использовать в сообщениях WM_NOTIFY, отправляемых элементом управления.|
|NFR_UNICODE|Структуры Юникода следует использовать в сообщениях WM_NOTIFY, отправляемых элементом управления.|
|0|Произошла ошибка.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_NOTIFYFORMAT](/windows/win32/Controls/wm-notifyformat) , которое описано в Windows SDK. WM_NOTIFY сообщения отправляются из общего элемента управления в родительское окно, а от родительского окна к общему элементу управления.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onpaint"></a>CWnd:: onpain

Платформа вызывает эту функцию-член, когда Windows или приложение выполняет запрос на перерисовку части окна приложения.

```
afx_msg void OnPaint();
```

### <a name="remarks"></a>Примечания

[WM_PAINT](/windows/win32/gdi/the-wm-paint-message) сообщение отправляется при вызове функции-члена [упдатевиндов](#updatewindow) или [редраввиндов](#redrawwindow) .

Окно может получить внутренние сообщения о прорисовке в результате вызова функции-члена `RedrawWindow` с установленным флагом RDW_INTERNALPAINT. В этом случае в окне может отсутствовать регион обновления. Приложение должно вызывать функцию члена [жетупдатерект](#getupdaterect) , чтобы определить, имеет ли окно область обновления. Если `GetUpdateRect` возвращает 0, приложение не должно вызывать функции членов [бегинпаинт](#beginpaint) и [ендпаинт](#endpaint) .

Ответственность за проверку всех необходимых внутренних функций перерисовки или обновления осуществляется с помощью внутренних структур данных для каждого WM_PAINT сообщения, поскольку WM_PAINT сообщение могло быть вызвано как недопустимой областью, так и вызовом `RedrawWindow` функции-члена с установленным флагом RDW_INTERNALPAINT.

Внутреннее WM_PAINT сообщение отправляется в Windows только один раз. После того как внутреннее сообщение WM_PAINT отправляется в окно с помощью функции-члена `UpdateWindow`, дальнейшие WM_PAINT сообщения не будут отправляться или отправлены до тех пор, пока окно не станет недействительным или пока не будет вызвана `RedrawWindow` функция-член с установленным флагом RDW_INTERNALPAINT.

Сведения о подготовке изображения в приложениях для обработки документов и представлений см. в разделе [CView:: OnDraw](../../mfc/reference/cview-class.md#ondraw).

Дополнительные сведения об использовании `WM_Paint`см. в следующих разделах Windows SDK.

- [Сообщение WM_PAINT](/windows/win32/gdi/the-wm-paint-message)

- [Использование сообщения WM_PAINT](/windows/win32/gdi/using-the-wm-paint-message)

##  <a name="onpaintclipboard"></a>  CWnd::OnPaintClipboard

Функция-член `OnPaintClipboard` владельца буфера обмена вызывается средством просмотра буфера обмена, когда владелец буфера обмена помещает данные в буфер обмена в формате CF_OWNERDISPLAY и клиентской области средства просмотра буфера обмена требуется перерисовка.

```
afx_msg void OnPaintClipboard(
    CWnd* pClipAppWnd,
    HGLOBAL hPaintStruct);
```

### <a name="parameters"></a>Параметры

*пклипаппвнд*<br/>
Определяет указатель на окно приложения буфера обмена. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*хпаинтструкт*<br/>
Определяет структуру данных [PAINTSTRUCT](/windows/win32/api/winuser/ns-winuser-paintstruct) , которая определяет, какая часть клиентской области предназначена для рисования.

### <a name="remarks"></a>Примечания

Чтобы определить, требуется ли перерисовка всей клиентской области или только ее части, владелец буфера обмена должен сравнить размеры области рисования, заданной в элементе `rcpaint` структуры `PAINTSTRUCT` с измерениями, заданными в самой последней функции члена [OnSizeClipboard](#onsizeclipboard).

`OnPaintClipboard` следует использовать функцию Windows [глобаллокк](/windows/win32/api/winbase/nf-winbase-globallock) , чтобы заблокировать память, содержащую `PAINTSTRUCT` структуру данных, и разблокировать эту память с помощью функции [глобалунлокк](/windows/win32/api/winbase/nf-winbase-globalunlock) Windows перед ее выходом.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onpalettechanged"></a>  CWnd::OnPaletteChanged

Платформа вызывает эту функцию-член для всех окон верхнего уровня после того, как окно с фокусом ввода реализовало логическую палитру, тем самым изменяя системную палитру.

```
afx_msg void OnPaletteChanged(CWnd* pFocusWnd);
```

### <a name="parameters"></a>Параметры

*пфокусвнд*<br/>
Указывает указатель на окно, вызвавшее изменение системной палитры. Указатель может быть временным и не должен храниться.

### <a name="remarks"></a>Примечания

Этот вызов позволяет окну без фокуса ввода, которое использует цветовую палитру для реализации своих логических палитр и обновления его клиентской области.

Функция-член `OnPaletteChanged` вызывается для всех окон верхнего и перекрытого уровня, включая те, которые изменили системную палитру и вызвали отправку WM_PALETTECHANGED сообщения. Если в любом дочернем окне используется цветовая палитра, это сообщение должно быть передано в него.

Чтобы избежать бесконечного цикла, окно не должно понимать его палитру, если не определит, что *пфокусвнд* не содержит указатель на себя.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onpaletteischanging"></a>CWnd:: Онпалеттеисчангинг

Платформа вызывает эту функцию-член для информирования приложений о том, что приложение будет выполнять свою логическую палитру.

```
afx_msg void OnPaletteIsChanging(CWnd* pRealizeWnd);
```

### <a name="parameters"></a>Параметры

*преализевнд*<br/>
Указывает окно, которое собирается реализовать логическую палитру.

### <a name="remarks"></a>Примечания

Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onparentnotify"></a>CWnd:: Онпарентнотифи

Родительская `OnParentNotify` функция-член вызывается платформой, когда ее дочернее окно создается или уничтожается, или когда пользователь нажимает кнопку мыши, когда курсор находится над дочерним окном.

```
afx_msg void OnParentNotify(
    UINT message,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает событие, для которого уведомляется родительский элемент, и идентификатор дочернего окна. Событие является неупорядоченным словом *сообщения*. Если событие имеет значение WM_CREATE или WM_DESTROY, то в качестве *сообщения* о дочернем окне используется идентификатор его старшего слова. в противном случае слово с высоким порядком не определено. Событие (слово *Message*в низком порядке) может быть любым из следующих значений:

- WM_CREATE создается дочернее окно.

- WM_DESTROY, что дочернее окно уничтожается.

- WM_LBUTTONDOWN пользователь поместил указатель мыши на дочернее окно и щелкнул левую кнопку мыши.

- WM_MBUTTONDOWN пользователь поместил указатель мыши на дочернее окно и щелкнул среднюю кнопку мыши.

- WM_RBUTTONDOWN пользователь поместил указатель мыши на дочернее окно и щелкнул правой кнопкой мыши.

*lParam*<br/>
Если событие (неупорядоченное слово) *сообщения* имеет WM_CREATE или WM_DESTROY, *lParam* задает маркер окна дочернего окна; в противном случае *lParam* содержит координаты x и y курсора. Координата x находится в младшем слове, а координата y — в слове высокого порядка.

### <a name="remarks"></a>Примечания

При создании дочернего окна система вызывает `OnParentNotify` непосредственно перед [созданием](#create) функции-члена, которая создает окно. При уничтожении дочернего окна система вызывает `OnParentNotify` до того, как будет выполнена обработка для уничтожения окна.

`OnParentNotify` вызывается для всех окон-предков дочернего окна, включая окно верхнего уровня.

Все дочерние окна, кроме тех, которые имеют стиль [WS_EX_NOPARENTNOTIFY](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) , отправляют это сообщение в родительские окна. По умолчанию дочерние окна в диалоговом окне имеют стиль WS_EX_NOPARENTNOTIFY, если только дочернее окно не было создано без этого стиля путем вызова функции-члена [креатикс](#createex) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onpowerbroadcast"></a>  CWnd::OnPowerBroadcast

Платформа вызывает эту функцию-член при возникновении события управления питанием.

```
afx_msg UINT OnPowerBroadcast(
    UINT nPowerEvent,
    UINT nEventData);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нповеревент*|окне Событие управления питанием.|
|*невентдата*|окне Данные, относящиеся к конкретному событию.|

### <a name="return-value"></a>Возвращаемое значение

Если событие является запросом, возвратите значение TRUE, чтобы предоставить запрос, или BROADCAST_QUERY_DENY, чтобы отклонить запрос.

### <a name="remarks"></a>Примечания

Этот метод получает [WM_POWERBROADCAST](/windows/win32/Power/wm-powerbroadcast) сообщение, описанное в Windows SDK.

Параметр *нповеревент* указывает такие события, как "батарея разряжена", состояние питания изменилось, разрешение на операцию приостановки запрошено или запрещено, операция возобновляется автоматически после события, система приостанавливает операцию или возобновляет работу после приостановки. Параметр *невентдата* обычно не используется. Дополнительные сведения см. в описании параметров *wParam* и *lParam* сообщения [WM_POWERBROADCAST](/windows/win32/Power/wm-powerbroadcast) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onquerydragicon"></a>CWnd:: Онкуеридрагикон

Платформа вызывает эту функцию-член с помощью сворачивания (значка) окна без значка, определенного для его класса.

```
afx_msg HCURSOR OnQueryDragIcon();
```

### <a name="return-value"></a>Возвращаемое значение

Значение даублеворд, содержащее маркер курсора или значка в младшем слове. Курсор или значок должен быть совместим с разрешением видеодрайвера. Если приложение возвращает значение NULL, система отображает курсор по умолчанию. Возвращаемое значение по умолчанию — NULL.

### <a name="remarks"></a>Примечания

Система выполняет этот вызов, чтобы получить курсор, который будет отображаться, когда пользователь перетаскивает окно в режиме сворачивания. Если приложение возвращает маркер значка или курсора, система преобразует его в черный и белый цвет. Если приложение возвращает маркер, этот маркер должен обозначать монохромный курсор или значок, совместимый с разрешением видеодрайвера. Приложение может вызывать функции-члены [CWinApp:: лоадкурсор](../../mfc/reference/cwinapp-class.md#loadcursor) или [CWinApp:: лоадикон](../../mfc/reference/cwinapp-class.md#loadicon) для загрузки курсора или значка из ресурсов в своем исполняемом файле и для получения этого маркера.

##  <a name="onqueryendsession"></a>  CWnd::OnQueryEndSession

Платформа вызывает эту функцию члена, когда пользователь выбирает завершение сеанса Windows или когда приложение вызывает функцию Windows [екситвиндовс](/windows/win32/api/winuser/nf-winuser-exitwindows) .

```
afx_msg BOOL OnQueryEndSession();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если приложение может быть легко выключено; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если какое-либо приложение возвращает 0, сеанс Windows не завершается. Windows прекращает вызов `OnQueryEndSession` как только одно приложение возвращает 0, и отправляет [WM_ENDSESSION](#onendsession) сообщение с параметром false для любого приложения, которое уже вернуло ненулевое значение.

##  <a name="onquerynewpalette"></a>  CWnd::OnQueryNewPalette

Платформа вызывает эту функцию-член, когда объект `CWnd` собирается получить фокус ввода, давая `CWnd` возможность реализовать логическую палитру при получении фокуса.

```
afx_msg BOOL OnQueryNewPalette();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если `CWnd` реализует логическую палитру; в противном случае — 0.

##  <a name="onqueryopen"></a>  CWnd::OnQueryOpen

Платформа вызывает эту функцию-член, когда объект `CWnd` свернется и пользователь запрашивает, что `CWnd` быть восстановлен до минимального размера и расположения.

```
afx_msg BOOL OnQueryOpen();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если значок можно открыть, или значение 0, чтобы запретить открытие значка.

### <a name="remarks"></a>Примечания

В `OnQueryOpen``CWnd` не должно выполнять никаких действий, которые могут вызвать изменение активации или фокуса (например, создание диалогового окна).

##  <a name="onqueryuistate"></a>  CWnd::OnQueryUIState

Вызывается, чтобы извлечь состояние пользовательского интерфейса окна.

```
afx_msg UINT OnQueryUIState();
```

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение равно NULL, если индикаторы фокуса и сочетания клавиш видимы. В противном случае возвращаемое значение может быть одним или несколькими следующими значениями:

- UISF_HIDEFOCUS индикаторы фокуса скрыты.

- UISF_HIDEACCEL сочетаний клавиш скрыты.

- UISF_ACTIVE Windows XP: Элемент управления должен быть нарисован в стиле, используемом для активных элементов управления.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность [WM_QUERYUISTATE](/windows/win32/menurc/wm-queryuistate) сообщения, как описано в Windows SDK.

##  <a name="onrawinput"></a>  CWnd::OnRawInput

Платформа вызывает эту функцию члена, когда текущее окно получает необработанные входные данные.

```
afx_msg void OnRawInput(
    UINT nInputCode,
    HRAWINPUT hRawInput);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нинпуткоде*|окне Входной код, указывающий, произошел ли вход, когда приложение находилось на переднем плане. В любом случае приложение должно вызвать [CWnd::D ефвиндовпрок](#defwindowproc) , чтобы система могла выполнять очистку.<br /><br /> Этот параметр может принимать одно из следующих значений:<br /><br /> -RIM_INPUT — входные данные, пока приложение находилось на переднем плане.<br />-RIM_INPUTSINK — входные данные, пока приложение не находилось на переднем плане.|
|*хравинпут*|окне Обработчик для структуры [равинпут](/windows/win32/api/winuser/ns-winuser-rawinput) , которая содержит необработанные входные данные с устройства.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_INPUT](/windows/win32/inputdev/wm-appcommand) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onrbuttondblclk"></a>  CWnd::OnRButtonDblClk

Платформа вызывает эту функцию-член, когда пользователь дважды щелкает правую кнопку мыши.

```
afx_msg void OnRButtonDblClk(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не работает.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координаты x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

Только окна с CS_DBLCLKS стилем [вндкласс](/windows/win32/api/winuser/ns-winuser-wndclassw) могут принимать вызовы `OnRButtonDblClk`. Это значение по умолчанию для Windows в библиотека Microsoft Foundation Class. Windows вызывает `OnRButtonDblClk`, когда пользователь нажимает, отпускает, а затем снова нажимает правую кнопку мыши в пределах времени двойного щелчка системы. Двойной щелчок правой кнопкой мыши фактически приводит к четырем событиям: [WM_RBUTTONDOWN](#onrbuttondown) и [WM_RBUTTONUP](#onrbuttonup) сообщения, вызов `OnRButtonDblClk` и другое сообщение WM_RBUTTONUP при отпускании кнопки.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onrbuttondown"></a>  CWnd::OnRButtonDown

Платформа вызывает эту функцию члена, когда пользователь нажимает правую кнопку мыши.

```
afx_msg void OnRButtonDown(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_RBUTTON установить, если правая кнопка мыши не работает.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координаты x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onrbuttonup"></a>  CWnd::OnRButtonUp

Платформа вызывает эту функцию члена, когда пользователь отпускает правую кнопку мыши.

```
afx_msg void OnRButtonUp(
    UINT nFlags,
    CPoint point);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Указывает, работают ли различные виртуальные ключи. Этот параметр может иметь любое сочетание следующих значений:

- MK_CONTROL установить, если клавиша CTRL не нажата.

- MK_LBUTTON установить, если левая кнопка мыши не работает.

- MK_MBUTTON установить, если средняя кнопка мыши не работает.

- MK_SHIFT установить, если клавиша SHIFT не нажата.

*point*<br/>
Задает координаты x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

### <a name="remarks"></a>Примечания

Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onregisteredmousewheel"></a>  CWnd::OnRegisteredMouseWheel

Платформа вызывает эту функцию-член, так как пользователь поворачивает колесико мыши и встречает следующее деление колесика.

```
afx_msg LRESULT OnRegisteredMouseWheel(
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*wParam*<br/>
Горизонтальное расположение указателя.

*lParam*<br/>
Вертикальное расположение указателя.

### <a name="return-value"></a>Возвращаемое значение

Незначащий в настоящее время. Всегда нуль.

### <a name="remarks"></a>Примечания

Если не переопределено, `OnRegisteredMouseWheel` направляет сообщение в соответствующее окно (родительское окно с фокусом) и вызывает обработчик [WM_MOUSEWHEEL](/windows/win32/inputdev/wm-mousewheel) для этого окна.

Переопределите эту функцию-член, чтобы обеспечить собственную маршрутизацию сообщений или изменить поведение прокрутки колесика мыши.

> [!NOTE]
> `OnRegisteredMouseWheel` обрабатывает сообщения для Windows 95/98 и Windows NT 3,51. Для обработки сообщений Windows NT 4,0 используйте [онмаусевхил](#onmousewheel).

##  <a name="onrenderallformats"></a>  CWnd::OnRenderAllFormats

Функция-член владельца буфера обмена `OnRenderAllFormats` вызывается платформой при уничтожении приложения-владельца.

```
afx_msg void OnRenderAllFormats();
```

### <a name="remarks"></a>Примечания

Владелец буфера обмена должен отображать данные во всех форматах, способных создать и передать в буфер обмена обработчик данных для каждого формата, вызвав функцию Windows [сетклипбоарддата](/windows/win32/api/winuser/nf-winuser-setclipboarddata) . Это гарантирует, что буфер обмена будет содержать допустимые данные, даже если приложение, которое его отрисовывает, уничтожается. Приложение должно вызвать функцию члена [опенклипбоард](#openclipboard) перед вызовом функции Windows [сетклипбоарддата](/windows/win32/api/winuser/nf-winuser-setclipboarddata) и вызвать функцию [клосеклипбоард](/windows/win32/api/winuser/nf-winuser-closeclipboard) Windows позже.

##  <a name="onrenderformat"></a>  CWnd::OnRenderFormat

Функция-член владельца буфера обмена `OnRenderFormat` вызывается платформой, когда необходимо визуализировать определенный формат с отложенной отрисовкой.

```
afx_msg void OnRenderFormat(UINT nFormat);
```

### <a name="parameters"></a>Параметры

*нформат*<br/>
Указывает формат буфера обмена.

### <a name="remarks"></a>Примечания

Получатель должен визуализировать данные в этом формате и передать их в буфер обмена, вызвав функцию Windows [сетклипбоарддата](/windows/win32/api/winuser/nf-winuser-setclipboarddata) .

Не вызывайте функцию `OpenClipboard` члена или `CloseClipboard` функцию Windows в `OnRenderFormat`.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsessionchange"></a>CWnd:: Онсессиончанже

Платформа вызывает эту функцию-член для уведомления приложения об изменении состояния сеанса.

```
afx_msg void OnSessionChange(
    UINT nSessionState,
    UINT nId);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нсессионстате*|окне Код состояния описывает изменение состояния сеанса.|
|*nId*|окне Идентификатор сеанса.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_WTSSESSION_CHANGE](/windows/win32/TermServ/wm-wtssession-change) , которое описано в Windows SDK.

Параметр *нсессионстате* указывает, что сеанс подключен или отключен от консоли или удаленного терминала, пользователь вошел в систему или выключен, сеанс заблокирован или разблокирован, либо сеанс был изменен на удаленно управляемый состояние. Дополнительные сведения см. в описании параметра *wParam* сообщения [WM_WTSSESSION_CHANGE](/windows/win32/TermServ/wm-wtssession-change) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsetcursor"></a>  CWnd::OnSetCursor

Платформа вызывает эту функцию-член, если ввод с клавиатуры не захвачен и мышь вызывает перемещение курсора в пределах объекта `CWnd`.

```
afx_msg BOOL OnSetCursor(
    CWnd* pWnd,
    UINT nHitTest,
    UINT message);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
Задает указатель на окно, содержащее курсор. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*нхиттест*<br/>
Указывает код области [проверки попадания](#onnchittest) . Проверка нажатия определяет положение курсора.

*message*<br/>
Указывает номер сообщения мыши.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, чтобы остановить дальнейшую обработку, или 0 для продолжения.

### <a name="remarks"></a>Примечания

Реализация по умолчанию вызывает `OnSetCursor` родительского окна перед обработкой. Если родительское окно возвращает значение TRUE, то дальнейшая обработка прерывается. Вызов родительского окна позволяет родительскому окну управлять параметром курсора в дочернем окне.

Реализация по умолчанию устанавливает курсор на стрелку, если она не находится в клиентской области, или на курсор зарегистрированного класса, если это.

Если *нхиттест* имеет значение хтеррор и *сообщение* является кнопкой мыши, вызывается функция-член `MessageBeep`.

Если `CWnd` переходит в режим меню, параметр *Message* имеет значение 0.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsetfocus"></a>CWnd:: OnSetFocus

Платформа вызывает эту функцию члена после получения фокуса ввода.

```
afx_msg void OnSetFocus(CWnd* pOldWnd);
```

### <a name="parameters"></a>Параметры

*полдвнд*<br/>
Содержит объект `CWnd`, который теряет фокус ввода (может иметь значение NULL). Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Примечания

Чтобы отобразить курсор, `CWnd` должны вызвать соответствующие функции курсора на этом этапе.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsettingchange"></a>  CWnd::OnSettingChange

Платформа вызывает `OnSettingChange` для всех окон верхнего уровня, когда функция Win32 Системпараметерсинфо изменяет параметр на уровне системы.

```
afx_msg void OnSettingChange(
    UINT uFlags,
    LPCTSTR lpszSection);
```

### <a name="parameters"></a>Параметры

*уфлагс*<br/>
Когда система отправляет сообщение в результате вызова `SystemParametersInfo`, этот параметр является флагом, указывающим на измененный системный параметр. Список значений см. в разделе [системпараметерсинфо](/windows/win32/api/winuser/nf-winuser-systemparametersinfow) в Windows SDK. Когда приложение отправляет сообщение, этот параметр должен иметь значение 0.

*лпсзсектион*<br/>
Указывает на строку, указывающую имя раздела, который был изменен. (Строка не включает квадратные скобки, в которых заключено имя раздела.)

### <a name="remarks"></a>Примечания

Приложение должно отправить сообщение всем окнам верхнего уровня, когда оно вносит изменения в параметры системы, и Windows отправит сообщение, если пользователь изменит параметры через панель управления.

Сообщение ON_WM_SETTINGCHANGE похоже на сообщение ON_WM_WININICHANGE, со следующим отличием:

- Используйте ON_WM_SETTINGCHANGE при запуске Windows NT 4,0 или более поздней версии или в Windows 95/98.

- Используйте ON_WININICHANGE при запуске Windows NT 3,51 или более ранней версии. Теперь это сообщение устарело.

В схеме сообщений должен быть только один из этих макросов. Чтобы написать программу, которая работает как в Windows 95/98, так и в Windows NT 4,0, напишите обработчик для ON_WM_SETTINGCHANGE. В Windows NT 3,51 обработчик будет вызываться `OnSettingChange` и *уфлагс* и всегда будет равен нулю.

##  <a name="onshowwindow"></a>  CWnd::OnShowWindow

Платформа вызывает эту функцию-член, когда объект `CWnd` будет скрыт или показан.

```
afx_msg void OnShowWindow(
    BOOL bShow,
    UINT nStatus);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
Указывает, отображается ли окно. Значение TRUE, если окно отображается; значение FALSE, если окно скрыто.

*нстатус*<br/>
Указывает состояние отображаемого окна. Значение 0, если сообщение отправляется из-за `ShowWindow` вызова функции-члена; в противном случае *нстатус* является одним из следующих:

- SW_PARENTCLOSING родительское окно закрывается (становится значком), или всплывающее окно скрывается.

- SW_PARENTOPENING родительское окно открывается (отображается) или отображается всплывающее окно.

### <a name="remarks"></a>Примечания

Окно скрывается или отображается при вызове функции-члена `ShowWindow`, когда перекрытое окно разворачивается или восстанавливается, или когда перекрытие или всплывающее окно закрывается (становится значком) или открывается (отображается на экране). При закрытии перекрытого окна все всплывающие окна, связанные с этим окном, будут скрыты.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsize"></a>CWnd:: OnSize

Платформа вызывает эту функцию члена после изменения размера окна.

```
afx_msg void OnSize(
    UINT nType,
    int cx,
    int cy);
```

### <a name="parameters"></a>Параметры

*nType*<br/>
Указывает тип запрошенного изменения размера. Этот параметр может принимать одно из следующих значений:

- Окно SIZE_MAXIMIZED развернуто.

- Окно SIZE_MINIMIZED было уменьшено.

- Размер окна SIZE_RESTORED изменился, но ни SIZE_MINIMIZED, ни SIZE_MAXIMIZED не применяются.

- SIZE_MAXHIDE сообщение отправляется во все всплывающие окна, когда какое-либо другое окно развернуто.

- SIZE_MAXSHOW сообщение отправляется во все всплывающие окна при восстановлении какого-либо другого окна до своего прежнего размера.

*cx*<br/>
Задает новую ширину клиентской области.

*CY*<br/>
Задает новую высоту клиентской области.

### <a name="remarks"></a>Примечания

Если для функции-члена [SetScrollPos](#setscrollpos) или [MoveWindow](#movewindow) вызывается функция-член дочернего окна из `OnSize`, параметр `bRedraw` `SetScrollPos` или `MoveWindow` должен быть ненулевым, чтобы перекрасить `CWnd`.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#109](../../mfc/reference/codesnippet/cpp/cwnd-class_50.cpp)]

##  <a name="onsizeclipboard"></a>  CWnd::OnSizeClipboard

Функция-член `OnSizeClipboard` владельца буфера обмена вызывается средством просмотра буфера обмена, если в буфере обмена содержатся данные с атрибутом `CF_OWNERDISPLAY` и размер клиентской области окна средства просмотра буфера обмена изменился.

```
afx_msg void OnSizeClipboard(
    CWnd* pClipAppWnd,
    HGLOBAL hRect);
```

### <a name="parameters"></a>Параметры

*пклипаппвнд*<br/>
Определяет окно буфера обмена приложения. Указатель может быть временным и не должен храниться.

*хрект*<br/>
Определяет глобальный объект памяти. Объект Memory содержит структуру данных RECT, указывающую область для рисования владельцем буфера обмена.

### <a name="remarks"></a>Примечания

Функция-член `OnSizeClipboard` вызывается с пустым прямоугольником (0, 0, 0, 0) в качестве нового размера, когда приложение буфера обмена будет уничтожено или уменьшено. Это позволяет владельцу буфера обмена освобождать ресурсы, отображаемые на экране.

В `OnSizeClipboard`приложение должно использовать функцию Windows [глобаллокк](/windows/win32/api/winbase/nf-winbase-globallock) для блокировки памяти, содержащей структуру данных RECT. Разблокируйте эту память с помощью функции Windows [глобалунлокк](/windows/win32/api/winbase/nf-winbase-globalunlock) , прежде чем она выдаст или возвратит управление.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsizing"></a>CWnd:: onsizing

Платформа вызывает эту функцию-член, чтобы указать, что пользователь изменяет размер прямоугольника.

```
afx_msg void OnSizing(
    UINT nSide,
    LPRECT lpRect);
```

### <a name="parameters"></a>Параметры

*нсиде*<br/>
Граница перемещаемого окна.

*лпрект*<br/>
Адрес структуры [крект](../../atl-mfc-shared/reference/crect-class.md) или [Rect](/windows/win32/api/windef/ns-windef-rect) , которая будет содержать координаты элемента.

### <a name="remarks"></a>Примечания

Обрабатывая это сообщение, приложение может отслеживать размер и расположение прямоугольника перетаскивания и, при необходимости, изменять его размер или расположение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#110](../../mfc/reference/codesnippet/cpp/cwnd-class_51.cpp)]

##  <a name="onspoolerstatus"></a>  CWnd::OnSpoolerStatus

Платформа вызывает эту функцию-член из диспетчера печати всякий раз, когда задание добавляется в очередь диспетчера печати или удаляется из нее.

```
afx_msg void OnSpoolerStatus(
    UINT nStatus,
    UINT nJobs);
```

### <a name="parameters"></a>Параметры

*нстатус*<br/>
Задает флаг SP_JOBSTATUS.

*нжобс*<br/>
Указывает количество заданий, остающихся в очереди диспетчера печати.

### <a name="remarks"></a>Примечания

Этот вызов предназначен только для информационных целей.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onstylechanged"></a>  CWnd::OnStyleChanged

Платформа вызывает эту функцию члена после того, как функция [SetWindowLong](/windows/win32/api/winuser/nf-winuser-setwindowlongw) изменила один или несколько стилей окна.

```
afx_msg void OnStyleChanged(
    int nStyleType,
    LPSTYLESTRUCT lpStyleStruct);
```

### <a name="parameters"></a>Параметры

*нстилетипе*<br/>
Указывает, изменились ли расширенные или нерасширенные стили окна. Этот параметр может быть сочетанием следующих значений:

- GWL_EXSTYLE были изменены расширенные стили окна.

- GWL_STYLE изменились нерасширенные стили окна.

*лпстилеструкт*<br/>
Указывает на структуру [стилеструкт](/windows/win32/api/winuser/ns-winuser-stylestruct) , содержащую новые стили для окна. Приложение может проверять стили, но не может их изменять.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onstylechanging"></a>  CWnd::OnStyleChanging

Платформа вызывает эту функцию-член, когда функция [SetWindowLong](/windows/win32/api/winuser/nf-winuser-setwindowlongw) собирается изменить один или несколько стилей окна.

```
afx_msg void OnStyleChanging(
    int nStyleType,
    LPSTYLESTRUCT lpStyleStruct);
```

### <a name="parameters"></a>Параметры

*нстилетипе*<br/>
Указывает, изменились ли расширенные или нерасширенные стили окна. Этот параметр может быть сочетанием следующих значений:

- GWL_EXSTYLE были изменены расширенные стили окна.

- GWL_STYLE изменились нерасширенные стили окна.

*лпстилеструкт*<br/>
Указывает на структуру [стилеструкт](/windows/win32/api/winuser/ns-winuser-stylestruct) , содержащую новые стили для окна. Приложение может проверять стили и изменять их.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsyschar"></a>CWnd:: Онсисчар

Платформа вызывает эту функцию члена, если `CWnd` имеет фокус ввода и сообщения [WM_SYSKEYUP](#onsyskeyup) и [WM_SYSKEYDOWN](#onsyskeydown) преобразуются.

```
afx_msg void OnSysChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Задает код ключа ASCII-символа клавиши управления.

*нрепкнт*<br/>
Указывает число повторов (количество повторов нажатия клавиши в результате, когда пользователь удерживает клавишу).

*нфлагс*<br/>
Параметр *нфлагс* может иметь следующие значения:

|Значение|Значение|
|-----------|-------------|
|0—15|Указывает число повторов. Значение — это количество повторений нажатия клавиши в результате нажатия пользователем клавиши.|
|16—23|Указывает код сканирования. Это значение зависит от изготовителя оборудования (OEM)|
|24|Указывает, является ли ключ расширенным ключом, таким как правая клавиша ALT и CTRL, отображаемые на расширенной клавиатуре 101 или 102. Значение равно 1, если это расширенный ключ; в противном случае — 0.|
|25-28|Используется внутри Windows.|
|29|Указывает код контекста. Значение равно 1, если клавиша ALT удерживается при нажатии клавиши; в противном случае значение равно 0.|
|30|Указывает предыдущее состояние ключа. Значение равно 1, если ключ не работает до отправки сообщения, или 0, если ключ работает.|
|31|Задает состояние перехода. Значение равно 1, если ключ освобождается, или 0, если клавиша нажата.|

### <a name="remarks"></a>Примечания

Здесь указывается код виртуального ключа для ключа меню Control. (Список стандартных виртуальных клавиш см. в разделе Winuser. h)

Если код контекста равен 0, WM_SYSCHAR может передать [WM_SYSCHAR](/windows/win32/menurc/wm-syschar) сообщение в функцию Windows [TranslateAccelerator](/windows/win32/api/winuser/nf-winuser-translateacceleratorw) , которое будет обрабатывать его так, как будто оно было обычным ключевым сообщением, а не системным символ-ключом. Это позволяет использовать сочетания клавиш с активным окном, даже если активное окно не имеет фокуса ввода.

Для клавиатуры IBM с улучшенными 101-и 102-клавишами расширенными ключами являются правая клавиша ALT и правые клавиши CTRL в основном разделе клавиатуры. клавиши INS, DEL, ДОМАШНяя, КОНЕЧная страница вверх, PAGE DOWN и стрелка в кластерах слева от цифровой клавиатуры; и косая черта (/) и введите клавиши на цифровой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *нфлагс*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsyscolorchange"></a>  CWnd::OnSysColorChange

Платформа вызывает эту функцию-член для всех окон верхнего уровня, когда в параметре системного цвета вносится изменение.

```
afx_msg void OnSysColorChange();
```

### <a name="remarks"></a>Примечания

Windows вызывает `OnSysColorChange` для любого окна, на которое влияет изменение цвета системы.

Приложения с кистью, использующей существующие системные цвета, должны удалить эти кисти и создать их заново с новыми системными цветами.

##  <a name="onsyscommand"></a>CWnd:: Онсискомманд

Платформа вызывает эту функцию-член, когда пользователь выбирает команду из меню управления или когда пользователь нажимает кнопку развернуть или сворачивания.

```
afx_msg void OnSysCommand(
    UINT nID,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Указывает тип запрашиваемой системной команды. Этот параметр может принимать одно из следующих значений:

- SC_CLOSE закрыть объект `CWnd`.

- SC_HOTKEY активировать `CWnd` объект, связанный с заданной приложением горячей клавишей. Слово *lParam* с низким приоритетом определяет HWND окна для активации.

- SC_HSCROLL прокрутка по горизонтали.

- SC_KEYMENU получить меню нажатием клавиши.

- SC_MAXIMIZE (или SC_ZOOM) разверните объект `CWnd`.

- SC_MINIMIZE (или SC_ICON) для сворачивания объекта `CWnd`.

- SC_MOUSEMENU получить меню с помощью щелчка мышью.

- SC_MOVE переместить объект `CWnd`.

- SC_NEXTWINDOW перейти к следующему окну.

- SC_PREVWINDOW перейти к предыдущему окну.

- SC_RESTORE восстановить нормальное расположение и размер окна.

- SC_SCREENSAVE выполняет приложение хранителя экрана, указанное в разделе [boot] системы. INI-файл.

- SC_SIZE размер объекта `CWnd`.

- SC_TASKLIST запустить или активировать приложение диспетчера задач Windows.

- SC_VSCROLL прокрутка по вертикали.

*lParam*<br/>
Если команда меню управления выбрана с мышью, то параметр *lParam* содержит координаты курсора. Слово нижнего порядка содержит координату x, а большое слово содержит координату y. В противном случае этот параметр не используется.

- SC_HOTKEY активировать окно, связанное с заданной приложением горячей клавишей. Слово *lParam* с низким приоритетом определяет окно для активации.

- SC_SCREENSAVE выполнить приложение для сохранения экрана, указанное в разделе "Рабочий стол" панели управления.

### <a name="remarks"></a>Примечания

По умолчанию `OnSysCommand` выполняет запрос управляющего меню для предопределенных действий, указанных в предыдущей таблице.

В сообщениях WM_SYSCOMMAND четыре младшие биты параметра *NID* используются внутри Windows. Когда приложение проверяет значение *NID*, оно должно сочетать значение 0xFFF0 со значением *NID* , используя оператор побитового и для получения правильного результата.

Пункты меню в меню управления можно изменить с помощью функций-членов `GetSystemMenu`, `AppendMenu`, `InsertMenu`и `ModifyMenu`. Приложения, которые изменяют меню элемента управления, должны обрабатывать WM_SYSCOMMAND сообщения, а все WM_SYSCOMMAND сообщения, не обрабатываемые приложением, должны передаваться в `OnSysCommand`. Все значения команд, добавленные приложением, должны обрабатываться приложением и не могут быть переданы в `OnSysCommand`.

Приложение может выполнить любую системную команду в любое время, передав WM_SYSCOMMAND сообщение `OnSysCommand`.

Нажатия клавиш быстрого вызова, определенные для выбора элементов из меню управления, преобразуются в вызовы `OnSysCommand`; все остальные сочетания клавиш переводятся в [WM_COMMAND](#oncommand) сообщения.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsysdeadchar"></a>CWnd:: Онсисдеадчар

Платформа вызывает эту функцию-член, если объект `CWnd` имеет фокус ввода при вызове функции-члена [онсискэйуп](#onsyskeyup) или [онсискэйдовн](#onsyskeydown) .

```
afx_msg void OnSysDeadChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Задает значение символа неработающего ключа.

*нрепкнт*<br/>
Указывает число повторов.

*нфлагс*<br/>
Указывает код сканирования, код перехода на ключ, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Значение|
|-----------|-------------|
|0-7|Код сканирования (значение, зависящее от изготовителя оборудования). Младший байт для слова высокого порядка.|
|8|Расширенный ключ, например ключ функции или клавиша на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутри Windows.|
|13|Контекстный код (1, если клавиша ALT удерживается при нажатии клавиши; в противном случае — 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до вызова, 0, если ключ работает).|
|15|Состояние перехода (1, если ключ освобождается, 0 при нажатии клавиши).|

### <a name="remarks"></a>Примечания

Указывает значение символа для неработающего ключа.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsyskeydown"></a>  CWnd::OnSysKeyDown

Если объект `CWnd` имеет фокус ввода, то функция-член `OnSysKeyDown` вызывается платформой, когда пользователь удерживает нажатой клавишу ALT, а затем нажимает другой ключ.

```
afx_msg void OnSysKeyDown(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Указывает виртуальный код клавиши для нажатия. Список стандартных виртуальных клавиш см. в разделе Winuser. h

*нрепкнт*<br/>
Указывает число повторов.

*нфлагс*<br/>
Указывает код сканирования, код перехода на ключ, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Значение|
|-----------|-------------|
|0-7|Код сканирования (значение, зависящее от изготовителя оборудования). Младший байт для слова высокого порядка.|
|8|Расширенный ключ, например ключ функции или клавиша на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутри Windows.|
|13|Код контекста (1, если клавиша ALT удерживается при нажатии клавиши, в противном случае — 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до отправки сообщения, 0, если ключ работает).|
|15|Состояние перехода (1, если ключ освобождается, 0 при нажатии клавиши).|

Для вызовов `OnSysKeyDown` бит перехода на ключ (бит 15) равен 0. Бит контекстного кода (бит 13) имеет значение 1, если клавиша ALT не нажата, пока не клавиша SHIFT. значение 0, если сообщение отправляется в активное окно, так как ни одно окно не имеет фокус ввода.

### <a name="remarks"></a>Примечания

Если ни одно окно в данный момент не имеет фокуса ввода, вызывается функция-член `OnSysKeyDown` в активном окне. Объект `CWnd`, получающий сообщение, может различать эти контексты путем проверки кода контекста в `nFlags`.

Когда код контекста равен 0, WM_SYSKEYDOWN сообщение, полученное `OnSysKeyDown`, может быть передано в функцию Windows [TranslateAccelerator](/windows/win32/api/winuser/nf-winuser-translateacceleratorw) , что будет обрабатывать ее так, как будто это стандартное сообщение, а не сообщение с системным ключом. Это позволяет использовать сочетания клавиш с активным окном, даже если активное окно не имеет фокуса ввода.

Из-за автоматической повторной повторной операции может произойти сразу несколько `OnSysKeyDown` вызова до получения сообщения [WM_SYSKEYUP](#onsyskeyup) . Предыдущее состояние ключа (бит 14) можно использовать для определения того, указывает ли вызов `OnSysKeyDown` обозначает первый переход или повторный переход.

Для клавиатуры IBM с улучшенными 101-и 102-клавишами расширенными ключами являются правая клавиша ALT и правые клавиши CTRL в основном разделе клавиатуры. клавиши INS, DEL, ДОМАШНяя, КОНЕЧная страница вверх, PAGE DOWN и стрелка в кластерах слева от цифровой клавиатуры; и косая черта (/) и введите клавиши на цифровой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *нфлагс*.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onsyskeyup"></a>  CWnd::OnSysKeyUp

Если объект `CWnd` имеет фокус, то функция-член `OnSysKeyUp` вызывается платформой, когда пользователь отпускает клавишу, которая была нажата во время удержания клавиши ALT.

```
afx_msg void OnSysKeyUp(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Указывает виртуальный код клавиши для нажатия. Список стандартных виртуальных клавиш см. в разделе Winuser. h

*нрепкнт*<br/>
Указывает число повторов.

*нфлагс*<br/>
Указывает код сканирования, код перехода на ключ, предыдущее состояние ключа и код контекста, как показано в следующем списке:

|Значение|Значение|
|-----------|-------------|
|0-7|Код сканирования (значение, зависящее от изготовителя оборудования). Младший байт для слова высокого порядка.|
|8|Расширенный ключ, например ключ функции или клавиша на цифровой клавиатуре (1, если это расширенный ключ; в противном случае 0).|
|9-10|Не используется.|
|11-12|Используется внутри Windows.|
|13|Код контекста (1, если клавиша ALT удерживается при нажатии клавиши, в противном случае — 0).|
|14|Предыдущее состояние ключа (1, если ключ не работает до отправки сообщения, 0, если ключ работает).|
|15|Состояние перехода (1, если ключ освобождается, 0 при нажатии клавиши).|

Для вызовов `OnSysKeyUp` бит перехода на ключ (бит 15) равен 1. Бит контекстного кода (бит 13) имеет значение 1, если клавиша ALT не нажата, пока не клавиша SHIFT. значение 0, если сообщение отправляется в активное окно, так как ни одно окно не имеет фокус ввода.

### <a name="remarks"></a>Примечания

Если ни одно окно в данный момент не имеет фокуса ввода, вызывается функция-член `OnSysKeyUp` в активном окне. Объект `CWnd`, получающий вызов, может отличать эти контексты путем проверки кода контекста в *нфлагс*.

Когда код контекста равен 0, WM_SYSKEYUP сообщение, полученное `OnSysKeyUp`, может быть передано в функцию Windows [TranslateAccelerator](/windows/win32/api/winuser/nf-winuser-translateacceleratorw) , что будет обрабатывать ее так, как будто это стандартное сообщение, а не сообщение с системным ключом. Это позволяет использовать клавиши быстрого доступа с активным окном, даже если активное окно не имеет фокуса ввода.

Для клавиатуры IBM с улучшенными 101-и 102-клавишами расширенными ключами являются правая клавиша ALT и правые клавиши CTRL в основном разделе клавиатуры. клавиши INS, DEL, ДОМАШНяя, КОНЕЧная страница вверх, PAGE DOWN и стрелка в кластерах слева от цифровой клавиатуры; и косая черта (/) и введите клавиши на цифровой клавиатуре. Некоторые другие клавиатуры могут поддерживать бит расширенного ключа в *нфлагс*.

Для не-U. S. Улучшенная клавиатура с 102 клавиша, правая клавиша ALT обрабатываются как сочетание клавиш CTRL + ALT. Ниже показана последовательность сообщений и вызовов, которые вызываются, когда пользователь нажимает и отпускает этот ключ:

|Sequence|Доступ к функции|Сообщение передано|
|--------------|-----------------------|--------------------|
|1.|[WM_KEYDOWN](#onkeydown)|VK_CONTROL|
|2.|[WM_KEYDOWN](#onkeydown)|VK_MENU|
|3.|[WM_KEYUP](#onkeyup)|VK_CONTROL|
|4.|[WM_SYSKEYUP](/windows/win32/inputdev/wm-syskeyup)|VK_MENU|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="ontcard"></a>CWnd:: Онткард

Платформа вызывает эту функцию члена, когда пользователь нажимает на настраиваемую кнопку.

```
afx_msg void OnTCard(
    UINT idAction,
    DWORD dwActionData);
```

### <a name="parameters"></a>Параметры

*идактион*<br/>
Указывает действие, выполненное пользователем. Этот параметр может принимать одно из следующих значений:

- ИДАБОРТ, что пользователь щелкнул настраиваемую кнопку прерывания.

- ИДКАНЦЕЛ, что пользователь щелкнул настраиваемую кнопку отмены.

- ИДКЛОСЕ, что пользователь закрыл карточку обучения.

- ИДХЕЛП, что пользователь щелкнул настраиваемую кнопку справки Windows.

- ИДИГНОРЕ, что пользователь щелкнул кнопку "пропустить", которая является автором.

- ИДОК, что пользователь щелкнул настраиваемую кнопку ОК.

- ИДНО, что пользователь щелкнул кнопку «автор без».

- ИДРЕТРИ, что пользователь щелкнул настраиваемую кнопку повтора.

- HELP_TCARD_DATA пользователя, который щелкнул настраиваемую кнопку. Параметр *двактиондата* содержит длинное целое число, заданное автором справки.

- HELP_TCARD_NEXT пользователь щелкнул настраиваемую кнопку Далее.

- HELP_TCARD_OTHER_CALLER другое приложение запросило карточки обучения.

- ИДЕС, что пользователь щелкнул настраиваемую кнопку Да.

*двактиондата*<br/>
Если *идактион* указывает HELP_TCARD_DATA, этот параметр представляет собой длинное целое число, заданное автором справки. В противном случае этот параметр равен нулю.

### <a name="remarks"></a>Примечания

Эта функция вызывается, только если приложение инициировало учебную карточку с помощью справки Windows. Приложение инициирует учебную карточку, указывая команду HELP_TCARD в вызове функции [WinHelp](../../mfc/reference/cwinapp-class.md#winhelp) .

##  <a name="ontimechange"></a>  CWnd::OnTimeChange

Платформа вызывает эту функцию-член после изменения системного времени.

```
afx_msg void OnTimeChange();
```

### <a name="remarks"></a>Примечания

Любое приложение, которое изменяет системное время, отправляет это сообщение всем окнам верхнего уровня. Чтобы отправить WM_TIMECHANGE сообщение всем окнам верхнего уровня, приложение может использовать функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows с параметром *HWND* , для которого задано значение HWND_BROADCAST.

##  <a name="ontimer"></a>  CWnd::OnTimer

Платформа вызывает эту функцию-член после каждого интервала, указанного в функции-члене [сеттимер](#settimer) , используемой для установки таймера.

```
afx_msg void OnTimer(UINT_PTR nIDEvent);
```

### <a name="parameters"></a>Параметры

*нидевент*<br/>
Указывает идентификатор таймера.

### <a name="remarks"></a>Примечания

Функция Windows [DispatchMessage](/windows/win32/api/winuser/nf-winuser-dispatchmessage) отправляет сообщение [WM_TIMER](/windows/win32/winmsg/wm-timer) , если в очереди сообщений приложения нет других сообщений.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

### <a name="example"></a>Пример

  См. пример в разделе [CWnd:: сеттимер](#settimer).

##  <a name="ontoolhittest"></a>  CWnd::OnToolHitTest

Платформа вызывает эту функцию-член, чтобы определить, находится ли точка в ограничивающем прямоугольнике указанного инструмента.

```
virtual INT_PTR OnToolHitTest(
    CPoint point,
    TOOLINFO* pTI) const;
```

### <a name="parameters"></a>Параметры

*point*<br/>
Задает координату x и y курсора. Эти координаты всегда отсчитываются относительно левого верхнего угла окна.

*пти*<br/>
Указатель на структуру [тулинфо](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) . По умолчанию устанавливаются следующие значения структуры:

- *hwnd* = дескриптор `m_hWnd` окна

- *uId* = `(UINT)hWndChild`ный обработчик в дочернее окно

- *уфлагс* &#124;= TTF_IDISHWNDный маркер средства

- *лпсзтекст* = LPSTR_TEXTCALLBACK указатель на строку, которая должна отображаться в указанном окне

### <a name="return-value"></a>Возвращаемое значение

Если элемент управления ToolTip найден, идентификатор элемента управления Window. Если элемент управления ToolTip не найден,-1.

### <a name="remarks"></a>Примечания

Если точка находится в прямоугольнике, она извлекает сведения о средстве.

Если область, с которой связана подсказка, не является кнопкой, `OnToolHitTest` устанавливает флаги структуры равными TTF_NOTBUTTON и TTF_CENTERTIP.

Переопределите `OnToolHitTest`, чтобы предоставить сведения, отличные от предоставленных по умолчанию.

Дополнительные сведения о структуре см. в разделе [тулинфо](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa)в Windows SDK.

##  <a name="ontouchinput"></a>CWnd:: Онтаучинпут

Обработка одного ввода Windows touch.

```
virtual BOOL OnTouchInput(
    CPoint pt,
    int nInputNumber,
    int nInputsCount,
    PTOUCHINPUT pInput);
```

### <a name="parameters"></a>Параметры

*pt*<br/>
Точка, в которой затронут экран (в клиентских координатах).

*нинпутнумбер*<br/>
Число сенсорных входных данных.

*нинпутскаунт*<br/>
Общее число сенсорных входов.

*пинпут*<br/>
Указатель на структуру ТАУЧИНПУТ.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если приложение обрабатывает ввод касания Windows; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

##  <a name="ontouchinputs"></a>CWnd:: Онтаучинпутс

Обрабатывает входные данные из Windows Touch.

```
virtual BOOL OnTouchInputs(
    UINT nInputsCount,
    PTOUCHINPUT pInputs);
```

### <a name="parameters"></a>Параметры

*нинпутскаунт*<br/>
Общее число входов касания Windows.

*пинпутс*<br/>
Массив ТАУЧИНПУТ.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если приложение обрабатывает входные данные касания Windows; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

##  <a name="onunichar"></a>  CWnd::OnUniChar

Платформа вызывает эту функцию-член при нажатии клавиши. Это значит, что текущее окно имеет фокус клавиатуры, а [WM_KEYDOWN](/windows/win32/inputdev/wm-keydown) сообщение преобразуется функцией [TranslateMessage](/windows/win32/api/winuser/nf-winuser-translatemessage) .

```
afx_msg void OnUniChar(
    UINT nChar,
    UINT nRepCnt,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nChar*|окне Задает код символа нажатой клавиши.|
|*нрепкнт*|окне Указывает число повторов для текущего сообщения. Значение — это число повторных попыток нажатия клавиши в результате, когда пользователь удерживает клавишу. Если нажатие клавиши удерживается достаточно долго, отправляется несколько сообщений. Однако число повторов не является накопительным.|
|*нфлагс*|окне Флаги, указывающие код сканирования, расширенный ключ, код контекста, состояние предыдущего ключа и состояние перехода, как показано в следующей таблице.<br /><br /> **0-7:** Указывает код сканирования. Это значение зависит от изготовителя оборудования (OEM).<br /><br /> **8** Задает расширенный ключ, такой как правая клавиша ALT и CTRL, которые отображаются на клавиатуре повышенной 101 или 102. Флаг имеет значение 1, если ключ является расширенным ключом; в противном случае — 0.<br /><br /> **9-12:**  Используется внутри Windows.<br /><br /> **решением**  Указывает код контекста. Флаг имеет значение 1, если клавиша ALT удерживается при нажатии клавиши; в противном случае значение равно 0.<br /><br /> **открыт**  Указывает предыдущее состояние ключа. Флаг имеет значение 1, если ключ не работает до отправки сообщения, или значение 0, если ключ работает.<br /><br /> **15**  Задает состояние перехода. Флаг имеет значение 1, если ключ освобождается, или значение 0, если клавиша нажата.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_UNICHAR](/windows/win32/inputdev/wm-unichar) , которое описано в Windows SDK. Сообщение [WM_UNICHAR](/windows/win32/inputdev/wm-unichar) предназначено для отправки или публикации символов Юникода в окнах ANSI. Он эквивалентен [WM_CHARому](/windows/win32/inputdev/wm-char) сообщению, но использует формат преобразования юникода — 32 Encoding (UTF-32), в то время как [WM_CHAR](/windows/win32/inputdev/wm-char) сообщение использует UTF-16.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onuninitmenupopup"></a>  CWnd::OnUnInitMenuPopup

Платформа вызывает эту функцию-член при удалении раскрывающегося меню или подменю.

```
afx_msg void OnUnInitMenuPopup(
    CMenu* pPopupMenu,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*пмену*|окне Указатель на объект [кмену](../../mfc/reference/cmenu-class.md) , представляющий меню или подменю.|
|*нфлагс*|окне Меню, которое было удалено. В настоящее время это может быть только меню окно, MF_SYSMENU.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_UNINITMENUPOPUP](/windows/win32/menurc/wm-uninitmenupopup) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onupdateuistate"></a>CWnd:: Онупдатеуистате

Вызывается, чтобы изменить состояние пользовательского интерфейса указанного окна и всех его дочерних окон.

```
afx_msg void OnUpdateUIState(
    UINT nAction,
    UINT nUIElement);
```

### <a name="parameters"></a>Параметры

*Nвыходные*<br/>
Указывает действие, подлежащее выполнению. Может принимать одно из следующих значений:

- UIS_CLEAR должен быть скрыт элемент состояния пользовательского интерфейса (заданный параметром *нуиелемент*).

- UIS_INITIALIZE Элемент состояния пользовательского интерфейса (заданный параметром *нуиелемент*) должен быть изменен на основе последнего события ввода. Дополнительные сведения см. в подразделе **"Примечания"** раздела [WM_UPDATEISTATE](/windows/win32/menurc/wm-updateuistate).

- UIS_SET должен быть виден элемент состояния пользовательского интерфейса (заданный параметром *нуиелемент*).

*нуиелемент*<br/>
Указывает, какие элементы состояния пользовательского интерфейса затрагиваются, или стиль элемента управления. Может принимать одно из следующих значений:

- UISF_HIDEACCEL сочетаний клавиш.

- UISF_HIDEFOCUS индикаторы фокуса.

- UISF_ACTIVE Windows XP: Элемент управления должен быть нарисован в стиле, используемом для активных элементов управления.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность [WM_UPDATEUISTATE](/windows/win32/menurc/wm-updateuistate) сообщения, как описано в Windows SDK.

##  <a name="onuserchanged"></a>  CWnd::OnUserChanged

Платформа вызывает этот элемент для всех окон после того, как пользователь выполнил вход или выключен.

```
afx_msg void OnUserChanged();
```

### <a name="remarks"></a>Примечания

Этот метод получает сообщение уведомления [WM_USERCHANGED](/windows/win32/winmsg/wm-userchanged) , которое описано в Windows SDK. Когда пользователь входит в систему или выключается, операционная система обновляет параметры, относящиеся к пользователю. Система отправляет это сообщение сразу после обновления параметров.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onvkeytoitem"></a>  CWnd::OnVKeyToItem

Если объект `CWnd` владеет списком со стилем [LBS_WANTKEYBOARDINPUT](../../mfc/reference/styles-used-by-mfc.md#list-box-styles), то список будет отсылать сообщение WM_VKEYTOITEM в ответ на сообщение WM_KEYDOWN.

```
afx_msg int OnVKeyToItem(
    UINT nKey,
    CListBox* pListBox,
    UINT nIndex);
```

### <a name="parameters"></a>Параметры

*нкэй*<br/>
Указывает виртуальный код клавиши, нажатой пользователем. Список стандартных виртуальных клавиш см. в разделе Winuser. h

*плистбокс*<br/>
Указывает указатель на поле со списком. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*ниндекс*<br/>
Задает текущую точку курсора.

### <a name="return-value"></a>Возвращаемое значение

Указывает действие, выполняемое приложением в ответ на сообщение. Возвращаемое значение, равное-2, указывает, что приложение обработало все аспекты выбора элемента и не требует дальнейших действий, выполняемых списком. Возвращаемое значение, равное-1, указывает, что окно списка должно выполнять действие по умолчанию в ответ на нажатие клавиши. Возвращаемое значение 0 или больше Указывает отсчитываемый от нуля индекс элемента в списке и указывает, что поле списка должно выполнять действие по умолчанию для данного элемента.

### <a name="remarks"></a>Примечания

Эта функция-член вызывается платформой только для списков, имеющих стиль [LBS_HASSTRINGS](../../mfc/reference/styles-used-by-mfc.md#list-box-styles) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onvscroll"></a>  CWnd::OnVScroll

Платформа вызывает эту функцию члена, когда пользователь щелкает вертикальную полосу прокрутки окна.

```
afx_msg void OnVScroll(
    UINT nSBCode,
    UINT nPos,
    CScrollBar* pScrollBar);
```

### <a name="parameters"></a>Параметры

*нсбкоде*<br/>
Указывает код полосы прокрутки, который указывает на запрос прокрутки пользователя. Возможные значения этого параметра:

- SB_BOTTOM прокрутить вниз.

- SB_ENDSCROLL завершения прокрутки.

- SB_LINEDOWN прокрутить на одну строку вниз.

- SB_LINEUP прокрутить на одну строку вверх.

- SB_PAGEDOWN прокрутить на одну страницу вниз.

- SB_PAGEUP перейти на одну страницу вверх.

- SB_THUMBPOSITION прокрутите до абсолютной позицией. Текущая заданная позицией предоставляется в *npos*.

- SB_THUMBTRACK перетащите ползунок в указанное расположение. Текущая заданная позицией предоставляется в *npos*.

- SB_TOP прокрутить к началу.

*nPos*<br/>
Содержит текущую точку прокрутки, если код полосы прокрутки SB_THUMBPOSITION или SB_THUMBTRACK; в противном случае не используется. В зависимости от первоначального диапазона прокрутки *npos* могут быть отрицательными и при необходимости приводить к типу **int** .

*пскроллбар*<br/>
Если сообщение с прокруткой поступило из элемента управления полосы прокрутки, содержит указатель на элемент управления. Если пользователь щелкнул полосу прокрутки окна, этот параметр имеет значение NULL. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

### <a name="remarks"></a>Примечания

`OnVScroll` обычно используются приложениями, которые предоставляют некоторую обратную связь во время перетаскивания бегунка.

Если `OnVScroll` прокручивает содержимое объекта `CWnd`, он также должен сбросить расположение поля прокрутки с помощью функции члена [сетскроллпос](#setscrollpos) .

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onvscrollclipboard"></a>  CWnd::OnVScrollClipboard

Функция-член `OnVScrollClipboard` владельца буфера обмена вызывается средством просмотра буфера обмена, если данные в буфере обмена имеют формат CF_OWNERDISPLAY и событие в вертикальной полосе прокрутки окна буфера просмотра.

```
afx_msg void OnVScrollClipboard(
    CWnd* pClipAppWnd,
    UINT nSBCode,
    UINT nPos);
```

### <a name="parameters"></a>Параметры

*пклипаппвнд*<br/>
Указывает указатель на окно средства просмотра буфера обмена. Указатель может быть временным. Его не требуется сохранять для дальнейшего использования.

*нсбкоде*<br/>
Задает одно из следующих значений полосы прокрутки:

- SB_BOTTOM прокрутить вниз.

- SB_ENDSCROLL завершения прокрутки.

- SB_LINEDOWN прокрутить на одну строку вниз.

- SB_LINEUP прокрутить на одну строку вверх.

- SB_PAGEDOWN прокрутить на одну страницу вниз.

- SB_PAGEUP перейти на одну страницу вверх.

- SB_THUMBPOSITION прокрутите до абсолютной позицией. Текущая заданная позицией предоставляется в *npos*.

- SB_TOP прокрутить к началу.

*nPos*<br/>
Содержит расположение бокса прокрутки, если код полосы прокрутки SB_THUMBPOSITION; в противном случае *npos* не используется.

### <a name="remarks"></a>Примечания

Владелец должен прокручивать изображение в буфере обмена, сделать недействительным соответствующий раздел и обновить значения полосы прокрутки.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onwindowmaximizedchanged"></a>  CWnd::OnWindowMaximizedChanged

Платформа вызывает этот элемент, когда текущее окно развернуто, а окно состоит из диспетчер окон рабочего стола (DWM).

```
afx_msg void OnWindowMaximizedChanged(BOOL bIsMaximized);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*бисмаксимизед*|окне Значение TRUE, если текущее окно развернуто, и FALSE в противном случае.|

### <a name="remarks"></a>Примечания

Этот метод получает сообщение уведомления [WM_DWMWINDOWMAXIMIZEDCHANGE](/windows/win32/dwm/wm-dwmwindowmaximizedchange) , которое описано в Windows SDK.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onwindowposchanged"></a>  CWnd::OnWindowPosChanged

Платформа вызывает эту функцию-член, когда размер, расположение или Z-порядок изменились в результате вызова функции-члена [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) или другой функции управления окнами.

```
afx_msg void OnWindowPosChanged(WINDOWPOS* lpwndpos);
```

### <a name="parameters"></a>Параметры

*лпвндпос*<br/>
Указывает на структуру данных [WINDOWPOS](/windows/win32/api/winuser/ns-winuser-windowpos) , содержащую сведения о новом размере и положении окна.

### <a name="remarks"></a>Примечания

Реализация по умолчанию отправляет [WM_SIZE](/windows/win32/winmsg/wm-size) и [WM_MOVE](/windows/win32/winmsg/wm-move) сообщения в окно. Эти сообщения не отправляются, если приложение обрабатывает вызов `OnWindowPosChanged`, не вызывая его базовый класс. Более эффективно выполнять любые операции перемещения или изменения размера во время вызова `OnWindowPosChanged` без вызова его базового класса.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onwindowposchanging"></a>  CWnd::OnWindowPosChanging

Платформа вызывает эту функцию-член, когда размер, расположение или Z-порядок собирается измениться в результате вызова функции-члена [SetWindowPos](/windows/win32/api/winuser/nf-winuser-setwindowpos) или другой функции управления окнами.

```
afx_msg void OnWindowPosChanging(WINDOWPOS* lpwndpos);
```

### <a name="parameters"></a>Параметры

*лпвндпос*<br/>
Указывает на `WINDOWPOS` структуру данных, содержащую сведения о новом размере и положении окна.

### <a name="remarks"></a>Примечания

Приложение может препятствовать изменениям в окне, установив или сняв соответствующие биты в элементе **flags** структуры [WINDOWPOS](/windows/win32/api/winuser/ns-winuser-windowpos) .

Для окна с [WS_OVERLAPPED](styles-used-by-mfc.md#window-styles) или [WS_THICKFRAME](styles-used-by-mfc.md#window-styles) стиле реализация по умолчанию отправляет в окно [WM_GETMINMAXINFO](/windows/win32/winmsg/wm-getminmaxinfo) сообщение. Это делается для проверки нового размера и расположения окна, а также для применения стилей CS_BYTEALIGNCLIENT и CS_BYTEALIGN клиента. Приложение может переопределить эту функцию, не вызывая ее базовый класс.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onwininichange"></a>  CWnd::OnWinIniChange

Платформа вызывает эту функцию-член после внесения изменений в файл инициализации Windows, WIN. Ссылки.

```
afx_msg void OnWinIniChange(LPCTSTR lpszSection);
```

### <a name="parameters"></a>Параметры

*лпсзсектион*<br/>
Указывает на строку, указывающую имя раздела, который был изменен. (Строка не включает квадратные скобки, в которых заключено имя раздела.)

### <a name="remarks"></a>Примечания

Функция [системпараметерсинфо](/windows/win32/api/winuser/nf-winuser-systemparametersinfow) Windows вызывает `OnWinIniChange` после того, как приложение использует функцию для изменения параметра в выигрыше. INI-файл.

Чтобы отправить WM_WININICHANGE сообщение всем окнам верхнего уровня, приложение может использовать функцию [SendMessage](/windows/win32/api/winuser/nf-winuser-sendmessage) Windows с параметром *HWND* , для которого задано значение HWND_BROADCAST.

Если приложение изменяет множество различных разделов в WIN. INI в то же время приложение должно отправить одно сообщение WM_WININICHANGE с параметром *лпсзсектион* , ИМЕЮЩИМ значение null. В противном случае приложение должно отправить WM_WININICHANGE каждый раз при внесении изменений в WIN. Ссылки.

Если приложение получает `OnWinIniChange` вызов с параметром *лпсзсектион* , ИМЕЮЩИМ значение null, приложение должно проверить все разделы в Win. INI, который влияет на приложение.

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onwndmsg"></a>  CWnd::OnWndMsg

Эта функция-член вызывается `WindowProc`или вызывается во время отражения сообщения.

```
virtual BOOL OnWndMsg(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает отправляемое сообщение.

*wParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*lParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*пресулт*<br/>
Возвращаемое значение [WindowProc](#windowproc). Зависит от сообщения; может иметь значение NULL.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если сообщение было обработано; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

`OnWndMsg` определяет тип сообщения и либо вызывает соответствующую функцию Framework (например, [OnCommand](#oncommand) для WM_COMMAND), либо находит соответствующее сообщение в схеме сообщений.

Дополнительные сведения о отражении сообщений см. в разделе [обработка отраженных сообщений](../../mfc/handling-reflected-messages.md).

##  <a name="onxbuttondblclk"></a>  CWnd::OnXButtonDblClk

Платформа вызывает эту функцию-член, когда пользователь дважды щелкает XBUTTON1 или XBUTTON2, пока курсор находится в клиентской области окна.

```
afx_msg void OnXButtonDblClk(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нфлагс*|окне Побитовое сочетание (или) флагов, указывающих, какие клавиши-модификаторы нажаты. Например, флаг MK_CONTROL указывает, что нажата клавиша CTRL.|
|*нбуттон*|окне Значение XBUTTON1, если первая кнопка Microsoft IntelliMouse X нажата двойным щелчком, или XBUTTON2, если дважды щелкнуть вторую кнопку X.|
|*point*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла клиентской области.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_XBUTTONDBLCLK](/windows/win32/inputdev/wm-xbuttondblclk) , которое описано в Windows SDK. Если мышь не захвачена, сообщение отправляется в окно под курсором. В противном случае сообщение отправляется в окно, которое захватывает мышь.

Параметр *нфлагс* может представлять собой сочетание клавиш-модификаторов, перечисленных в следующей таблице. Дополнительные сведения см. в статье [о вводе](/windows/win32/inputdev/about-mouse-input)с помощью мыши.

|Клавиша модификатора|Описание|
|------------------|-----------------|
|MK_CONTROL|Нажата клавиша CTRL.|
|MK_LBUTTON|Нажата левая кнопка мыши.|
|MK_MBUTTON|Нажата средняя кнопка мыши.|
|MK_RBUTTON|Нажата правая кнопка мыши.|
|MK_SHIFT|Нажата клавиша SHIFT.|
|MK_XBUTTON1|Нажата кнопка мыши XBUTTON1 в Microsoft IntelliMouse.|
|MK_XBUTTON2|Нажата кнопка мыши XBUTTON2 в Microsoft IntelliMouse.|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onxbuttondown"></a>  CWnd::OnXButtonDown

Платформа вызывает эту функцию-член, когда пользователь нажимает XBUTTON1 или XBUTTON2, когда курсор находится в клиентской области окна.

```
afx_msg void OnXButtonDown(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нфлагс*|окне Побитовое сочетание (или) флагов, указывающих, какие клавиши-модификаторы нажаты. Например, флаг MK_CONTROL указывает, что нажата клавиша CTRL.|
|*нбуттон*|окне Значение XBUTTON1, если была нажата первая кнопка Microsoft IntelliMouse X, или XBUTTON2, если была нажата вторая кнопка X.|
|*point*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла клиентской области.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_XBUTTONDOWN](/windows/win32/inputdev/wm-xbuttondown) , которое описано в Windows SDK. Если мышь не захвачена, сообщение отправляется в окно под курсором. В противном случае сообщение отправляется в окно, которое захватывает мышь.

Параметр *нфлагс* может представлять собой сочетание клавиш-модификаторов, перечисленных в следующей таблице. Дополнительные сведения см. в статье [о вводе](/windows/win32/inputdev/about-mouse-input)с помощью мыши.

|Клавиша модификатора|Описание|
|------------------|-----------------|
|MK_CONTROL|Нажата клавиша CTRL.|
|MK_LBUTTON|Нажата левая кнопка мыши.|
|MK_MBUTTON|Нажата средняя кнопка мыши.|
|MK_RBUTTON|Нажата правая кнопка мыши.|
|MK_SHIFT|Нажата клавиша SHIFT.|
|MK_XBUTTON1|Нажата кнопка мыши XBUTTON1 в Microsoft IntelliMouse.|
|MK_XBUTTON2|Нажата кнопка мыши XBUTTON2 в Microsoft IntelliMouse.|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="onxbuttonup"></a>  CWnd::OnXButtonUp

Платформа вызывает эту функцию-член, когда пользователь отпускает XBUTTON1 или XBUTTON2, пока курсор находится в клиентской области окна.

```
afx_msg void OnXButtonUp(
    UINT nFlags,
    UINT nButton,
    CPoint point);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*нфлагс*|окне Побитовое сочетание (или) флагов, указывающих, какие клавиши-модификаторы нажаты. Например, флаг MK_CONTROL указывает, что нажата клавиша CTRL.|
|*нбуттон*|окне Значение XBUTTON1, если была нажата первая кнопка Microsoft IntelliMouse X, или XBUTTON2, если дважды щелкнули вторую кнопку X.|
|*point*|окне Объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) , указывающий координаты *x* и *y* курсора относительно верхнего левого угла клиентской области.|

### <a name="remarks"></a>Примечания

Этот метод получает уведомление [WM_XBUTTONUP](/windows/win32/inputdev/wm-xbuttonup) , которое описано в Windows SDK. Если мышь не захвачена, сообщение отправляется в окно под курсором. В противном случае сообщение отправляется в окно, которое захватывает мышь.

Параметр *нфлагс* может представлять собой сочетание клавиш-модификаторов, перечисленных в следующей таблице. Дополнительные сведения см. в статье [о вводе](/windows/win32/inputdev/about-mouse-input)с помощью мыши.

|Клавиша модификатора|Описание|
|------------------|-----------------|
|MK_CONTROL|Нажата клавиша CTRL.|
|MK_LBUTTON|Нажата левая кнопка мыши.|
|MK_MBUTTON|Нажата средняя кнопка мыши.|
|MK_RBUTTON|Нажата правая кнопка мыши.|
|MK_SHIFT|Нажата клавиша SHIFT.|
|MK_XBUTTON1|Нажата кнопка мыши XBUTTON1 в Microsoft IntelliMouse.|
|MK_XBUTTON2|Нажата кнопка мыши XBUTTON2 в Microsoft IntelliMouse.|

> [!NOTE]
> Это функция-член вызывается платформой, чтобы разрешить приложению обработать сообщение Windows. Параметры, передаваемые в функцию, отражают параметры, полученные платформой при поступлении сообщения. При вызове реализации базового класса этой функции эта реализация будет использовать параметры, изначально переданные с сообщением, а не параметры, передаваемые в функции.

##  <a name="openclipboard"></a>CWnd:: Опенклипбоард

Открывает буфер обмена.

```
BOOL OpenClipboard();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если буфер обмена открыт через `CWnd`или 0, если буфер обмена открыт другим приложением или окном.

### <a name="remarks"></a>Примечания

Другие приложения не смогут изменять буфер обмена, пока не будет вызвана функция [клосеклипбоард](/windows/win32/api/winuser/nf-winuser-closeclipboard) Windows.

Текущий объект `CWnd` не станет владельцем буфера обмена, пока не будет вызвана функция [емптиклипбоард](/windows/win32/api/winuser/nf-winuser-emptyclipboard) Windows.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#111](../../mfc/reference/codesnippet/cpp/cwnd-class_52.cpp)]

##  <a name="operator_hwnd"></a>CWnd:: operator HWND

Этот оператор используется для получения маркера объекта `CWnd`.

```
operator HWND() const;
```

##  <a name="operator_neq"></a>CWnd:: operator! =

Сравнивает два `CWnd` объектов, чтобы определить, имеют ли они разные [m_hWnd](#m_hwnd).

```
BOOL operator!=(const CWnd& wnd) const;
```

### <a name="parameters"></a>Параметры

*внд*<br/>
Ссылка на объект `CWnd`.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если равно; в противном случае — 0.

##  <a name="operator_eq_eq"></a>CWnd:: operator = =

Сравнивает два `CWnd` объектов, чтобы определить, имеют ли они одинаковые [m_hWnd](#m_hwnd).

```
BOOL operator==(const CWnd& wnd) const;
```

### <a name="parameters"></a>Параметры

*внд*<br/>
Ссылка на объект `CWnd`.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если равно; в противном случае — 0.

##  <a name="paintwindowlesscontrols"></a>CWnd::P Аинтвиндовлессконтролс

Рисует неоконные элементы управления в контейнере элемента управления.

```
BOOL PaintWindowlessControls(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Контекст устройства, в котором нарисованы элементы управления без окон.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE, если имеется контейнер элемента управления, и элементы управления без окон отображаются успешно, в противном случае — значение FALSE.

##  <a name="postmessage"></a>  CWnd::PostMessage

Помещает сообщение в очередь сообщений окна, а затем возвращается, не дожидаясь обработки сообщения соответствующим окном.

```
BOOL PostMessage(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает сообщение, которое необходимо опубликовать.

*wParam*<br/>
Указывает дополнительные сведения о сообщении. Содержимое этого параметра зависит от отправляемого сообщения.

*lParam*<br/>
Указывает дополнительные сведения о сообщении. Содержимое этого параметра зависит от отправляемого сообщения.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если сообщение отправлено; в противном случае — 0.

### <a name="remarks"></a>Примечания

Сообщения в очереди сообщений извлекаются вызовами функций [GetMessage](/windows/win32/api/winuser/nf-winuser-getmessage) или [PeekMessage](/windows/win32/api/winuser/nf-winuser-peekmessagew) Windows.

Функцию Windows i [Message](/windows/win32/api/winuser/nf-winuser-postmessagew) можно использовать для доступа к другому приложению.

### <a name="example"></a>Пример

  См. пример для [афксжетмаинвнд](../../mfc/reference/application-information-and-management.md#afxgetmainwnd).

##  <a name="postncdestroy"></a>  CWnd::PostNcDestroy

Вызывается функцией члена [OnNcDestroy](#onncdestroy) по умолчанию после уничтожения окна.

```
virtual void PostNcDestroy();
```

### <a name="remarks"></a>Примечания

Производные классы могут использовать эту функцию для пользовательской очистки, например для удаления **этого** указателя.

##  <a name="precreatewindow"></a>  CWnd::PreCreateWindow

Вызвано структурой перед созданием окна Windows, присоединенного к этому объекту `CWnd`.

```
virtual BOOL PreCreateWindow(CREATESTRUCT& cs);
```

### <a name="parameters"></a>Параметры

*cs*<br/>
Структура [CREATESTRUCT](/windows/win32/api/winuser/ns-winuser-createstructw) .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если создание окна должно быть продолжено; значение 0 указывает на сбой при создании.

### <a name="remarks"></a>Примечания

> [!WARNING]
> `CWnd::PreCreateWindow` теперь присваивает **этому** указателю член HMENU из *CS* , если меню имеет значение null, а стиль содержит WS_CHILD. Для правильной работы убедитесь, что элемент управления диалогового окна имеет идентификатор, отличный от NULL.
>
> Это изменение устраняет сбой в сценариях управляемого и машинного взаимодействия. Инструкция трассировки в `CWnd::Create` предупреждает разработчика о проблеме.

Никогда не вызывайте эту функцию напрямую.

Реализация по умолчанию этой функции проверяет наличие имени класса окна NULL и подставляет подходящее значение по умолчанию. Переопределите эту функцию-член, чтобы изменить структуру `CREATESTRUCT` перед созданием окна.

Каждый класс, производный от `CWnd`, добавляет свои собственные функции к переопределению `PreCreateWindow`. По проекту эти производные от `PreCreateWindow` не документированы. Чтобы определить стили, подходящие для каждого класса и взаимозависимости между этими стилями, можно изучить исходный код MFC для базового класса приложения. Если вы решили переопределить `PreCreateWindow,` можно определить, являются ли стили, используемые в базовом классе приложения, необходимыми функциями, используя информацию, собранную из исходного кода MFC.

Дополнительные сведения об изменении стилей окна см. в разделе [изменение стилей окна, созданного с помощью MFC](../../mfc/changing-the-styles-of-a-window-created-by-mfc.md).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#112](../../mfc/reference/codesnippet/cpp/cwnd-class_53.cpp)]

##  <a name="presubclasswindow"></a>  CWnd::PreSubclassWindow

Эта функция-член вызывается платформой, чтобы обеспечить выполнение других необходимых подклассов до того, как окно будет подклассом.

```
virtual void PreSubclassWindow();
```

### <a name="remarks"></a>Примечания

Переопределение этой функции члена позволяет создавать динамические подклассы элементов управления. Это расширенный переопределяемый объект.

##  <a name="pretranslatemessage"></a>  CWnd::PreTranslateMessage

Используется классом [CWinApp](../../mfc/reference/cwinapp-class.md) для преобразования сообщений окна перед их передачей функциям Windows [TranslateMessage](/windows/win32/api/winuser/nf-winuser-translatemessage) и [DispatchMessage](/windows/win32/api/winuser/nf-winuser-dispatchmessage) .

```
virtual BOOL PreTranslateMessage(MSG* pMsg);
```

### <a name="parameters"></a>Параметры

*пмсг*<br/>
Указывает на структуру [MSG](/windows/win32/api/winuser/ns-winuser-msg) , содержащую сообщение для обработки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если сообщение было переведено и не должно быть отправлено. 0, если сообщение не было переведено и должно быть отправлено.

##  <a name="print"></a>  CWnd::Print

Вызовите эту функцию-член для отрисовки текущего окна в указанном контексте устройства, который чаще всего находится в контексте устройства печати.

```
void Print(
    CDC* pDC,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства.

*dwFlags*<br/>
Задает параметры рисования. Этот параметр может быть одним или несколькими из следующих флагов:

- PRF_CHECKVISIBLE Нарисуйте окно только в том случае, если оно видимо.

- PRF_CHILDREN Нарисуйте все видимые дочерние окна.

- PRF_CLIENT Нарисуйте клиентскую область окна.

- PRF_ERASEBKGND стереть фон перед рисованием окна.

- PRF_NONCLIENT Нарисуйте неклиентскую область окна.

- PRF_OWNED нарисовать все собственные окна.

### <a name="remarks"></a>Примечания

[CWnd::D функция ефвиндовпрок](#defwindowproc) обрабатывает это сообщение, основанное на указанном параметре рисования:

- Если параметр PRF_CHECKVISIBLE указан и окно не отображается, ничего делать не нужно.

- Если указан PRF_NONCLIENT, нарисуйте неклиентскую область в заданном контексте устройства.

- Если указан PRF_ERASEBKGND, отправьте окну сообщение [WM_ERASEBKGND](/windows/win32/winmsg/wm-erasebkgnd) .

- Если указан PRF_CLIENT, отправьте окну сообщение [WM_PRINTCLIENT](/windows/win32/gdi/wm-printclient) .

- Если параметр PRF_CHILDREN установлен, то при отправке каждого видимого дочернего окна [WM_PRINT](/windows/win32/gdi/wm-print) сообщение.

- Если задано значение PRF_OWNED, отправьте каждое видимое собственное окно a WM_PRINT сообщение.

##  <a name="printclient"></a>  CWnd::PrintClient

Вызовите эту функцию-член, чтобы нарисовать любое окно в указанном контексте устройства (обычно это контекст устройства печати).

```
void PrintClient(
    CDC* pDC,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства.

*dwFlags*<br/>
Задает параметры рисования. Этот параметр может быть одним или несколькими из следующих флагов:

- PRF_CHECKVISIBLE Нарисуйте окно только в том случае, если оно видимо.

- PRF_CHILDREN Нарисуйте все видимые дочерние окна.

- PRF_CLIENT Нарисуйте клиентскую область окна.

- PRF_ERASEBKGND стереть фон перед рисованием окна.

- PRF_NONCLIENT Нарисуйте неклиентскую область окна.

- PRF_OWNED нарисовать все собственные окна.

##  <a name="printwindow"></a>  CWnd::PrintWindow

Копирует визуальное окно в указанный контекст устройства (обычно принтера).

```
BOOL PrintWindow(
    CDC* pDC,
    UINT nFlags) const;
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Указатель на контекст устройства, в который будет выполняться печать.

*нфлагс*<br/>
Задает параметры рисования. Список возможных значений см. в разделе [принтвиндов](/windows/win32/api/winuser/nf-winuser-printwindow).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [принтвиндов](/windows/win32/api/winuser/nf-winuser-printwindow), как описано в Windows SDK.

##  <a name="redrawwindow"></a>CWnd:: Редраввиндов

Обновляет указанный прямоугольник или регион в клиентской области данного окна.

```
BOOL RedrawWindow(
    LPCRECT lpRectUpdate = NULL,
    CRgn* prgnUpdate = NULL,
    UINT flags = RDW_INVALIDATE | RDW_UPDATENOW | RDW_ERASE);
```

### <a name="parameters"></a>Параметры

*лпректупдате*<br/>
Указывает на [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , содержащую координаты прямоугольника обновления. Этот параметр игнорируется, если *пргнупдате* содержит допустимый маркер области.

*prgnUpdate*<br/>
Определяет регион обновления. Если оба *пргнупдате* и *лпректупдате* имеют значение null, вся клиентская область добавляется в регион обновления.

*flags*<br/>
Для аннулирования окна используются следующие флаги:

- RDW_ERASE заставляет окно принимать [WM_ERASEBKGND](/windows/win32/winmsg/wm-erasebkgnd) сообщение при перерисовки окна. Также должен быть указан флаг RDW_INVALIDATE. в противном случае RDW_ERASE не оказывает никакого влияния.

- RDW_FRAME вызывает любую часть неклиентской области окна, которая пересекает область обновления, чтобы получить сообщение [WM_NCPAINT](/windows/win32/gdi/wm-ncpaint) . Также должен быть указан флаг RDW_INVALIDATE. в противном случае RDW_FRAME не оказывает никакого влияния.

- RDW_INTERNALPAINT приводит к тому, что [WM_PAINT](/windows/win32/gdi/wm-paint) сообщение отправляется в окно, независимо от того, содержит ли окно недопустимый регион.

- RDW_INVALIDATE сделать недействительным *лпректупдате* или *пргнупдате* (только одно может быть не NULL). Если оба значения равны NULL, все окно становится недействительным.

Для проверки окна используются следующие флаги:

- RDW_NOERASE подавляет все ожидающие сообщения WM_ERASEBKGND.

- RDW_NOFRAME подавляет все ожидающие сообщения WM_NCPAINT. Этот флаг следует использовать с RDW_VALIDATE и обычно используется с RDW_NOCHILDREN. Этот параметр следует использовать с осторожностью, так как он может препятствовать правильной прорисовке частей окна.

- RDW_NOINTERNALPAINT подавляет все ожидающие внутренние сообщения WM_PAINT. Этот флаг не влияет на WM_PAINT сообщений, полученных из недопустимых областей.

- RDW_VALIDATE проверяет *лпректупдате* или *пргнупдате* (только один может не иметь значение null). Если оба значения равны NULL, проверяется все окно. Этот флаг не влияет на внутренние WM_PAINT сообщения.

Следующие флаги контролируют, когда происходит перерисовка. Рисование не выполняется функцией `RedrawWindow`, если не указан один из этих битов.

- RDW_ERASENOW приводит к тому, что затронутые окна (как указано флагами RDW_ALLCHILDREN и RDW_NOCHILDREN) получают WM_NCPAINT и WM_ERASEBKGND сообщения, если это необходимо, перед возвратом функции. WM_PAINT сообщения откладываются.

- RDW_UPDATENOW приводит к тому, что затронутые окна (как указано флагами RDW_ALLCHILDREN и RDW_NOCHILDREN) получают WM_NCPAINT, WM_ERASEBKGND и WM_PAINT сообщения, если это необходимо, перед возвратом функции.

По умолчанию окна, затронутые функцией `RedrawWindow`, зависят от того, имеет ли заданное окно стиль WS_CLIPCHILDREN. Дочерние окна WS_CLIPCHILDREN Windows не затрагиваются. Однако эти окна, которые не WS_CLIPCHILDREN Windows, рекурсивно проверяются или становятся недействительными, пока не будет обнаружено окно WS_CLIPCHILDREN. Следующие флаги определяют, какие окна зависят от функции `RedrawWindow`:

- RDW_ALLCHILDREN включает дочерние окна, если таковые имеются, в операции перерисовки.

- RDW_NOCHILDREN Исключает дочерние окна, если таковые имеются, из операции перерисовки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если окно было успешно перерисовано; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если функция члена `RedrawWindow` используется для аннулирования части окна рабочего стола, это окно не получает сообщение [WM_PAINT](/windows/win32/gdi/wm-paint). Для перерисовки рабочего стола приложение должно использовать [CWnd:: валидатергн](#validatergn), [CWnd:: инвалидатергн](#invalidatergn), [CWnd:: упдатевиндов](#updatewindow)или [редраввиндов](/windows/win32/api/winuser/nf-winuser-redrawwindow)

##  <a name="reflectchildnotify"></a>CWnd:: Рефлектчилднотифи

Эта функция сообщения вызывается платформой из [ончилднотифи](#onchildnotify).

```
BOOL ReflectChildNotify(
    UINT message,
    WPARAM wParam,
    LPARAM lParam,
    LRESULT* pResult);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает сообщение, которое должно быть отражено.

*wParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*lParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*пресулт*<br/>
Результат, созданный дочерним окном для возврата родительским окном. Допускается значение NULL.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если сообщение было отражено; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Это вспомогательная функция, которая отражает *сообщение* в его источнике.

Отраженные сообщения отправляются непосредственно в [CWnd:: онвндмсг](#onwndmsg) или [от CCmdTarget:: OnCmdMsg](../../mfc/reference/ccmdtarget-class.md#oncmdmsg).

Дополнительные сведения о отражении сообщений см. в разделе [обработка отраженных сообщений](../../mfc/handling-reflected-messages.md).

##  <a name="reflectlastmsg"></a>  CWnd::ReflectLastMsg

Эта функция-член вызывается платформой для отражения последнего сообщения в дочернее окно.

```
static BOOL PASCAL ReflectLastMsg(
    HWND hWndChild,
    LRESULT* pResult = NULL);
```

### <a name="parameters"></a>Параметры

*хвндчилд*<br/>
Маркер дочернего окна.

*пресулт*<br/>
Результат, созданный дочерним окном для возврата родительским окном. Допускается значение NULL.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если сообщение было обработано; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция-член вызывает [сендчилднотифиластмсг](#sendchildnotifylastmsg) , если окно, идентифицируемое *хвндчилд* , является элементом управления OLE или окном в постоянной карте.

Дополнительные сведения о отражении сообщений см. в разделе [обработка отраженных сообщений](../../mfc/handling-reflected-messages.md).

##  <a name="releasedc"></a>CWnd:: Релеаседк

Освобождает контекст устройства, освобождая его для использования другими приложениями.

```
int ReleaseDC(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Определяет контекст устройства для освобождения.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Результат функции-члена `ReleaseDC` зависит от типа контекста устройства.

Приложение должно вызвать функцию члена `ReleaseDC` для каждого вызова функции члена [жетвиндовдк](#getwindowdc) и для каждого вызова функции члена [GetDC](#getdc) .

##  <a name="repositionbars"></a>CWnd:: Репоситионбарс

Вызывается для перемещения и изменения размера панелей элементов управления в клиентской области окна.

```
void RepositionBars(UINT nIDFirst,
    UINT nIDLast,
    UINT nIDLeftOver,
    UINT nFlag = reposDefault,
    LPRECT lpRectParam = NULL,
    LPCRECT lpRectClient = NULL,
    BOOL bStretch = TRUE) ;
```

### <a name="parameters"></a>Параметры

*nIDFirst*<br/>
Идентификатор первого элемента в диапазоне панелей элементов управления для изменения расположения и размера.

*нидласт*<br/>
Идентификатор последнего в диапазоне панелей элементов управления для изменения расположения и размера.

*нидлефтовер*<br/>
Указывает идентификатор области, которая заполняет оставшуюся часть клиентской области.

*нфлаг*<br/>
Может иметь одно из следующих значений:

- `CWnd::reposDefault` выполняет макет панелей элементов управления. *лпректпарам* не используется и может иметь значение null.

- `CWnd::reposQuery` макет панели элементов управления не выполняется. Вместо этого *лпректпарам* инициализируется размером клиентской области, как если бы макет был фактически выполнен.

- `CWnd::reposExtra` добавляет значения *лпректпарам* в клиентскую область *нидласт* , а также выполняет макет.

*лпректпарам*<br/>
Указывает на [структуру Rect](/windows/win32/api/windef/ns-windef-rect); использование, которое зависит от значения *нфлаг*.

*лпректклиент*<br/>
Указывает на [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , содержащую доступную клиентскую область. Если значение равно NULL, то будет использоваться клиентская область окна.

*бстретч*<br/>
Указывает, следует ли растянуть линию до размера рамки.

### <a name="remarks"></a>Примечания

Параметры *нидфирст* и *Нидласт* определяют диапазон идентификаторов элементов управления для перемещения в клиентской области. Параметр *нидлефтовер* указывает идентификатор дочернего окна (обычно это представление), которое перемещается и изменяется в размерах для заполнения остальной части клиентской области, не заполняемой панелями управления.

##  <a name="runmodalloop"></a>  CWnd::RunModalLoop

Вызывайте эту функцию члена для получения, преобразования или диспетчеризации сообщений до тех пор, пока [континуемодал](#continuemodal) не вернет значение false.

```
int RunModalLoop(DWORD dwFlags = 0);
```

### <a name="parameters"></a>Параметры

*dwFlags*<br/>
Указывает сообщение Windows для отправки. Может принимать одно из следующих значений:

- MLF_NOIDLEMSG не отправляйте [WM_ENTERIDLE](/windows/win32/dlgbox/wm-enteridle) сообщения родительскому элементу.

- MLF_NOKICKIDLE не отправляйте WM_KICKIDLE сообщения в окно.

- MLF_SHOWONIDLE отображать окно, когда очередь сообщений переходит в состояние бездействия.

### <a name="return-value"></a>Возвращаемое значение

Задает значение параметра *nрезультат* , передаваемого функции-члену [ендмодаллуп](#endmodalloop) , которая затем используется для завершения модального цикла.

### <a name="remarks"></a>Примечания

По умолчанию `ContinueModal` возвращает значение FALSE после вызова `EndModalLoop`. Возвращает значение, указанное в качестве *nрезультат* `EndModalLoop`.

##  <a name="screentoclient"></a>  CWnd::ScreenToClient

Преобразует экранные координаты указанной точки или прямоугольника в клиентские координаты.

```
void ScreenToClient(LPPOINT lpPoint) const;  void ScreenToClient(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лппоинт*<br/>
Указывает на объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) или [структуру точек](/windows/win32/api/windef/ns-windef-point) , содержащую экранные координаты для преобразования.

*лпрект*<br/>
Указывает на объект [крект](../../atl-mfc-shared/reference/crect-class.md) или [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , содержащую экранные координаты для преобразования.

### <a name="remarks"></a>Примечания

Функция члена `ScreenToClient` заменяет экранные координаты, заданные в *лппоинт* или *лпрект* , на клиентские координаты. Новые координаты задаются относительно левого верхнего угла `CWnd` клиентской области.

### <a name="example"></a>Пример

  См. пример для [CListCtrl:: жетитемрект](../../mfc/reference/clistctrl-class.md#getitemrect).

##  <a name="scrollwindow"></a>  CWnd::ScrollWindow

Прокручивает содержимое клиентской области текущего объекта `CWnd`.

```
void ScrollWindow(
    int xAmount,
    int yAmount,
    LPCRECT lpRect = NULL,
    LPCRECT lpClipRect = NULL);
```

### <a name="parameters"></a>Параметры

*ксамаунт*<br/>
Задает величину (в единицах устройства) горизонтальной прокрутки. Этот параметр должен быть отрицательным значением для прокрутки влево.

*ямаунт*<br/>
Задает величину (в единицах устройства) вертикальной прокрутки. Этот параметр должен иметь отрицательное значение для прокрутки вверх.

*лпрект*<br/>
Указывает на объект [крект](../../atl-mfc-shared/reference/crect-class.md) или [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , указывающую часть клиентской области для прокрутки. Если *лпрект* имеет значение null, прокручивается вся клиентская область. Курсор перемещается, если прямоугольник курсора пересекается с прямоугольником прокрутки.

*лпклипрект*<br/>
Указывает на `CRect` объект или структуру `RECT`, указывающую прямоугольник обрезки для прокрутки. Прокручиваться только биты внутри этого прямоугольника. Биты за пределами этого прямоугольника не затрагиваются, даже если они находятся в прямоугольнике *лпрект* . Если *лпклипрект* имеет значение null, то для прямоугольника прокрутки не выполняется обрезка.

### <a name="remarks"></a>Примечания

Если курсор находится в `CWnd` прокрутки, `ScrollWindow` автоматически скрывает курсор, чтобы предотвратить его стирание, а затем восстанавливает курсор после завершения прокрутки. Расположение курсора корректируется соответствующим образом.

Область, обнаруженная функцией-членом `ScrollWindow`, не перерисовывается, но объединяется с областью обновления текущего объекта `CWnd`. В конечном итоге приложение будет получать [WM_PAINT](/windows/win32/gdi/wm-paint) сообщение о том, что регион нуждается в перерисовки. Чтобы перекрасить необнаруженную область одновременно с прокруткой, вызовите функцию-член [упдатевиндов](#updatewindow) сразу после вызова `ScrollWindow`.

Если *лпрект* имеет значение null, позиции любого дочернего окна в окне смещаются на величину, заданную параметрами *ксамаунт* и *ямаунт*, и все недопустимые (нерисованные) области в `CWnd` также будут смещены. `ScrollWindow` выполняется быстрее, если *лпрект* имеет значение null.

Если *лпрект* не равно null, позиции дочерних окон не изменяются, а недопустимые области в `CWnd` не являются смещениями. Чтобы избежать проблем с обновлением, если *лпрект* не равен null, вызовите функцию-член `UpdateWindow` для перерисовки `CWnd` перед вызовом `ScrollWindow`.

##  <a name="scrollwindowex"></a>  CWnd::ScrollWindowEx

Прокручивает содержимое клиентской области окна.

```
int ScrollWindowEx(
    int dx,
    int dy,
    LPCRECT lpRectScroll,
    LPCRECT lpRectClip,
    CRgn* prgnUpdate,
    LPRECT lpRectUpdate,
    UINT flags);
```

### <a name="parameters"></a>Параметры

*DX*<br/>
Задает величину (в единицах устройства) горизонтальной прокрутки. Этот параметр должен иметь отрицательное значение для прокрутки влево.

*DY*<br/>
Задает величину (в единицах устройства) вертикальной прокрутки. Этот параметр должен иметь отрицательное значение для прокрутки вверх.

*лпректскролл*<br/>
Указывает на [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , указывающую часть клиентской области для прокрутки. Если этот параметр имеет значение NULL, прокручивается вся клиентская область.

*лпректклип*<br/>
Указывает на структуру `RECT`, указывающую прямоугольник обрезки для прокрутки. Эта структура имеет приоритет над прямоугольником, на который указывает *лпректскролл*. Прокручиваться только биты внутри этого прямоугольника. Биты за пределами этого прямоугольника не затрагиваются, даже если они находятся в прямоугольнике *лпректскролл* . Если этот параметр имеет значение NULL, то для прямоугольника прокрутки не выполняется обрезка.

*prgnUpdate*<br/>
Определяет область, которая изменяется для хранения области, недействительной при прокрутке. Этот параметр может иметь значение NULL.

*лпректупдате*<br/>
Указывает на структуру `RECT`, которая получит границы прямоугольника, недействительные при прокрутке. Этот параметр может иметь значение NULL.

*flags*<br/>
Может иметь одно из следующих значений:

- SW_ERASE при указании в SW_INVALIDATE, удаляет новый недействительный регион, отправляя в окно [WM_ERASEBKGND](/windows/win32/winmsg/wm-erasebkgnd) сообщение.

- SW_INVALIDATE делает недействительным область, обозначенную параметром *пргнупдате* после прокрутки.

- SW_SCROLLCHILDREN прокручивает все дочерние окна, пересекающие прямоугольник, на который указывает *лпректскролл* , на число пикселей, заданное в *DX* и *dy*. Windows отправляет [WM_MOVE](/windows/win32/winmsg/wm-move) сообщение всем дочерним окнам, которые пересекают *лпректскролл*, даже если они не перемещаются. Курсор перемещается при прокрутке дочернего окна, и прямоугольник курсора пересекается с прямоугольником прокрутки.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение — СИМПЛЕРЕГИОН (прямоугольный недействительный регион), КОМПЛЕКСРЕГИОН (непрямоугольный недопустимый регион, перекрывающиеся прямоугольники) или НУЛЛРЕГИОН (без недействительной области), если функция выполнена успешно. в противном случае возвращаемое значение — ERROR.

### <a name="remarks"></a>Примечания

Эта функция аналогична функции [скроллвиндов](/windows/win32/api/winuser/nf-winuser-scrollwindow) с некоторыми дополнительными функциями.

Если [SW_INVALIDATE](/windows/win32/api/winuser/nf-winuser-scrollwindowex) и [SW_ERASE](/windows/win32/api/winuser/nf-winuser-scrollwindowex) не указаны, функция-член `ScrollWindowEx` не делает недействительной область, которая прокручивается из. Если один из этих флагов установлен, `ScrollWindowEx` сделает эту область недействительной. Область не обновляется до тех пор, пока приложение не вызовет функцию-член [упдатевиндов](/windows/win32/api/winuser/nf-winuser-updatewindow) , вызывает функцию-член [редраввиндов](/windows/win32/api/winuser/nf-winuser-redrawwindow) (указав [RDW_UPDATENOW](/windows/win32/api/winuser/nf-winuser-redrawwindow) или [RDW_ERASENOW](/windows/win32/api/winuser/nf-winuser-redrawwindow)) или извлекает сообщение [WM_PAINT](/windows/win32/gdi/wm-paint) из очереди приложения.

Если окно имеет стиль [WS_CLIPCHILDREN](/windows/win32/api/winuser/nf-winuser-createwindoww) , то возвращаемые области, заданные *пргнупдате* и *лпректупдате* , представляют общую область прокручиваемого окна, которую необходимо обновить, включая все области дочерних окон, требующие обновления.

Если указан флаг [SW_SCROLLCHILDREN](/windows/win32/api/winuser/nf-winuser-scrollwindowex) , Windows не будет правильно обновлять экран, если часть дочернего окна прокручивается. Часть прокручиваемого дочернего окна, которая находится за пределами исходного прямоугольника, не будет стерта и не будет перерисована должным образом в новом месте назначения. Используйте функцию Windows [дефервиндовпос](/windows/win32/api/winuser/nf-winuser-deferwindowpos) для перемещения дочерних окон, которые полностью находятся внутри прямоугольника *лпректскролл* . Курсор перемещается, если установлен флаг SW_SCROLLCHILDREN и прямоугольник курсора пересекается с прямоугольником прокрутки.

Все координаты ввода и вывода (для *лпректскролл*, *лпректклип*, *лпректупдате*и *пргнупдате*) считаются в клиентских координатах независимо от того, имеет ли окно стиль класса CS_OWNDC или CS_CLASSDC. При необходимости используйте функции Windows [лптодп](/windows/win32/api/wingdi/nf-wingdi-lptodp) и [дптолп](/windows/win32/api/wingdi/nf-wingdi-dptolp) для преобразования в логические координаты и обратно.

##  <a name="sendchildnotifylastmsg"></a>  CWnd::SendChildNotifyLastMsg

Эта функция-член вызывается платформой для предоставления сообщения уведомления дочернему окну из родительского окна, чтобы дочернее окно могла справиться с задачей.

```
BOOL SendChildNotifyLastMsg(LRESULT* pResult = NULL);
```

### <a name="parameters"></a>Параметры

*пресулт*<br/>
Результат, созданный дочерним окном для возврата родительским окном.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если дочернее окно обработало сообщение, отправленное его родительскому окну; в противном случае — 0.

### <a name="remarks"></a>Примечания

`SendChildNotifyLastMsg` отправить текущее сообщение в источник, если это сообщение, которое отражается.

Дополнительные сведения о отражении сообщений см. в разделе [обработка отраженных сообщений](../../mfc/handling-reflected-messages.md).

##  <a name="senddlgitemmessage"></a>  CWnd::SendDlgItemMessage

Отправляет сообщение элементу управления.

```
LRESULT SendDlgItemMessage(
    int nID,
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Задает идентификатор элемента управления диалогового окна, который получит сообщение.

*message*<br/>
Указывает отправляемое сообщение.

*wParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*lParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Указывает значение, возвращаемое процедурой окна элемента управления, или 0, если элемент управления не найден.

### <a name="remarks"></a>Примечания

Функция члена `SendDlgItemMessage` не возвращает значение, пока сообщение не будет обработано.

Использование `SendDlgItemMessage` идентично получению `CWnd`* к заданному элементу управления и вызову функции-члена [SendMessage](#sendmessage) .

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#113](../../mfc/reference/codesnippet/cpp/cwnd-class_54.cpp)]

##  <a name="sendmessage"></a>  CWnd::SendMessage

Отправляет указанное сообщение в это окно.

```
LRESULT SendMessage(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает отправляемое сообщение.

*wParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*lParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Результат обработки сообщения; его значение зависит от отправленного сообщения.

### <a name="remarks"></a>Примечания

Функция члена `SendMessage` вызывает процедуру окна напрямую и не возвращает значение до тех пор, пока эта процедура окна не обработала сообщение. Это отличается от функции-члена [сообщения](#postmessage) , которая помещает сообщение в очередь сообщений окна и немедленно возвращает результат.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#101](../../mfc/reference/codesnippet/cpp/cwnd-class_41.cpp)]

##  <a name="sendmessagetodescendants"></a>CWnd:: Сендмессажетодесцендантс

Вызовите эту функцию-член, чтобы отправить указанное сообщение Windows всем окнам-потомкам.

```
void SendMessageToDescendants(
    UINT message,
    WPARAM wParam = 0,
    LPARAM lParam = 0,
    BOOL bDeep = TRUE,
    BOOL bOnlyPerm = FALSE);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает отправляемое сообщение.

*wParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*lParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*бдип*<br/>
Задает уровень поиска. При значении TRUE рекурсивный поиск всех дочерних элементов; Если значение равно FALSE, ищите только непосредственные дочерние элементы.

*бонлиперм*<br/>
Указывает, будет ли сообщение получено временными окнами. Если значение — TRUE, временные окна могут получить сообщение; Если задано значение FALSE, сообщение получит только постоянные окна. Дополнительные сведения о временных окнах см. в [техническом примечании 3](../../mfc/tn003-mapping-of-windows-handles-to-objects.md).

### <a name="remarks"></a>Примечания

Если *БДИП* имеет значение false, сообщение отправляется только в непосредственные дочерние элементы окна; в противном случае сообщение отправляется всем окнам-потомкам.

Если *БДИП* и *бонлиперм* имеют значение true, поиск продолжится под временными окнами. В этом случае сообщение появляется только в постоянных окнах Windows. Если *БДИП* имеет значение false, сообщение отправляется только в непосредственные дочерние элементы окна.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#114](../../mfc/reference/codesnippet/cpp/cwnd-class_55.cpp)]

##  <a name="sendnotifymessage"></a>  CWnd::SendNotifyMessage

Отправляет указанное сообщение в окно.

```
BOOL SendNotifyMessage(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает отправляемое сообщение.

*wParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

*lParam*<br/>
Указывает дополнительные сведения, зависящие от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если окно было создано вызывающим потоком, `SendNotifyMessage` вызывает процедуру окна для окна и не возвращает значение до тех пор, пока процедура окна не обработала сообщение. Если окно было создано другим потоком, `SendNotifyMessage` передает сообщение в процедуру окна и немедленно возвращает результат. Он не ждет завершения обработки сообщения процедурой Window.

##  <a name="setactivewindow"></a>CWnd:: Сетактивевиндов

Делает `CWnd` активным окном.

```
CWnd* SetActiveWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Окно, которое было ранее активным.

Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Функцию члена `SetActiveWindow` следует использовать с осторожностью, так как она позволяет приложению произвольно перехватить активное окно и фокус ввода. Как правило, Windows следит за всеми активациями.

##  <a name="setcapture"></a>CWnd:: Сеткаптуре

Приводит к тому, что все последующие вводы мыши отправляются в текущий объект `CWnd` независимо от положения курсора.

```
CWnd* SetCapture();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект окна, который ранее получил все входные данные мыши. Если такого окна нет, оно имеет значение NULL. Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Когда `CWnd` больше не требует ввода всех входных данных мыши, приложение должно вызвать функцию [релеасекаптуре](/windows/win32/api/winuser/nf-winuser-releasecapture) , чтобы другие окна могли получить ввод с помощью мыши.

При захвате ввода мыши в активное окно не отправляются сообщения WM_NCHITTEST или WM_SETCURSOR.

##  <a name="setcaretpos"></a>CWnd:: Сеткаретпос

Задает расположение курсора.

```
static void PASCAL SetCaretPos(POINT point);
```

### <a name="parameters"></a>Параметры

*point*<br/>
Задает новые координаты x и y (в клиентских координатах) курсора.

### <a name="remarks"></a>Примечания

Функция-член `SetCaretPos` перемещает курсор, только если он принадлежит окну в текущей задаче. `SetCaretPos` перемещает курсор в том случае, если курсор скрыт.

Курсор является общим ресурсом. Окно не должно перемещать курсор, если он не владеет курсором.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#115](../../mfc/reference/codesnippet/cpp/cwnd-class_56.cpp)]

##  <a name="setclipboardviewer"></a>  CWnd::SetClipboardViewer

Добавляет это окно в цепочку окон, которые получают уведомления (с помощью WM_DRAWCLIPBOARD сообщения) при каждом изменении содержимого буфера обмена.

```
HWND SetClipboardViewer();
```

### <a name="return-value"></a>Возвращаемое значение

Маркер для следующего окна в цепочке средства просмотра буфера обмена в случае успеха. Приложения должны сохранить этот обработчик (он может храниться как переменная-член) и использовать его при ответе на сообщения цепочки средства просмотра буфера обмена.

### <a name="remarks"></a>Примечания

Окно, которое является частью цепочки средств просмотра буфера обмена, должно отвечать на [WM_DRAWCLIPBOARD](#ondrawclipboard), [WM_CHANGECBCHAIN](#onchangecbchain)и [WM_DESTROY](#ondestroy) сообщения, а также передавать сообщение в следующее окно в цепочке.

Эта функция-член отправляет в окно сообщение WM_DRAWCLIPBOARD. Поскольку обработчик следующего окна в цепочке средств просмотра буфера обмена еще не возвращен, приложение не должно передавать WM_DRAWCLIPBOARD сообщение, которое оно получает во время вызова `SetClipboardViewer`.

Чтобы удалить себя из цепочки просмотра буфера обмена, приложение должно вызвать функцию-член [чанжеклипбоардчаин](#changeclipboardchain) .

##  <a name="setdlgctrlid"></a>  CWnd::SetDlgCtrlID

Задает новое значение идентификатора окна или идентификатора элемента управления для окна.

```
int SetDlgCtrlID(int nID);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Новое значение, заданное для идентификатора элемента управления.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий идентификатор окна, если выполнено успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Окно может быть любым дочерним окном, а не только элементом управления в диалоговом окне. Окно не может быть окном верхнего уровня.

##  <a name="setdlgitemint"></a>  CWnd::SetDlgItemInt

Устанавливает текст данного элемента управления в диалоговом окне в строковое представление указанного целочисленного значения.

```
void SetDlgItemInt(
    int nID,
    UINT nValue,
    BOOL bSigned = TRUE);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Указывает целочисленный идентификатор изменяемого элемента управления.

*Nзначение*<br/>
Задает целочисленное значение, используемое для создания текста элемента.

*бсигнед*<br/>
Указывает, является ли целочисленное значение знакомым или неподписанным. Если этот параметр имеет значение TRUE, *nзначение* подписывается. Если этот параметр имеет значение TRUE, а *nзначение* меньше 0, то перед первой цифрой в строке ставится знак минус. Если этот параметр имеет значение FALSE, *nзначение* не имеет знака.

### <a name="remarks"></a>Примечания

`SetDlgItemInt` отправляет [WM_SETTEXT](/windows/win32/winmsg/wm-settext) сообщение заданному элементу управления.

### <a name="example"></a>Пример

  См. пример для [CWnd:: сетдлгитемтекст](#setdlgitemtext).

##  <a name="setdlgitemtext"></a>  CWnd::SetDlgItemText

Задает заголовок или текст элемента управления, принадлежащего окну или диалоговому окну.

```
void SetDlgItemText(
    int nID,
    LPCTSTR lpszString);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Определяет элемент управления, текст которого необходимо задать.

*лпсзстринг*<br/>
Указывает на объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) или строку, завершающуюся нулем, которая содержит текст, копируемый в элемент управления.

### <a name="remarks"></a>Примечания

`SetDlgItemText` отправляет [WM_SETTEXT](/windows/win32/winmsg/wm-settext) сообщение заданному элементу управления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#116](../../mfc/reference/codesnippet/cpp/cwnd-class_57.cpp)]

##  <a name="setforegroundwindow"></a>  CWnd::SetForegroundWindow

Помещает создавший окно поток на передний план и активирует окно.

```
BOOL SetForegroundWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Ввод с клавиатуры направляется в окно, и для пользователя изменяются различные визуальные подсказки. Окно переднего плана — это окно, с помощью которого пользователь в данный момент работает. Окно переднего плана применяется только к окнам верхнего уровня (окнам фрейма или диалоговым окнам).

### <a name="example"></a>Пример

  См. пример для [CWnd:: FindWindow](#findwindow).

##  <a name="setfocus"></a>CWnd:: SetFocus

Утверждает фокус ввода.

```
CWnd* SetFocus();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект окна, который ранее имел фокус ввода. Если такого окна нет, оно имеет значение NULL. Возвращаемый указатель может быть временным и не должен храниться.

### <a name="remarks"></a>Примечания

Фокус ввода направляет все последующие вводы с клавиатуры в это окно. Любое окно, которое ранее получило фокус ввода.

Функция членf `SetFocus` отправляет сообщение [WM_KILLFOCUS](/windows/win32/inputdev/wm-killfocus) в окно, которое теряет фокус ввода и сообщение [WM_SETFOCUS](/windows/win32/inputdev/wm-setfocus) в окне, которое получает фокус ввода. Он также активирует либо окно, либо его родительский элемент.

Если текущее окно активно, но не имеет фокуса (т. е. окно не имеет фокуса), любая нажатая клавиша будет создавать сообщения [WM_SYSCHAR](#onsyschar), [WM_SYSKEYDOWN](#onsyskeydown)или [WM_SYSKEYUP](#onsyskeyup).

##  <a name="setfont"></a>CWnd:: Сетфонт

Отправляет в окно сообщение WM_SETFONT, чтобы использовать указанный шрифт.

```
void SetFont(
    CFont* pFont,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*пфонт*<br/>
Указатель на объект `CFont`.

*bRedraw*<br/>
Значение TRUE, чтобы окно перерисовывается сразу же после обработки сообщения WM_SETFONT; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод не действует, если только окно не обрабатывает сообщение WM_SETFONT. Многие классы MFC, производные от `CWnd`, обрабатывают это сообщение, так как они присоединены к предопределенному классу окна, который включает обработчик сообщений для WM_SETFONT сообщения. Чтобы использовать этот метод, классы, производные от `CWnd`, должны определять обработчик метода для сообщения WM_SETFONT.

##  <a name="seticon"></a>CWnd:: Сетикон

Вызовите эту функцию-член, чтобы задать для маркера определенный значок, идентифицируемый *Хикон*.

```
HICON SetIcon(
    HICON hIcon,
    BOOL bBigIcon);
```

### <a name="parameters"></a>Параметры

*hIcon*<br/>
Маркер для предыдущего значка.

*ббигикон*<br/>
Задает значок 32 пикселей на 32 пикселей, если значение TRUE; Задает значок 16 пикселей на 16 пикселей при значении FALSE.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор для значка.

### <a name="remarks"></a>Примечания

При регистрации класса окна он выбирает значок.

### <a name="example"></a>Пример

  См. пример для [CWnd:: жетсистеммену](#getsystemmenu).

##  <a name="setlayeredwindowattributes"></a>CWnd:: SetLayeredWindowAttributes

Задает ключ цвета прозрачности многослойного окна.

```
BOOL SetLayeredWindowAttributes(
    COLORREF crKey,
    BYTE bAlpha,
    DWORD dwFlags);
```

### <a name="parameters"></a>Параметры

*кркэй*<br/>
Указатель на значение COLORREF, указывающее цветовой ключ прозрачности, используемый при создании многоуровневого окна. Все пиксели, закрашенные окном этого цвета, будут прозрачными. Чтобы создать COLORREF, используйте макрос RGB.

*балфа*<br/>
Значение альфа, используемое для описания прозрачности многоуровневого окна. Дополнительные сведения см. в описании `SourceConstantAlpha` элемента структуры [блендфунктион](/windows/win32/api/wingdi/ns-wingdi-blendfunction) . Если *балфа* имеет значение 0, окно полностью прозрачно. Если *балфа* имеет значение 255, окно является непрозрачным.

*dwFlags*<br/>
Указывает действие, которое необходимо выполнить. Этот параметр может принимать одно или несколько следующих значений. Список возможных значений см. в разделе [SetLayeredWindowAttributes](/windows/win32/api/winuser/nf-winuser-setlayeredwindowattributes).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [SetLayeredWindowAttributes](/windows/win32/api/winuser/nf-winuser-setlayeredwindowattributes), как описано в Windows SDK.

##  <a name="setmenu"></a>  CWnd::SetMenu

Устанавливает текущее меню в указанное меню.

```
BOOL SetMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

*пмену*<br/>
Определяет новое меню. Если этот параметр имеет значение NULL, то удаляется текущее меню.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если меню изменено; в противном случае — 0.

### <a name="remarks"></a>Примечания

Вызывает перерисовку окна для отражения изменения меню.

`SetMenu` не будет уничтожить предыдущее меню. Для выполнения этой задачи приложение должно вызвать функцию члена [кмену::D естроймену](../../mfc/reference/cmenu-class.md#destroymenu) .

### <a name="example"></a>Пример

  См. пример для [кмену:: лоадмену](../../mfc/reference/cmenu-class.md#loadmenu).

##  <a name="setowner"></a>  CWnd::SetOwner

Устанавливает владельца текущего окна в указанный объект окна.

```
void SetOwner(CWnd* pOwnerWnd);
```

### <a name="parameters"></a>Параметры

*повнервнд*<br/>
Определяет нового владельца объекта Window. Если этот параметр имеет значение NULL, то у объекта Window нет владельца.

### <a name="remarks"></a>Примечания

Этот владелец может затем получить сообщения команды от текущего объекта Window. По умолчанию родительским элементом текущего окна является его владелец.

Часто бывает полезно устанавливать соединения между объектами окна, не связанными с иерархией окон. Например, [CToolBar](../../mfc/reference/ctoolbar-class.md) отправляет уведомления владельцу, а не его родителю. Это позволяет панели инструментов стать дочерним элементом одного окна (например, окном приложения-контейнера OLE) при отправке уведомлений в другое окно (например, в окно фрейма на месте). Более того, когда окно сервера деактивируется или активируется во время редактирования на месте, все окна, принадлежащие окну фрейма, скрываются или отображаются. Этот владелец явно задается вызовом `SetOwner`.

Понятие владения этой функцией отличается от концепции «владение [»](/windows/win32/api/winuser/nf-winuser-getwindow).

##  <a name="setparent"></a>CWnd:: Сетпарент

Изменяет родительское окно дочернего окна.

```
CWnd* SetParent(CWnd* pWndNewParent);
```

### <a name="parameters"></a>Параметры

*пвндневпарент*<br/>
Определяет новое родительское окно.

### <a name="return-value"></a>Возвращаемое значение

Указатель на предыдущий объект родительского окна в случае успеха. Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

Если дочернее окно отображается, Windows выполняет соответствующую перерисовку и перерисование.

##  <a name="setproperty"></a>CWnd:: SetProperty

Вызовите эту функцию члена, чтобы задать свойство элемента управления OLE, заданное параметром *двдиспид*.

```
void AFX_CDECL SetProperty(
    DISPID dwDispID,
    VARTYPE vtProp, ...);
```

### <a name="parameters"></a>Параметры

*двдиспид*<br/>
Определяет свойство, которое необходимо задать.

*втпроп*<br/>
Определяет тип свойства, которое необходимо задать. Возможные значения см. в подразделе "Примечания" раздела [COleDispatchDriver::InvokeHelper](../../mfc/reference/coledispatchdriver-class.md#invokehelper).

*...*<br/>
Единственный параметр типа, указанного параметром *втпроп*.

### <a name="remarks"></a>Примечания

> [!NOTE]
> Эта функция должна вызываться только для объекта `CWnd`, представляющего элемент управления OLE.

Дополнительные сведения об использовании этой функции члена с контейнерами элементов управления OLE см. в статье [контейнерах элементов управления ActiveX: Программирование элементов управления ActiveX в контейнере элементов управления ActiveX](../../mfc/programming-activex-controls-in-a-activex-control-container.md).

##  <a name="setredraw"></a>CWnd:: Сетредрав

Приложение вызывает `SetRedraw`, чтобы разрешить перерисовку изменений или предотвратить перерисовку изменений.

```
void SetRedraw(BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*bRedraw*<br/>
Задает состояние флага перерисовки. Если этот параметр имеет значение TRUE, устанавливается флаг перерисовки; Если значение равно FALSE, флажок снимается.

### <a name="remarks"></a>Примечания

Эта функция члена задает или очищает флаг перерисовки. Если флажок перерисовки не установлен, содержимое не будет обновляться после каждого изменения и не будет перерисовываться до тех пор, пока не установится флаг перерисовки. Например, приложение, которое должно добавить несколько элементов в список, может снять флаг перерисовки, добавить элементы, а затем установить флаг перерисовки. Наконец, приложение может вызвать функцию члена [Invalidate](#invalidate) или [InvalidateRect](#invalidaterect), чтобы перерисовать список.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#117](../../mfc/reference/codesnippet/cpp/cwnd-class_58.cpp)]

##  <a name="setscrollinfo"></a>  CWnd::SetScrollInfo

Вызовите эту функцию-член, чтобы задать сведения, которые структура `SCROLLINFO` удерживает о полосе прокрутки.

```
BOOL SetScrollInfo(
    int nBar,
    LPSCROLLINFO lpScrollInfo,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Указывает, является ли полоса прокрутки элементом управления или частью неклиентской области окна. Если он является частью неклиентской области, НБАР также указывает, располагается ли полоса прокрутки горизонтально, вертикально или и то, и другое. Он должен быть одним из следующих:

- SB_CTL содержит параметры для элемента управления "полоса прокрутки". Элемент данных `m_hWnd` должен быть маркером элемента управления "полоса прокрутки".

- SB_HORZ Указывает, что окно является горизонтальной полосой прокрутки.

- SB_VERT указывает, что окно является вертикальной полосой прокрутки.

*лпскроллинфо*<br/>
Указатель на структуру [скроллинфо](/windows/win32/api/winuser/ns-winuser-scrollinfo) . Дополнительные сведения об этой структуре см. в Windows SDK.

*bRedraw*<br/>
Указывает, следует ли перерисовать полосу прокрутки для отражения новой позицией. Если *бредрав* имеет значение true, полоса прокрутки перерисовывается. Если значение равно FALSE, оно не перерисовывается. По умолчанию полоса прокрутки перерисовывается.

### <a name="return-value"></a>Возвращаемое значение

В случае успеха возвращается значение TRUE. В противном случае — FALSE.

### <a name="remarks"></a>Примечания

Структура [скроллинфо](/windows/win32/api/winuser/ns-winuser-scrollinfo) содержит сведения о полосе прокрутки, включая минимальные и максимальные положения прокрутки, размер страницы и положение ползунка (бегунка). Дополнительные сведения об изменении структуры по умолчанию см. в разделе `SCROLLINFO` Structure статьи Windows SDK.

Обработчики сообщений Windows MFC, указывающие расположение полосы прокрутки, [CWnd:: онхскролл](#onhscroll) и [CWnd:: онвскролл](#onvscroll), предоставляют только 16 бит данных о положении. [Жетскроллинфо](#getscrollinfo) и `SetScrollInfo` предоставляют 32 бит данных о положении полосы прокрутки. Таким же, приложение может вызвать `GetScrollInfo` при обработке `CWnd::OnHScroll` или `CWnd::OnVScroll` для получения 32-разрядных данных о положении полосы прокрутки.

> [!NOTE]
> [CWnd:: жетскроллинфо](#getscrollinfo) позволяет приложениям использовать позиции полосы прокрутки 32-бит.

##  <a name="setscrollpos"></a>CWnd:: Сетскроллпос

Задает текущую точку прокрутки и (при запросе) перерисовывает полосу прокрутки, чтобы отразить новую точку полосы прокрутки.

```
int SetScrollPos(
    int nBar,
    int nPos,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Задает полосу прокрутки, которую необходимо задать. Этот параметр может быть одним из следующих:

- SB_HORZ задает расположение ползунка в горизонтальной полосе прокрутки окна.

- SB_VERT Задает расположение ползунка в вертикальной полосе прокрутки окна.

*nPos*<br/>
Задает новое расположение ползунка. Он должен находиться в пределах диапазона прокрутки.

*bRedraw*<br/>
Указывает, следует ли перерисовать полосу прокрутки, чтобы отразить новую точку прокрутки. Если этот параметр имеет значение TRUE, полоса прокрутки перерисовывается; Если значение равно FALSE, полоса прокрутки не перерисовывается.

### <a name="return-value"></a>Возвращаемое значение

Предыдущее расположение ползунка.

### <a name="remarks"></a>Примечания

Установка параметра *бредрав* в значение false полезно, когда полоса прокрутки будет перерисована при последующем вызове другой функции.

##  <a name="setscrollrange"></a>  CWnd::SetScrollRange

Задает для указанной полосы прокрутки положения минимума и максимума.

```
void SetScrollRange(
    int nBar,
    int nMinPos,
    int nMaxPos,
    BOOL bRedraw = TRUE);
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Задает полосу прокрутки, которую необходимо задать. Этот параметр может принимать одно из следующих значений:

- SB_HORZ задает диапазон горизонтальной полосы прокрутки окна.

- SB_VERT Задает диапазон вертикальной полосы прокрутки окна.

*нминпос*<br/>
Задает минимальную прокрутку.

*нмакспос*<br/>
Задает максимальную точку прокрутки.

*bRedraw*<br/>
Указывает, следует ли перерисовать полосу прокрутки для отражения изменения. Если *бредрав* имеет значение true, полоса прокрутки перерисовывается; Если значение равно FALSE, полоса прокрутки не перерисовывается.

### <a name="remarks"></a>Примечания

Его также можно использовать для скрытия или отображения стандартных полос прокрутки.

Приложение не должно вызывать эту функцию для скрытия полосы прокрутки при обработке сообщения уведомления полосы прокрутки.

Если вызов метода `SetScrollRange` сразу после вызова функции-члена [сетскроллпос](#setscrollpos) , параметр *бредрав* в функции-члене `SetScrollPos` должен иметь значение 0, чтобы не допустить прорисовки полосы прокрутки дважды.

По умолчанию для стандартной полосы прокрутки используется диапазон от 0 до 100. Диапазон по умолчанию для элемента управления "полоса прокрутки" пуст (значения *нминпос* и *нмакспос* равны 0). Разница между значениями, заданными в *нминпос* и *нмакспос* , не должна превышать INT_MAX.

##  <a name="settimer"></a>  CWnd::SetTimer

Устанавливает системный таймер.

```
UINT_PTR SetTimer(
    UINT_PTR nIDEvent,
    UINT nElapse,
    void (CALLBACK* lpfnTimer)(HWND,
    UINT,
    UINT_PTR,
    DWORD));
```

### <a name="parameters"></a>Параметры

*нидевент*<br/>
Указывает ненулевой идентификатор таймера. Если идентификатор таймера уникален, `SetTimer`возвращается то же значение. В противном случае `SetTimer` определяет новое уникальное значение и возвращает его. Для таймера окна (имеющего функцию обратного вызова NULL) значение должно быть уникальным только для других таймеров Windows, связанных с текущим окном. Для таймера обратного вызова значение должно быть уникальным для всех таймеров во всех процессах. Поэтому при создании таймера обратного вызова более вероятно, что возвращаемое значение может отличаться от указанного значения.

*нелапсе*<br/>
Задает значение времени ожидания или интервал в миллисекундах.

*лпфнтимер*<br/>
Указывает адрес функции обратного вызова, предоставляемой приложением `TimerProc`, обрабатывающей сообщения [WM_TIMER](/windows/win32/winmsg/wm-timer) . Если этот параметр имеет значение NULL, WM_TIMER сообщения помещаются в очередь сообщений приложения и обрабатываются объектом `CWnd`.

### <a name="return-value"></a>Возвращаемое значение

Идентификатор таймера нового таймера, если функция выполнена успешно. Это значение может быть или не равно значению, переданному с помощью параметра *нидевент* . Приложение всегда должно передавать возвращаемое значение функции члена [киллтимер](#killtimer) для уничтожения таймера. Ненулевое значение в случае успешного выполнения; в противном случае — значение 0.

### <a name="remarks"></a>Примечания

Указывается значение интервала, и каждый раз, когда истекает интервал, система отправляет сообщение WM_TIMER в очередь установки приложения или передает сообщение в определенную приложением функцию обратного вызова `TimerProc`.

Функция обратного вызова *лпфнтимер* не может называться `TimerProc`, но должна быть объявлена как статическая и определена следующим образом.

```
void CALLBACK TimerProc(
    HWND hWnd,   // handle of CWnd that called SetTimer
    UINT nMsg,   // WM_TIMER
    UINT_PTR nIDEvent,   // timer identification
    DWORD dwTime    // system time);
```

### <a name="example"></a>Пример

В этом примере используются `CWnd::SetTimer`, `CWnd::OnTimer`и `CWnd::KillTimer` для управления сообщениями WM_TIMER. Первый таймер настроен на отправку WM_TIMER сообщения в основное окно фрейма каждые 2 секунды в `OnStartTimer`. Обработчик событий `OnTimer` обрабатывает WM_TIMER сообщения для главного окна фрейма. Этот метод заставляет динамик ПК выдавать звуковой сигнал каждые 2 секунды. Второй таймер отправляет сообщение функции обратного вызова каждые 3,75 секунд. `OnStopTimer` останавливает оба таймера, вызывая `CWnd::KillTimer` для каждого идентификатора таймера.

[!code-cpp[NVC_MFCWindowing#118](../../mfc/reference/codesnippet/cpp/cwnd-class_59.cpp)]

##  <a name="setwindowcontexthelpid"></a>  CWnd::SetWindowContextHelpId

Вызовите эту функцию-член, чтобы связать идентификатор контекста справки с указанным окном.

```
BOOL SetWindowContextHelpId(DWORD dwContextHelpId);
```

### <a name="parameters"></a>Параметры

*двконтексселпид*<br/>
Идентификатор контекста справки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если у дочернего окна нет идентификатора контекста справки, он наследует идентификатор родительского окна. Аналогично, если собственное окно не имеет идентификатора контекста справки, оно наследует идентификатор своего окна-владельца. Такое наследование идентификаторов контекста справки позволяет приложению задать только один идентификатор для диалогового окна и всех его элементов управления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#119](../../mfc/reference/codesnippet/cpp/cwnd-class_60.cpp)]

##  <a name="setwindowplacement"></a>  CWnd::SetWindowPlacement

Задает состояние отображения, а также обычное (восстановленное), свернутое и развернутое состояния окна.

```
BOOL SetWindowPlacement(const WINDOWPLACEMENT* lpwndpl);
```

### <a name="parameters"></a>Параметры

*лпвндпл*<br/>
Указывает на структуру [виндовплацемент](/windows/win32/api/winuser/ns-winuser-windowplacement) , указывающую новое состояние отображения и позиции.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

##  <a name="setwindowpos"></a>  CWnd::SetWindowPos

Изменяет размер, расположение и Z-порядок дочернего элемента, окна всплывающего окна и верхнего уровня.

```
BOOL SetWindowPos(
    const CWnd* pWndInsertAfter,
    int x,
    int y,
    int cx,
    int cy,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*пвндинсертафтер*<br/>
Определяет `CWnd` объект, который будет предшествовать (больше) этому `CWnd` объекту в Z-порядке. Этот параметр может быть указателем на `CWnd` или указатель на одно из следующих значений:

- `wndBottom` помещает окно в нижнюю часть Z-порядка. Если этот `CWnd` является самым верхним, окно теряет свое самое верхнее состояние. система помещает окно в нижнюю часть всех окон.

- `wndTop` помещает окно в начало Z-порядка.

- `wndTopMost` помещает окно над всеми окнами, не являющимися верхними. Окно сохраняет свое самое верхнее расположение, даже если оно деактивировано.

- `wndNoTopMost` перемещает окно в верхнюю часть всех окон, не являющихся верхними (то есть за всеми верхними окнами). Этот флаг не действует, если окно уже является окном, не являющимся самым верхним.

Правила использования этого параметра см. в подразделе «Примечания» этого раздела.

*x*<br/>
Задает новое расположение левой стороны окна.

*y*<br/>
Указывает новое расположение верхней части окна.

*cx*<br/>
Задает новую ширину окна.

*CY*<br/>
Задает новую высоту окна.

*нфлагс*<br/>
Задает параметры изменения размера и позиционирования. Этот параметр может быть сочетанием следующих флагов:

- SWP_DRAWFRAME Рисует рамку (определенную при создании окна) вокруг окна.

- SWP_FRAMECHANGED отправляет в окно сообщение WM_NCCALCSIZE, даже если размер окна не изменяется. Если этот флаг не указан, WM_NCCALCSIZE отправляется только при изменении размера окна.

- SWP_HIDEWINDOW скрывает окно.

- SWP_NOACTIVATE не активирует окно. Если этот флаг не установлен, окно активируется и перемещается в верхнюю часть самой верхней или неверхней группы (в зависимости от значения параметра *пвндинсертафтер* ).

- SWP_NOCOPYBITS отменяет все содержимое клиентской области. Если этот флаг не указан, допустимое содержимое клиентской области сохраняется и копируется обратно в клиентскую область после изменения размера окна или его расположения.

- SWP_NOMOVE оставляет текущее расположение (игнорирует параметры *x* и *y* ).

- SWP_NOOWNERZORDER не изменяет расположение окна владельца в Z-порядке.

- SWP_NOREDRAW не перерисовывает изменения. Если этот флаг установлен, перерисовка какого-либо вида не происходит. Это относится к клиентской области, неклиентской области (включая заголовок и полосы прокрутки) и любой части родительского окна, обнаруженной в результате перемещения окна. Если этот флаг установлен, приложение должно явно сделать недействительным или перерисовывать любые части окна и родительского окна, которые необходимо перерисовать.

- SWP_NOREPOSITION то же, что и SWP_NOOWNERZORDER.

- SWP_NOSENDCHANGING предотвращает получение WM_WINDOWPOSCHANGING сообщения окном.

- SWP_NOSIZE оставляет текущий размер (игнорирует параметры *CX* и *CY* ).

- SWP_NOZORDER оставляет текущее упорядочение (игнорирует *пвндинсертафтер*).

- SWP_SHOWWINDOW отображает окно.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — значение 0.

### <a name="remarks"></a>Примечания

Окна упорядочиваются на экране в соответствии с их Z-порядком; окно в верхней части Z-порядка отображается поверх всех остальных окон в порядке.

Все координаты дочерних окон — это клиентские координаты (относительно левого верхнего угла клиентской области родительского окна).

Окно можно переместить в начало Z-порядка, установив для параметра *пвндинсертафтер* значение **& вндтопмост** и убедившись, что флаг SWP_NOZORDER не установлен, или задать Z-порядок окна, чтобы он настроился над всеми существующими верхними окнами. Если не присвоено самое верхнее окно, его собственные окна также становятся верхними. Его владельцы не изменяются.

Верхнее окно больше не является верхним, если оно перемещено в нижнюю ( **& вндботтом**) Z-порядка или после любого другого окна. Когда самое верхнее окно становится не самым верхним, все его владельцы и его собственные окна также становятся окнами, не являющимися самым верхними.

Если не указано ни SWP_NOACTIVATE, ни SWP_NOZORDER (т. е. когда приложение запрашивает одновременное активацию окна и помещение в указанный Z-порядок), значение, указанное в *пвндинсертафтер* , используется только в следующих случаях.

- Ни **& вндтопмост** , ни **& внднотопмост** не указаны в параметре *пвндинсертафтер* .

- Это окно не является активным.

Приложение не может активировать неактивное окно, не открывая его в верхней части Z-порядка. Приложения могут изменять Z-порядок активированного окна без ограничений.

Окно, которое не является самым верхним, может владеть самым верхним окном, но не наоборот. Любое окно (например, диалоговое окно), принадлежащее самому верхнему окну, само по себе представляет собой самое верхнее окно, гарантирующее, что все собственные окна остаются над их владельцем.

В Windows версии 3,1 и более поздних Windows можно переместить в начало Z-порядка и заблокировать их в соответствии с настройками стилей WS_EX_TOPMOST. Такое самое верхнее окно сохраняет свое самое верхнее расположение даже при отключении. Например, при выборе команды WinHelp Always On Top окно справки становится самым верхним, а после возврата в приложение остается видимым.

Чтобы создать самое верхнее окно, вызовите `SetWindowPos` с параметром *пвндинсертафтер* , равным **& вндтопмост**, или задайте стиль WS_EX_TOPMOST при создании окна.

Если Z-порядок содержит все окна с WS_EX_TOPMOST стилем, то окно, перемещенное со значением **& вндтопмост** , помещается в верхней части всех окон, не являющихся верхними, но под любыми верхними окнами. Когда приложение активирует неактивное окно без WS_EX_TOPMOST бита, окно перемещается над всеми не являющимися верхними окнами, а под любыми верхними окнами.

Если `SetWindowPos` вызывается, когда параметр *пвндинсертафтер* имеет значение **& вндботтом** , а `CWnd` является самым верхним, окно теряет свое самое верхнее состояние (WS_EX_TOPMOST снимается), и система помещает окно в нижнюю часть Z-порядка.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#120](../../mfc/reference/codesnippet/cpp/cwnd-class_61.cpp)]

##  <a name="setwindowrgn"></a>  CWnd::SetWindowRgn

Вызовите эту функцию-член, чтобы задать регион окна.

```
int SetWindowRgn(
    HRGN hRgn,
    BOOL bRedraw);
```

### <a name="parameters"></a>Параметры

*хргн*<br/>
Маркер для региона.

*bRedraw*<br/>
Если задано значение TRUE, операционная система перерисовывает окно после задания региона. в противном случае — нет. Как правило, установите для *бредрав* значение true, если окно является видимым. Если задано значение TRUE, система отправляет в окно WM_WINDOWPOSCHANGING и WM_WINDOWPOSCHANGED сообщения.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполнена, возвращаемое значение не равно нулю. Если функция выполняется неудачно, возвращается нулевое значение.

### <a name="remarks"></a>Примечания

Координаты области окна окна задаются относительно левого верхнего угла окна, а не клиентской области окна.

После успешного вызова `SetWindowRgn`операционная система владеет регионом, заданным в области *хргн*. Операционная система не копирует этот регион, поэтому не делайте дальнейших вызовов функций с этим маркером области и не закрывайте этот маркер области.

##  <a name="setwindowtext"></a>  CWnd::SetWindowText

Задает заголовок окна для указанного текста.

```
void SetWindowText(LPCTSTR lpszString);
```

### <a name="parameters"></a>Параметры

*лпсзстринг*<br/>
Указывает на объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) или строку, завершающуюся нулем, для использования в качестве нового заголовка или текста элемента управления.

### <a name="remarks"></a>Примечания

Если окно является элементом управления, задается текст в элементе управления.

Эта функция вызывает отправку сообщения [WM_SETTEXT](/windows/win32/winmsg/wm-settext) в это окно.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#121](../../mfc/reference/codesnippet/cpp/cwnd-class_62.cpp)]

##  <a name="showcaret"></a>  CWnd::ShowCaret

Показывает курсор на экране в текущей позиции курсора.

```
void ShowCaret();
```

### <a name="remarks"></a>Примечания

После отображения курсор начинает автоматически мигать.

Функция-член `ShowCaret` показывает курсор, только если у него есть текущая фигура и он не был скрыт два или более раз подряд. Если курсор не принадлежит этому окну, курсор не отображается.

Скрытие курсора является кумулятивным. Если функция члена [хидекарет](#hidecaret) вызывалась пять раз подряд, `ShowCaret` для отображения курсора должна вызываться пять раз.

Курсор является общим ресурсом. Окно должно показывать курсор только в том случае, если он имеет фокус ввода или активен.

### <a name="example"></a>Пример

  См. пример для [CWnd:: креатекарет](#createcaret).

##  <a name="showownedpopups"></a>CWnd:: Шововнедпопупс

Показывает или скрывает все всплывающие окна, принадлежащие данному окну.

```
void ShowOwnedPopups(BOOL bShow = TRUE);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
Указывает, должны ли отображаться или скрываться всплывающие окна. Если этот параметр имеет значение TRUE, отображаются все скрытые всплывающие окна. Если этот параметр имеет значение FALSE, все видимые всплывающие окна скрыты.

### <a name="example"></a>Пример

  См. пример для [CWnd:: SetWindowPos](#setwindowpos).

##  <a name="showscrollbar"></a>  CWnd::ShowScrollBar

Показывает или скрывает полосу прокрутки.

```
void ShowScrollBar(
    UINT nBar,
    BOOL bShow = TRUE);
```

### <a name="parameters"></a>Параметры

*нбар*<br/>
Указывает, является ли полоса прокрутки элементом управления или частью неклиентской области окна. Если он является частью неклиентской области, *НБАР* также указывает, располагается ли полоса прокрутки горизонтально, вертикально или и то, и другое. Он должен быть одним из следующих:

- SB_BOTH задает горизонтальные и вертикальные полосы прокрутки окна.

- SB_HORZ Указывает, что окно является горизонтальной полосой прокрутки.

- SB_VERT указывает, что окно является вертикальной полосой прокрутки.

*bShow*<br/>
Указывает, будет ли Windows показывать или скрывать полосу прокрутки. Если этот параметр имеет значение TRUE, отображается полоса прокрутки. в противном случае полоса прокрутки будет скрыта.

### <a name="remarks"></a>Примечания

Приложение не должно вызывать `ShowScrollBar`, чтобы скрыть полосу прокрутки при обработке сообщения уведомления полосы прокрутки.

##  <a name="showwindow"></a>  CWnd::ShowWindow

Задает состояние видимости окна.

```
BOOL ShowWindow(int nCmdShow);
```

### <a name="parameters"></a>Параметры

*нкмдшов*<br/>
Указывает, как будет отображаться `CWnd`. Оно должно иметь одно из следующих значений:

- SW_HIDE Скрывает это окно и передает активацию другому окну.

- SW_MINIMIZE свертывает окно и активирует окно верхнего уровня в списке системы.

- SW_RESTORE активирует и отображает окно. Если окно является сведенным или развернутым, Windows восстанавливает его исходный размер и расположение.

- SW_SHOW активирует окно и отображает его в текущем размере и положении.

- SW_SHOWMAXIMIZED активирует окно и отображает его как развернутое окно.

- SW_SHOWMINIMIZED активирует окно и отображает его в виде значка.

- SW_SHOWMINNOACTIVE отображает окно в виде значка. Активное окно остается активным.

- SW_SHOWNA отображает окно в текущем состоянии. Активное окно остается активным.

- SW_SHOWNOACTIVATE отображает окно в самом последнем размере и положении. Активное окно остается активным.

- SW_SHOWNORMAL активирует и отображает окно. Если окно является сведенным или развернутым, Windows восстанавливает его исходный размер и расположение.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если окно было ранее видимо; 0, если `CWnd` был ранее скрыт.

### <a name="remarks"></a>Примечания

`ShowWindow` необходимо вызывать только один раз для каждого приложения в главном окне с помощью [CWinApp:: m_nCmdShow](../../mfc/reference/cwinapp-class.md#m_ncmdshow). Последующие вызовы `ShowWindow` должны использовать одно из приведенных выше значений вместо того, которое указано в `CWinApp::m_nCmdShow`.

### <a name="example"></a>Пример

  См. пример для [CWnd:: калквиндоврект](#calcwindowrect).

##  <a name="subclassdlgitem"></a>  CWnd::SubclassDlgItem

Вызовите эту функцию-член, чтобы динамически подклассировать элемент управления, созданный из шаблона диалогового окна, и присоединить его к этому `CWnd` объекту.

```
BOOL SubclassDlgItem(
    UINT nID,
    CWnd* pParent);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор элемента управления.

*ппарент*<br/>
Родительский элемент управления (обычно это диалоговое окно).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если элемент управления является динамически подклассом, сообщения Windows будут направляться через карту сообщений `CWnd`и вызывать обработчики сообщений в классе `CWnd`. Сообщения, передаваемые в базовый класс, передаются в обработчик сообщений по умолчанию в элементе управления.

Эта функция-член присоединяет элемент управления Windows к объекту `CWnd` и заменяет функции `WndProc` и `AfxWndProc` элемента управления. Функция сохраняет старую `WndProc` в расположении, возвращаемом функцией члена `GetSuperWndProcAddr`.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#122](../../mfc/reference/codesnippet/cpp/cwnd-class_63.cpp)]

##  <a name="subclasswindow"></a>  CWnd::SubclassWindow

Вызовите эту функцию-член, чтобы "динамически подклассировать" окно и присоединить его к этому `CWnd` объекту.

```
BOOL SubclassWindow(HWND hWnd);
```

### <a name="parameters"></a>Параметры

*hWnd*<br/>
Маркер окна.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Когда окно динамически подклассировать, сообщения Windows будут направляться через карту сообщений `CWnd`и вызывать обработчики сообщений в классе `CWnd`. Сообщения, передаваемые в базовый класс, передаются в обработчик сообщений по умолчанию в окне.

Эта функция-член присоединяет элемент управления Windows к объекту `CWnd` и заменяет функции `WndProc` и `AfxWndProc` окна. Функция сохраняет указатель на старую `WndProc` в объекте `CWnd`.

> [!NOTE]
> Окно не должно быть уже присоединено к объекту MFC при вызове этой функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#123](../../mfc/reference/codesnippet/cpp/cwnd-class_64.cpp)]

##  <a name="unlockwindowupdate"></a>  CWnd::UnlockWindowUpdate

Вызовите эту функцию-член, чтобы разблокировать окно, которое было заблокировано `CWnd::LockWindowUpdate`.

```
void UnlockWindowUpdate();
```

### <a name="remarks"></a>Примечания

С помощью `LockWindowUpdate`можно блокировать только одно окно за раз. Дополнительные сведения о блокировке окон см. в разделе [CWnd:: локквиндовупдате](#lockwindowupdate) или в функции Win32 [локквиндовупдате](/windows/win32/api/winuser/nf-winuser-lockwindowupdate) .

##  <a name="unsubclasswindow"></a>  CWnd::UnsubclassWindow

Вызовите эту функцию члена, чтобы присвоить `WndProc` к исходному значению и отсоединить окно, идентифицируемое HWND от объекта `CWnd`.

```
HWND UnsubclassWindow();
```

### <a name="return-value"></a>Возвращаемое значение

Маркер неподклассового окна.

### <a name="example"></a>Пример

  См. пример для [CWnd:: субклассвиндов](#subclasswindow).

##  <a name="updatedata"></a>  CWnd::UpdateData

Эта функция-член вызывается для инициализации данных в диалоговом окне, а также для получения и проверки данных диалогового окна.

```
BOOL UpdateData(BOOL bSaveAndValidate = TRUE);
```

### <a name="parameters"></a>Параметры

*бсавеандвалидате*<br/>
Флаг, указывающий, выполняется ли инициализация диалогового окна (FALSE) или данные извлекаются (TRUE).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно; в противном случае — 0. Если *бсавеандвалидат*e имеет значение true, то возвращаемое значение ненулевой означает, что данные успешно проверены.

### <a name="remarks"></a>Примечания

Платформа автоматически вызывает `UpdateData` с параметром *бсавеандвалидате* со значением false, когда модальное диалоговое окно создается в реализации класса [CDialog:: онинитдиалог](../../mfc/reference/cdialog-class.md#oninitdialog)по умолчанию. Вызов происходит перед отображением диалогового окна. Реализация класса [CDialog:: ОНОК](../../mfc/reference/cdialog-class.md#onok) , используемая по умолчанию, вызывает эту функцию члена с параметром *бсавеандвалидате* , для которого задано значение true, чтобы получить данные, и при успешном завершении закроет диалоговое окно. (Если в диалоговом окне нажата кнопка "Отмена", диалоговое окно закрывается без извлечения данных.)

##  <a name="updatedialogcontrols"></a>CWnd:: Упдатедиалогконтролс

Вызовите эту функцию-член, чтобы обновить состояние кнопок диалогового окна и других элементов управления в диалоговом окне или окне, использующем механизм обратного вызова [ON_UPDATE_COMMAND_UI](message-map-macros-mfc.md#on_update_command_ui) .

```
void UpdateDialogControls(
    CCmdTarget* pTarget,
    BOOL bDisableIfNoHndler);
```

### <a name="parameters"></a>Параметры

*птаржет*<br/>
Указывает на главное окно приложения и используется для маршрутизации сообщений об обновлениях.

*бдисаблеифнохндлер*<br/>
Флаг, указывающий, должен ли автоматически отображаться элемент управления, не имеющий обработчика обновлений, как отключенный.

### <a name="remarks"></a>Примечания

Если дочерний элемент управления не имеет обработчика, а *бдисаблеифнохндлер* имеет значение true, то дочерний элемент управления будет отключен.

Платформа вызывает эту функцию члена для элементов управления в диалоговых окнах или панелях инструментов в рамках обработки бездействия приложения.

##  <a name="updatelayeredwindow"></a>  CWnd::UpdateLayeredWindow

Обновляет положение, размер, форму, содержимое и прозрачность многослойного окна.

```
BOOL UpdateLayeredWindow(
    CDC* pDCDst,
    POINT* pptDst,
    SIZE* psize,
    CDC* pDCSrc,
    POINT* pptSrc,
    COLORREF crKey,
    BLENDFUNCTION* pblend,
    DWORD dwFlags);
```

### <a name="parameters"></a>Параметры

*пдкдст*<br/>
Указатель на контекст устройства для экрана. Он используется для сопоставления цветов палитры при обновлении содержимого окна. Если *пдкдст* имеет значение null, будет использоваться палитра по умолчанию.

Если *пдксрк* имеет значение null, *пдкдст* должен иметь значение null.

*пптдст*<br/>
Указатель на структуру `POINT`, указывающую новую точку экрана для многоуровневого окна. Если текущее расположение не изменяется, *пптдст* может иметь значение null.

*псизе*<br/>
Указатель на структуру `SIZE`, указывающую новый размер многоуровневого окна. Если размер окна не изменяется, *псизе* может иметь значение null.

Если *пдксрк* имеет значение null, *псизе* должен иметь значение null.

*пдксрк*<br/>
Указатель на контроллер домена для поверхности, определяющей многоуровневый интервал. Если форма и визуальный контекст окна не меняются, *пдксрк* может иметь значение null.

*пптсрк*<br/>
Указатель на структуру `POINT`, указывающую расположение слоя в контексте устройства.

Если *пдксрк* имеет значение null, *пптсрк* должен иметь значение null.

*кркэй*<br/>
Указатель на значение COLORREF, указывающее цветовой ключ прозрачности, используемый при создании многоуровневого окна. Все пиксели, закрашенные окном этого цвета, будут прозрачными. Чтобы создать COLORREF, используйте макрос RGB.

*пбленд*<br/>
Указатель на структуру [блендфунктион](/windows/win32/api/wingdi/ns-wingdi-blendfunction) , указывающую значение прозрачности, используемое при создании многоуровневого окна.

*dwFlags*<br/>
Указывает действие, которое необходимо выполнить. Этот параметр может принимать одно или несколько следующих значений. Список возможных значений см. в разделе [упдателайередвиндов](/windows/win32/api/winuser/nf-winuser-updatelayeredwindow).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена. в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [упдателайередвиндов](/windows/win32/api/winuser/nf-winuser-updatelayeredwindow), как описано в Windows SDK.

##  <a name="updatewindow"></a>  CWnd::UpdateWindow

Обновляет клиентскую область, отправляя сообщение [WM_PAINT](/windows/win32/gdi/wm-paint) , если регион обновления не пуст.

```
void UpdateWindow();
```

### <a name="remarks"></a>Примечания

Функция-член `UpdateWindow` отправляет WM_PAINT сообщение напрямую, минуя очередь приложения. Если область обновления пуста, WM_PAINT не отправляется.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCWindowing#124](../../mfc/reference/codesnippet/cpp/cwnd-class_65.cpp)]

##  <a name="validaterect"></a>CWnd:: Валидатерект

Проверяет клиентскую область в пределах данного прямоугольника, удаляя прямоугольник из области обновления окна.

```
void ValidateRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на объект [крект](../../atl-mfc-shared/reference/crect-class.md) или [структуру Rect](/windows/win32/api/windef/ns-windef-rect) , которая содержит клиентские координаты прямоугольника, удаляемого из области обновления. Если *лпрект* имеет значение null, проверяется все окно.

### <a name="remarks"></a>Примечания

Функция члена [бегинпаинт](#beginpaint) автоматически проверяет всю клиентскую область. Ни `ValidateRect`, ни функция-член [валидатергн](#validatergn) не должны вызываться, если часть области обновления должна быть проверена до следующего создания [WM_PAINT](/windows/win32/gdi/wm-paint) .

Windows продолжит создавать сообщения WM_PAINT, пока не будет проверен текущий регион обновления.

##  <a name="validatergn"></a>  CWnd::ValidateRgn

Проверяет клиентскую область в заданном регионе, удаляя регион из текущей области обновления окна.

```
void ValidateRgn(CRgn* pRgn);
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Указатель на объект [кргн](../../mfc/reference/crgn-class.md) , определяющий область, которая определяет область, удаляемую из области обновления. Если этот параметр имеет значение NULL, удаляется вся клиентская область.

### <a name="remarks"></a>Примечания

Данная область должна быть создана ранее функцией Region. Предполагается, что координаты области являются клиентскими координатами.

Функция члена [бегинпаинт](#beginpaint) автоматически проверяет всю клиентскую область. Ни [валидатерект](#validaterect) , ни функция-член `ValidateRgn` не должны вызываться, если часть области обновления должна быть проверена перед созданием следующего [WM_PAINT](/windows/win32/gdi/wm-paint) сообщения.

##  <a name="windowfrompoint"></a>  CWnd::WindowFromPoint

Извлекает окно, содержащее указанную точку; *точка* должна задавать экранные координаты точки на экране.

```
static CWnd* PASCAL WindowFromPoint(POINT point);
```

### <a name="parameters"></a>Параметры

*point*<br/>
Указывает [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) объект или структуру данных [Point](/windows/win32/api/windef/ns-windef-point) , определяющую проверяемую точку.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект окна, в котором находится точка. Имеет значение NULL, если в данной точке не существует ни одного окна. Возвращаемый указатель может быть временным и не должен храниться для последующего использования.

### <a name="remarks"></a>Примечания

`WindowFromPoint` не извлекает скрытое или отключенное окно, даже если точка находится в пределах окна. Приложение должно использовать функцию-член [чилдвиндовфромпоинт](#childwindowfrompoint) для неограниченного поиска.

##  <a name="windowproc"></a>  CWnd::WindowProc

Предоставляет процедуру Windows (`WindowProc`) для объекта `CWnd`.

```
virtual LRESULT WindowProc(
    UINT message,
    WPARAM wParam,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*message*<br/>
Указывает сообщение Windows для обработки.

*wParam*<br/>
Предоставляет дополнительные сведения, используемые при обработке сообщения. Значение параметра зависит от сообщения.

*lParam*<br/>
Предоставляет дополнительные сведения, используемые при обработке сообщения. Значение параметра зависит от сообщения.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение зависит от сообщения.

### <a name="remarks"></a>Примечания

Он отправляет сообщения через схему сообщений окна.

##  <a name="winhelp"></a>  CWnd::WinHelp

Вызывается для запуска приложения WinHelp.

```
virtual void WinHelp(
    DWORD_PTR dwData,
    UINT nCmd = HELP_CONTEXT);
```

### <a name="parameters"></a>Параметры

*двдата*<br/>
Указывает дополнительные данные. Используемое значение зависит от значения параметра *нкмд* .

*нкмд*<br/>
Задает тип запрошенной справки. Список возможных значений и их влияние на параметр *двдата* см. в описании функции Windows [WinHelp](/windows/win32/api/winuser/nf-winuser-winhelpw) в Windows SDK.

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [CWinApp:: WinHelp](../../mfc/reference/cwinapp-class.md#winhelp) .

##  <a name="registertouchwindow"></a>CWnd:: Регистертаучвиндов

Регистрирует или отменяет регистрацию поддержки сенсорного ввода Windows.

```
BOOL RegisterTouchWindow(
    BOOL bRegister = TRUE,
    ULONG ulFlags = 0);
```

### <a name="parameters"></a>Параметры

*брегистер*<br/>
Значение TRUE означает регистрацию поддержки сенсорного ввода Windows; В противном случае — значение FALSE.

*улфлагс*<br/>
Набор битовых флагов, задающих необязательные изменения. Это поле может содержать 0 или одно из следующих значений: TWF_FINETOUCH TWF_WANTPALM.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

##  <a name="resizedynamiclayout"></a>CWnd:: Ресизединамиклайаут

Вызывается платформой при изменении размера окна для настройки макета дочерних окон, если для этого окна используется динамический макет.

```
virtual void ResizeDynamicLayout();
```

### <a name="remarks"></a>Примечания

## <a name="see-also"></a>См. также

[Класс CCmdTarget](../../mfc/reference/ccmdtarget-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CFrameWnd](../../mfc/reference/cframewnd-class.md)<br/>
[Класс CView](../../mfc/reference/cview-class.md)
