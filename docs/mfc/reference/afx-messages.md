---
title: Сообщения AFX
ms.date: 11/04/2016
f1_keywords:
- SB_LINELEFT
- SB_THUMBTRACK
- AFX_TOOLTIP_TYPE_EDIT
- AFX_WM_ON_HSCROLL
- SB_PAGERIGHT
- AFX_WM_RESETPROMPT
- AFX_WM_CHANGE_RIBBON_CATEGORY
- AFX_TOOLTIP_TYPE_MINIFRAME
- AFX_WM_CUSTOMIZETOOLBAR
- AFX_WM_CHANGE_ACTIVE_TAB
- AFX_WM_ACCGETOBJECT
- AFX_WM_TOOLBARMENU
- AFX_TOOLTIP_TYPE_DOCKBAR
- AFX_WM_CUSTOMIZEHELP
- AFX_WM_ON_GET_TAB_TOOLTIP
- AFX_WM_ON_RIBBON_CUSTOMIZE
- AFX_WM_ON_DRAGCOMPLETE
- AFX_WM_RESETTOOLBAR
- AFX_WM_ON_MOVETOTABGROUP
- AFX_WM_CHECKEMPTYMINIFRAME
- AFX_WM_GETDOCUMENTCOLORS
- SB_RIGHT
- AFX_WM_ON_BEFORE_SHOW_RIBBON_ITEM_MENU
- AFX_WM_ACCGETSTATE
- SB_PAGELEFT
- SB_ENDSCROLL
- AFX_WM_ON_CANCELTABMOVE
- AFX_TOOLTIP_TYPE_TAB
- AFX_WM_WINDOW_HELP
- AFX_WM_HIGHLIGHT_RIBBON_LIST_ITEM
- AFX_WM_SHOWREGULARMENU
- AFX_TOOLTIP_TYPE_TOOLBAR
- AFX_WM_CHANGE_CURRENT_FOLDER
- AFX_WM_UPDATETOOLTIPS
- AFX_WM_ON_MOVE_TAB
- AFX_WM_CHANGING_ACTIVE_TAB
- AFX_WM_RESETMENU
- AFX_WM_GETDRAGBOUNDS
- AFX_WM_RESETCONTEXTMENU
- AFX_TOOLTIP_TYPE_BUTTON
- AFX_WM_ON_CLOSEPOPUPWINDOW
- AFX_TOOLTIP_TYPE_TOOLBOX
- AFX_WM_CHANGEVISUALMANAGER
- SB_LINERIGHT
- AFX_WM_ON_RENAME_TAB
- AFX_TOOLTIP_TYPE_DEFAULT
- AFX_WM_ON_TABGROUPMOUSEMOVE
- SB_LEFT
- AFX_WM_DELETETOOLBAR
- AFX_WM_PROPERTY_CHANGED
- AFX_TOOLTIP_TYPE_ALL
- AFX_WM_ACCHITTEST
- AFX_WM_ON_AFTER_SHELL_COMMAND
- AFX_WM_ON_PRESS_CLOSE_BUTTON
- AFX_WM_RESETKEYBOARD
- AFX_WM_ON_MOVETABCOMPLETE
- AFX_WM_CREATETOOLBAR
- SB_THUMBPOSITION
- AFX_WM_POSTSETPREVIEWFRAME
helpviewer_keywords:
- AFX messages [MFC]
ms.assetid: 3d601f3c-af6d-47d3-8553-34f1318fa74f
ms.openlocfilehash: 409760eff6ba6b31413c11fb45ea91a6d07b9485
ms.sourcegitcommit: ec6dd97ef3d10b44e0fedaa8e53f41696f49ac7b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/25/2020
ms.locfileid: "88832403"
---
# <a name="afx-messages"></a>Сообщения AFX

Эти сообщения используются в MFC.

## <a name="messages"></a>Сообщения

В следующей таблице перечислены сообщения, используемые в библиотеке MFC.

|Сообщение|Описание|окне *wParam*|*lParam* (все параметры [in], если не указано иное).|Возвращаемое значение|
|-|-|-|-|-|
|AFX_WM_ACCGETOBJECT|Не используется.|Не используется.|Неприменимо.|Неприменимо.|
|AFX_WM_ACCGETSTATE|Используется для поддержки специальных возможностей. Отправьте это сообщение в `CMFCPopupMenu` или, `CMFCRibbonPanelMenu` чтобы получить состояние текущего элемента.|Индекс элемента, который может быть кнопкой или разделителем меню.|Не используется.|Состояние элемента. Значение-1, если индекс является недопустимым, 0, если у кнопки меню нет специальных атрибутов. В противном случае это сочетание следующих флагов:<br /><br /> TBBS_DISABLED — элемент отключен<br /><br /> TBBS_CHECKED — элемент выбран<br /><br /> TBBS_BUTTON — элемент является стандартной кнопками<br /><br /> TBBS_PRESSED — кнопка нажата<br /><br /> TBBS_INDETERMINATE — неопределенное состояние<br /><br /> TBBS_SEPARATOR, а не кнопку меню, этот элемент образует разделение между другими элементами меню.|
|AFX_WM_CHANGE_ACTIVE_TAB|Платформа отправляет это сообщение в элемент управления панели элементов с изменяемым размером. Обработайте это сообщение для получения уведомлений от `CMFCTabCtrl` объектов, когда пользователь изменяет активную вкладку.|Индекс вкладки.|Не используется.|Отличные.|
|AFX_WM_CHANGE_CURRENT_FOLDER|Платформа отправляет это сообщение родительскому элементу, `CMFCShellListCtrl` когда пользователь изменил текущую папку.|Не используется.|Не используется.|Не используется.|
|AFX_WM_CHANGEVISUALMANAGER|Платформа отправляет это сообщение всем окнам фрейма, когда пользователь изменяет текущий диспетчер визуальных элементов. В ответ на это сообщение окно фрейма повторно вычисляет свой регион и при необходимости корректирует другие параметры. Вы можете обработать сообщение AFX_WM_CHANGEVISUALMANAGER в приложении, если необходимо получать уведомления об этом событии. Необходимо вызвать обработчик базового класса ( `OnChangeVisualManager` ), чтобы убедиться, что выполняется внутренняя обработка этого события в платформе.|Не используется.|Не используется.|Не используется.|
|AFX_WM_CHANGING_ACTIVE_TAB|Отправляется в родительский `CMFCTabCtrl` объект объекта.  Обработайте это сообщение, если требуется получать уведомления от `CMFCTabCtrl` объектов при сбросе вкладки пользователем.|Индекс активируемой вкладки.|Не используется.|Отличные.|
|AFX_WM_CHECKEMPTYMINIFRAME|Только для внутреннего использования.|Неприменимо.|Неприменимо.|Неприменимо.|
|AFX_WM_CREATETOOLBAR|Посылается `CMFCToolBarsListPropertyPage` , когда пользователь создает новую панель инструментов в процессе настройки. Это сообщение можно обработать для создания экземпляра пользовательского объекта, производного от CMFCToolBar. Если вы обрабатываете это сообщение и создаете собственную панель инструментов, опустите вызов обработчика по умолчанию.|Не используется.|Указатель на строку, содержащую имя панели инструментов.|Указатель на только что созданную панель инструментов. Значение NULL указывает, что создание панели инструментов было отменено.|
|AFX_WM_CUSTOMIZEHELP|Посылается в главное окно фрейма из страницы свойств настройки, `CMFCToolbarCustomize Dialog` когда пользователь нажимает кнопку « **Справка** » или клавишу F1.|Указывает активную страницу страницы свойств настройки.|Указатель на объект `CMFCToolbarCustomize Dialog`.|Ноль.|
|AFX_WM_CUSTOMIZETOOLBAR|`CMFCToolbarCustomize Dialog`Отправляет это сообщение, чтобы уведомить родительский фрейм о том, что пользователь создает новую панель инструментов.|Значение TRUE при запуске настройки; значение FALSE, если настройка завершена.|Не используется.|Ноль.|
|AFX_WM_DELETETOOLBAR|Посылается в главное окно фрейма, когда пользователь собирается удалить панель инструментов в режиме настройки.<br /><br /> Обработайте это сообщение, чтобы выполнить дополнительные действия, когда пользователь удаляет панель инструментов в режиме настройки. Также следует вызвать обработчик по умолчанию ( `OnToolbarDelete` ), который удаляет панель инструментов. Обработчик по умолчанию возвращает значение, указывающее, возможно ли удаление панели инструментов.|Не используется.|Указатель на `CMFCToolBar` удаляемый объект.|Ненулевое значение, если панель инструментов не может быть удалена; в противном случае — 0.|
|AFX_WM_GETDOCUMENTCOLORS|`CMFCColorMenuButton` отправляет это сообщение в главное окно фрейма для получения цветов документа.|Не используется.|[вход, выход] Указатель на `CList<COLORREF, COLORREF>` объект.|Ноль.|
|AFX_WM_GETDRAGBOUNDS|Только для внутреннего использования.|Неприменимо.|Неприменимо.|Неприменимо.|
|AFX_WM_HIGHLIGHT_RIBBON_LIST_ITEM|Посылается в главное окно фрейма, когда пользователь выделяет элемент списка ленты.|Индекс выделенного элемента|Указатель на `CMFCBaseRibbonElement`|Не используется.|
|AFX_WM_ON_AFTER_SHELL_COMMAND|Посылается родительскому элементу `CMFCShellListCtrl` или `CMFCShellTreeCtrl` элементам управления, когда пользователь завершает выполнение команды оболочки.|Идентификатор команды, выполненной пользователем|Не используется.|Если приложение обрабатывает это сообщение, оно должно вернуть ноль.|
|AFX_WM_ON_BEFORE_SHOW_RIBBON_ITEM_MENU|Платформа отправляет это сообщение родителю ленты перед отображением всплывающего меню. Вы можете обработать это сообщение и изменить всплывающие меню в любое время.|Не используется.|Указатель на `CMFCBaseRibbonElement`|Не используется.|
|AFX_WM_ON_CANCELTABMOVE|Только для внутреннего использования.|Неприменимо.|Неприменимо.||
|AFX_WM_ON_CHANGE_RIBBON_CATEGORY|Платформа отправляет это сообщение в основной кадр, когда пользователь изменяет активную категорию элемента управления Ribbon.|Не используется.|Указатель на объект, `CMFCRibbonBar` Категория которого изменилась.|Не используется.|
|AFX_WM_ON_CLOSEPOPUPWINDOW|Платформа отправляет это сообщение, чтобы уведомить владельца `CMFCDesktopAlertWnd` о том, что окно сейчас будет закрыто.|Не используется.|Указатель на `CMFCDesktopAlertWnd` объект.|Не используется.|
|AFX_WM_ON_DRAGCOMPLETE|Только для внутреннего использования.|Неприменимо.|Неприменимо.|Неприменимо.|
|AFX_WM_ON_GET_TAB_TOOLTIP|Посылается в главное окно фрейма, когда окно вкладки собирается отобразить подсказку для вкладки, если включены пользовательские подсказки.|Не используется.|Указатель на `CMFCTabToolTipInfo` структуру.|Не используется.|
|AFX_WM_ON_HSCROLL|Передается в элемент управления панели элементов управления с изменяемым размером. Обработайте это сообщение для получения уведомлений от `CMFCTabCtrl` объектов при возникновении события прокрутки на горизонтальной полосе прокрутки мини-приложения с вкладками.|Слово нижнего порядка указывает значение полосы прокрутки, которое указывает на запрос прокрутки пользователя.  Дополнительные сведения см. в приведенной ниже таблице.|Не используется.|Отличные.|
|AFX_WM_ON_MOVE_TAB|Посылается родительскому элементу окна с вкладками, когда пользователь перетаскивает вкладку в новую позицию.|Отсчитываемый от нуля индекс вкладки в ее исходной позиции.|заполняет Отсчитываемый от нуля индекс вкладки в ее новой позиции.|Ноль.|
|AFX_WM_ON_MOVETABCOMPLETE|Только для внутреннего использования.|Неприменимо.|Неприменимо.|Неприменимо.|
|AFX_WM_ON_MOVETOTABGROUP|Посылается в главное окно фрейма, когда пользователь перемещает дочернее окно MDI из одной группы вкладок в другую.|Маркер окна с вкладками ( `CMFCTabCtrl` ), из которого было удалено дочернее окно MDI.|заполняет Маркер окна с вкладками (), `CMFCTabCtrl` в которое вставлено дочернее окно MDI.|Не обрабатывается.|
|AFX_WM_ON_PRESS_CLOSE_BUTTON|Посылается родительскому элементу, `CDockablePane` когда пользователь нажимает кнопку « **Закрыть** » в заголовке панели управления.|Не используется.|Указатель на закрепляемую область, на которой пользователь щелкнул кнопку **Закрыть** .|Значение TRUE, если область не может быть закрыта; в противном случае — FALSE.|
|AFX_WM_ON_RENAME_TAB|Посылается родительскому окну с вкладками после того, как пользователь переименовал вкладку, доступную для изменения.|Отсчитываемый от нуля индекс переименованной вкладки.|заполняет Указатель на строку, содержащую новое имя вкладки.|Ненулевое значение, если приложение обрабатывает это сообщение; Платформа будет подавлять вызов `CMFCBaseTabCtrl::SetTabLabel` .  Если возвращается ноль, то `CMFCBaseTabCtrl::SetTabLabel` вызывается платформой.|
|AFX_WM_ON_RIBBON_CUSTOMIZE|Отправляется в родительский фрейм при запуске пользователем настройки. Обработайте это сообщение, если требуется отобразить собственное диалоговое окно настройки.|Не используется.|Указатель на настраиваемый элемент управления ленты.|Ненулевое значение, если приложение обрабатывает это сообщение и отображает собственное диалоговое окно настройки. Если приложение возвращает ноль, платформа отобразит диалоговое окно встроенная Настройка.|
|AFX_WM_ON_TABGROUPMOUSEMOVE|Только для внутреннего использования.|Неприменимо.|Неприменимо.|Неприменимо.|
|AFX_WM_POSTSETPREVIEWFRAME|Отправлено, чтобы уведомить основной кадр о том, что пользователь изменил режим просмотра печати|Значение TRUE указывает, что задан режим предварительного просмотра печати. Значение FALSE указывает, что режим предварительного просмотра печати отключен.|Не используется.|Не используется.|
|AFX_WM_PROPERTY_CHANGED|Посылается владельцу элемента управления сетки свойств ( `CMFCPropertyGridCtrl` ), когда пользователь изменяет значение выбранного свойства.|Идентификатор элемента управления для списка свойств.|Указатель на свойство ( `CMFCPropertyGridProperty` ), которое было изменено.|Не используется.|
|AFX_WM_RESETCONTEXTMENU|Посылается в главное окно фрейма, когда пользователь сбрасывает контекстное меню во время настройки.|Идентификатор ресурса контекстного меню.|Указатель на текущее контекстное меню, `CMFCPopupMenu` .|Не используется.|
|AFX_WM_RESETKEYBOARD|Платформа отправляет это сообщение в главное окно фрейма, когда пользователь сбрасывает все сочетания клавиш во время настройки.|Не используется.|Не используется.|Не используется.|
|AFX_WM_RESETMENU|Платформа отправляет это сообщение владельцу меню (окну фрейма), когда пользователь сбрасывает меню фрейма приложения во время настройки.|Идентификатор ресурса меню.|Не используется.|Не используется.|
|AFX_WM_RESETPROMPT|Платформа отправляет это сообщение, когда пользователь сбрасывает панель инструментов из диалогового окна "Настройка" панели инструментов. Обработчик по умолчанию отображает окно сообщения, в котором спрашивается, нужно ли пользователю сбросить панель инструментов.|Не используется.|Не используется.|Не используется.|
|AFX_WM_RESETTOOLBAR|`CMFCToolBar`Объект отправляет это сообщение, когда панель инструментов восстанавливается в исходное состояние, то есть загружается из ресурсов. Обработайте это сообщение, чтобы повторно вставить кнопки на панели инструментов, классы которых являются производными от `CMFCToolbarButton` . Для получения дополнительной информации см. `CMFCToolbarComboBoxButton`.|Идентификатор ресурса панели инструментов, состояние которой было восстановлено.|Не используется.|Ноль.|
|AFX_WM_SHOWREGULARMENU|`CMFCToolbarMenuButton` объект отправляет это сообщение владельцу, когда пользователь нажимает на обычную кнопку меню. Обработайте это сообщение при каждом использовании `CMFCToolbarMenuButton` для отображения всплывающего меню, когда пользователь нажимает кнопку.|Идентификатор команды для кнопки, которая отправляет сообщение.|Экранные координаты курсора. Слово нижнего порядка Указывает координату x. Слово в высоком порядке Указывает координату y.|Не используется.|
|AFX_WM_TOOLBARMENU|Посылается в главное окно фрейма, когда пользователь отпускает правую кнопку мыши, когда указатель мыши находится в клиентской или неклиентской области панели.|Не используется.|Экранные координаты указателя мыши. Слово нижнего порядка Указывает координату x. Слово в высоком порядке Указывает координату y.|Нуль, если приложение обрабатывает это сообщение; в противном случае — ненулевое значение.|
|AFX_WM_UPDATETOOLTIPS|Посылается всем владельцам всплывающих подсказок, чтобы указать, что их элементы управления ToolTip должны быть созданы заново.|Тип элемента управления, который должен обрабатывать это сообщение. Список возможных значений см. в таблице ниже в этом разделе.|Не используется.|Не используется.|
|AFX_WM_WINDOW_HELP|`CMFCWindowsManagerDialog` отправляет это сообщение в родительский фрейм, когда пользователь нажимает кнопку « **Справка** » или переходит в режим справки, нажимая кнопку «заголовок **справки** » или клавишу F1.|Не используется.|Указатель на экземпляр `CMFCWindowsManagerDialog` .|Не используется.|

В следующей таблице показаны значения для нижнего слова параметра *lParam* метода AFX_WM_HSCROLL:

|Значение|Значение|
|-|-|
|SB_ENDSCROLL|Пользователь завершает прокрутку.|
|SB_LEFT|Пользователь прокручивается до верхнего левого угла.|
|SB_RIGHT|Пользователь прокручивается вниз к нижнему правому.|
|SB_LINELEFT|Пользователь прокручивается влево на одну единицу.|
|SB_LINERIGHT|Пользователь прокручивается вправо на одну единицу.|
|SB_PAGELEFT|Пользователь прокручивается влево по ширине окна.|
|SB_PAGERIGHT|Пользователь прокручивается вправо по ширине окна.|
|SB_THUMBPOSITION|Пользователь переместил бегунок (бегунок) и отпустил кнопку мыши. Слово в высоком порядке указывает на расположение бегунка в конце операции перетаскивания.|
|SB_THUMBTRACK|Пользователь перетаскивает полосу прокрутки. Сообщение AFX_WM_ON_HSCROLL отправляется повторно с этим значением до тех пор, пока пользователь отпускает кнопку мыши. Слово в высоком порядке указывает на расположение, в которое перетаскивается ползунок.|

> [!NOTE]
> Слово с высоким порядком в параметре *lParam* задает текущую точку прокрутки, если неупорядоченное слово имеет SB_THUMBPOSITION или SB_THUMBTRACK; в противном случае это слово не используется.

В следующей таблице перечислены значения флагов для параметра *lParam* сообщения AFX_WM_UPDATETOOLTIPS.

|Флаг|Значение|
|-|-|
|AFX_TOOLTIP_TYPE_DEFAULT|0x0001|
|AFX_TOOLTIP_TYPE_TOOLBAR|0x0002|
|AFX_TOOLTIP_TYPE_TAB|0x0004|
|AFX_TOOLTIP_TYPE_MINIFRAME|0x0008|
|AFX_TOOLTIP_TYPE_DOCKBAR|0x0010|
|AFX_TOOLTIP_TYPE_EDIT|0x0020|
|AFX_TOOLTIP_TYPE_BUTTON|0x0040|
|AFX_TOOLTIP_TYPE_TOOLBOX|0x0080|
|AFX_TOOLTIP_TYPE_ALL|0xFFFF|

## <a name="see-also"></a>См. также раздел

[Макросы и глобальные объекты](../../mfc/reference/mfc-macros-and-globals.md)
