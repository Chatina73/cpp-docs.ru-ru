---
description: 'Дополнительные сведения о: Кдоккстате Class'
title: Класс Кдоккстате
ms.date: 11/04/2016
f1_keywords:
- CDockState
- AFXADV/CDockState
- AFXADV/CDockState::Clear
- AFXADV/CDockState::GetVersion
- AFXADV/CDockState::LoadState
- AFXADV/CDockState::SaveState
- AFXADV/CDockState::m_arrBarInfo
helpviewer_keywords:
- CDockState [MFC], Clear
- CDockState [MFC], GetVersion
- CDockState [MFC], LoadState
- CDockState [MFC], SaveState
- CDockState [MFC], m_arrBarInfo
ms.assetid: 09e7c10b-3abd-4cb2-ad36-42420fe6bc36
ms.openlocfilehash: 4bdc17ec5a09b812609b8aa71e3f361603c1106f
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97184963"
---
# <a name="cdockstate-class"></a>Класс Кдоккстате

Сериализуемый класс `CObject` для загрузки, выгрузки или очистки состояния одной или нескольких закрепляемых панелей элементов управления в постоянной памяти (файле).

## <a name="syntax"></a>Синтаксис

```
class CDockState : public CObject
```

## <a name="members"></a>Члены

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[Кдоккстате:: Clear](#clear)|Очищает сведения о состоянии DOCKER.|
|[Кдоккстате::/версия](#getversion)|Возвращает номер версии хранимой строки состояния.|
|[Кдоккстате:: LoadState](#loadstate)|Извлекает сведения о состоянии из реестра или. INI-файл.|
|[Кдоккстате:: SaveState](#savestate)|Сохраняет сведения о состоянии в реестр или INI-файл.|

### <a name="public-data-members"></a>Открытые члены данных

|Имя|Описание|
|----------|-----------------|
|[Кдоккстате:: m_arrBarInfo](#m_arrbarinfo)|Массив указателей на сохраненные сведения о состоянии DOCKER с одной записью для каждой панели элементов управления.|

## <a name="remarks"></a>Комментарии

Состояние DOCKER включает в себя размер и положение линии, а также то, закреплена ли она. При извлечении сохраненного состояния DOCKER `CDockState` проверяет положение линейки и, если панель не видна с текущими параметрами экрана, `CDockState` масштабирует положение линейки таким образом, чтобы оно было видимым. Основным назначением `CDockState` является хранение всего состояния ряда панелей элементов управления и разрешение сохранения и загрузки состояния в реестр, приложения. INI-файл или в двоичном виде как часть `CArchive` содержимого объекта.

Панель может быть любой закрепляемой панелью элементов управления, включая панель инструментов, строку состояния или панель диалогового окна. `CDockState` объекты записываются и считываются в файл или из него через `CArchive` объект.

[CFrameWnd:: жетдоккстате](../../mfc/reference/cframewnd-class.md#getdockstate) извлекает сведения о состоянии всех объектов окна фрейма `CControlBar` и помещает их в `CDockState` объект. Затем можно записать содержимое `CDockState` объекта в хранилище с помощью [сериализации](../../mfc/reference/cobject-class.md#serialize) или [кдоккстате:: SaveState](#savestate). Если впоследствии потребуется восстановить состояние панелей элементов управления в окне фрейма, можно загрузить состояние с помощью `Serialize` или [кдоккстате:: LoadState](#loadstate), а затем использовать [CFrameWnd:: сетдоккстате](../../mfc/reference/cframewnd-class.md#setdockstate) для применения сохраненного состояния к панелям управления фреймового окна.

Дополнительные сведения о закреплении панелей элементов управления см. в статьях панели [управления](../../mfc/control-bars.md), [панели инструментов: закрепляемые и плавающие](../../mfc/docking-and-floating-toolbars.md)окна, а также [фреймы](../../mfc/frame-windows.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

`CDockState`

## <a name="requirements"></a>Требования

**Заголовок:** афксадв. h

## <a name="cdockstateclear"></a><a name="clear"></a> Кдоккстате:: Clear

Вызовите эту функцию, чтобы очистить все сведения о закреплениях, хранящиеся в `CDockState` объекте.

```cpp
void Clear();
```

### <a name="remarks"></a>Комментарии

Это касается не только того, закреплена ли строка, но и ее размер и положение, а также отображается ли она как видимая.

## <a name="cdockstategetversion"></a><a name="getversion"></a> Кдоккстате::/версия

Вызовите эту функцию, чтобы получить номер версии хранимого состояния строки.

```
DWORD GetVersion();
```

### <a name="return-value"></a>Возвращаемое значение

1, если данные о сохраненных строках старше текущего состояния панели; 2, если сохраненная линейчатая информация совпадает с текущим состоянием панели.

### <a name="remarks"></a>Комментарии

Поддержка версий позволяет измененной панели добавлять новые постоянные свойства и по-прежнему иметь возможность обнаруживать и загружать постоянное состояние, созданное в более ранней версии панели.

## <a name="cdockstateloadstate"></a><a name="loadstate"></a> Кдоккстате:: LoadState

Вызовите эту функцию для получения сведений о состоянии из реестра или. INI-файл.

```cpp
void LoadState(LPCTSTR lpszProfileName);
```

### <a name="parameters"></a>Параметры

*лпсзпрофиленаме*<br/>
Указывает на теминатед строку, которая указывает имя раздела в файле инициализации или ключ в реестре Windows, где хранятся сведения о состоянии.

### <a name="remarks"></a>Комментарии

Имя профиля — это раздел приложения. INI-файл или реестр, содержащий сведения о состоянии столбцов. Сведения о состоянии панели управления можно сохранить в реестре или в. INI-файл с `SaveState` .

## <a name="cdockstatem_arrbarinfo"></a><a name="m_arrbarinfo"></a> Кдоккстате:: m_arrBarInfo

`CPtrArray`Объект, который является массивом указателей на сохраненные данные панели управления для каждой панели элементов управления, которая содержит сведения о сохраненном состоянии в `CDockState` объекте.

```
CPtrArray m_arrBarInfo;
```

## <a name="cdockstatesavestate"></a><a name="savestate"></a> Кдоккстате:: SaveState

Вызовите эту функцию, чтобы сохранить сведения о состоянии в реестре или. INI-файл.

```cpp
void SaveState(LPCTSTR lpszProfileName);
```

### <a name="parameters"></a>Параметры

*лпсзпрофиленаме*<br/>
Указывает на теминатед строку, которая указывает имя раздела в файле инициализации или ключ в реестре Windows, где хранятся сведения о состоянии.

### <a name="remarks"></a>Комментарии

Имя профиля — это раздел приложения. INI-файл или реестр, содержащий сведения о состоянии панели элемента управления. `SaveState` также сохраняет текущий размер экрана. Сведения о панели управления можно получить из реестра или. INI-файл с `LoadState` .

## <a name="see-also"></a>См. также раздел

[CObject, класс](../../mfc/reference/cobject-class.md)<br/>
[Иерархическая диаграмма](../../mfc/hierarchy-chart.md)
