---
title: Класс Кстатик
ms.date: 11/04/2016
f1_keywords:
- CStatic
- AFXWIN/CStatic
- AFXWIN/CStatic::CStatic
- AFXWIN/CStatic::Create
- AFXWIN/CStatic::DrawItem
- AFXWIN/CStatic::GetBitmap
- AFXWIN/CStatic::GetCursor
- AFXWIN/CStatic::GetEnhMetaFile
- AFXWIN/CStatic::GetIcon
- AFXWIN/CStatic::SetBitmap
- AFXWIN/CStatic::SetCursor
- AFXWIN/CStatic::SetEnhMetaFile
- AFXWIN/CStatic::SetIcon
helpviewer_keywords:
- CStatic [MFC], CStatic
- CStatic [MFC], Create
- CStatic [MFC], DrawItem
- CStatic [MFC], GetBitmap
- CStatic [MFC], GetCursor
- CStatic [MFC], GetEnhMetaFile
- CStatic [MFC], GetIcon
- CStatic [MFC], SetBitmap
- CStatic [MFC], SetCursor
- CStatic [MFC], SetEnhMetaFile
- CStatic [MFC], SetIcon
ms.assetid: e7c94cd9-5ebd-428a-aa30-b3e51f8efb95
ms.openlocfilehash: fc0164b2d0046ca2d36291696dd6137a9fcef069
ms.sourcegitcommit: 63784729604aaf526de21f6c6b62813882af930a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79447429"
---
# <a name="cstatic-class"></a>Класс Кстатик

Предоставляет функции статического элемента управления Windows.

## <a name="syntax"></a>Синтаксис

```
class CStatic : public CWnd
```

## <a name="members"></a>Члены

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Description|
|----------|-----------------|
|[Кстатик:: Кстатик](#cstatic)|Формирует объект `CStatic`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Description|
|----------|-----------------|
|[Кстатик:: Create](#create)|Создает статический элемент управления Windows и прикрепляет его к объекту `CStatic`.|
|[Кстатик::D Равитем](#drawitem)|Переопределение для рисования статического элемента управления, рисуемого владельцем.|
|[Кстатик::/Bitmap](#getbitmap)|Получает маркер точечного рисунка, установленный ранее с помощью [сетбитмап](#setbitmap).|
|[Кстатик:: oncursor](#getcursor)|Получает маркер изображения курсора, установленного ранее с помощью [сеткурсор](#setcursor).|
|[Кстатик:: Жетенхметафиле](#getenhmetafile)|Получает маркер расширенного метафайла, установленного ранее с помощью [сетенхметафиле](#setenhmetafile).|
|[Кстатик:: "Icon"](#geticon)|Получает маркер значка, установленного ранее с помощью [сетикон](#seticon).|
|[Кстатик:: Сетбитмап](#setbitmap)|Задает точечный рисунок, отображаемый в статическом элементе управления.|
|[Кстатик:: Сеткурсор](#setcursor)|Указывает изображение курсора, отображаемое в статическом элементе управления.|
|[Кстатик:: Сетенхметафиле](#setenhmetafile)|Задает расширенный метафайл, отображаемый в статическом элементе управления.|
|[Кстатик:: Сетикон](#seticon)|Задает значок, отображаемый в статическом элементе управления.|

## <a name="remarks"></a>Remarks

Статический элемент управления отображает текстовую строку, рамку, прямоугольник, значок, курсор, точечный рисунок или расширенный метафайл. Его можно использовать для пометки, бокса или разделения других элементов управления. Статический элемент управления обычно не принимает входные данные и не предоставляет выходных данных. Однако он может уведомить своего родителя щелчков мыши, если он создан с использованием стиля SS_NOTIFY.

Создайте статический элемент управления в два этапа. Сначала вызовите конструктор для создания объекта `CStatic`, а затем вызовите функцию [создания](#create) члена, чтобы создать статический элемент управления и присоединить его к объекту `CStatic`.

При создании объекта `CStatic` в диалоговом окне (через ресурс диалогового окна) объект `CStatic` автоматически уничтожается, когда пользователь закрывает диалоговое окно.

Если в окне создается объект `CStatic`, его также может потребоваться уничтожить. Объект `CStatic`, созданный в стеке в окне, автоматически уничтожается. При создании объекта `CStatic` в куче с помощью **новой** функции необходимо вызвать метод **Delete** для объекта, чтобы уничтожить его после завершения работы с ним.

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CStatic`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

##  <a name="create"></a>Кстатик:: Create

Создает статический элемент управления Windows и прикрепляет его к объекту `CStatic`.

```
virtual BOOL Create(
    LPCTSTR lpszText,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID = 0xffff);
```

### <a name="parameters"></a>Параметры

*lpszText*<br/>
Задает текст, помещаемый в элемент управления. Если значение равно NULL, текст отображаться не будет.

*двстиле*<br/>
Задает стиль окна статического элемента управления. Примените к элементу управления любое сочетание [стилей статического элемента управления](../../mfc/reference/styles-used-by-mfc.md#static-styles) .

*rect*<br/>
Задает расположение и размер статического элемента управления. Это может быть либо структура `RECT`, либо объект `CRect`.

*ппарентвнд*<br/>
Указывает `CStatic` родительское окно, обычно `CDialog` объект. Оно не должно иметь значение NULL.

*nID*<br/>
Задает идентификатор элемента управления статического элемента управления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Создайте объект `CStatic` в два этапа. Сначала вызовите конструктор `CStatic`, а затем вызовите `Create`, который создает статический элемент управления Windows и присоединяет его к объекту `CStatic`.

Применить следующие [стили окна](../../mfc/reference/styles-used-by-mfc.md#window-styles) к статическому элементу управления:

- WS_CHILD всегда

- WS_VISIBLE обычно

- WS_DISABLED редко

Если вы собираетесь отображать точечный рисунок, курсор, значок или метафайл в статическом элементе управления, необходимо применить один из следующих [статических стилей](../../mfc/reference/styles-used-by-mfc.md#static-styles):

- SS_BITMAP использовать этот стиль для точечных рисунков.

- SS_ICON использовать этот стиль для курсоров и значков.

- SS_ENHMETAFILE использовать этот стиль для расширенных метафайлов.

Для курсоров, точечных рисунков или значков также может потребоваться следующий стиль:

- SS_CENTERIMAGE использовать для центрирования изображения в статическом элементе управления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#1](../../mfc/reference/codesnippet/cpp/cstatic-class_1.cpp)]

##  <a name="cstatic"></a>Кстатик:: Кстатик

Формирует объект `CStatic`.

```
CStatic();
```

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#2](../../mfc/reference/codesnippet/cpp/cstatic-class_2.cpp)]

##  <a name="drawitem"></a>Кстатик::D Равитем

Вызывается платформой для рисования статического элемента управления, рисуемого владельцем.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Параметры

*лпдравитемструкт*<br/>
Указатель на структуру [дравитемструкт](/windows/win32/api/winuser/ns-winuser-drawitemstruct) . Структура содержит сведения о рисуемом элементе и требуемом типе рисования.

### <a name="remarks"></a>Remarks

Переопределите эту функцию, чтобы реализовать Рисование для объекта `CStatic`, рисуемого владельцем (элемент управления имеет стиль SS_OWNERDRAW).

##  <a name="getbitmap"></a>Кстатик::/Bitmap

Возвращает маркер точечного рисунка, установленный ранее с помощью [сетбитмап](#setbitmap), который связан с `CStatic`.

```
HBITMAP GetBitmap() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на текущее растровое изображение или значение NULL, если точечный рисунок не задан.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#3](../../mfc/reference/codesnippet/cpp/cstatic-class_3.cpp)]

##  <a name="getcursor"></a>Кстатик:: oncursor

Возвращает маркер курсора, установленный ранее с помощью [сеткурсор](#setcursor), связанного с `CStatic`.

```
HCURSOR GetCursor();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на текущий курсор или значение NULL, если курсор не задан.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#4](../../mfc/reference/codesnippet/cpp/cstatic-class_4.cpp)]

##  <a name="getenhmetafile"></a>Кстатик:: Жетенхметафиле

Возвращает маркер расширенного метафайла, ранее заданный с помощью [сетенхметафиле](#setenhmetafile), связанного с `CStatic`.

```
HENHMETAFILE GetEnhMetaFile() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на текущий расширенный метафайл или значение NULL, если расширенный метафайл не задан.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#5](../../mfc/reference/codesnippet/cpp/cstatic-class_5.cpp)]

##  <a name="geticon"></a>Кстатик:: "Icon"

Возвращает маркер значка, ранее заданный с помощью [сетикон](#seticon), связанного с `CStatic`.

```
HICON GetIcon() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на текущий значок или значение NULL, если значок не задан.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#6](../../mfc/reference/codesnippet/cpp/cstatic-class_6.cpp)]

##  <a name="setbitmap"></a>Кстатик:: Сетбитмап

Связывает новое растровое изображение со статическим элементом управления.

```
HBITMAP SetBitmap(HBITMAP hBitmap);
```

### <a name="parameters"></a>Параметры

*хбитмап*<br/>
Маркер растрового изображения, который должен быть изображен в статическом элементе управления.

### <a name="return-value"></a>Возвращаемое значение

Маркер точечного рисунка, который ранее был связан со статическим элементом управления, или значение NULL, если ни один из битовых рисунков не связан с статическим элементом управления.

### <a name="remarks"></a>Remarks

Растровое изображение будет автоматически отображаться в статическом элементе управления. По умолчанию он будет отображаться в левом верхнем углу, а размер статического элемента управления изменится до размера растрового изображения.

Можно использовать различные стили окна и статического элемента управления, включая следующие:

- SS_BITMAP использовать этот стиль всегда для точечных рисунков.

- SS_CENTERIMAGE использовать для центрирования изображения в статическом элементе управления. Если изображение больше статического элемента управления, оно будет обрезано. Если он меньше статического элемента управления, то пустое пространство вокруг изображения будет заполняться цветом пикселя в левом верхнем углу точечного рисунка.

- MFC предоставляет класс `CBitmap`, который можно использовать, если необходимо сделать больше с растровым изображением, чем просто вызвать функцию Win32 `LoadBitmap`. `CBitmap`, который содержит один тип объекта GDI, часто используется в совместной работе с `CStatic`, который представляет собой `CWnd` класс, используемый для отображения графического объекта в виде статического элемента управления.

`CImage` — это класс ATL/MFC, который позволяет более легко работать с независимыми от устройства точечными рисунками (DIB). Дополнительные сведения см. в разделе [класс CImage](../../atl-mfc-shared/reference/cimage-class.md).

- Типичное использование заключается в предоставлении `CStatic::SetBitmap` объекта GDI, возвращаемого оператором ХБИТМАП объекта `CBitmap` или `CImage`. Код для этого напоминает следующую строку.

```
MyStaticControl.SetBitmap(HBITMAP(MyBitmap));
```

В следующем примере создается два `CStatic` объектов в куче. Затем он загружается с системным точечным рисунком, используя `CBitmap::LoadOEMBitmap`, а другой — из файла с помощью `CImage::Load`.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#3](../../mfc/reference/codesnippet/cpp/cstatic-class_3.cpp)]

##  <a name="setcursor"></a>Кстатик:: Сеткурсор

Связывает новый образ курсора со статическим элементом управления.

```
HCURSOR SetCursor(HCURSOR hCursor);
```

### <a name="parameters"></a>Параметры

*хкурсор*<br/>
Маркер курсора, рисуемого в статическом элементе управления.

### <a name="return-value"></a>Возвращаемое значение

Маркер курсора, который ранее связан со статическим элементом управления, или значение NULL, если ни один из курсоров не связан с статическим элементом управления.

### <a name="remarks"></a>Remarks

Курсор будет автоматически нарисован в статическом элементе управления. По умолчанию он будет отображаться в левом верхнем углу, а размер статического элемента управления изменится до размера курсора.

Можно использовать различные стили окна и статического элемента управления, включая следующие:

- SS_ICON использовать этот стиль всегда для курсоров и значков.

- SS_CENTERIMAGE использовать для центрирования в статическом элементе управления. Если изображение больше статического элемента управления, оно будет обрезано. Если он меньше статического элемента управления, то пустое пространство вокруг изображения будет заполнено цветом фона статического элемента управления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#4](../../mfc/reference/codesnippet/cpp/cstatic-class_4.cpp)]

##  <a name="setenhmetafile"></a>Кстатик:: Сетенхметафиле

Связывает новый расширенный графический метафайл с статическим элементом управления.

```
HENHMETAFILE SetEnhMetaFile(HENHMETAFILE hMetaFile);
```

### <a name="parameters"></a>Параметры

*хметафиле*<br/>
Маркер расширенного метафайла, который будет отображаться в статическом элементе управления.

### <a name="return-value"></a>Возвращаемое значение

Маркер расширенного метафайла, ранее связанный со статическим элементом управления, или значение NULL, если с статическим элементом управления не связан ни один расширенный метафайл.

### <a name="remarks"></a>Remarks

Расширенный метафайл будет автоматически отображаться в статическом элементе управления. Расширенный метафайл масштабируется в соответствии с размером статического элемента управления.

Можно использовать различные стили окна и статического элемента управления, включая следующие:

- SS_ENHMETAFILE использовать этот стиль всегда для расширенных метафайлов.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#5](../../mfc/reference/codesnippet/cpp/cstatic-class_5.cpp)]

##  <a name="seticon"></a>Кстатик:: Сетикон

Связывает новое изображение значка со статическим элементом управления.

```
HICON SetIcon(HICON hIcon);
```

### <a name="parameters"></a>Параметры

*hIcon*<br/>
Маркер значка, который должен отображаться в статическом элементе управления.

### <a name="return-value"></a>Возвращаемое значение

Маркер значка, ранее связанный со статическим элементом управления, или значение NULL, если с статическим элементом управления не связан ни один значок.

### <a name="remarks"></a>Remarks

Значок будет автоматически отображаться в статическом элементе управления. По умолчанию он будет отображаться в левом верхнем углу, а размер статического элемента управления изменится до размера значка.

Можно использовать различные стили окна и статического элемента управления, включая следующие:

- SS_ICON использовать этот стиль всегда для курсоров и значков.

- SS_CENTERIMAGE использовать для центрирования в статическом элементе управления. Если изображение больше статического элемента управления, оно будет обрезано. Если он меньше статического элемента управления, то пустое пространство вокруг изображения будет заполнено цветом фона статического элемента управления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CStatic#6](../../mfc/reference/codesnippet/cpp/cstatic-class_6.cpp)]

## <a name="see-also"></a>См. также раздел

[Класс CWnd](../../mfc/reference/cwnd-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CWnd](../../mfc/reference/cwnd-class.md)<br/>
[Класс CButton](../../mfc/reference/cbutton-class.md)<br/>
[Класс CComboBox](../../mfc/reference/ccombobox-class.md)<br/>
[Класс CEdit](../../mfc/reference/cedit-class.md)<br/>
[Класс CListBox](../../mfc/reference/clistbox-class.md)<br/>
[Класс CScrollBar](../../mfc/reference/cscrollbar-class.md)<br/>
[Класс CDialog](../../mfc/reference/cdialog-class.md)
