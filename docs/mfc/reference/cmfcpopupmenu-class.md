---
title: Класс CMFCPopupMenu
ms.date: 10/18/2018
f1_keywords:
- CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::ActivatePopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::AlwaysShowEmptyToolsEntry
- AFXPOPUPMENU/CMFCPopupMenu::AreAllCommandsShown
- AFXPOPUPMENU/CMFCPopupMenu::CheckArea
- AFXPOPUPMENU/CMFCPopupMenu::CloseMenu
- AFXPOPUPMENU/CMFCPopupMenu::Create
- AFXPOPUPMENU/CMFCPopupMenu::DefaultMouseClickOnClose
- AFXPOPUPMENU/CMFCPopupMenu::EnableMenuLogo
- AFXPOPUPMENU/CMFCPopupMenu::EnableMenuSound
- AFXPOPUPMENU/CMFCPopupMenu::EnableResize
- AFXPOPUPMENU/CMFCPopupMenu::EnableScrolling
- AFXPOPUPMENU/CMFCPopupMenu::EnableVertResize
- AFXPOPUPMENU/CMFCPopupMenu::FindSubItemByCommand
- AFXPOPUPMENU/CMFCPopupMenu::GetActiveMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetAnimationSpeed
- AFXPOPUPMENU/CMFCPopupMenu::GetAnimationType
- AFXPOPUPMENU/CMFCPopupMenu::GetDropDirection
- AFXPOPUPMENU/CMFCPopupMenu::GetForceMenuFocus
- AFXPOPUPMENU/CMFCPopupMenu::GetForceShadow
- AFXPOPUPMENU/CMFCPopupMenu::GetHMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuBar
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuItem
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuItemCount
- AFXPOPUPMENU/CMFCPopupMenu::GetMessageWnd
- AFXPOPUPMENU/CMFCPopupMenu::GetParentArea
- AFXPOPUPMENU/CMFCPopupMenu::GetParentButton
- AFXPOPUPMENU/CMFCPopupMenu::GetParentPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetParentRibbonElement
- AFXPOPUPMENU/CMFCPopupMenu::GetParentToolBar
- AFXPOPUPMENU/CMFCPopupMenu::GetQuickCustomizeType
- AFXPOPUPMENU/CMFCPopupMenu::GetSelItem
- AFXPOPUPMENU/CMFCPopupMenu::HasBeenResized
- AFXPOPUPMENU/CMFCPopupMenu::HideRarelyUsedCommands
- AFXPOPUPMENU/CMFCPopupMenu::InCommand
- AFXPOPUPMENU/CMFCPopupMenu::InsertItem
- AFXPOPUPMENU/CMFCPopupMenu::InsertSeparator
- AFXPOPUPMENU/CMFCPopupMenu::IsAlwaysClose
- AFXPOPUPMENU/CMFCPopupMenu::IsAlwaysShowEmptyToolsEntry
- AFXPOPUPMENU/CMFCPopupMenu::IsCustomizePane
- AFXPOPUPMENU/CMFCPopupMenu::IsEscClose
- AFXPOPUPMENU/CMFCPopupMenu::IsIdle
- AFXPOPUPMENU/CMFCPopupMenu::IsMenuSound
- AFXPOPUPMENU/CMFCPopupMenu::IsQuickCustomize
- AFXPOPUPMENU/CMFCPopupMenu::IsResizeble
- AFXPOPUPMENU/CMFCPopupMenu::IsRightAlign
- AFXPOPUPMENU/CMFCPopupMenu::IsScrollable
- AFXPOPUPMENU/CMFCPopupMenu::IsSendMenuSelectMsg
- AFXPOPUPMENU/CMFCPopupMenu::IsShown
- AFXPOPUPMENU/CMFCPopupMenu::MoveTo
- AFXPOPUPMENU/CMFCPopupMenu::OnCmdMsg
- AFXPOPUPMENU/CMFCPopupMenu::PostCommand
- AFXPOPUPMENU/CMFCPopupMenu::PreTranslateMessage
- AFXPOPUPMENU/CMFCPopupMenu::RecalcLayout
- AFXPOPUPMENU/CMFCPopupMenu::RemoveAllItems
- AFXPOPUPMENU/CMFCPopupMenu::RemoveItem
- AFXPOPUPMENU/CMFCPopupMenu::SaveState
- AFXPOPUPMENU/CMFCPopupMenu::SetAnimationSpeed
- AFXPOPUPMENU/CMFCPopupMenu::SetAnimationType
- AFXPOPUPMENU/CMFCPopupMenu::SetAutoDestroy
- AFXPOPUPMENU/CMFCPopupMenu::SetDefaultItem
- AFXPOPUPMENU/CMFCPopupMenu::SetForceMenuFocus
- AFXPOPUPMENU/CMFCPopupMenu::SetForceShadow
- AFXPOPUPMENU/CMFCPopupMenu::SetMaxWidth
- AFXPOPUPMENU/CMFCPopupMenu::SetMessageWnd
- AFXPOPUPMENU/CMFCPopupMenu::SetParentRibbonElement
- AFXPOPUPMENU/CMFCPopupMenu::SetQuickCustomizeType
- AFXPOPUPMENU/CMFCPopupMenu::SetQuickMode
- AFXPOPUPMENU/CMFCPopupMenu::SetRightAlign
- AFXPOPUPMENU/CMFCPopupMenu::SetSendMenuSelectMsg
- AFXPOPUPMENU/CMFCPopupMenu::ShowAllCommands
- AFXPOPUPMENU/CMFCPopupMenu::TriggerResize
- AFXPOPUPMENU/CMFCPopupMenu::UpdateAllShadows
- AFXPOPUPMENU/CMFCPopupMenu::UpdateShadow
- AFXPOPUPMENU/CMFCPopupMenu::CreateTearOffBar
- AFXPOPUPMENU/CMFCPopupMenu::OnChangeHot
- AFXPOPUPMENU/CMFCPopupMenu::OnChooseItem
helpviewer_keywords:
- CMFCPopupMenu [MFC], CMFCPopupMenu
- CMFCPopupMenu [MFC], ActivatePopupMenu
- CMFCPopupMenu [MFC], AlwaysShowEmptyToolsEntry
- CMFCPopupMenu [MFC], AreAllCommandsShown
- CMFCPopupMenu [MFC], CheckArea
- CMFCPopupMenu [MFC], CloseMenu
- CMFCPopupMenu [MFC], Create
- CMFCPopupMenu [MFC], DefaultMouseClickOnClose
- CMFCPopupMenu [MFC], EnableMenuLogo
- CMFCPopupMenu [MFC], EnableMenuSound
- CMFCPopupMenu [MFC], EnableResize
- CMFCPopupMenu [MFC], EnableScrolling
- CMFCPopupMenu [MFC], EnableVertResize
- CMFCPopupMenu [MFC], FindSubItemByCommand
- CMFCPopupMenu [MFC], GetActiveMenu
- CMFCPopupMenu [MFC], GetAnimationSpeed
- CMFCPopupMenu [MFC], GetAnimationType
- CMFCPopupMenu [MFC], GetDropDirection
- CMFCPopupMenu [MFC], GetForceMenuFocus
- CMFCPopupMenu [MFC], GetForceShadow
- CMFCPopupMenu [MFC], GetHMenu
- CMFCPopupMenu [MFC], GetMenuBar
- CMFCPopupMenu [MFC], GetMenuItem
- CMFCPopupMenu [MFC], GetMenuItemCount
- CMFCPopupMenu [MFC], GetMessageWnd
- CMFCPopupMenu [MFC], GetParentArea
- CMFCPopupMenu [MFC], GetParentButton
- CMFCPopupMenu [MFC], GetParentPopupMenu
- CMFCPopupMenu [MFC], GetParentRibbonElement
- CMFCPopupMenu [MFC], GetParentToolBar
- CMFCPopupMenu [MFC], GetQuickCustomizeType
- CMFCPopupMenu [MFC], GetSelItem
- CMFCPopupMenu [MFC], HasBeenResized
- CMFCPopupMenu [MFC], HideRarelyUsedCommands
- CMFCPopupMenu [MFC], InCommand
- CMFCPopupMenu [MFC], InsertItem
- CMFCPopupMenu [MFC], InsertSeparator
- CMFCPopupMenu [MFC], IsAlwaysClose
- CMFCPopupMenu [MFC], IsAlwaysShowEmptyToolsEntry
- CMFCPopupMenu [MFC], IsCustomizePane
- CMFCPopupMenu [MFC], IsEscClose
- CMFCPopupMenu [MFC], IsIdle
- CMFCPopupMenu [MFC], IsMenuSound
- CMFCPopupMenu [MFC], IsQuickCustomize
- CMFCPopupMenu [MFC], IsResizeble
- CMFCPopupMenu [MFC], IsRightAlign
- CMFCPopupMenu [MFC], IsScrollable
- CMFCPopupMenu [MFC], IsSendMenuSelectMsg
- CMFCPopupMenu [MFC], IsShown
- CMFCPopupMenu [MFC], MoveTo
- CMFCPopupMenu [MFC], OnCmdMsg
- CMFCPopupMenu [MFC], PostCommand
- CMFCPopupMenu [MFC], PreTranslateMessage
- CMFCPopupMenu [MFC], RecalcLayout
- CMFCPopupMenu [MFC], RemoveAllItems
- CMFCPopupMenu [MFC], RemoveItem
- CMFCPopupMenu [MFC], SaveState
- CMFCPopupMenu [MFC], SetAnimationSpeed
- CMFCPopupMenu [MFC], SetAnimationType
- CMFCPopupMenu [MFC], SetAutoDestroy
- CMFCPopupMenu [MFC], SetDefaultItem
- CMFCPopupMenu [MFC], SetForceMenuFocus
- CMFCPopupMenu [MFC], SetForceShadow
- CMFCPopupMenu [MFC], SetMaxWidth
- CMFCPopupMenu [MFC], SetMessageWnd
- CMFCPopupMenu [MFC], SetParentRibbonElement
- CMFCPopupMenu [MFC], SetQuickCustomizeType
- CMFCPopupMenu [MFC], SetQuickMode
- CMFCPopupMenu [MFC], SetRightAlign
- CMFCPopupMenu [MFC], SetSendMenuSelectMsg
- CMFCPopupMenu [MFC], ShowAllCommands
- CMFCPopupMenu [MFC], TriggerResize
- CMFCPopupMenu [MFC], UpdateAllShadows
- CMFCPopupMenu [MFC], UpdateShadow
- CMFCPopupMenu [MFC], CreateTearOffBar
- CMFCPopupMenu [MFC], OnChangeHot
- CMFCPopupMenu [MFC], OnChooseItem
ms.assetid: 9555dca1-8c9c-44c9-af72-0659ddad128e
ms.openlocfilehash: bd6629df4274af8a4f450024f0bad6da45ae3683
ms.sourcegitcommit: 5cecccba0a96c1b4ccea1f7a1cfd91f259cc5bde
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2019
ms.locfileid: "58776015"
---
# <a name="cmfcpopupmenu-class"></a>Класс CMFCPopupMenu

Реализует возможности всплывающего меню Windows и расширяет его, добавляя такие возможности как перемещаемые меню и подсказки.
Дополнительные сведения см. в исходном коде, расположенном в папке **VC\\atlmfc\\src\\mfc** каталога установки Visual Studio.

## <a name="syntax"></a>Синтаксис

```
class CMFCPopupMenu : public CMiniFrameWnd
```

## <a name="members"></a>Участники

### <a name="protected-constructors"></a>Защищенные конструкторы

|name|Описание|
|----------|-----------------|
|[CMFCPopupMenu::CMFCPopupMenu](#cmfcpopupmenu)|Создает объект `CMFCPopupMenu`.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CMFCPopupMenu::ActivatePopupMenu](#activatepopupmenu)||
|[CMFCPopupMenu::AlwaysShowEmptyToolsEntry](#alwaysshowemptytoolsentry)|Задает включение всплывающего меню для отображения пустой записи для пользовательских инструментов.|
|[CMFCPopupMenu::AreAllCommandsShown](#areallcommandsshown)||
|[CMFCPopupMenu::CheckArea](#checkarea)|Определяет положение точки относительно во всплывающем меню.|
|[CMFCPopupMenu::CloseMenu](#closemenu)||
|[CMFCPopupMenu::Create](#create)|Создает всплывающее меню и присоединяет его к `CMFCPopupMenu` объекта.|
|[CMFCPopupMenu::DefaultMouseClickOnClose](#defaultmouseclickonclose)||
|[CMFCPopupMenu::EnableMenuLogo](#enablemenulogo)|Инициализирует логотип всплывающего меню.|
|[CMFCPopupMenu::EnableMenuSound](#enablemenusound)|Позволяет звук меню.|
|[CMFCPopupMenu::EnableResize](#enableresize)||
|[CMFCPopupMenu::EnableScrolling](#enablescrolling)||
|[CMFCPopupMenu::EnableVertResize](#enablevertresize)||
|[CMFCPopupMenu::FindSubItemByCommand](#findsubitembycommand)||
|[CMFCPopupMenu::GetActiveMenu](#getactivemenu)|Возвращает текущий активный меню.|
|[CMFCPopupMenu::GetAnimationSpeed](#getanimationspeed)|Возвращает скорость анимации контекстных меню.|
|[CMFCPopupMenu::GetAnimationType](#getanimationtype)|Возвращает текущий тип анимации всплывающего меню.|
|[CMFCPopupMenu::GetDropDirection](#getdropdirection)||
|[CMFCPopupMenu::GetForceMenuFocus](#getforcemenufocus)|Указывает, возвращаются ли фокус на меню при отображении всплывающего меню.|
|[CMFCPopupMenu::GetForceShadow](#getforceshadow)||
|[CMFCPopupMenu::GetHMenu](#gethmenu)|Возвращает дескриптор для ресурса вложенного меню.|
|[CMFCPopupMenu::GetMenuBar](#getmenubar)|Возвращает [CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md) внедренные во всплывающем меню.|
|[CMFCPopupMenu::GetMenuItem](#getmenuitem)|Возвращает указатель на пункт меню по указанному индексу.|
|[CMFCPopupMenu::GetMenuItemCount](#getmenuitemcount)|Возвращает количество элементов в контекстном меню.|
|[CMFCPopupMenu::GetMessageWnd](#getmessagewnd)|Возвращает указатель на окно, где платформа перенаправляет сообщения всплывающего меню.|
|[CMFCPopupMenu::GetParentArea](#getparentarea)||
|[CMFCPopupMenu::GetParentButton](#getparentbutton)|Возвращает указатель на кнопку панели инструментов родительского.|
|[CMFCPopupMenu::GetParentPopupMenu](#getparentpopupmenu)|Возвращает указатель на родительский во всплывающем меню.|
|[CMFCPopupMenu::GetParentRibbonElement](#getparentribbonelement)||
|[CMFCPopupMenu::GetParentToolBar](#getparenttoolbar)|Возвращает указатель на родительской панели инструментов.|
|[CMFCPopupMenu::GetQuickCustomizeType](#getquickcustomizetype)||
|[CMFCPopupMenu::GetSelItem](#getselitem)|Возвращает указатель на команду текущего выбранного меню.|
|[CMFCPopupMenu::HasBeenResized](#hasbeenresized)||
|[CMFCPopupMenu::HideRarelyUsedCommands](#hiderarelyusedcommands)|Указывает ли во всплывающем меню можно скрыть редко используемых команд.|
|[CMFCPopupMenu::InCommand](#incommand)||
|[CMFCPopupMenu::InsertItem](#insertitem)|Вставляет элемент в всплывающем меню в указанном расположении.|
|[CMFCPopupMenu::InsertSeparator](#insertseparator)|Вставляет разделитель в всплывающем меню в указанном расположении.|
|[CMFCPopupMenu::IsAlwaysClose](#isalwaysclose)||
|[CMFCPopupMenu::IsAlwaysShowEmptyToolsEntry](#isalwaysshowemptytoolsentry)||
|[CMFCPopupMenu::IsCustomizePane](#iscustomizepane)|Указывает, работает ли во всплывающем меню как **QuickCustomizePane**.|
|[CMFCPopupMenu::IsEscClose](#isescclose)||
|[CMFCPopupMenu::IsIdle](#isidle)|Указывает, является ли всплывающее меню в настоящее время простоя.|
|[CMFCPopupMenu::IsMenuSound](#ismenusound)||
|[CMFCPopupMenu::IsQuickCustomize](#isquickcustomize)|Определяет, является ли связанный [класс CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md) находится в режиме QuickCustomize.|
|[CMFCPopupMenu::IsResizeble](#isresizeble)||
|[CMFCPopupMenu::IsRightAlign](#isrightalign)|Указывает, является ли меню по правому краю или по левому краю.|
|[CMFCPopupMenu::IsScrollable](#isscrollable)||
|[CMFCPopupMenu::IsSendMenuSelectMsg](#issendmenuselectmsg)|Указывает ли платформа уведомляет родительского фрейма, когда пользователь выбирает команду в раскрывающемся меню.|
|[CMFCPopupMenu::IsShown](#isshown)|Указывает, является ли видимой в данный момент во всплывающем меню.|
|[CMFCPopupMenu::MoveTo](#moveto)||
|[CMFCPopupMenu::OnCmdMsg](#oncmdmsg)|(Переопределяет `CFrameWnd::OnCmdMsg`.)|
|[CMFCPopupMenu::PostCommand](#postcommand)||
|[CMFCPopupMenu::PreTranslateMessage](#pretranslatemessage)|(Переопределяет `CFrameWnd::PreTranslateMessage`.)|
|[CMFCPopupMenu::RecalcLayout](#recalclayout)|Вызывается платформой, когда стандартные панели элементов управления являются включаются или выключаются или при изменении размера окна фрейма. (Переопределяет [CFrameWnd::RecalcLayout](../../mfc/reference/cframewnd-class.md#recalclayout).)|
|[CMFCPopupMenu::RemoveAllItems](#removeallitems)|Удаляет все элементы из всплывающего меню.|
|[CMFCPopupMenu::RemoveItem](#removeitem)|Удаляет указанный элемент из всплывающего меню.|
|[CMFCPopupMenu::SaveState](#savestate)||
|[CMFCPopupMenu::SetAnimationSpeed](#setanimationspeed)|Устанавливает скорость анимации контекстных меню.|
|[CMFCPopupMenu::SetAnimationType](#setanimationtype)|Задает тип анимации для всплывающего меню.|
|[CMFCPopupMenu::SetAutoDestroy](#setautodestroy)||
|[CMFCPopupMenu::SetDefaultItem](#setdefaultitem)|Задает команду по умолчанию для контекстного меню.|
|[CMFCPopupMenu::SetForceMenuFocus](#setforcemenufocus)|Заставляет фокус ввода, чтобы вернуться к строке при отображении всплывающего меню меню.|
|[CMFCPopupMenu::SetForceShadow](#setforceshadow)|Заставляет структурой для прорисовки shadows меню, когда всплывающее меню отображаются за пределами главного фрейма.|
|[CMFCPopupMenu::SetMaxWidth](#setmaxwidth)|Задайте максимальную ширину для всплывающего меню.|
|[CMFCPopupMenu::SetMessageWnd](#setmessagewnd)||
|[CMFCPopupMenu::SetParentRibbonElement](#setparentribbonelement)||
|[CMFCPopupMenu::SetQuickCustomizeType](#setquickcustomizetype)||
|[CMFCPopupMenu::SetQuickMode](#setquickmode)||
|[CMFCPopupMenu::SetRightAlign](#setrightalign)|Задает выравнивание меню, контекстных меню.|
|[CMFCPopupMenu::SetSendMenuSelectMsg](#setsendmenuselectmsg)|Задает флаг, который управляет ли во всплывающем меню уведомляет его родительского фрейма, когда пользователь выбирает команду.|
|[CMFCPopupMenu::ShowAllCommands](#showallcommands)|Заставляет всплывающее меню для отображения всех команд.|
|[CMFCPopupMenu::TriggerResize](#triggerresize)||
|[CMFCPopupMenu::UpdateAllShadows](#updateallshadows)|Обновляет теней для всех открытых всплывающего меню.|
|[CMFCPopupMenu::UpdateShadow](#updateshadow)|Обновляет тени во всплывающем меню.|

### <a name="protected-methods"></a>Защищенные методы

|name|Описание|
|----------|-----------------|
|[CMFCPopupMenu::CreateTearOffBar](#createtearoffbar)||
|[CMFCPopupMenu::OnChangeHot](#onchangehot)||
|[CMFCPopupMenu::OnChooseItem](#onchooseitem)||

### <a name="remarks"></a>Примечания

Как правило MFC создает всплывающее меню автоматически. Если вы хотите создать `CMFCPopupMenu` объекта вручную, выделение таковой в куче и вызова [CMFCPopupMenu::Create](#create).

## <a name="example"></a>Пример

В следующем примере показано, как настроить объект всплывающего меню. Пример показано, как задать эмблемы и звука из всплывающего меню, задать скорость анимации и тип, рисования shadows меню, когда во всплывающем меню находится за пределами главного фрейма, максимальную ширину и правом меню Выравнивание всплывающего меню. Этот фрагмент кода является частью [пример пользовательские страницы](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_CustomPages#2](../../mfc/reference/codesnippet/cpp/cmfcpopupmenu-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CFrameWnd](../../mfc/reference/cframewnd-class.md)

[CMiniFrameWnd](../../mfc/reference/cminiframewnd-class.md)

`CMFCPopupMenu`

## <a name="requirements"></a>Требования

**Заголовок:** afxpopupmenu.h

##  <a name="activatepopupmenu"></a>  CMFCPopupMenu::ActivatePopupMenu

```
static BOOL __stdcall ActivatePopupMenu(
    CFrameWnd* pTopFrame,
    CMFCPopupMenu* pPopupMenu);
```

### <a name="parameters"></a>Параметры

[in] *pTopFrame*<br/>
[in] *pPopupMenu*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="alwaysshowemptytoolsentry"></a>  CMFCPopupMenu::AlwaysShowEmptyToolsEntry

Задает включение всплывающего меню для отображения пустой записи для пользовательских инструментов.

```
static void AlwaysShowEmptyToolsEntry(BOOL bShow = TRUE);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
[in] Значение TRUE, если во всплывающем меню можно отобразить пустые записи; Значение FALSE в противном случае.

##  <a name="areallcommandsshown"></a>  CMFCPopupMenu::AreAllCommandsShown

```
BOOL AreAllCommandsShown() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="checkarea"></a>  CMFCPopupMenu::CheckArea

Определяет положение точки относительно во всплывающем меню.

```
MENUAREA_TYPE CheckArea(const CPoint& ptScreen) const;
```

### <a name="parameters"></a>Параметры

*ptScreen*<br/>
[in] Точка, в экранных координатах.

### <a name="return-value"></a>Возвращаемое значение

Параметр MENUAREA_TYPE, который указывает, где точка дана относительно во всплывающем меню.

### <a name="remarks"></a>Примечания

Параметр MENUAREA_TYPE может иметь одно из следующих значений.

- ВНЕ - *ptScreen* находится за пределами всплывающего меню.

- ЛОГОТИП - *ptScreen* находится над областью логотип.

- TEAROFF_CAPTION - *ptScreen* находится над перемещаемой заголовок.

- SHADOW_BOTTOM - *ptScreen* находится над нижней тени во всплывающем меню.

- SHADOW_RIGHT - *ptScreen* находится над правой тени во всплывающем меню.

- МЕНЮ - *ptScreen* находится над команды.

##  <a name="closemenu"></a>  CMFCPopupMenu::CloseMenu

```
void CloseMenu(BOOL bSetFocusToBar = FALSE);
```

### <a name="parameters"></a>Параметры

[in] *bSetFocusToBar*<br/>

### <a name="remarks"></a>Примечания

##  <a name="cmfcpopupmenu"></a>  CMFCPopupMenu::CMFCPopupMenu

Создает [CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) объекта.

```
CMFCPopupMenu(
    CMFCToolBarsMenuPropertyPage* pCustPage,
    LPCTSTR lpszTitle);
```

### <a name="parameters"></a>Параметры

*pCustPage*<br/>
[in] Указатель на страницу настройки.

*lpszTitle*<br/>
[in] Строка, содержащая заголовок меню.

### <a name="remarks"></a>Примечания

Этот метод выделяет ресурсы для `CMFCPopupMenu`. Для создания всплывающего меню, вызовите [CMFCPopupMenu::Create](#create).

##  <a name="create"></a>  CMFCPopupMenu::Create

Создает всплывающее меню и присоединяет его к [CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) объекта.

```
virtual BOOL Create(
    CWnd* pWndParent,
    int x,
    int y,
    HMENU hMenu,
    BOOL bLocked = FALSE,
    BOOL bOwnMessage = FALSE);
```

### <a name="parameters"></a>Параметры

*pWndParent*<br/>
[in] Родительское окно для `CMFCPopupMenu`.

*x*<br/>
[in] Горизонтальная экранная координата расположения контекстного меню

*y*<br/>
[in] Вертикальная экранная координата расположение всплывающего меню.

*hMenu*<br/>
[in] Дескриптор для ресурса меню.

*Заблокировано*<br/>
[in] Логический параметр, который указывает, является ли настраиваемые меню. Значение FALSE указывает, что во всплывающем меню можно настраивать.

*bOwnMessage*<br/>
[in] Логический параметр, который указывает, каким образом платформа перенаправляет сообщения меню. См. Дополнительные сведения можно найти в разделе "Примечания".

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Если *bOwnMessage* имеет значение TRUE, маршруты framework любые сообщения, меню *pWndParent*. *pWndParent* не должен иметь значение NULL, если *bOwnMessage* имеет значение TRUE. Если *bOwnMessage* имеет значение FALSE, framework маршруты сообщений во всплывающее меню родительского меню.

### <a name="example"></a>Пример

Следующий пример демонстрирует, как использовать `Create` метод `CMFCPopuMenu` класса. Этот фрагмент кода является частью [пример пользовательские страницы](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_CustomPages#1](../../mfc/reference/codesnippet/cpp/cmfcpopupmenu-class_2.cpp)]

##  <a name="createtearoffbar"></a>  CMFCPopupMenu::CreateTearOffBar

```
virtual CPane* CreateTearOffBar(
    CFrameWnd* pWndMain,
    UINT uiID,
    LPCTSTR lpszName);
```

### <a name="parameters"></a>Параметры

[in] *pWndMain*<br/>
[in] *uiID*<br/>
[in] *lpszName*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="defaultmouseclickonclose"></a>  CMFCPopupMenu::DefaultMouseClickOnClose

```
virtual BOOL DefaultMouseClickOnClose() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="enablemenulogo"></a>  CMFCPopupMenu::EnableMenuLogo

Инициализирует логотип всплывающего меню.

```
void EnableMenuLogo(
    int iLogoSize,
    LOGO_LOCATION nLogoLocation = MENU_LOGO_LEFT);
```

### <a name="parameters"></a>Параметры

*iLogoSize*<br/>
[in] Размер эмблемы, в пикселях.

*nLogoLocation*<br/>
[in] Тип перечислимых данных, указывающий местоположение логотипа.

### <a name="remarks"></a>Примечания

Чтобы отобразить эмблему, реализуйте метод [CFrameWndEx::OnDrawMenuLogo](../../mfc/reference/cframewndex-class.md#ondrawmenulogo) в фрейма главного окна.

Возможные значения *nLogoLocation* MENU_LOGO_LEFT, MENU_LOGO_RIGHT, MENU_LOGO_TOP и MENU_LOGO_BOTTOM.

##  <a name="enablemenusound"></a>  CMFCPopupMenu::EnableMenuSound

Позволяет звук меню.

```
static void EnableMenuSound(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
[in] Значение TRUE, чтобы включить звук, в противном случае FALSE.

### <a name="remarks"></a>Примечания

Если вы включите звук, платформа вызывает [PlaySound](/windows/desktop/api/shobjidl_core/nf-shobjidl_core-iusernotification-playsound) метод, когда пользователь открывает всплывающего меню или выбирает команду меню. Эта функция включена по умолчанию.

##  <a name="enableresize"></a>  CMFCPopupMenu::EnableResize

```
void EnableResize(CSize sizeMinResize);
```

### <a name="parameters"></a>Параметры

[in] *sizeMinResize*<br/>

### <a name="remarks"></a>Примечания

##  <a name="enablescrolling"></a>  CMFCPopupMenu::EnableScrolling

```
void EnableScrolling(BOOL = TRUE);
```

### <a name="parameters"></a>Параметры

[in] *BOOL*<br/>

### <a name="remarks"></a>Примечания

##  <a name="enablevertresize"></a>  CMFCPopupMenu::EnableVertResize

```
void EnableVertResize(int nMinResize);
```

### <a name="parameters"></a>Параметры

[in] *nMinResize*<br/>

### <a name="remarks"></a>Примечания

##  <a name="findsubitembycommand"></a>  CMFCPopupMenu::FindSubItemByCommand

```
CMFCToolBarMenuButton* FindSubItemByCommand(UINT uiCmd) const;
```

### <a name="parameters"></a>Параметры

[in] *uiCmd*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getactivemenu"></a>  CMFCPopupMenu::GetActiveMenu

Возвращает текущий активный меню.

```
static CMFCPopupMenu* GetActiveMenu();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на активное всплывающее меню, или значение NULL, если активно не всплывающего меню.

### <a name="remarks"></a>Примечания

Каждое приложение может иметь не более одного активного всплывающего меню.

##  <a name="getanimationspeed"></a>  CMFCPopupMenu::GetAnimationSpeed

Возвращает скорость анимации контекстных меню.

```
static UINT GetAnimationSpeed();
```

### <a name="return-value"></a>Возвращаемое значение

Целое число, указывающее время в миллисекундах, которое требуется для завершения анимации всплывающего меню.

### <a name="remarks"></a>Примечания

Скорость анимации является глобальной переменной. Используйте [CMFCPopupMenu::SetAnimationSpeed](#setanimationspeed) Чтобы изменить скорость анимации контекстных меню.

##  <a name="getanimationtype"></a>  CMFCPopupMenu::GetAnimationType

Возвращает текущий тип всплывающей анимации.

```
static CMFCPopupMenu::ANIMATION_TYPE GetAnimationType(BOOL bNoSystem = FALSE);
```

### <a name="parameters"></a>Параметры

*bNoSystem*<br/>
[in] Логический параметр, который указывает, является ли этот метод проверяет глобальное значение. Значение FALSE, если вы хотите, чтобы этот метод для возврата стиль анимации для данного экземпляра [класс CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md).

### <a name="return-value"></a>Возвращаемое значение

Значение перечисления, которое описывает тип анимации.

### <a name="remarks"></a>Примечания

Стиль анимации контекстных меню является глобальным для вашего приложения. Используйте [CMFCPopupMenu::SetAnimationType](#setanimationtype) требуется задать стиль анимации.

Ниже перечислены возможные типы.

|||
|-|-|
|NO_ANIMATION|Во всплывающем меню не анимируется и появляется непосредственно.  |
|UNFOLD|Платформа показывает всплывающее меню в верхнем левом углу в правом нижнем углу.  |
|СЛАЙД|Во всплывающем меню перемещает сверху вниз.  |
|ИСЧЕЗАНИЕ|Во всплывающем меню появляется прозрачным, а постепенно solidifies.  |

##  <a name="getdropdirection"></a>  CMFCPopupMenu::GetDropDirection

```
DROP_DIRECTION GetDropDirection() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getforcemenufocus"></a>  CMFCPopupMenu::GetForceMenuFocus

Указывает, возвращаются ли фокус на меню при отображении всплывающего меню.

```
static BOOL GetForceMenuFocus();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если фокус ввода возвращается к строке меню, при отображении всплывающего меню; Значение FALSE, если во всплывающем меню сохраняет фокус.

### <a name="remarks"></a>Примечания

По умолчанию приложение не возвращает фокус в строку меню. Чтобы изменить этот параметр, используйте [CMFCPopupMenu::SetForceMenuFocus](#setforcemenufocus).

##  <a name="getforceshadow"></a>  CMFCPopupMenu::GetForceShadow

```
static BOOL __stdcall GetForceShadow();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="gethmenu"></a>  CMFCPopupMenu::GetHMenu

Возвращает дескриптор для ресурса вложенного меню.

```
HMENU GetHMenu();
```

##  <a name="getmenubar"></a>  CMFCPopupMenu::GetMenuBar

Возвращает [CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md) внедренные во всплывающем меню.

```
virtual CMFCPopupMenuBar* GetMenuBar();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на внедренном `CMFCPopupMenuBar`.

### <a name="remarks"></a>Примечания

Во всплывающем меню имеет встроенный `CMFCPopupMenuBar` объекта. Если вы используете другой класс embedded необходимо переопределить этот метод в производном классе.

##  <a name="getmenuitem"></a>  CMFCPopupMenu::GetMenuItem

Возвращает указатель на пункт меню по указанному индексу.

```
CMFCToolBarMenuButton* GetMenuItem(int iIndex) const;
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
[in] Отсчитываемый от нуля индекс пункта меню.

### <a name="return-value"></a>Возвращаемое значение

Указатель на пункт меню. Значение NULL, если индекс недопустим.

### <a name="remarks"></a>Примечания

Элементы меню, представляются [класс CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md). При вызове этот метод возвращает указатель на соответствующий `CMFCToolBarMenuButton`.

##  <a name="getmenuitemcount"></a>  CMFCPopupMenu::GetMenuItemCount

Возвращает число элементов во всплывающем меню.

```
int GetMenuItemCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число элементов в меню.

##  <a name="getmessagewnd"></a>  CMFCPopupMenu::GetMessageWnd

Возвращает указатель на окно, где платформа перенаправляет сообщения всплывающего меню.

```
CWnd* GetMessageWnd() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно, которое получает сообщения всплывающего меню; Значение NULL, если нет окна.

### <a name="remarks"></a>Примечания

При использовании метода [CMFCPopupMenu::Create](#create) Чтобы создать всплывающее меню, необходимо указать, какие получит сообщения меню.

##  <a name="getparentarea"></a>  CMFCPopupMenu::GetParentArea

```
virtual CWnd* GetParentArea(CRect& rectParentBtn);
```

### <a name="parameters"></a>Параметры

[in] *rectParentBtn*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getparentbutton"></a>  CMFCPopupMenu::GetParentButton

Возвращает указатель на кнопку панели инструментов родительского.

```
CMFCToolBarMenuButton* GetParentButton() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на родительский кнопки панели инструментов. Имеет значение NULL, если во всплывающем меню нет родительского кнопки панели инструментов.

### <a name="remarks"></a>Примечания

Объект `CMFCPopupMenu` можно связать с кнопкой меню. В этом случае всплывающее меню отображается при нажатии кнопки панели инструментов родительского.

Если во всплывающем меню в контекстное меню, будет нет родительского кнопки панели инструментов.

##  <a name="getparentpopupmenu"></a>  CMFCPopupMenu::GetParentPopupMenu

Возвращает указатель на родительский во всплывающем меню.

```
CMFCPopupMenu* GetParentPopupMenu() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на родительский `CMFCPopupMenu` объекта; Значение NULL, если нет родительской всплывающего меню.

### <a name="remarks"></a>Примечания

Всплывающее меню есть родительский элемент `CMFCPopupMenu` объекта, если он является подчиненным меню.

##  <a name="getparentribbonelement"></a>  CMFCPopupMenu::GetParentRibbonElement

```
CMFCRibbonBaseElement* GetParentRibbonElement() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getparenttoolbar"></a>  CMFCPopupMenu::GetParentToolBar

Возвращает указатель на родительской панели инструментов.

```
CMFCToolBar* GetParentToolBar() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на родительской панели инструментов. Имеет значение NULL, если во всплывающем меню нет родительской панели инструментов.

### <a name="remarks"></a>Примечания

Если `CMFCPopupMenu` является контекстного меню, а затем в нем нет родительской панели инструментов.

##  <a name="getquickcustomizetype"></a>  CMFCPopupMenu::GetQuickCustomizeType

```
QUICK_CUSTOMIZE_TYPE GetQuickCustomizeType() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getselitem"></a>  CMFCPopupMenu::GetSelItem

Возвращает указатель на команду текущего выбранного меню.

```
CMFCToolBarMenuButton* GetSelItem();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на команду текущего выбранного меню; Значение NULL, если элемент не выбран.

### <a name="remarks"></a>Примечания

Команды меню, всплывающих меню, представляются [класс CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md), или класс, производный от `CMFCToolBarMenuButton`.

##  <a name="hasbeenresized"></a>  CMFCPopupMenu::HasBeenResized

```
BOOL HasBeenResized() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="hiderarelyusedcommands"></a>  CMFCPopupMenu::HideRarelyUsedCommands

Указывает ли во всплывающем меню можно скрыть редко используемых команд.

```
BOOL HideRarelyUsedCommands() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если во всплывающем меню можно скрыть редко используемые команды; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод определяет, что только ли всплывающего меню можно скрыть редко используемые команды, не в том случае, если включена, конфигурация. Всплывающее меню можно скрыть редко используемых команд, если у него есть кнопки родительского родительского окна является производным от [класс CMFCMenuBar](../../mfc/reference/cmfcmenubar-class.md). Используйте [CMFCMenuBar::SetRecentlyUsedMenus](../../mfc/reference/cmfcmenubar-class.md#setrecentlyusedmenus) для включения этой функции и [CMFCMenuBar::IsRecentlyUsedMenus](../../mfc/reference/cmfcmenubar-class.md#isrecentlyusedmenus) для определения того, если эта функция включена. Оба эти метода необходимо вызвать для родительского окна.

##  <a name="incommand"></a>  CMFCPopupMenu::InCommand

```
virtual BOOL InCommand();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="insertitem"></a>  CMFCPopupMenu::InsertItem

Вставляет элемент в всплывающем меню в указанном расположении.

```
int InsertItem(
    const CMFCToolBarMenuButton& button,
    int iInsertA = -1);
```

### <a name="parameters"></a>Параметры

*Кнопка*<br/>
[in] Ссылка на добавляемый элемент меню.

*iInsertAt*<br/>
[in] Отсчитываемый от нуля индекс нового элемента. Если *iInsertAt* равно -1, элемент добавляется в конец меню.

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс позиции, где был вставлен элемент. -1, если происходит сбой метода.

### <a name="remarks"></a>Примечания

Этот метод завершится ошибкой, если указать недопустимое значение для *iInsertAt*, такие как целое число, размер которых превышает число элементов в данный момент всплывающего меню.

##  <a name="insertseparator"></a>  CMFCPopupMenu::InsertSeparator

Вставляет разделитель в всплывающем меню в указанном расположении.

```
int InsertSeparator(int iInsertAt = -1);
```

### <a name="parameters"></a>Параметры

*iInsertAt*<br/>
[in] Отсчитываемый от нуля индекс позиции, где вставляется разделитель.

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс позиции, где был вставлен разделитель. -1, если этот метод завершается ошибкой.

### <a name="remarks"></a>Примечания

Значение -1 для *iInsertAt* означает, что этот метод будет добавить разделитель в конец во всплывающем меню.

Этот метод завершается ошибкой, если *iInsertAt* является недопустимым значением.

##  <a name="isalwaysclose"></a>  CMFCPopupMenu::IsAlwaysClose

```
virtual BOOL IsAlwaysClose() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isalwaysshowemptytoolsentry"></a>  CMFCPopupMenu::IsAlwaysShowEmptyToolsEntry

```
static BOOL __stdcall IsAlwaysShowEmptyToolsEntry();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="iscustomizepane"></a>  CMFCPopupMenu::IsCustomizePane

Указывает, работает ли во всплывающем меню как **QuickCustomizePane**.

```
BOOL IsCustomizePane();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если всплывающие окна **QuckCustomizePane**; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Используйте **QuickCustomizePane** позволяет пользователям напрямую настраивать во всплывающем меню. **QuickCustomizePane** является `CMFCPopupMenu` , появляющегося при нажатии на кнопку панели инструментов для непосредственного редактирования.

Приложение должно вызвать этот метод во время [CMDIFrameWndEx::OnShowCustomizePane](../../mfc/reference/cmdiframewndex-class.md#onshowcustomizepane).

##  <a name="isescclose"></a>  CMFCPopupMenu::IsEscClose

```
BOOL IsEscClose();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isidle"></a>  CMFCPopupMenu::IsIdle

Указывает, является ли всплывающее меню в настоящее время простоя.

```
virtual BOOL IsIdle() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если во всплывающем меню в режиме простоя; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

По умолчанию всплывающего меню находится в режиме простоя, если отображение анимации завершена, и пользователь не прокрутке во всплывающем меню.

##  <a name="ismenusound"></a>  CMFCPopupMenu::IsMenuSound

```
static UINT __stdcall IsMenuSound();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isquickcustomize"></a>  CMFCPopupMenu::IsQuickCustomize

Определяет, является ли связанный [класс CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md) находится в режиме QuickCustomize.

```
BOOL IsQuickCustomize();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если кнопка связанным меню находится в режиме QuickCustomize; в противном случае — значение FALSE. Этот метод также возвращает значение FALSE, если меню не связан с `CMFCToolBarMenuButton`.

### <a name="remarks"></a>Примечания

В QuickCustomize режиме пользователь выбирает кнопку на панели инструментов, чтобы напрямую настраивать кнопки.

##  <a name="isresizeble"></a>  CMFCPopupMenu::IsResizeble

```
BOOL IsResizeble() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isrightalign"></a>  CMFCPopupMenu::IsRightAlign

Указывает, является ли меню по правому краю или по левому краю.

```
BOOL IsRightAlign() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если меню по правому краю; Значение FALSE, если меню по левому краю.

### <a name="remarks"></a>Примечания

Можно использовать [CMFCPopupMenu::SetRightAlign](#setrightalign) выравнивание меню. По умолчанию всплывающих меню используйте выравнивания по левому краю.

Меню выравнивание не является глобальным параметром и может изменяться от всплывающих меню.

##  <a name="isscrollable"></a>  CMFCPopupMenu::IsScrollable

```
BOOL IsScrollable() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="issendmenuselectmsg"></a>  CMFCPopupMenu::IsSendMenuSelectMsg

Указывает ли платформа уведомляет родительского фрейма, когда пользователь выбирает команду в раскрывающемся меню.

```
static BOOL IsSendMenuSelectMsg();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если платформа уведомляет родительского фрейма; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Платформа уведомляет родительского фрейма, отправляя ему сообщение WM_MENUSELECT, когда используется выбирает команду меню.

##  <a name="isshown"></a>  CMFCPopupMenu::IsShown

Указывает, является ли видимой в данный момент во всплывающем меню.

```
BOOL IsShown() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если всплывающего меню является видимым. в противном случае — значение FALSE.

##  <a name="moveto"></a>  CMFCPopupMenu::MoveTo

```
void MoveTo(const CPoint& pt);
```

### <a name="parameters"></a>Параметры

[in] *pt*<br/>

### <a name="remarks"></a>Примечания

##  <a name="onchangehot"></a>  CMFCPopupMenu::OnChangeHot

```
virtual void OnChangeHot(int nHot);
```

### <a name="parameters"></a>Параметры

[in] *nHot*<br/>

### <a name="remarks"></a>Примечания

##  <a name="onchooseitem"></a>  CMFCPopupMenu::OnChooseItem

```
virtual void OnChooseItem(UINT uidCmdID);
```

### <a name="parameters"></a>Параметры

[in] *uidCmdID*<br/>

### <a name="remarks"></a>Примечания

##  <a name="oncmdmsg"></a>  CMFCPopupMenu::OnCmdMsg

```
virtual BOOL OnCmdMsg(
    UINT nID,
    int nCode,
    void* pExtra,
    AFX_CMDHANDLERINFO* pHandlerInfo);
```

### <a name="parameters"></a>Параметры

[in] *nID*<br/>
[in] *nCode*<br/>
[in] *pExtra*<br/>
[in] *pHandlerInfo*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="postcommand"></a>  CMFCPopupMenu::PostCommand

```
BOOL PostCommand(UINT uiCommandID);
```

### <a name="parameters"></a>Параметры

[in] *uiCommandID*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="pretranslatemessage"></a>  CMFCPopupMenu::PreTranslateMessage

```
virtual BOOL PreTranslateMessage(MSG* pMsg);
```

### <a name="parameters"></a>Параметры

[in] *pMsg*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="recalclayout"></a>  CMFCPopupMenu::RecalcLayout

```
virtual void RecalcLayout(BOOL bNotify = TRUE);
```

### <a name="parameters"></a>Параметры

[in] *bNotify*<br/>

### <a name="remarks"></a>Примечания

##  <a name="removeallitems"></a>  CMFCPopupMenu::RemoveAllItems

Удаляет все элементы из всплывающего меню.

```
void RemoveAllItems();
```

##  <a name="removeitem"></a>  CMFCPopupMenu::RemoveItem

Удаляет указанный элемент из всплывающего меню.

```
BOOL RemoveItem(int iIndex);
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
[in] Отсчитываемый от нуля индекс элемента для удаления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод автоматически упорядочивает все разделители, которые были затронуты удаления элемента. Дополнительные сведения о том, как платформа упорядочивает разделители, см. в разделе [CMFCToolBar::RemoveButton](../../mfc/reference/cmfctoolbar-class.md#removebutton).

##  <a name="savestate"></a>  CMFCPopupMenu::SaveState

```
virtual void SaveState();
```

### <a name="remarks"></a>Примечания

##  <a name="setanimationspeed"></a>  CMFCPopupMenu::SetAnimationSpeed

Устанавливает скорость анимации контекстных меню.

```
static void SetAnimationSpeed(UINT nElapse);
```

### <a name="parameters"></a>Параметры

*nElapse*<br/>
[in] Новый скорость анимации, в миллисекундах.

### <a name="remarks"></a>Примечания

Скорость анимации глобальное значение и влияет на все всплывающее меню в приложении. Это значение указывает время, необходимое для анимации для завершения всплывающего меню.

По умолчанию этому параметру присвоить 30 миллисекунд. Диапазон допустимых значений для *nElapse* составляет от 0 до 200.

##  <a name="setanimationtype"></a>  CMFCPopupMenu::SetAnimationType

Задает тип анимации для этого во всплывающем меню.

```
static void SetAnimationType(CMFCPopupMenu::ANIMATION_TYPE type);
```

### <a name="parameters"></a>Параметры

*type*<br/>
[in] Тип перечислимых данных, указывающее тип используемой анимации.

### <a name="remarks"></a>Примечания

См. в разделе [CMFCPopupMenu::GetAnimationType](#getanimationtype) список допустимых значений для *тип*.

##  <a name="setautodestroy"></a>  CMFCPopupMenu::SetAutoDestroy

```
void SetAutoDestroy(BOOL bAutoDestroy = TRUE);
```

### <a name="parameters"></a>Параметры

[in] *bAutoDestroy*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setdefaultitem"></a>  CMFCPopupMenu::SetDefaultItem

Задает команду по умолчанию для контекстного меню.

```
void SetDefaultItem(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*uiCmd*<br/>
[in] Идентификатор команды меню новой команды по умолчанию.

### <a name="remarks"></a>Примечания

Эта команда контекстного меню, команды, который выбран в появившемся всплывающем меню.

##  <a name="setforcemenufocus"></a>  CMFCPopupMenu::SetForceMenuFocus

Заставляет фокус ввода, чтобы вернуться к строке при отображении всплывающего меню меню.

```
static void SetForceMenuFocus(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
[in] Значение TRUE, если нужно framework для принудительного фокус ввода к строке при отображении всплывающего меню меню. Значение FALSE, если вы хотите, чтобы всплывающего меню, чтобы сохранить фокус.

### <a name="remarks"></a>Примечания

Этот метод задает флаг, который является глобальным для всех всплывающих меню в приложении. По умолчанию эта функция не включена.

##  <a name="setforceshadow"></a>  CMFCPopupMenu::SetForceShadow

Заставляет структурой для прорисовки shadows меню, когда всплывающее меню отображаются за пределами главного фрейма.

```
static void SetForceShadow(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
[in] Значение TRUE, если вы хотите структурой для прорисовки тени для меню, в противном случае FALSE.

### <a name="remarks"></a>Примечания

При вызове этого метода, устанавливает глобальный флаг в приложении. Этот флаг затрагивает все всплывающие меню в приложении.

##  <a name="setmaxwidth"></a>  CMFCPopupMenu::SetMaxWidth

Задайте максимальную ширину для всплывающего меню.

```
void SetMaxWidth(int iMaxWidth);
```

### <a name="parameters"></a>Параметры

*iMaxWidth*<br/>
[in] Максимальная ширина всплывающего меню, в пикселях.

### <a name="remarks"></a>Примечания

Если текст, связанный с командой меню не умещается в максимальную ширину, дробная часть отбрасывается и часть, которая не соответствует заменяется многоточие.

##  <a name="setmessagewnd"></a>  CMFCPopupMenu::SetMessageWnd

```
void SetMessageWnd(CWnd* pMsgWnd);
```

### <a name="parameters"></a>Параметры

[in] *pMsgWnd*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setparentribbonelement"></a>  CMFCPopupMenu::SetParentRibbonElement

```
void SetParentRibbonElement(CMFCRibbonBaseElement* pElem);
```

### <a name="parameters"></a>Параметры

[in] *pElem*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setquickcustomizetype"></a>  CMFCPopupMenu::SetQuickCustomizeType

```
void SetQuickCustomizeType(QUICK_CUSTOMIZE_TYPE Type);
```

### <a name="parameters"></a>Параметры

[in] *Тип*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setquickmode"></a>  CMFCPopupMenu::SetQuickMode

```
void SetQuickMode();
```

### <a name="remarks"></a>Примечания

##  <a name="setrightalign"></a>  CMFCPopupMenu::SetRightAlign

Задает выравнивание меню, контекстных меню.

```
void SetRightAlign(BOOL bRightAlign = TRUE);
```

### <a name="parameters"></a>Параметры

*bRightAlign*<br/>
[in] Логическое значение, указывающее выравнивание меню. Значение TRUE указывает выравнивание по правому краю, значение FALSE Указывает выравнивание по левому краю.

### <a name="remarks"></a>Примечания

По умолчанию все всплывающие меню по левому краю.

##  <a name="setsendmenuselectmsg"></a>  CMFCPopupMenu::SetSendMenuSelectMsg

Задает флаг, который управляет ли во всплывающем меню уведомляет его родительского фрейма, когда пользователь выбирает команду.

```
static void SetSendMenuSelectMsg(BOOL bSet = TRUE);
```

### <a name="parameters"></a>Параметры

*bSet*<br/>
[in] Значение TRUE, если во всплывающем меню уведомляет его родительского фрейма, и FALSE в противном случае.

### <a name="remarks"></a>Примечания

Это глобальный параметр контекстных меню в приложении. Если он включен, всплывающих меню отправит сообщение WM_MENUSELECT для родительского фрейма, когда пользователь выбирает команду.

##  <a name="showallcommands"></a>  CMFCPopupMenu::ShowAllCommands

Заставляет всплывающее меню для отображения всех команд.

```
void ShowAllCommands();
```

### <a name="remarks"></a>Примечания

Это не является глобальным параметром и затрагивает только текущего всплывающего меню.

##  <a name="triggerresize"></a>  CMFCPopupMenu::TriggerResize

```
void TriggerResize();
```

### <a name="remarks"></a>Примечания

##  <a name="updateallshadows"></a>  CMFCPopupMenu::UpdateAllShadows

Обновляет теней для всех открытых всплывающего меню.

```
static void UpdateAllShadows(LPRECT lprectScreen = NULL);
```

### <a name="parameters"></a>Параметры

*lprectScreen*<br/>
[in] Прямоугольник, который задает область, чтобы обновить, в экранных координатах.

### <a name="remarks"></a>Примечания

Этот метод полезен в тех случаях, когда всплывающих меню отображаются над анимированных элементов управления или других окон, которые имеют динамического содержимого.

##  <a name="updateshadow"></a>  CMFCPopupMenu::UpdateShadow

Обновляет тени во всплывающем меню.

```
void UpdateShadow(LPRECT lprectScreen = NULL);
```

### <a name="parameters"></a>Параметры

*lprectScreen*<br/>
[in] Прямоугольник, в экранных координатах, который указывает границы области, чтобы обновить.

### <a name="remarks"></a>Примечания

Этот метод вызывается в том случае, если раскрывающееся меню, которое имеет тень перекрывается анимированного изображения.

## <a name="see-also"></a>См. также

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)<br/>
[Класс CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md)
