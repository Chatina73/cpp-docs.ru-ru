---
title: Класс CMFCPopupMenu
ms.date: 10/18/2018
f1_keywords:
- CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::ActivatePopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::AlwaysShowEmptyToolsEntry
- AFXPOPUPMENU/CMFCPopupMenu::AreAllCommandsShown
- AFXPOPUPMENU/CMFCPopupMenu::CheckArea
- AFXPOPUPMENU/CMFCPopupMenu::CloseMenu
- AFXPOPUPMENU/CMFCPopupMenu::Create
- AFXPOPUPMENU/CMFCPopupMenu::DefaultMouseClickOnClose
- AFXPOPUPMENU/CMFCPopupMenu::EnableMenuLogo
- AFXPOPUPMENU/CMFCPopupMenu::EnableMenuSound
- AFXPOPUPMENU/CMFCPopupMenu::EnableResize
- AFXPOPUPMENU/CMFCPopupMenu::EnableScrolling
- AFXPOPUPMENU/CMFCPopupMenu::EnableVertResize
- AFXPOPUPMENU/CMFCPopupMenu::FindSubItemByCommand
- AFXPOPUPMENU/CMFCPopupMenu::GetActiveMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetAnimationSpeed
- AFXPOPUPMENU/CMFCPopupMenu::GetAnimationType
- AFXPOPUPMENU/CMFCPopupMenu::GetDropDirection
- AFXPOPUPMENU/CMFCPopupMenu::GetForceMenuFocus
- AFXPOPUPMENU/CMFCPopupMenu::GetForceShadow
- AFXPOPUPMENU/CMFCPopupMenu::GetHMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuBar
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuItem
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuItemCount
- AFXPOPUPMENU/CMFCPopupMenu::GetMessageWnd
- AFXPOPUPMENU/CMFCPopupMenu::GetParentArea
- AFXPOPUPMENU/CMFCPopupMenu::GetParentButton
- AFXPOPUPMENU/CMFCPopupMenu::GetParentPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetParentRibbonElement
- AFXPOPUPMENU/CMFCPopupMenu::GetParentToolBar
- AFXPOPUPMENU/CMFCPopupMenu::GetQuickCustomizeType
- AFXPOPUPMENU/CMFCPopupMenu::GetSelItem
- AFXPOPUPMENU/CMFCPopupMenu::HasBeenResized
- AFXPOPUPMENU/CMFCPopupMenu::HideRarelyUsedCommands
- AFXPOPUPMENU/CMFCPopupMenu::InCommand
- AFXPOPUPMENU/CMFCPopupMenu::InsertItem
- AFXPOPUPMENU/CMFCPopupMenu::InsertSeparator
- AFXPOPUPMENU/CMFCPopupMenu::IsAlwaysClose
- AFXPOPUPMENU/CMFCPopupMenu::IsAlwaysShowEmptyToolsEntry
- AFXPOPUPMENU/CMFCPopupMenu::IsCustomizePane
- AFXPOPUPMENU/CMFCPopupMenu::IsEscClose
- AFXPOPUPMENU/CMFCPopupMenu::IsIdle
- AFXPOPUPMENU/CMFCPopupMenu::IsMenuSound
- AFXPOPUPMENU/CMFCPopupMenu::IsQuickCustomize
- AFXPOPUPMENU/CMFCPopupMenu::IsResizeble
- AFXPOPUPMENU/CMFCPopupMenu::IsRightAlign
- AFXPOPUPMENU/CMFCPopupMenu::IsScrollable
- AFXPOPUPMENU/CMFCPopupMenu::IsSendMenuSelectMsg
- AFXPOPUPMENU/CMFCPopupMenu::IsShown
- AFXPOPUPMENU/CMFCPopupMenu::MoveTo
- AFXPOPUPMENU/CMFCPopupMenu::OnCmdMsg
- AFXPOPUPMENU/CMFCPopupMenu::PostCommand
- AFXPOPUPMENU/CMFCPopupMenu::PreTranslateMessage
- AFXPOPUPMENU/CMFCPopupMenu::RecalcLayout
- AFXPOPUPMENU/CMFCPopupMenu::RemoveAllItems
- AFXPOPUPMENU/CMFCPopupMenu::RemoveItem
- AFXPOPUPMENU/CMFCPopupMenu::SaveState
- AFXPOPUPMENU/CMFCPopupMenu::SetAnimationSpeed
- AFXPOPUPMENU/CMFCPopupMenu::SetAnimationType
- AFXPOPUPMENU/CMFCPopupMenu::SetAutoDestroy
- AFXPOPUPMENU/CMFCPopupMenu::SetDefaultItem
- AFXPOPUPMENU/CMFCPopupMenu::SetForceMenuFocus
- AFXPOPUPMENU/CMFCPopupMenu::SetForceShadow
- AFXPOPUPMENU/CMFCPopupMenu::SetMaxWidth
- AFXPOPUPMENU/CMFCPopupMenu::SetMessageWnd
- AFXPOPUPMENU/CMFCPopupMenu::SetParentRibbonElement
- AFXPOPUPMENU/CMFCPopupMenu::SetQuickCustomizeType
- AFXPOPUPMENU/CMFCPopupMenu::SetQuickMode
- AFXPOPUPMENU/CMFCPopupMenu::SetRightAlign
- AFXPOPUPMENU/CMFCPopupMenu::SetSendMenuSelectMsg
- AFXPOPUPMENU/CMFCPopupMenu::ShowAllCommands
- AFXPOPUPMENU/CMFCPopupMenu::TriggerResize
- AFXPOPUPMENU/CMFCPopupMenu::UpdateAllShadows
- AFXPOPUPMENU/CMFCPopupMenu::UpdateShadow
- AFXPOPUPMENU/CMFCPopupMenu::CreateTearOffBar
- AFXPOPUPMENU/CMFCPopupMenu::OnChangeHot
- AFXPOPUPMENU/CMFCPopupMenu::OnChooseItem
helpviewer_keywords:
- CMFCPopupMenu [MFC], CMFCPopupMenu
- CMFCPopupMenu [MFC], ActivatePopupMenu
- CMFCPopupMenu [MFC], AlwaysShowEmptyToolsEntry
- CMFCPopupMenu [MFC], AreAllCommandsShown
- CMFCPopupMenu [MFC], CheckArea
- CMFCPopupMenu [MFC], CloseMenu
- CMFCPopupMenu [MFC], Create
- CMFCPopupMenu [MFC], DefaultMouseClickOnClose
- CMFCPopupMenu [MFC], EnableMenuLogo
- CMFCPopupMenu [MFC], EnableMenuSound
- CMFCPopupMenu [MFC], EnableResize
- CMFCPopupMenu [MFC], EnableScrolling
- CMFCPopupMenu [MFC], EnableVertResize
- CMFCPopupMenu [MFC], FindSubItemByCommand
- CMFCPopupMenu [MFC], GetActiveMenu
- CMFCPopupMenu [MFC], GetAnimationSpeed
- CMFCPopupMenu [MFC], GetAnimationType
- CMFCPopupMenu [MFC], GetDropDirection
- CMFCPopupMenu [MFC], GetForceMenuFocus
- CMFCPopupMenu [MFC], GetForceShadow
- CMFCPopupMenu [MFC], GetHMenu
- CMFCPopupMenu [MFC], GetMenuBar
- CMFCPopupMenu [MFC], GetMenuItem
- CMFCPopupMenu [MFC], GetMenuItemCount
- CMFCPopupMenu [MFC], GetMessageWnd
- CMFCPopupMenu [MFC], GetParentArea
- CMFCPopupMenu [MFC], GetParentButton
- CMFCPopupMenu [MFC], GetParentPopupMenu
- CMFCPopupMenu [MFC], GetParentRibbonElement
- CMFCPopupMenu [MFC], GetParentToolBar
- CMFCPopupMenu [MFC], GetQuickCustomizeType
- CMFCPopupMenu [MFC], GetSelItem
- CMFCPopupMenu [MFC], HasBeenResized
- CMFCPopupMenu [MFC], HideRarelyUsedCommands
- CMFCPopupMenu [MFC], InCommand
- CMFCPopupMenu [MFC], InsertItem
- CMFCPopupMenu [MFC], InsertSeparator
- CMFCPopupMenu [MFC], IsAlwaysClose
- CMFCPopupMenu [MFC], IsAlwaysShowEmptyToolsEntry
- CMFCPopupMenu [MFC], IsCustomizePane
- CMFCPopupMenu [MFC], IsEscClose
- CMFCPopupMenu [MFC], IsIdle
- CMFCPopupMenu [MFC], IsMenuSound
- CMFCPopupMenu [MFC], IsQuickCustomize
- CMFCPopupMenu [MFC], IsResizeble
- CMFCPopupMenu [MFC], IsRightAlign
- CMFCPopupMenu [MFC], IsScrollable
- CMFCPopupMenu [MFC], IsSendMenuSelectMsg
- CMFCPopupMenu [MFC], IsShown
- CMFCPopupMenu [MFC], MoveTo
- CMFCPopupMenu [MFC], OnCmdMsg
- CMFCPopupMenu [MFC], PostCommand
- CMFCPopupMenu [MFC], PreTranslateMessage
- CMFCPopupMenu [MFC], RecalcLayout
- CMFCPopupMenu [MFC], RemoveAllItems
- CMFCPopupMenu [MFC], RemoveItem
- CMFCPopupMenu [MFC], SaveState
- CMFCPopupMenu [MFC], SetAnimationSpeed
- CMFCPopupMenu [MFC], SetAnimationType
- CMFCPopupMenu [MFC], SetAutoDestroy
- CMFCPopupMenu [MFC], SetDefaultItem
- CMFCPopupMenu [MFC], SetForceMenuFocus
- CMFCPopupMenu [MFC], SetForceShadow
- CMFCPopupMenu [MFC], SetMaxWidth
- CMFCPopupMenu [MFC], SetMessageWnd
- CMFCPopupMenu [MFC], SetParentRibbonElement
- CMFCPopupMenu [MFC], SetQuickCustomizeType
- CMFCPopupMenu [MFC], SetQuickMode
- CMFCPopupMenu [MFC], SetRightAlign
- CMFCPopupMenu [MFC], SetSendMenuSelectMsg
- CMFCPopupMenu [MFC], ShowAllCommands
- CMFCPopupMenu [MFC], TriggerResize
- CMFCPopupMenu [MFC], UpdateAllShadows
- CMFCPopupMenu [MFC], UpdateShadow
- CMFCPopupMenu [MFC], CreateTearOffBar
- CMFCPopupMenu [MFC], OnChangeHot
- CMFCPopupMenu [MFC], OnChooseItem
ms.assetid: 9555dca1-8c9c-44c9-af72-0659ddad128e
ms.openlocfilehash: 74f161d68c3c58574d75ab64a1360fc7f571920d
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2020
ms.locfileid: "81751933"
---
# <a name="cmfcpopupmenu-class"></a>Класс CMFCPopupMenu

Реализует возможности всплывающего меню Windows и расширяет его, добавляя такие возможности как перемещаемые меню и подсказки.
Для получения более подробной информации смотрите исходный код, расположенный в папке **VC\\atlmfc\\src\\mfc** установки Visual Studio.

## <a name="syntax"></a>Синтаксис

```
class CMFCPopupMenu : public CMiniFrameWnd
```

## <a name="members"></a>Участники

### <a name="protected-constructors"></a>Защищенные конструкторы

|Имя|Описание|
|----------|-----------------|
|[CMFCPopupMenu::CMFCPopupMenu](#cmfcpopupmenu)|Формирует объект `CMFCPopupMenu`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CMFCPopupМеню::АктивироватьПоппЕМену](#activatepopupmenu)||
|[CMFCPopupMenu::AlwaysShowEmptyToolsEntry](#alwaysshowemptytoolsentry)|Устанавливает, включено ли всплывающее меню для отображания пустых записей для инструментов, определяемых пользователем.|
|[CMFCPopupMenu::AreAllCommandsShown](#areallcommandsshown)||
|[CMFCPopupМеню::CheckArea](#checkarea)|Определяет расположение точки относительно всплывающее меню.|
|[CMFCPopupMenu::CloseMenu](#closemenu)||
|[CMFCPopupМеню::Создание](#create)|Создает всплывающее меню и прикрепляет `CMFCPopupMenu` его к объекту.|
|[CMFCPopupMenu::DefaultMouseClickClose](#defaultmouseclickonclose)||
|[CMFCPopupМеню::EnableMenuLogo](#enablemenulogo)|Инициализирует логотип для всплывающих меню.|
|[CMFCPopupMenu::EnableMenuSound](#enablemenusound)|Включает звук меню.|
|[CMFCPopupMenu::EnableResize](#enableresize)||
|[CMFCPopupМеню::Включение](#enablescrolling)||
|[CMFCPopupMenu::EnableVertResize](#enablevertresize)||
|[CMFCPopupMenu::FindSubItemByCommand](#findsubitembycommand)||
|[CMFCPopupMenu::GetActiveMenu](#getactivemenu)|Возвращает действующее меню.|
|[CMFCPopupMenu::GetAnimationSpeed](#getanimationspeed)|Возвращает скорость анимации для всплывающих меню.|
|[CMFCPopupMenu::GetAnimationType](#getanimationtype)|Возвращает текущий тип всплывающих меню анимации.|
|[CMFCPopupМеню::GetDropDirection](#getdropdirection)||
|[CMFCPopupМеню::GetForceMenuFocus](#getforcemenufocus)|Указывает, возвращается ли фокус в панель меню при отображении всплывающее меню.|
|[CMFCPopupMenu::GetForceShadow](#getforceshadow)||
|[CMFCPopupМеню::GetHMenu](#gethmenu)|Возвращает ручку на прилагаемый ресурс меню.|
|[CMFCPopupMenu::GetMenuBar](#getmenubar)|Возвращает [CMFCPopupMenuBar,](../../mfc/reference/cmfcpopupmenubar-class.md) встроенный в всплывающее меню.|
|[CMFCPopupМеню::GetMenuItem](#getmenuitem)|Возвращает указатель в пункт меню в указанном индексе.|
|[CMFCPopupМеню::GetMenuItemCount](#getmenuitemcount)|Возвращает количество элементов в всплывающем меню.|
|[CMFCPopupМеню::GetMessageWnd](#getmessagewnd)|Возвращает указатель в окно, где фреймворк направляет всплывающие сообщения меню.|
|[CMFCPopupМеню::GetParentArea](#getparentarea)||
|[CMFCPopupМеню::GetParentButton](#getparentbutton)|Возвращает указатель на кнопку родительской панели инструментов.|
|[CMFCPopupМеню::GetParentPopupMenu](#getparentpopupmenu)|Возвращает указатель в всплывающее меню родителей.|
|[CMFCPopupМеню::GetParentRibbonЭлемент](#getparentribbonelement)||
|[CMFCPopupМеню::GetParentToolBar](#getparenttoolbar)|Возвращает указатель на родительскую панель инструментов.|
|[CMFCPopupМеню::Get'uick](#getquickcustomizetype)||
|[CMFCPopupМеню::GetSelItem](#getselitem)|Возвращает указатель в выбранную в настоящее время команду меню.|
|[CMFCPopupMenu::HasBeenResized](#hasbeenresized)||
|[CMFCPopupMenu::HideRarelyUsedCommands](#hiderarelyusedcommands)|Указывает, может ли всплывающее меню скрывать редко используемые команды.|
|[CMFCPopupMenu::InCommand](#incommand)||
|[CMFCPopupМеню::InsertItem](#insertitem)|Вставляет новый элемент во всплывающее меню в указанном месте.|
|[CMFCPopupМеню::ВставкаСепаратор](#insertseparator)|Вставляет сепаратор во всплывающее меню в указанном месте.|
|[CMFCPopupMenu::IsAlwaysclose](#isalwaysclose)||
|[CMFCPopupMenu::IsAlwaysShowEmptyToolsEntry](#isalwaysshowemptytoolsentry)||
|[CMFCPopupMenu::IsCustomizePane](#iscustomizepane)|Указывает, функционирует ли всплывающее меню в качестве **квикбуйте..**|
|[CMFCPopupMenu::IsEscclose](#isescclose)||
|[CMFCPopupМеню::Isidle](#isidle)|Указывает, простаивает ли всплывающее меню в настоящее время.|
|[CMFCPopupMenu::IsMenuSound](#ismenusound)||
|[CMFCPopupМеню:: Исквиук](#isquickcustomize)|Определяет, находится ли связанный с ним [класс CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md) в режиме быстрого настройки.|
|[CMFCPopupMenu::IsResizeble](#isresizeble)||
|[CMFCPopupMenu::IsRightAlign](#isrightalign)|Указывает, является ли меню правовым или левым.|
|[CMFCPopupМеню::IsScrollable](#isscrollable)||
|[CMFCPopupМеню::IsSendMenuSelectMsg](#issendmenuselectmsg)|Указывается, уведомляет ли фреймворк, когда пользователь выбирает команду из всплывающем меню.|
|[CMFCPopupМеню::Показано](#isshown)|Указывает, отображается ли всплывающее меню в настоящее время.|
|[CMFCPopupMenu::MoveTo](#moveto)||
|[CMFCPopupMenu::OnCmdMsg](#oncmdmsg)|(Переопределяет `CFrameWnd::OnCmdMsg`.)|
|[CMFCPopupMenu::PostCommand](#postcommand)||
|[CMFCPopupMenu::PreTranslateMessage](#pretranslatemessage)|(Переопределяет `CFrameWnd::PreTranslateMessage`.)|
|[CMFCPopupМеню::RecalcLayout](#recalclayout)|Вызывается фреймворком при переключаемых стандартных батончиках управления или при повторном размере окна кадра. (Переопределяет [CFrameWnd::RecalcLayout](../../mfc/reference/cframewnd-class.md#recalclayout).)|
|[CMFCPopupМеню::RemoveAllItems](#removeallitems)|Очищает все элементы из всплывающем меню.|
|[CMFCPopupМеню::RemoveItem](#removeitem)|Удаляет указанный элемент из всплывающем меню.|
|[CMFCPopupMenu::SaveState](#savestate)||
|[CMFCPopupMenu::SetAnimationSpeed](#setanimationspeed)|Устанавливает скорость анимации для всплывающих меню.|
|[CMFCPopupMenu::SetAnimationType](#setanimationtype)|Устанавливает тип анимации для всплывающее меню.|
|[CMFCPopupMenu::SetAutoDestroy](#setautodestroy)||
|[CMFCPopupМеню::SetDefaultItem](#setdefaultitem)|Устанавливает команду по умолчанию для всплывающее меню.|
|[CMFCPopupMenu::SetForceMenuFocus](#setforcemenufocus)|Принудьте фокус ввода, чтобы вернуться в панель меню при отображении всплывающее меню.|
|[CMFCPopupMenu::SetForceShadow](#setforceshadow)|Принудя фреймворк рисовать тени меню, когда всплывающие меню появляются за пределами основного кадра.|
|[CMFCPopupMenu::SetMaxWidth](#setmaxwidth)|Установите максимальную ширину для всплывающих меню.|
|[CMFCPopupМеню::SetMessageWnd](#setmessagewnd)||
|[CMFCPopupМеню::SetParentRibbonЭлемент](#setparentribbonelement)||
|[CMFCPopupМеню::Set'uick](#setquickcustomizetype)||
|[CMFCPopupМеню::Set'uickMode](#setquickmode)||
|[CMFCPopupMenu::SetRightAlign](#setrightalign)|Устанавливает выравнивание меню для всплывающих меню.|
|[CMFCPopupМеню::SetSendMenuSelectMsg](#setsendmenuselectmsg)|Устанавливает флаг, который контролирует, уведомляет ли всплывающее меню его родительский кадр при выборе команды.|
|[CMFCPopupMenu::ShowAllCommands](#showallcommands)|Заставляет всплывающее меню отображать все команды.|
|[CMFCPopupMenu::TriggerResize](#triggerresize)||
|[CMFCPopupMenu:UpdateAllShadows](#updateallshadows)|Обновления теней для всех открытых всплывающих меню.|
|[CMFCPopupMenu::UpdateShadow](#updateshadow)|Обновляет тень для всплывающее меню.|

### <a name="protected-methods"></a>Защищенные методы

|Имя|Описание|
|----------|-----------------|
|[CMFCPopupMenu::CreateTearOffBar](#createtearoffbar)||
|[CMFCPopupMenu::OnChangeHot](#onchangehot)||
|[CMFCPopupMenu::OnChooseItem](#onchooseitem)||

### <a name="remarks"></a>Remarks

Как правило, MFC создает всплывающие меню автоматически. Если вы хотите `CMFCPopupMenu` создать объект вручную, выделите его на куче, а затем позвоните [cmFCPopupMenu::Create](#create).

## <a name="example"></a>Пример

В следующем примере показано, как настроить всплывающий объект меню. На примере показано, как настроить логотип и звук всплывающих меню, установить скорость анимации и тип, нарисовать тени меню, когда всплывающее меню появляется за пределами основной рамки, установить максимальную ширину и установить правильное выравнивание меню всплывающих меню. Этот фрагмент кода является частью [образца пользовательских страниц.](../../overview/visual-cpp-samples.md)

[!code-cpp[NVC_MFC_CustomPages#2](../../mfc/reference/codesnippet/cpp/cmfcpopupmenu-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CFrameWnd](../../mfc/reference/cframewnd-class.md)

[CMiniFrameWnd](../../mfc/reference/cminiframewnd-class.md)

`CMFCPopupMenu`

## <a name="requirements"></a>Требования

**Заголовок:** afxpopupmenu.h

## <a name="cmfcpopupmenuactivatepopupmenu"></a><a name="activatepopupmenu"></a>CMFCPopupМеню::АктивироватьПоппЕМену

```
static BOOL __stdcall ActivatePopupMenu(
    CFrameWnd* pTopFrame,
    CMFCPopupMenu* pPopupMenu);
```

### <a name="parameters"></a>Параметры

(в) *pTopFrame*<br/>
(в) *pPopupMenu*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenualwaysshowemptytoolsentry"></a><a name="alwaysshowemptytoolsentry"></a>CMFCPopupMenu::AlwaysShowEmptyToolsEntry

Устанавливает, включено ли всплывающее меню для отображания пустых записей для инструментов, определяемых пользователем.

```
static void AlwaysShowEmptyToolsEntry(BOOL bShow = TRUE);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
(в) ПРАВДА, если всплывающее меню может отображать пустые записи; FALSE в противном случае.

## <a name="cmfcpopupmenuareallcommandsshown"></a><a name="areallcommandsshown"></a>CMFCPopupMenu::AreAllCommandsShown

```
BOOL AreAllCommandsShown() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenucheckarea"></a><a name="checkarea"></a>CMFCPopupМеню::CheckArea

Определяет расположение точки относительно всплывающее меню.

```
MENUAREA_TYPE CheckArea(const CPoint& ptScreen) const;
```

### <a name="parameters"></a>Параметры

*ptScreen*<br/>
(в) Точка, в координатах экрана.

### <a name="return-value"></a>Возвращаемое значение

Параметр MENUAREA_TYPE, указывающий, где находится точка относительно всплывающее меню.

### <a name="remarks"></a>Remarks

Параметр MENUAREA_TYPE может иметь любое из следующих значений.

- OUTSIDE - *ptScreen* находится вне всплывающее меню.

- LOGO - *ptScreen* над зоной логоса.

- TEAROFF_CAPTION - *ptScreen* над tear-off заголовком.

- SHADOW_BOTTOM - *ptScreen* находится над нижней тенью всплывающее меню.

- SHADOW_RIGHT - *ptScreen* находится над правой тенью всплывающее меню.

- MENU - *ptScreen* над командой.

## <a name="cmfcpopupmenuclosemenu"></a><a name="closemenu"></a>CMFCPopupMenu::CloseMenu

```cpp
void CloseMenu(BOOL bSetFocusToBar = FALSE);
```

### <a name="parameters"></a>Параметры

(в) *bSetFocusToBar*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenucmfcpopupmenu"></a><a name="cmfcpopupmenu"></a>CMFCPopupMenu::CMFCPopupMenu

Строит объект [CMFCPopupMenu.](../../mfc/reference/cmfcpopupmenu-class.md)

```
CMFCPopupMenu(
    CMFCToolBarsMenuPropertyPage* pCustPage,
    LPCTSTR lpszTitle);
```

### <a name="parameters"></a>Параметры

*pCustPage*<br/>
(в) Указатель на страницу настройки.

*lpszНазвание*<br/>
(в) Строка, содержащая подпись меню.

### <a name="remarks"></a>Remarks

Этот метод выделяет ресурсы `CMFCPopupMenu`для . Чтобы создать элемент всплывающем меню, позвоните [cmFCPopupMenu::Создание](#create).

## <a name="cmfcpopupmenucreate"></a><a name="create"></a>CMFCPopupМеню::Создание

Создает всплывающее меню и прикрепляет его к объекту [CMFCPopupMenu.](../../mfc/reference/cmfcpopupmenu-class.md)

```
virtual BOOL Create(
    CWnd* pWndParent,
    int x,
    int y,
    HMENU hMenu,
    BOOL bLocked = FALSE,
    BOOL bOwnMessage = FALSE);
```

### <a name="parameters"></a>Параметры

*pWndParent*<br/>
(в) Родительское окно `CMFCPopupMenu`для .

*x*<br/>
(в) Горизонтальная координатка экрана для расположения всплывающее меню

*Y*<br/>
(в) Вертикальный экран координирует расположение поп-меню.

*hMenu*<br/>
(в) Ручка ресурса меню.

*Заблокирован*<br/>
(в) Параметр Boolean, указывающий, настраивается ли меню. FALSE указывает на то, что всплывающее меню настраивается.

*bOwnMessage*<br/>
(в) Параметр Boolean, указывающий, как фреймворк направляет сообщения меню. Дополнительные сведения см. в разделе "Примечания".

### <a name="return-value"></a>Возвращаемое значение

TRUE, если метод успешен; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Если *bOwnMessage* является правдой, рамка направляет любые сообщения меню *в pWndParent.* *pWndParent* не должен быть НУА, если *bOwnMessage* является правдой. Если *bOwnMessage* является FALSE, фреймворк направляет сообщения меню в родительское всплывающее меню.

### <a name="example"></a>Пример

В следующем примере показано, `Create` как `CMFCPopuMenu` использовать метод класса. Этот фрагмент кода является частью [образца пользовательских страниц.](../../overview/visual-cpp-samples.md)

[!code-cpp[NVC_MFC_CustomPages#1](../../mfc/reference/codesnippet/cpp/cmfcpopupmenu-class_2.cpp)]

## <a name="cmfcpopupmenucreatetearoffbar"></a><a name="createtearoffbar"></a>CMFCPopupMenu::CreateTearOffBar

```
virtual CPane* CreateTearOffBar(
    CFrameWnd* pWndMain,
    UINT uiID,
    LPCTSTR lpszName);
```

### <a name="parameters"></a>Параметры

(в) *pWndMain*<br/>
(в) *uiID*<br/>
(в) *lpszName*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenudefaultmouseclickonclose"></a><a name="defaultmouseclickonclose"></a>CMFCPopupMenu::DefaultMouseClickClose

```
virtual BOOL DefaultMouseClickOnClose() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuenablemenulogo"></a><a name="enablemenulogo"></a>CMFCPopupМеню::EnableMenuLogo

Инициализирует логотип для всплывающих меню.

```cpp
void EnableMenuLogo(
    int iLogoSize,
    LOGO_LOCATION nLogoLocation = MENU_LOGO_LEFT);
```

### <a name="parameters"></a>Параметры

*iLogoSize*<br/>
(в) Размер логотипа, в пикселях.

*nLogoLocation*<br/>
(в) Перечисленный тип данных, указывающий местоположение логотипа.

### <a name="remarks"></a>Remarks

Чтобы отобразить логотип, реализуйте метод [CFrameWndEx::OnDrawMenuLogo](../../mfc/reference/cframewndex-class.md#ondrawmenulogo) в окне основной рамы.

Возможные значения для *nLogoLocation* — это MENU_LOGO_LEFT, MENU_LOGO_RIGHT, MENU_LOGO_TOP и MENU_LOGO_BOTTOM.

## <a name="cmfcpopupmenuenablemenusound"></a><a name="enablemenusound"></a>CMFCPopupMenu::EnableMenuSound

Включает звук меню.

```
static void EnableMenuSound(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
(в) ПРАВДА, чтобы звук, FALSE в противном случае.

### <a name="remarks"></a>Remarks

Если вы включаете звук, фреймворк вызывает метод [PlaySound,](/windows/win32/api/shobjidl_core/nf-shobjidl_core-iusernotification-playsound) когда пользователь открывает всплывающее меню или выбирает команду меню. По умолчанию эта функция включена.

## <a name="cmfcpopupmenuenableresize"></a><a name="enableresize"></a>CMFCPopupMenu::EnableResize

```cpp
void EnableResize(CSize sizeMinResize);
```

### <a name="parameters"></a>Параметры

(в) *sizeMinResize*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuenablescrolling"></a><a name="enablescrolling"></a>CMFCPopupМеню::Включение

```cpp
void EnableScrolling(BOOL = TRUE);
```

### <a name="parameters"></a>Параметры

(в) *БУЛ*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuenablevertresize"></a><a name="enablevertresize"></a>CMFCPopupMenu::EnableVertResize

```cpp
void EnableVertResize(int nMinResize);
```

### <a name="parameters"></a>Параметры

(в) *nMinResize*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenufindsubitembycommand"></a><a name="findsubitembycommand"></a>CMFCPopupMenu::FindSubItemByCommand

```
CMFCToolBarMenuButton* FindSubItemByCommand(UINT uiCmd) const;
```

### <a name="parameters"></a>Параметры

(в) *uiCmd*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenugetactivemenu"></a><a name="getactivemenu"></a>CMFCPopupMenu::GetActiveMenu

Возвращает действующее меню.

```
static CMFCPopupMenu* GetActiveMenu();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на активное всплывающее меню, или NULL, если в настоящее время нет всплывающих меню.

### <a name="remarks"></a>Remarks

Каждое приложение может иметь не более одного активного всплывающее меню.

## <a name="cmfcpopupmenugetanimationspeed"></a><a name="getanimationspeed"></a>CMFCPopupMenu::GetAnimationSpeed

Возвращает скорость анимации для всплывающих меню.

```
static UINT GetAnimationSpeed();
```

### <a name="return-value"></a>Возвращаемое значение

Цель, которая указывает время, в миллисекундах, что всплывающее меню анимации занимает до конца.

### <a name="remarks"></a>Remarks

Скорость анимации является глобальной ценностью. Используйте [CMFCPopupMenu::SetAnimationSpeed,](#setanimationspeed) чтобы изменить скорость анимации для всплывающих меню.

## <a name="cmfcpopupmenugetanimationtype"></a><a name="getanimationtype"></a>CMFCPopupMenu::GetAnimationType

Возвращает текущий тип всплывающих анимации.

```
static CMFCPopupMenu::ANIMATION_TYPE GetAnimationType(BOOL bNoSystem = FALSE);
```

### <a name="parameters"></a>Параметры

*bNoSystem*<br/>
(в) Параметр Boolean, указывающий, проверяет ли этот метод глобальное значение. FALSE, если вы хотите, чтобы этот метод, чтобы вернуть стиль анимации для этого экземпляра [CMFCPopupMenu класса.](../../mfc/reference/cmfcpopupmenu-class.md)

### <a name="return-value"></a>Возвращаемое значение

Перечисленное значение, описывая тип анимации.

### <a name="remarks"></a>Remarks

Стиль анимации для всплывающих меню является глобальным для вашего приложения. Используйте [CMFCPopupMenu::SetAnimationType](#setanimationtype) для настройки стиля анимации.

В следующей таблице перечислены возможные типы анимации.

|||
|-|-|
|NO_ANIMATION|Всплывающее меню не анимировано и появляется немедленно.  |
|Разворачиваться|Рамки показывает всплывающее меню от верхнего левого угла до нижнего правого угла.  |
|Слайд|Всплывающее меню перемещается сверху вниз.  |
|Исчезают|Всплывающее меню сначала кажется прозрачным и постепенно затвердевается.  |

## <a name="cmfcpopupmenugetdropdirection"></a><a name="getdropdirection"></a>CMFCPopupМеню::GetDropDirection

```
DROP_DIRECTION GetDropDirection() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenugetforcemenufocus"></a><a name="getforcemenufocus"></a>CMFCPopupМеню::GetForceMenuFocus

Указывает, возвращается ли фокус в панель меню при отображении всплывающее меню.

```
static BOOL GetForceMenuFocus();
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если фокус ввода возвращается в панель меню при отображении всплывающее меню; FALSE, если всплывающее меню сохраняет фокус.

### <a name="remarks"></a>Remarks

По умолчанию приложение не возвращает фокус в панель меню. Чтобы изменить эту настройку, используйте [CMFCPopupMenu::SetForceMenuFocus](#setforcemenufocus).

## <a name="cmfcpopupmenugetforceshadow"></a><a name="getforceshadow"></a>CMFCPopupMenu::GetForceShadow

```
static BOOL __stdcall GetForceShadow();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenugethmenu"></a><a name="gethmenu"></a>CMFCPopupМеню::GetHMenu

Возвращает ручку на прилагаемый ресурс меню.

```
HMENU GetHMenu();
```

## <a name="cmfcpopupmenugetmenubar"></a><a name="getmenubar"></a>CMFCPopupMenu::GetMenuBar

Возвращает [CMFCPopupMenuBar,](../../mfc/reference/cmfcpopupmenubar-class.md) встроенный в всплывающее меню.

```
virtual CMFCPopupMenuBar* GetMenuBar();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на встроенный `CMFCPopupMenuBar`.

### <a name="remarks"></a>Remarks

Всплывающее меню имеет встроенный `CMFCPopupMenuBar` объект. Вы должны переопределить этот метод в производном классе, если вы используете другой встроенный класс.

## <a name="cmfcpopupmenugetmenuitem"></a><a name="getmenuitem"></a>CMFCPopupМеню::GetMenuItem

Возвращает указатель в пункт меню в указанном индексе.

```
CMFCToolBarMenuButton* GetMenuItem(int iIndex) const;
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
(в) Индекс нулевой основе элемента меню.

### <a name="return-value"></a>Возвращаемое значение

Указатель на пункт меню. NULL, если индекс недействителен.

### <a name="remarks"></a>Remarks

Пункты меню представлены [классом CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md). При вызове этого метода он возвращает `CMFCToolBarMenuButton`указатель на соответствующий .

## <a name="cmfcpopupmenugetmenuitemcount"></a><a name="getmenuitemcount"></a>CMFCPopupМеню::GetMenuItemCount

Возвращает количество элементов во всплывающем меню.

```
int GetMenuItemCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество пунктов в меню.

## <a name="cmfcpopupmenugetmessagewnd"></a><a name="getmessagewnd"></a>CMFCPopupМеню::GetMessageWnd

Возвращает указатель в окно, где фреймворк направляет всплывающие сообщения меню.

```
CWnd* GetMessageWnd() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно, которое получает всплывающие сообщения меню; NULL, если нет окна.

### <a name="remarks"></a>Remarks

При использовании метода [CMFCPopupMenu::Создать](#create) для создания всплывающее меню, вы указываете, какое окно получает сообщения меню.

## <a name="cmfcpopupmenugetparentarea"></a><a name="getparentarea"></a>CMFCPopupМеню::GetParentArea

```
virtual CWnd* GetParentArea(CRect& rectParentBtn);
```

### <a name="parameters"></a>Параметры

(в) *rectParentBtn*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenugetparentbutton"></a><a name="getparentbutton"></a>CMFCPopupМеню::GetParentButton

Возвращает указатель на кнопку родительской панели инструментов.

```
CMFCToolBarMenuButton* GetParentButton() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на кнопку родительской панели инструментов. NULL, если всплывающее меню не имеет кнопки родительской панели инструментов.

### <a name="remarks"></a>Remarks

A `CMFCPopupMenu` может быть связан с кнопкой в меню. В этом случае всплывающее меню появляется, когда пользователь выбирает кнопку родительской панели инструментов.

Если всплывающее меню является меню ярлыка, он не будет иметь кнопку панели родительских инструментов.

## <a name="cmfcpopupmenugetparentpopupmenu"></a><a name="getparentpopupmenu"></a>CMFCPopupМеню::GetParentPopupMenu

Возвращает указатель в всплывающее меню родителей.

```
CMFCPopupMenu* GetParentPopupMenu() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на родительский `CMFCPopupMenu` объект; NULL, если нет родительского всплывающее меню.

### <a name="remarks"></a>Remarks

Всплывающее меню имеет родительский `CMFCPopupMenu` объект только в том случае, если это подменю.

## <a name="cmfcpopupmenugetparentribbonelement"></a><a name="getparentribbonelement"></a>CMFCPopupМеню::GetParentRibbonЭлемент

```
CMFCRibbonBaseElement* GetParentRibbonElement() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenugetparenttoolbar"></a><a name="getparenttoolbar"></a>CMFCPopupМеню::GetParentToolBar

Возвращает указатель на родительскую панель инструментов.

```
CMFCToolBar* GetParentToolBar() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на родительскую панель инструментов. NULL, если всплывающее меню не имеет родительской панели инструментов.

### <a name="remarks"></a>Remarks

Если `CMFCPopupMenu` это меню ярлыка, то он не имеет родительской панели инструментов.

## <a name="cmfcpopupmenugetquickcustomizetype"></a><a name="getquickcustomizetype"></a>CMFCPopupМеню::Get'uick

```
QUICK_CUSTOMIZE_TYPE GetQuickCustomizeType() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenugetselitem"></a><a name="getselitem"></a>CMFCPopupМеню::GetSelItem

Возвращает указатель в выбранную в настоящее время команду меню.

```
CMFCToolBarMenuButton* GetSelItem();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на выбранную в настоящее время команду меню; NULL, если элемент не выбран.

### <a name="remarks"></a>Remarks

Команды меню в всплывающем меню представлены [классом CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md)или классом, `CMFCToolBarMenuButton`полученным из.

## <a name="cmfcpopupmenuhasbeenresized"></a><a name="hasbeenresized"></a>CMFCPopupMenu::HasBeenResized

```
BOOL HasBeenResized() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuhiderarelyusedcommands"></a><a name="hiderarelyusedcommands"></a>CMFCPopupMenu::HideRarelyUsedCommands

Указывает, может ли всплывающее меню скрывать редко используемые команды.

```
BOOL HideRarelyUsedCommands() const;
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если всплывающее меню может скрыть редко используемые команды; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Этот метод определяет только, может ли всплывающее меню скрывать редко используемые команды, а не если эта конфигурация включена. Всплывающее меню может скрыть редко используемые команды, если у него есть кнопка родительского элемента, а родительское окно получено из [класса CMFCMenuBar.](../../mfc/reference/cmfcmenubar-class.md) Используйте [CMFCMenuBar::SetRecentlyUsedMenus,](../../mfc/reference/cmfcmenubar-class.md#setrecentlyusedmenus) чтобы включить эту функцию и [CMFCMenuBar::IsRecentlyUsedMenus,](../../mfc/reference/cmfcmenubar-class.md#isrecentlyusedmenus) чтобы определить, включена ли эта функция в настоящее время. Вы должны вызвать оба этих метода для родительского окна.

## <a name="cmfcpopupmenuincommand"></a><a name="incommand"></a>CMFCPopupMenu::InCommand

```
virtual BOOL InCommand();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuinsertitem"></a><a name="insertitem"></a>CMFCPopupМеню::InsertItem

Вставляет новый элемент во всплывающее меню в указанном месте.

```
int InsertItem(
    const CMFCToolBarMenuButton& button,
    int iInsertA = -1);
```

### <a name="parameters"></a>Параметры

*кнопка*<br/>
(в) Ссылка на пункт меню для добавления.

*iInsertAt*<br/>
(в) Индекс с нулевым уровнем для нового элемента. Если *iInsertAt* -1, элемент добавляется в конце меню.

### <a name="return-value"></a>Возвращаемое значение

Индекс нулевой основе позиции, в котором был вставлен элемент. -1, если метод не удается.

### <a name="remarks"></a>Remarks

Этот метод не удастся, если вы предоставите недействительное значение для *iInsertAt,* например, целый ряд больше, чем количество элементов, в настоящее время в всплывающем меню.

## <a name="cmfcpopupmenuinsertseparator"></a><a name="insertseparator"></a>CMFCPopupМеню::ВставкаСепаратор

Вставляет сепаратор во всплывающее меню в указанном месте.

```
int InsertSeparator(int iInsertAt = -1);
```

### <a name="parameters"></a>Параметры

*iInsertAt*<br/>
(в) Индекс нулевой основе позиции, в который этот метод будет вставлять сепаратор.

### <a name="return-value"></a>Возвращаемое значение

Индекс нулевой основе позиции, в котором был вставлен сепаратор. -1, если этот метод не удается.

### <a name="remarks"></a>Remarks

Значение -1 для *iInsertAt* означает, что этот метод добавит сепаратор в конец всплывающее меню.

Этот метод не удается, если *iInsertAt* является недействительным значением.

## <a name="cmfcpopupmenuisalwaysclose"></a><a name="isalwaysclose"></a>CMFCPopupMenu::IsAlwaysclose

```
virtual BOOL IsAlwaysClose() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuisalwaysshowemptytoolsentry"></a><a name="isalwaysshowemptytoolsentry"></a>CMFCPopupMenu::IsAlwaysShowEmptyToolsEntry

```
static BOOL __stdcall IsAlwaysShowEmptyToolsEntry();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuiscustomizepane"></a><a name="iscustomizepane"></a>CMFCPopupMenu::IsCustomizePane

Указывает, функционирует ли всплывающее меню в качестве **квикбуйте..**

```
BOOL IsCustomizePane();
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если всплывающее окно является **QuckCustomizePane**; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Используйте **квик-CustomizePane,** чтобы пользователь мог напрямую настроить всплывающее меню. **Быстрый CustomizePane** `CMFCPopupMenu` это, что появляется, когда пользователь нажимает на кнопку панели инструментов, чтобы отобразить его непосредственно.

Приложение должно позвонить по этому методу во время [CMDIFrameWndEx::OnShowCustomizePane](../../mfc/reference/cmdiframewndex-class.md#onshowcustomizepane).

## <a name="cmfcpopupmenuisescclose"></a><a name="isescclose"></a>CMFCPopupMenu::IsEscclose

```
BOOL IsEscClose();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuisidle"></a><a name="isidle"></a>CMFCPopupМеню::Isidle

Указывает, простаивает ли всплывающее меню в настоящее время.

```
virtual BOOL IsIdle() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если всплывающее меню находится в режиме простоя; в противном случае FALSE.

### <a name="remarks"></a>Remarks

По умолчанию всплывающее меню находится в режиме простоя, если анимация отображения завершена и пользователь не прокручивает всплывающее меню.

## <a name="cmfcpopupmenuismenusound"></a><a name="ismenusound"></a>CMFCPopupMenu::IsMenuSound

```
static UINT __stdcall IsMenuSound();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuisquickcustomize"></a><a name="isquickcustomize"></a>CMFCPopupМеню:: Исквиук

Определяет, находится ли связанный с ним [класс CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md) в режиме быстрого настройки.

```
BOOL IsQuickCustomize();
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если связанная кнопка меню находится в режиме Быстрый Customize; в противном случае FALSE. Этот метод также вернет FALSE, если всплывающее `CMFCToolBarMenuButton`меню не связано с .

### <a name="remarks"></a>Remarks

В режиме «Быстрый интуцинт» пользователь выбирает кнопку на панели инструментов, чтобы настроить кнопку напрямую.

## <a name="cmfcpopupmenuisresizeble"></a><a name="isresizeble"></a>CMFCPopupMenu::IsResizeble

```
BOOL IsResizeble() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuisrightalign"></a><a name="isrightalign"></a>CMFCPopupMenu::IsRightAlign

Указывает, является ли меню правовым или левым.

```
BOOL IsRightAlign() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если меню правильно выровнено; FALSE, если меню лево-выровнено.

### <a name="remarks"></a>Remarks

Вы можете использовать [CMFCPopupMenu::SetRightAlign](#setrightalign) для установки выравнивания меню. По умолчанию всплывающие меню используют левое выравнивание.

Выравнивание меню не является глобальной настройкой и может варьироваться между всплывающими меню.

## <a name="cmfcpopupmenuisscrollable"></a><a name="isscrollable"></a>CMFCPopupМеню::IsScrollable

```
BOOL IsScrollable() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuissendmenuselectmsg"></a><a name="issendmenuselectmsg"></a>CMFCPopupМеню::IsSendMenuSelectMsg

Указывается, уведомляет ли фреймворк, когда пользователь выбирает команду из всплывающем меню.

```
static BOOL IsSendMenuSelectMsg();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если фреймворк уведомляет родительский кадр; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Платформа уведомляет родительский кадр, отправляя ему WM_MENUSELECT сообщение, когда использованное решение выбирает команду меню.

## <a name="cmfcpopupmenuisshown"></a><a name="isshown"></a>CMFCPopupМеню::Показано

Указывает, отображается ли всплывающее меню в настоящее время.

```
BOOL IsShown() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если всплывающее меню видно; в противном случае FALSE.

## <a name="cmfcpopupmenumoveto"></a><a name="moveto"></a>CMFCPopupMenu::MoveTo

```cpp
void MoveTo(const CPoint& pt);
```

### <a name="parameters"></a>Параметры

(в) *pt pt*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuonchangehot"></a><a name="onchangehot"></a>CMFCPopupMenu::OnChangeHot

```
virtual void OnChangeHot(int nHot);
```

### <a name="parameters"></a>Параметры

(в) *nHot*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuonchooseitem"></a><a name="onchooseitem"></a>CMFCPopupMenu::OnChooseItem

```
virtual void OnChooseItem(UINT uidCmdID);
```

### <a name="parameters"></a>Параметры

(в) *uidCmdID*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuoncmdmsg"></a><a name="oncmdmsg"></a>CMFCPopupMenu::OnCmdMsg

```
virtual BOOL OnCmdMsg(
    UINT nID,
    int nCode,
    void* pExtra,
    AFX_CMDHANDLERINFO* pHandlerInfo);
```

### <a name="parameters"></a>Параметры

(в) *nID*<br/>
(в) *nКод*<br/>
(в) *pExtra*<br/>
(в) *pHandlerInfo*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenupostcommand"></a><a name="postcommand"></a>CMFCPopupMenu::PostCommand

```
BOOL PostCommand(UINT uiCommandID);
```

### <a name="parameters"></a>Параметры

(в) *uiCommandID*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenupretranslatemessage"></a><a name="pretranslatemessage"></a>CMFCPopupMenu::PreTranslateMessage

```
virtual BOOL PreTranslateMessage(MSG* pMsg);
```

### <a name="parameters"></a>Параметры

[in] *pMsg*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenurecalclayout"></a><a name="recalclayout"></a>CMFCPopupМеню::RecalcLayout

```
virtual void RecalcLayout(BOOL bNotify = TRUE);
```

### <a name="parameters"></a>Параметры

(в) *bNotify*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuremoveallitems"></a><a name="removeallitems"></a>CMFCPopupМеню::RemoveAllItems

Очищает все элементы из всплывающем меню.

```cpp
void RemoveAllItems();
```

## <a name="cmfcpopupmenuremoveitem"></a><a name="removeitem"></a>CMFCPopupМеню::RemoveItem

Удаляет указанный элемент из всплывающем меню.

```
BOOL RemoveItem(int iIndex);
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
(в) Нулевой индекс элемента для удаления.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если метод успешен; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Этот метод автоматически организует любые сепараторы, которые страдают от удаления элемента. Для получения дополнительной информации о том, как фреймворк перестраивает сепараторы, [см. CMFCToolBar::RemoveButton](../../mfc/reference/cmfctoolbar-class.md#removebutton).

## <a name="cmfcpopupmenusavestate"></a><a name="savestate"></a>CMFCPopupMenu::SaveState

```
virtual void SaveState();
```

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenusetanimationspeed"></a><a name="setanimationspeed"></a>CMFCPopupMenu::SetAnimationSpeed

Устанавливает скорость анимации для всплывающих меню.

```
static void SetAnimationSpeed(UINT nElapse);
```

### <a name="parameters"></a>Параметры

*nElapse*<br/>
(в) Новая скорость анимации, в миллисекундах.

### <a name="remarks"></a>Remarks

Скорость анимации является глобальным значением и влияет на все всплывающие меню в приложении. Это значение определяет, сколько времени требуется для анимации для всплывающих меню, чтобы закончить.

По умолчанию этот параметр установлен на 30 миллисекундах. Диапазон допустимых значений для *nElapse* составляет от 0 до 200.

## <a name="cmfcpopupmenusetanimationtype"></a><a name="setanimationtype"></a>CMFCPopupMenu::SetAnimationType

Устанавливает тип анимации для этого всплывающее меню.

```
static void SetAnimationType(CMFCPopupMenu::ANIMATION_TYPE type);
```

### <a name="parameters"></a>Параметры

*type*<br/>
(в) Перечисленный тип данных, который определяет тип анимации.

### <a name="remarks"></a>Remarks

Смотрите [CMFCPopupMenu::GetAnimationType](#getanimationtype) для списка действительных значений для *типа*.

## <a name="cmfcpopupmenusetautodestroy"></a><a name="setautodestroy"></a>CMFCPopupMenu::SetAutoDestroy

```cpp
void SetAutoDestroy(BOOL bAutoDestroy = TRUE);
```

### <a name="parameters"></a>Параметры

[in] *bAutoDestroy*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenusetdefaultitem"></a><a name="setdefaultitem"></a>CMFCPopupМеню::SetDefaultItem

Устанавливает команду по умолчанию для всплывающее меню.

```cpp
void SetDefaultItem(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*uiCmd*<br/>
(в) Идентификатор команды меню новой команды по умолчанию.

### <a name="remarks"></a>Remarks

Команда по умолчанию во всплывающем меню — это команда, выбранная при попаске всплывающее меню.

## <a name="cmfcpopupmenusetforcemenufocus"></a><a name="setforcemenufocus"></a>CMFCPopupMenu::SetForceMenuFocus

Принудьте фокус ввода, чтобы вернуться в панель меню при отображении всплывающее меню.

```
static void SetForceMenuFocus(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
(в) ПРАВДА, если вы хотите, чтобы рамки, чтобы заставить вхможно сосредоточиться на панели меню, когда всплывающее меню отображается. FALSE, если вы хотите, чтобы всплывающее меню сохранило фокус.

### <a name="remarks"></a>Remarks

Этот метод устанавливает флаг, который является глобальным для всех всплывающих меню в приложении. По умолчанию эта функция не включена.

## <a name="cmfcpopupmenusetforceshadow"></a><a name="setforceshadow"></a>CMFCPopupMenu::SetForceShadow

Принудя фреймворк рисовать тени меню, когда всплывающие меню появляются за пределами основного кадра.

```
static void SetForceShadow(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
(в) ПРАВДА, если вы хотите, чтобы рамки рисовать тени меню, FALSE в противном случае.

### <a name="remarks"></a>Remarks

При вызове этого метода он устанавливает глобальный флаг в приложении. Этот флаг влияет на все всплывающие меню в приложении.

## <a name="cmfcpopupmenusetmaxwidth"></a><a name="setmaxwidth"></a>CMFCPopupMenu::SetMaxWidth

Установите максимальную ширину для всплывающих меню.

```cpp
void SetMaxWidth(int iMaxWidth);
```

### <a name="parameters"></a>Параметры

*iMaxWidth*<br/>
(в) Максимальная ширина всплывающее меню в пикселях.

### <a name="remarks"></a>Remarks

Если текст, связанный с командой меню, не помещается в максимальную ширину, он усечен и часть, которая не подходит, заменяется тремя точками.

## <a name="cmfcpopupmenusetmessagewnd"></a><a name="setmessagewnd"></a>CMFCPopupМеню::SetMessageWnd

```cpp
void SetMessageWnd(CWnd* pMsgWnd);
```

### <a name="parameters"></a>Параметры

(в) *pMsgWnd*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenusetparentribbonelement"></a><a name="setparentribbonelement"></a>CMFCPopupМеню::SetParentRibbonЭлемент

```cpp
void SetParentRibbonElement(CMFCRibbonBaseElement* pElem);
```

### <a name="parameters"></a>Параметры

(в) *pElem*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenusetquickcustomizetype"></a><a name="setquickcustomizetype"></a>CMFCPopupМеню::Set'uick

```cpp
void SetQuickCustomizeType(QUICK_CUSTOMIZE_TYPE Type);
```

### <a name="parameters"></a>Параметры

(в) *Тип*<br/>

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenusetquickmode"></a><a name="setquickmode"></a>CMFCPopupМеню::Set'uickMode

```cpp
void SetQuickMode();
```

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenusetrightalign"></a><a name="setrightalign"></a>CMFCPopupMenu::SetRightAlign

Устанавливает выравнивание меню для всплывающих меню.

```cpp
void SetRightAlign(BOOL bRightAlign = TRUE);
```

### <a name="parameters"></a>Параметры

*bRightAlign*<br/>
(в) Булеан, указывающий на выравнивание меню. TRUE указывает правое выравнивание, FALSE указывает на левое выравнивание.

### <a name="remarks"></a>Remarks

По умолчанию все всплывающие меню остаются в левом выровнении.

## <a name="cmfcpopupmenusetsendmenuselectmsg"></a><a name="setsendmenuselectmsg"></a>CMFCPopupМеню::SetSendMenuSelectMsg

Устанавливает флаг, который контролирует, уведомляет ли всплывающее меню его родительский кадр при выборе команды.

```
static void SetSendMenuSelectMsg(BOOL bSet = TRUE);
```

### <a name="parameters"></a>Параметры

*bSet*<br/>
(в) ПРАВДА, если всплывающее меню уведомляет его родительский кадр, FALSE в противном случае.

### <a name="remarks"></a>Remarks

Это глобальный вариант для всех всплывающих меню в приложении. Если это включено, всплывающие меню отправят WM_MENUSELECT сообщение в родительский кадр, когда пользователь выберет команду.

## <a name="cmfcpopupmenushowallcommands"></a><a name="showallcommands"></a>CMFCPopupMenu::ShowAllCommands

Заставляет всплывающее меню отображать все команды.

```cpp
void ShowAllCommands();
```

### <a name="remarks"></a>Remarks

Это не глобальная настройка и влияет только на текущее всплывающее меню.

## <a name="cmfcpopupmenutriggerresize"></a><a name="triggerresize"></a>CMFCPopupMenu::TriggerResize

```cpp
void TriggerResize();
```

### <a name="remarks"></a>Remarks

## <a name="cmfcpopupmenuupdateallshadows"></a><a name="updateallshadows"></a>CMFCPopupMenu:UpdateAllShadows

Обновления теней для всех открытых всплывающих меню.

```
static void UpdateAllShadows(LPRECT lprectScreen = NULL);
```

### <a name="parameters"></a>Параметры

*lprectScreen*<br/>
(в) Прямоугольник, который определяет область для обновления в координатах экрана.

### <a name="remarks"></a>Remarks

Этот метод полезен, когда всплывающие меню отображаются через анимированные элементы управления или другие окна с динамическим содержимым.

## <a name="cmfcpopupmenuupdateshadow"></a><a name="updateshadow"></a>CMFCPopupMenu::UpdateShadow

Обновляет тень для всплывающее меню.

```cpp
void UpdateShadow(LPRECT lprectScreen = NULL);
```

### <a name="parameters"></a>Параметры

*lprectScreen*<br/>
(в) Прямоугольник в координатах экрана определяет границы региона для обновления.

### <a name="remarks"></a>Remarks

Вызовите этот метод, когда всплывающее меню с тенью перекрывает анимированное изображение.

## <a name="see-also"></a>См. также раздел

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)<br/>
[Класс CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md)
