---
description: 'Дополнительные сведения о: Ктипедптрлист Class'
title: Класс Ктипедптрлист
ms.date: 11/04/2016
f1_keywords:
- CTypedPtrList
- AFXTEMPL/CTypedPtrList
- AFXTEMPL/CTypedPtrList::AddHead
- AFXTEMPL/CTypedPtrList::AddTail
- AFXTEMPL/CTypedPtrList::GetAt
- AFXTEMPL/CTypedPtrList::GetHead
- AFXTEMPL/CTypedPtrList::GetNext
- AFXTEMPL/CTypedPtrList::GetPrev
- AFXTEMPL/CTypedPtrList::GetTail
- AFXTEMPL/CTypedPtrList::RemoveHead
- AFXTEMPL/CTypedPtrList::RemoveTail
- AFXTEMPL/CTypedPtrList::SetAt
helpviewer_keywords:
- CTypedPtrList [MFC], AddHead
- CTypedPtrList [MFC], AddTail
- CTypedPtrList [MFC], GetAt
- CTypedPtrList [MFC], GetHead
- CTypedPtrList [MFC], GetNext
- CTypedPtrList [MFC], GetPrev
- CTypedPtrList [MFC], GetTail
- CTypedPtrList [MFC], RemoveHead
- CTypedPtrList [MFC], RemoveTail
- CTypedPtrList [MFC], SetAt
ms.assetid: c273096e-1756-4340-864b-4a08b674a65e
ms.openlocfilehash: 353e9af00b1366b260ce3cb3689018a8e4e370c1
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97318537"
---
# <a name="ctypedptrlist-class"></a>Класс Ктипедптрлист

Предоставляет типобезопасную "программу-оболочку" для объектов класса `CPtrList`.

## <a name="syntax"></a>Синтаксис

```
template<class BASE_CLASS, class TYPE>
class CTypedPtrList : public BASE_CLASS
```

#### <a name="parameters"></a>Параметры

*BASE_CLASS*<br/>
Базовый класс класса списка типизированных указателей; должен быть классом списка указателей ( `CObList` или `CPtrList` ).

*TYPE*<br/>
Тип элементов, хранящихся в списке базовых классов.

## <a name="members"></a>Элементы

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[Ктипедптрлист:: Аддхеад](#addhead)|Добавляет элемент (или все элементы из другого списка) в заголовок списка (создает новый заголовок).|
|[Ктипедптрлист:: AddTail](#addtail)|Добавляет элемент (или все элементы из другого списка) в конец списка (создает новый хвост).|
|[Ктипедптрлист:: GetAt](#getat)|Возвращает элемент в заданной позиции.|
|[Ктипедптрлист:: onhead](#gethead)|Возвращает головной элемент списка (не может быть пустым).|
|[Ктипедптрлист:: GetNext](#getnext)|Возвращает следующий элемент для итерации.|
|[Ктипедптрлист:: prev](#getprev)|Возвращает предыдущий элемент для итерации.|
|[Ктипедптрлист:: tail](#gettail)|Возвращает заключительный элемент списка (не может быть пустым).|
|[Ктипедптрлист:: Ремовехеад](#removehead)|Удаляет элемент из заголовка списка.|
|[Ктипедптрлист:: Ремоветаил](#removetail)|Удаляет элемент из хвоста списка.|
|[Ктипедптрлист:: SetAt](#setat)|Задает элемент в заданной позиции.|

## <a name="remarks"></a>Комментарии

При использовании `CTypedPtrList` , а не `CObList` или `CPtrList` , средство проверки типов C++ помогает устранить ошибки, вызванные несовпадением типов указателей.

Кроме того, `CTypedPtrList` оболочка выполняет большую часть приведения, которая потребуется, если вы использовали `CObList` или `CPtrList` .

Поскольку все `CTypedPtrList` функции являются встроенными, использование этого шаблона не оказывает существенного влияния на размер и скорость кода.

Списки, производные от `CObList` , могут быть сериализованы, но они являются производными от `CPtrList` .

При `CTypedPtrList` удалении объекта или удалении его элементов удаляются только указатели, а не сущности, на которые они ссылаются.

Дополнительные сведения об использовании `CTypedPtrList` см. в статье [коллекции](../../mfc/collections.md) статей и [классы на основе шаблонов](../../mfc/template-based-classes.md).

## <a name="example"></a>Пример

Этот пример создает экземпляр `CTypedPtrList` , добавляет один объект, сериализует список на диск, а затем удаляет объект:

[!code-cpp[NVC_MFCCollections#110](../../mfc/codesnippet/cpp/ctypedptrlist-class_1.cpp)]

[!code-cpp[NVC_MFCCollections#111](../../mfc/codesnippet/cpp/ctypedptrlist-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>Иерархия наследования

`BASE_CLASS`

`_CTypedPtrList`

`CTypedPtrList`

## <a name="requirements"></a>Требования

**Заголовок:** afxtempl.h

## <a name="ctypedptrlistaddhead"></a><a name="addhead"></a> Ктипедптрлист:: Аддхеад

Эта функция члена вызывает `BASE_CLASS` **:: аддхеад**.

```
POSITION AddHead(TYPE newElement);
void AddHead(CTypedPtrList<BASE_CLASS, TYPE>* pNewList);
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Тип элементов, хранящихся в списке базовых классов.

*невелемент*<br/>
Указатель на объект, добавляемый в этот список. Разрешено значение NULL.

*BASE_CLASS*<br/>
Базовый класс класса списка типизированных указателей; должен быть классом списка указателей ( [коблист](../../mfc/reference/coblist-class.md) или [кптрлист](../../mfc/reference/cptrlist-class.md)).

*пневлист*<br/>
Указатель на другой объект [ктипедптрлист](../../mfc/reference/ctypedptrlist-class.md) . Элементы в *пневлист* будут добавлены в этот список.

### <a name="return-value"></a>Возвращаемое значение

Первая версия возвращает значение расположения вновь вставленного элемента.

### <a name="remarks"></a>Комментарии

Первая версия добавляет новый элемент перед заголовком списка. Вторая версия добавляет еще один список элементов перед заголовком.

## <a name="ctypedptrlistaddtail"></a><a name="addtail"></a> Ктипедптрлист:: AddTail

Эта функция члена вызывает `BASE_CLASS` **:: AddTail**.

```
POSITION AddTail(TYPE newElement);
void AddTail(CTypedPtrList<BASE_CLASS, TYPE>* pNewList);
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Тип элементов, хранящихся в списке базовых классов.

*невелемент*<br/>
Указатель на объект, добавляемый в этот список. Разрешено значение NULL.

*BASE_CLASS*<br/>
Базовый класс класса списка типизированных указателей; должен быть классом списка указателей ( [коблист](../../mfc/reference/coblist-class.md) или [кптрлист](../../mfc/reference/cptrlist-class.md)).

*пневлист*<br/>
Указатель на другой объект [ктипедптрлист](../../mfc/reference/ctypedptrlist-class.md) . Элементы в *пневлист* будут добавлены в этот список.

### <a name="return-value"></a>Возвращаемое значение

Первая версия возвращает значение расположения вновь вставленного элемента.

### <a name="remarks"></a>Комментарии

Первая версия добавляет новый элемент после заключительного фрагмента списка. Вторая версия добавляет еще один список элементов после заключительного фрагмента списка.

## <a name="ctypedptrlistgetat"></a><a name="getat"></a> Ктипедптрлист:: GetAt

Переменная типа "расположение" является ключом для списка.

```
TYPE& GetAt(POSITION position);
TYPE GetAt(POSITION position) const;
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Параметр шаблона, указывающий тип элементов, хранящихся в списке.

*position*<br/>
Значение расположения, возвращаемое предыдущим `GetHeadPosition` `Find` вызовом функции-члена или.

### <a name="return-value"></a>Возвращаемое значение

Если доступ к списку осуществляется через указатель на `const CTypedPtrList` , `GetAt` возвращается указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию только с правой стороны оператора присваивания и тем самым защищает список от изменения.

Если доступ к списку осуществляется напрямую или через указатель на `CTypedPtrList` , `GetAt` возвращается ссылка на указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию с любой стороны оператора присваивания и тем самым допустить изменение записей в списке.

### <a name="remarks"></a>Комментарии

Это не то же самое, что и индекс, и вы не можете самостоятельно обрабатывать значение позиции. `GetAt` Извлекает `CObject` указатель, связанный с заданной позицией.

Необходимо убедиться, что значение координаты представляет допустимую точку в списке. Если он является недопустимым, отладочная версия библиотека Microsoft Foundation Class утверждается.

Эта встроенная функция вызывает `BASE_CLASS` **:: GetAt**.

## <a name="ctypedptrlistgethead"></a><a name="gethead"></a> Ктипедптрлист:: onhead

Возвращает указатель, представляющий головной элемент этого списка.

```
TYPE& GetHead();
TYPE GetHead() const;
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Параметр шаблона, указывающий тип элементов, хранящихся в списке.

### <a name="return-value"></a>Возвращаемое значение

Если доступ к списку осуществляется через указатель на `const CTypedPtrList` , `GetHead` возвращается указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию только с правой стороны оператора присваивания и тем самым защищает список от изменения.

Если доступ к списку осуществляется напрямую или через указатель на `CTypedPtrList` , `GetHead` возвращается ссылка на указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию с любой стороны оператора присваивания и тем самым допустить изменение записей в списке.

### <a name="remarks"></a>Комментарии

Перед вызовом необходимо убедиться, что список не пуст `GetHead` . Если список пуст, то отладочная версия библиотека Microsoft Foundation Class утверждается. Используйте параметр [IsEmpty](../../mfc/reference/coblist-class.md#isempty) , чтобы убедиться, что список содержит элементы.

## <a name="ctypedptrlistgetnext"></a><a name="getnext"></a> Ктипедптрлист:: GetNext

Возвращает элемент List, определенный параметром *rPosition*, а затем устанавливает *rPosition* в значение value следующей записи в списке.

```
TYPE& GetNext(POSITION& rPosition);
TYPE GetNext(POSITION& rPosition) const;
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Параметр шаблона, указывающий тип элементов, содержащихся в этом списке.

*rPosition*<br/>
Ссылка на значение значения value, возвращаемое предыдущим `GetNext` , `GetHeadPosition` или другим вызовом функции-члена.

### <a name="return-value"></a>Возвращаемое значение

Если доступ к списку осуществляется через указатель на `const CTypedPtrList` , `GetNext` возвращается указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию только с правой стороны оператора присваивания и тем самым защищает список от изменения.

Если доступ к списку осуществляется напрямую или через указатель на `CTypedPtrList` , `GetNext` возвращается ссылка на указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию с любой стороны оператора присваивания и тем самым допустить изменение записей в списке.

### <a name="remarks"></a>Комментарии

Можно использовать `GetNext` в цикле прямой итерации, если начальная позицией устанавливается с помощью вызова `GetHeadPosition` или [Кптрлист:: Find](../../mfc/reference/coblist-class.md#find).

Необходимо убедиться, что значение координаты представляет допустимую точку в списке. Если он является недопустимым, отладочная версия библиотека Microsoft Foundation Class утверждается.

Если извлеченный элемент является последним в списке, новое значение *rPosition* устанавливается в NULL.

Элемент можно удалить во время итерации. См. пример для [коблист:: RemoveAt](../../mfc/reference/coblist-class.md#removeat).

## <a name="ctypedptrlistgetprev"></a><a name="getprev"></a> Ктипедптрлист:: prev

Возвращает элемент List, определенный параметром *rPosition*, а затем устанавливает *rPosition* в значение value предыдущей записи в списке.

```
TYPE& GetPrev(POSITION& rPosition);
TYPE GetPrev(POSITION& rPosition) const;
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Параметр шаблона, указывающий тип элементов, содержащихся в этом списке.

*rPosition*<br/>
Ссылка на значение расположения, возвращаемое предыдущим `GetPrev` или другим вызовом функции-члена.

### <a name="return-value"></a>Возвращаемое значение

Если доступ к списку осуществляется через указатель на `const CTypedPtrList` , `GetPrev` возвращается указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию только с правой стороны оператора присваивания и тем самым защищает список от изменения.

Если доступ к списку осуществляется напрямую или через указатель на `CTypedPtrList` , `GetPrev` возвращается ссылка на указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию с любой стороны оператора присваивания и тем самым допустить изменение записей в списке.

### <a name="remarks"></a>Комментарии

Можно использовать `GetPrev` в цикле обратных итераций, если исходное расположение устанавливается с вызовом `GetTailPosition` или `Find` .

Необходимо убедиться, что значение координаты представляет допустимую точку в списке. Если он является недопустимым, отладочная версия библиотека Microsoft Foundation Class утверждается.

Если извлеченный элемент является первым в списке, новое значение *rPosition* устанавливается в NULL.

## <a name="ctypedptrlistgettail"></a><a name="gettail"></a> Ктипедптрлист:: tail

Возвращает указатель, представляющий головной элемент этого списка.

```
TYPE& GetTail();
TYPE GetTail() const;
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Параметр шаблона, указывающий тип элементов, хранящихся в списке.

### <a name="return-value"></a>Возвращаемое значение

Если доступ к списку осуществляется через указатель на `const CTypedPtrList` , `GetTail` возвращается указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию только с правой стороны оператора присваивания и тем самым защищает список от изменения.

Если доступ к списку осуществляется напрямую или через указатель на `CTypedPtrList` , `GetTail` возвращается ссылка на указатель типа, указанного в *типе* параметра шаблона. Это позволяет использовать функцию с любой стороны оператора присваивания и тем самым допустить изменение записей в списке.

### <a name="remarks"></a>Комментарии

Перед вызовом необходимо убедиться, что список не пуст `GetTail` . Если список пуст, то отладочная версия библиотека Microsoft Foundation Class утверждается. Используйте параметр [IsEmpty](../../mfc/reference/coblist-class.md#isempty) , чтобы убедиться, что список содержит элементы.

## <a name="ctypedptrlistremovehead"></a><a name="removehead"></a> Ктипедптрлист:: Ремовехеад

Удаляет элемент из заголовка списка и возвращает его.

```
TYPE RemoveHead();
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Параметр шаблона, указывающий тип элементов, хранящихся в списке.

### <a name="return-value"></a>Возвращаемое значение

Указатель, который ранее находился в заголовке списка. Этот указатель имеет тип, заданный *типом* параметра шаблона.

### <a name="remarks"></a>Комментарии

Перед вызовом необходимо убедиться, что список не пуст `RemoveHead` . Если список пуст, то отладочная версия библиотека Microsoft Foundation Class утверждается. Используйте параметр [IsEmpty](../../mfc/reference/coblist-class.md#isempty) , чтобы убедиться, что список содержит элементы.

## <a name="ctypedptrlistremovetail"></a><a name="removetail"></a> Ктипедптрлист:: Ремоветаил

Удаляет элемент из заключительного фрагмента списка и возвращает его.

```
TYPE RemoveTail();
```

### <a name="parameters"></a>Параметры

*TYPE*<br/>
Параметр шаблона, указывающий тип элементов, хранящихся в списке.

### <a name="return-value"></a>Возвращаемое значение

Указатель, ранее находился в заключительном фрагменте списка. Этот указатель имеет тип, заданный *типом* параметра шаблона.

### <a name="remarks"></a>Комментарии

Перед вызовом необходимо убедиться, что список не пуст `RemoveTail` . Если список пуст, то отладочная версия библиотека Microsoft Foundation Class утверждается. Используйте параметр [IsEmpty](../../mfc/reference/coblist-class.md#isempty) , чтобы убедиться, что список содержит элементы.

## <a name="ctypedptrlistsetat"></a><a name="setat"></a> Ктипедптрлист:: SetAt

Эта функция члена вызывает `BASE_CLASS` **:: SetAt**.

```cpp
void SetAt(POSITION pos, TYPE newElement);
```

### <a name="parameters"></a>Параметры

*pos*<br/>
РАСПОЛОЖЕНИЕ элемента, который необходимо задать.

*TYPE*<br/>
Тип элементов, хранящихся в списке базовых классов.

*невелемент*<br/>
Указатель на объект, записываемый в список.

### <a name="remarks"></a>Комментарии

Переменная типа "расположение" является ключом для списка. Это не то же самое, что и индекс, и вы не можете самостоятельно обрабатывать значение позиции. `SetAt` записывает указатель объекта в указанную позиции в списке.

Необходимо убедиться, что значение координаты представляет допустимую точку в списке. Если он является недопустимым, отладочная версия библиотека Microsoft Foundation Class утверждается.

Более подробные примечания см. в разделе [коблист:: SetAt](../../mfc/reference/coblist-class.md#setat).

## <a name="see-also"></a>См. также раздел

[Пример СОБРАНий MFC](../../overview/visual-cpp-samples.md)<br/>
[Иерархическая диаграмма](../../mfc/hierarchy-chart.md)<br/>
[Класс Кптрлист](../../mfc/reference/cptrlist-class.md)<br/>
[Класс Коблист](../../mfc/reference/coblist-class.md)
