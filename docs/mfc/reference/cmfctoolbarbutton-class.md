---
title: Класс CMFCToolBarButton
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CMFCToolBarButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeDropped
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStored
- AFXTOOLBARBUTTON/CMFCToolBarButton::CanBeStretched
- AFXTOOLBARBUTTON/CMFCToolBarButton::CompareWith
- AFXTOOLBARBUTTON/CMFCToolBarButton::CopyFrom
- AFXTOOLBARBUTTON/CMFCToolBarButton::CreateFromOleData
- AFXTOOLBARBUTTON/CMFCToolBarButton::EnableWindow
- AFXTOOLBARBUTTON/CMFCToolBarButton::ExportToMenuButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetClipboardFormat
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetHwnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetInvalidateRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::GetTextSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::HasFocus
- AFXTOOLBARBUTTON/CMFCToolBarButton::HaveHotBorder
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDrawText
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsDroppedDown
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsEditable
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsExtraSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsFirstInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHidden
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsHorizontal
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLastInGroup
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsLocked
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsOwnerOf
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::IsWindowVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::NotifyCommand
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnAddToCustomizePage
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnBeforeDrop
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCalculateSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCancelMode
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnChangeParentWnd
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClick
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnClickUp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnContextHelp
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCtlColor
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnCustomizeMenu
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDblClk
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDraw
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnDrawOnCustomizeList
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGetCustomToolTipText
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnGlobalFontsChanged
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnMove
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnShow
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnSize
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnToolHitTest
- AFXTOOLBARBUTTON/CMFCToolBarButton::OnUpdateToolTip
- AFXTOOLBARBUTTON/CMFCToolBarButton::PrepareDrag
- AFXTOOLBARBUTTON/CMFCToolBarButton::Rect
- AFXTOOLBARBUTTON/CMFCToolBarButton::ResetImageToDefault
- AFXTOOLBARBUTTON/CMFCToolBarButton::SaveBarState
- AFXTOOLBARBUTTON/CMFCToolBarButton::Serialize
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetACCData
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetClipboardFormatName
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetProtectedCommands
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRadio
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetRect
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::SetVisible
- AFXTOOLBARBUTTON/CMFCToolBarButton::Show
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bImage
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bTextBelow
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bUserButton
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWholeText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrap
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_bWrapText
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nID
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_nStyle
- AFXTOOLBARBUTTON/CMFCToolBarButton::m_strText
helpviewer_keywords:
- CMFCToolBarButton [MFC], CMFCToolBarButton
- CMFCToolBarButton [MFC], CanBeDropped
- CMFCToolBarButton [MFC], CanBeStored
- CMFCToolBarButton [MFC], CanBeStretched
- CMFCToolBarButton [MFC], CompareWith
- CMFCToolBarButton [MFC], CopyFrom
- CMFCToolBarButton [MFC], CreateFromOleData
- CMFCToolBarButton [MFC], EnableWindow
- CMFCToolBarButton [MFC], ExportToMenuButton
- CMFCToolBarButton [MFC], GetClipboardFormat
- CMFCToolBarButton [MFC], GetHwnd
- CMFCToolBarButton [MFC], GetImage
- CMFCToolBarButton [MFC], GetInvalidateRect
- CMFCToolBarButton [MFC], GetParentWnd
- CMFCToolBarButton [MFC], GetProtectedCommands
- CMFCToolBarButton [MFC], GetTextSize
- CMFCToolBarButton [MFC], HasFocus
- CMFCToolBarButton [MFC], HaveHotBorder
- CMFCToolBarButton [MFC], IsDrawImage
- CMFCToolBarButton [MFC], IsDrawText
- CMFCToolBarButton [MFC], IsDroppedDown
- CMFCToolBarButton [MFC], IsEditable
- CMFCToolBarButton [MFC], IsExtraSize
- CMFCToolBarButton [MFC], IsFirstInGroup
- CMFCToolBarButton [MFC], IsHidden
- CMFCToolBarButton [MFC], IsHorizontal
- CMFCToolBarButton [MFC], IsLastInGroup
- CMFCToolBarButton [MFC], IsLocked
- CMFCToolBarButton [MFC], IsOwnerOf
- CMFCToolBarButton [MFC], IsVisible
- CMFCToolBarButton [MFC], IsWindowVisible
- CMFCToolBarButton [MFC], NotifyCommand
- CMFCToolBarButton [MFC], OnAddToCustomizePage
- CMFCToolBarButton [MFC], OnBeforeDrag
- CMFCToolBarButton [MFC], OnBeforeDrop
- CMFCToolBarButton [MFC], OnCalculateSize
- CMFCToolBarButton [MFC], OnCancelMode
- CMFCToolBarButton [MFC], OnChangeParentWnd
- CMFCToolBarButton [MFC], OnClick
- CMFCToolBarButton [MFC], OnClickUp
- CMFCToolBarButton [MFC], OnContextHelp
- CMFCToolBarButton [MFC], OnCtlColor
- CMFCToolBarButton [MFC], OnCustomizeMenu
- CMFCToolBarButton [MFC], OnDblClk
- CMFCToolBarButton [MFC], OnDraw
- CMFCToolBarButton [MFC], OnDrawOnCustomizeList
- CMFCToolBarButton [MFC], OnGetCustomToolTipText
- CMFCToolBarButton [MFC], OnGlobalFontsChanged
- CMFCToolBarButton [MFC], OnMove
- CMFCToolBarButton [MFC], OnShow
- CMFCToolBarButton [MFC], OnSize
- CMFCToolBarButton [MFC], OnToolHitTest
- CMFCToolBarButton [MFC], OnUpdateToolTip
- CMFCToolBarButton [MFC], PrepareDrag
- CMFCToolBarButton [MFC], Rect
- CMFCToolBarButton [MFC], ResetImageToDefault
- CMFCToolBarButton [MFC], SaveBarState
- CMFCToolBarButton [MFC], Serialize
- CMFCToolBarButton [MFC], SetACCData
- CMFCToolBarButton [MFC], SetClipboardFormatName
- CMFCToolBarButton [MFC], SetImage
- CMFCToolBarButton [MFC], SetProtectedCommands
- CMFCToolBarButton [MFC], SetRadio
- CMFCToolBarButton [MFC], SetRect
- CMFCToolBarButton [MFC], SetStyle
- CMFCToolBarButton [MFC], SetVisible
- CMFCToolBarButton [MFC], Show
- CMFCToolBarButton [MFC], m_bImage
- CMFCToolBarButton [MFC], m_bText
- CMFCToolBarButton [MFC], m_bTextBelow
- CMFCToolBarButton [MFC], m_bUserButton
- CMFCToolBarButton [MFC], m_bWholeText
- CMFCToolBarButton [MFC], m_bWrap
- CMFCToolBarButton [MFC], m_bWrapText
- CMFCToolBarButton [MFC], m_nID
- CMFCToolBarButton [MFC], m_nStyle
- CMFCToolBarButton [MFC], m_strText
ms.assetid: 8a6ecffb-86b0-4f5c-8211-a9146b463efd
ms.openlocfilehash: ec5b6692197dc224f503be050a537e6fa265f6d5
ms.sourcegitcommit: b032daf81cb5fdb1f5a988277ee30201441c4945
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/15/2018
ms.locfileid: "51694664"
---
# <a name="cmfctoolbarbutton-class"></a>Класс CMFCToolBarButton

Предоставляет функции кнопок панели инструментов.

## <a name="syntax"></a>Синтаксис

```
class CMFCToolBarButton : public CObject
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание:|
|----------|-----------------|
|[CMFCToolBarButton::CMFCToolBarButton](#cmfctoolbarbutton)|Создает и инициализирует объект `CMFCToolBarButton`.|
|`CMFCToolBarButton::~CMFCToolBarButton`|Деструктор.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание:|
|----------|-----------------|
|[CMFCToolBarButton::CanBeDropped](#canbedropped)|Указывает, является ли пользователь можно разместить кнопку на панели инструментов или меню во время настройки.|
|[CMFCToolBarButton::CanBeStored](#canbestored)|Указывает, можно ли хранить кнопки.|
|[CMFCToolBarButton::CanBeStretched](#canbestretched)|Указывает, может ли пользователь растянуть кнопки во время настройки.|
|[CMFCToolBarButton::CompareWith](#comparewith)|Сравнивает данный экземпляр с предоставленным `CMFCToolBarButton` объекта.|
|[CMFCToolBarButton::CopyFrom](#copyfrom)|Копирует свойства другую кнопку панели инструментов для текущей кнопки.|
|[CMFCToolBarButton::CreateFromOleData](#createfromoledata)|Создает `CMFCToolBarButton` объект из предоставленного `COleDataObject` объекта.|
|`CMFCToolBarButton::CreateObject`|Используется платформой для создания динамического экземпляра этого типа класса.|
|[CMFCToolBarButton::EnableWindow](#enablewindow)|Разрешает или запрещает ввод с помощью мыши и клавиатуры.|
|[CMFCToolBarButton::ExportToMenuButton](#exporttomenubutton)|Копирует текст панели инструментов в меню.|
|[CMFCToolBarButton::GetClipboardFormat](#getclipboardformat)|Получает формат буфера обмена глобального приложения.|
|[CMFCToolBarButton::GetHwnd](#gethwnd)|Извлекает дескриптор окна, связанный с кнопкой панели инструментов.|
|[CMFCToolBarButton::GetImage](#getimage)|Извлекает индекс изображения кнопки.|
|[CMFCToolBarButton::GetInvalidateRect](#getinvalidaterect)|Извлекает область клиентской области кнопки, которую необходимо перерисовать.|
|[CMFCToolBarButton::GetParentWnd](#getparentwnd)|Извлекает родительское окно кнопки.|
|[CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands)|Извлекает список команд, которые пользователь не может настроить.|
|[CMFCToolBarButton::GetTextSize](#gettextsize)|Получает размер текста кнопки.|
|[CMFCToolBarButton::HasFocus](#hasfocus)|Определяет, имеет ли кнопки текущий фокус ввода.|
|[CMFCToolBarButton::HaveHotBorder](#havehotborder)|Определяет, отображается ли граница кнопки, когда пользователь выбирает кнопку.|
|[CMFCToolBarButton::IsDrawImage](#isdrawimage)|Определяет, отображается ли изображение на кнопке.|
|[CMFCToolBarButton::IsDrawText](#isdrawtext)|Определяет, отображается ли метка текст на кнопке.|
|[CMFCToolBarButton::IsDroppedDown](#isdroppeddown)|Определяет, отображаются ли кнопки подменю.|
|[CMFCToolBarButton::IsEditable](#iseditable)|Определяет, можно ли настроить кнопки.|
|[CMFCToolBarButton::IsExtraSize](#isextrasize)|Определяет, может ли отображаться кнопки с расширенной границей.|
|[CMFCToolBarButton::IsFirstInGroup](#isfirstingroup)|Определяет, является ли кнопки в первую позицию в его группы переключателей.|
|[CMFCToolBarButton::IsHidden](#ishidden)|Определяет, скрыт ли кнопки.|
|[CMFCToolBarButton::IsHorizontal](#ishorizontal)|Определяет, находится ли кнопки на горизонтальной панели инструментов.|
|[CMFCToolBarButton::IsLastInGroup](#islastingroup)|Указывает, является ли кнопка последней позиции в его группы переключателей.|
|[CMFCToolBarButton::IsLocked](#islocked)|Определяет, является ли кнопка на панели инструментов заблокированные (ненастраиваемый).|
|[CMFCToolBarButton::IsOwnerOf](#isownerof)|Определяет, является ли кнопка владельца предоставленным дескриптором окна.|
|[CMFCToolBarButton::IsVisible](#isvisible)|Определяет, видима ли кнопка панели инструментов.|
|[CMFCToolBarButton::IsWindowVisible](#iswindowvisible)|Определяет, отображается ли базовый дескриптор окна, кнопки.|
|[CMFCToolBarButton::NotifyCommand](#notifycommand)|Указывает, обрабатывает ли кнопки [WM_COMMAND](/windows/desktop/menurc/wm-command) сообщения.|
|[CMFCToolBarButton::OnAddToCustomizePage](#onaddtocustomizepage)|Вызывается платформой при добавлении кнопки **Настройка** диалоговое окно.|
|[CMFCToolBarButton::OnBeforeDrag](#onbeforedrag)|Указывает, можно ли перетаскивать кнопки.|
|[CMFCToolBarButton::OnBeforeDrop](#onbeforedrop)|Указывает ли пользователь может удалить кнопку на панели инструментов целевой объект.|
|[CMFCToolBarButton::OnCalculateSize](#oncalculatesize)|Вызывается платформой для вычисления размера кнопки для заданного контекста устройств и состояние закрепления.|
|[CMFCToolBarButton::OnCancelMode](#oncancelmode)|Вызывается платформой для обработки [WM_CANCELMODE](/windows/desktop/winmsg/wm-cancelmode) сообщения.|
|[CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd)|Вызывается платформой при вставке кнопки в панели инструментов.|
|[CMFCToolBarButton::OnClick](#onclick)|Вызывается платформой, когда пользователь нажимает кнопку мыши.|
|[CMFCToolBarButton::OnClickUp](#onclickup)|Вызывается платформой, когда пользователь отпускает кнопку мыши.|
|[CMFCToolBarButton::OnContextHelp](#oncontexthelp)|Вызывается платформой, когда родительский инструментов обрабатывает сообщение WM_HELPHITTEST.|
|[CMFCToolBarButton::OnCtlColor](#onctlcolor)|Вызывается платформой, когда родительский инструментов обрабатывает wm_ctlcolor-сообщение.|
|[CMFCToolBarButton::OnCustomizeMenu](#oncustomizemenu)|Позволяет кнопку, чтобы изменить указанное меню, когда приложение отображает контекстное меню на панели инструментов родительского.|
|[CMFCToolBarButton::OnDblClk](#ondblclk)|Вызывается платформой при обработке родительского инструментов [WM_LBUTTONDBLCLK](/windows/desktop/inputdev/wm-lbuttondblclk) сообщения.|
|[CMFCToolBarButton::OnDraw](#ondraw)|Вызывается платформой для отрисовки кнопки с использованием указанных стилей и параметров.|
|[CMFCToolBarButton::OnDrawOnCustomizeList](#ondrawoncustomizelist)|Вызывается платформой для отрисовки кнопки **команды** области **Настройка** диалоговое окно.|
|[CMFCToolBarButton::OnGetCustomToolTipText](#ongetcustomtooltiptext)|Вызывается платформой для извлечения текста пользовательскую подсказку для кнопки.|
|[CMFCToolBarButton::OnGlobalFontsChanged](#onglobalfontschanged)|Вызывается платформой при изменении глобального шрифта.|
|[CMFCToolBarButton::OnMove](#onmove)|Вызывается платформой при перемещении родительской панели инструментов.|
|[CMFCToolBarButton::OnShow](#onshow)|Вызывается платформой при кнопка становится видимым или невидимым.|
|[CMFCToolBarButton::OnSize](#onsize)|Вызывается платформой, когда родительский инструментов изменении ее размера или положения и это изменение требует кнопку, чтобы изменить размер.|
|[CMFCToolBarButton::OnToolHitTest](#ontoolhittest)|Вызывается платформой, когда родительский инструментов необходимо определить, находится ли точка в прямоугольнике кнопки.|
|[CMFCToolBarButton::OnUpdateToolTip](#onupdatetooltip)|Вызывается платформой, когда родительский инструментов обновляет его текст подсказки.|
|[CMFCToolBarButton::PrepareDrag](#preparedrag)|Вызывается платформой при кнопки выполнения операции перетаскивания и вставки.|
|[CMFCToolBarButton::Rect](#rect)|Получает прямоугольник, ограничивающий кнопки.|
|[CMFCToolBarButton::ResetImageToDefault](#resetimagetodefault)|Задает значение по умолчанию изображение, связанное с кнопкой.|
|[CMFCToolBarButton::SaveBarState](#savebarstate)|Сохраняет состояние кнопки панели инструментов.|
|[CMFCToolBarButton::Serialize](#serialize)|Считывает этот объект из архива или записывает его в архив. (Переопределяет [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize).)|
|[CMFCToolBarButton::SetACCData](#setaccdata)|Заполняет предоставленный `CAccessibilityData` объект с данные специальных возможностей с помощью кнопки панели инструментов.|
|[CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname)|Переименовывает формат глобального буфера обмена.|
|[CMFCToolBarButton::SetImage](#setimage)|Задает индекс изображения кнопки.|
|[CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands)|Задает список команд, которые пользователь не может настроить.|
|[CMFCToolBarButton::SetRadio](#setradio)|Вызывается платформой, когда кнопка изменяет состояние выбора.|
|[CMFCToolBarButton::SetRect](#setrect)|Задает ограничивающего прямоугольника кнопки.|
|[CMFCToolBarButton::SetStyle](#setstyle)|Задает стиль кнопки.|
|[CMFCToolBarButton::SetVisible](#setvisible)|Указывает, видима ли кнопка.|
|[CMFCToolBarButton::Show](#show)|Показывает или скрывает кнопку.|

### <a name="data-members"></a>Элементы данных

|name|Описание:|
|----------|-----------------|
|[CMFCToolBarButton::m_bImage](#m_bimage)|Указывает, отображается ли изображение на кнопке.|
|[CMFCToolBarButton::m_bText](#m_btext)|Указывает, отображается ли текстовая метка на кнопке.|
|[CMFCToolBarButton::m_bTextBelow](#m_btextbelow)|Указывает, отображается ли текстовую метку под этим изображением на кнопке.|
|[CMFCToolBarButton::m_bUserButton](#m_buserbutton)|Указывает, имеет ли кнопки образ определяемые пользователем.|
|[CMFCToolBarButton::m_bWholeText](#m_bwholetext)|Указывает, отображаются ли кнопки его полный текст метки, даже если оно не поместится в ограничивающем прямоугольнике.|
|[CMFCToolBarButton::m_bWrap](#m_bwrap)|Указывает, помещается ли кнопку рядом с разделителем в следующей строке.|
|[CMFCToolBarButton::m_bWrapText](#m_bwraptext)|Указывает, включены ли многострочный текст метки.|
|[CMFCToolBarButton::m_nID](#m_nid)|Идентификатор команды кнопки.|
|[CMFCToolBarButton::m_nStyle](#m_nstyle)|Стиль кнопки.|
|[CMFCToolBarButton::m_strText](#m_strtext)|Текстовая подпись кнопки.|

## <a name="remarks"></a>Примечания

Объект `CMFCToolbarButton` объект является элементом управления, который находится на панели инструментов. Его поведение аналогично, обычные кнопки. Можно назначить изображение и текст метки данного объекта. Кнопка панели инструментов также может иметь идентификатор команды. При нажатии кнопки панели инструментов, платформа выполняет команду, которая указывает этот идентификатор.

Как правило, можно настроить кнопки панели инструментов: пользователь можно перетаскивать кнопки с одной панели инструментов в другой и скопировать, вставить, удалить и изменить текстовые метки и изображения. Чтобы предотвратить работу пользователя Настройка панели инструментов, можно заблокировать панели инструментов в одном из двух способов. Либо задать `bLocked` флаг в значение TRUE, при вызове [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar), или добавить идентификатор команды отдельной кнопки в глобальный список команд, защищенных с помощью [CMFCToolBarButton:: SetProtectedCommands](#setprotectedcommands) метод.

`CMFCToolBarButton` объекты отображаются образы из глобальной коллекции изображений панели инструментов в приложении. Эти коллекции обслуживаются с панели элементов родительского [класс CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md). Дополнительные сведения см. в разделе [класс CMFCToolBarImages](../../mfc/reference/cmfctoolbarimages-class.md).

При нажатии кнопки на панели инструментов, его родительской панели инструментов обрабатывает сообщение мыши и передает соответствующие действия для кнопки. Если кнопка имеет идентификатор допустимой команды, родительской панели инструментов отправляет сообщение WM_COMMAND родительского фрейма.

`CMFCToolBarButton` Класс является базовым классом для других классов кнопки панели инструментов, таких как [класс CMFCToolBarMenuButton](../../mfc/reference/cmfctoolbarmenubutton-class.md), [класс CMFCToolBarEditBoxButton](../../mfc/reference/cmfctoolbareditboxbutton-class.md), и [ Класс CMFCToolBarComboBoxButton](../../mfc/reference/cmfctoolbarcomboboxbutton-class.md).

## <a name="example"></a>Пример

Следующий пример демонстрирует настройку `CMFCToolBarButton` объекта с помощью различных методов в `CMFCToolBarButton` класса. В примере показано включение мышь и ввода с клавиатуры, задать индекс изображения кнопки значение ограничивающего прямоугольника кнопки и отображения кнопки. Этот фрагмент кода является частью [пример управления "Вкладка"](../../visual-cpp-samples.md).

[!code-cpp[NVC_MFC_TabControl#1](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_1.cpp)]
[!code-cpp[NVC_MFC_TabControl#2](../../mfc/reference/codesnippet/cpp/cmfctoolbarbutton-class_2.cpp)]

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md)

## <a name="requirements"></a>Требования

**Заголовок:** afxtoolbarbutton.h

##  <a name="canbedropped"></a>  CMFCToolBarButton::CanBeDropped

Указывает, является ли пользователь можно разместить кнопку на панели инструментов или меню во время настройки.

```
virtual BOOL CanBeDropped(CMFCToolBar* pToolbar);
```

### <a name="parameters"></a>Параметры

*pToolbar*<br/>
[in] Не используется.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение TRUE.

### <a name="remarks"></a>Примечания

По умолчанию, кнопки панели инструментов можно перетаскивать на каждый настраиваемый (то есть незаблокированными) панели инструментов.

Реализация по умолчанию этот метод возвращает значение TRUE. Переопределите этот метод и возвращает значение FALSE, если вы хотите запретить изменение положения кнопки пользователю.

##  <a name="canbestored"></a>  CMFCToolBarButton::CanBeStored

Определяет, можно ли хранить кнопки.

```
virtual BOOL CanBeStored() const;
```

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение TRUE.

### <a name="remarks"></a>Примечания

Инфраструктура использует этот метод, чтобы определить, может ли кнопки участвовать в операции перетаскивания и вставки.

Реализация по умолчанию возвращает значение TRUE. Переопределите этот метод, если кнопки не может быть сохранен как часть операции перетаскивания и вставки. Дополнительные сведения об операциях перетаскивания и вставки, см. в разделе [Drag and Drop (OLE)](../../mfc/drag-and-drop-ole.md).

##  <a name="canbestretched"></a>  CMFCToolBarButton::CanBeStretched

Указывает, может ли пользователь растянуть кнопки во время настройки.

```
virtual BOOL CanBeStretched() const;
```

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод используется платформой, чтобы определить, может ли быть растянуто кнопки в режим настройки.

Реализация по умолчанию этот метод возвращает значение FALSE. Переопределите этот метод возвращает значение TRUE для элемента управления переменной ширины, такие как поле со списком или "ползунок".

Дополнительные сведения о режиме настройки, см. в разделе [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode).

##  <a name="cmfctoolbarbutton"></a>  CMFCToolBarButton::CMFCToolBarButton

Создает и инициализирует объект `CMFCToolBarButton`.

```
CMFCToolBarButton(
    UINT uiID,
    int iImage,
    LPCTSTR lpszText=NULL,
    BOOL bUserButton=FALSE,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>Параметры

*uiID*<br/>
[in] Идентификатор команды кнопки.

*iImage*<br/>
[in] Индекс изображения кнопок в коллекции образов.

*lpszText*<br/>
[in] Текстовая подпись кнопки. Может иметь значение NULL.

*bUserButton*<br/>
[in] Логическое значение, определяющее, является ли кнопка определяемые пользователем. Если этот параметр имеет значение TRUE, кнопки определяется пользователем. В противном случае изображение кнопки загружается из ресурса.

*Заблокировано*<br/>
[in] Логическое значение, определяющее, можно ли настроить кнопки. Если этот параметр имеет значение TRUE, невозможно настроить кнопки. В противном случае можно настроить кнопку.

##  <a name="comparewith"></a>  CMFCToolBarButton::CompareWith

Сравнивает данный экземпляр с предоставленным `CMFCToolBarButton` объекта.

```
virtual BOOL CompareWith(const CMFCToolBarButton& other) const;
```

### <a name="parameters"></a>Параметры

*other*<br/>
[in] Ссылка на объект, сравниваемый с данным экземпляром.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если предоставленный объект равен значению данного экземпляра; в противном случае — 0.

### <a name="remarks"></a>Примечания

Реализация по умолчанию определяет, равен ли идентификатор команды, предоставленного объекта идентификатор команды этого экземпляра. Переопределите этот метод, если необходимо выполнить дополнительную обработку для определения двух `CMFCToolBarButton` объекты равны.

##  <a name="copyfrom"></a>  CMFCToolBarButton::CopyFrom

Копирует свойства другую кнопку панели инструментов для текущей кнопки.

```
virtual void CopyFrom(const CMFCToolBarButton& src);
```

### <a name="parameters"></a>Параметры

*src*<br/>
[in] Ссылка «источник» из которого необходимо скопировать.

### <a name="remarks"></a>Примечания

Этот метод используется для копирования другую кнопку панели инструментов, чтобы эта кнопка панели инструментов.

##  <a name="createfromoledata"></a>  CMFCToolBarButton::CreateFromOleData

Создает `CMFCToolBarButton` объект из предоставленного `COleDataObject` объекта.

```
static CMFCToolBarButton* __stdcall CreateFromOleData(COleDataObject* pDataObject);
```

### <a name="parameters"></a>Параметры

*pDataObject*<br/>
[in] Объект источника данных OLE.

### <a name="return-value"></a>Возвращаемое значение

Созданный модуль чтения `CMFCToolBarButton`.

### <a name="remarks"></a>Примечания

Этот метод используется платформой для выполнения передачи данных в различных форматах. Например `CMFCOutlookBarPane::OnDragOver` метод использует этот метод для выполнения операций перетаскивания и вставки.

##  <a name="enablewindow"></a>  CMFCToolBarButton::EnableWindow

Разрешает или запрещает ввод с помощью мыши и клавиатуры.

```
virtual void EnableWindow(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
[in] Установите этот параметр в значение true, чтобы Включение ввода, или значение false, чтобы отключить входных данных.

### <a name="remarks"></a>Примечания

Этот метод вызывает метод `EnableWindow` функция для включения или отключения входных данных. Дополнительные сведения см. в разделе [EnableWindow](/windows/desktop/api/winuser/nf-winuser-enablewindow) в пакете Windows SDK.

##  <a name="exporttomenubutton"></a>  CMFCToolBarButton::ExportToMenuButton

Копирует текст панели инструментов в меню.

```
virtual BOOL ExportToMenuButton(CMFCToolBarMenuButton& menuButton) const;
```

### <a name="parameters"></a>Параметры

*MenuButton*<br/>
[in] Ссылка на кнопке меню целевой объект.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение TRUE.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы скопировать текст из кнопки на панели инструментов кнопку меню. Реализация по умолчанию копирует текст метки кнопки. Если текстовая метка пуст, этот метод копирует текст подсказки для кнопки.

Реализация по умолчанию этот метод возвращает значение TRUE. Переопределите этот метод, если вы хотите выполнять дополнительные действия, когда платформа преобразует объект, который является производным от [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md) к кнопке меню.

##  <a name="getclipboardformat"></a>  CMFCToolBarButton::GetClipboardFormat

Получает формат буфера обмена глобального приложения.

```
static CLIPFORMAT __stdcall GetClipboardFormat();
```

### <a name="return-value"></a>Возвращаемое значение

Глобальное значение CLIPFORMAT для приложения.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод для извлечения формат буфера обмена для передачи данных OLE. Например [CMFCToolBarButton::CreateFromOleData](#createfromoledata) метод этот метод используется для копирования данных из исходного объекта данных OLE.

Этот метод задает глобального времени значение первого CLIPFORMAT, этот метод вызывается. Все последующие вызовы этого метода возвращают это значение.

Чтобы разрешить выполнение операций перетаскивания и вставки между приложениями, вызовите [CMFCToolBarButton::SetClipboardFormatName](#setclipboardformatname) метод.

Дополнительные сведения о буферы обмена в MFC, см. в разделе [буфер обмена](../../mfc/clipboard.md).

##  <a name="gethwnd"></a>  CMFCToolBarButton::GetHwnd

Извлекает дескриптор окна, связанный с кнопкой панели инструментов.

```
virtual HWND GetHwnd();
```

### <a name="return-value"></a>Возвращаемое значение

Дескриптор окна, который связан с кнопки панели инструментов или значение NULL, если дескриптор не связанное окно имеет кнопку панели инструментов.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод возвращает значение NULL. Переопределите этот метод для возврата дескриптора окна конкретного элемента управления.

##  <a name="getimage"></a>  CMFCToolBarButton::GetImage

Извлекает индекс изображения кнопки.

```
int GetImage() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс изображения, связанного с помощью этой кнопки.

### <a name="remarks"></a>Примечания

Если кнопка имеет образ определяемые пользователем (то есть, в том случае, если *bUserButton* возвращает true в конструкторе), возвращаемый индекс указывает образ в коллекции пользовательских образов (см. в разделе [CMFCToolBar::GetUserImages](../../mfc/reference/cmfctoolbar-class.md#getuserimages)). В противном случае индекс указывает образ в коллекции образов, которые загружаются из файла ресурсов (см. в разделе [CMFCToolBar::GetImages](../../mfc/reference/cmfctoolbar-class.md#getimages)). Дополнительные сведения о файлах ресурсов см. в разделе [работа с файлами ресурсов](../../windows/working-with-resource-files.md).

##  <a name="getinvalidaterect"></a>  CMFCToolBarButton::GetInvalidateRect

Извлекает область клиентской области кнопки, которую необходимо перерисовать.

```
virtual const CRect GetInvalidateRect() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект `CRect` , указывающий область, необходимо перерисовать.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод возвращает всю клиентскую область. Переопределите этот метод, если требуется другой области перерисовку.

##  <a name="getparentwnd"></a>  CMFCToolBarButton::GetParentWnd

Извлекает родительское окно кнопки.

```
CWnd* GetParentWnd() const;
```

### <a name="return-value"></a>Возвращаемое значение

Родительское окно кнопки.

##  <a name="getprotectedcommands"></a>  CMFCToolBarButton::GetProtectedCommands

Извлекает список команд, которые пользователь не может настроить.

```
static const CList<UINT,UINT>& GetProtectedCommands();
```

### <a name="return-value"></a>Возвращаемое значение

Список защищенных команд.

### <a name="remarks"></a>Примечания

В режиме настройки платформы отключает команды кнопки панели инструментов, которые защищены. Пользователь не может выполнять перетаскивания и вставки и редактирования операции отключенных кнопок панели инструментов.

Используйте [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands) команды защищенный метод для определения списка.

##  <a name="gettextsize"></a>  CMFCToolBarButton::GetTextSize

Получает размер текста кнопки.

```
SIZE GetTextSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект SIZE, содержащий размер в пикселях текста кнопки.

##  <a name="hasfocus"></a>  CMFCToolBarButton::HasFocus

Определяет, имеет ли кнопки текущий фокус ввода.

```
virtual BOOL HasFocus() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если кнопка имеет фокус ввода; в противном случае 0.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод возвращает ненулевое значение, если кнопки имеет фокус ввода, или является окном потомок или предок окна, имеющий фокус ввода. Эту функцию, чтобы настроить это поведение можно переопределить.

##  <a name="havehotborder"></a>  CMFCToolBarButton::HaveHotBorder

Определяет, отображается ли граница кнопки, когда пользователь выбирает кнопку.

```
virtual BOOL HaveHotBorder() const;
```

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение TRUE.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы определить, должен ли кнопки панели инструментов отображать его границу при его выборе.

Реализация по умолчанию возвращает значение TRUE. Этот метод, чтобы настроить это поведение можно переопределить.

##  <a name="isdrawimage"></a>  CMFCToolBarButton::IsDrawImage

Определяет, отображается ли изображение на кнопке.

```
BOOL IsDrawImage() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если изображение отображается на кнопке; в противном случае 0.

### <a name="remarks"></a>Примечания

Этот метод возвращает значение FALSE, если нет связанного изображения кнопки панели инструментов ( [CMFCToolBarButton::GetImage](#getimage) возвращает -1) или если [CMFCToolBarButton::m_bImage](#m_bimage) имеет значение FALSE.

##  <a name="isdrawtext"></a>  CMFCToolBarButton::IsDrawText

Определяет, отображается ли метка текст на кнопке.

```
BOOL IsDrawText() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если текстовая метка отображается; в противном случае 0.

### <a name="remarks"></a>Примечания

Этот метод возвращает значение FALSE, если кнопки панели инструментов не имеет связанный текст метки ( [CMFCToolBarButton::m_strText](#m_strtext) пуста) или [CMFCToolBarButton::m_bText](#m_btext) имеет значение FALSE.

##  <a name="isdroppeddown"></a>  CMFCToolBarButton::IsDroppedDown

Определяет, отображаются ли кнопки подменю.

```
virtual BOOL IsDroppedDown() const;
```

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод возвращает значение FALSE. Переопределите этот метод возвращает значение TRUE, если элемент управления отображает вложенное меню.

##  <a name="iseditable"></a>  CMFCToolBarButton::IsEditable

Определяет, можно ли настроить кнопки.

```
virtual BOOL IsEditable() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если кнопка может настраиваться пользователем; в противном случае 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы определить, можно настроить кнопку панели инструментов с помощью перетаскивания и вставки или операции изменения пользователя.

Реализация по умолчанию возвращает значение FALSE, если идентификатор команды кнопки — это стандартная команда (вы можете определить, вызвав `IsStandardCommand` функции) или команды, идентификатор является в список защищенных команды. Дополнительные сведения о защищенных команды, см. в разделе [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) и [CMFCToolBarButton::SetProtectedCommands](#setprotectedcommands).

Переопределите этот метод для настройки его поведения.

##  <a name="isextrasize"></a>  CMFCToolBarButton::IsExtraSize

Определяет, может ли отображаться кнопки с расширенной границей.

```
virtual BOOL IsExtraSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если кнопки панели инструментов могут отображаться с расширенной границей; в противном случае 0.

### <a name="remarks"></a>Примечания

Несколько обложек использовать дополнительный объем для границы кнопок панели инструментов (например, round кнопки).

Если эта кнопка перемещается из одной панели инструментов в другую, платформа вызывает [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) метод. [CMFCToolBarButton::OnChangeParentWnd](#onchangeparentwnd) метод устанавливает флаг дополнительный объем новой родительской панели инструментов (Дополнительные сведения см. в разделе [CMFCToolBar::IsButtonExtraSizeAvailable](../../mfc/reference/cmfctoolbar-class.md#isbuttonextrasizeavailable)).

##  <a name="isfirstingroup"></a>  CMFCToolBarButton::IsFirstInGroup

Определяет, является ли кнопки в первую позицию в его группы переключателей.

```
virtual BOOL IsFirstInGroup() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если кнопка первой кнопки в группе кнопок; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод определяет *группы переключателей* как соседних набор кнопок, которые располагаются в той же строке и ограничено разделители или границы панели инструментов. Этот метод возвращает значение FALSE, если кнопки панели инструментов ссылается на **Настройка** кнопки. Дополнительные сведения о **Настройка** "Кнопка", см. в разделе [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Вызовите [CMFCToolBarButton::IsLastInGroup](#islastingroup) метод, чтобы определить, является ли кнопка последней позиции в его группы переключателей.

##  <a name="ishidden"></a>  CMFCToolBarButton::IsHidden

Определяет, скрыт ли кнопки.

```
BOOL IsHidden() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если кнопка скрыта (невидимый); в противном случае 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод при родительской панели инструментов будет растянуто, чтобы определить, является ли кнопка панели инструментов видимой.

Если вы установите кнопку, чтобы быть невидимым с помощью [CMFCToolBarButton::SetVisible](#setvisible) используйте [CMFCToolBarButton::IsVisible](#isvisible) для определения, является ли кнопка панели инструментов видимой.

По умолчанию отображаются все кнопки панели инструментов. Используйте [CMFCToolBarButton::Show](#show) метод, чтобы скрыть или отобразить кнопки панели инструментов.

##  <a name="ishorizontal"></a>  CMFCToolBarButton::IsHorizontal

Определяет, находится ли кнопки на горизонтальной панели инструментов.

```
BOOL IsHorizontal() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если кнопки панели инструментов находится в горизонтальной панели инструментов; в противном случае 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод для определения макета кнопок панели инструментов.

Этот метод возвращает `m_bHorz` элемент данных. Значение по умолчанию `m_bHorz` элемент данных имеет значение TRUE; он сбрасывается при каждом вызове [CMFCToolBarButton::OnDraw](#ondraw) метод.

##  <a name="islastingroup"></a>  CMFCToolBarButton::IsLastInGroup

Указывает, является ли кнопка последней позиции в его группы переключателей.

```
virtual BOOL IsLastInGroup() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если кнопка последней кнопки в группе кнопок; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод определяет *группы переключателей* как соседних набор кнопок, которые располагаются в той же строке и ограничено разделители или границы панели инструментов этот метод возвращает значение FALSE, если нет родительской панели инструментов кнопку панели инструментов или Кнопка панели инструментов ссылается на **Настройка** кнопки. Дополнительные сведения о **Настройка** "Кнопка", см. в разделе [CMFCToolBar::GetCustomizeButton](../../mfc/reference/cmfctoolbar-class.md#getcustomizebutton).

Вызовите [CMFCToolBarButton::IsFirstInGroup](#isfirstingroup) метод, чтобы определить, является ли кнопка в первую позицию в его группы переключателей.

##  <a name="islocked"></a>  CMFCToolBarButton::IsLocked

Определяет, является ли кнопка на панели инструментов заблокированные (ненастраиваемый).

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если кнопка находится в заблокированной панель инструментов; в противном случае 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы определить, можно настроить кнопку панели инструментов с помощью перетаскивания и вставки или операции изменения пользователя. Присвойте атрибуту заблокированный на родительской панели инструментов с помощью [CMFCToolBar::LoadToolBar](../../mfc/reference/cmfctoolbar-class.md#loadtoolbar) метод. Платформа передает значение этого атрибута в конструктор каждой кнопки панели инструментов ( [CMFCToolbarButton](../../mfc/reference/cmfctoolbarbutton-class.md)), он добавляет в родительской панели инструментов.

##  <a name="isownerof"></a>  CMFCToolBarButton::IsOwnerOf

Определяет, является ли кнопка владельца предоставленным дескриптором окна.

```
virtual BOOL IsOwnerOf(HWND hwnd);
```

### <a name="parameters"></a>Параметры

*HWND*<br/>
[in] Дескриптор окна.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если кнопка владельца предоставленным дескриптором окна; в противном случае 0.

### <a name="remarks"></a>Примечания

Этот метод возвращает ненулевое значение, если *hwnd* ссылается на дескриптор окна прямой или является потомком дескриптор окна, связанный с кнопкой. Этот метод возвращает 0, если *hwnd* имеет значение NULL.

##  <a name="isvisible"></a>  CMFCToolBarButton::IsVisible

Определяет, видима ли кнопка панели инструментов.

```
BOOL IsVisible() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если кнопка панели инструментов является видимой; в противном случае 0.

### <a name="remarks"></a>Примечания

Можно отобразить или скрыть кнопку панели инструментов с помощью [CMFCToolBarButton::SetVisible](#setvisible) метод. Вызовите [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) метода на панели инструментов родительского после вызова метода [CMFCToolBarButton::SetVisible](#setvisible) повторно вычислять макет родительской панели инструментов.

##  <a name="iswindowvisible"></a>  CMFCToolBarButton::IsWindowVisible

Определяет, отображается ли базовый дескриптор окна, кнопки.

```
virtual BOOL IsWindowVisible();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если базовый дескриптор окна, кнопки видима. в противном случае 0.

### <a name="remarks"></a>Примечания

Этот метод возвращает ненулевое значение, если атрибут стили базовый дескриптор окна содержит стиль WS_VISIBLE. Этот метод возвращает значение FALSE, если базовый дескриптор окна, кнопки имеет значение NULL.

##  <a name="m_bimage"></a>  CMFCToolBarButton::m_bImage

Указывает, отображается ли изображение на кнопке.

```
BOOL m_bImage;
```

### <a name="remarks"></a>Примечания

Если этот элемент данных имеет значение TRUE, платформа отображает изображение, связанное с кнопкой панели инструментов; в противном случае платформа не отображает изображение. Этот член влияет на возвращаемое значение [CMFCToolBarButton::m_bImage](#m_bimage) метод.

##  <a name="m_btext"></a>  CMFCToolBarButton::m_bText

Указывает, отображается ли текстовая метка на кнопке.

```
BOOL m_bText;
```

### <a name="remarks"></a>Примечания

Если этот элемент данных имеет значение TRUE, платформа отображает текстовую подпись кнопки панели инструментов; в противном случае платформа не отображает текстовую метку. Этот член влияет на возвращаемое значение [CMFCToolBarButton::m_bText](#m_btext) метод.

##  <a name="m_btextbelow"></a>  CMFCToolBarButton::m_bTextBelow

Указывает, отображается ли текстовую метку под этим изображением на кнопке.

```
BOOL m_bTextBelow;
```

### <a name="remarks"></a>Примечания

Если эта переменная-член имеет значение TRUE, платформа отображает текст кнопки под этим изображением. По умолчанию значение этого члена равно FALSE.

##  <a name="m_buserbutton"></a>  CMFCToolBarButton::m_bUserButton

Указывает, имеет ли кнопки образ определяемые пользователем

```
BOOL m_bUserButton;
```

### <a name="remarks"></a>Примечания

Этот элемент данных имеет значение TRUE, если кнопка имеет пользовательские изображения, связанные с ней.

##  <a name="m_bwholetext"></a>  CMFCToolBarButton::m_bWholeText

Указывает, отображаются ли кнопки его полный текст метки, даже если оно не поместится в ограничивающем прямоугольнике.

```
BOOL m_bWholeText;
```

### <a name="remarks"></a>Примечания

Если этот элемент данных имеет значение TRUE, платформа отображает полный текст метки, увеличив его размер кнопки. В противном случае платформа усекает и добавляет кнопку с многоточием ( **...** ) к метке.

##  <a name="m_bwrap"></a>  CMFCToolBarButton::m_bWrap

Указывает, помещается ли кнопку рядом с разделителем в следующей строке.

```
BOOL m_bWrap;
```

### <a name="remarks"></a>Примечания

Платформа присваивает этот элемент данных значение TRUE, если кнопки панели инструментов не умещается на текущей строке или при задании макета (например, определенных число кнопок панели инструментов на строку).

В следующей строке платформы устанавливает эту кнопку, если этот элемент данных имеет значение TRUE и панели инструментов по горизонтали прикрепленным или с плавающей запятой.

Значение по умолчанию для этого элемента данных имеет значение FALSE.

##  <a name="m_bwraptext"></a>  CMFCToolBarButton::m_bWrapText

Указывает, включены ли многострочный текст метки.

```
AFX_IMPORT_DATA static BOOL m_bWrapText;
```

### <a name="remarks"></a>Примечания

Если этот статической переменной-члена имеет значение TRUE, платформа включает все панели инструментов для отображения многострочных текстовых меток на кнопки панели инструментов.

Значение по умолчанию для этого элемента данных имеет значение FALSE.

##  <a name="m_nid"></a>  CMFCToolBarButton::m_nID

Идентификатор команды кнопки.

```
UINT m_nID;
```

### <a name="remarks"></a>Примечания

Идентификатор команды,-1 указывает на то, что кнопки разделителя. Все разделители кнопок со стилем TBBS_SEPARATOR. См. в разделе [CMFCToolBarButton::m_nStyle](#m_nstyle) Дополнительные сведения о стили кнопок.

##  <a name="m_nstyle"></a>  CMFCToolBarButton::m_nStyle

Стиль кнопки.

```
UINT m_nStyle;
```

### <a name="remarks"></a>Примечания

См. в разделе [стили элемента управления панели инструментов](../../mfc/reference/toolbar-control-styles.md) список доступных инструментов стили кнопок.

##  <a name="m_strtext"></a>  CMFCToolBarButton::m_strText

Текстовая подпись кнопки.

```
CString m_strText;
```

### <a name="remarks"></a>Примечания

Этот элемент данных содержит текстовую подпись кнопки. Текстовая подпись может быть пустым.

##  <a name="notifycommand"></a>  CMFCToolBarButton::NotifyCommand

Указывает, обрабатывает ли кнопки [WM_COMMAND](/windows/desktop/menurc/wm-command) сообщения.

```
virtual BOOL NotifyCommand(int iNotifyCode);
```

### <a name="parameters"></a>Параметры

*iNotifyCode*<br/>
[in] Сообщение уведомления, который связан с командой.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой, когда он собирается отправить [WM_COMMAND](/windows/desktop/menurc/wm-command) родительское окно.

По умолчанию этот метод возвращает значение FALSE. Переопределите этот метод для возвращают значение TRUE, если вы хотите обработать сообщение WM_COMMAND или FALSE, чтобы указать, что на родительской панели инструментов должен обрабатывать сообщения.

##  <a name="onaddtocustomizepage"></a>  CMFCToolBarButton::OnAddToCustomizePage

Вызывается платформой при добавлении кнопки **Настройка** диалоговое окно.

```
virtual void OnAddToCustomizePage();
```

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий. Если вы хотите выполнить какое-либо действие, при добавлении кнопки в Переопределите этот метод **Настройка** диалоговое окно.

##  <a name="onbeforedrag"></a>  CMFCToolBarButton::OnBeforeDrag

Указывает, можно ли перетаскивать кнопки.

```
virtual BOOL OnBeforeDrag() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если можно перетащить кнопки; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой, прежде чем пользователь начинает перетаскивать кнопку.

Реализация по умолчанию этот метод возвращает значение TRUE. Переопределите этот метод вернет FALSE, чтобы отключить перетаскивание кнопки.

##  <a name="onbeforedrop"></a>  CMFCToolBarButton::OnBeforeDrop

Указывает ли пользователь может удалить кнопку на панели инструментов целевой объект.

```
virtual BOOL OnBeforeDrop(CMFCToolBar* pTarget);
```

### <a name="parameters"></a>Параметры

*pTarget*<br/>
[in] Целевой объект операции перетаскивания и вставки.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если можно перетащить кнопки в панели инструментов с заданным целевым объектом. в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой, прежде чем перетаскивается на панель инструментов.

Реализация по умолчанию этот метод возвращает значение TRUE. Переопределите этот метод вернет FALSE, чтобы отключить операции перетаскивания на заданной цели.

##  <a name="oncalculatesize"></a>  CMFCToolBarButton::OnCalculateSize

Вызывается платформой для вычисления размера кнопки для заданного контекста устройств и состояние закрепления.

```
virtual SIZE OnCalculateSize(
    CDC* pDC,
    const CSize& sizeDefault,
    BOOL bHorz);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
[in] Контекст устройства, которое отображает кнопки.

*sizeDefault*<br/>
[in] По умолчанию размер кнопки.

*bHorz*<br/>
[in] Состояние закрепления панели инструментов родительского. Этот параметр имеет значение TRUE, если панель закреплена горизонтально или является перемещаемой, или значение FALSE, если по вертикали закрепления панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Объект `SIZE` структура, содержащая размеры кнопки, в пикселях.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы определить размер кнопки панели инструментов для заданного контекста устройств и закрепление состояния.

Реализация по умолчанию считает, что размеры text и image (если они отображаются), text и image позиций (текст, меньше или равна правой части изображения) и панель инструментов, закреплять окна состояния.

Переопределите этот метод, если вы хотите предоставить размер нестандартные кнопки (например, кнопка «Изменить поле»).

##  <a name="oncancelmode"></a>  CMFCToolBarButton::OnCancelMode

Вызывается платформой для обработки [WM_CANCELMODE](/windows/desktop/winmsg/wm-cancelmode) сообщения.

```
virtual void OnCancelMode();
```

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, если вы хотите обрабатывать [WM_CANCELMODE](/windows/desktop/winmsg/wm-cancelmode) сообщения.

##  <a name="onchangeparentwnd"></a>  CMFCToolBarButton::OnChangeParentWnd

Вызывается платформой при вставке кнопки в панели инструментов.

```
virtual void OnChangeParentWnd(CWnd* pWndParent);
```

### <a name="parameters"></a>Параметры

*pWndParent*<br/>
[in] Нового родительского окна.

### <a name="remarks"></a>Примечания

Кнопка будет вставлена в панель инструментов, например, когда пользователь перетаскивает его с одной панели инструментов на другую панель инструментов.

Реализация по умолчанию этот метод не выполняет никаких действий.

##  <a name="onclick"></a>  CMFCToolBarButton::OnClick

Вызывается платформой, когда пользователь нажимает кнопку мыши.

```
virtual BOOL OnClick(
    CWnd* pWnd,
    BOOL bDelay=TRUE);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
[in] Родительское окно кнопки панели инструментов.

*bDelay*<br/>
[in] Значение TRUE, если сообщения должны обрабатываться с задержкой.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой, когда пользователь нажимает кнопку панели инструментов.

Реализация по умолчанию не выполняет никаких действий и возвращает значение FALSE. Переопределите этот метод для возврата ненулевое значение, если кнопки обрабатывает сообщение щелкните.

##  <a name="onclickup"></a>  CMFCToolBarButton::OnClickUp

Вызывается платформой, когда пользователь отпускает кнопку мыши.

```
virtual BOOL OnClickUp();
```

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой, когда пользователь отпускает кнопку панели инструментов.

Реализация по умолчанию не выполняет никаких действий и возвращает значение FALSE. Переопределите этот метод для возврата ненулевое значение, если кнопки обрабатывает сообщение щелкните.

##  <a name="oncontexthelp"></a>  CMFCToolBarButton::OnContextHelp

Вызывается платформой, когда родительский инструментов обрабатывает сообщение WM_HELPHITTEST.

```
virtual BOOL OnContextHelp(CWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
[in] Родительское окно кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий и возвращает значение FALSE. Переопределите этот метод для возврата ненулевое значение, если кнопки обрабатывает сообщение справки.

Дополнительные сведения о сообщении WM_HELPHITTEST см. в разделе [TN028: поддержка справки контекстные](../../mfc/tn028-context-sensitive-help-support.md).

##  <a name="onctlcolor"></a>  CMFCToolBarButton::OnCtlColor

Вызывается платформой, когда родительский инструментов обрабатывает wm_ctlcolor-сообщение.

```
virtual HBRUSH OnCtlColor(
    CDC* pDC,
    UINT nCtlColor);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
[in] Контекст устройства, которое отображает кнопки.

*nCtlColor*<br/>
[in] Уведомление конкретного цвета.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор объекта brush объекта, инфраструктура использует для рисования фона кнопки.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой родительской панели инструментов во время обработки wm_ctlcolor-сообщение для кнопки панели инструментов, которая содержит элемент управления Windows. Платформа не вызывает этот метод, если кнопка панели инструментов является безоконного.

Платформа вызывает этот метод при framework панель инструментов находится в режиме настройки и разблокируется кнопки панели инструментов. Дополнительные сведения о режиме настройки, см. в разделе [CMFCToolBar::SetCustomizeMode](../../mfc/reference/cmfctoolbar-class.md#setcustomizemode). Дополнительные сведения о блокировке кнопки панели инструментов см. в разделе [CMFCToolBarButton::IsLocked](#islocked).

Реализация по умолчанию не выполняет никаких действий и возвращает значение NULL.

##  <a name="oncustomizemenu"></a>  CMFCToolBarButton::OnCustomizeMenu

Позволяет кнопку, чтобы изменить указанное меню, когда приложение отображает контекстное меню на панели инструментов родительского.

```
virtual BOOL OnCustomizeMenu(CMenu* pMenu);
```

### <a name="parameters"></a>Параметры

*pMenu*<br/>
[in] Меню для настройки.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Реализация по умолчанию не выполняет никаких действий и возвращает значение FALSE. Переопределите этот метод и возвращают ненулевое значение, если вы хотите изменить содержимое предоставленного меню.

##  <a name="ondblclk"></a>  CMFCToolBarButton::OnDblClk

Вызывается платформой при обработке родительского инструментов [WM_LBUTTONDBLCLK](/windows/desktop/inputdev/wm-lbuttondblclk) сообщения.

```
virtual void OnDblClk(CWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
[in] - родительское окно кнопки.

### <a name="remarks"></a>Примечания

Этот метод вызывается `CMFCToolBar::OnLButtonDblClk` метод при обработке родительского инструментов [WM_LBUTTONDBLCLK](/windows/desktop/inputdev/wm-lbuttondblclk) сообщения.

Реализация по умолчанию этот метод не выполняет никаких действий.

##  <a name="ondraw"></a>  CMFCToolBarButton::OnDraw

Вызывается платформой для отрисовки кнопки с использованием указанных стилей и параметров.

```
virtual void OnDraw(
    CDC* pDC,
    const CRect& rect,
    CMFCToolBarImages* pImages,
    BOOL bHorz=TRUE,
    BOOL bCustomizeMode=FALSE,
    BOOL bHighlight=FALSE,
    BOOL bDrawBorder=TRUE,
    BOOL bGrayDisabledButtons=TRUE);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
[in] Контекст устройства, которое отображает кнопки.

*Rect*<br/>
[in] Ограничивающий прямоугольник кнопки.

*pImages*<br/>
[in] Коллекция изображениям значков панели инструментов, связанный с кнопкой.

*bHorz*<br/>
[in] Состояние закрепления панели инструментов родительского. Этот параметр имеет значение TRUE, если кнопки закреплена горизонтально и FALSE при закреплении кнопки по вертикали.

*bCustomizeMode*<br/>
[in] Указывает, является ли панель инструментов в режим настройки. Этот параметр является значение TRUE, если панель инструментов находится в режим настройки и FALSE, если панель инструментов не в режим настройки.

*bHighlight*<br/>
[in] Указывает, выделена ли кнопки. Этот параметр является значение TRUE, если кнопка выделена и FALSE, если не остается выделенным, кнопки.

*bDrawBorder*<br/>
[in] Указывает, должен ли отображаться граница кнопки. Этот параметр имеет значение TRUE, если кнопки должно отображать его границы и FALSE, когда кнопки не должна отображаться граница.

*bGrayDisabledButtons*<br/>
[in] Указывает, следует ли затенение кнопок или использовать коллекции изображений отключено. Этот параметр имеет значение TRUE, когда отключенные кнопки должно быть затененную и значение FALSE, когда этот метод следует использовать коллекции изображений отключено.

### <a name="remarks"></a>Примечания

Переопределите этот метод для настройки рисования кнопки панели инструментов.

##  <a name="ondrawoncustomizelist"></a>  CMFCToolBarButton::OnDrawOnCustomizeList

Вызывается платформой для отрисовки кнопки **команды** области **Настройка** диалоговое окно.

```
virtual int OnDrawOnCustomizeList(
    CDC* pDC,
    const CRect& rect,
    BOOL bSelected);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
[in] Контекст устройства, которое отображает кнопки.

*Rect*<br/>
[in] Ограничивающий прямоугольник кнопки.

*bSelected*<br/>
[in] Указывает, выбран ли кнопки. Если этот параметр имеет значение TRUE, выбранной кнопки. Если этот параметр имеет значение FALSE, не выбранной кнопки.

### <a name="return-value"></a>Возвращаемое значение

Ширина в пикселях, кнопки в заданном контексте устройства.

### <a name="remarks"></a>Примечания

Этот метод вызывается с помощью диалогового окна настройки ( **команды** вкладке) при кнопки собирается отображения в поле со списком рисуемого владельцем.

Реализация по умолчанию этот метод отображает изображение и текст метки кнопки, если они доступны. Если текстовая метка кнопки недоступна, метод отображает текст всплывающей подсказки.

Переопределите этот метод для выполнения нестандартных операций рисования.

##  <a name="ongetcustomtooltiptext"></a>  CMFCToolBarButton::OnGetCustomToolTipText

Вызывается платформой для извлечения текста пользовательскую подсказку для кнопки.

```
virtual BOOL OnGetCustomToolTipText(CString& strToolTip);
```

### <a name="parameters"></a>Параметры

*strToolTip*<br/>
[out] Объект `CString` объект, получающий пользовательский текст всплывающей подсказки.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой при отображении подсказки для кнопки панели инструментов. Если этот метод возвращает значение FALSE, инфраструктура использует подсказку по умолчанию.

Реализация по умолчанию не выполняет никаких действий и возвращает значение FALSE. Переопределите этот метод и возвращают ненулевое значение, чтобы предоставить пользовательский текст всплывающей подсказки для кнопки панели инструментов.

##  <a name="onglobalfontschanged"></a>  CMFCToolBarButton::OnGlobalFontsChanged

Вызывается платформой при изменении глобального шрифта.

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для обновления шрифт, используемый для отображения текста кнопки.

##  <a name="onmove"></a>  CMFCToolBarButton::OnMove

Вызывается платформой при перемещении родительской панели инструментов.

```
virtual void OnMove();
```

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для изменения положения кнопки при перемещении родительской панели инструментов.

##  <a name="onshow"></a>  CMFCToolBarButton::OnShow

Вызывается платформой при кнопка становится видимым или невидимым.

```
virtual void OnShow(BOOL bShow);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
[in] Указывает, видима ли кнопка. Если этот параметр имеет значение TRUE, то кнопка отображается. В противном случае кнопка не видна.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, чтобы обновить видимость кнопки.

##  <a name="onsize"></a>  CMFCToolBarButton::OnSize

Вызывается платформой при панели родительского изменении ее размера или положения и это изменение приводит к изменить размер кнопки.

```
virtual void OnSize(int iSize);
```

### <a name="parameters"></a>Параметры

*iSize*<br/>
[in] Новая ширина кнопки.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод, чтобы изменить размер кнопки, при изменении размера или положения родительского панели инструментов.

##  <a name="ontoolhittest"></a>  CMFCToolBarButton::OnToolHitTest

Вызывается платформой, когда родительский инструментов необходимо определить, находится ли точка в прямоугольнике кнопки.

```
virtual BOOL OnToolHitTest(
    const CWnd* pWnd,
    TOOLINFO* pTI);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
[in] Родительское окно кнопки. Может иметь значение NULL.

*pTI*<br/>
[in] Объект `TOOLINFO` структуру, содержащую сведения о средстве, в элементе управления tooltip.

### <a name="return-value"></a>Возвращаемое значение

Результат `OnMenuButtonToolHitTest` Если кнопки можно получить указатель на родительское окно фрейма; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывает один из следующих методов, если он может преобразовать в объект допустимым кадра родительского окна:

- [CMDIFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cmdiframewndex-class.md#onmenubuttontoolhittest)

- [CFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/cframewndex-class.md#onmenubuttontoolhittest)

- [COleIPFrameWndEx::OnMenuButtonToolHitTest](../../mfc/reference/coleipframewndex-class.md#onmenubuttontoolhittest)

##  <a name="onupdatetooltip"></a>  CMFCToolBarButton::OnUpdateToolTip

Вызывается платформой, когда родительский инструментов обновляет его текст подсказки.

```
virtual BOOL OnUpdateToolTip(
    CWnd* pWndParent,
    int iButtonIndex,
    CToolTipCtrl& wndToolTip,
    CString& str);
```

### <a name="parameters"></a>Параметры

*pWndParent*<br/>
[in] Родительское окно.

*iButtonIndex*<br/>
[in] Отсчитываемый от нуля индекс кнопок в коллекции кнопок панели родительского.

*wndToolTip*<br/>
[in] Элемент управления, отображающий текст всплывающей подсказки.

*str*<br/>
[out] Объект `CString` объект, получающий обновленный подсказку.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение FALSE.

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий и возвращает значение FALSE. Переопределите этот метод для возврата ненулевое значение, если указать строку текста всплывающей подсказки.

##  <a name="preparedrag"></a>  CMFCToolBarButton::PrepareDrag

Вызывается платформой при кнопки выполнения операции перетаскивания и вставки.

```
virtual BOOL PrepareDrag(COleDataSource& srcItem);
```

### <a name="parameters"></a>Параметры

*srcItem*<br/>
[in] Объект `COleDataSource` объект, который хранит сведения о состоянии операции перетаскивания и вставки.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если операция прошла успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы подготовить кнопку панели инструментов, чтобы хранить свое состоянии в предоставленном `COleDataSource` объекта. Этот метод сохраняет свое состояние с помощью сериализации сам общий файл и затем передав этот файл в [COleDataSource::CacheGlobalData](../../mfc/reference/coledatasource-class.md#cacheglobaldata) метод. Дополнительные сведения о сериализации кнопки панели инструментов, см. в разделе [CMFCToolBarButton::Serialize](#serialize).

Этот метод не выполняет никаких действий и возвращает TRUE, если кнопка не может быть сохранена ( [CMFCToolBarButton::CanBeStored](#canbestored) метод возвращает значение FALSE). Возвращается значение FALSE, при возникновении исключения во время сериализации объекта.

Дополнительные сведения об операциях и перетаскивания OLE, см. в разделе [Drag and Drop (OLE)](../../mfc/drag-and-drop-ole.md).

##  <a name="rect"></a>  CMFCToolBarButton::Rect

Получает прямоугольник, ограничивающий кнопки.

```
const CRect& Rect() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект `CRect` , содержащий ограничивающего прямоугольника кнопки.

##  <a name="resetimagetodefault"></a>  CMFCToolBarButton::ResetImageToDefault

Задает значение по умолчанию изображение, связанное с кнопкой.

```
virtual void ResetImageToDefault();
```

### <a name="remarks"></a>Примечания

Этот метод извлекает изображения по умолчанию из его родительской панели инструментов с помощью [CMFCToolBar::GetDefaultImage](../../mfc/reference/cmfctoolbar-class.md#getdefaultimage) метод. Если кнопка имеет изображение по умолчанию отсутствует, этот метод задает текстовую подпись кнопки в соответствии с его строковый ресурс с помощью [CStringT::LoadString](../../atl-mfc-shared/reference/cstringt-class.md#loadstring) метод. Дополнительные сведения о строковых ресурсов см. в разделе [работа с файлами ресурсов](../../windows/working-with-resource-files.md).

Если кнопка имеет образ определяемых пользователем, этот метод не выполняет никаких действий.

##  <a name="savebarstate"></a>  CMFCToolBarButton::SaveBarState

Сохраняет состояние кнопки панели инструментов.

```
virtual void SaveBarState();
```

### <a name="remarks"></a>Примечания

Этот метод вызывается платформой при создании `CMFCToolBarButton` объекта как результат операции перетаскивания и вставки.

Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для сохранения состояния кнопки панели инструментов для внешнего источника данных.

##  <a name="serialize"></a>  CMFCToolBarButton::Serialize

Считывает этот объект из архива или записывает его в архив.

```
virtual void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Параметры

*ar*<br/>
[in] `CArchive` Объект, из которого или сериализации.

### <a name="remarks"></a>Примечания

Этот метод поддерживает процессов передачи данных, такие как буфер обмена или операции перетаскивания и вставки. Он считывает или записывает свойства кнопок, такие как Идентификаторы, надписи и идентификатор образа, предоставленного в или из него `CArchive` объекта.

Примеры сериализации см. в разделе [сериализации: сериализация объекта](../../mfc/serialization-serializing-an-object.md).

##  <a name="setaccdata"></a>  CMFCToolBarButton::SetACCData

Заполняет предоставленный `CAccessibilityData` объект с данные специальных возможностей с помощью кнопки панели инструментов.

```
virtual BOOL SetACCData(
    CWnd* pParent,
    CAccessibilityData& data);
```

### <a name="parameters"></a>Параметры

*pParent*<br/>
[in] Родительское окно кнопки панели инструментов.

*data*<br/>
[in] Объект `CAccessibilityData` объект, который заполняется данные специальных возможностей кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает значение TRUE.

### <a name="remarks"></a>Примечания

Переопределите этот метод вернет FALSE, если кнопки панели инструментов не предоставляет данные специальных возможностей.

##  <a name="setclipboardformatname"></a>  CMFCToolBarButton::SetClipboardFormatName

Переименовывает формат глобального буфера обмена.

```
static void __stdcall SetClipboardFormatName(LPCTSTR lpszName);
```

### <a name="parameters"></a>Параметры

*lpszName*<br/>
[in] Новое имя формата буфера обмена глобального. Не может принимать значение NULL.

### <a name="remarks"></a>Примечания

Этот метод выполняет операции перетаскивания и вставки могут возникать в разных приложениях. Каждое приложение необходимо указать имя, совпадающее формат буфера обмена.

Необходимо вызвать этот метод перед вызовом framework [CMFCToolBarButton::GetClipboardFormat](#getclipboardformat).

##  <a name="setimage"></a>  CMFCToolBarButton::SetImage

Задает индекс изображения кнопки.

```
virtual void SetImage(int iImage);
```

### <a name="parameters"></a>Параметры

*iImage*<br/>
[in] Индекс изображения в коллекцию изображениям значков панели инструментов.

### <a name="remarks"></a>Примечания

Если кнопка панели инструментов разделитель, *iImage* ссылается на новую ширину кнопки-разделителя.

Если *iImage* меньше нуля, этот метод отключает Рисование изображения и включает Рисование текста метки кнопки.

##  <a name="setprotectedcommands"></a>  CMFCToolBarButton::SetProtectedCommands

Задает список команд, которые пользователь не может настроить.

```
static void SetProtectedCommands(const CList<UINT,UINT>& lstCmds);
```

### <a name="parameters"></a>Параметры

*lstCmds*<br/>
[in] Список защищенных команд.

### <a name="remarks"></a>Примечания

В режиме настройки платформы отключает команды кнопки панели инструментов, которые защищены. Пользователь не может выполнять перетаскивания и вставки и редактирования операции отключенных кнопок панели инструментов.

Используйте [CMFCToolBarButton::GetProtectedCommands](#getprotectedcommands) команды защищенный метод для извлечения списка.

##  <a name="setradio"></a>  CMFCToolBarButton::SetRadio

Вызывается платформой, когда кнопка изменяет состояние выбора.

```
virtual void SetRadio();
```

### <a name="remarks"></a>Примечания

Реализация по умолчанию этот метод не выполняет никаких действий. Переопределите этот метод для выполнения пользовательских действий при кнопки изменяет состояние выбора.

##  <a name="setrect"></a>  CMFCToolBarButton::SetRect

Задает ограничивающего прямоугольника кнопки.

```
void SetRect(const CRect rect);
```

### <a name="parameters"></a>Параметры

*Rect*<br/>
[in] Новый ограничивающий прямоугольник кнопки.

### <a name="remarks"></a>Примечания

Этот метод вызывает метод [CMFCToolBarButton::OnMove](#onmove) метод после установки нового ограничивающего прямоугольника.

##  <a name="setstyle"></a>  CMFCToolBarButton::SetStyle

Задает стиль кнопки.

```
virtual void SetStyle(UINT nStyle);
```

### <a name="parameters"></a>Параметры

*nStyle*<br/>
[in] Новый стиль кнопки.

### <a name="remarks"></a>Примечания

Наборы данных для реализации по умолчанию [CMFCToolBarButton::m_nStyle](#m_nstyle) член данных *nStyle*. Переопределите этот метод, если вы хотите выполнять дополнительную обработку для обработки изменений в стиле. См. в разделе [стили элемента управления панели инструментов](toolbar-control-styles.md) список флагов допустимое значение стиля.

##  <a name="setvisible"></a>  CMFCToolBarButton::SetVisible

Указывает, видима ли кнопка.

```
void SetVisible(BOOL bShow=TRUE);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
[in] Логическое значение, указывающее, следует ли отображать или скрывать кнопки. Если этот параметр имеет значение TRUE, кнопка отображается. Если параметр имеет значение FALSE, кнопка скрыта.

### <a name="remarks"></a>Примечания

Эту функцию можно используйте для скрытия или отображения конкретной кнопки. Вызовите [CPane::AdjustSizeImmediate](../../mfc/reference/cpane-class.md#adjustsizeimmediate) метод после вызова этого метода.

##  <a name="show"></a>  CMFCToolBarButton::Show

Показывает или скрывает кнопку.

```
void Show(BOOL bShow);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
[in] Логическое значение, указывающее, следует ли отображать или скрывать кнопки. Если этот параметр имеет значение TRUE, кнопка отображается. Если параметр имеет значение FALSE, кнопка скрыта.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы обновить видимость кнопок панели инструментов, при изменении размера их родительской панели инструментов. Платформа вызывает этот метод с *bShow* кнопки больше не умещается в границы элемента панели инструментов, равным FALSE. Платформа вызывает этот метод с *bShow* значение равно TRUE, если после изменения размера кнопки снова умещается в границы элемента панели инструментов.

Используйте [CMFCToolBarButton::SetVisible](#setvisible) метод, чтобы задать общие видимость кнопки.

Этот метод вызывает метод [CMFCToolBarButton::OnShow](#onshow) метод после он обновляет состояние видимости кнопки.

## <a name="see-also"></a>См. также

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)<br/>
[Класс CMFCToolBar](../../mfc/reference/cmfctoolbar-class.md)<br/>
[Класс CMFCToolBarImages](../../mfc/reference/cmfctoolbarimages-class.md)
