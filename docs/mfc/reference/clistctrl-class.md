---
title: Класс CListCtrl
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: 4b505912c69ffbb86ad3dae98f99531c477db693
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2020
ms.locfileid: "81749137"
---
# <a name="clistctrl-class"></a>Класс CListCtrl

Инкапсулирует функциональность элемента управления "список", который отображает коллекцию элементов, где каждый элемент состоит из значка (списка изображений) и метки.

## <a name="syntax"></a>Синтаксис

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание|
|----------|-----------------|
|[CListCtrl::CListCtrl](#clistctrl)|Формирует объект `CListCtrl`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CListCtrl::ApproximateViewRect](#approximateviewrect)|Определяет ширину и высоту, необходимые для отображения элементов управления представления милитеего списка.|
|[CListCtrl::Устройте](#arrange)|Выравнивает элементы на сетке.|
|[CListCtrl::CancelEditLabel](#canceleditlabel)|Отменяет операцию редактирования текста элемента.|
|[CListCtrl::Создание](#create)|Создает элемент управления списком и `CListCtrl` прикрепляет его к объекту.|
|[CListCtrl::CreateDragImage](#createdragimage)|Создает список перетаскивания изображений для указанного элемента.|
|[CListCtrl:CreateEx](#createex)|Создает элемент управления списком с указанными расширенными `CListCtrl` стилями Windows и прикрепляет его к объекту.|
|[CListCtrl::DeleteAllItems](#deleteallitems)|Удаляет все элементы из элемента управления.|
|[CListCtrl::DeleteColumn](#deletecolumn)|Удаляет столбец из элемента управления представлениями списка.|
|[CListCtrl::DeleteItem](#deleteitem)|Удаляет элемент из элемента.|
|[CListCtrl::DrawItem](#drawitem)|Вызывается при изменении визуального аспекта управления владельца-рисования.|
|[CListCtrl::EditLabel](#editlabel)|Начинается редактирование текста элемента на месте.|
|[CListCtrl:EnableGroupView](#enablegroupview)|Позволяет или отсутвиряет ли элементы в дисплее управления представлениями списка как группа.|
|[CListCtrl::ОбеспечениеВидимого](#ensurevisible)|Гарантирует, что элемент виден.|
|[CListCtrl:FindItem](#finditem)|Поиск элемента представления списка с определенными характеристиками.|
|[CListCtrl::GetBkColor](#getbkcolor)|Извлекает фоновый цвет элемента управления представления списка.|
|[CListCtrl:GetBkImage](#getbkimage)|Извлекает текущее фоновое изображение элемента управления представления списка.|
|[CListCtrl::GetCallbackMask](#getcallbackmask)|Извлекает маску обратного вызова для управления представлением списка.|
|[CListCtrl::GetCheck](#getcheck)|Извлекает текущее состояние изображения состояния, связанного с элементом.|
|[CListCtrl::GetColumn](#getcolumn)|Извлекает атрибуты столбца элемента управления.|
|[CListCtrl::GetColumnOrderArray](#getcolumnorderarray)|Извлекает порядок столбца (слева направо) элемента управления представления списка.|
|[CListCtrl:GetColumnШирин](#getcolumnwidth)|Извлекает ширину столбца в представлении отчета или представлении списка.|
|[CListCtrl:GetCountPerPage](#getcountperpage)|Вычисляет количество элементов, которые могут поместиться вертикально в элемент управления представлениями списка.|
|[CListCtrl:GetEditControl](#geteditcontrol)|Извлекает ручку элемента управления редактирования, используемую для редактирования текста элемента.|
|[CListCtrl::GetEmptyText](#getemptytext)|Извлекает строку для отображения, если текущий элемент управления просмотра списка пуст.|
|[CListCtrl::GetExtendedStyle](#getextendedstyle)|Извлекает текущие расширенные стили управления представлениями списка.|
|[ClistCtrl::GetFirstSelectedItemposition](#getfirstselecteditemposition)|Извлекает позицию первого выбранного элемента представления списка в элемент еспредставления списка.|
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Получает группу, которая имеет фокус клавиатуры в текущем управлении представлением списка.|
|[CListCtrl:GetGroupCount](#getgroupcount)|Извлекает количество групп в текущем элементе управления представления списка.|
|[CListCtrl::GetGroupInfo](#getgroupinfo)|Получает информацию для определенной группы управления представлением списка.|
|[Клисткторл::GetGroupInfoByIndex](#getgroupinfobyindex)|Извлекает информацию об определенной группе в текущем элементе управления просмотра списка.|
|[CListCtrl:GetGroupMetrics](#getgroupmetrics)|Извлекает метрики группы.|
|[CListCtrl:GetGroupRect](#getgrouprect)|Извлекает прямоугольник для определенной группы в текущем элементе управления представления списка.|
|[CListCtrl:GetGroupState](#getgroupstate)|Извлекает состояние для определенной группы в текущем элементе управления представления списка.|
|[CListCtrl:GetHeaderCtrl](#getheaderctrl)|Извлекает элемент управления заголовком управления представления списка.|
|[CListCtrl:GetHotCursor](#gethotcursor)|Извлекает курсор, используемый при включении горячего отслеживания для управления представлениями списка.|
|[CListCtrl:GetHotItem](#gethotitem)|Извлекает элемент представления списка, наданный в настоящее время под курсором.|
|[CListCtrl:GetHoverTime](#gethovertime)|Извлекает текущее время нависаемого элемента управления представлениям списка.|
|[CListCtrl:GetImageList](#getimagelist)|Извлекает ручку списка изображений, используемого для элементов представления списка чертежей.|
|[CListCtrl:GetInsertMark](#getinsertmark)|Извлекает текущее положение знака вставки.|
|[CListCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Извлекает текущий цвет знака вставки.|
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|Извлекает прямоугольник, который связывает точку вставки.|
|[CListCtrl::GetItem](#getitem)|Извлекает атрибуты элемента представления списка.|
|[CListCtrl::GetItemCount](#getitemcount)|Извлекает количество элементов в элемента управления представлениями списка.|
|[CListCtrl::GetItemData](#getitemdata)|Извлекает значение, связанное с элементом, связанное с приложением.|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Извлекает прямоугольник для всех или части подпункта в текущем элементе управления представления списка.|
|[CListCtrl::GetItemPosition](#getitemposition)|Извлекает положение элемента представления списка.|
|[CListCtrl::GetItemRect](#getitemrect)|Извлекает прямоугольник для элемента.|
|[CListCtrl:GetItemSpacing](#getitemspacing)|Вычисляет расстояние между элементами в текущем элементе управления представления.|
|[CListCtrl:GetItemState](#getitemstate)|Извлекает состояние элемента представления списка.|
|[CListCtrl::GetItemText](#getitemtext)|Извлекает текст элемента представления списка или подпункта.|
|[CListCtrl::GetNextItem](#getnextitem)|Поиск элемента представления списка с указанными свойствами и с определенным отношением к данному элементу.|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Извлекает индекс элемента в текущем элементе просмотра, который имеет определенный набор свойств.|
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Извлекает индекс позиции элемента представления списка и положение следующего выбранного элемента представления списка для итерации.|
|[Clistctrl:GetNumberOfWorkAreas](#getnumberofworkareas)|Извлекает текущее количество рабочих областей для управления представлениями списка.|
|[CListCtrl:GetOrigin](#getorigin)|Извлекает исход текущего представления для элемента управления представления мисена.|
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Извлекает цвет границы управления представлением списка.|
|[ClistCtrl:GetSelectedColumn](#getselectedcolumn)|Извлекает индекс выбранного в настоящее время столбца в элемент управления список.|
|[CListCtrl:GetSelectedCount](#getselectedcount)|Извлекает количество выбранных элементов в элементе управления представления списка.|
|[CListCtrl::GetSelectionMark](#getselectionmark)|Извлекает отметку выбора элемента управления представления списка.|
|[CListCtrl:GetStringWidth](#getstringwidth)|Определяет минимальную ширину столбца, необходимую для отображения всей данной строки.|
|[CListCtrl:GetSubItemRect](#getsubitemrect)|Извлекает прямоугольник элемента в элементе управления представлениями списка.|
|[CListCtrl::GetTextBkColor](#gettextbkcolor)|Извлекает цвет фона текста элемента управления представления списка.|
|[CListCtrl::GetTextColor](#gettextcolor)|Извлекает цвет текста элемента управления представления списка.|
|[CListCtrl::GetTileInfo](#gettileinfo)|Извлекает информацию о плитке в элемент управления представлениями списка.|
|[CListCtrl::GetTileViewInfo](#gettileviewinfo)|Извлекает информацию о элементе управления представления списка в представлении плитки.|
|[CListCtrl::GetToolTips](#gettooltips)|Извлекает элемент управления инструментария, который используется в управлении представления списка для отображения наконечников инструментов.|
|[CListCtrl:GetTopIndex](#gettopindex)|Извлекает индекс самого просматриваемого элемента.|
|[CListCtrl:GetView](#getview)|Получает представление управления представлением списка.|
|[CListCtrl:GetViewRect](#getviewrect)|Извлекает прямоугольник всех элементов в управлении представления списка.|
|[CListCtrl:GetWorkAreas](#getworkareas)|Извлекает текущие рабочие области управления представлениями списка.|
|[CListCtrl:HasGroup](#hasgroup)|Определяет, имеет ли элемент управления представления списка указанную группу.|
|[CListCtrl::HitTest](#hittest)|Определяет, какой элемент представления списка находится в определенной позиции.|
|[CListCtrl::InsertColumn](#insertcolumn)|Вставляет новую колонку в элемент управления представления мисена.|
|[CListCtrl::InsertGroup](#insertgroup)|Вставляет группу в элемент управления представления списка.|
|[CListCtrl::InsertGroupSorted](#insertgroupsorted)|Вставляет указанную группу в упорядоченный список групп.|
|[CListCtrl::InsertItem](#insertitem)|Вставляет новый элемент в элемент управления представлениями списка.|
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|Извлекает точку вставки ближе к указанной точке.|
|[CListCtrl::IsGroupViewEnabled](#isgroupviewenabled)|Определяет, включено ли представление группы для управления представлениями списка.|
|[CListCtrl::Видимо](#isitemvisible)|Указывает, виден ли указанный элемент в текущем элементе управления представления списка.|
|[Клисткторл:МАПИДТоиндекс](#mapidtoindex)|Отображает уникальный идентификатор элемента в текущем элементе управления просмотром списка к индексу.|
|[CListCtrl::MapIndexToID](#mapindextoid)|Отображает индекс элемента в текущем элементе управления просмотром списка к уникальному идентификатору.|
|[CListCtrl:MoveGroup](#movegroup)|Перемещает указанную группу.|
|[Клисткторл:MoveItemToGroup](#moveitemtogroup)|Перемещает указанную группу в указанный нулевой индекс управления представления списка.|
|[CListCtrl::RedrawItems](#redrawitems)|Принуждает контроль представления списка, чтобы перекрасить ряд элементов.|
|[CListCtrl::RemoveAllGroups](#removeallgroups)|Удаляет все группы из элемента управления представления мисена.|
|[CListCtrl::RemoveGroup](#removegroup)|Удаляет указанную группу из элемента управления представления списка.|
|[CListCtrl::Прокрутка](#scroll)|Прокрутки содержимого элемента управления представлениям списка.|
|[CListCtrl::SetBkColor](#setbkcolor)|Устанавливает фоновый цвет элемента управления представления списка.|
|[CListCtrl:SetBkImage](#setbkimage)|Устанавливает текущее фоновое изображение элемента управления представления списка.|
|[CListCtrl::SetCallbackMask](#setcallbackmask)|Устанавливает маску обратного вызова для управления представлением списка.|
|[CListCtrl::SetCheck](#setcheck)|Устанавливает текущее состояние изображения состояния, связанного с элементом.|
|[CListCtrl::SetColumn](#setcolumn)|Устанавливает атрибуты столбца представления списка.|
|[CListCtrl::SetColumnOrderArray](#setcolumnorderarray)|Устанавливает порядок столбца (слева направо) элемента управления представления списка.|
|[CListCtrl::SetColumnШирин](#setcolumnwidth)|Изменяет ширину столбца в представлении отчета или представлении списка.|
|[CListCtrl::SetExtendedStyle](#setextendedstyle)|Устанавливает текущие расширенные стили управления представлениями списка.|
|[CListCtrl::SetGroupInfo](#setgroupinfo)|Устанавливает информацию для указанной группы управления представлением списка.|
|[CListCtrl:SetGroupMetrics](#setgroupmetrics)|Устанавливает групповые метрики управления представлениями списка.|
|[CListCtrl:SetHotCursor](#sethotcursor)|Устанавливает курсор, используемый при включении горячего отслеживания для управления представлениями списка.|
|[CListCtrl:SetHotItem](#sethotitem)|Устанавливает текущий горячий элемент элемента управления представлениями списка.|
|[CListCtrl::SetHoverTime](#sethovertime)|Устанавливает текущее время наводнения элемента управления представления мгновения.|
|[CListCtrl:SetIconSpacing](#seticonspacing)|Устанавливает расстояние между иконками в элементе управления представлениями списка.|
|[CListCtrl:SetImageList](#setimagelist)|Присваивает список изображений элементу управления представлениями списка.|
|[CListCtrl::SetInfoTip](#setinfotip)|Устанавливает текст набора инструментов.|
|[CListCtrl::SetInsertMark](#setinsertmark)|Устанавливает точку вставки в определенное положение.|
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Устанавливает цвет точки вставки.|
|[CListCtrl:SetItem](#setitem)|Устанавливает некоторые или все атрибуты элемента представления списка.|
|[CListCtrl::SetItemCount](#setitemcount)|Подготовьте элемент управления представления множества для добавления большого количества элементов.|
|[CListCtrl::SetItemCountEx](#setitemcountex)|Устанавливает значение элемента для виртуального управления представлением списка.|
|[CListCtrl::SetItemData](#setitemdata)|Устанавливает значение приложения, конкретное элемента.|
|[CListCtrl::SetItemIndexStateState](#setitemindexstate)|Устанавливает состояние элемента в текущем элементе просмотра списка.|
|[CListCtrl::SetItemPosition](#setitemposition)|Перемещает элемент в заданную позицию в элементе управления представлениями списка.|
|[CListCtrl:SetItemState](#setitemstate)|Изменяет состояние элемента в элементе управления представлениями.|
|[CListCtrl::SetItemText](#setitemtext)|Изменяет текст элемента представления или подпункта списка.|
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Устанавливает цвет границы управления представлением списка.|
|[ClistCtrl:SetSelectedColumn](#setselectedcolumn)|Устанавливает выбранный столбец элемента управления представления списка.|
|[CListCtrl::SetSelectionMark](#setselectionmark)|Устанавливает отметку выбора элемента управления представлениями списка.|
|[CListCtrl::SetTextBkColor](#settextbkcolor)|Устанавливает фоновый цвет текста в элементе управления представлениями списка.|
|[CListCtrl::SetTextColor](#settextcolor)|Устанавливает цвет текста элемента управления представления мисена.|
|[CListCtrl::SetTileInfo](#settileinfo)|Устанавливает информацию для плитки управления представлениями списка.|
|[CListCtrl::SetTileViewInfo](#settileviewinfo)|Устанавливает информацию, которую элемент управления представления списка использует в представлении плитки.|
|[CListCtrl::SetToolTips](#settooltips)|Устанавливает элемент управления набором инструментов, который элемент управления представления списка будет использоваться для отображения наконечников инструментов.|
|[CListCtrl:SetView](#setview)|Устанавливает представление управления представлением списка.|
|[CListCtrl:SetWorkAreas](#setworkareas)|Устанавливает область, где значки могут отображаться в элементе управления представления мисена.|
|[CListCtrl:Сортовые группы](#sortgroups)|Сортирует группы управления представлением списка с функцией, определяемой пользователем.|
|[CListCtrl::SortItems](#sortitems)|Сортирует элементы представления списка с помощью функции сравнения, определяемой приложением.|
|[CListCtrl::SortItemsEx](#sortitemsex)|Сортирует элементы представления списка с помощью функции сравнения, определяемой приложением.|
|[CListCtrl::SubItemHitTest](#subitemhittest)|Определяет, какой элемент представления списка, если таковой имеется, находится в заданной позиции.|
|[CListCtrl:Обновление](#update)|Заставляет элемент перекрашивать указанный элемент.|

## <a name="remarks"></a>Remarks

В дополнение к значку и этикетке, каждый элемент может иметь информацию, отображаемую в столбцах справа от значка и этикетки. Этот элемент управления `CListCtrl` (и, следовательно, класс) доступен только для программ, работающих под Windows 95/98 и Windows NT версии 3.51 и позже.

Ниже приводится краткий обзор `CListCtrl` класса. Для подробного, концептуального обсуждения [Controls](../../mfc/controls-mfc.md)см. [Using CListCtrl](../../mfc/using-clistctrl.md)

## <a name="views"></a>Представления

Элементы управления представлениями списка могут отображать их содержимое четырьмя различными способами, называемыми "взглядами".

- Вид значка

   Каждый элемент отображается как полноразмерный значок (32 х 32 пикселя) с меткой под ним. Пользователь может перетащить элементы в любое место в окне представления списка.

- Малый вид значка

   Каждый элемент отображается как небольшой значок (16 x 16 пикселей) с этикеткой справа от него. Пользователь может перетащить элементы в любое место в окне представления списка.

- Режим списка

   Каждый элемент отображается как маленький значок с этикеткой справа от него. Элементы расположены в столбцах и не могут быть перетащены в любое место в окне представления списка.

- Представление отчетов

   Каждый элемент отображается на своей линии, с дополнительной информацией, расположенной в столбцах справа. Самая левая колонка содержит небольшой значок и метку, а последующие столбцы содержат подэлементы, указанные в приложении. Встроенный элемент управления заголовком (класс [CHeaderCtrl)](../../mfc/reference/cheaderctrl-class.md)реализует эти столбцы. Для получения дополнительной информации о элементе управления заголовком и столбцах в представлении отчета [см.](../../mfc/adding-columns-to-the-control-report-view.md)

Тип текущего представления списка элемента определяет текущее представление. Для получения дополнительной информации об этих стилях и их использовании [см.](../../mfc/changing-list-control-styles.md)

## <a name="extended-styles"></a>Расширенные стили

В дополнение к стандартным `CListCtrl` стилям списка, класс поддерживает большой набор расширенных стилей, обеспечивая обогащенную функциональность. Некоторые примеры этой функциональности включают в себя:

- Выбор hover

   При включении позволяет автоматически подбирать элемент, когда курсор остается над элементом в течение определенного периода времени.

- Представления виртуального списка

   При включении элементы управления поддерживаются до элементов DWORD. Это возможно путем размещения накладных расходов на управление данными элемента в приложении. За исключением информации об выборе элемента и фокусировке, вся информация о товаре должна управляться приложением. Для получения дополнительной информации [см.](../../mfc/virtual-list-controls.md)

- Активация одного и двух щелчков

   При включении позволяет горячее отслеживание (автоматическое выделение текста элемента) и активацию выделения подсвеченных элементов одним-двумя щелчками.

- Запереть и упасть столбец заказа

   При включении позволяет перетаскивать и сбрасывать переупорядочение столбцов в элементе управления представления списка. Доступно только в представлении отчета.

Для получения информации об использовании этих новых расширенных стилей, [см.](../../mfc/changing-list-control-styles.md)

## <a name="items-and-subitems"></a>Элементы и подэлементы

Каждый элемент в элементе управления представлениями списка состоит из значка (из списка изображений), метки, текущего состояния и определенного значения приложения (называемого "данные элемента"). Один или несколько подэлементов также могут быть связаны с каждым элементом. "Субитем" — это строка, которая в представлении отчета может отображаться в столбце справа от значка и метки элемента. Все элементы в элементе управления представлениями списка должны иметь одинаковое количество подэлементов.

Класс `CListCtrl` предоставляет несколько функций для вставки, удаляния, поиска и изменения этих элементов. Для получения дополнительной информации [см. CListCtrl::GetItem](#getitem), [CListCtrl::InsertItem](#insertitem), и [CListCtrl::FindItem](#finditem), [Добавление элементов](../adding-items-to-the-control.md)в управление , и [прокрутка, организация, сортировка и поиск в списке элементов](../scrolling-arranging-sorting-and-finding-in-list-controls.md)управления .

По умолчанию элемент управления представления милитеза список отвечает за хранение значка элемента и атрибутов текста. Однако, в дополнение к `CListCtrl` этим типам элементов, класс поддерживает "элементы обратного вызова". "Обратный элемент" — это элемент представления списка, для которого приложение, а не элемент управления, хранит текст, значок или и то, и другое. Для определения атрибутов элемента (текста и/или значка) приложение использует маску обратного вызова. Если приложение использует элементы обратного вызова, оно должно быть в состоянии предоставить текст и/или атрибуты значка по требованию. Элементы обратного вызова полезны, когда приложение уже поддерживает часть этой информации. Для получения дополнительной информации [см.](../callback-items-and-the-callback-mask.md)

## <a name="image-lists"></a>Списки изображений

Иконки, изображения заголовков элементов и определенные состояния приложений для элементов представления списка содержатся в нескольких списках изображений (реализованных классом [CImageList),](cimagelist-class.md)которые вы создаете и присваивают элементу представления списка. Каждый элемент управления представлениям списка может иметь до четырех различных типов списков изображений:

- Большая иконка

   Используется в представлении значка для полноразмерных иконок.

- Маленький значок

   Используется в небольшом значке, списке и представлениях отчетов для небольших версий иконок, используемых в представлении значка.

- Состояние, определяемое приложением

   Содержит изображения состояния, которые отображаются рядом с значком элемента для обозначения состояния, определяемого приложением.

- Элемент заголовка

   Используется в представлении отчета для небольших изображений, которые отображаются в каждом элементе управления заголовком.

По умолчанию элемент управления представления списка уничтожает списки изображений, назначенные ему при его уничтожении; однако разработчик может настроить это поведение, уничтожив каждый список изображений, когда он больше не используется, как это определено приложением. Для получения дополнительной информации [см.](../list-items-and-image-lists.md)

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Требования

**Заголовок:** afxcmn.h

## <a name="clistctrlapproximateviewrect"></a><a name="approximateviewrect"></a>CListCtrl::ApproximateViewRect

Определяет ширину и высоту, необходимые для отображения элементов управления представления милитеего списка.

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Параметры

*Sz*<br/>
Предлагаемые размеры управления, в пикселях. Если размеры не указаны, в фрейм-системе используются текущие значения ширины или высоты элемента управления.

*iCount*<br/>
Количество элементов, которые будут отображаться в элементе управления. Если этот параметр -1, в фрейм-системе используется общее количество элементов, наданных в настоящее время в элементах управления.

### <a name="return-value"></a>Возвращаемое значение

Объект, `CSize` содержащий приблизительную ширину и высоту, необходимую для отображения элементов в пикселях.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_ApproximateViewRect,](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect)как описано в SDK Windows.

## <a name="clistctrlarrange"></a><a name="arrange"></a>CListCtrl::Устройте

Перемещает элементы в представлении значка таким образом, чтобы они выравнивались по сетке.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Параметры

*nКод*<br/>
Определяет стиль выравнивания для элементов. Может иметь одно из следующих значений.

- LVA_ALIGNLEFT выравнивает элементы вдоль левого края окна.

- LVA_ALIGNTOP выравнивает элементы вдоль верхнего края окна.

- LVA_DEFAULT выравнивает элементы в соответствии с текущими стилями выравнивания представления списка (значение по умолчанию).

- LVA_SNAPTOGRID привязки все значки к ближайшему положению сетки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Параметр *nCode* определяет стиль выравнивания.

### <a name="example"></a>Пример

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="clistctrlcanceleditlabel"></a><a name="canceleditlabel"></a>CListCtrl::CancelEditLabel

Отменяет операцию редактирования текста элемента.

```cpp
void CancelEditLabel();
```

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_CANCELEDITLABEL](/windows/win32/Controls/lvm-canceleditlabel) сообщения, как описано в SDK Windows.

## <a name="clistctrlclistctrl"></a><a name="clistctrl"></a>CListCtrl::CListCtrl

Формирует объект `CListCtrl`.

```
CListCtrl();
```

## <a name="clistctrlcreate"></a><a name="create"></a>CListCtrl::Создание

Создает элемент управления списком и `CListCtrl` прикрепляет его к объекту.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*dwStyle*<br/>
Определяет стиль управления списком. Примените к элементу управления любую комбинацию стилей управления списком. Для полного списка этих стилей можно ознакомиться со [стилями окнов](/windows/win32/Controls/list-view-window-styles) в SDK Windows. Установите расширенные стили, характерные для элемента управления с помощью [SetExtendedStyle.](#setextendedstyle)

*rect*<br/>
Определяет размер и положение элемента управления списка. Это может быть `CRect` либо объект, либо структура [RECT.](/windows/win32/api/windef/ns-windef-rect)

*pParentWnd*<br/>
Уфикуйте родительское окно элемента управления `CDialog`списка, обычно . Она не должна быть NULL.

*nID*<br/>
Угоняется идентификатор элемента управления списка.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Вы строите `CListCtrl` в два этапа. Сначала позвоните в конструктор, `Create`а затем вызов, который создает элемент `CListCtrl` управления представления списка и прикрепляет его к объекту.

Чтобы применить расширенные стили Windows к объекту `Create`управления списком, позвоните [CreateEx](#createex) вместо .

### <a name="example"></a>Пример

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="clistctrlcreateex"></a><a name="createex"></a>CListCtrl:CreateEx

Создает элемент управления (детское окно) и `CListCtrl` связывает его с объектом.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*dwExStyle*<br/>
Определяет расширенный стиль создаваемого элемента управления. Список расширенных стилей Windows можно узнать [в](/windows/win32/api/winuser/nf-winuser-createwindowexw) *SDK* Windows см.

*dwStyle*<br/>
Определяет стиль управления списком. Примените к элементу управления любую комбинацию стилей управления списком. Полный список этих стилей можно узнать в [sDK](/windows/win32/Controls/list-view-window-styles) Windows.

*rect*<br/>
Ссылка на структуру [RECT,](/windows/win32/api/windef/ns-windef-rect) описывающую размер и положение создаваемого окна, в клиентских координатах *pParentWnd*.

*pParentWnd*<br/>
Указатель на окно, которое является родителем элемента управления.

*nID*<br/>
Идентификатор окна ребенка элемента управления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Используйте `CreateEx` вместо [создания](#create) для применения расширенных стилей Windows, указанных в предисловии расширенного стиля Windows **WS_EX_.**

`CreateEx`создает элемент управления с расширенными стилями Windows, указанными *dwExStyle.* Чтобы установить расширенные стили, характерные для элемента управления, позвоните [SetExtendedStyle.](#setextendedstyle) Например, `CreateEx` использовать для установки таких `SetExtendedStyle` стилей, как WS_EX_CONTEXTHELP, но использовать для установки таких стилей, как LVS_EX_FULLROWSELECT. Для получения дополнительной информации смотрите стили, описанные в статье [Расширенный список Просмотр стили](/windows/win32/Controls/extended-list-view-styles) в Windows SDK.

## <a name="clistctrlcreatedragimage"></a><a name="createdragimage"></a>CListCtrl::CreateDragImage

Создает список перетаскивания изображений для элемента, указанного *nItem.*

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, список изображений перетаскивания которого должен быть создан.

*lpPoint*<br/>
Адрес структуры [POINT,](/windows/win32/api/windef/ns-windef-point) которая получает начальное расположение верхнего левого угла изображения, с учетом координат.

### <a name="return-value"></a>Возвращаемое значение

Указатель на список изображений перетаскивания в случае успеха; в противном случае NULL.

### <a name="remarks"></a>Remarks

Объект `CImageList` является постоянным, и вы должны удалить его, когда он закончен. Пример:

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="clistctrldeleteallitems"></a><a name="deleteallitems"></a>CListCtrl::DeleteAllItems

Удаляет все элементы из элемента управления представлениями списка.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="clistctrldeletecolumn"></a><a name="deletecolumn"></a>CListCtrl::DeleteColumn

Удаляет столбец из элемента управления представлениями списка.

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс столбца, который будет удален.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="clistctrldeleteitem"></a><a name="deleteitem"></a>CListCtrl::DeleteItem

Удаляет элемент из элемента управления представлениями списка.

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Уотек индекса элемента, который будет удален.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="clistctrldrawitem"></a><a name="drawitem"></a>CListCtrl::DrawItem

Вызывается инфраструктурой при изменении визуального аспекта управления представлениями списка владельца.draw.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Параметры

*lpDrawItemStruct*<br/>
Длинный указатель на `DRAWITEMSTRUCT` структуру, содержащую информацию о типе требуемого чертежа.

### <a name="remarks"></a>Remarks

Член `itemAction` структуры [DRAWITEMSTRUCT](/windows/win32/api/winuser/ns-winuser-drawitemstruct) определяет действие чертежа, которое должно быть выполнено.

По умолчанию эта функция-член ничего не делает. Переопределить эту функцию элемента для `CListCtrl` реализации чертежа для объекта владельца-рисования.

Приложение должно восстановить все объекты интерфейса графического устройства (GDI), выбранные для контекста дисплея, поставляемые в *lpDrawItemStruct,* прежде чем эта функция участника прекратится.

## <a name="clistctrleditlabel"></a><a name="editlabel"></a>CListCtrl::EditLabel

Начинается редактирование текста элемента на месте.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента представления списка, который должен быть отредактирован.

### <a name="return-value"></a>Возвращаемое значение

В случае успеха указатель `CEdit` на объект, используемый для редактирования текста элемента; в противном случае NULL.

### <a name="remarks"></a>Remarks

Элемент управления представлениями, который имеет стиль LVS_EDITLABELS окна, позволяет пользователю отомещать метки элементов на месте. Пользователь начинает редактирование, нажав на метку элемента, который имеет фокус.

Используйте эту функцию, чтобы начать редактирование текста указанного элемента представления списка.

### <a name="example"></a>Пример

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="clistctrlenablegroupview"></a><a name="enablegroupview"></a>CListCtrl:EnableGroupView

Позволяет или отсутвиряет ли элементы в дисплее управления представлениями списка как группа.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Параметры

*fEnable*<br/>
Указывается, следует ли включить элемент управления представления в список для группирования отображаемых элементов. TRUE для обеспечения группировки; FALSE отключить его.

### <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих значений:

- **0** Возможность отображения элементов представления списка как группа уже включена или отключена.

- **1** Состояние управления было успешно изменено.

- **-1** Операция не удалась.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_ENABLEGROUPVIEW](/windows/win32/Controls/lvm-enablegroupview) сообщения, как описано в SDK Windows.

## <a name="clistctrlensurevisible"></a><a name="ensurevisible"></a>CListCtrl::ОбеспечениеВидимого

Гарантирует, что элемент представления списка хотя бы частично виден.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента представления списка, который должен быть видимым.

*bPartialOK*<br/>
Уточняется, является ли непосоизм начасти видимость приемлемой.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

При необходимости прокручивается элемент управления представления списка. Если параметр *bPartialOK* незеролик, прокрутка не происходит, если элемент частично виден.

### <a name="example"></a>Пример

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="clistctrlfinditem"></a><a name="finditem"></a>CListCtrl:FindItem

Поиск элемента представления списка с определенными характеристиками.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Параметры

*pFindInfo*<br/>
Указатель на структуру [LVFINDINFO,](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow) содержащую информацию о товаре, который необходимо искать.

*nСтарт*<br/>
Индекс элемента, чтобы начать поиск с, или -1, чтобы начать с самого начала. Элемент *nStart* исключается из поиска, если *nStart* не равен -1.

### <a name="return-value"></a>Возвращаемое значение

Индекс элемента в случае успеха или -1 в противном случае.

### <a name="remarks"></a>Remarks

Параметр *pFindInfo* указывает `LVFINDINFO` на структуру, которая содержит информацию, используемую для поиска элемента представления списка.

### <a name="example"></a>Пример

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="clistctrlgetbkcolor"></a><a name="getbkcolor"></a>CListCtrl::GetBkColor

Извлекает фоновый цвет элемента управления представления списка.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-битное значение, используемое для определения цвета RGB.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::SetBkColor](#setbkcolor).

## <a name="clistctrlgetbkimage"></a><a name="getbkimage"></a>CListCtrl:GetBkImage

Извлекает текущее фоновое изображение элемента управления представления списка.

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Параметры

*plvbkImage*<br/>
Указатель на `LVBKIMAGE` структуру, содержащую текущее фоновое изображение представления списка.

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевой, если успешно, или ноль в противном случае.

### <a name="remarks"></a>Remarks

Этот метод реализует поведение макроса Win32, [ListView_GetBkImage,](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage)как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="clistctrlgetcallbackmask"></a><a name="getcallbackmask"></a>CListCtrl::GetCallbackMask

Извлекает маску обратного вызова для управления представлением списка.

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Возвращаемое значение

Маска обратного вызова элемента управления представления списка.

### <a name="remarks"></a>Remarks

"Обратный элемент" — это элемент представления списка, для которого приложение, а не элемент управления, хранит текст, значок или и то, и другое. Хотя элемент управления представления списка может хранить эти атрибуты для вас, вы можете использовать элементы обратного вызова, если ваше приложение уже поддерживает часть этой информации. Маска обратного вызова определяет, какие биты состояния элемента поддерживаются приложением, и она применяется ко всему элементу управления, а не к конкретному элементу. Маска обратного вызова равна нулю по умолчанию, что означает, что элемент управления отслеживает все состояния элемента. Если приложение использует элементы обратного вызова или указывает маску ненулевого обратного вызова, оно должно быть в состоянии поставлять атрибуты элемента представления списка по требованию.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::SetCallbackMask](#setcallbackmask).

## <a name="clistctrlgetcheck"></a><a name="getcheck"></a>CListCtrl::GetCheck

Извлекает текущее состояние изображения состояния, связанное с элементом.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс нулевой основе элемента управления списком.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если элемент выбран, в противном случае 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetCheckState,](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate)как описано в SDK Windows.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::SetCheck](#setcheck).

## <a name="clistctrlgetcolumn"></a><a name="getcolumn"></a>CListCtrl::GetColumn

Извлекает атрибуты столбца элемента управления представления списка.

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс столбца, атрибуты которого должны быть извлечены.

*pColumn*<br/>
Адрес структуры [LVCOLUMN,](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) которая определяет информацию для получения и получает информацию о столбце. Участник `mask` определяет, какие атрибуты столбца для извлечения. Если `mask` участник указывает значение LVCF_TEXT, `pszText` участник должен содержать адрес буфера, который получает `cchTextMax` текст элемента, и член должен указать размер буфера.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Структура `LVCOLUMN` содержит информацию о столбце в представлении отчета.

### <a name="example"></a>Пример

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="clistctrlgetcolumnorderarray"></a><a name="getcolumnorderarray"></a>CListCtrl::GetColumnOrderArray

Извлекает порядок столбца (слева направо) элемента управления представления списка.

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Параметры

*piArray*<br/>
Указатель на буфер, который будет содержать значения индекса столбцов в элементе управления представления списка. Буфер должен быть достаточно большим, чтобы содержать общее количество столбцов в элементе управления представления мисена.

*iCount*<br/>
Количество столбцов в элементе управления представления мисена. Если этот параметр -1, количество столбцов автоматически извлекается фреймворцом.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetColumnOrderArray,](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="clistctrlgetcolumnwidth"></a><a name="getcolumnwidth"></a>CListCtrl:GetColumnШирин

Извлекает ширину столбца в представлении отчета или представлении списка.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Определяется индекс столбца, ширина которого должна быть извлечена.

### <a name="return-value"></a>Возвращаемое значение

Ширина, в пикселях, столбца, указанного *nCol*.

### <a name="example"></a>Пример

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="clistctrlgetcountperpage"></a><a name="getcountperpage"></a>CListCtrl:GetCountPerPage

Вычисляет количество элементов, которые могут поместиться вертикально в видимой области управления представлениям списка, когда в представлении списка или представлении отчета.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество элементов, которые могут поместиться вертикально в видимую область управления представления списка, когда в представлении списка или представлении отчета.

### <a name="example"></a>Пример

Смотрите пример [Для CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlgeteditcontrol"></a><a name="geteditcontrol"></a>CListCtrl:GetEditControl

Извлекает ручку элемента управления редактирования, используемую для редактирования текста элемента представления списка.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Возвращаемое значение

В случае успеха указатель на объект [CEdit,](cedit-class.md) используемый для редактирования текста элемента; в противном случае NULL.

### <a name="example"></a>Пример

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="clistctrlgetemptytext"></a><a name="getemptytext"></a>CListCtrl::GetEmptyText

Извлекает строку для отображения, если текущий элемент управления просмотра списка пуст.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Возвращаемое значение

[CString,](../../atl-mfc-shared/reference/cstringt-class.md) содержащий текст для отображения, если элемент элемента пустой.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETEMPTYTEXT](/windows/win32/Controls/lvm-getemptytext) сообщение, которое описано в SDK Windows.

## <a name="clistctrlgetextendedstyle"></a><a name="getextendedstyle"></a>CListCtrl::GetExtendedStyle

Извлекает текущие расширенные стили управления представлениями списка.

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Возвращаемое значение

Сочетание расширенных стилей, в настоящее время используется диспетчером представления списка. Для описательного списка этих расширенных стилей смотрите статью [расширенного просмотра списков](/windows/win32/Controls/extended-list-view-styles) в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetExtendedListViewStyle,](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle)как описано в SDK Windows.

### <a name="example"></a>Пример

Смотрите пример [Для CListCtrl::SetExtendedStyle](#setextendedstyle).

## <a name="clistctrlgetfirstselecteditemposition"></a><a name="getfirstselecteditemposition"></a>ClistCtrl::GetFirstSelectedItemposition

Получает позицию первого выбранного элемента в элементе управления представления списка.

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение POSITION, которое может быть использовано для итерации или поиска указателя объекта; NULL, если элементы не выбраны.

### <a name="example"></a>Пример

Следующий пример кода демонстрирует использование этой функции.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetfocusedgroup"></a><a name="getfocusedgroup"></a>CListCtrl:GetFocusedGroup

Получает группу, которая имеет фокус клавиатуры в текущем управлении представлением списка.

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс группы, состояние которой LVGS_FOCUSED, если есть такая группа; в противном случае, -1.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETFOCUSEDGROUP](/windows/win32/Controls/lvm-getfocusedgroup) сообщение, которое описано в SDK Windows. Для получения дополнительной информации см LVGS_FOCUSED. `state` [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup)

## <a name="clistctrlgetgroupcount"></a><a name="getgroupcount"></a>CListCtrl:GetGroupCount

Извлекает количество групп в текущем элементе управления представления списка.

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество групп в управлении просмотра списка.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETGROUPCOUNT](/windows/win32/Controls/lvm-getgroupcount) сообщение, которое описано в SDK Windows -->.

## <a name="clistctrlgetgroupinfo"></a><a name="getgroupinfo"></a>CListCtrl::GetGroupInfo

Получает информацию для определенной группы управления представлением списка.

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор группы, информация которой должна быть извлечена.

*pgrp*<br/>
Указатель на [LVGROUP,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) содержащий информацию о указанной группе.

### <a name="return-value"></a>Возвращаемое значение

Возвращает идентификатор группы в случае успеха или -1 в противном случае.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_GETGROUPINFO](/windows/win32/Controls/lvm-getgroupinfo) сообщения, как описано в SDK Windows.

## <a name="clistctrlgetgroupinfobyindex"></a><a name="getgroupinfobyindex"></a>Клисткторл::GetGroupInfoByIndex

Извлекает информацию об определенной группе в текущем элементе управления просмотра списка.

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*iIndex*|(в) Индекс группы с нулевым уровнем.|
|*pGroup*|(ваут) Указатель на структуру [LVGROUP,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) которая получает информацию о группе, указанной парапарам *iIndex.*<br /><br /> Звонящий отвечает за инициализацию членов структуры [LVGROUP.](/windows/win32/api/commctrl/ns-commctrl-lvgroup) Установите `cbSize` член размер структуры, и флаги `mask` члена, чтобы указать информацию для получения.|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETGROUPINFOBYINDEX](/windows/win32/controls/lvm-getgroupinfobyindex) сообщение, которое описано в SDK Windows -->.

### <a name="example"></a>Пример

Следующий пример кода определяет `m_listCtrl`переменную, которая используется для доступа к текущему элементу управления представлениями о списке. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

Следующий пример кода `GetGroupInfoByIndex` демонстрирует метод. В предыдущем разделе этого примера кода мы создали элемент управления представления список, который отображает два столбца под названием "ClientID" и "Grade" в представлении отчета. Следующий пример кода получает информацию о группе, индекс которой 0, если такая группа существует.

```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="clistctrlgetgroupmetrics"></a><a name="getgroupmetrics"></a>CListCtrl:GetGroupMetrics

Извлекает метрики группы.

```cpp
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Параметры

*pGroupMetrics*<br/>
Указатель на [LVGROUPMETRICS,](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) содержащий информацию о групповых метриках.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_GETGROUPMETRICS,](/windows/win32/Controls/lvm-getgroupmetrics) как описано в SDK Windows.

## <a name="clistctrlgetgrouprect"></a><a name="getgrouprect"></a>CListCtrl:GetGroupRect

Извлекает прямоугольник для определенной группы в текущем элементе управления представления списка.

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*iGroupId*|(в) Определяет группу.|
|*lpRect*|(в, вне) Указатель на структуру [RECT.](/windows/win32/api/windef/ns-windef-rect) Если этот метод успешен, структура получает прямоугольные координаты группы, указанные *iGroupId.*|
|*iCoords*|(в) Определяет координаты прямоугольника для извлечения. Используйте одно из этих значений:<br /><br /> - LVGGR_GROUP - (По умолчанию) Координаты всей расширенной группы.<br />- LVGGR_HEADER - Координаты только заголовка (рухнувшей группы).<br />- LVGGR_SUBSETLINK - Координаты только подмножество ссылки (подмножество разметки).|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Звонящее отвечает за выделение структуры [RECT,](/windows/win32/api/windef/ns-windef-rect) на которую указывает параметр *pRect.*

Этот метод отправляет [LVM_GETGROUPRECT](/windows/win32/Controls/lvm-getgrouprect) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Следующий пример кода определяет `m_listCtrl`переменную, которая используется для доступа к текущему элементу управления представлениями о списке. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

Следующий пример кода `GetGroupRect` демонстрирует метод. В предыдущем разделе этого примера кода мы создали элемент управления представления список, который отображает два столбца под названием "ClientID" и "Grade" в представлении отчета. Следующий пример кода рисует 3D прямоугольник вокруг группы, индекс которой раподрано 0, если такая группа существует.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="clistctrlgetgroupstate"></a><a name="getgroupstate"></a>CListCtrl:GetGroupState

Извлекает состояние для определенной группы в текущем элементе управления представления списка.

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*iGroupId*|(в) Индекс группы с нулевым уровнем.|
|*dwMask*|(в) Маска, которая определяет значение состояния для получения для указанной группы. Для получения дополнительной `mask` [информации](/windows/win32/api/commctrl/ns-commctrl-lvgroup) см.|

### <a name="return-value"></a>Возвращаемое значение

Запрошенное состояние для указанной группы или 0, если группа не может быть найдена.

### <a name="remarks"></a>Remarks

Значение возврата является результатом bitwise And операции на параметре *dwMask* и значения `state` члена структуры [LVGROUP,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) представляющего текущий элемент управления представления списка.

Этот метод отправляет [LVM_GETGROUPSTATE](/windows/win32/Controls/lvm-getgroupstate) сообщение, которое описано в SDK Windows. Для получения дополнительной информации см [ListView_GetGroupState.](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate)

## <a name="clistctrlgetheaderctrl"></a><a name="getheaderctrl"></a>CListCtrl:GetHeaderCtrl

Извлекает элемент управления заголовком управления представления списка.

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на элемент управления заголовком, используемый элементом управления представления списка.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetHeader,](/windows/win32/api/commctrl/nf-commctrl-listview_getheader)как описано в SDK Windows.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="clistctrlgethotcursor"></a><a name="gethotcursor"></a>CListCtrl:GetHotCursor

Извлекает курсор, используемый при включении горячего отслеживания для управления представлениями списка.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Возвращаемое значение

Ручка к текущему ресурсу горячего курсора, используемому элементом управления представлениями списка.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetHotCursor,](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor)как описано в SDK Windows. Горячий курсор, видимый только при включении выбора нависания, появляется, когда курсор проходит над любым элементом представления списка. Выбор Hover включен путем установки LVS_EX_TRACKSELECT расширенного стиля.

### <a name="example"></a>Пример

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="clistctrlgethotitem"></a><a name="gethotitem"></a>CListCtrl:GetHotItem

Извлекает элемент представления списка, наданный в настоящее время под курсором.

```
int GetHotItem();
```

### <a name="return-value"></a>Возвращаемое значение

Индекс текущего горячего элемента управления представлениями списка.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetHotItem,](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem)как описано в SDK Windows. Горячий элемент определяется как выбранный в настоящее время элемент при включении горячего отслеживания (и выбора нависания).

Если включено горячее отслеживание, когда пользователь приостанавливает сятву за элементом представления списка, метка элемента автоматически выделяется без использования кнопки мыши.

### <a name="example"></a>Пример

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="clistctrlgethovertime"></a><a name="gethovertime"></a>CListCtrl:GetHoverTime

Извлекает текущее время нависаемого элемента управления представлениям списка.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает задержку в миллисекунды, которые курсор мыши должен парить над элементом, прежде чем он будет выбран. Если значение возврата -1, то время нависав над временем по умолчанию.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetHoverTime,](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="clistctrlgetimagelist"></a><a name="getimagelist"></a>CListCtrl:GetImageList

Извлекает ручку списка изображений, используемого для элементов представления списка чертежей.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Параметры

*nImageList*<br/>
Значение, определяющее список изображений для извлечения. Это может быть одно из следующих значений:

- LVSIL_NORMAL список изображений с большими иконками.

- LVSIL_SMALL список изображений с маленькими иконками.

- LVSIL_STATE список изображений с изображениями состояния.

### <a name="return-value"></a>Возвращаемое значение

Указатель на список изображений, используемый для элементов представления списка чертежей.

### <a name="example"></a>Пример

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="clistctrlgetinsertmark"></a><a name="getinsertmark"></a>CListCtrl:GetInsertMark

Извлекает текущее положение знака вставки.

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Параметры

*plvim*<br/>
Указатель на структуру [LVINSERTMARK,](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) содержащую информацию для знака вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE в случае успеха, или FALSE в противном случае. FALSE возвращается, если `cbSize` размер в `LVINSERTMARK` составе структуры не равен фактическому размеру структуры.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_GETINSERTMARK](/windows/win32/Controls/lvm-getinsertmark) сообщения, как описано в SDK Windows.

## <a name="clistctrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a>CListCtrl::GetInsertMarkColor

Извлекает текущий цвет знака вставки.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает структуру [COLORREF,](/windows/win32/gdi/colorref) содержащую цвет точки вставки.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_GETINSERTMARKCOLOR](/windows/win32/Controls/lvm-getinsertmarkcolor) сообщения, как описано в SDK Windows.

## <a name="clistctrlgetinsertmarkrect"></a><a name="getinsertmarkrect"></a>CListCtrl::GetInsertMarkRect

Извлекает прямоугольник, который связывает точку вставки.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Параметры

*pRect*<br/>
Указатель на `RECT` структуру, содержащую координаты прямоугольника, который связывает точку вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих значений:

- **0** Точка вставки не найдена.

- **1** Найдена точка вставки.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_GETINSERTMARKRECT](/windows/win32/Controls/lvm-getinsertmarkrect) сообщения, как описано в SDK Windows.

## <a name="clistctrlgetitem"></a><a name="getitem"></a>CListCtrl::GetItem

Извлекает некоторые или все атрибуты элемента представления списка.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Параметры

*pItem*<br/>
Указатель на структуру [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) которая получает атрибуты элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Структура `LVITEM` определяет или получает атрибуты элемента представления списка.

## <a name="clistctrlgetitemcount"></a><a name="getitemcount"></a>CListCtrl:GetItemCount

Извлекает количество элементов в элемента управления представлениями списка.

```
int GetItemCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество элементов в элементе управления представлениями списка.

### <a name="example"></a>Пример

Смотрите пример [CListCtrl::DeleteItem](#deleteitem).

## <a name="clistctrlgetitemdata"></a><a name="getitemdata"></a>CListCtrl::GetItemData

Извлекает 32-битное значение, связанное с `nItem`указанным элементом.

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента списка, данные которого должны быть извлечены.

### <a name="return-value"></a>Возвращаемое значение

32-битное значение приложения, связанное с указанным элементом.

### <a name="remarks"></a>Remarks

Это значение `lParam` является членом структуры [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) как описано в Windows SDK

### <a name="example"></a>Пример

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="clistctrlgetitemindexrect"></a><a name="getitemindexrect"></a>CListCtrl::GetItemIndexRect

Извлекает прямоугольник для всех или части подпункта в текущем элементе управления представления списка.

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pItemIndex*|(в) Указатель на структуру [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) для родительского элемента подпункта.<br /><br /> Звонящее отвечает за распределение и настройку членов структуры [LVITEMINDEX.](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) Значение этого параметра не может быть равно NULL.|
|*iColumn*|(в) Нулевой индекс столбца в элементе управления.|
|*rectType*|(в) Часть подпункта просмотра списка, для которого извлекается прямоугольник, ограничивающий. Укажите одно из следующих значений.<br /><br /> LVIR_BOUNDS - Возвращает прямоугольник всего подпункта, включая значок и этикетку.<br /><br /> LVIR_ICON - Возвращает ограничивающий прямоугольник значка или небольшой значок подпункта.<br /><br /> LVIR_LABEL - Возвращает ограничивающий прямоугольник текста подпункта.|
|*pRect*|(ваут) Указатель на структуру [RECT,](/windows/win32/api/windef/ns-windef-rect) которая получает информацию о связующего прямоугольнике подпункта.<br /><br /> Звонящее отвечает за выделение структуры [RECT.](/windows/win32/api/windef/ns-windef-rect) Значение этого параметра не может быть равно NULL.|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETITEMINDEXRECT](/windows/win32/Controls/lvm-getitemindexrect) сообщение, которое описано в SDK Windows. Для получения дополнительной информации, смотрите [ListView_GetItemIndexRect Макро](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Пример

Следующий пример кода определяет `m_listCtrl`переменную, которая используется для доступа к текущему элементу управления представлениями о списке. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

Следующий пример кода `GetGroupRect` демонстрирует метод. Перед вводом в этот пример кода мы создали элемент управления представления о списке, который отображает два столбца под названием "ClientID" и "Grade" в представлении отчета. Следующий пример кода рисует 3D прямоугольник вокруг второго подпункта в обеих столбцах.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="clistctrlgetitemposition"></a><a name="getitemposition"></a>CListCtrl::GetItemPosition

Извлекает положение элемента представления списка.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, положение которого должно быть извлечено.

*lpPoint*<br/>
Адрес структуры [POINT,](/windows/win32/api/windef/ns-windef-point) которая получает положение верхнего левого угла элемента, с учетом координат.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="clistctrlgetitemrect"></a><a name="getitemrect"></a>CListCtrl::GetItemRect

Извлекает прямоугольник для всех или части элемента в текущем представлении.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, положение которого должно быть извлечено.

*lpRect*<br/>
Адрес структуры [RECT,](/windows/win32/api/windef/ns-windef-rect) которая получает связующий прямоугольник.

*nКод*<br/>
Часть элемента представления списка, для которого можно получить прямоугольник. Это может быть одно из следующих значений:

- LVIR_BOUNDS возвращает прямоугольник всего товара, включая значок и этикетку.

- LVIR_ICON возвращает ограничивающий прямоугольник значка или небольшой значок.

- LVIR_LABEL возвращает прямоугольник элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="clistctrlgetitemspacing"></a><a name="getitemspacing"></a>CListCtrl:GetItemSpacing

Вычисляет расстояние между элементами в текущем элементе управления представления.

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*fSmall*|(в) Вид, для которого для получения интервала элемента. Укажите TRUE для небольшого представления значка, или FALSE для представления значка.|
|*pnHorzSpacing*|(ваут) Содержит горизонтальное расстояние между элементами.|
|*pnVertSpacing*|(ваут) Содержит вертикальное расстояние между элементами.|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETITEMSPACING](/windows/win32/Controls/lvm-getitemspacing) сообщение, которое описано в SDK Windows.

## <a name="clistctrlgetitemstate"></a><a name="getitemstate"></a>CListCtrl:GetItemState

Извлекает состояние элемента представления списка.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, состояние которого должно быть извлечено.

*nМаск*<br/>
Маска уточняет, какой из государственных флагов предмета вернуть.

### <a name="return-value"></a>Возвращаемое значение

Флаги состояния для указанного элемента представления списка.

### <a name="remarks"></a>Remarks

Состояние элемента указывается `state` членом структуры [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) как описано в SDK Windows. Когда вы указываете или изменяете `stateMask` состояние элемента, участник определяет, какие биты состояния вы хотите изменить.

### <a name="example"></a>Пример

Смотрите пример [Для CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlgetitemtext"></a><a name="getitemtext"></a>CListCtrl::GetItemText

Извлекает текст элемента представления списка или подпункта.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, текст которого должен быть извлечен.

*nSubItem*<br/>
Осведряй подпункт, текст которого должен быть извлечен.

*lpszText*<br/>
Указатель на строку, которая должна получать текст элемента.

*nЛен*<br/>
Длина буфера, на который указывает *lpszText*.

### <a name="return-value"></a>Возвращаемое значение

Версия, возвращающая **int,** возвращает длину извлеченной строки.

Версия, возвращающая `CString` текст элемента.

### <a name="remarks"></a>Remarks

Если *nSubItem* равен нулю, эта функция получает метку; если *nSubItem* является ненулевым, он получает текст подпункта. Более подробную информацию о аргументе подпункта можно оперет., как [в](/windows/win32/api/commctrl/ns-commctrl-lvitemw) SDK Windows.

## <a name="clistctrlgetnextitem"></a><a name="getnextitem"></a>CListCtrl::GetNextItem

Поиск элемента представления списка, который имеет указанные свойства и который несет указанное отношение к данному элементу.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, чтобы начать поиск с, или -1, чтобы найти первый элемент, который соответствует указанным флагам. Сам указанный элемент исключен из поиска.

*nФлаги*<br/>
Геометрическое отношение запрашиваемого элемента к указанному товару и состояние запрашиваемого элемента. Геометрическое соотношение может быть одним из этих значений:

- LVNI_ABOVE ищет элемент, накоторыйуваемый выше указанного элемента.

- LVNI_ALL поиск последующего элемента по индексу (значение по умолчанию).

- LVNI_BELOW ищет элемент, накоторыйуваемый ниже указанного элемента.

- LVNI_TOLEFT поиск элемента слева от указанного элемента.

- LVNI_TORIGHT ищет товар справа от указанного предмета.

Состояние может быть нулевым, или это может быть одно или несколько из этих значений:

- LVNI_DROPHILITED элемент имеет LVIS_DROPHILITED установленный государственный флаг.

- LVNI_FOCUSED элемент имеет набор LVIS_FOCUSED государственного флага.

- LVNI_SELECTED элемент имеет LVIS_SELECTED установление государственного флага.

Если элемент не имеет всех указанных установленных флагов состояния, поиск продолжается с помощью следующего элемента.

### <a name="return-value"></a>Возвращаемое значение

Индекс следующего элемента в случае успеха, или -1 в противном случае.

## <a name="clistctrlgetnextitemindex"></a><a name="getnextitemindex"></a>CListCtrl::GetNextItemIndex

Извлекает индекс элемента в текущем элементе просмотра, который имеет определенный набор свойств.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pItemIndex*|(в, вне) Указатель на структуру [LVITEMINDEX,](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) описывающий элемент, в котором начинается поиск, или -1 для поиска первого элемента, совпадающий с флагами в параметре *nFlags.*<br /><br /> Если этот метод успешен, `LVITEMINDEX` структура описывает элемент, найденный поиском.|
|*nФлаги*|(в) Битовая комбинация (ИЛИ) флагов, определяющих способ выполнения поиска.<br /><br /> Поиск может зависеть от индекса, состояния или внешнего вида целевого элемента или физического положения целевого элемента относительно элемента, указанного параметром *pItemIndex.* Для получения дополнительной информации см. параметр *флагов* в [сообщении LVM_GETNEXTITEMINDEX.](/windows/win32/controls/lvm-getnextitemindex)|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Абонент отвечает за распределение и установку `LVITEMINDEX` элементов структуры, на которые указывает параметр *pItemIndex.*

Этот метод отправляет [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) сообщение, которое описано в SDK Windows.

## <a name="clistctrlgetnextselecteditem"></a><a name="getnextselecteditem"></a>ClistCtrl::GetNextSelectedItem

Получает индекс элемента списка, идентифицированный *pos,* затем устанавливает *pos* к значению POSITION.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Параметры

*pos*<br/>
Ссылка на значение POSITION, возвращенное предыдущим вызовом `GetNextSelectedItem` или `GetFirstSelectedItemPosition`. Значение обновляется до следующей позиции этим вызовом.

### <a name="return-value"></a>Возвращаемое значение

Индекс элемента списка, идентифицированный *pos*.

### <a name="remarks"></a>Remarks

Вы можете `GetNextSelectedItem` использовать в цикле передних итерации, если `GetFirstSelectedItemPosition`установить исходное положение с вызовом.

Вы должны убедиться, что значение POSITION является действительным. Если она недействительна, то версия Debug библиотеки класса Microsoft Foundation утверждает.

### <a name="example"></a>Пример

Следующий пример кода демонстрирует использование этой функции.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetnumberofworkareas"></a><a name="getnumberofworkareas"></a>Clistctrl:GetNumberOfWorkAreas

Извлекает текущее количество рабочих областей для управления представлениями списка.

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Возвращаемое значение

Не используется в настоящее время.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetNumberOfWorkAreas,](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="clistctrlgetoutlinecolor"></a><a name="getoutlinecolor"></a>CListCtrl::GetOutlineColor

Извлекает цвет границы управления представлением списка.

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает структуру [COLORREF,](/windows/win32/gdi/colorref) содержащую цвет контура.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_GETOUTLINECOLOR,](/windows/win32/Controls/lvm-getoutlinecolor) как описано в SDK Windows.

## <a name="clistctrlgetorigin"></a><a name="getorigin"></a>CListCtrl:GetOrigin

Извлекает исход текущего представления для элемента управления представления мисена.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Параметры

*lpPoint*<br/>
Адрес структуры [POINT,](/windows/win32/api/windef/ns-windef-point) которая получает происхождение представления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0. Однако, если элемент управления находится в представлении отчета, значение возврата всегда равно нулю.

## <a name="clistctrlgetselectedcolumn"></a><a name="getselectedcolumn"></a>ClistCtrl:GetSelectedColumn

Извлекает индекс выбранного в настоящее время столбца в элемент управления список.

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс выбранного столбца.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_GETSELECTEDCOLUMN,](/windows/win32/Controls/lvm-getselectedcolumn) как описано в SDK Windows.

## <a name="clistctrlgetselectedcount"></a><a name="getselectedcount"></a>CListCtrl:GetSelectedCount

Извлекает количество выбранных элементов в элементе управления представления списка.

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество выбранных элементов в элементе представления списка.

### <a name="example"></a>Пример

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="clistctrlgetselectionmark"></a><a name="getselectionmark"></a>CListCtrl::GetSelectionMark

Извлекает отметку выбора элемента управления представления списка.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Возвращаемое значение

Нулевой знак выбора, или -1, если нет знака выбора.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetSelectionMark,](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="clistctrlgetstringwidth"></a><a name="getstringwidth"></a>CListCtrl:GetStringWidth

Определяет минимальную ширину столбца, необходимую для отображения всей данной строки.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Параметры

*lpsz*<br/>
Адрес строки с нулевым завершением, ширина которой должна быть определена.

### <a name="return-value"></a>Возвращаемое значение

Ширина, в пикселях, строки, на которую указывает *lpsz.*

### <a name="remarks"></a>Remarks

Возвращаемые ширины учитывают текущий шрифт и поля столбца, но не ширину небольшого значка.

### <a name="example"></a>Пример

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="clistctrlgetsubitemrect"></a><a name="getsubitemrect"></a>CListCtrl:GetSubItemRect

Извлекает прямоугольник элемента в элементе управления представлениями списка.

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Параметры

*iItem*<br/>
Индекс родительского элемента подпункта.

*iSubItem*<br/>
Однооснованный индекс подпункта.

*nArea*<br/>
Определяет часть прямоугольника (подпункта представления списка), которая должна быть извлечена. Часть (значок, метка или оба) прямоугольника ограниченного указывается путем применения bitwise или оператора к одному или нескольких из следующих значений:

- LVIR_BOUNDS возвращает прямоугольник всего товара, включая значок и этикетку.

- LVIR_ICON возвращает ограничивающий прямоугольник значка или небольшой значок.

- LVIR_LABEL возвращает прямоугольник всего товара, включая значок и этикетку. Это идентично LVIR_BOUNDS.

*ref*<br/>
Ссылка на объект [CRect,](../../atl-mfc-shared/reference/crect-class.md) содержащий координаты связующего прямоугольника подпункта.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetSubItemRect,](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect)как описано в SDK Windows.

## <a name="clistctrlgettextbkcolor"></a><a name="gettextbkcolor"></a>CListCtrl::GetTextBkColor

Извлекает цвет фона текста элемента управления представления списка.

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-битное значение, используемое для определения цвета RGB.

### <a name="example"></a>Пример

Смотрите пример [CListCtrl::SetTextBkColor](#settextbkcolor).

## <a name="clistctrlgettextcolor"></a><a name="gettextcolor"></a>CListCtrl::GetTextColor

Извлекает цвет текста элемента управления представления списка.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-битное значение, используемое для определения цвета RGB.

### <a name="example"></a>Пример

Смотрите пример [Для CListCtrl::SetTextColor](#settextcolor).

## <a name="clistctrlgettileinfo"></a><a name="gettileinfo"></a>CListCtrl::GetTileInfo

Извлекает информацию о плитке в элемент управления представлениями списка.

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>Параметры

*plvti*<br/>
Указатель на структуру [LVTILEINFO,](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) которая получает информацию о плитке.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата не используется.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_GETTILEINFO](/windows/win32/Controls/lvm-gettileinfo) сообщения, как описано в SDK Windows.

## <a name="clistctrlgettileviewinfo"></a><a name="gettileviewinfo"></a>CListCtrl::GetTileViewInfo

Извлекает информацию о элементе управления представления списка в представлении плитки.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Параметры

*ptvi*<br/>
Указатель на структуру [LVTILEVIEWINFO,](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) которая получает полученную информацию.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата не используется.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_GETTILEVIEWINFO](/windows/win32/Controls/lvm-gettileviewinfo) сообщения, как описано в SDK Windows.

## <a name="clistctrlgettooltips"></a><a name="gettooltips"></a>CListCtrl::GetToolTips

Извлекает элемент управления инструментария, который используется в управлении представления списка для отображения наконечников инструментов.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CToolTipCtrl,](ctooltipctrl-class.md) который будет использоваться элементом управления списком. Если функция члена [Create](#create) использует LVS_NOTOOLTIPS стиля, не используются наборы инструментов, и NULL возвращается.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [LVM_GETTOOLTIPS,](/windows/win32/Controls/lvm-gettooltips)как описано в SDK Windows. Реализация MFC `GetToolTips` возвращает `CToolTipCtrl` объект, который используется контролем списка, а не ручку для управления набором инструментов.

### <a name="example"></a>Пример

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="clistctrlgettopindex"></a><a name="gettopindex"></a>CListCtrl:GetTopIndex

Извлекает индекс наиболее видимого элемента, когда в представлении списка или представлении отчета.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс наиболее видимого элемента.

### <a name="example"></a>Пример

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="clistctrlgetview"></a><a name="getview"></a>CListCtrl:GetView

Получает представление управления представлением списка.

```
DWORD GetView() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущее представление элемента управления представления списка.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_GETVIEW,](/windows/win32/Controls/lvm-getview) как описано в SDK Windows.

## <a name="clistctrlgetviewrect"></a><a name="getviewrect"></a>CListCtrl:GetViewRect

Извлекает прямоугольник всех элементов в управлении представления списка.

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Адрес структуры [RECT.](/windows/win32/api/windef/ns-windef-rect)

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Представление списка должно быть в представлении значка или небольшом представлении значка.

## <a name="clistctrlgetworkareas"></a><a name="getworkareas"></a>CListCtrl:GetWorkAreas

Извлекает текущие рабочие области управления представлениями списка.

```cpp
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Параметры

*nWorkAreas*<br/>
Количество `RECT` структур, содержащихся в массиве *pRect.*

*pRect*<br/>
Указатель на массив `RECT` структур (или объектов [CRect),](../../atl-mfc-shared/reference/crect-class.md) которые получают рабочие области управления представлениями списка. Значения в этих структурах находятся в координатах клиента.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetWorkAreas,](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas)как описано в SDK Windows.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas).

## <a name="clistctrlhasgroup"></a><a name="hasgroup"></a>CListCtrl:HasGroup

Определяет, имеет ли элемент управления представления списка указанную группу.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор запрашиваемых групп.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE на успех, FALSE на неудачу.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_HASGROUP](/windows/win32/Controls/lvm-hasgroup) сообщения, как описано в SDK Windows.

## <a name="clistctrlhittest"></a><a name="hittest"></a>CListCtrl::HitTest

Определяет, какой элемент представления списка, если таковой имеется, находится в определенном положении.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Параметры

*pHitTestInfo*<br/>
Адрес `LVHITTESTINFO` структуры, содержащей положение для попадания теста и получаюа информацию о результатах хит-теста.

*пт*<br/>
Проверяемая точка.

*pФлаги*<br/>
Указатель на штат, который получает информацию о результатах теста. Смотрите объяснение `flags` члена структуры [LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Индекс товара в позиции, указанной *pHitTestInfo*, если таковые имеется, или -1 в противном случае.

### <a name="remarks"></a>Remarks

Можно использовать LVHT_ABOVE, LVHT_BELOW, LVHT_TOLEFT и LVHT_TORIGHT значения `flag` члена структуры, чтобы определить, следует ли прокручивать содержимое элемента представления списка. Два из этих флагов могут быть объединены, например, если позиция выше и слева от клиентской области.

Можно проверить LVHT_ONITEM значение `flag` члена структуры, чтобы определить, является ли заданная позиция над элементом представления списка. Это значение является битомпой или операцией на LVHT_ONITEMICON, LVHT_ONITEMLABEL и `flag` LVHT_ONITEMSTATEICON значениях члена структуры.

### <a name="example"></a>Пример

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="clistctrlinsertcolumn"></a><a name="insertcolumn"></a>CListCtrl::InsertColumn

Вставляет новую колонку в элемент управления представления мисена.

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс нового столбца.

*pColumn*<br/>
Адрес `LVCOLUMN` структуры, содержащей атрибуты новой колонки.

*lpszКолямляемки*<br/>
Адрес строки, содержащей заголовок столбца.

*nФормат*<br/>
Integer с указанием выравнивания столбца. Это может быть одно из этих значений: LVCFMT_LEFT, LVCFMT_RIGHT или LVCFMT_CENTER.

*nWidth*<br/>
Ширина столбца, в пикселях. Если этот параметр -1, ширина столбца не установлена.

*nSubItem*<br/>
Индекс подпункта, связанного с столбецом. Если этот параметр -1, ни один подпункт не связан с столбцом.

### <a name="return-value"></a>Возвращаемое значение

Индекс нового столбца в случае успеха или -1 в противном случае.

### <a name="remarks"></a>Remarks

Самая левая колонка в элементе управления представлениями списка должна быть выровнена слева.

Структура [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) содержит атрибуты столбца в представлении отчета. Он также используется для получения информации о столбце. Эта структура описана в Windows SDK.

## <a name="clistctrlinsertgroup"></a><a name="insertgroup"></a>CListCtrl::InsertGroup

Вставляет группу в элемент управления представления списка.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Параметры

*Индекс*<br/>
Индекс элемента, в который должна быть вставлена группа.

*pgrp*<br/>
Указатель на структуру [LVGROUP,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) содержащую группу, которая будет добавлена.

### <a name="return-value"></a>Возвращаемое значение

Возвращает индекс элемента, к которому была добавлена группа, или -1, если операция не удалась.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_INSERTGROUP,](/windows/win32/Controls/lvm-insertgroup) как описано в SDK Windows.

## <a name="clistctrlinsertgroupsorted"></a><a name="insertgroupsorted"></a>CListCtrl::InsertGroupSorted

Вставляет указанную группу в упорядоченный список групп.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Параметры

*pStructInsert*<br/>
Указатель на структуру [LVINSERTGROUPSORTED,](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted) которая содержит группу для вставки.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата не используется.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_INSERTGROUPSORTED,](/windows/win32/Controls/lvm-insertgroupsorted) как описано в SDK Windows.

## <a name="clistctrlinsertitem"></a><a name="insertitem"></a>CListCtrl::InsertItem

Вставляет элемент в элемент управления представлениями списка.

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*pItem*<br/>
Указатель на структуру [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) которая определяет атрибуты элемента, как описано в SDK Windows.

*nItem*<br/>
Индекс элемента, который будет вставлен.

*lpszItem*<br/>
Адрес строки, содержащей метку элемента, или LPSTR_TEXTCALLBACK, если товар является пунктом обратного вызова. Для получения информации о пунктах обратного вызова, [см. CListCtrl::GetCallbackMask](#getcallbackmask).

*nИзображение*<br/>
Индекс изображения элемента или I_IMAGECALLBACK, если элемент является пунктом обратного вызова. Для получения информации о пунктах обратного вызова, [см. CListCtrl::GetCallbackMask](#getcallbackmask).

*nМаск*<br/>
Параметр *nMask* определяет, какие атрибуты элемента пройдены в качестве действительных параметров. Это может быть одно или несколько значений маски, описанных в [структуре LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) в Windows SDK. Действительные значения могут быть объединены с оператором bitwise OR.

*nState*<br/>
Отозначает состояние элемента, изображение состояния и изображение наложения. Для получения дополнительной информации смотрите темы Windows SDK [LVITEM Structure](/windows/win32/api/commctrl/ns-commctrl-lvitemw) и [Положения элементов списка для просмотра](/windows/win32/Controls/list-view-item-states) для получения списка действительных флагов.

*nStateMask*<br/>
Указывается, какие биты члена состояния будут извлечены или изменены. Для получения дополнительной информации [см.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

*lParam*<br/>
32-битное значение, связанное с элементом. Если этот параметр указан, необходимо установить атрибут *nMask* LVIF_PARAM.

### <a name="return-value"></a>Возвращаемое значение

Индекс новинки в случае успеха или -1 в противном случае.

### <a name="remarks"></a>Remarks

Вызов этого метода может привести к отправке LVM_INSERTITEM сообщения в окно управления. Связанный обработчик сообщений для элемента может не установить текст элемента при определенных условиях (например, с использованием оконных стилей, таких как LVS_OWNERDRAW). Более подробную информацию об этих условиях можно [LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem) в SDK Windows.

### <a name="example"></a>Пример

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="clistctrlinsertmarkhittest"></a><a name="insertmarkhittest"></a>CListCtrl::InsertMarkHitTest

Извлекает точку вставки ближе к указанной точке.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Параметры

*pPoint*<br/>
Указатель на структуру [POINT,](/windows/win32/api/windef/ns-windef-point) содержащую координаты теста хита, относительно области клиента управления список.

*plvim*<br/>
Указатель на структуру [LVINSERTMARK,](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) которая определяет точку вставки, наиболее близкую к координатам, определяемым параметром точки.

### <a name="return-value"></a>Возвращаемое значение

Точка вставки ближе к указанной точке.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_INSERTMARKHITTEST](/windows/win32/Controls/lvm-insertmarkhittest) сообщения, как описано в SDK Windows.

## <a name="clistctrlisgroupviewenabled"></a><a name="isgroupviewenabled"></a>CListCtrl::IsGroupViewEnabled

Определяет, включено ли представление группы для управления представлениями списка.

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE, если представление группы включено, или FALSE в противном случае.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_ISGROUPVIEWENABLED](/windows/win32/Controls/lvm-isgroupviewenabled) сообщения, как описано в SDK Windows.

## <a name="clistctrlisitemvisible"></a><a name="isitemvisible"></a>CListCtrl::Видимо

Указывает, виден ли указанный элемент в текущем элементе управления представления списка.

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Индекс*|(в) Индекс элемента на нулевой основе в текущем элементе просмотра списка.|

### <a name="return-value"></a>Возвращаемое значение

TRUE, если указанный элемент виден; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_ISITEMVISIBLE](/windows/win32/Controls/lvm-isitemvisible) сообщение, которое описано в SDK Windows.

## <a name="clistctrlmapidtoindex"></a><a name="mapidtoindex"></a>Клисткторл:МАПИДТоиндекс

Отображает уникальный идентификатор элемента в текущем элементе управления просмотром списка к индексу.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*идентификатор*|(в) Уникальный идентификатор элемента.|

### <a name="return-value"></a>Возвращаемое значение

Текущий индекс для указанного идентификатора.

### <a name="remarks"></a>Remarks

Управление просмотра списка внутренне отслеживает элементы по индексу. Это может представлять проблемы, поскольку индексы могут меняться в течение срока службы элемента управления. Контроль просмотра списка может пометить элемент с идентификатором при создании элемента, и вы можете использовать этот идентификатор, чтобы гарантировать уникальность в течение всего срока действия элемента управления просмотром списка.

Обратите внимание, что в многопоточной среде индекс гарантируется только на потоке, который размещает элемент управления просмотром списка, а не на фоновых потоках.

Этот метод отправляет [LVM_MAPIDTOINDEX](/windows/win32/controls/lvm-mapidtoindex) сообщение, которое описано в SDK Windows.

## <a name="clistctrlmapindextoid"></a><a name="mapindextoid"></a>Клисткторл::MapIndexToID

Отображает индекс элемента в текущем элементе управления просмотром списка к уникальному идентификатору.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Индекс*|(в) Индекс элемента с нулевым уровнем.|

### <a name="return-value"></a>Возвращаемое значение

Уникальный идентификатор для указанного элемента.

### <a name="remarks"></a>Remarks

Управление просмотра списка внутренне отслеживает элементы по индексу. Это может представлять проблемы, поскольку индексы могут меняться в течение срока службы элемента управления. Управление просмотра списка может пометить элемент с идентификатором при создании элемента. Этот идентификатор можно использовать для доступа к определенному элементу в течение всего срока действия элемента просмотра списка.

Обратите внимание, что в многопоточной среде индекс гарантируется только на потоке, который размещает элемент управления просмотром списка, а не на фоновых потоках.

Этот метод отправляет [LVM_MAPINDEXTOID](/windows/win32/Controls/lvm-mapindextoid) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Следующий пример кода определяет `m_listCtrl`переменную, которая используется для доступа к текущему элементу управления представлениями о списке. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

Следующий пример кода `MapIndexToID` демонстрирует метод. В предыдущем разделе этого примера кода мы создали элемент управления представления список, который отображает два столбца под названием "ClientID" и "Grade" в представлении отчета. В следующем примере отображается индекс каждого элемента просмотра списка на идентификационный номер, а затем получается индекс для каждого идентификационного номера. Наконец, в примере сообщается, были ли получены исходные индексы.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="clistctrlmovegroup"></a><a name="movegroup"></a>CListCtrl:MoveGroup

Перемещает указанную группу в указанный нулевой индекс управления представления списка.

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор группы, которая будет перемещена.

*toIndex*<br/>
Индекс с нулевым уровнем, по которому группа должна быть перемещена.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата не используется.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_MOVEGROUP](/windows/win32/Controls/lvm-movegroup) сообщения, как описано в SDK Windows.

## <a name="clistctrlmoveitemtogroup"></a><a name="moveitemtogroup"></a>Клисткторл:MoveItemToGroup

Перемещает указанный элемент в указанную группу.

```cpp
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Параметры

*idItemFrom*<br/>
(в) Индекс перемещения элемента.

*idGroupTo*<br/>
(в) Идентификатор группы, в который будет перемещен элемент.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Этот метод в настоящее время не реализован.

Этот метод имитирует функциональность [LVM_MOVEITEMTOGROUP](/windows/win32/Controls/lvm-moveitemtogroup) сообщения, как описано в SDK Windows.

## <a name="clistctrlredrawitems"></a><a name="redrawitems"></a>CListCtrl::RedrawItems

Принуждает контроль представления списка, чтобы перекрасить ряд элементов.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Параметры

*nПервый*<br/>
Индекс первого элемента, который будет перекрашен.

*nПоследний*<br/>
Индекс последнего элемента, который будет перекрашен.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Указанные элементы фактически не перекрашиваются до тех пор, пока окно представления списка не получит WM_PAINT сообщение. Чтобы перекрасить немедленно, позвоните в функцию Windows [UpdateWindow](/windows/win32/api/winuser/nf-winuser-updatewindow) после использования этой функции.

## <a name="clistctrlremoveallgroups"></a><a name="removeallgroups"></a>CListCtrl::RemoveAllGroups

Удаляет все группы из элемента управления представления мисена.

```cpp
void RemoveAllGroups();
```

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_REMOVEALLGROUPS](/windows/win32/Controls/lvm-removeallgroups) сообщения, как описано в SDK Windows.

## <a name="clistctrlremovegroup"></a><a name="removegroup"></a>CListCtrl::RemoveGroup

Удаляет указанную группу из элемента управления представления списка.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор группы, которая должна быть удалена.

### <a name="return-value"></a>Возвращаемое значение

Возвращает индекс группы в случае успеха, или -1 в противном случае.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_REMOVEGROUP,](/windows/win32/Controls/lvm-removegroup) как описано в SDK Windows.

## <a name="clistctrlscroll"></a><a name="scroll"></a>CListCtrl::Прокрутка

Прокрутки содержимого элемента управления представлениям списка.

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Параметры

*size*<br/>
Объект, `CSize` определяющий количество горизонтальной и вертикальной прокрутки в пикселях. Элемент `y` *размера* делится на высоту, в пикселях, линии управления представления списка, и элемент управления прокручивается результирующее числом строк.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="clistctrlsetbkcolor"></a><a name="setbkcolor"></a>CListCtrl::SetBkColor

Устанавливает фоновый цвет элемента управления представления списка.

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*Cr*<br/>
Цвет фона для установки, или CLR_NONE значение для без цвета фона. Элемент управления представлениями с фоновыми цветами перерисовываются значительно быстрее, чем те, которые не являются цветами фона. Для получения [COLORREF](/windows/win32/gdi/colorref) информации см.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="clistctrlsetbkimage"></a><a name="setbkimage"></a>CListCtrl:SetBkImage

Устанавливает фоновое изображение элемента управления представления списка.

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Параметры

*plvbkImage*<br/>
Адрес `LVBKIMAGE` структуры, содержащей новую справочную информацию об изображении.

*hBitmap*<br/>
Ручка к бит-карте.

*pszUrl*<br/>
Строка NULL-прекращается, содержащая URL фонового изображения.

*fTile*<br/>
Nonzero, если изображение должно быть выложено плиткой в фоновом режиме управления представлением списка; в противном случае 0.

*xOffsetПроцент*<br/>
Смещение, в пикселях, левого края изображения, от происхождения управления представлениям списка.

*yOffsetПроцент*<br/>
Смещение, в пикселях, верхнего края изображения, от происхождения управления представлениям списка.

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевой, если успешно, или ноль в противном случае.

### <a name="remarks"></a>Remarks

> [!NOTE]
> Поскольку `CListCtrl::SetBkImage` перед использованием `SetBkImage`библиотекOLE необходимо использовать функциональность OLE COM. Лучше всего парафировать библиотеки COM, когда приложение инициализировано, и неинициализировать библиотеки при завершении приложения. Это автоматически делается в приложениях MFC, которые используют технологию ActiveX, OL Automation, OLE Linking/Embedding или операции ODBC/DAO.

### <a name="example"></a>Пример

Смотрите пример [CListCtrl::GetBkImage](#getbkimage).

## <a name="clistctrlsetcallbackmask"></a><a name="setcallbackmask"></a>CListCtrl::SetCallbackMask

Устанавливает маску обратного вызова для управления представлением списка.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Параметры

*nМаск*<br/>
Новая стоимость маски обратного вызова.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="clistctrlsetcheck"></a><a name="setcheck"></a>CListCtrl::SetCheck

Определяет, отображается ли изображение состояния элемента управления списком.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс нулевой основе элемента управления списком.

*fCheck*<br/>
Определяет, должно ли быть видно изображение состояния элемента или нет. По умолчанию *fCheck* является правдой, и изображение состояния отображается. Если *fCheck* false, он не виден.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если элемент проверен, в противном случае 0.

### <a name="example"></a>Пример

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="clistctrlsetcolumn"></a><a name="setcolumn"></a>CListCtrl::SetColumn

Устанавливает атрибуты столбца представления списка.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс столбца, атрибуты которого должны быть установлены.

*pColumn*<br/>
Адрес структуры [LVCOLUMN,](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) содержащей новые атрибуты столбца, как описано в SDK Windows. `mask` Член структуры определяет, какие атрибуты столбца установить. Если `mask` участник указывает LVCF_TEXT значение, `pszText` член структуры является адресом строки с нулевым завершением, а `cchTextMax` член структуры игнорируется.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetColumn](#getcolumn).

## <a name="clistctrlsetcolumnorderarray"></a><a name="setcolumnorderarray"></a>CListCtrl::SetColumnOrderArray

Устанавливает порядок столбца (слева направо) элемента управления представления списка.

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Параметры

*piArray*<br/>
Указатель на буфер, содержащий значения индекса столбцов в элементе управления представления списка (слева направо). Буфер должен быть достаточно большим, чтобы содержать общее количество столбцов в элементе управления представления мисена.

*iCount*<br/>
Количество столбцов в элементе управления представления мисена.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetColumnOrderArray,](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray)как описано в SDK Windows.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="clistctrlsetcolumnwidth"></a><a name="setcolumnwidth"></a>CListCtrl::SetColumnШирин

Изменяет ширину столбца в представлении отчета или представлении списка.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс столбца, для которого должна быть установлена ширина. В представлении списка этот параметр должен быть 0.

*Cx*<br/>
Новое значение ширины столбца. Может быть LVSCW_AUTOSIZE или LVSCW_AUTOSIZE_USEHEADER, как описано в [LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="clistctrlsetextendedstyle"></a><a name="setextendedstyle"></a>CListCtrl::SetExtendedStyle

Устанавливает текущие расширенные стили управления представлениями списка.

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Параметры

*dwNewStyle*<br/>
Сочетание расширенных стилей, которые будут использоваться в управлении представлениями списка. Для описательного списка этих стилей [Extended List View Styles](/windows/win32/Controls/extended-list-view-styles) см.

### <a name="return-value"></a>Возвращаемое значение

Комбинация предыдущих расширенных стилей, используемых элементом управления представлениями списка.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetExtendedListViewStyle,](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="clistctrlsetgroupinfo"></a><a name="setgroupinfo"></a>CListCtrl::SetGroupInfo

Устанавливает информацию, описывающую указанную группу текущего элемента управления представления списка.

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор группы, информация которой установлена.

*pgrp*<br/>
Указатель на структуру [LVGROUP,](/windows/win32/api/commctrl/ns-commctrl-lvgroup) содержащую информацию для настройки. Звонящее отвечает за выделение этой структуры и настройку ее членов.

### <a name="return-value"></a>Возвращаемое значение

Идентификатор группы, если метод успешен; в противном случае, -1.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_SETGROUPINFO](/windows/win32/Controls/lvm-setgroupinfo) сообщение, которое описано в SDK Windows.

## <a name="clistctrlsetgroupmetrics"></a><a name="setgroupmetrics"></a>CListCtrl:SetGroupMetrics

Устанавливает групповые метрики управления представлениями списка.

```cpp
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Параметры

*pGroupMetrics*<br/>
Указатель на структуру [LVGROUPMETRICS,](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) содержащую набор информации о групповых метриках.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_SETGROUPMETRICS,](/windows/win32/Controls/lvm-setgroupmetrics) как описано в SDK Windows.

## <a name="clistctrlsethotcursor"></a><a name="sethotcursor"></a>CListCtrl:SetHotCursor

Устанавливает курсор, используемый при включении горячего отслеживания для управления представлениями списка.

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Параметры

*Хк*<br/>
Ручка ресурса курсора, используемая для представления горячего курсора.

### <a name="return-value"></a>Возвращаемое значение

Ручка к предыдущему ресурсу горячего курсора, используемому элементом представления списка.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetHotCursor,](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor)как описано в SDK Windows.

Горячий курсор, видимый только при включении выбора нависания, появляется при переходе по любому элементу представления списка. Выбор Hover включен путем установки LVS_EX_TRACKSELECT расширенного стиля.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetHotCursor](#gethotcursor).

## <a name="clistctrlsethotitem"></a><a name="sethotitem"></a>CListCtrl:SetHotItem

Устанавливает текущий горячий элемент элемента управления представлениями списка.

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
Нулевой индекс элемента, который будет установлен в качестве горячего элемента.

### <a name="return-value"></a>Возвращаемое значение

Индекс нулевой основе ранее горячего элемента.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetHotItem,](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem)как описано в SDK Windows.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetHotItem](#gethotitem).

## <a name="clistctrlsethovertime"></a><a name="sethovertime"></a>CListCtrl::SetHoverTime

Устанавливает текущее время наводнения элемента управления представления мгновения.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Параметры

*dwHoverTime*<br/>
Новая задержка в миллисекундах, которую курсор мыши должен парить над элементом, прежде чем он будет выбран. Если значение по умолчанию пройдено, время устанавливается на время навистого времени по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Предыдущее время нависать, в миллисекундах.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetHoverTime,](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime)как описано в SDK Windows.

### <a name="example"></a>Пример

Смотрите пример [Для CListCtrl::GetHoverTime](#gethovertime).

## <a name="clistctrlseticonspacing"></a><a name="seticonspacing"></a>CListCtrl:SetIconSpacing

Устанавливает расстояние между иконками в элементе управления представлениями списка.

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Параметры

*Cx*<br/>
Расстояние (в пикселях) между иконками на оси x.

*Cy*<br/>
Расстояние (в пикселях) между иконками на оси y.

*size*<br/>
Объект, `CSize` определяющий расстояние (в пикселях) между иконками на x- и y-axes.

### <a name="return-value"></a>Возвращаемое значение

Объект [CSize,](../../atl-mfc-shared/reference/csize-class.md) содержащий предыдущие значения для интервала иконки.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetIconSpacing,](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="clistctrlsetimagelist"></a><a name="setimagelist"></a>CListCtrl:SetImageList

Присваивает список изображений элементу управления представлениями списка.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Параметры

*pImageList*<br/>
Указатель на список изображений для присвоения.

*nImageListType*<br/>
Тип списка изображений. Это может быть одно из следующих значений:

- LVSIL_NORMAL список изображений с большими иконками.

- LVSIL_SMALL список изображений с маленькими иконками.

- LVSIL_STATE список изображений с изображениями состояния.

### <a name="return-value"></a>Возвращаемое значение

Указатель на предыдущий список изображений.

### <a name="example"></a>Пример

Смотрите пример [Для CListCtrl::GetImageList](#getimagelist).

## <a name="clistctrlsetinfotip"></a><a name="setinfotip"></a>CListCtrl::SetInfoTip

Устанавливает текст набора инструментов.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Параметры

*plvInfoTip*<br/>
Указатель на структуру [LVFSETINFOTIP,](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip) содержащую информацию, подкоторойкую.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE на успех, FALSE на неудачу.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_SETINFOTIP,](/windows/win32/Controls/lvm-setinfotip) как описано в SDK Windows.

## <a name="clistctrlsetinsertmark"></a><a name="setinsertmark"></a>CListCtrl::SetInsertMark

Устанавливает точку вставки в определенное положение.

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>Параметры

*plvim*<br/>
Указатель на структуру [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) с указанием места установки точки вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE в случае успеха, или FALSE в противном случае. FALSE возвращается, если `cbSize` размер в `LVINSERTMARK` элементе структуры не равен фактическому размеру структуры, или когда точка вставки не применяется в текущем представлении.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_SETINSERTMARK,](/windows/win32/Controls/lvm-setinsertmark) как описано в SDK Windows.

## <a name="clistctrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a>CListCtrl::SetInsertMarkColor

Устанавливает цвет точки вставки.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Параметры

*Цвет*<br/>
Структура [COLORREF,](/windows/win32/gdi/colorref) определяющая цвет для установки точки вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает `COLORREF` структуру, содержащую предыдущий цвет.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_SETINSERTMARKCOLOR](/windows/win32/Controls/lvm-setinsertmarkcolor) сообщения, как описано в SDK Windows.

## <a name="clistctrlsetitem"></a><a name="setitem"></a>CListCtrl:SetItem

Устанавливает некоторые или все атрибуты элемента представления списка.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Параметры

*pItem*<br/>
Адрес структуры [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) содержащей новые атрибуты элементов, описанный в SDK Windows. Структура `iItem` и `iSubItem` члены идентифицируют элемент или подпункт, `mask` а член структуры определяет, какие атрибуты установить. Для получения дополнительной `mask` информации о члене, см. **Remarks**

*nItem*<br/>
Индекс элемента, атрибуты которого должны быть установлены.

*nSubItem*<br/>
Индекс подпункта, атрибуты которого должны быть установлены.

*nМаск*<br/>
Определяет, какие атрибуты должны быть установлены (см. Замечания).

*lpszItem*<br/>
Адрес строки с нулевым завершением с указанием метки товара.

*nИзображение*<br/>
Индекс изображения элемента в списке изображений.

*nState*<br/>
Определяет значения для изменений состояний (см. Замечания).

*nStateMask*<br/>
Определяет, какие состояния должны быть изменены (см. Замечания).

*lParam*<br/>
32-битное значение приложения, связанное с элементом.

*nИндит*<br/>
Ширина, в пикселях, отступа. Если *nIndent* меньше, чем установленная системой минимальная ширина, новая ширина устанавливается на системно-определяемый минимум

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

И `iItem` `iSubItem` члены `LVITEM` структуры и параметры *nItem* и *nSubItem* определяют элемент и подпункт, атрибуты которых должны быть установлены.

Член `mask` `LVITEM` структуры и параметр *nMask* определяют, какие атрибуты элемента должны быть установлены:

- LVIF_TEXT `pszText` Член или параметр *lpszItem* является адресом строки с нулевым завершением; `cchTextMax` член игнорируется.

- LVIF_STATE `stateMask` Параметр *nStateMask* определяет, какие состояния элемента `state` изменяются, а параметр участника или *nState* содержит значения для этих состояний.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::HitTest](#hittest).

## <a name="clistctrlsetitemcount"></a><a name="setitemcount"></a>CListCtrl::SetItemCount

Подготовьте элемент управления представления множества для добавления большого количества элементов.

```cpp
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Параметры

*nItems*<br/>
Количество элементов, которые в конечном итоге будет содержать элементы управления.

### <a name="remarks"></a>Remarks

Чтобы установить количество элементов для виртуального управления представлением списка, [см. CListCtrl::SetItemCountEx](#setitemcountex).

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetItemCount,](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemcountex"></a><a name="setitemcountex"></a>CListCtrl::SetItemCountEx

Устанавливает значение элемента для виртуального управления представлением списка.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Параметры

*iCount*<br/>
Количество элементов, которые в конечном итоге будет содержать элементы управления.

*dwFlags*<br/>
Определяет поведение элемента управления представления списка после сброса количества элементов. Это значение может быть сочетанием следующих:

- LVSICF_NOINVALIDATEALL Элемент управления представлениями списка не будет перекраиваться, если в настоящее время не рассматриваются затронутые элементы. Это значение по умолчанию.

- LVSICF_NOSCROLL Элемент представления списка не изменит положение прокрутки при изменении количества элементов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetItemCountEx,](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex)как описано в Windows SDKand, следует вызывать только для виртуальных представлений списка.

### <a name="example"></a>Пример

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemdata"></a><a name="setitemdata"></a>CListCtrl::SetItemData

Устанавливает 32-битное значение, связанное с элементом, указанным *nItem.*

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента списка, данные которого должны быть установлены.

*dwData*<br/>
32-битное значение, связанное с элементом.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Это значение `lParam` является членом структуры [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="clistctrlsetitemindexstate"></a><a name="setitemindexstate"></a>CListCtrl::SetItemIndexStateState

Устанавливает состояние элемента в текущем элементе просмотра списка.

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pItemIndex*|(в) Указатель на структуру [LVITEMINDEX,](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) описывающий элемент. Звонящее отвечает за выделение этой структуры и настройку ее членов.|
|*dwState*|(в) Состояние для установки элемента, которое представляет собой битную комбинацию [элементов представления списка, состояния](/windows/win32/Controls/list-view-item-states). Укажите ноль для сбросить или одно для установки состояния.|
|*dwMask*|(в) Маска действительных битов состояния, указанных параметром *dwState.* Укажите битную комбинацию (OR) [состояния элемента представления списка.](/windows/win32/Controls/list-view-item-states)|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Для получения дополнительной информации о [List View Item States](/windows/win32/Controls/list-view-item-states)параметре *dwState* см.

Подробнее о параметре *dwMask* читайте в г. *Государственной* маски, члена структуры [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

Этот метод отправляет [LVM_SETITEMINDEXSTATE](/windows/win32/Controls/lvm-setitemindexstate) сообщение, которое описано в SDK Windows.

## <a name="clistctrlsetitemposition"></a><a name="setitemposition"></a>CListCtrl::SetItemPosition

Перемещает элемент в заданную позицию в элементе управления представлениями списка.

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, положение которого должно быть установлено.

*пт*<br/>
Структура [POINT,](/windows/win32/api/windef/ns-windef-point) определяющая новое положение, с учетом координат, верхнего левого угла элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Элемент управления должен быть в значке или небольшом представлении значка.

Если элемент представления списка имеет LVS_AUTOARRANGE стиле, представление списка расположено после установки позиции элемента.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetItemPosition](#getitemposition).

## <a name="clistctrlsetitemstate"></a><a name="setitemstate"></a>CListCtrl:SetItemState

Изменяет состояние элемента в элементе управления представлениями.

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, состояние которого должно быть установлено.

*pItem*<br/>
Адрес структуры [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) как описано в Windows SDK. `stateMask` Член структуры определяет, какие части состояния изменить, а `state` член структуры содержит новые значения для этих битов. Остальные участники игнорируются.

*nState*<br/>
Новые значения для государственных битов. Список возможных значений можно узнать в [CListCtrl::GetNextItem](#getnextitem) и участнике состояния [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

*nМаск*<br/>
Маска, уточняющая, какие части состояния изменить. Это значение соответствует государствуМаску, члену структуры [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

"Состояние элемента" — это значение, которое определяет доступность элемента, указывает действия пользователя или иным образом отражает состояние элемента. Элемент управления представления списка изменяет некоторые биты состояния, например, когда пользователь выбирает элемент. Приложение может изменить другие части состояния, чтобы отключить или скрыть элемент, или указать изображение наложения или изображение состояния.

### <a name="example"></a>Пример

Смотрите пример [Для CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlsetitemtext"></a><a name="setitemtext"></a>CListCtrl::SetItemText

Изменяет текст элемента представления или подпункта списка.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, текст которого должен быть установлен.

*nSubItem*<br/>
Индекс подпункта или ноль для установки метки элемента.

*lpszText*<br/>
Указатель на строку, содержащую новый текст элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Этот метод не предназначен для использования с элементами управления, содержащими LVS_OWNERDATA стиле окна (на самом деле, это вызовет утверждение в сборках Debug). Для получения дополнительной информации об [List-View Controls Overview](/windows/win32/Controls/list-view-controls-overview)этом стиле управления списком см.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::InsertItem](#insertitem).

## <a name="clistctrlsetoutlinecolor"></a><a name="setoutlinecolor"></a>CListCtrl::SetOutlineColor

Устанавливает цвет границы элемента управления по списку, если установлен [LVS_EX_BORDERSELECT](/windows/win32/Controls/list-view-window-styles) расширенный стиль окна.

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Параметры

*Цвет*<br/>
Новая структура [COLORREF,](/windows/win32/gdi/colorref) содержащая цвет контура.

### <a name="return-value"></a>Возвращаемое значение

Предыдущая `COLORREF` структура, содержащая цвет контура

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_SETOUTLINECOLOR,](/windows/win32/Controls/lvm-setoutlinecolor) как описано в SDK Windows.

## <a name="clistctrlsetselectedcolumn"></a><a name="setselectedcolumn"></a>ClistCtrl:SetSelectedColumn

Устанавливает выбранный столбец элемента управления представления списка.

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Параметры

*iCol*<br/>
Индекс выбранной колонки.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата не используется.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_SETSELECTEDCOLUMN](/windows/win32/Controls/lvm-setselectedcolumn) сообщения, как описано в SDK Windows.

## <a name="clistctrlsetselectionmark"></a><a name="setselectionmark"></a>CListCtrl::SetSelectionMark

Устанавливает отметку выбора элемента управления представлениями списка.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
Индекс на нулевой основе первого элемента в множественном выборе.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий знак выбора, или -1, если не было знака выбора.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetSelectionMark,](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark)как описано в SDK Windows.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetSelectionMark](#getselectionmark).

## <a name="clistctrlsettextbkcolor"></a><a name="settextbkcolor"></a>CListCtrl::SetTextBkColor

Устанавливает фоновый цвет текста в элементе управления представлениями списка.

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*Cr*<br/>
COLORREF с указанием нового фонового цвета текста. Для получения [COLORREF](/windows/win32/gdi/colorref) информации см.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="clistctrlsettextcolor"></a><a name="settextcolor"></a>CListCtrl::SetTextColor

Устанавливает цвет текста элемента управления представления мисена.

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*Cr*<br/>
COLORREF с указанием нового цвета текста. Для получения [COLORREF](/windows/win32/gdi/colorref) информации см.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="clistctrlsettileinfo"></a><a name="settileinfo"></a>CListCtrl::SetTileInfo

Устанавливает информацию для плитки управления представлениями списка.

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>Параметры

*pTileInfo*<br/>
Указатель на структуру [LVTILEINFO,](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) содержащую информацию, подкоторойкую.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE на успех, FALSE на неудачу.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_SETTILEINFO](/windows/win32/Controls/lvm-settileinfo) сообщения, как описано в SDK Windows.

## <a name="clistctrlsettileviewinfo"></a><a name="settileviewinfo"></a>CListCtrl::SetTileViewInfo

Устанавливает информацию, которую элемент управления представления списка использует в представлении плитки.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Параметры

*ptvi*<br/>
Указатель на структуру [LVTILEVIEWINFO,](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) содержащую информацию для установки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE на успех, FALSE на неудачу.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [LVM_SETTILEVIEWINFO](/windows/win32/Controls/lvm-settileviewinfo) сообщения, как описано в SDK Windows.

## <a name="clistctrlsettooltips"></a><a name="settooltips"></a>CListCtrl::SetToolTips

Устанавливает элемент управления набором инструментов, который элемент управления представления списка будет использоваться для отображения наконечников инструментов.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Параметры

*pWndTip*<br/>
Указатель на `CToolTipCtrl` объект, который будет использовать элемент управления список.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CToolTipCtrl,](ctooltipctrl-class.md) содержащий инструмент, ранее использоваваемый элементом управления, или NULL, если ранее не использовались готовые инструменты.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [LVM_SETTOOLTIPS,](/windows/win32/Controls/lvm-settooltips)как описано в SDK Windows.

Чтобы не использовать наборы инструментов, укажите LVS_NOTOOLTIPS стиле при создании `CListCtrl` объекта.

## <a name="clistctrlsetview"></a><a name="setview"></a>CListCtrl:SetView

Устанавливает представление управления представлением списка.

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Параметры

*Iview*<br/>
Представление, подавещее.

### <a name="return-value"></a>Возвращаемое значение

Возвращает 1 в случае успеха, или -1 в противном случае. Например, -1 возвращается, если представление недействительно.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_SETVIEW,](/windows/win32/Controls/lvm-setview) как описано в SDK Windows.

## <a name="clistctrlsetworkareas"></a><a name="setworkareas"></a>CListCtrl:SetWorkAreas

Устанавливает область, где значки могут отображаться в элементе управления представления мисена.

```cpp
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Параметры

*nWorkAreas*<br/>
Количество `RECT` структур (или объектов [CRect)](../../atl-mfc-shared/reference/crect-class.md) в массиве указывается на *lpRect*.

*lpRect*<br/>
Адрес массива `RECT` структур (или `CRect` объектов), которые определяют новые рабочие области управления представлениями списка. Эти области должны быть указаны в координатах клиента. Если этот параметр NULL, рабочая зона будет установлена в клиентской области управления.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetWorkAreas,](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="clistctrlsortgroups"></a><a name="sortgroups"></a>CListCtrl:Сортовые группы

Использует функцию сравнения, определяемую приложением, для сортировки групп по идентификатору в элементе управления представлениями списка.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Параметры

*_pfnGroupCompare*<br/>
Указатель на функцию группового сравнения.

*_plv*<br/>
Пустота указателя.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE на успех, FALSE на неудачу.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [сообщения LVM_SORTGROUPS,](/windows/win32/Controls/lvm-sortgroups) как описано в SDK Windows.

## <a name="clistctrlsortitems"></a><a name="sortitems"></a>CListCtrl::SortItems

Сортирует элементы представления с помощью функции сравнения, определяемой приложением.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*pfnСравненио*<br/>
(в) Адрес функции сравнения, определяемой приложением.

Операция сортировки вызывает функцию сравнения каждый раз, когда необходимо определить относительный порядок двух элементов списка. Функция сравнения должна быть либо статичной частью класса, либо автономной функцией, не являйась членом какого-либо класса.

*dwData*<br/>
(в) Значение, определяемое приложением, передается функции сравнения.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если метод успешен; в противном случае FALSE.

### <a name="remarks"></a>Remarks

Этот метод изменяет индекс каждого элемента, чтобы отразить новую последовательность.

Функция сравнения, *pfnCompare*, имеет следующую форму:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

Функция сравнения должна вернуть отрицательное значение, если первый элемент должен предшествовать второму, положительное значение, если первый элемент должен следовать второму, или ноль, если эти два элемента равны.

Параметр *lParam1* представляет собой 32-битное значение, связанное с первым элементом, который сравнивается, а параметр *lParam2* — значение, связанное со вторым элементом. Это значения, указанные в *lParam* в структуре [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) элементов, когда они были вставлены в список. Параметр *lParamSort* такой же, как значение *dwData.*

Этот метод отправляет [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Ниже приводится простая функция сравнения, которая приводит к тому, что элементы сортируются по их значениям *lParam.*

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="clistctrlsortitemsex"></a><a name="sortitemsex"></a>CListCtrl::SortItemsEx

Сортирует элементы текущего управления просмотром списка с помощью функции сравнения, определяемого приложением.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pfnСравненио*|(в) Адрес функции сравнения, определяемой приложением.<br /><br /> Операция сортировки вызывает функцию сравнения каждый раз, когда необходимо определить относительный порядок двух элементов списка. Функция сравнения должна быть либо статичной частью класса, либо автономной функцией, не являйась членом какого-либо класса.|
|*dwData*|(в) Значение, определяемое приложением, передавалось функции сравнения.|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Этот метод изменяет индекс каждого элемента, чтобы отразить новую последовательность.

Функция сравнения, *pfnCompare*, имеет следующую форму:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

Это сообщение, как [LVM_SORTITEMS,](/windows/win32/Controls/lvm-sortitems)за исключением типа информации, передаваемых в функцию сравнения. В [LVM_SORTITEMS,](/windows/win32/Controls/lvm-sortitems) *lParam1* и *lParam2* являются значенияэлементов для сравнения. В [LVM_SORTITEMSEX,](/windows/win32/Controls/lvm-sortitemsex) *lParam1* является текущим индексом первого элемента для сравнения и *lParam2* является текущим индексом второго элемента. Вы можете отправить [LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext) сообщение, чтобы получить дополнительную информацию о элементе.

Функция сравнения должна вернуть отрицательное значение, если первый элемент должен предшествовать второму, положительное значение, если первый элемент должен следовать второму, или ноль, если эти два элемента равны.

> [!NOTE]
> В процессе сортировки содержимое представления списка нестабильно. Если функция обратного вызова отправляет любые сообщения в управление просмотра списка, кроме [LVM_GETITEM,](/windows/win32/Controls/lvm-getitem)результаты непредсказуемы.

Этот метод отправляет [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Следующий пример кода определяет `m_listCtrl`переменную, которая используется для доступа к текущему элементу управления представлениями о списке. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

Следующий пример кода `SortItemEx` демонстрирует метод. В предыдущем разделе этого примера кода мы создали элемент управления представления список, который отображает два столбца под названием "ClientID" и "Grade" в представлении отчета. Следующий пример кода сортирует таблицу, используя значения в столбце "Grade".

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="clistctrlsubitemhittest"></a><a name="subitemhittest"></a>CListCtrl::SubItemHitTest

Определяет, какой элемент представления списка, если таковой имеется, находится в заданной позиции.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Параметры

*pInfo*<br/>
Указатель на структуру [LVHITTESTINFO.](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo)

### <a name="return-value"></a>Возвращаемое значение

Однооснованный индекс элемента, или подпункта, тестируемый (если таковые имеется), или -1 в противном случае.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SubItemHitTest,](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest)как описано в SDK Windows.

### <a name="example"></a>Пример

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="clistctrlupdate"></a><a name="update"></a>CListCtrl:Обновление

Принуждает контроль представления списка перекрасить элемент, указанный *nItem.*

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, который будет обновлен.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция также организует управление представлением списка, если он имеет LVS_AUTOARRANGE стиль.

### <a name="example"></a>Пример

Смотрите пример [для CListCtrl::GetSelectedCount](#getselectedcount).

## <a name="see-also"></a>См. также раздел

[MFC Образец ROWLIST](../../overview/visual-cpp-samples.md)<br/>
[Класс CWnd](cwnd-class.md)<br/>
[Диаграмма иерархии](../hierarchy-chart.md)<br/>
[Класс CImageList](cimagelist-class.md)
