---
title: Класс CListCtrl
ms.date: 11/04/2016
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: 1cdc4bfacee4913d3a38aaa45aadf0a430e547ab
ms.sourcegitcommit: ecf274bcfe3a977c48745aaa243e5e731f1fdc5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2019
ms.locfileid: "66503444"
---
# <a name="clistctrl-class"></a>Класс CListCtrl

Инкапсулирует функциональность элемента управления "список", который отображает коллекцию элементов, где каждый элемент состоит из значка (списка изображений) и метки.

## <a name="syntax"></a>Синтаксис

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|[CListCtrl::CListCtrl](#clistctrl)|Создает объект `CListCtrl`.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CListCtrl::ApproximateViewRect](#approximateviewrect)|Определяет ширину и высоту, необходимые для отображения элементов элемента управления представления списка.|
|[CListCtrl::Arrange](#arrange)|Выравнивает элементы на сетку.|
|[CListCtrl::CancelEditLabel](#canceleditlabel)|Отменяет операцию редактирования текста элемента.|
|[CListCtrl::Create](#create)|Создает элемент управления и прикрепляет его к `CListCtrl` объекта.|
|[CListCtrl::CreateDragImage](#createdragimage)|Создает список изображение перетаскивания для указанного элемента.|
|[CListCtrl::CreateEx](#createex)|Создает элемент управления с указанным расширенные стили Windows и присоединяет его к `CListCtrl` объекта.|
|[CListCtrl::DeleteAllItems](#deleteallitems)|Удаляет все элементы из элемента управления.|
|[CListCtrl::DeleteColumn](#deletecolumn)|Удаляет столбец из элемента управления представления списка.|
|[CListCtrl::DeleteItem](#deleteitem)|Удаляет элемент из элемента управления.|
|[CListCtrl::DrawItem](#drawitem)|Вызывается при изменении visual вида рисуемого владельцем элемента управления.|
|[CListCtrl::EditLabel](#editlabel)|Начинает редактирование на месте текста элемента.|
|[CListCtrl::EnableGroupView](#enablegroupview)|Включает или отключает ли в элементе управления представления списком элементы как группу.|
|[CListCtrl::EnsureVisible](#ensurevisible)|Гарантирует, что элемент является видимым.|
|[CListCtrl::FindItem](#finditem)|Выполняет поиск элемента представления списка, при указании характеристик.|
|[CListCtrl::GetBkColor](#getbkcolor)|Получает цвет фона элемента управления представления списка.|
|[CListCtrl::GetBkImage](#getbkimage)|Извлекает текущее фоновое изображение элемента управления представления списка.|
|[CListCtrl::GetCallbackMask](#getcallbackmask)|Извлекает маска обратного вызова для элемента управления представления списка.|
|[CListCtrl::GetCheck](#getcheck)|Извлекает текущее состояние отображения изображения состояния, связанные с элементом.|
|[CListCtrl::GetColumn](#getcolumn)|Извлекает атрибуты столбца элемента управления.|
|[CListCtrl::GetColumnOrderArray](#getcolumnorderarray)|Получает порядок столбцов (слева направо) элемента управления представления списка.|
|[CListCtrl::GetColumnWidth](#getcolumnwidth)|Получает ширину столбца в представлении отчетов или представлении списка.|
|[CListCtrl::GetCountPerPage](#getcountperpage)|Вычисляет количество элементов, которые могут вместиться по вертикали в элементе управления представления списка.|
|[CListCtrl::GetEditControl](#geteditcontrol)|Извлекает дескриптор элемента управления редактирования, используемый для редактирования текста элемента.|
|[CListCtrl::GetEmptyText](#getemptytext)|Получает строку для отображения, если текущий элемент управления представление списка является пустым.|
|[CListCtrl::GetExtendedStyle](#getextendedstyle)|Извлекает текущий расширенные стили элемента управления представления списка.|
|[CListCtrl::GetFirstSelectedItemPosition](#getfirstselecteditemposition)|Получает положение первый выбранный элемент списка в элементе управления представления списка.|
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Получает группу, имеющий фокус клавиатуры в текущего элемента управления представление списка.|
|[CListCtrl::GetGroupCount](#getgroupcount)|Возвращает число групп в текущего элемента управления представление списка.|
|[CListCtrl::GetGroupInfo](#getgroupinfo)|Возвращает сведения для указанной группы управления представления списком.|
|[CListCtrl::GetGroupInfoByIndex](#getgroupinfobyindex)|Извлекает сведения об указанной группе в текущего элемента управления представление списка.|
|[CListCtrl::GetGroupMetrics](#getgroupmetrics)|Извлекает метрики из группы.|
|[CListCtrl::GetGroupRect](#getgrouprect)|Получает ограничивающий прямоугольник для указанной группы в текущего элемента управления представление списка.|
|[CListCtrl::GetGroupState](#getgroupstate)|Получает состояние для указанной группы в текущего элемента управления представление списка.|
|[CListCtrl::GetHeaderCtrl](#getheaderctrl)|Извлекает элемент управления заголовка элемента управления представления списка.|
|[CListCtrl::GetHotCursor](#gethotcursor)|Получает курсор, используемый, когда включено отслеживание для элемента управления представления списка.|
|[CListCtrl::GetHotItem](#gethotitem)|Извлекает элемент списка в настоящее время под курсором.|
|[CListCtrl::GetHoverTime](#gethovertime)|Извлекает текущее время элементе управления представления списком при наведении курсора мыши.|
|[CListCtrl::GetImageList](#getimagelist)|Возвращает дескриптор списка изображений, используемый для рисования элементы списка.|
|[CListCtrl::GetInsertMark](#getinsertmark)|Извлекает текущее положение знака вставки.|
|[CListCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Получает текущий цвет знака вставки.|
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|Возвращает прямоугольник, ограничивающий курсор.|
|[CListCtrl::GetItem](#getitem)|Извлекает атрибуты для элемента представления списка.|
|[CListCtrl::GetItemCount](#getitemcount)|Получает число элементов в элементе управления представления списка.|
|[CListCtrl::GetItemData](#getitemdata)|Получает значение конкретного приложения, связанные с элементом.|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Получает ограничивающий прямоугольник для полностью или частично подэлемента в текущего элемента управления представление списка.|
|[CListCtrl::GetItemPosition](#getitemposition)|Получает положение элемента представления списка.|
|[CListCtrl::GetItemRect](#getitemrect)|Получает ограничивающий прямоугольник для элемента.|
|[CListCtrl::GetItemSpacing](#getitemspacing)|Вычисляет расстояние между элементами в текущего элемента управления представление списка.|
|[CListCtrl::GetItemState](#getitemstate)|Получает состояние представление элемента списка.|
|[CListCtrl::GetItemText](#getitemtext)|Извлекает текст подэлемента или элемент списка.|
|[CListCtrl::GetNextItem](#getnextitem)|Выполняет поиск элемента представления списка с заданными свойствами и с указанным отношением с данным объектом.|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Извлекает индекс элемента в текущего элемента управления представление списка с указанным набором свойств.|
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Извлекает индекс позиции элемента представления списка и положение Далее выбранный элемент списка для выполнения итерации.|
|[CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas)|Извлекает текущее количество рабочие области для элемента управления представления списка.|
|[CListCtrl::GetOrigin](#getorigin)|Извлекает текущее исходное представление для элемента управления представления списка.|
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Получает цвет границы элемента управления представления списка.|
|[CListCtrl::GetSelectedColumn](#getselectedcolumn)|Получает индекс столбца, выбранного в элементе управления списком.|
|[CListCtrl::GetSelectedCount](#getselectedcount)|Возвращает число выбранных элементов в элементе управления представления списка.|
|[CListCtrl::GetSelectionMark](#getselectionmark)|Возвращает знак выбора элемента управления представления списка.|
|[CListCtrl::GetStringWidth](#getstringwidth)|Определяет минимальную ширину столбца необходимая для отображения всех заданной строки.|
|[CListCtrl::GetSubItemRect](#getsubitemrect)|Получает ограничивающий прямоугольник элемента в элементе управления списком.|
|[CListCtrl::GetTextBkColor](#gettextbkcolor)|Получает цвет фона текста элемента управления представления списка.|
|[CListCtrl::GetTextColor](#gettextcolor)|Возвращает цвет текста элемента управления представления списка.|
|[CListCtrl::GetTileInfo](#gettileinfo)|Извлекает сведения о плитки в элементе управления представления списка.|
|[CListCtrl::GetTileViewInfo](#gettileviewinfo)|Извлекает сведения об элементе управления представления списком мозаичного представления.|
|[CListCtrl::GetToolTips](#gettooltips)|Извлекает элемент управления tooltip, используемого элементом управления представления списка для отображения подсказки.|
|[CListCtrl::GetTopIndex](#gettopindex)|Извлекает индекс верхний видимый элемент.|
|[CListCtrl::GetView](#getview)|Получает представление элемента управления представления списка.|
|[CListCtrl::GetViewRect](#getviewrect)|Получает прямоугольник, ограничивающий всех элементов в элементе управления представления списка.|
|[CListCtrl::GetWorkAreas](#getworkareas)|Извлекает текущий рабочие области элемента управления представления списка.|
|[CListCtrl::HasGroup](#hasgroup)|Определяет, имеет ли элемент представления списка указанной группы.|
|[CListCtrl::HitTest](#hittest)|Определяет, какой список — просмотреть элемент в указанной позиции.|
|[CListCtrl::InsertColumn](#insertcolumn)|Вставка нового столбца в элементе управления представления списка.|
|[CListCtrl::InsertGroup](#insertgroup)|Вставляет группы в элементе управления представления списка.|
|[CListCtrl::InsertGroupSorted](#insertgroupsorted)|Вставляет указанную группу в упорядоченный список групп.|
|[CListCtrl::InsertItem](#insertitem)|Вставляет новый элемент в элементе управления представления списка.|
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|Возвращает точку вставки, ближайшей к заданной точке.|
|[CListCtrl::IsGroupViewEnabled](#isgroupviewenabled)|Определяет, включена ли представление "Группа" для элемента управления представления списка.|
|[CListCtrl::IsItemVisible](#isitemvisible)|Указывает, видима ли указанный элемент в текущий элемент управления представление списка.|
|[CListCtrl::MapIDToIndex](#mapidtoindex)|Сопоставляет уникальный идентификатор элемента в текущий элемент управления списком индекс.|
|[CListCtrl::MapIndexToID](#mapindextoid)|Сопоставляет индекс элемента в элементе управления списком текущий уникальный идентификатор.|
|[CListCtrl::MoveGroup](#movegroup)|Перемещает указанную группу.|
|[CListCtrl::MoveItemToGroup](#moveitemtogroup)|Перемещает указанный группе в указанный отсчитываемый от нуля индекс элемента управления представления списка.|
|[CListCtrl::RedrawItems](#redrawitems)|Заставляет элемент управления списка перерисовку диапазона элементов.|
|[CListCtrl::RemoveAllGroups](#removeallgroups)|Удаляет все группы из элемента управления представления списка.|
|[CListCtrl::RemoveGroup](#removegroup)|Удаляет указанную группу из элемента управления представления списка.|
|[CListCtrl::Scroll](#scroll)|Прокручивает содержимое элемента управления представления списка.|
|[CListCtrl::SetBkColor](#setbkcolor)|Задает цвет фона элемента управления представления списком.|
|[CListCtrl::SetBkImage](#setbkimage)|Задает текущее фоновое изображение элемента управления представления списка.|
|[CListCtrl::SetCallbackMask](#setcallbackmask)|Задает маску обратного вызова для элемента управления представления списка.|
|[CListCtrl::SetCheck](#setcheck)|Наборы текущим состоянием изображения состояния, связанные с элементом.|
|[CListCtrl::SetColumn](#setcolumn)|Задает атрибуты столбца представления списка.|
|[CListCtrl::SetColumnOrderArray](#setcolumnorderarray)|Задает порядок столбцов (слева направо) элемента управления представления списка.|
|[CListCtrl::SetColumnWidth](#setcolumnwidth)|Изменяет ширину столбца в представлении отчетов или представлении списка.|
|[CListCtrl::SetExtendedStyle](#setextendedstyle)|Задает текущий расширенные стили элемента управления представления списка.|
|[CListCtrl::SetGroupInfo](#setgroupinfo)|Задает информацию для указанной группы элемент управления списка.|
|[CListCtrl::SetGroupMetrics](#setgroupmetrics)|Задает метрики групповой элемент управления списка.|
|[CListCtrl::SetHotCursor](#sethotcursor)|Задает курсор, используемый, когда включено отслеживание для элемента управления представления списка.|
|[CListCtrl::SetHotItem](#sethotitem)|Задает текущий элемент "Горячий" элемента управления представления списка.|
|[CListCtrl::SetHoverTime](#sethovertime)|Задает текущее время элементе управления представления списком при наведении курсора мыши.|
|[CListCtrl::SetIconSpacing](#seticonspacing)|Задает интервал между значками в элементе управления представления списка.|
|[CListCtrl::SetImageList](#setimagelist)|Назначает списка изображений элемента управления представления списка.|
|[CListCtrl::SetInfoTip](#setinfotip)|Задает текст всплывающей подсказки.|
|[CListCtrl::SetInsertMark](#setinsertmark)|Задает курсор в определенной позиции.|
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Задает цвет курсора.|
|[CListCtrl::SetItem](#setitem)|Задает некоторые или все представления списка атрибуты элемента.|
|[CListCtrl::SetItemCount](#setitemcount)|Подготавливает элементе представления списка для добавления большое число элементов.|
|[CListCtrl::SetItemCountEx](#setitemcountex)|Задает число элементов для элемента управления представление виртуального списка.|
|[CListCtrl::SetItemData](#setitemdata)|Задает значение элемента конкретного приложения.|
|[CListCtrl::SetItemIndexState](#setitemindexstate)|Задает состояние элемента в текущего элемента управления представление списка.|
|[CListCtrl::SetItemPosition](#setitemposition)|Перемещает элемент в указанную позицию в элементе управления представления списка.|
|[CListCtrl::SetItemState](#setitemstate)|Изменяет состояние элемента в элементе управления списком.|
|[CListCtrl::SetItemText](#setitemtext)|Изменение текста элемента представления списка или подэлемента.|
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Задает цвет границы элемента управления представления списка.|
|[CListCtrl::SetSelectedColumn](#setselectedcolumn)|Задает выбранный столбец элемента управления представления списка.|
|[CListCtrl::SetSelectionMark](#setselectionmark)|Задает метки выделения элемента управления представления списка.|
|[CListCtrl::SetTextBkColor](#settextbkcolor)|Задает цвет фона текста в элементе управления представления списка.|
|[CListCtrl::SetTextColor](#settextcolor)|Задает цвет текста элемента управления представления списка.|
|[CListCtrl::SetTileInfo](#settileinfo)|Задает информацию для плитки элемента управления представления списка.|
|[CListCtrl::SetTileViewInfo](#settileviewinfo)|Задает сведения, которые использует элемент управления списка мозаичного представления.|
|[CListCtrl::SetToolTips](#settooltips)|Задает подсказку, которая управления представления списком будет использоваться для отображения подсказки.|
|[CListCtrl::SetView](#setview)|Задает представление элемента управления представления списка.|
|[CListCtrl::SetWorkAreas](#setworkareas)|Задает область, где могут отображаться значки в элементе управления представления списка.|
|[CListCtrl::SortGroups](#sortgroups)|Сортировка групп списка просмотра элемента управления с определяемой пользователем функции.|
|[CListCtrl::SortItems](#sortitems)|Сортирует элементы списка с помощью функции сравнения, определяемые приложением.|
|[CListCtrl::SortItemsEx](#sortitemsex)|Сортирует элементы списка с помощью функции сравнения, определяемые приложением.|
|[CListCtrl::SubItemHitTest](#subitemhittest)|Определяет какой элемент представления списка, если он имеется в заданной позиции.|
|[CListCtrl::Update](#update)|Заставляет элемент управления для перерисовки указанного элемента.|

## <a name="remarks"></a>Примечания

Помимо значок и метку каждый элемент может иметь сведения отображаются в столбцах справа от значка и метки. Этот элемент управления (и, следовательно `CListCtrl` класс) доступны только для программ, работающих в Windows 95/98 и Windows NT версии 3.51 и более поздних версиях.

Ниже приведен краткий обзор `CListCtrl` класса. Подробные Общие сведения, см. в разделе [использование CListCtrl](../../mfc/using-clistctrl.md) и [элементов управления](../../mfc/controls-mfc.md).

## <a name="views"></a>Представления

Элементы управления представления списка можно отобразить их содержимое в четыре различных способа, «представления».

- Значок представления

   Каждый элемент отображается в виде полноразмерного значка (32 x 32 пикселя) с метку под ним. Пользователь может перетаскивать элементы в любом месте в окне представления списка.

- Мелкими значками

   Каждый элемент отображается в виде небольшого значка (16 x 16 пикселей) с меткой справа от его. Пользователь может перетаскивать элементы в любом месте в окне представления списка.

- представления списков

   Каждый элемент отображается в виде маленького значка с меткой справа от его. Элементы размещаются в столбцах и невозможно перетащить в любое место в окне представления списка.

- Представление отчетов

   Каждый элемент отображается на отдельной строке с дополнительной информацией, в виде столбцов справа. Самый левый столбец содержит небольшой значок и метку, и последующих столбцах располагаются подэлементы, как указано для приложения. Элемент управления заголовка embedded (класс [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) реализует эти столбцы. Дополнительные сведения для управления "Заголовок" и столбцов в представлении отчета см. в разделе [CListCtrl с помощью: Добавление столбцов в элемент управления (представление отчета)](../../mfc/adding-columns-to-the-control-report-view.md).

Стиль отображения списка элемента управления определяет текущее представление. Дополнительные сведения о этих стилей и их использовании см. в разделе [CListCtrl с помощью: Изменение стилей элемента управления списка](../../mfc/changing-list-control-styles.md).

## <a name="extended-styles"></a>Расширенные стили

Помимо стандартного списка стили, класс `CListCtrl` поддерживает большой набор расширенные стили, предоставляя богатый набор функций. Вот несколько примеров этих функциональных возможностей:

- Выбор при наведении курсора мыши

   Если этот параметр включен, позволяет автоматически выбрать элемент, когда курсор находится на элемент в течение определенного периода времени.

- Представлений виртуального списка

   Если этот параметр включен, позволяет элементу управления для поддержки до элементов DWORD. Это можно сделать, поместив расходов на управление элемента данных в приложении. За исключением Выбор элементов и сведения о фокус все сведения об элементе должно осуществляться приложением. Дополнительные сведения см. в разделе [CListCtrl с помощью: Элементы управления виртуального списка](../../mfc/virtual-list-controls.md).

- Быстрая и двух активации

   Если этот параметр включен, позволяет отслеживание (автоматическое выделение текста элемента) и одним или двумя щелчком активация выделенный элемент.

- Перетаскивание порядка столбцов

   Если этот параметр включен, позволяет и перетащите изменение порядка столбцов в элементе управления представления списка. Доступно только в представлении отчета.

Сведения об использовании этих новые расширенные стили, см. в разделе [CListCtrl с помощью: Изменение стилей элемента управления списка](../../mfc/changing-list-control-styles.md).

## <a name="items-and-subitems"></a>Элементами и подэлементами

Каждый элемент в элементе управления списком состоит из значка (списка изображений), метку, текущее состояние и определяемое приложением значение (термин «элемент данных»). Один или несколько дополнительных данных, также можно связать с каждым элементом. «Подэлемент» — это строка, который в представлении отчетов, может быть отображен в столбце справа от элемента значок и метку. Все элементы в элементе управления списком должен иметь одинаковое число подэлементов.

Класс `CListCtrl` предоставляет ряд функций для вставки, удаления, поиск и изменение этих элементов. Дополнительные сведения см. в разделе [CListCtrl::GetItem](#getitem), [CListCtrl::InsertItem](#insertitem), и [CListCtrl::FindItem](#finditem), [Добавление элементов к элементу управления](../adding-items-to-the-control.md), и [прокрутка, расположение, сортировка и поиск в элементах управления списками](../scrolling-arranging-sorting-and-finding-in-list-controls.md).

По умолчанию управления представления списком несет ответственность за хранение атрибуты значок и текст элемента. Тем не менее, в дополнение к эти типы элементов класса `CListCtrl` поддерживает «обратного вызова элементов». Элемент представления списка, для которого является «Элемент обратного вызова» приложение — вместо того, чтобы элемент управления — хранит текст и значок. Маска обратного вызова используется для указания, какие атрибуты элемента (текст и/или значок) предоставляемой приложением. Если приложение использует элементы обратного вызова, необходимо указать атрибуты текста и/или значок по запросу. Элементы обратного вызова полезны в тех случаях, когда приложение уже поддерживает некоторые из этих сведений. Дополнительные сведения см. в разделе [CListCtrl с помощью: Элементы обратного вызова и маска обратного вызова](../callback-items-and-the-callback-mask.md).

## <a name="image-lists"></a>Списки изображений

Значки, изображения элемента заголовка и приложения - определенных состояний для содержатся элементы списка в несколько списков изображений (реализованный классом [CImageList](cimagelist-class.md)), который вы создаете и назначить в элементе управления представления списка. Каждый элемент управления представления списком может иметь до четырех различных типов списков изображений:

- Крупный значок

   Используется в представлении значков для полноразмерное значков.

- Мелкий значок

   Используется в мелкого значка, список и представлений отчетов для уменьшенных версий значков, используемых в представлении значков.

- Определенное приложением состояние

   Содержит изображений состояния, которые отображаются рядом со значком элемента для указания состояния определяемые приложением.

- Элемент заголовка

   Для небольших изображений, которые отображаются в каждом элементе заголовка элемента управления, используемый в представлении отчета.

По умолчанию элемент управления списка уничтожает списков изображений, назначенное ему при уничтожении; Тем не менее это поведение можно настроить разработчик, при удалении каждого списка изображений, когда он больше не используется, как определенные приложением. Дополнительные сведения см. в разделе [CListCtrl с помощью: Элементы списков и списки изображений](../list-items-and-image-lists.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Требования

**Заголовок:** afxcmn.h

## <a name="approximateviewrect"></a>  CListCtrl::ApproximateViewRect

Определяет ширину и высоту, необходимые для отображения элементов элемента управления представления списка.

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1,
-1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Параметры

*sz*<br/>
Предложенный размеры элемента управления, в пикселях. Если размеры не заданы, инфраструктура использует текущие значения ширины или высоты элемента управления.

*iCount*<br/>
Число элементов, отображаемых в элементе управления. Если этот параметр имеет значение -1, платформа использует общее число элементов в данный момент, в элементе управления.

### <a name="return-value"></a>Возвращаемое значение

Объект `CSize` , содержащий приблизительную ширину и высоту, необходимые для отображения элементов, в пикселях.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_ApproximateViewRect](/windows/desktop/api/commctrl/nf-commctrl-listview_approximateviewrect), как описано в пакете Windows SDK.

## <a name="arrange"></a>  CListCtrl::Arrange

Перемещает элементы в представлении значками, таким образом, чтобы они были выровнены по сетке.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Параметры

*nCode*<br/>
Задает стиль выравнивания для элементов. Он может принимать одно из следующих значений:

- LVA_ALIGNLEFT выравнивает элементы в левой части окна.

- Выравнивает LVA_ALIGNTOP элементов вдоль верхнего края окна.

- LVA_DEFAULT выравнивает элементы в соответствии с текущей стили выравнивания представлении списка (значение по умолчанию).

- LVA_SNAPTOGRID привязывает все значки до ближайшего позиции сетки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

*NCode* параметр задает стиль выравнивания.

### <a name="example"></a>Пример

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="canceleditlabel"></a>  CListCtrl::CancelEditLabel

Отменяет операцию редактирования текста элемента.

```
void CancelEditLabel();
```

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_CANCELEDITLABEL](/windows/desktop/Controls/lvm-canceleditlabel) сообщения, как описано в пакете Windows SDK.

## <a name="clistctrl"></a>  CListCtrl::CListCtrl

Создает объект `CListCtrl`.

```
CListCtrl();
```

## <a name="create"></a>  CListCtrl::Create

Создает элемент управления и прикрепляет его к `CListCtrl` объекта.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*dwStyle*<br/>
Задает стиль элемента управления списком. Любое сочетание стилей элемента управления "список" примените к элементу управления. См. в разделе [стили окна представления списка](/windows/desktop/Controls/list-view-window-styles) в пакете Windows SDK для полный список этих стилей. Расширенные стили, определенные для элемента управления с помощью набора [SetExtendedStyle](#setextendedstyle).

*rect*<br/>
Задает размер и положение элемента управления списком. Может быть либо `CRect` объекта или [RECT](/previous-versions/dd162897\(v=vs.85\)) структуры.

*pParentWnd*<br/>
Указывает родительского окна элемента управления списком, обычно `CDialog`. Он не должен иметь значение NULL.

*nID*<br/>
Указывает идентификатор элемента управления списком.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

При создании `CListCtrl` в два этапа. Во-первых, вызовите конструктор, а затем вызвать `Create`, который создает управления представления списком и присоединяет его к `CListCtrl` объекта.

Чтобы применить расширенные стили Windows объект элемента управления списка, вызовите [CreateEx](#createex) вместо `Create`.

### <a name="example"></a>Пример

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="createex"></a>  CListCtrl::CreateEx

Создает элемент управления (дочернего окна) и связывает его с `CListCtrl` объекта.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*dwExStyle*<br/>
Указывает расширенный стиль создаваемого элемента управления. Список расширенных стилей Windows, см. в разделе *dwExStyle* параметр для [CreateWindowEx](/windows/desktop/api/winuser/nf-winuser-createwindowexa) в пакете Windows SDK.

*dwStyle*<br/>
Задает стиль элемента управления списком. Любое сочетание стилей элемента управления "список" примените к элементу управления. Полный список этих стилей, см. в разделе [стили окна представления списка](/windows/desktop/Controls/list-view-window-styles) в пакете Windows SDK.

*rect*<br/>
Ссылку на [RECT](/previous-versions/dd162897\(v=vs.85\)) структура, описывающая размер и положение окна, создаваемых в клиентских координатах *pParentWnd*.

*pParentWnd*<br/>
Указатель на окно, которое является родительским для элемента управления.

*nID*<br/>
Идентификатор элемента управления дочернего окна.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Используйте `CreateEx` вместо [создать](#create) применение расширенных стилей Windows, определяемое префикс расширенного стиля Windows **WS_EX_** .

`CreateEx` Создает элемент управления с помощью расширенных стилей Windows, определяемое *dwExStyle*. Чтобы задать расширенные стили к элементу управления, вызовите [SetExtendedStyle](#setextendedstyle). Например, использовать `CreateEx` такие стили заданы как WS_EX_CONTEXTHELP, но используют `SetExtendedStyle` должны стать LVS_EX_FULLROWSELECT подобные стили. Дополнительные сведения см. в разделе стили, описанную в разделе [расширенных стилей представления списка](/windows/desktop/Controls/extended-list-view-styles) в пакете Windows SDK.

## <a name="createdragimage"></a>  CListCtrl::CreateDragImage

Создает список изображение перетаскивания для элемента, заданного посредством *nItem*.

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, список изображений, перетащите будет создано.

*lpPoint*<br/>
Адрес [ТОЧКИ](/previous-versions/dd162805\(v=vs.85\)) структуру, которая получает начальное расположение верхнего левого угла изображения, в представлении координаты.

### <a name="return-value"></a>Возвращаемое значение

Указатель на список изображений перетаскивания, если выполнение прошло успешно; в противном случае имеет значение NULL.

### <a name="remarks"></a>Примечания

`CImageList` Объект является окончательным, и необходимо удалить его после завершения. Пример:

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="deleteallitems"></a>  CListCtrl::DeleteAllItems

Удаляет все элементы из элемента управления представления списка.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="deletecolumn"></a>  CListCtrl::DeleteColumn

Удаляет столбец из элемента управления представления списка.

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс столбца для удаления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="deleteitem"></a>  CListCtrl::DeleteItem

Удаляет элемент из элемента управления представления списка.

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Указывает индекс удаляемого элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="drawitem"></a>  CListCtrl::DrawItem

Вызывается платформой при изменении внешнего вида Просмотр элемента управления рисуемого владельцем список изменений.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Параметры

*lpDrawItemStruct*<br/>
Длинный указатель на `DRAWITEMSTRUCT` структуру, содержащую сведения о типе документа требуется.

### <a name="remarks"></a>Примечания

`itemAction` Членом [DRAWITEMSTRUCT](/windows/desktop/api/winuser/ns-winuser-tagdrawitemstruct) структура определяет рисования действие, которое должно быть выполнено.

По умолчанию эта функция-член ничего не делает. Переопределите эту функцию-член для реализации рисования для рисуемого владельцем `CListCtrl` объекта.

Приложение следует восстановить всех графических устройств (интерфейс) выбранных объектов контекста отображения, указано в *lpDrawItemStruct* перед этим членом завершении функции.

## <a name="editlabel"></a>  CListCtrl::EditLabel

Начинает редактирование на месте текста элемента.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента представления списка, который необходимо редактировать.

### <a name="return-value"></a>Возвращаемое значение

При успешном выполнении указатель на `CEdit` объект, который используется для редактирования текста элемента; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Элемент управления списка, имеющий стиль окна LVS_EDITLABELS позволяет пользователю изменить метки элемента на месте. Пользователь начинает изменения, щелкнув метку элемента с фокусом.

Эта функция используется, чтобы начать редактирование на месте текста элемента представления списка.

### <a name="example"></a>Пример

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="enablegroupview"></a>  CListCtrl::EnableGroupView

Включает или отключает ли в элементе управления представления списком элементы как группу.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Параметры

*fEnable*<br/>
Указывает, включить элемент управления listview к группе отображаемые элементы. Значение TRUE, чтобы разрешить группировку; Значение FALSE, чтобы отключить его.

### <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих значений:

- **0** возможность отображения списка элементов, как группы уже включен или отключен.

- **1** было успешно изменено состояние элемента управления.

- **Значение -1** произошел сбой операции.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_ENABLEGROUPVIEW](/windows/desktop/Controls/lvm-enablegroupview) сообщения, как описано в пакете Windows SDK.

## <a name="ensurevisible"></a>  CListCtrl::EnsureVisible

Гарантирует, что элемент списка по крайней мере частично видимой.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс должен быть видимым элемент представления списка.

*bPartialOK*<br/>
Указывает, допустимо ли частичной видимости.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

При необходимости может прокручиваться управления представления списком. Если *bPartialOK* параметр имеет ненулевое значение, без прокрутки возникает, если элемент является частично видимым.

### <a name="example"></a>Пример

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="finditem"></a>  CListCtrl::FindItem

Выполняет поиск элемента представления списка, при указании характеристик.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Параметры

*pFindInfo*<br/>
Указатель на [LVFINDINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvfindinfoa) структуру, содержащую сведения об элементе для поиска.

*nвремя запуска*<br/>
Индекс элемента, чтобы начать поиск с или -1, чтобы начать с самого начала. Элемент по *nвремя запуска* исключены из поиска в том случае, если *nвремя запуска* не равно -1.

### <a name="return-value"></a>Возвращаемое значение

Индекс элемента в случае успеха или значение -1, в противном случае.

### <a name="remarks"></a>Примечания

*PFindInfo* указывает параметр `LVFINDINFO` структуру, которая содержит сведения, используемые для поиска для элемента представления списка.

### <a name="example"></a>Пример

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="getbkcolor"></a>  CListCtrl::GetBkColor

Получает цвет фона элемента управления представления списка.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение, используется для указания цвета в формате RGB.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::SetBkColor](#setbkcolor).

## <a name="getbkimage"></a>  CListCtrl::GetBkImage

Извлекает текущее фоновое изображение элемента управления представления списка.

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Параметры

*plvbkImage*<br/>
Указатель на `LVBKIMAGE` структуру, содержащую текущее фоновое изображение представления "list".

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение, если успешно, или нуль, которые в противном случае.

### <a name="remarks"></a>Примечания

Этот метод реализует поведение макроса Win32, [ListView_GetBkImage](/windows/desktop/api/commctrl/nf-commctrl-listview_getbkimage), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("http://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="getcallbackmask"></a>  CListCtrl::GetCallbackMask

Извлекает маска обратного вызова для элемента управления представления списка.

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Возвращаемое значение

Маска обратного вызова элемента управления представления списком.

### <a name="remarks"></a>Примечания

Элемент представления списка, для которого является «Элемент обратного вызова» приложение — вместо того, чтобы элемент управления — хранит текст и значок. Несмотря на то, что элемент управления списка можно хранить эти атрибуты, можно использовать элементы обратного вызова, если приложение уже поддерживает некоторые из этих сведений. Маска обратного вызова указывает, какие биты состояния элемента поддерживаются приложением, и применяется для отображения элемента управления целиком, а не к конкретному элементу. Маска обратного вызова по умолчанию равно нулю, это означает, что элемент управления отслеживает все состояния элемента. Если приложение использует элементы обратного вызова или маска ненулевое значение обратного вызова, необходимо указать атрибуты элемента представления списка по запросу.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::SetCallbackMask](#setcallbackmask).

## <a name="getcheck"></a>  CListCtrl::GetCheck

Извлекает текущее состояние отображения изображения, связанного с элементом.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Отсчитываемый от нуля индекс элемента управления списка.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если элемент выделен, иначе — 0.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetCheckState](/windows/desktop/api/commctrl/nf-commctrl-listview_getcheckstate), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::SetCheck](#setcheck).

## <a name="getcolumn"></a>  CListCtrl::GetColumn

Извлекает атрибуты столбца элемента управления представления списком.

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс столбца, атрибуты которого должны быть получены.

*pColumn*<br/>
Адрес [LVCOLUMN](/windows/desktop/api/commctrl/ns-commctrl-taglvcolumna) структура, которая определяет сведения для извлечения и получает сведения о столбце. `mask` Элемент задает, какой столбец атрибуты для извлечения. Если `mask` элемент задает значение LVCF_TEXT `pszText` член должен содержать адрес буфера, который получает текст элемента и `cchTextMax` члена необходимо указать размер буфера.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

`LVCOLUMN` Структура содержит сведения о столбце в представлении отчета.

### <a name="example"></a>Пример

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="getcolumnorderarray"></a>  CListCtrl::GetColumnOrderArray

Получает порядок столбцов (слева направо) элемента управления представления списка.

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Параметры

*piArray*<br/>
Указатель на буфер, который будет содержать значения индекса столбцов в элементе управления представления списка. Буфер должен быть достаточно большим, чтобы содержать общее число столбцов в элементе управления представления списка.

*iCount*<br/>
Число столбцов в элементе управления представления списка. Если этот параметр имеет значение -1, число столбцов извлекаются автоматически платформой.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetColumnOrderArray](/windows/desktop/api/commctrl/nf-commctrl-listview_getcolumnorderarray), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="getcolumnwidth"></a>  CListCtrl::GetColumnWidth

Получает ширину столбца в представлении отчетов или представлении списка.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Указывает индекс столбца, ширина которого которой требуется извлечь.

### <a name="return-value"></a>Возвращаемое значение

Ширина в пикселях столбца, указанного *nCol*.

### <a name="example"></a>Пример

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="getcountperpage"></a>  CListCtrl::GetCountPerPage

Вычисляет количество элементов, которое может уместиться по вертикали в видимой области элемента управления представления списка в представлении списка или отчетов.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число элементов, которое может уместиться по вертикали в видимой области элемента управления представления списка в представлении списка или отчетов.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetTopIndex](#gettopindex).

## <a name="geteditcontrol"></a>  CListCtrl::GetEditControl

Извлекает дескриптор элемента управления редактирования, используемый для редактирования текста для элемента представления списка.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Возвращаемое значение

При успешном выполнении указатель на [CEdit](cedit-class.md) объект, который используется для редактирования текста элемента; в противном случае — значение NULL.

### <a name="example"></a>Пример

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="getemptytext"></a>  CListCtrl::GetEmptyText

Получает строку для отображения, если текущий элемент управления представление списка является пустым.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) , содержащий текст, отображаемый, если элемент управления является пустым.

### <a name="remarks"></a>Примечания

Этот метод отправляет [LVM_GETEMPTYTEXT](/windows/desktop/Controls/lvm-getemptytext) сообщения, который описан в пакете Windows SDK.

## <a name="getextendedstyle"></a>  CListCtrl::GetExtendedStyle

Извлекает текущий расширенные стили элемента управления представления списка.

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Возвращаемое значение

Сочетание расширенные стили в настоящий момент в списке просмотра элемента управления. Список этих расширенных стилей, см. в разделе [расширенных стилей представления списка](/windows/desktop/Controls/extended-list-view-styles) темы в Windows SDK.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetExtendedListViewStyle](/windows/desktop/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::SetExtendedStyle](#setextendedstyle).

## <a name="getfirstselecteditemposition"></a>  CListCtrl::GetFirstSelectedItemPosition

Получает положение первого выбранного элемента в элементе управления представления списка.

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение ПОЗИЦИИ, который может использоваться для итерации или извлечения указатель объекта; Значение NULL, если элементы не выбраны.

### <a name="example"></a>Пример

В следующем образце кода показано использование этой функции.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getfocusedgroup"></a>  CListCtrl::GetFocusedGroup

Получает группу, имеющий фокус клавиатуры в текущего элемента управления представление списка.

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс группы, состояние которого отличается от LVGS_FOCUSED, если такая группа; в противном случае — значение -1.

### <a name="remarks"></a>Примечания

Этот метод отправляет [LVM_GETFOCUSEDGROUP](/windows/desktop/Controls/lvm-getfocusedgroup) сообщения, который описан в пакете Windows SDK. Дополнительные сведения см. в разделе значение LVGS_FOCUSED `state` членом [LVGROUP](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) структуры.

## <a name="getgroupcount"></a>  CListCtrl::GetGroupCount

Возвращает число групп в текущего элемента управления представление списка.

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Возвращаемое значение

Число групп в элементе управления представления списка.

### <a name="remarks"></a>Примечания

Этот метод отправляет [LVM_GETGROUPCOUNT](/windows/desktop/Controls/lvm-getgroupcount) --> сообщение, который описан в пакете Windows SDK.

## <a name="getgroupinfo"></a>  CListCtrl::GetGroupInfo

Возвращает сведения для указанной группы управления представления списком.

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор группы, сведения о которой требуется получить.

*pgrp*<br/>
Указатель на [LVGROUP](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) содержащий сведения о группе, указанной.

### <a name="return-value"></a>Возвращаемое значение

В противном случае возвращает идентификатор группы, в случае успешного выполнения или значение -1.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETGROUPINFO](/windows/desktop/Controls/lvm-getgroupinfo) сообщения, как описано в пакете Windows SDK.

## <a name="getgroupinfobyindex"></a>  CListCtrl::GetGroupInfoByIndex

Извлекает сведения об указанной группе в текущего элемента управления представление списка.

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*iIndex*|[in] Отсчитываемый от нуля индекс в группе.|
|*pGroup*|[out] Указатель на [LVGROUP](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) структуры, который получает сведения о группе, указанной параметром *iIndex* параметра.<br /><br /> Вызывающий объект отвечает за инициализацию членов [LVGROUP](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) структуры. Задайте `cbSize` член размер структуры и флаги `mask` указал информацию необходимо вернуть.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет [LVM_GETGROUPINFOBYINDEX](/windows/desktop/controls/lvm-getgroupinfobyindex) --> сообщение, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_listCtrl`, который используется для доступа к текущего элемента управления представление списка. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода показано `GetGroupInfoByIndex` метод. В предыдущем разделе этого кода-примеры, мы создали управления представление списка отображает два столбца, под названием «ClientID» и «Grade» в представлении отчета. В следующем примере кода извлекает сведения о группе, индекс которого равно 0, если такая группа существует.
```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="getgroupmetrics"></a>  CListCtrl::GetGroupMetrics

Извлекает метрики из группы.

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Параметры

*pGroupMetrics*<br/>
Указатель на [LVGROUPMETRICS](/windows/desktop/api/commctrl/ns-commctrl-taglvgroupmetrics) содержащий сведения о группе показателей.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETGROUPMETRICS](/windows/desktop/Controls/lvm-getgroupmetrics) сообщения, как описано в пакете Windows SDK.

## <a name="getgrouprect"></a>  CListCtrl::GetGroupRect

Получает ограничивающий прямоугольник для указанной группы в текущего элемента управления представление списка.

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*iGroupId*|[in] Задает группу.|
|*lpRect*|[in, out] Указатель на [RECT](/previous-versions/dd162897\(v=vs.85\)) структуры. Если этот метод выполняется успешно, структуры получает координаты прямоугольника, группы, который задается параметром *iGroupId*.|
|*iCoords*|[in] Задает для извлечения координат прямоугольника. Используйте одно из следующих значений:<br /><br /> -LVGGR_GROUP - координаты (по умолчанию) всего развернутой группы.<br />-LVGGR_HEADER - координаты только заголовок (свернутой группы).<br />-LVGGR_SUBSETLINK - координирует только подмножество ссылки (подмножество разметки).|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Вызывающий объект отвечает за распределение [RECT](/previous-versions/dd162897\(v=vs.85\)) структуры, на которые указывают *pRect* параметра.

Этот метод отправляет [LVM_GETGROUPRECT](/windows/desktop/Controls/lvm-getgrouprect) сообщения, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_listCtrl`, который используется для доступа к текущего элемента управления представление списка. Эта переменная используется в следующем примере.
```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода показано `GetGroupRect` метод. В предыдущем разделе этого примера кода мы создали управления представление списка, в котором отображаются два столбца, под названием «ClientID» и «Grade» в представлении отчета. В следующем примере кода рисует объемный прямоугольник вокруг группы, индекс которого равно 0, если такая группа существует.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="getgroupstate"></a>  CListCtrl::GetGroupState

Получает состояние для указанной группы в текущего элемента управления представление списка.

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*iGroupId*|[in] Отсчитываемый от нуля индекс в группе.|
|*dwMask*|[in] Маска, указывающая значение состояния для извлечения для указанной группы. Дополнительные сведения см. в разделе `mask` членом [LVGROUP](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) структуры.|

### <a name="return-value"></a>Возвращаемое значение

Запрошенное состояние для указанной группы, или 0, если не удается найти группу.

### <a name="remarks"></a>Примечания

Возвращаемое значение является результатом побитовую операцию и на *dwMask* параметр и значение `state` членом [LVGROUP](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) структура, представляющая текущий элемент управления представление списка.

Этот метод отправляет [LVM_GETGROUPSTATE](/windows/desktop/Controls/lvm-getgroupstate) сообщения, который описан в пакете Windows SDK. Дополнительные сведения см. в разделе [ListView_GetGroupState](/windows/desktop/api/commctrl/nf-commctrl-listview_getgroupstate) макрос.

## <a name="getheaderctrl"></a>  CListCtrl::GetHeaderCtrl

Извлекает элемент управления заголовка элемента управления представления списка.

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на элемент управления заголовка, используемые элементом управления представления списка.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetHeader](/windows/desktop/api/commctrl/nf-commctrl-listview_getheader), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="gethotcursor"></a>  CListCtrl::GetHotCursor

Получает курсор, используемый, когда включено отслеживание для элемента управления представления списка.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Возвращаемое значение

Дескриптор текущего курсора с горячей ресурса используется в элементе управления представления списка.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetHotCursor](/windows/desktop/api/commctrl/nf-commctrl-listview_gethotcursor), как описано в пакете Windows SDK. "Горячий" курсор, отображается, только если выбор при наведении курсора мыши включен, появляется при прохождении курсора над любой элемент списка. Выбор при наведении указателя мыши можно включить, задав LVS_EX_TRACKSELECT расширенный стиль.

### <a name="example"></a>Пример

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="gethotitem"></a>  CListCtrl::GetHotItem

Извлекает элемент списка в настоящее время под курсором.

```
int GetHotItem();
```

### <a name="return-value"></a>Возвращаемое значение

Индекс горячего текущий элемент управления представления списком.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetHotItem](/windows/desktop/api/commctrl/nf-commctrl-listview_gethotitem), как описано в пакете Windows SDK. Элемент "Горячий" определены включен выбранный элемент при "Горячий" Отслеживание (при наведении указателя мыши на выбор).

Если включено отслеживание, когда пользователь задерживает на элемент представления списка, метку элемента автоматически выделяется без использования кнопки мыши.

### <a name="example"></a>Пример

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="gethovertime"></a>  CListCtrl::GetHoverTime

Извлекает текущее время элементе управления представления списком при наведении курсора мыши.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает задержку в миллисекундах, в которых курсор мыши необходимо подвести указатель к элементу, прежде чем он выбран. Если возвращаемое значение равно -1, время при наведении указателя мыши, то время при наведении указателя мыши по умолчанию.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetHoverTime](/windows/desktop/api/commctrl/nf-commctrl-listview_gethovertime), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="getimagelist"></a>  CListCtrl::GetImageList

Возвращает дескриптор списка изображений, используемый для рисования элементы списка.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Параметры

*nImageList*<br/>
Значение, указывающее, какой список изображений для извлечения. Он может принимать одно из следующих значений:

- Список изображений LVSIL_NORMAL крупными значками.

- Список LVSIL_SMALL изображений с помощью мелких значков.

- Список изображений LVSIL_STATE с изображениями состояния.

### <a name="return-value"></a>Возвращаемое значение

Указатель на список изображений, используемый для рисования элементы списка.

### <a name="example"></a>Пример

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="getinsertmark"></a>  CListCtrl::GetInsertMark

Извлекает текущее положение знака вставки.

```
BOOL GetInsertMark(LPLVINSERTMARK lvim) const;
```

### <a name="parameters"></a>Параметры

*lvim*<br/>
Указатель на [LVINSERTMARK](/windows/desktop/api/commctrl/ns-commctrl-lvinsertmark) структуру, содержащую сведения для знак вставки.

### <a name="return-value"></a>Возвращаемое значение

В противном случае возвращает значение TRUE, если успешно, или значение FALSE. Возвращается значение FALSE, если размер в `cbSize` членом `LVINSERTMARK` структуры не равно фактический размер структуры.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETINSERTMARK](/windows/desktop/Controls/lvm-getinsertmark) сообщения, как описано в пакете Windows SDK.

## <a name="getinsertmarkcolor"></a>  CListCtrl::GetInsertMarkColor

Получает текущий цвет знака вставки.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает [COLORREF](/windows/desktop/gdi/colorref) структуру, содержащую цвет курсора.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETINSERTMARKCOLOR](/windows/desktop/Controls/lvm-getinsertmarkcolor) сообщения, как описано в пакете Windows SDK.

## <a name="getinsertmarkrect"></a>  CListCtrl::GetInsertMarkRect

Возвращает прямоугольник, ограничивающий курсор.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Параметры

*pRect*<br/>
Указатель на `RECT` структура, содержащая координаты прямоугольника, который ограничивает курсор.

### <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих значений:

- **0** положение курсора не найдено.

- **1** положение курсора найдено.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETINSERTMARKRECT](/windows/desktop/Controls/lvm-getinsertmarkrect) сообщения, как описано в пакете Windows SDK.

## <a name="getitem"></a>  CListCtrl::GetItem

Извлекает все или некоторые из атрибутов для элемента представления списка.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Параметры

*pItem*<br/>
Указатель на [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуру, которая получает атрибуты этого элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

`LVITEM` Структура указывает или получает атрибуты элемента представления списка.

## <a name="getitemcount"></a>  CListCtrl::GetItemCount

Получает число элементов в элементе управления представления списка.

```
int GetItemCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число элементов в элементе управления представления списка.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::DeleteItem](#deleteitem).

## <a name="getitemdata"></a>  CListCtrl::GetItemData

Извлекает 32-разрядное значение конкретного приложения, связанные с элемента, заданного посредством `nItem`.

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента списка, данные которой требуется извлечь.

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение конкретного приложения, связанный с указанным элементом.

### <a name="remarks"></a>Примечания

Это значение равно `lParam` членом [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуры, как описано в пакете SDK для Windows

### <a name="example"></a>Пример

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="getitemindexrect"></a>  CListCtrl::GetItemIndexRect

Получает ограничивающий прямоугольник для полностью или частично подэлемента в текущего элемента управления представление списка.

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pItemIndex*|[in] Указатель на [LVITEMINDEX](/windows/desktop/api/commctrl/ns-commctrl-lvitemindex) структуру для родительского элемента данного подэлемента.<br /><br /> Вызывающий объект отвечает за выделение и определения участников [LVITEMINDEX](/windows/desktop/api/commctrl/ns-commctrl-lvitemindex) структуры. Этот параметр не может иметь значение NULL.|
|*iColumn*|[in] Отсчитываемый от нуля индекс столбца в элементе управления.|
|*rectType*|[in] Часть подэлемента представление списка, для которого извлекается прямоугольник. Укажите одно из следующих значений.<br /><br /> LVIR_BOUNDS - Возвращает прямоугольник, ограничивающий всего вложенного элемента, включая значок и метку.<br /><br /> LVIR_ICON - Возвращает ограничивающий прямоугольник значка или мелкого значка подэлемента.<br /><br /> LVIR_LABEL - Возвращает прямоугольник, ограничивающий текста данного подэлемента.|
|*pRect*|[out] Указатель на [RECT](/previous-versions/dd162897\(v=vs.85\)) структуры, который получает сведения о ограничивающий прямоугольник данного подэлемента.<br /><br /> Вызывающий объект отвечает за распределение [RECT](/previous-versions/dd162897\(v=vs.85\)) структуры. Этот параметр не может иметь значение NULL.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет [LVM_GETITEMINDEXRECT](/windows/desktop/Controls/lvm-getitemindexrect) сообщения, который описан в пакете Windows SDK. Дополнительные сведения см. в разделе [ListView_GetItemIndexRect макрос](/windows/desktop/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_listCtrl`, который используется для доступа к текущего элемента управления представление списка. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода показано `GetGroupRect` метод. Перед выполнением этого кода-примеры, мы создали управления представление списка отображает два столбца, под названием «ClientID» и «Grade» в представлении отчета. В следующем примере кода рисует объемный прямоугольник вокруг второй подэлемента в обоих столбцах.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="getitemposition"></a>  CListCtrl::GetItemPosition

Получает положение элемента представления списка.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, позиция которого требуется получить.

*lpPoint*<br/>
Адрес [ТОЧКИ](/previous-versions/dd162805\(v=vs.85\)) структуру, которая получает положение верхнего левого угла элемента, в представлении координаты.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="getitemrect"></a>  CListCtrl::GetItemRect

Получает ограничивающий прямоугольник для всего или части элемента в текущем представлении.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, позиция которого требуется получить.

*lpRect*<br/>
Адрес [RECT](/previous-versions/dd162897\(v=vs.85\)) структуру, которая получает ограничивающий прямоугольник.

*nCode*<br/>
Часть элемента представления списка, для которого требуется получить ограничивающий прямоугольник. Он может принимать одно из следующих значений:

- LVIR_BOUNDS Возвращает ограничивающий прямоугольник для всего элемента, включая значок и метку.

- LVIR_ICON Возвращает ограничивающий прямоугольник значка или мелкого значка.

- LVIR_LABEL Возвращает ограничивающий прямоугольник для текста элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="getitemspacing"></a>  CListCtrl::GetItemSpacing

Вычисляет расстояние между элементами в текущего элемента управления представление списка.

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*fSmall*|[in] Представление, для которого требуется извлечь интервалы между элементами. Укажите значение TRUE для мелкими значками, или FALSE для представления значок.|
|*pnHorzSpacing*|[out] Содержит горизонтальный интервал между элементами.|
|*pnVertSpacing*|[out] Содержит вертикальный интервал между элементами.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет [LVM_GETITEMSPACING](/windows/desktop/Controls/lvm-getitemspacing) сообщения, который описан в пакете Windows SDK.

## <a name="getitemstate"></a>  CListCtrl::GetItemState

Получает состояние представление элемента списка.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, состояние которого требуется получить.

*nMask*<br/>
Маска, указывающая, какие состояния элемента флаги для возврата.

### <a name="return-value"></a>Возвращаемое значение

Просмотр элемента флаги состояния для указанного списка.

### <a name="remarks"></a>Примечания

Состояние элемента определяется `state` членом [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуры, как описано в пакете Windows SDK. Если указать или изменить состояние элемента, `stateMask` элемент указывает, какие биты состояния, которые вы хотите изменить.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetTopIndex](#gettopindex).

## <a name="getitemtext"></a>  CListCtrl::GetItemText

Извлекает текст подэлемента или элемент списка.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, текст которого требуется получить.

*nSubItem*<br/>
Указывает, текст которой требуется извлечь вложенного элемента.

*lpszText*<br/>
Указатель на строку, который принимает текст элемента.

*nLen*<br/>
Размер буфера, на который указывает *lpszText*.

### <a name="return-value"></a>Возвращаемое значение

Возвращает версию **int** возвращает длину извлеченные строки.

Возвращает версию `CString` возвращает текст элемента.

### <a name="remarks"></a>Примечания

Если *nSubItem* равен нулю, эта функция получает подпись элемента; Если *nSubItem* имеет ненулевое значение, происходит получение текста данного подэлемента. Дополнительные сведения об аргументе подэлемента, см. в статье в обсуждении [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуры в пакете Windows SDK.

## <a name="getnextitem"></a>  CListCtrl::GetNextItem

Выполняет поиск списка Просмотр элемента с указанными свойствами и предпоследнюю указанную связь с данным объектом.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, чтобы начать поиск с или -1, чтобы найти первый элемент, соответствующий заданным флагам. Указанный элемент сам не будет производиться поиск.

*nFlags*<br/>
Геометрическое отношение запрошенного элемента для указанного элемента, а также состояние запрошенного элемента. Геометрическое отношение может принимать одно из следующих значений:

- LVNI_ABOVE выполняет поиск элемента, расположенного выше указанного элемента.

- Поиск LVNI_ALL последующего элемента по индексу (значение по умолчанию).

- LVNI_BELOW выполняет поиск элемента, расположенного под указанным элементом.

- Поиск LVNI_TOLEFT элемента слева от указанного элемента.

- Поиск LVNI_TORIGHT элемента справа от указанного элемента.

Состояние может быть равно нулю, или он может иметь одно или несколько из следующих значений:

- LVNI_DROPHILITED элемент имеет флаг состояния LVIS_DROPHILITED.

- LVNI_FOCUSED элемент имеет флаг состояния LVIS_FOCUSED.

- LVNI_SELECTED элемент имеет флаг состояния LVIS_SELECTED.

Если элемент не все указанное состояние набора флагов, поиск продолжается для следующего элемента.

### <a name="return-value"></a>Возвращаемое значение

Индекс следующего элемента в случае успеха или -1, в противном случае.

## <a name="getnextitemindex"></a>  CListCtrl::GetNextItemIndex

Извлекает индекс элемента в текущего элемента управления представление списка с указанным набором свойств.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pItemIndex*|[in, out] Указатель на [LVITEMINDEX](/windows/desktop/api/commctrl/ns-commctrl-lvitemindex) структуру, которая описывает элемент, в которой начинается поиск, или значение -1, чтобы найти первый элемент, соответствующий флаги в *nFlags* параметра.<br /><br /> При успешном выполнении, этот метод `LVITEMINDEX` структура описывает элемент, найденный в ходе поиска.|
|*nFlags*|[in] Побитовое сочетание (OR) флагов, определяющих, как выполняется поиск.<br /><br /> Поиск может зависеть от индекса, состояние или внешний вид целевой элемент или конечный элемент физическое расположение относительно элемента указано посредством *pItemIndex* параметра. Дополнительные сведения см. в разделе *флаги* параметр в [LVM_GETNEXTITEMINDEX](/windows/desktop/controls/lvm-getnextitemindex) сообщения.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Вызывающий объект отвечает за выделение и определения участников `LVITEMINDEX` структуры, на которые указывают *pItemIndex* параметра.

Этот метод отправляет [LVM_GETNEXTITEMINDEX](/windows/desktop/controls/lvm-getnextitemindex) сообщения, который описан в пакете Windows SDK.

## <a name="getnextselecteditem"></a>  CListCtrl::GetNextSelectedItem

Получает индекс элемента списка, идентифицируемый *pos*, затем задает *pos* значение ПОЗИЦИИ.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Параметры

*торговых терминалов*<br/>
Ссылку на ПОЗИЦИЮ, возвращенное предыдущим вызовом `GetNextSelectedItem` или `GetFirstSelectedItemPosition`. Значение обновляется до следующей позиции этим вызовом.

### <a name="return-value"></a>Возвращаемое значение

Индекс элемента списка, идентифицируемый *pos*.

### <a name="remarks"></a>Примечания

Можно использовать `GetNextSelectedItem` в цикле прямой итерации, если установить начальное положение, с помощью вызова `GetFirstSelectedItemPosition`.

Необходимо убедиться, что значение ПОЗИЦИИ является допустимым. Если он является недопустимым, утверждает отладочную версию библиотеки Microsoft Foundation Class.

### <a name="example"></a>Пример

В следующем образце кода показано использование этой функции.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getnumberofworkareas"></a>  CListCtrl::GetNumberOfWorkAreas

Извлекает текущее количество рабочие области для элемента управления представления списка.

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Возвращаемое значение

Не используется в данный момент.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetNumberOfWorkAreas](/windows/desktop/api/commctrl/nf-commctrl-listview_getnumberofworkareas), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="getoutlinecolor"></a>  CListCtrl::GetOutlineColor

Получает цвет границы элемента управления представления списка.

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает [COLORREF](/windows/desktop/gdi/colorref) структуру, содержащую цвет контура.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETOUTLINECOLOR](/windows/desktop/Controls/lvm-getoutlinecolor) сообщения, как описано в пакете Windows SDK.

## <a name="getorigin"></a>  CListCtrl::GetOrigin

Извлекает текущее исходное представление для элемента управления представления списка.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Параметры

*lpPoint*<br/>
Адрес [ТОЧКИ](/previous-versions/dd162805\(v=vs.85\)) структуру, которая получает представление источника.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0. Тем не менее если элемент управления в представлении отчетов, возвращаемое значение всегда равно нулю.

## <a name="getselectedcolumn"></a>  CListCtrl::GetSelectedColumn

Получает индекс столбца выбранных в настоящий момент в элементе управления списком.

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс выбранного столбца.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETSELECTEDCOLUMN](/windows/desktop/Controls/lvm-getselectedcolumn) сообщения, как описано в пакете Windows SDK.

## <a name="getselectedcount"></a>  CListCtrl::GetSelectedCount

Возвращает число выбранных элементов в элементе управления представления списка.

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число выбранных элементов в элементе управления представления списка.

### <a name="example"></a>Пример

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="getselectionmark"></a>  CListCtrl::GetSelectionMark

Возвращает знак выбора элемента управления представления списка.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Возвращаемое значение

Метки выделения отсчитываемый от нуля, или -1, если нет метки выделения.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetSelectionMark](/windows/desktop/api/commctrl/nf-commctrl-listview_getselectionmark), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="getstringwidth"></a>  CListCtrl::GetStringWidth

Определяет минимальную ширину столбца необходимая для отображения всех заданной строки.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Параметры

*lpsz*<br/>
Адрес заканчивающуюся нулем строку, ширина которого — должны определяться.

### <a name="return-value"></a>Возвращаемое значение

Ширина в пикселях, строки, на которые указывают *lpsz*.

### <a name="remarks"></a>Примечания

Возвращаемый ширина учитывает текущий шрифт для элемента управления и поля столбца, но не ширину маленького значка.

### <a name="example"></a>Пример

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="getsubitemrect"></a>  CListCtrl::GetSubItemRect

Получает ограничивающий прямоугольник элемента в элементе управления списком.

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Параметры

*iItem*<br/>
Индекс родительского элемента данного подэлемента.

*iSubItem*<br/>
Отсчитываемый от единицы индекс вложенного элемента.

*nArea*<br/>
Определяет часть ограничивающий прямоугольник (вложенного элемента представления списка), требуется получить. Часть (значок, метку или оба) ограничивающий прямоугольник указывается путем применения побитового оператора OR к одному или нескольким из следующих значений:

- LVIR_BOUNDS Возвращает ограничивающий прямоугольник для всего элемента, включая значок и метку.

- LVIR_ICON Возвращает ограничивающий прямоугольник значка или мелкого значка.

- LVIR_LABEL Возвращает ограничивающий прямоугольник для всего элемента, включая значок и метку. Этот подход аналогичен LVIR_BOUNDS.

*ref*<br/>
Ссылка на [CRect](../../atl-mfc-shared/reference/crect-class.md) ограничивающий прямоугольник, содержащий координаты вложенного элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetSubItemRect](/windows/desktop/api/commctrl/nf-commctrl-listview_getsubitemrect), как описано в пакете Windows SDK.

## <a name="gettextbkcolor"></a>  CListCtrl::GetTextBkColor

Получает цвет фона текста элемента управления представления списка.

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение, используется для указания цвета в формате RGB.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::SetTextBkColor](#settextbkcolor).

## <a name="gettextcolor"></a>  CListCtrl::GetTextColor

Возвращает цвет текста элемента управления представления списка.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение, используется для указания цвета в формате RGB.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::SetTextColor](#settextcolor).

## <a name="gettileinfo"></a>  CListCtrl::GetTileInfo

Извлекает сведения о плитки в элементе управления представления списка.

```
BOOL GetTileInfo(PLVTILEINFO pti) const;
```

### <a name="parameters"></a>Параметры

*PTI*<br/>
Указатель на [LVTILEINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvtileinfo) структуру, которая получает сведений о плитке.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETTILEINFO](/windows/desktop/Controls/lvm-gettileinfo) сообщения, как описано в пакете Windows SDK.

## <a name="gettileviewinfo"></a>  CListCtrl::GetTileViewInfo

Извлекает сведения об элементе управления представления списком мозаичного представления.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Параметры

*ptvi*<br/>
Указатель на [LVTILEVIEWINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvtileviewinfo) структуры, который получает полученные сведения.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETTILEVIEWINFO](/windows/desktop/Controls/lvm-gettileviewinfo) сообщения, как описано в пакете Windows SDK.

## <a name="gettooltips"></a>  CListCtrl::GetToolTips

Извлекает элемент управления tooltip, используемого элементом управления представления списка для отображения подсказки.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на [CToolTipCtrl](ctooltipctrl-class.md) объект для использования элементом управления списка. Если [создать](#create) функция-член использует стиль LVS_NOTOOLTIPS, используются без подсказки и возвращается значение NULL.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение сообщение Win32 [LVM_GETTOOLTIPS](/windows/desktop/Controls/lvm-gettooltips), как описано в пакете Windows SDK. Реализация MFC `GetToolTips` возвращает `CToolTipCtrl` объект, который используется в элементе управления списком, а не дескриптор элемента управления всплывающей подсказки.

### <a name="example"></a>Пример

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="gettopindex"></a>  CListCtrl::GetTopIndex

Извлекает индекс верхнего элемента, видимого в представлении списка или отчетов.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс верхний видимый элемент.

### <a name="example"></a>Пример

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="getview"></a>  CListCtrl::GetView

Получает представление элемента управления представления списка.

```
DWORD GetView() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущее представление элемента управления представления списка.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_GETVIEW](/windows/desktop/Controls/lvm-getview) сообщения, как описано в пакете Windows SDK.

## <a name="getviewrect"></a>  CListCtrl::GetViewRect

Получает прямоугольник, ограничивающий всех элементов в элементе управления представления списка.

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Адрес [RECT](/previous-versions/dd162897\(v=vs.85\)) структуры.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

В представлении списка должен быть в представлении значка или мелкого значка.

## <a name="getworkareas"></a>  CListCtrl::GetWorkAreas

Извлекает текущий рабочие области элемента управления представления списка.

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT prc) const;
```

### <a name="parameters"></a>Параметры

*nWorkAreas*<br/>
Число `RECT` структур, содержащихся в *prc* массива.

*КНР*<br/>
Указатель на массив `RECT` структуры (или [CRect](../../atl-mfc-shared/reference/crect-class.md) объекты) получают рабочие области элемента управления представления списка. Значения в этих структурах находятся в координатах клиентской области окна.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_GetWorkAreas](/windows/desktop/api/commctrl/nf-commctrl-listview_getworkareas), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas).

## <a name="hasgroup"></a>  CListCtrl::HasGroup

Определяет, имеет ли элемент представления списка указанной группы.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор запрашиваемого группы.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE в случае успешного выполнения FALSE в случае сбоя.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_HASGROUP](/windows/desktop/Controls/lvm-hasgroup) сообщения, как описано в пакете Windows SDK.

## <a name="hittest"></a>  CListCtrl::HitTest

Определяет какой элемент представления списка, если он имеется в указанной позиции.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Параметры

*pHitTestInfo*<br/>
Адрес `LVHITTESTINFO` структуру, содержащую позиции нажатия теста и что получает сведения о результатах проверки нажатия.

*pt*<br/>
Проверяемая точка.

*pFlags*<br/>
Указатель на целое число, получающий сведения о результатах теста. См. описание `flags` членом [LVHITTESTINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvhittestinfo) структуры в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Индекс элемента в позиции, заданной параметром *pHitTestInfo*, если таковой имеется, или значение -1, в противном случае.

### <a name="remarks"></a>Примечания

Можно использовать значения LVHT_ABOVE, LVHT_BELOW, LVHT_TOLEFT и LVHT_TORIGHT структуры `flag` члена, чтобы определить необходимость прокручивать содержимое элемента управления представления списка. Два из этих флагов можно объединить, например, если позиция находится сверху и слева от клиентской области.

Можно проверить значение LVHT_ONITEM структуры `flag` элемент, чтобы определить, является ли данная позиция через элемент представления списка. Это значение равно операцию побитового или для значения LVHT_ONITEMICON, LVHT_ONITEMLABEL и LVHT_ONITEMSTATEICON структуры `flag` член.

### <a name="example"></a>Пример

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="insertcolumn"></a>  CListCtrl::InsertColumn

Вставка нового столбца в элементе управления представления списка.

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс нового столбца.

*pColumn*<br/>
Адрес `LVCOLUMN` структуру, содержащую атрибуты нового столбца.

*lpszColumnHeading*<br/>
Адрес строка, содержащая заголовок столбца.

*nFormat*<br/>
Целое число, указывающее выравнивание столбца. Он может принимать одно из следующих значений: LVCFMT_LEFT LVCFMT_RIGHT и LVCFMT_CENTER.

*nWidth*<br/>
Ширина столбца в пикселях. Если этот параметр имеет значение -1, ширина столбца не задано.

*nSubItem*<br/>
Индекс вложенного элемента, связанного со столбцом. Если этот параметр имеет значение -1, не указанный подэлемент находится связанное со столбцом.

### <a name="return-value"></a>Возвращаемое значение

Индекс нового столбца, в случае успеха или -1, в противном случае.

### <a name="remarks"></a>Примечания

Крайний слева столбец в элементе управления представления списка должен быть по левому краю.

[LVCOLUMN](/windows/desktop/api/commctrl/ns-commctrl-taglvcolumna) структура содержит атрибуты столбца в представлении отчета. Он также используется для получения сведений о столбце. Эта структура описана в пакете Windows SDK.

## <a name="insertgroup"></a>  CListCtrl::InsertGroup

Вставляет группы в элементе управления представления списка.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Параметры

*Индекс*<br/>
Индекс элемента, где группа — для вставки.

*pgrp*<br/>
Указатель на [LVGROUP](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) структура, содержащая группы для добавления.

### <a name="return-value"></a>Возвращаемое значение

Возвращает индекс элемента, добавленный группе, или значение -1, если произошел сбой операции.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_INSERTGROUP](/windows/desktop/Controls/lvm-insertgroup) сообщения, как описано в пакете Windows SDK.

## <a name="insertgroupsorted"></a>  CListCtrl::InsertGroupSorted

Вставляет указанную группу в упорядоченный список групп.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Параметры

*pStructInsert*<br/>
Указатель на [LVINSERTGROUPSORTED](/windows/desktop/api/commctrl/ns-commctrl-taglvinsertgroupsorted) структуру, содержащую группу, для вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_INSERTGROUPSORTED](/windows/desktop/Controls/lvm-insertgroupsorted) сообщения, как описано в пакете Windows SDK.

## <a name="insertitem"></a>  CListCtrl::InsertItem

Вставляет элемент в элементе управления представления списка.

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*pItem*<br/>
Указатель на [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структура, задающая атрибуты элемента, как описано в пакете Windows SDK.

*nItem*<br/>
Индекс элемента для вставки.

*lpszItem*<br/>
Адрес строка, содержащая метки элемента или LPSTR_TEXTCALLBACK, если элемент представляет собой элемент обратного вызова. Сведения об элементах обратного вызова, см. в разделе [CListCtrl::GetCallbackMask](#getcallbackmask).

*Изображение*<br/>
Индекс изображения элемента или I_IMAGECALLBACK, если элемент представляет собой элемент обратного вызова. Сведения об элементах обратного вызова, см. в разделе [CListCtrl::GetCallbackMask](#getcallbackmask).

*nMask*<br/>
*NMask* параметр указывает, какой элемент атрибуты, которые передаются как параметры являются допустимыми. Он может иметь одно или несколько из значения маски, описанного в [LVITEM структуры](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) в пакете Windows SDK. Допустимые значения могут объединяться с помощью битового оператора или.

*nState*<br/>
Указывает состояние элемента, изображения и изображение для наложения. См. в разделах пакета Windows SDK [структуры LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) Дополнительные сведения и [состояния элементов в представлении списка](/windows/desktop/Controls/list-view-item-states) список Допустимые флаги.

*nStateMask*<br/>
Указывает, какие биты состояния элемента будут извлечены или изменены. См. в разделе [LVITEM структуры](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) в пакете SDK для Windows, Дополнительные сведения.

*lParam*<br/>
32-разрядное значение конкретного приложения, связанный с элементом. Если этот параметр задан, необходимо задать *nMask* атрибут LVIF_PARAM.

### <a name="return-value"></a>Возвращаемое значение

Индекс нового элемента в случае успешного выполнения или значение -1, в противном случае.

### <a name="remarks"></a>Примечания

Вызов этого метода может привести к LVM_INSERTITEM сообщение должно отправляться окна элемента управления. Обработчик связанных сообщений для элемента управления может завершиться ошибкой задать текст элемента при определенных условиях (например, с помощью стилей окна, такие как LVS_OWNERDRAW). Дополнительные сведения об этих условиях см. [LVM_INSERTITEM](/windows/desktop/Controls/lvm-insertitem) в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="insertmarkhittest"></a>  CListCtrl::InsertMarkHitTest

Возвращает точку вставки, ближайшей к заданной точке.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK lvim) const;
```

### <a name="parameters"></a>Параметры

*pPoint*<br/>
Указатель на [ТОЧКИ](/previous-versions/dd162805\(v=vs.85\)) структуру, содержащую нажатия координаты относительно клиентской области элемента управления списком.

*lvim*<br/>
Указатель на [LVINSERTMARK](/windows/desktop/api/commctrl/ns-commctrl-lvinsertmark) структура, задающая точке вставки, ближайшей к значениям координат, заданного параметром точки.

### <a name="return-value"></a>Возвращаемое значение

Точка вставки ближе всего к заданному точки.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_INSERTMARKHITTEST](/windows/desktop/Controls/lvm-insertmarkhittest) сообщения, как описано в пакете Windows SDK.

## <a name="isgroupviewenabled"></a>  CListCtrl::IsGroupViewEnabled

Определяет, включена ли представление "Группа" для элемента управления представления списка.

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Возвращаемое значение

В противном случае возвращает значение TRUE, если включено представление "Группа", или значение FALSE.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_ISGROUPVIEWENABLED](/windows/desktop/Controls/lvm-isgroupviewenabled) сообщения, как описано в пакете Windows SDK.

## <a name="isitemvisible"></a>  CListCtrl::IsItemVisible

Указывает, видима ли указанный элемент в текущий элемент управления представление списка.

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Индекс*|[in] Отсчитываемый от нуля индекс элемента в текущего элемента управления представление списка.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если указанный элемент является видимым; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет [LVM_ISITEMVISIBLE](/windows/desktop/Controls/lvm-isitemvisible) сообщения, который описан в пакете Windows SDK.

## <a name="mapidtoindex"></a>  CListCtrl::MapIDToIndex

Сопоставляет уникальный идентификатор элемента в текущий элемент управления списком индекс.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*id*|[in] Уникальный идентификатор элемента.|

### <a name="return-value"></a>Возвращаемое значение

Текущий индекс для указанного идентификатора.

### <a name="remarks"></a>Примечания

Элемент управления list view отслеживает внутренне элементов по индексу. Это может вызвать проблемы, так как индексы можно изменить во время существования элемента управления. Управления представление списка можно пометить элемент с Идентификатором, когда создается элемент и этот идентификатор можно использовать для обеспечения уникальности в течение времени существования элемента управления представления списка.

Обратите внимание на то, что в многопоточной среде индекс гарантируется только в потоке, который размещает элемент управления представление списка, не в фоновых потоках.

Этот метод отправляет [LVM_MAPIDTOINDEX](/windows/desktop/controls/lvm-mapidtoindex) сообщения, который описан в пакете Windows SDK.

## <a name="mapindextoid"></a>  CListCtrl::MapIndexToID

Сопоставляет индекс элемента в элементе управления списком текущий уникальный идентификатор.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*Индекс*|[in] Отсчитываемый от нуля индекс элемента.|

### <a name="return-value"></a>Возвращаемое значение

Уникальный идентификатор для указанного элемента.

### <a name="remarks"></a>Примечания

Элемент управления list view отслеживает внутренне элементов по индексу. Это может вызвать проблемы, так как индексы можно изменить во время существования элемента управления. Управления представление списка можно пометить элемент с Идентификатором, при создании элемента. Этот идентификатор можно использовать для доступа к определенного элемента в течение жизненного цикла управления представление списка.

Обратите внимание на то, что в многопоточной среде индекс гарантируется только в потоке, который размещает элемент управления представление списка, не в фоновых потоках.

Этот метод отправляет [LVM_MAPINDEXTOID](/windows/desktop/Controls/lvm-mapindextoid) сообщения, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_listCtrl`, который используется для доступа к текущего элемента управления представление списка. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода показано `MapIndexToID` метод. В предыдущем разделе этого примера кода мы создали управления представление списка, в котором отображаются два столбца, под названием «ClientID» и «Grade» в представлении отчета. В следующем примере сопоставляется идентификационный номер индекс каждого элемента в представлении списка и затем извлекает индекс каждой идентификационному номеру. Наконец в примере сообщается, были ли получены исходные индексы.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="movegroup"></a>  CListCtrl::MoveGroup

Перемещает указанный группе в указанный отсчитываемый от нуля индекс элемента управления представления списка.

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор группы для перемещения.

*toIndex*<br/>
Отсчитываемый от нуля индекс, где группа — для перемещения.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_MOVEGROUP](/windows/desktop/Controls/lvm-movegroup) сообщения, как описано в пакете Windows SDK.

## <a name="moveitemtogroup"></a>  CListCtrl::MoveItemToGroup

Перемещает указанный элемент в указанной группе.

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Параметры

*idItemFrom*<br/>
[in] Индекс перемещаемого элемента.

*idGroupTo*<br/>
[in] Идентификатор группы элемента будут перемещены.

### <a name="remarks"></a>Примечания

> [!NOTE]
>  Этот метод в настоящее время не реализуется.

Этот метод эмулирует функциональные возможности [LVM_MOVEITEMTOGROUP](/windows/desktop/Controls/lvm-moveitemtogroup) сообщения, как описано в пакете Windows SDK.

## <a name="redrawitems"></a>  CListCtrl::RedrawItems

Заставляет элемент управления списка перерисовку диапазона элементов.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Параметры

*nFirst*<br/>
Индекс первого элемента окрашивание.

*nLast*<br/>
Индекс последнего элемента окрашивание.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Указанные элементы не будут обновлены фактически, пока в окно представления списка не получит сообщение WM_PAINT. Чтобы немедленно перерисовать, вызовите Windows [UpdateWindow](/windows/desktop/api/winuser/nf-winuser-updatewindow) функции после применения этой функции.

## <a name="removeallgroups"></a>  CListCtrl::RemoveAllGroups

Удаляет все группы из элемента управления представления списка.

```
void RemoveAllGroups();
```

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_REMOVEALLGROUPS](/windows/desktop/Controls/lvm-removeallgroups) сообщения, как описано в пакете Windows SDK.

## <a name="removegroup"></a>  CListCtrl::RemoveGroup

Удаляет указанную группу из элемента управления представления списка.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор группы для удаления.

### <a name="return-value"></a>Возвращаемое значение

В противном случае возвращает индекс группы, в случае успешного выполнения или значение -1.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_REMOVEGROUP](/windows/desktop/Controls/lvm-removegroup) сообщения, как описано в пакете Windows SDK.

## <a name="scroll"></a>  CListCtrl::Scroll

Прокручивает содержимое элемента управления представления списка.

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Параметры

*size*<br/>
Объект `CSize` объект, определяющий временной интервал горизонтальной и вертикальной прокрутки, в пикселях. `y` Членом *размер* делится высота в пикселях строки элемента управления представления списком, и элемент управления может прокручиваться по результирующее число строк.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="setbkcolor"></a>  CListCtrl::SetBkColor

Задает цвет фона элемента управления представления списком.

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*CR*<br/>
Цвет фона для задания, или значение CLR_NONE нет цвета фона. Элементы управления представления списка с цветами фона прорисовку значительно быстрее, чем без цвета фона. Сведения см. в разделе [COLORREF](/windows/desktop/gdi/colorref) в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="setbkimage"></a>  CListCtrl::SetBkImage

Задает фоновое изображение элемента управления представления списка.

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hbm,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Параметры

*plvbkImage*<br/>
Адрес `LVBKIMAGE` структура, содержащая новые данные фонового изображения.

*hbm*<br/>
Дескриптор растрового изображения.

*pszUrl*<br/>
Завершающаяся нулем строка, содержащая URL-адрес фонового изображения.

*fTile*<br/>
Ненулевое значение, если изображение является замостить фон элемента управления представления списком; в противном случае 0.

*xOffsetPercent*<br/>
Смещение в пикселях левого края изображения из исходной позиции элемента управления представления списка.

*yOffsetPercent*<br/>
Смещение в пикселях верхнего края изображения из исходной позиции элемента управления представления списка.

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение, если успешно, или нуль, которые в противном случае.

### <a name="remarks"></a>Примечания

> [!NOTE]
>  Так как `CListCtrl::SetBkImage` использует функциональные возможности модели COM OLE, перед использованием необходимо инициализировать библиотеки OLE `SetBkImage`. Рекомендуется для инициализации библиотеки COM, при инициализации приложения и отменить инициализацию библиотеки, когда приложение завершает работу. Это выполняется автоматически в MFC приложения, которые используют технологию ActiveX, OLE-автоматизации, ODBC или DAO операций или OLE связывание/внедрения.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetBkImage](#getbkimage).

## <a name="setcallbackmask"></a>  CListCtrl::SetCallbackMask

Задает маску обратного вызова для элемента управления представления списка.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Параметры

*nMask*<br/>
Новое значение Маска обратного вызова.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="setcheck"></a>  CListCtrl::SetCheck

Определяет, является ли видимым изображение состояния элемента управления списка.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Отсчитываемый от нуля индекс элемента управления списка.

*обязательно ознакомьтесь с*<br/>
Указывает, будет ли видимым изображение состояния элемента, или нет. По умолчанию *обязательно ознакомьтесь с* имеет значение TRUE, и состояние изображение является видимым. Если *обязательно ознакомьтесь с* имеет значение FALSE, она не отображается.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если элемент выделен, иначе — 0.

### <a name="example"></a>Пример

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="setcolumn"></a>  CListCtrl::SetColumn

Задает атрибуты столбца представления списка.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс столбца, атрибуты которого должны устанавливаться.

*pColumn*<br/>
Адрес [LVCOLUMN](/windows/desktop/api/commctrl/ns-commctrl-taglvcolumna) атрибуты структуру, содержащую новый столбец, как описано в пакете Windows SDK. Структура `mask` элемент задает, какой столбец атрибуты для задания. Если `mask` задает LVCF_TEXT значения, структуры `pszText` член является адрес заканчивающуюся нулем строку и структуру `cchTextMax` игнорируется.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetColumn](#getcolumn).

## <a name="setcolumnorderarray"></a>  CListCtrl::SetColumnOrderArray

Задает порядок столбцов (слева направо) элемента управления представления списка.

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Параметры

*piArray*<br/>
Указатель на буфер, содержащий значения индекса столбцов в элементе управления представления списка (слева направо). Буфер должен быть достаточно большим, чтобы содержать общее число столбцов в элементе управления представления списка.

*iCount*<br/>
Число столбцов в элементе управления представления списка.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetColumnOrderArray](/windows/desktop/api/commctrl/nf-commctrl-listview_setcolumnorderarray), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="setcolumnwidth"></a>  CListCtrl::SetColumnWidth

Изменяет ширину столбца в представлении отчетов или представлении списка.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Параметры

*nCol*<br/>
Индекс столбца, для которого будет устанавливаться ширину. В представлении списка этот параметр должен быть 0.

*cx*<br/>
Новая ширина столбца. Может быть LVSCW_AUTOSIZE или LVSCW_AUTOSIZE_USEHEADER, как описано в разделе [LVM_SETCOLUMNWIDTH](/windows/desktop/Controls/lvm-setcolumnwidth) в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="setextendedstyle"></a>  CListCtrl::SetExtendedStyle

Задает текущий расширенные стили элемента управления представления списка.

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Параметры

*dwNewStyle*<br/>
Сочетание расширенные стили для использования элементом управления представления списка. Список этих стилей, см. в разделе [расширенных стилей представления списка](/windows/desktop/Controls/extended-list-view-styles) темы в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Сочетание предыдущих расширенные стили, используемые элементом управления представления списка.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetExtendedListViewStyle](/windows/desktop/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="setgroupinfo"></a>  CListCtrl::SetGroupInfo

Задает сведения, описывающие указанной группы текущего элемента управления представление списка.

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Параметры

*iGroupId*<br/>
Идентификатор группы, сведения о которой имеет значение.

*pgrp*<br/>
Указатель на [LVGROUP](/windows/desktop/api/commctrl/ns-commctrl-taglvgroup) структуру, содержащую сведения для задания. Вызывающий объект отвечает за выделение эту структуру и установке его членов.

### <a name="return-value"></a>Возвращаемое значение

Идентификатор группы, если метод выполнен успешно; в противном случае — значение -1.

### <a name="remarks"></a>Примечания

Этот метод отправляет [LVM_SETGROUPINFO](/windows/desktop/Controls/lvm-setgroupinfo) сообщения, который описан в пакете Windows SDK.

## <a name="setgroupmetrics"></a>  CListCtrl::SetGroupMetrics

Задает метрики групповой элемент управления списка.

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Параметры

*pGroupMetrics*<br/>
Указатель на [LVGROUPMETRICS](/windows/desktop/api/commctrl/ns-commctrl-taglvgroupmetrics) структура, содержащая сведения о группе метрики устанавливаемое значение.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETGROUPMETRICS](/windows/desktop/Controls/lvm-setgroupmetrics) сообщения, как описано в пакете Windows SDK.

## <a name="sethotcursor"></a>  CListCtrl::SetHotCursor

Задает курсор, используемый, когда включено отслеживание для элемента управления представления списка.

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Параметры

*гибридного подключения*<br/>
Дескриптор курсора ресурс, который используется для представления "Горячий" курсор.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор на предыдущий ресурс "Горячий" курсор, который используется в элементе управления представления списка.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetHotCursor](/windows/desktop/api/commctrl/nf-commctrl-listview_sethotcursor), как описано в пакете Windows SDK.

"Горячий" курсор, отображается, только если выбор при наведении курсора мыши включен, отображается при наведении курсора на любой элемент списка. Выбор при наведении указателя мыши можно включить, задав LVS_EX_TRACKSELECT расширенный стиль.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetHotCursor](#gethotcursor).

## <a name="sethotitem"></a>  CListCtrl::SetHotItem

Задает текущий элемент "Горячий" элемента управления представления списка.

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
Отсчитываемый от нуля индекс элемента в качестве элемента "Горячий".

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс элемента, ранее "Горячий".

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetHotItem](/windows/desktop/api/commctrl/nf-commctrl-listview_sethotitem), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetHotItem](#gethotitem).

## <a name="sethovertime"></a>  CListCtrl::SetHoverTime

Задает текущее время элементе управления представления списком при наведении курсора мыши.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Параметры

*dwHoverTime*<br/>
Новый задержку в миллисекундах, в которых курсор мыши необходимо подвести указатель к элементу, прежде чем он выбран. Если передается значение по умолчанию, время установлено равным по времени при наведении указателя мыши по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий время при наведении указателя мыши в миллисекундах.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetHoverTime](/windows/desktop/api/commctrl/nf-commctrl-listview_sethovertime), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetHoverTime](#gethovertime).

## <a name="seticonspacing"></a>  CListCtrl::SetIconSpacing

Задает интервал между значками в элементе управления представления списка.

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Параметры

*cx*<br/>
Расстояние (в пикселях) между значками на оси x.

*CY*<br/>
Расстояние (в пикселях) между значками на оси y.

*size*<br/>
Объект `CSize` объект, указывающий расстояние (в пикселях) между значки x- и y.

### <a name="return-value"></a>Возвращаемое значение

Объект [CSize](../../atl-mfc-shared/reference/csize-class.md) объект, содержащий предыдущие значения для интервала значок.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetIconSpacing](/windows/desktop/api/commctrl/nf-commctrl-listview_seticonspacing), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="setimagelist"></a>  CListCtrl::SetImageList

Назначает списка изображений элемента управления представления списка.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Параметры

*pImageList*<br/>
Указатель на список изображений для назначения.

*nImageListType*<br/>
Тип списка изображений. Он может принимать одно из следующих значений:

- Список изображений LVSIL_NORMAL крупными значками.

- Список LVSIL_SMALL изображений с помощью мелких значков.

- Список изображений LVSIL_STATE с изображениями состояния.

### <a name="return-value"></a>Возвращаемое значение

Указатель на предыдущий список изображений.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetImageList](#getimagelist).

## <a name="setinfotip"></a>  CListCtrl::SetInfoTip

Задает текст всплывающей подсказки.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Параметры

*plvInfoTip*<br/>
Указатель на [LVFSETINFOTIP](/windows/desktop/api/commctrl/ns-commctrl-taglvsetinfotip) структура, содержащая сведения о задаваемых.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE в случае успешного выполнения FALSE в случае сбоя.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETINFOTIP](/windows/desktop/Controls/lvm-setinfotip) сообщения, как описано в пакете Windows SDK.

## <a name="setinsertmark"></a>  CListCtrl::SetInsertMark

Задает курсор в определенной позиции.

```
BOOL SetInsertMark(LPLVINSERTMARK lvim);
```

### <a name="parameters"></a>Параметры

*lvim*<br/>
Указатель на [LVINSERTMARK](/windows/desktop/api/commctrl/ns-commctrl-lvinsertmark) структуру, указав место установки точки вставки.

### <a name="return-value"></a>Возвращаемое значение

В противном случае возвращает значение TRUE, если успешно, или значение FALSE. Возвращается значение FALSE, если размер в `cbSize` членом `LVINSERTMARK` структуры не равно фактический размер структуры, или когда курсор не применяется в текущем представлении.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETINSERTMARK](/windows/desktop/Controls/lvm-setinsertmark) сообщения, как описано в пакете Windows SDK.

## <a name="setinsertmarkcolor"></a>  CListCtrl::SetInsertMarkColor

Задает цвет курсора.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Параметры

*color*<br/>
Объект [COLORREF](/windows/desktop/gdi/colorref) структуры, указывающий цвет, чтобы задать точку вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает `COLORREF` структура, содержащая на предыдущий цвет.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETINSERTMARKCOLOR](/windows/desktop/Controls/lvm-setinsertmarkcolor) сообщения, как описано в пакете Windows SDK.

## <a name="setitem"></a>  CListCtrl::SetItem

Задает некоторые или все представления списка атрибуты элемента.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Параметры

*pItem*<br/>
Адрес [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуру, содержащую новый элемент атрибуты, как описано в пакете Windows SDK. Структура `iItem` и `iSubItem` члены определения элемента или подэлемента и структуры `mask` элемент указывает, какие атрибуты следует задать. Дополнительные сведения о `mask` член, см. в разделе **"Примечания"** .

*nItem*<br/>
Индекс элемента, атрибуты которого должны устанавливаться.

*nSubItem*<br/>
Индекс подэлемента, атрибуты которого должны устанавливаться.

*nMask*<br/>
Указывает, какие атрибуты должны задаваться (см. в разделе "Примечания").

*lpszItem*<br/>
Адрес заканчивающуюся нулем строку, указав метку элемента.

*Изображение*<br/>
Индекс изображения элемента в списке изображений.

*nState*<br/>
Задает значения для состояний, которые необходимо изменить (см. в разделе "Примечания").

*nStateMask*<br/>
Указывает, какие состояния будут изменены (см. в разделе "Примечания").

*lParam*<br/>
32-разрядное значение конкретного приложения нужно связать с элементом.

*nIndent*<br/>
Ширина в пикселях отступа. Если *nIndent* меньше минимальной ширины системный, новый шириной до минимума, определяемые системой

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

`iItem` И `iSubItem` членами `LVITEM` структуры и *nItem* и *nSubItem* параметры определяют элемента и подэлементов, атрибуты которого должны устанавливаться.

`mask` Членом `LVITEM` структуры и *nMask* параметра определяют, какой элемент задаются атрибуты:

- LVIF_TEXT `pszText` члена или *lpszItem* параметр – адрес заканчивающуюся нулем строку; `cchTextMax` игнорируется.

- LVIF_STATE `stateMask` члена или *nStateMask* параметр указывает, какой элемент имеет состояние для изменения и `state` члена или *nState* параметр содержит значения для этих состояний.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::HitTest](#hittest).

## <a name="setitemcount"></a>  CListCtrl::SetItemCount

Подготавливает элементе представления списка для добавления большое число элементов.

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Параметры

*nItems*<br/>
Число элементов, содержащих элемент управления будет в конечном счете.

### <a name="remarks"></a>Примечания

Чтобы задать количество элементов для элемента управления представление виртуального списка, см. в разделе [CListCtrl::SetItemCountEx](#setitemcountex).

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetItemCount](/windows/desktop/api/commctrl/nf-commctrl-listview_setitemcount), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemcountex"></a>  CListCtrl::SetItemCountEx

Задает число элементов для элемента управления представление виртуального списка.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Параметры

*iCount*<br/>
Число элементов, содержащих элемент управления будет в конечном счете.

*dwFlags*<br/>
Задает поведение элемента управления представления списка после сброса числа элементов. Это значение может быть сочетанием следующих:

- LVSICF_NOINVALIDATEALL не будет перерисовываться управления представления списком, если в настоящее время не Затрагиваемые элементы в представлении. Это значение по умолчанию.

- LVSICF_NOSCROLL управления представления списком не изменится позицию прокрутки, когда элемент число изменений.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetItemCountEx](/windows/desktop/api/commctrl/nf-commctrl-listview_setitemcountex), как описано в разделе Windows SDKand должен вызываться только для представлений виртуального списка.

### <a name="example"></a>Пример

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemdata"></a>  CListCtrl::SetItemData

Задает 32-разрядное значение конкретного приложения, связанные с элемента, заданного посредством *nItem*.

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента списка, данные которого — задать.

*dwData*<br/>
32-разрядное значение, связываемое с элементом.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Это значение равно `lParam` членом [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуры, как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="setitemindexstate"></a>  CListCtrl::SetItemIndexState

Задает состояние элемента в текущего элемента управления представление списка.

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pItemIndex*|[in] Указатель на [LVITEMINDEX](/windows/desktop/api/commctrl/ns-commctrl-lvitemindex) структура, описывающая элемент. Вызывающий объект отвечает за выделение эту структуру и установке его членов.|
|*dwState*|[in] Состояние, чтобы задать элемент, который представляет собой битовую комбинацию из [список состояний представления элементов](/windows/desktop/Controls/list-view-item-states). Укажите ноль для сброса или одну для установки, состояния.|
|*dwMask*|[in] Маска допустимых битов состоянии, указанном *dwState* параметра. Побитовое сочетание (OR) укажите [список состояний представления элементов](/windows/desktop/Controls/list-view-item-states).|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Дополнительные сведения о *dwState* параметр, см. в разделе [состояний элемента представления списка](/windows/desktop/Controls/list-view-item-states).

Дополнительные сведения о *dwMask* параметр, см. в разделе *stateMask* членом [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуры.

Этот метод отправляет [LVM_SETITEMINDEXSTATE](/windows/desktop/Controls/lvm-setitemindexstate) сообщения, который описан в пакете Windows SDK.

## <a name="setitemposition"></a>  CListCtrl::SetItemPosition

Перемещает элемент в указанную позицию в элементе управления представления списка.

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, позиция которого является устанавливаемое значение.

*pt*<br/>
Объект [ТОЧКИ](/previous-versions/dd162805\(v=vs.85\)) структуры, указывающий новое положение, в представлении, координаты верхнего левого угла элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Элемент управления должен быть в значка или мелкого значка.

Если стиль LVS_AUTOARRANGE управления представления списком, в представлении списка расположены после задания позиции элемента.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetItemPosition](#getitemposition).

## <a name="setitemstate"></a>  CListCtrl::SetItemState

Изменяет состояние элемента в элементе управления списком.

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, состояние которого отличается от устанавливаемое значение.

*pItem*<br/>
Адрес [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуры, как описано в пакете Windows SDK. Структура `stateMask` указывает состояние, которое bits для изменений, а также структура `state` член содержит новые значения для этих файлов. Другие элементы учитываются.

*nState*<br/>
Новые значения для биты состояния. Список возможных значений см. в разделе [CListCtrl::GetNextItem](#getnextitem) и [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) члена.

*nMask*<br/>
Маска, указывающая, какое состояние битов для изменения. Это значение соответствует элементу stateMask [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуры.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Элемента «состояние» — это значение, которое указывает наличие товара, указывающее действия пользователя или в противном случае отражает состояние элемента. Элемент управления списка изменяет некоторые биты состояния, например когда пользователь выбирает элемент. Приложение может изменить остальные биты состояния, чтобы отключить или скрыть элемент, или задать наложение изображения или изображения состояния.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetTopIndex](#gettopindex).

## <a name="setitemtext"></a>  CListCtrl::SetItemText

Изменение текста элемента представления списка или подэлемента.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс элемента, на которых указано устанавливаемое значение.

*nSubItem*<br/>
Индекс вложенного элемента, или нуль, чтобы задать метку элемента.

*lpszText*<br/>
Указатель на строку, содержащая новый текст элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Этот метод не предназначен для использования с элементами управления, содержащий стиль окна LVS_OWNERDATA (на самом деле, это вызовет утверждение в отладочных сборках). Дополнительные сведения о стиле элемента управления этого списка см. в разделе [Обзор средств управления представление списка](/windows/desktop/Controls/list-view-controls-overview).

### <a name="example"></a>Пример

  См. в примере [CListCtrl::InsertItem](#insertitem).

## <a name="setoutlinecolor"></a>  CListCtrl::SetOutlineColor

Задает цвет границы элемента управления представление списка, если [LVS_EX_BORDERSELECT](/windows/desktop/Controls/list-view-window-styles) окно расширенного стиля задано значение.

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Параметры

*color*<br/>
Новый [COLORREF](/windows/desktop/gdi/colorref) структуру, содержащую цвет контура.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий `COLORREF` структуру, содержащую цвет контура

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETOUTLINECOLOR](/windows/desktop/Controls/lvm-setoutlinecolor) сообщения, как описано в пакете Windows SDK.

## <a name="setselectedcolumn"></a>  CListCtrl::SetSelectedColumn

Задает выбранный столбец элемента управления представления списка.

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Параметры

*iCol*<br/>
Индекс столбца для выбора.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETSELECTEDCOLUMN](/windows/desktop/Controls/lvm-setselectedcolumn) сообщения, как описано в пакете Windows SDK.

## <a name="setselectionmark"></a>  CListCtrl::SetSelectionMark

Задает метки выделения элемента управления представления списка.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
Отсчитываемый от нуля индекс первого элемента в этой группе.

### <a name="return-value"></a>Возвращаемое значение

Предыдущей метки выделения, или значение -1, если нет метки выделения.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetSelectionMark](/windows/desktop/api/commctrl/nf-commctrl-listview_setselectionmark), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetSelectionMark](#getselectionmark).

## <a name="settextbkcolor"></a>  CListCtrl::SetTextBkColor

Задает цвет фона текста в элементе управления представления списка.

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*CR*<br/>
COLORREF, указав новый цвет фона текста. Сведения см. в разделе [COLORREF](/windows/desktop/gdi/colorref) в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="settextcolor"></a>  CListCtrl::SetTextColor

Задает цвет текста элемента управления представления списка.

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*CR*<br/>
COLORREF, указав новый цвет текста. Сведения см. в разделе [COLORREF](/windows/desktop/gdi/colorref) в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="settileinfo"></a>  CListCtrl::SetTileInfo

Задает информацию для плитки элемента управления представления списка.

```
BOOL SetTileInfo(PLVTILEINFO pti);
```

### <a name="parameters"></a>Параметры

*PTI*<br/>
Указатель на [LVTILEINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvtileinfo) структура, содержащая сведения о задаваемых.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE в случае успешного выполнения FALSE в случае сбоя.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETTILEINFO](/windows/desktop/Controls/lvm-settileinfo) сообщения, как описано в пакете Windows SDK.

## <a name="settileviewinfo"></a>  CListCtrl::SetTileViewInfo

Задает сведения, которые использует элемент управления списка мозаичного представления.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Параметры

*ptvi*<br/>
Указатель на [LVTILEVIEWINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvtileviewinfo) структуру, содержащую сведения для задания.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE в случае успешного выполнения FALSE в случае сбоя.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETTILEVIEWINFO](/windows/desktop/Controls/lvm-settileviewinfo) сообщения, как описано в пакете Windows SDK.

## <a name="settooltips"></a>  CListCtrl::SetToolTips

Задает подсказку, которая управления представления списком будет использоваться для отображения подсказки.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Параметры

*pWndTip*<br/>
Указатель на `CToolTipCtrl` объект, который будет использоваться в элементе управления списком.

### <a name="return-value"></a>Возвращаемое значение

Указатель на [CToolTipCtrl](ctooltipctrl-class.md) объект, содержащий всплывающей подсказки, ранее используемых элемента управления, или значение NULL, если нет подсказок использовались ранее.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение сообщение Win32 [LVM_SETTOOLTIPS](/windows/desktop/Controls/lvm-settooltips), как описано в пакете Windows SDK.

Чтобы не использовать всплывающие подсказки, указывающих стиль LVS_NOTOOLTIPS при создании `CListCtrl` объекта.

## <a name="setview"></a>  CListCtrl::SetView

Задает представление элемента управления представления списка.

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Параметры

*iView*<br/>
Представление для выбора.

### <a name="return-value"></a>Возвращаемое значение

В противном случае возвращает значение 1, если успешно, или значение -1. Например если представление является недопустимым, возвращается значение -1.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SETVIEW](/windows/desktop/Controls/lvm-setview) сообщения, как описано в пакете Windows SDK.

## <a name="setworkareas"></a>  CListCtrl::SetWorkAreas

Задает область, где могут отображаться значки в элементе управления представления списка.

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Параметры

*nWorkAreas*<br/>
Число `RECT` структуры (или [CRect](../../atl-mfc-shared/reference/crect-class.md) объектов) в массиве, на которые указывают *lpRect*.

*lpRect*<br/>
Адрес массив `RECT` структуры (или `CRect` объекты), укажите новые рабочие области элемента управления представления списка. Эти области должен быть указан в координатах клиентской области окна. Если этот параметр имеет значение NULL, рабочая область будет присвоено клиентской области элемента управления.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SetWorkAreas](/windows/desktop/api/commctrl/nf-commctrl-listview_setworkareas), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="sortgroups"></a>  CListCtrl::SortGroups

Функция сравнения, определяемые приложением для сортировки групп по Идентификатору в элементе управления списком.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Параметры

*_pfnGroupCompare*<br/>
Указатель на функцию сравнения группы.

*_plv*<br/>
Указатель void.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE в случае успешного выполнения FALSE в случае сбоя.

### <a name="remarks"></a>Примечания

Эта функция-член эмулирует функциональные возможности [LVM_SORTGROUPS](/windows/desktop/Controls/lvm-sortgroups) сообщения, как описано в пакете Windows SDK.

## <a name="sortitems"></a>  CListCtrl::SortItems

Сортирует элементы списка с помощью функции сравнения, определяемые приложением.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*pfnCompare*<br/>
[in] Адрес функции сравнения, определяемые приложением.

Операция сортировки вызывает функцию сравнения, каждый раз, когда необходимо определить относительный порядок двух элементов списка. Функция сравнения необходимо либо статический член класса или автономного функцию, которая не является членом класса.

*dwData*<br/>
[in] Определяемый приложением значение, передаваемое в функцию сравнения.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод изменяет индекс каждого элемента, чтобы отобразить новую последовательность.

Функция сравнения, *pfnCompare*, имеет следующий вид:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
Функция сравнения должен возвращать отрицательное значение, если первый элемент должен находиться перед второй, положительное значение, если первый элемент должен следовать второй, или нуль, если два элемента равны.

*LParam1* параметр является 32-разрядное значение, связанное с первым элементом, который сравнивается, и *lParam2* параметра является значение, связанное с второго элемента. Это значения, которые были указаны в *lParam* членом элементов [LVITEM](/windows/desktop/api/commctrl/ns-commctrl-taglvitema) структуры, когда они были добавлены в список. *LParamSort* параметра совпадает со значением *dwData* значение.

Этот метод отправляет [LVM_SORTITEMS](/windows/desktop/Controls/lvm-sortitems) сообщения, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

Вот простое сравнение функцию, которая приводит к элементов отсортированных по их *lParam* значения.

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="sortitemsex"></a>  CListCtrl::SortItemsEx

Сортирует элементы текущего элемента управления представление списка с помощью функции сравнения, определяемые приложением.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pfnCompare*|[in] Адрес функции сравнения, определяемые приложением.<br /><br /> Операция сортировки вызывает функцию сравнения, каждый раз, когда необходимо определить относительный порядок двух элементов списка. Функция сравнения необходимо либо статический член класса или автономного функцию, которая не является членом класса.|
|*dwData*|[in] Определяемый приложением значение, передаваемое в функцию сравнения.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод изменяет индекс каждого элемента, чтобы отобразить новую последовательность.

Функция сравнения, *pfnCompare*, имеет следующий вид:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```
Это сообщение является как [LVM_SORTITEMS](/windows/desktop/Controls/lvm-sortitems), за исключением типа данных, переданных в функцию сравнения. В [LVM_SORTITEMS](/windows/desktop/Controls/lvm-sortitems), *lParam1* и *lParam2* являются значения элементов для сравнения. В [LVM_SORTITEMSEX](/windows/desktop/Controls/lvm-sortitemsex), *lParam1* текущий индекс первого элемента для сравнения и *lParam2* текущий индекс второго элемента. Вы можете отправить [LVM_GETITEMTEXT](/windows/desktop/Controls/lvm-getitemtext) сообщений для получения дополнительных сведений об элементе.

Функция сравнения должен возвращать отрицательное значение, если первый элемент должен находиться перед второй, положительное значение, если первый элемент должен следовать второй, или нуль, если два элемента равны.

> [!NOTE]
>  В процессе сортировки нестабильны содержимое представления списка. Если функция обратного вызова отправляет сообщения в элементе управления представления списка, отличное от [LVM_GETITEM](/windows/desktop/Controls/lvm-getitem), результаты будут непредсказуемыми.

Этот метод отправляет [LVM_SORTITEMSEX](/windows/desktop/Controls/lvm-sortitemsex) сообщения, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_listCtrl`, который используется для доступа к текущего элемента управления представление списка. Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода показано `SortItemEx` метод. В предыдущем разделе этого примера кода мы создали управления представление списка, в котором отображаются два столбца, под названием «ClientID» и «Grade» в представлении отчета. В следующем примере кода сортирует таблицу, используя значения в столбце «Grade».

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="subitemhittest"></a>  CListCtrl::SubItemHitTest

Определяет какой элемент представления списка, если он имеется в заданной позиции.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Параметры

*pInfo*<br/>
Указатель на [LVHITTESTINFO](/windows/desktop/api/commctrl/ns-commctrl-taglvhittestinfo) структуры.

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от единицы индекс элемента, вложенного элемента, тестируемой (если таковые имеются) или значение -1, в противном случае.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение макроса Win32, [ListView_SubItemHitTest](/windows/desktop/api/commctrl/nf-commctrl-listview_subitemhittest), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="update"></a>  CListCtrl::Update

Вызывает перерисовку элемента, заданного посредством элемента управления представление списка *nItem*.

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Параметры

*nItem*<br/>
Индекс обновляемого элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Примечания

Эта функция также упорядочивает управления представления списком, если он имеет стиль LVS_AUTOARRANGE.

### <a name="example"></a>Пример

  См. в примере [CListCtrl::GetSelectedCount](#getselectedcount).

## <a name="see-also"></a>См. также

[Пример MFC ROWLIST](../../overview/visual-cpp-samples.md)<br/>
[Класс CWnd](cwnd-class.md)<br/>
[Диаграмма иерархии](../hierarchy-chart.md)<br/>
[Класс CImageList](cimagelist-class.md)
