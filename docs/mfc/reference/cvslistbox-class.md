---
title: Класс Квслистбокс
ms.date: 11/19/2018
f1_keywords:
- CVSListBox
- AFXVSLISTBOX/CVSListBox
- AFXVSLISTBOX/CVSListBox::CVSListBox
- AFXVSLISTBOX/CVSListBox::AddItem
- AFXVSLISTBOX/CVSListBox::EditItem
- AFXVSLISTBOX/CVSListBox::GetCount
- AFXVSLISTBOX/CVSListBox::GetItemData
- AFXVSLISTBOX/CVSListBox::GetItemText
- AFXVSLISTBOX/CVSListBox::GetSelItem
- AFXVSLISTBOX/CVSListBox::RemoveItem
- AFXVSLISTBOX/CVSListBox::SelectItem
- AFXVSLISTBOX/CVSListBox::SetItemData
- AFXVSLISTBOX/CVSListBox::GetListHwnd
helpviewer_keywords:
- CVSListBox [MFC], CVSListBox
- CVSListBox [MFC], AddItem
- CVSListBox [MFC], EditItem
- CVSListBox [MFC], GetCount
- CVSListBox [MFC], GetItemData
- CVSListBox [MFC], GetItemText
- CVSListBox [MFC], GetSelItem
- CVSListBox [MFC], RemoveItem
- CVSListBox [MFC], SelectItem
- CVSListBox [MFC], SetItemData
- CVSListBox [MFC], GetListHwnd
ms.assetid: c79be7b4-46ed-4af8-a41e-68962782d8ef
ms.openlocfilehash: 6a33f5b64c5094bfe2ca2ff259b5cd8654058ed3
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69502235"
---
# <a name="cvslistbox-class"></a>Класс Квслистбокс

Класс `CVSListBox` поддерживает редактируемый элемент управления "список".

## <a name="syntax"></a>Синтаксис

```
class CVSListBox : public CVSListBoxBase
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|[Квслистбокс:: Квслистбокс](#cvslistbox)|Создает объект `CVSListBox`.|
|`CVSListBox::~CVSListBox`|Деструктор.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[Квслистбокс:: AddItem](#additem)|Добавляет строку в элемент управления "список". (Переопределяет `CVSListBoxBase::AddItem`.)|
|[Квслистбокс:: EditItem](#edititem)|Запускает операцию редактирования текста элемента управления "список". (Переопределяет `CVSListBoxBase::EditItem`.)|
|[Квслистбокс:: NOCOUNT](#getcount)|Извлекает количество строк в редактируемом элементе управления "список". (Переопределяет `CVSListBoxBase::GetCount`.)|
|[Квслистбокс:: Жетитемдата](#getitemdata)|Извлекает 32-разрядное значение конкретного приложения, связанное с редактируемым элементом управления "список". (Переопределяет `CVSListBoxBase::GetItemData`.)|
|[Квслистбокс:: Жетитемтекст](#getitemtext)|Извлекает текст редактируемого элемента управления "список". (Переопределяет `CVSListBoxBase::GetItemText`.)|
|[Квслистбокс:: Жетселитем](#getselitem)|Возвращает отсчитываемый от нуля индекс выбранного в данный момент элемента в элементе управления "список". (Переопределяет `CVSListBoxBase::GetSelItem`.)|
|`CVSListBox::PreTranslateMessage`|Преобразует сообщения окна до их отправки в функции Windows [TranslateMessage](/windows/win32/api/winuser/nf-winuser-translatemessage) и [DispatchMessage](/windows/win32/api/winuser/nf-winuser-dispatchmessage) . Дополнительные сведения и синтаксис методов см. в разделе [CWnd::P ретранслатемессаже](../../mfc/reference/cwnd-class.md#pretranslatemessage). (Переопределяет `CVSListBoxBase::PreTranslateMessage`.)|
|[Квслистбокс:: RemoveItem](#removeitem)|Удаляет элемент из редактируемого элемента управления "список". (Переопределяет `CVSListBoxBase::RemoveItem`.)|
|[Квслистбокс:: Селектитем](#selectitem)|Выбирает редактируемую строку элемента управления списка. (Переопределяет `CVSListBoxBase::SelectItem`.)|
|[Квслистбокс:: Сетитемдата](#setitemdata)|Связывает 32-разрядное значение конкретного приложения с редактируемым элементом элемента управления "список". (Переопределяет `CVSListBoxBase::SetItemData`.)|

### <a name="protected-methods"></a>Защищенные методы

|name|Описание|
|----------|-----------------|
|[Квслистбокс:: Жетлиссвнд](#getlisthwnd)|Возвращает маркер текущего внедренного элемента управления представлением списка.|

## <a name="remarks"></a>Примечания

`CVSListBox` Класс предоставляет набор кнопок редактирования, позволяющих пользователю создавать, изменять, удалять или переупорядочивать элементы в элементе управления "список".

Ниже приведен рисунок редактируемого элемента управления "список". Для редактирования выбирается второй элемент списка с именем «Item2».

![Элемент управления квслистбокс](../../mfc/reference/media/cvslistbox.png "Элемент управления квслистбокс")

При использовании редактора ресурсов для добавления редактируемого элемента управления "список" Обратите внимание, что панель **элементов** редактора не предоставляет предопределенный элемент управления "список". Вместо этого добавьте статический элемент управления, такой как элемент управления **Box группы** . Платформа использует статический элемент управления в качестве заполнителя для указания размера и расположения редактируемого элемента управления "список".

Чтобы использовать редактируемый элемент управления "список" в шаблоне диалогового `CVSListBox` окна, объявите переменную в своем классе диалогового окна. Для поддержки обмена данными между переменной и элементом управления Определите `DDX_Control` запись макроса `DoDataExchange` в методе диалогового окна. По умолчанию редактируемый элемент управления "список" создается без кнопок "Изменить". Чтобы включить кнопки "Изменить", используйте наследуемый метод Квслистбоксбасе:: Сетстандардбуттонс.

Дополнительные сведения см. в каталоге Samples, в `New Controls` примере — в файлах Page3. cpp и Page3. h.

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CStatic](../../mfc/reference/cstatic-class.md)

`CVSListBoxBase`

[квслистбокс](../../mfc/reference/cvslistbox-class.md)

## <a name="requirements"></a>Требования

**Заголовок:** афксвслистбокс. h

##  <a name="additem"></a>Квслистбокс:: AddItem

Добавляет строку в элемент управления "список".

```
virtual int AddItem(
    const CString& strIext,
    DWORD_PTR dwData=0,
    int iIndex=-1);
```

### <a name="parameters"></a>Параметры

*стриекст*<br/>
окне Ссылка на строку.

*двдата*<br/>
окне 32-разрядное значение конкретного приложения, связанное со строкой. Значение по умолчанию — 0.

*ииндекс*<br/>
окне Отсчитываемый от нуля индекс позиции, в которой будет храниться строка. Если параметр *ииндекс* имеет значение-1, строка добавляется в конец списка. Значение по умолчанию — -1.

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс позиции строки в элементе управления "список".

### <a name="remarks"></a>Примечания

Используйте метод [квслистбокс:: жетитемдата](#getitemdata) для получения значения, указанного в параметре *двдата* . Это значение может быть целым числом, зависящим от приложения, или указателем на другие данные.

##  <a name="cvslistbox"></a>Квслистбокс:: Квслистбокс

Создает объект `CVSListBox`.

```
CVSListBox();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="edititem"></a>Квслистбокс:: EditItem

Запускает операцию редактирования текста элемента управления "список".

```
virtual BOOL EditItem(int iIndex);
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Отсчитываемый от нуля индекс элемента управления "список".

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если операция редактирования начинается успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Пользователь запускает операцию изменения либо двойным щелчком по метке элемента, либо нажатием клавиши **F2** или пробела, когда фокус находится на элементе.

##  <a name="getcount"></a>Квслистбокс:: NOCOUNT

Извлекает количество строк в редактируемом элементе управления "список".

```
virtual int GetCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число элементов в элементе управления "Список".

### <a name="remarks"></a>Примечания

Обратите внимание, что число на единицу больше, чем значение индекса последнего элемента, так как индекс отсчитывается от нуля.

##  <a name="getitemdata"></a>Квслистбокс:: Жетитемдата

Извлекает 32-разрядное значение конкретного приложения, связанное с редактируемым элементом управления "список".

```
virtual DWORD_PTR GetItemData(int iIndex) const;
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Отсчитываемый от нуля индекс редактируемого элемента управления "список".

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение, связанное с указанным элементом.

### <a name="remarks"></a>Примечания

Используйте метод [квслистбокс:: сетитемдата](#setitemdata) или [Квслистбокс:: AddItem](#additem) , чтобы связать 32-разрядное значение с элементом элемента управления "список". Это значение может быть целым числом, зависящим от приложения, или указателем на другие данные.

##  <a name="getitemtext"></a>Квслистбокс:: Жетитемтекст

Извлекает текст редактируемого элемента управления "список".

```
virtual CString GetItemText(int iIndex) const;
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Отсчитываемый от нуля индекс редактируемого элемента управления "список".

### <a name="return-value"></a>Возвращаемое значение

Объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) , содержащий текст указанного элемента.

### <a name="remarks"></a>Примечания

##  <a name="getlisthwnd"></a>Квслистбокс:: Жетлиссвнд

Возвращает маркер текущего внедренного элемента управления представлением списка.

```
virtual HWND GetListHwnd() const;
```

### <a name="return-value"></a>Возвращаемое значение

Маркер встроенного элемента управления "представление списка".

### <a name="remarks"></a>Примечания

Этот метод используется для получения маркера встроенного элемента управления представлением списка, который `CVSListBox` поддерживает класс.

##  <a name="getselitem"></a>Квслистбокс:: Жетселитем

Возвращает отсчитываемый от нуля индекс выбранного в данный момент элемента в элементе управления "список".

```
virtual int GetSelItem() const;
```

### <a name="return-value"></a>Возвращаемое значение

Если этот метод выполнен успешно, отсчитываемый от нуля индекс текущего выбранного элемента; в противном случае — значение-1.

### <a name="remarks"></a>Примечания

##  <a name="removeitem"></a>Квслистбокс:: RemoveItem

Удаляет элемент из редактируемого элемента управления "список".

```
virtual BOOL RemoveItem(int iIndex);
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Отсчитываемый от нуля индекс редактируемого элемента управления "список".

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если указанный элемент удален; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

##  <a name="selectitem"></a>Квслистбокс:: Селектитем

Выбирает редактируемую строку элемента управления списка.

```
virtual BOOL SelectItem(int iItem);
```

### <a name="parameters"></a>Параметры

*iItem*<br/>
окне Отсчитываемый от нуля индекс редактируемого элемента управления "список".

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод выбирает указанный элемент, и при необходимости прокручивает элемент на представление.

##  <a name="setitemdata"></a>Квслистбокс:: Сетитемдата

Связывает 32-разрядное значение конкретного приложения с редактируемым элементом элемента управления "список".

```
virtual void SetItemData(
    int iIndex,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Отсчитываемый от нуля индекс редактируемого элемента управления "список".

*двдата*<br/>
окне 32-разрядное значение. Это значение может быть целым числом, зависящим от приложения, или указателем на другие данные.

### <a name="remarks"></a>Примечания

## <a name="see-also"></a>См. также

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)
