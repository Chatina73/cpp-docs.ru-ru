---
title: CTreeCtrl Class
ms.date: 11/04/2016
f1_keywords:
- CTreeCtrl
- AFXCMN/CTreeCtrl
- AFXCMN/CTreeCtrl::CTreeCtrl
- AFXCMN/CTreeCtrl::Create
- AFXCMN/CTreeCtrl::CreateDragImage
- AFXCMN/CTreeCtrl::CreateEx
- AFXCMN/CTreeCtrl::DeleteAllItems
- AFXCMN/CTreeCtrl::DeleteItem
- AFXCMN/CTreeCtrl::EditLabel
- AFXCMN/CTreeCtrl::EndEditLabelNow
- AFXCMN/CTreeCtrl::EnsureVisible
- AFXCMN/CTreeCtrl::Expand
- AFXCMN/CTreeCtrl::GetBkColor
- AFXCMN/CTreeCtrl::GetCheck
- AFXCMN/CTreeCtrl::GetChildItem
- AFXCMN/CTreeCtrl::GetCount
- AFXCMN/CTreeCtrl::GetDropHilightItem
- AFXCMN/CTreeCtrl::GetEditControl
- AFXCMN/CTreeCtrl::GetExtendedStyle
- AFXCMN/CTreeCtrl::GetFirstVisibleItem
- AFXCMN/CTreeCtrl::GetImageList
- AFXCMN/CTreeCtrl::GetIndent
- AFXCMN/CTreeCtrl::GetInsertMarkColor
- AFXCMN/CTreeCtrl::GetItem
- AFXCMN/CTreeCtrl::GetItemData
- AFXCMN/CTreeCtrl::GetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::GetItemHeight
- AFXCMN/CTreeCtrl::GetItemImage
- AFXCMN/CTreeCtrl::GetItemPartRect
- AFXCMN/CTreeCtrl::GetItemRect
- AFXCMN/CTreeCtrl::GetItemState
- AFXCMN/CTreeCtrl::GetItemStateEx
- AFXCMN/CTreeCtrl::GetItemText
- AFXCMN/CTreeCtrl::GetLastVisibleItem
- AFXCMN/CTreeCtrl::GetLineColor
- AFXCMN/CTreeCtrl::GetNextItem
- AFXCMN/CTreeCtrl::GetNextSiblingItem
- AFXCMN/CTreeCtrl::GetNextVisibleItem
- AFXCMN/CTreeCtrl::GetParentItem
- AFXCMN/CTreeCtrl::GetPrevSiblingItem
- AFXCMN/CTreeCtrl::GetPrevVisibleItem
- AFXCMN/CTreeCtrl::GetRootItem
- AFXCMN/CTreeCtrl::GetScrollTime
- AFXCMN/CTreeCtrl::GetSelectedCount
- AFXCMN/CTreeCtrl::GetSelectedItem
- AFXCMN/CTreeCtrl::GetTextColor
- AFXCMN/CTreeCtrl::GetToolTips
- AFXCMN/CTreeCtrl::GetVisibleCount
- AFXCMN/CTreeCtrl::HitTest
- AFXCMN/CTreeCtrl::InsertItem
- AFXCMN/CTreeCtrl::ItemHasChildren
- AFXCMN/CTreeCtrl::MapAccIdToItem
- AFXCMN/CTreeCtrl::MapItemToAccID
- AFXCMN/CTreeCtrl::Select
- AFXCMN/CTreeCtrl::SelectDropTarget
- AFXCMN/CTreeCtrl::SelectItem
- AFXCMN/CTreeCtrl::SelectSetFirstVisible
- AFXCMN/CTreeCtrl::SetAutoscrollInfo
- AFXCMN/CTreeCtrl::SetBkColor
- AFXCMN/CTreeCtrl::SetCheck
- AFXCMN/CTreeCtrl::SetExtendedStyle
- AFXCMN/CTreeCtrl::SetImageList
- AFXCMN/CTreeCtrl::SetIndent
- AFXCMN/CTreeCtrl::SetInsertMark
- AFXCMN/CTreeCtrl::SetInsertMarkColor
- AFXCMN/CTreeCtrl::SetItem
- AFXCMN/CTreeCtrl::SetItemData
- AFXCMN/CTreeCtrl::SetItemExpandedImageIndex
- AFXCMN/CTreeCtrl::SetItemHeight
- AFXCMN/CTreeCtrl::SetItemImage
- AFXCMN/CTreeCtrl::SetItemState
- AFXCMN/CTreeCtrl::SetItemStateEx
- AFXCMN/CTreeCtrl::SetItemText
- AFXCMN/CTreeCtrl::SetLineColor
- AFXCMN/CTreeCtrl::SetScrollTime
- AFXCMN/CTreeCtrl::SetTextColor
- AFXCMN/CTreeCtrl::SetToolTips
- AFXCMN/CTreeCtrl::ShowInfoTip
- AFXCMN/CTreeCtrl::SortChildren
- AFXCMN/CTreeCtrl::SortChildrenCB
helpviewer_keywords:
- CTreeCtrl [MFC], CTreeCtrl
- CTreeCtrl [MFC], Create
- CTreeCtrl [MFC], CreateDragImage
- CTreeCtrl [MFC], CreateEx
- CTreeCtrl [MFC], DeleteAllItems
- CTreeCtrl [MFC], DeleteItem
- CTreeCtrl [MFC], EditLabel
- CTreeCtrl [MFC], EndEditLabelNow
- CTreeCtrl [MFC], EnsureVisible
- CTreeCtrl [MFC], Expand
- CTreeCtrl [MFC], GetBkColor
- CTreeCtrl [MFC], GetCheck
- CTreeCtrl [MFC], GetChildItem
- CTreeCtrl [MFC], GetCount
- CTreeCtrl [MFC], GetDropHilightItem
- CTreeCtrl [MFC], GetEditControl
- CTreeCtrl [MFC], GetExtendedStyle
- CTreeCtrl [MFC], GetFirstVisibleItem
- CTreeCtrl [MFC], GetImageList
- CTreeCtrl [MFC], GetIndent
- CTreeCtrl [MFC], GetInsertMarkColor
- CTreeCtrl [MFC], GetItem
- CTreeCtrl [MFC], GetItemData
- CTreeCtrl [MFC], GetItemExpandedImageIndex
- CTreeCtrl [MFC], GetItemHeight
- CTreeCtrl [MFC], GetItemImage
- CTreeCtrl [MFC], GetItemPartRect
- CTreeCtrl [MFC], GetItemRect
- CTreeCtrl [MFC], GetItemState
- CTreeCtrl [MFC], GetItemStateEx
- CTreeCtrl [MFC], GetItemText
- CTreeCtrl [MFC], GetLastVisibleItem
- CTreeCtrl [MFC], GetLineColor
- CTreeCtrl [MFC], GetNextItem
- CTreeCtrl [MFC], GetNextSiblingItem
- CTreeCtrl [MFC], GetNextVisibleItem
- CTreeCtrl [MFC], GetParentItem
- CTreeCtrl [MFC], GetPrevSiblingItem
- CTreeCtrl [MFC], GetPrevVisibleItem
- CTreeCtrl [MFC], GetRootItem
- CTreeCtrl [MFC], GetScrollTime
- CTreeCtrl [MFC], GetSelectedCount
- CTreeCtrl [MFC], GetSelectedItem
- CTreeCtrl [MFC], GetTextColor
- CTreeCtrl [MFC], GetToolTips
- CTreeCtrl [MFC], GetVisibleCount
- CTreeCtrl [MFC], HitTest
- CTreeCtrl [MFC], InsertItem
- CTreeCtrl [MFC], ItemHasChildren
- CTreeCtrl [MFC], MapAccIdToItem
- CTreeCtrl [MFC], MapItemToAccID
- CTreeCtrl [MFC], Select
- CTreeCtrl [MFC], SelectDropTarget
- CTreeCtrl [MFC], SelectItem
- CTreeCtrl [MFC], SelectSetFirstVisible
- CTreeCtrl [MFC], SetAutoscrollInfo
- CTreeCtrl [MFC], SetBkColor
- CTreeCtrl [MFC], SetCheck
- CTreeCtrl [MFC], SetExtendedStyle
- CTreeCtrl [MFC], SetImageList
- CTreeCtrl [MFC], SetIndent
- CTreeCtrl [MFC], SetInsertMark
- CTreeCtrl [MFC], SetInsertMarkColor
- CTreeCtrl [MFC], SetItem
- CTreeCtrl [MFC], SetItemData
- CTreeCtrl [MFC], SetItemExpandedImageIndex
- CTreeCtrl [MFC], SetItemHeight
- CTreeCtrl [MFC], SetItemImage
- CTreeCtrl [MFC], SetItemState
- CTreeCtrl [MFC], SetItemStateEx
- CTreeCtrl [MFC], SetItemText
- CTreeCtrl [MFC], SetLineColor
- CTreeCtrl [MFC], SetScrollTime
- CTreeCtrl [MFC], SetTextColor
- CTreeCtrl [MFC], SetToolTips
- CTreeCtrl [MFC], ShowInfoTip
- CTreeCtrl [MFC], SortChildren
- CTreeCtrl [MFC], SortChildrenCB
ms.assetid: 96e20031-6161-4143-8c12-8d1816c66d90
ms.openlocfilehash: cc98a2e24fbb3eaff94e4c941986080d0bdbd7ef
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50477952"
---
# <a name="ctreectrl-class"></a>CTreeCtrl Class

Предоставляет функциональные возможности стандартного элемента управления "представление в виде дерева" Windows.

## <a name="syntax"></a>Синтаксис

```
class CTreeCtrl : public CWnd
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание|
|----------|-----------------|
|[CTreeCtrl::CTreeCtrl](#ctreectrl)|Создает объект `CTreeCtrl`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CTreeCtrl::Create](#create)|Создает дерево и присоединяет его к `CTreeCtrl` объекта.|
|[CTreeCtrl::CreateDragImage](#createdragimage)|Создает растровое изображение перетаскивания для указанного представления элемента дерева.|
|[CTreeCtrl::CreateEx](#createex)|Создает элемент управления дерева с указанным расширенные стили Windows и присоединяет его к `CTreeCtrl` объекта.|
|[CTreeCtrl::DeleteAllItems](#deleteallitems)|Удаляет все элементы в элементе управления древовидного представления.|
|[CTreeCtrl::DeleteItem](#deleteitem)|Удаляет элемент в элементе управления древовидного представления.|
|[CTreeCtrl::EditLabel](#editlabel)|Изменяет указанное дерево представления элемента на месте.|
|[CTreeCtrl::EndEditLabelNow](#endeditlabelnow)|Отменяет операцию редактирования метки элемента представления дерева в текущий элемент управления представления дерева.|
|[CTreeCtrl::EnsureVisible](#ensurevisible)|Гарантирует, что отображаемый элемент дерева является видимым в его управления иерархического представления.|
|[CTreeCtrl::Expand](#expand)|Разворачивает или сворачивает дочерние элементы из указанного представления элемента дерева.|
|[CTreeCtrl::GetBkColor](#getbkcolor)|Получает текущий цвет фона элемента управления.|
|[CTreeCtrl::GetCheck](#getcheck)|Извлекает состояние проверки элемента управления дерева.|
|[CTreeCtrl::GetChildItem](#getchilditem)|Извлекает дочерний элемент указанного дерева.|
|[CTreeCtrl::GetCount](#getcount)|Получает число элементов дерева, связанный с элементом управления иерархического представления.|
|[CTreeCtrl::GetDropHilightItem](#getdrophilightitem)|Получает целевой объект операции перетаскивания и вставки.|
|[CTreeCtrl::GetEditControl](#geteditcontrol)|Извлекает дескриптор элемента управления редактирования, используемый для редактирования указанного представления элемента дерева.|
|[CTreeCtrl::GetExtendedStyle](#getextendedstyle)|Извлекает расширенные стили, которые используют текущий элемент управления представления дерева.|
|[CTreeCtrl::GetFirstVisibleItem](#getfirstvisibleitem)|Извлекает первый видимый элемент из указанного представления элемента дерева.|
|[CTreeCtrl::GetImageList](#getimagelist)|Возвращает дескриптор списка изображений, связанного с элементом управления иерархического представления.|
|[CTreeCtrl::GetIndent](#getindent)|Получает смещение (в пикселях) элемента представления дерева от своего родительского элемента.|
|[CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Получает цвет, используемый для рисования знак вставки для древовидного представления.|
|[CTreeCtrl::GetItem](#getitem)|Извлекает атрибуты элемент указанного дерева.|
|[CTreeCtrl::GetItemData](#getitemdata)|Возвращает 32-разрядное значение конкретного приложения, связанные с элементом.|
|[CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex)|Извлекает индекс изображения для отображения, если указанный элемент текущего элемента управления представления дерева в развернутом состоянии.|
|[CTreeCtrl::GetItemHeight](#getitemheight)|Извлекает текущую высоту представление элементов дерева.|
|[CTreeCtrl::GetItemImage](#getitemimage)|Извлекает изображения, связанные с элементом.|
|[CTreeCtrl::GetItemPartRect](#getitempartrect)|Возвращает прямоугольник, ограничивающий указанную часть указанного элемента в текущий элемент управления представления дерева.|
|[CTreeCtrl::GetItemRect](#getitemrect)|Получает прямоугольник, ограничивающий элемент дерева.|
|[CTreeCtrl::GetItemState](#getitemstate)|Возвращает состояние элемента.|
|[CTreeCtrl::GetItemStateEx](#getitemstateex)|Извлекает расширенные состояние указанного элемента в элементе управления текущее представление в виде дерева.|
|[CTreeCtrl::GetItemText](#getitemtext)|Возвращает текст элемента.|
|[CTreeCtrl::GetLastVisibleItem](#getlastvisibleitem)|Извлекает последний развернутый элемент в текущий элемент управления представления дерева.|
|[CTreeCtrl::GetLineColor](#getlinecolor)|Получает текущий цвет строки для управления иерархического представления.|
|[CTreeCtrl::GetNextItem](#getnextitem)|Извлекает следующий элемент представления дерева, соответствующий указанной связи.|
|[CTreeCtrl::GetNextSiblingItem](#getnextsiblingitem)|Извлекает следующий одноуровневый элемент указанного представления элемента дерева.|
|[CTreeCtrl::GetNextVisibleItem](#getnextvisibleitem)|Извлекает следующий видимый элемент из указанного представления элемента дерева.|
|[CTreeCtrl::GetParentItem](#getparentitem)|Извлекает родительский элемент указанного дерева.|
|[CTreeCtrl::GetPrevSiblingItem](#getprevsiblingitem)|Извлекает предыдущий одноуровневый элемент указанного представления элемента дерева.|
|[CTreeCtrl::GetPrevVisibleItem](#getprevvisibleitem)|Извлекает предыдущий видимый элемент из указанного представления элемента дерева.|
|[CTreeCtrl::GetRootItem](#getrootitem)|Возвращает корневой элемент из указанного представления элемента дерева.|
|[CTreeCtrl::GetScrollTime](#getscrolltime)|Получает время максимальную прокрутку для управления иерархического представления.|
|[CTreeCtrl::GetSelectedCount](#getselectedcount)|Возвращает число выбранных элементов в элементе управления текущее представление в виде дерева.|
|[CTreeCtrl::GetSelectedItem](#getselecteditem)|Извлекает элемент текущего выбранного дерева.|
|[CTreeCtrl::GetTextColor](#gettextcolor)|Получает текущий цвет текста элемента управления.|
|[CTreeCtrl::GetToolTips](#gettooltips)|Извлекает дескриптор создаваемого дочернего элемента управления ToolTip, используемые элементом управления иерархического представления.|
|[CTreeCtrl::GetVisibleCount](#getvisiblecount)|Получает число элементов дерева видимым, связанный с элементом управления иерархического представления.|
|[CTreeCtrl::HitTest](#hittest)|Возвращает текущее положение курсора, связанные с `CTreeCtrl` объекта.|
|[CTreeCtrl::InsertItem](#insertitem)|Вставляет новый элемент в элементе управления древовидного представления.|
|[CTreeCtrl::ItemHasChildren](#itemhaschildren)|Возвращает ненулевое значение, если указанный элемент содержит дочерние элементы.|
|[CTreeCtrl::MapAccIdToItem](#mapaccidtoitem)|Сопоставляет идентификатор указанного специальных возможностей дескриптор элемента представления дерева в элементе управления текущее представление в виде дерева.|
|[CTreeCtrl::MapItemToAccID](#mapitemtoaccid)|Сопоставляет указанный дескриптор элемента представления дерева в текущий элемент управления представления дерева в идентификатор специальных возможностей.|
|[CTreeCtrl::Select](#select)|Выбирает, попадает в представление или перерисовывает элемент указанного дерева.|
|[CTreeCtrl::SelectDropTarget](#selectdroptarget)|Перерисовывает элемент дерева как целевой объект операции перетаскивания и вставки.|
|[CTreeCtrl::SelectItem](#selectitem)|Выбирает элемент указанного дерева.|
|[CTreeCtrl::SelectSetFirstVisible](#selectsetfirstvisible)|Выбирает элемент указанного дерева как первый видимый элемент.|
|[CTreeCtrl::SetAutoscrollInfo](#setautoscrollinfo)|Задает скорость autoscroll текущего элемента управления представления дерева.|
|[CTreeCtrl::SetBkColor](#setbkcolor)|Задает цвет фона элемента управления.|
|[CTreeCtrl::SetCheck](#setcheck)|Задает состояние проверки элемента управления дерева.|
|[CTreeCtrl::SetExtendedStyle](#setextendedstyle)|Задает расширенные стили для текущего элемента управления представления дерева.|
|[CTreeCtrl::SetImageList](#setimagelist)|Задает дескриптор списка изображений, связанного с элементом управления иерархического представления.|
|[CTreeCtrl::SetIndent](#setindent)|Задает смещение (в пикселях) элемента представления дерева от своего родительского элемента.|
|[CTreeCtrl::SetInsertMark](#setinsertmark)|Задает знак вставки в элементе управления древовидного представления.|
|[CTreeCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Задает цвет, используемый для рисования знак вставки для древовидного представления.|
|[CTreeCtrl::SetItem](#setitem)|Задает атрибуты элемент указанного дерева.|
|[CTreeCtrl::SetItemData](#setitemdata)|Задает 32-разрядное значение конкретного приложения, связанные с элементом.|
|[CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex)|Задает индекс изображения, отображаемого, если указанный элемент текущего элемента управления представления дерева в развернутом состоянии.|
|[CTreeCtrl::SetItemHeight](#setitemheight)|Задает высоту элемента дерева Просмотр элементов.|
|[CTreeCtrl::SetItemImage](#setitemimage)|Связывает изображений с элементом.|
|[CTreeCtrl::SetItemState](#setitemstate)|Задает состояние объекта.|
|[CTreeCtrl::SetItemStateEx](#setitemstateex)|Задает расширенные состояние указанного элемента в текущий элемент управления представления дерева.|
|[CTreeCtrl::SetItemText](#setitemtext)|Задает текст элемента.|
|[CTreeCtrl::SetLineColor](#setlinecolor)|Задает текущий цвет линии для управления иерархического представления.|
|[CTreeCtrl::SetScrollTime](#setscrolltime)|Задает максимальную прокрутку время для управления иерархического представления.|
|[CTreeCtrl::SetTextColor](#settextcolor)|Задает цвет текста элемента управления.|
|[CTreeCtrl::SetToolTips](#settooltips)|Задает дочерний элемент управления представления дерева элемента управления ToolTip.|
|[CTreeCtrl::ShowInfoTip](#showinfotip)|Отображает подсказку для указанного элемента в элементе управления текущее представление в виде дерева.|
|[CTreeCtrl::SortChildren](#sortchildren)|Сортирует потомков заданного родительского элемента.|
|[CTreeCtrl::SortChildrenCB](#sortchildrencb)|Сортирует потомков заданного родительского элемента с помощью функции сортировки определяется приложением.|

## <a name="remarks"></a>Примечания

«Дерево» — это окно, которое отображает иерархический список элементов, таких как заголовки в документе, записи в индексе, или файлы и каталоги на диске. Каждый элемент состоит из метки и необязательное растровое изображение, и каждый элемент может иметь список элементов, связанные с ней. Щелкнув элемент, пользователю можно развернуть и свернуть связанного списка элементов.

Этот элемент управления (и, следовательно `CTreeCtrl` класс) доступны только для программ, работающих в Windows 98 и Windows NT версии 4 и более поздних версиях.

Дополнительные сведения об использовании `CTreeCtrl`, см. в разделе:

- [Элементы управления](../../mfc/controls-mfc.md)

- [Использование CTreeCtrl](../../mfc/using-ctreectrl.md)

- [Ссылки на элемент управления представления дерева](/windows/desktop/Controls/tree-view-control-reference) в Windows SDK.

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CTreeCtrl`

## <a name="requirements"></a>Требования

**Заголовок:** afxcmn.h

##  <a name="create"></a>  CTreeCtrl::Create

При указании дерево в шаблон диалогового окна, или если вы используете [CTreeView](../../mfc/reference/ctreeview-class.md), элемент управления дерева создается автоматически при создании диалогового окна или представления.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*dwStyle*<br/>
Задает стиль элемента управления иерархического представления. Применение стилей окна, описанные в [CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa)и любое сочетание [стили элемента управления представления дерева](/windows/desktop/Controls/tree-view-control-window-styles) как описано в пакете Windows SDK.

*Rect*<br/>
Задает размер и положение элемента управления иерархического представления. Может быть либо [CRect](../../atl-mfc-shared/reference/crect-class.md) объекта или [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) структуры.

*pParentWnd*<br/>
Указывает родительскому окну элемента управления представления дерева, обычно `CDialog`. Он не должен иметь значение NULL.

*nID*<br/>
Указывает идентификатор элемента управления иерархического представления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если инициализация прошла успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Если вы хотите создать дерево управления как дочернего окна другие окна, используйте `Create` функция-член. При создании дерева элемента управления, используя `Create`, необходимо передать ей WS_VISIBLE, а также другие стили древовидного представления.

При создании `CTreeCtrl` в два этапа. Первый вызов конструктора, затем вызвать `Create`, который создает элементе управления иерархического представления и присоединяет его к `CTreeCtrl` объекта.

Чтобы создать дерево с расширенные стили окна, вызовите [CreateEx](#createex) вместо `Create`.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_1.cpp)]

##  <a name="createex"></a>  CTreeCtrl::CreateEx

Вызывайте эту функцию для создания элемента управления (дочернего окна) и свяжите ее с `CTreeCtrl` объекта.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*dwExStyle*<br/>
Указывает расширенный стиль создаваемого элемента управления. Список расширенных стилей Windows, см. в разделе *dwExStyle* параметр для [CreateWindowEx](/windows/desktop/api/winuser/nf-winuser-createwindowexa) в пакете Windows SDK.

*dwStyle*<br/>
Задает стиль элемента управления иерархического представления. Применение стилей окна, описанные в [CreateWindow](/windows/desktop/api/winuser/nf-winuser-createwindowa)и любое сочетание [стили элемента управления представления дерева](/windows/desktop/Controls/tree-view-control-window-styles) как описано в пакете Windows SDK.

*Rect*<br/>
Ссылку на [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) структура, описывающая размер и положение окна, создаваемых в клиентских координатах *pParentWnd*.

*pParentWnd*<br/>
Указатель на окно, которое является родительским для элемента управления.

*nID*<br/>
Идентификатор элемента управления дочернего окна.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, при успешном выполнении в противном случае 0.

### <a name="remarks"></a>Примечания

Используйте `CreateEx` вместо [создать](#create) применение расширенных стилей Windows, определяемое префикс расширенного стиля Windows **WS_EX_**.

##  <a name="createdragimage"></a>  CTreeCtrl::CreateDragImage

Вызывайте эту функцию для создание перетаскивания растрового изображения для данного элемента в элементе управления представления дерева, Создание списка изображений для битовой карты и добавить растрового изображения для списка изображений.

```
CImageList* CreateDragImage(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева можно перетаскивать.

### <a name="return-value"></a>Возвращаемое значение

Указатель на список изображений, в которую был добавлен перетаскивания точечного рисунка, если выполнение прошло успешно; в противном случае имеет значение NULL.

### <a name="remarks"></a>Примечания

Приложение использует функции списка изображений для отображения изображения в том случае, когда перетаскивается элемент.

`CImageList` Объект является окончательным, и необходимо удалить его после завершения. Пример:

[!code-cpp[NVC_MFC_CTreeCtrl#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_2.cpp)]

##  <a name="ctreectrl"></a>  CTreeCtrl::CTreeCtrl

Создает объект `CTreeCtrl`.

```
CTreeCtrl();
```

##  <a name="deleteallitems"></a>  CTreeCtrl::DeleteAllItems

Вызывайте эту функцию, чтобы удалить все элементы в элементе управления иерархического представления.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_3.cpp)]

##  <a name="deleteitem"></a>  CTreeCtrl::DeleteItem

Вызывайте эту функцию, чтобы удалить элемент из элемента управления иерархического представления.

```
BOOL DeleteItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева для удаления. Если *hitem* имеет значение TVI_ROOT, будут удалены все элементы в элементе управления иерархического представления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_4.cpp)]

##  <a name="editlabel"></a>  CTreeCtrl::EditLabel

Вызывайте эту функцию, чтобы начать редактирование на месте указанного элемента текста.

```
CEdit* EditLabel(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева для редактирования.

### <a name="return-value"></a>Возвращаемое значение

При успешном выполнении указатель на `CEdit` объект, который используется для редактирования текста элемента; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Редактирование выполняется, заменив текст элемента управления одной строкой, содержащий текст.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_5.cpp)]

##  <a name="endeditlabelnow"></a>  CTreeCtrl::EndEditLabelNow

Завершает операцию изменения в метку элемента представления дерева в текущий элемент управления представления дерева.

```
BOOL EndEditLabelNow(BOOL fCancelWithoutSave);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*fCancelWithoutSave*|[in] Значение TRUE, чтобы отменить изменения элемента представления дерева, прежде чем закончить операции редактирования, или значение FALSE, чтобы сохранить изменения для элемента представления дерева, прежде чем закончить операцию.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет [TVM_ENDEDITLABELNOW](/windows/desktop/Controls/tvm-endeditlabelnow) сообщения, который описан в пакете Windows SDK.

##  <a name="ensurevisible"></a>  CTreeCtrl::EnsureVisible

Вызывайте эту функцию, чтобы убедиться, что отображаемый элемент дерева является видимым.

```
BOOL EnsureVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева, было нельзя сделать видимым.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE, если система может прокручиваться элементы в элементе управления представления дерева, чтобы убедиться, что указанный элемент является видимым. В противном случае возвращает значение FALSE.

### <a name="remarks"></a>Примечания

При необходимости функция разворачивается на родительский элемент или прокрутка элементе управления иерархического представления, таким образом, чтобы элемент видим.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_6.cpp)]

##  <a name="expand"></a>  CTreeCtrl::Expand

Вызывайте эту функцию, чтобы развернуть или свернуть список дочерних элементов, если имеется, сопоставленный с элементом заданного родительского объекта.

```
BOOL Expand(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор расширяемого элемента дерева.

*nCode*<br/>
Флаг, указывающий тип действия, которые должны выполняться. Этот флаг может принимать одно из следующих значений:

- TVE_COLLAPSE сворачивает список.

- TVE_COLLAPSERESET сворачивает список и удаляет дочерние элементы. Флаг состояния TVIS_EXPANDEDONCE сбрасывается. Этот флаг должен использоваться с флагом TVE_COLLAPSE.

- TVE_EXPAND приведет к развертыванию списка.

- TVE_TOGGLE сворачивает список, если он развернут в настоящее время или увеличивает его, если она в данный момент свернута.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::EnsureVisible](#ensurevisible).

##  <a name="getbkcolor"></a>  CTreeCtrl::GetBkColor

Эта функция-член реализует поведение сообщение Win32 [TVM_GETBKCOLOR](/windows/desktop/Controls/tvm-getbkcolor), как описано в пакете Windows SDK.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение COLORREF, представляющее цвет фона текущего окна для элемента управления. Если это значение равно -1, элемент управления используется цвет окна системы. В этом случае можно использовать `::GetSysColor(COLOR_WINDOW)` для получения текущего системный цвет, который использует элемент управления.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="getcheck"></a>  CTreeCtrl::GetCheck

Вызовите эту функцию-член для получения состояния флажка элемента.

```
BOOL GetCheck(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
HTREEITEM о том, какие для получения сведений о состоянии.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если элемент управления дерева был успешно извлечен; в противном случае 0.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getchilditem"></a>  CTreeCtrl::GetChildItem

Вызов, эту функцию, чтобы получить дерево элементов представление, является дочерним элементом элемента, заданного посредством *hItem*.

```
HTREEITEM GetChildItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор дочернего элемента, если выполнение прошло успешно; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_7.cpp)]

##  <a name="getcount"></a>  CTreeCtrl::GetCount

Вызывайте эту функцию для извлечения количества элементов в элементе управления древовидного представления.

```
UINT GetCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число элементов в элементе управления иерархического представления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_8.cpp)]

##  <a name="getdrophilightitem"></a>  CTreeCtrl::GetDropHilightItem

Вызывайте эту функцию для извлечения элемента, который является целевым объектом операции перетаскивания и вставки.

```
HTREEITEM GetDropHilightItem() const;
```

### <a name="return-value"></a>Возвращаемое значение

Дескриптор элемента удалена, если выполнение прошло успешно; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

##  <a name="geteditcontrol"></a>  CTreeCtrl::GetEditControl

Вызывайте эту функцию для получения дескриптора элемента управления редактирования используемый для редактирования текста для элемента представления дерева.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на поле ввода, используемый для редактирования текста элемента, если выполнение прошло успешно; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#10](../../mfc/reference/codesnippet/cpp/ctreectrl-class_10.cpp)]

##  <a name="getextendedstyle"></a>  CTreeCtrl::GetExtendedStyle

Извлекает расширенные стили, которые используют текущий элемент управления представления дерева.

```
DWORD GetExtendedStyle() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение, которое содержит битовую комбинацию (OR) текущего элемента управления представления дерева расширенных стилей. Дополнительные сведения см. в разделе [стили расширенных элементов управления представления дерева](/windows/desktop/Controls/tree-view-control-window-extended-styles).

### <a name="remarks"></a>Примечания

Этот метод отправляет [TVM_GETEXTENDEDSTYLE](/windows/desktop/Controls/tvm-getextendedstyle) сообщения, который описан в пакете Windows SDK.

##  <a name="getfirstvisibleitem"></a>  CTreeCtrl::GetFirstVisibleItem

Вызывайте эту функцию для получения первого элемента, видимого элемента управления представления дерева.

```
HTREEITEM GetFirstVisibleItem() const;
```

### <a name="return-value"></a>Возвращаемое значение

Дескриптор первый видимый элемент; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getimagelist"></a>  CTreeCtrl::GetImageList

Вызывайте эту функцию, чтобы получить дескриптор нормали или состояние списка изображений, связанного с элементом управления представления дерева.

```
CImageList* GetImageList(UINT nImageList) const;
```

### <a name="parameters"></a>Параметры

*nImageList*<br/>
Тип списка изображений для извлечения. Список изображений может принимать одно из следующих значений:

- TVSIL_NORMAL извлекает список обычный образ, который содержит выбранный и невыбранные изображения для элемента представления дерева.

- TVSIL_STATE извлекает список изображение состояния, который содержит изображения для элементов представления дерева, которые находятся в состоянии, определяемые пользователем.

### <a name="return-value"></a>Возвращаемое значение

Указатель на список изображений элемента управления, если выполнение прошло успешно; в противном случае имеет значение NULL.

### <a name="remarks"></a>Примечания

Каждый элемент в элементе управления представления дерева может иметь пару точечных рисунков, связанных с ним. Одно изображение отображается в том случае, когда элемент выбран, и другой отображается, если элемент не выбран. Например элемент может отображаться открыть папку, когда он выбран и закрытую папку, если он не выбран.

Дополнительные сведения о списках изображений, см. в разделе [CImageList](../../mfc/reference/cimagelist-class.md) класса.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#11](../../mfc/reference/codesnippet/cpp/ctreectrl-class_11.cpp)]

##  <a name="getindent"></a>  CTreeCtrl::GetIndent

Вызывайте эту функцию, извлекается сумма, в пикселях, что дочерние элементы отображаются с отступом относительно их родительские элементы.

```
UINT GetIndent() const;
```

### <a name="return-value"></a>Возвращаемое значение

Величину отступа измеряется в пикселах.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#12](../../mfc/reference/codesnippet/cpp/ctreectrl-class_12.cpp)]

##  <a name="getinsertmarkcolor"></a>  CTreeCtrl::GetInsertMarkColor

Эта функция-член реализует поведение сообщение Win32 [TVM_GETINSERTMARKCOLOR](/windows/desktop/Controls/tvm-getinsertmarkcolor), как описано в пакете Windows SDK.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение COLORREF, содержащее текущий цвет знака вставки.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#13](../../mfc/reference/codesnippet/cpp/ctreectrl-class_13.cpp)]

##  <a name="getitem"></a>  CTreeCtrl::GetItem

Вызывайте эту функцию для получения атрибутов из указанного представления элемента дерева.

```
BOOL GetItem(TVITEM* pItem) const;
```

### <a name="parameters"></a>Параметры

*pItem*<br/>
Указатель на [TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) структуры, как описано в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::DeleteItem](#deleteitem).

##  <a name="getitemdata"></a>  CTreeCtrl::GetItemData

Вызывайте эту функцию для получения 32-разрядное значение конкретного приложения, связанный с указанным элементом.

```
DWORD_PTR GetItemData(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента, данные которого требуется извлечь.

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение конкретного приложения, связанные с элемента, заданного посредством *hItem*.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#14](../../mfc/reference/codesnippet/cpp/ctreectrl-class_14.cpp)]

##  <a name="getitemexpandedimageindex"></a>  CTreeCtrl::GetItemExpandedImageIndex

Извлекает индекс изображения для отображения, если указанный элемент текущего элемента управления представления дерева в развернутом состоянии.

```
int GetItemExpandedImageIndex(HTREEITEM hItem)const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*hItem*|[in] Дескриптор элемента управления представления дерева.|

### <a name="return-value"></a>Возвращаемое значение

Индекс изображения, отображаемого, если указанный элемент находится в развернутом состоянии.

### <a name="remarks"></a>Примечания

Этот метод отправляет [TVM_GETITEM](/windows/desktop/Controls/tvm-getitem) сообщения, который описан в пакете Windows SDK. Сообщения возвращает [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуру, которая описывает элемент управления представления дерева, а затем этот метод извлекает `iExpandedImage` член из этой структуры.

##  <a name="getitemheight"></a>  CTreeCtrl::GetItemHeight

Эта функция-член реализует поведение сообщение Win32 [TVM_GETITEMHEIGHT](/windows/desktop/Controls/tvm-getitemheight), как описано в пакете Windows SDK.

```
SHORT GetItemHeight() const;
```

### <a name="return-value"></a>Возвращаемое значение

Высота элемента в пикселях.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#15](../../mfc/reference/codesnippet/cpp/ctreectrl-class_15.cpp)]

##  <a name="getitemimage"></a>  CTreeCtrl::GetItemImage

Каждый элемент в элементе управления представления дерева может иметь пару точечных рисунков, связанных с ним.

```
BOOL GetItemImage(
    HTREEITEM hItem,
    int& nImage,
    int& nSelectedImage) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента, образ которой требуется извлечь.

*Изображение*<br/>
Целое число, Получает индекс изображения элемента в список изображений элемента управления иерархического представления.

*nSelectedImage*<br/>
Целое число, Получает индекс изображения выбранного элемента в список изображений элемента управления иерархического представления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

То изображения появляются слева от метки элемента. Одно изображение отображается в том случае, когда элемент выбран, и другой отображается, если элемент не выбран. Например элемент может отображаться открыть папку, когда он выбран и закрытую папку, если он не выбран.

Вызывайте эту функцию для извлечения индекса изображение элемента и его выбранного образа в список изображений элемента управления иерархического представления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#16](../../mfc/reference/codesnippet/cpp/ctreectrl-class_16.cpp)]

##  <a name="getitempartrect"></a>  CTreeCtrl::GetItemPartRect

Возвращает прямоугольник, ограничивающий указанную часть указанного элемента в текущий элемент управления представления дерева.

```
BOOL GetItemPartRect(
    HTREEITEM hItem,
    int nPart,
    LPRECT lpRect)const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*hItem*|[in] Дескриптор элемента управления представления дерева.|
|*nPart*|[in] Идентификатор для части. Должно быть присвоено TVGIPR_BUTTON.|
|*lpRect*|[out] Указатель на [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) структуры. Если этот метод выполняется успешно, структура получает координаты прямоугольника компонент, указываемый *hItem* и *nPart*.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Связывает каждого элемента управления дерева прямоугольник графики. При каждом нажатии точку в этот прямоугольник, элемент считается *попаданий*. Этот метод возвращает самый большой прямоугольник, таким образом, что при выборе точки в прямоугольнике элемент, определенный с *hItem* достигается параметра.

Этот метод отправляет сообщение TVM_GETITEMPARTRECT, который описан в пакете Windows SDK. Дополнительные сведения см. в разделе [TreeView_GetItemPartRect](/windows/desktop/api/commctrl/nf-commctrl-treeview_getitempartrect) макрос.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_treeCtrl`, который используется для доступа к текущего элемента управления представления дерева. В примере кода также определяет целое число без знака и несколько переменных HTREEITEM. Эти переменные используются в следующем примере.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Пример

В следующем примере кода используется идентификатор специальных возможностей и [CTreeCtrl::MapAccIdToItem](#mapaccidtoitem) метод для извлечения дескриптора корневой элемент дерева. Затем в примере используется дескриптор и [CTreeCtrl::GetItemPartRect](#getitempartrect) метод для отображения трехмерных прямоугольник вокруг этого элемента. В предыдущем разделе в примере кода, который не отображается, мы создали дерево, состоящий из корневого узла страны или региона для США, подузлов для состояний Пенсильвании и Вашингтон и дерево элементов для городов, в этих состояниях. Мы использовали [CTreeCtrl::MapItemToAccID](#mapitemtoaccid) метод, чтобы сопоставить корневой элемент дерева с идентификатором, специальных возможностей.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

##  <a name="getitemrect"></a>  CTreeCtrl::GetItemRect

Вызывайте эту функцию, чтобы получить ограничивающий прямоугольник для *hItem* и определить, является ли он видимым или нет.

```
BOOL GetItemRect(
    HTREEITEM hItem,
    LPRECT lpRect,
    BOOL bTextOnly) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента управления представления дерева.

*lpRect*<br/>
Указатель на [RECT](https://msdn.microsoft.com/library/windows/desktop/dd162897) структуру, которая получает ограничивающий прямоугольник. Координаты указываются относительно левого верхнего угла элемента управления представления дерева.

*bTextOnly*<br/>
Если этот параметр имеет ненулевое значение, ограничивающий прямоугольник включает только текст элемента. В противном случае он включает всю строку, занимает элемент в элементе управления иерархического представления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если элемент видим, что ограничивающий прямоугольник, содержащихся в *lpRect*. В противном случае — 0 с *lpRect* неинициализированным.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#17](../../mfc/reference/codesnippet/cpp/ctreectrl-class_19.cpp)]

##  <a name="getitemstate"></a>  CTreeCtrl::GetItemState

Возвращает состояние элемента, заданного посредством *hItem*.

```
UINT GetItemState(
    HTREEITEM hItem,
    UINT nStateMask) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента, состояние которого требуется получить.

*nStateMask*<br/>
Маска, определяющая один или несколько состояний, которые требуется извлечь. Дополнительные сведения о возможных значениях *nStateMask*, приведены в обсуждении `state` и `stateMask` членами [TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) структуры в пакете Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Целое число без знака, содержащий побитовым значением или значений, указанных nStateMask. Сведения о возможных значениях см. в разделе [CTreeCtrl::GetItem](#getitem). Чтобы найти значение для конкретного состояния, выполните побитовую операцию и значения состояния и возвращаемого значения, как показано в следующем примере.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#18](../../mfc/reference/codesnippet/cpp/ctreectrl-class_20.cpp)]

##  <a name="getitemstateex"></a>  CTreeCtrl::GetItemStateEx

Извлекает расширенные состояние указанного элемента в элементе управления текущее представление в виде дерева.

```
UINT GetItemStateEx(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*hItem*|[in] Дескриптор элемента управления представления дерева.|

### <a name="return-value"></a>Возвращаемое значение

Расширенные состояние элемента. Дополнительные сведения см. в разделе `uStateEx` членом [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуры.

### <a name="remarks"></a>Примечания

Этот метод отправляет [TVM_GETITEM](/windows/desktop/Controls/tvm-getitem) сообщения, который описан в пакете Windows SDK. Сообщения возвращает [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуру, которая описывает элемент управления представления дерева и этот метод извлекает `uStateEx` член из этой структуры.

##  <a name="getitemtext"></a>  CTreeCtrl::GetItemText

Возвращает текст элемента, заданного посредством *hItem*.

```
CString GetItemText(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента, текст которого требуется получить.

### <a name="return-value"></a>Возвращаемое значение

Объект `CString` объект, содержащий текст для элемента.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetNextItem](#getnextitem).

##  <a name="getlastvisibleitem"></a>  CTreeCtrl::GetLastVisibleItem

Извлекает последний элемент нерасширенных узла в текущий элемент управления представления дерева.

```
HTREEITEM GetLastVisibleItem() const;
```

### <a name="return-value"></a>Возвращаемое значение

Дескриптор в последний элемент нерасширенных узла, если метод выполнен успешно; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Этот метод отправляет [TVM_GETNEXTITEM](/windows/desktop/Controls/tvm-getnextitem) сообщения, который описан в пакете Windows SDK. Дополнительные сведения см. в разделе флаг TVGN_LASTVISIBLE в *флаг* параметр этого сообщения.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_treeCtrl`, который используется для доступа к текущего элемента управления представления дерева. В примере кода также определяет целое число без знака и несколько переменных HTREEITEM. В следующем примере используются один или несколько из этих переменных.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Пример

В следующем примере кода извлекает дескриптор последнего элемента узла нерасширенных представления дерева, а затем выводит объемный прямоугольник вокруг этого элемента. В предыдущем разделе в примере кода, который не отображается, мы создали дерево, состоящий из корневого узла страны или региона для США, подузлов для состояний Пенсильвании и Вашингтон и дерево элементов для городов, в этих состояниях.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#6](../../mfc/reference/codesnippet/cpp/ctreectrl-class_21.cpp)]

##  <a name="getlinecolor"></a>  CTreeCtrl::GetLineColor

Эта функция-член реализует поведение сообщение win32 [TVM_GETLINECOLOR](/windows/desktop/Controls/tvm-getlinecolor), как описано в пакете Windows SDK.

```
COLORREF GetLineColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущий цвет линии.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#19](../../mfc/reference/codesnippet/cpp/ctreectrl-class_22.cpp)]

##  <a name="getnextitem"></a>  CTreeCtrl::GetNextItem

Вызов, просмотреть эту функцию для получения дереве элемент, имеющий указанную связь, обозначается *nCode* параметр, чтобы *hItem*.

```
HTREEITEM GetNextItem(
    HTREEITEM hItem,
    UINT nCode) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

*nCode*<br/>
Флаг, указывающий тип отношения для *hItem*. Этот флаг может принимать одно из следующих значений:

- TVGN_CARET получает текущий выбранный элемент.

- TVGN_CHILD извлекает первый дочерний элемент элемента, заданного по *hItem* параметра.

- TVGN_DROPHILITE извлекает элемент, который является целевым объектом операции перетаскивания и вставки.

- TVGN_FIRSTVISIBLE извлекает первый видимый элемент.

- TVGN_LASTVISIBLE извлекает последний элемент развернут в дереве. Это не сможет извлечь последний элемент отображается в окне представления дерева.

- TVGN_NEXT извлекается следующий элемент того же уровня.

- TVGN_NEXTVISIBLE извлекается следующий элемент видимым, следующий за указанным элементом.

- TVGN_PARENT извлекает родительский элемент указанного элемента.

- TVGN_PREVIOUS извлекается предыдущий элемент того же уровня.

- TVGN_PREVIOUSVISIBLE извлекает первый видимый элемент, который предшествует указанного элемента.

- TVGN_ROOT извлекает первый дочерний элемент корневого элемента, частью которого является указанный элемент.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор следующего элемента, если выполнение прошло успешно; в противном случае имеет значение NULL.

### <a name="remarks"></a>Примечания

Эта функция возвращает значение NULL, если извлекаемого элемента является корневым узлом дерева. Например если вы используете это сообщение с флагом TVGN_PARENT на первого уровня дочернего элемента корневого узла дерева, сообщение возвращают NULL.

### <a name="example"></a>Пример

Например, с помощью `GetNextItem` в цикле, см. в разделе [CTreeCtrl::DeleteItem](#deleteitem).

[!code-cpp[NVC_MFC_CTreeCtrl#20](../../mfc/reference/codesnippet/cpp/ctreectrl-class_23.cpp)]

##  <a name="getnextsiblingitem"></a>  CTreeCtrl::GetNextSiblingItem

Вызывайте эту функцию для получения следующий одноуровневый элемент *hItem*.

```
HTREEITEM GetNextSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор следующего элемента того же уровня; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#21](../../mfc/reference/codesnippet/cpp/ctreectrl-class_24.cpp)]

##  <a name="getnextvisibleitem"></a>  CTreeCtrl::GetNextVisibleItem

Вызывайте эту функцию для извлечения следующего элемента видимым из *hItem*.

```
HTREEITEM GetNextVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор следующего элемента, видимого; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::SetCheck](#setcheck).

##  <a name="getparentitem"></a>  CTreeCtrl::GetParentItem

Вызывайте эту функцию для получения предком *hItem*.

```
HTREEITEM GetParentItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор родительского элемента; в противном случае имеет значение NULL.

### <a name="remarks"></a>Примечания

Эта функция возвращает значение NULL, если родительский указанный элемент является корневым узлом дерева.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::EnsureVisible](#ensurevisible).

##  <a name="getprevsiblingitem"></a>  CTreeCtrl::GetPrevSiblingItem

Вызывайте эту функцию для получения предыдущий одноуровневый элемент *hItem*.

```
HTREEITEM GetPrevSiblingItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор предыдущего одноуровневого элемента; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#22](../../mfc/reference/codesnippet/cpp/ctreectrl-class_25.cpp)]

##  <a name="getprevvisibleitem"></a>  CTreeCtrl::GetPrevVisibleItem

Вызывайте эту функцию для получения предыдущих видимый элемент из *hItem*.

```
HTREEITEM GetPrevVisibleItem(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор предыдущего видимого элемента; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#23](../../mfc/reference/codesnippet/cpp/ctreectrl-class_26.cpp)]

##  <a name="getrootitem"></a>  CTreeCtrl::GetRootItem

Вызывайте эту функцию для получения корневого элемента управления иерархического представления.

```
HTREEITEM GetRootItem() const;
```

### <a name="return-value"></a>Возвращаемое значение

Дескриптор корневого элемента; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::EditLabel](#editlabel).

##  <a name="getscrolltime"></a>  CTreeCtrl::GetScrollTime

Вызовите эту функцию-член получить максимальную прокрутку время для управления иерархического представления.

```
UINT GetScrollTime() const;
```

### <a name="return-value"></a>Возвращаемое значение

Максимальная прокрутка время в миллисекундах.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение сообщение win32 [TVM_GETSCROLLTIME](/windows/desktop/Controls/tvm-getscrolltime), как описано в пакете Windows SDK.

##  <a name="getselectedcount"></a>  CTreeCtrl::GetSelectedCount

Возвращает число выбранных элементов в элементе управления текущее представление в виде дерева.

```
UINT GetSelectedCount();
```

### <a name="return-value"></a>Возвращаемое значение

Число выбранных элементов.

### <a name="remarks"></a>Примечания

Этот метод отправляет [TVM_GETSELECTEDCOUNT](/windows/desktop/Controls/tvm-getselectedcount) сообщения, который описан в пакете Windows SDK.

##  <a name="getselecteditem"></a>  CTreeCtrl::GetSelectedItem

Вызывайте эту функцию для получения текущего выделенного элемента управления иерархического представления.

```
HTREEITEM GetSelectedItem() const;
```

### <a name="return-value"></a>Возвращаемое значение

Дескриптор выбранного элемента; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#24](../../mfc/reference/codesnippet/cpp/ctreectrl-class_27.cpp)]

##  <a name="gettextcolor"></a>  CTreeCtrl::GetTextColor

Эта функция-член реализует поведение сообщение Win32 [TVM_GETTEXTCOLOR](/windows/desktop/Controls/tvm-gettextcolor), как описано в пакете Windows SDK.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение COLORREF, представляющее текущий цвет текста. Если это значение равно -1, элемент управления использует системный цвет для цвета текста.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="gettooltips"></a>  CTreeCtrl::GetToolTips

Эта функция-член реализует поведение сообщение Win32 [TVM_GETTOOLTIPS](/windows/desktop/Controls/tvm-gettooltips), как описано в пакете Windows SDK.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) объект для использования элементом управления дерева. Если [создать](#create) функция-член использует стиль TVS_NOTOOLTIPS, используются без подсказки и возвращается значение NULL.

### <a name="remarks"></a>Примечания

Реализация MFC `GetToolTips` возвращает `CToolTipCtrl` объект, который используется в элементе управления иерархического представления, а не дескриптор элемента управления всплывающей подсказки.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#25](../../mfc/reference/codesnippet/cpp/ctreectrl-class_28.cpp)]

##  <a name="getvisiblecount"></a>  CTreeCtrl::GetVisibleCount

Вызывайте эту функцию, чтобы получить число видимых элементов в элементе управления древовидного представления.

```
UINT GetVisibleCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество видимых элементов в элементе управления иерархического представления; в противном случае - 1.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::SetCheck](#setcheck).

##  <a name="hittest"></a>  CTreeCtrl::HitTest

Вызывайте эту функцию, чтобы определить расположение указанной точки относительно клиентской области элемента управления представления дерева.

```
HTREEITEM HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;

HTREEITEM HitTest(TVHITTESTINFO* pHitTestInfo) const;
```

### <a name="parameters"></a>Параметры

*pt*<br/>
Клиент координаты точки для проверки.

*pFlags*<br/>
Указатель на целое число, получающий сведения о результатах проверки нажатия. Он может иметь одно или несколько значений, перечисленных в разделе `flags` член в разделе "Примечания".

*pHitTestInfo*<br/>
Адрес [TVHITTESTINFO будет СОДЕРЖАТЬ](/windows/desktop/api/commctrl/ns-commctrl-tagtvhittestinfo) структуру, содержащую позиции нажатия теста и что получает сведения о результатах проверки нажатия.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор элемента представления дерева, который занимает в указанной точке или значение NULL, если элемент не занимает точку.

### <a name="remarks"></a>Примечания

При вызове этой функцией, *pt* параметр задает координаты точки для проверки. Функция возвращает дескриптор элемента в указанной точке или значение NULL, если элемент не занимает точку. Кроме того *pFlags* параметр содержит значение, указывающее расположение указанной точки. Доступны следующие значения:

|||
|-|-|
|Значение|Значение|
|TVHT_ABOVE|Выше клиентской области.|
|TVHT_BELOW|Ниже клиентской области.|
|TVHT_NOWHERE|В клиентской области, но ниже последнего элемента.|
|TVHT_ONITEM|Точечный рисунок или метку, связанную с элементом.|
|TVHT_ONITEMBUTTON|На кнопке, связанные с элементом.|
|TVHT_ONITEMICON|На растровое изображение, связанное с элементом.|
|TVHT_ONITEMINDENT|В отступы, связанные с элементом.|
|TVHT_ONITEMLABEL|Метки (строка), связанные с элементом.|
|TVHT_ONITEMRIGHT|В области справа от элемента.|
|TVHT_ONITEMSTATEICON|Значок состояния для элемента представления дерева, который находится в состоянии, определяемые пользователем.|
|TVHT_TOLEFT|Слева от клиентской области.|
|TVHT_TORIGHT|Справа от клиентской области.|
|||

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

##  <a name="insertitem"></a>  CTreeCtrl::InsertItem

Вызывайте эту функцию для вставки нового элемента в элементе управления древовидного представления.

```
HTREEITEM InsertItem(LPTVINSERTSTRUCT lpInsertStruct);

HTREEITEM InsertItem(
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    HTREEITEM hParent,
    HTREEITEM hInsertAfter);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);

HTREEITEM InsertItem(
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    HTREEITEM hParent = TVI_ROOT,
    HTREEITEM hInsertAfter = TVI_LAST);
```

### <a name="parameters"></a>Параметры

*lpInsertStruct*<br/>
Указатель на `TVINSERTSTRUCT` , указывающий атрибуты вставляемого элемента представления дерева.

*nMask*<br/>
Целое число, указывающее, какие атрибуты следует задать. См. в разделе `TVITEM` структуры в пакете Windows SDK.

*lpszItem*<br/>
Адрес строка, содержащая текст для элемента.

*Изображение*<br/>
Индекс изображения элемента в список изображений элемента управления иерархического представления.

*nSelectedImage*<br/>
Индекс изображения выбранного элемента в список изображений элемента управления иерархического представления.

*nState*<br/>
Задает значения для состояния элемента. См. в разделе представления элемента управления состояниях элемента древовидного элемента в пакете Windows SDK для список соответствующих состояний.

*nStateMask*<br/>
Указывает, какие состояния будут устанавливаться. См. в разделе `TVITEM` структуры в пакете Windows SDK.

*lParam*<br/>
32-разрядное значение конкретного приложения, связанный с элементом.

*hParent*<br/>
Дескриптор родительского вставленного элемента.

*hInsertAfter*<br/>
Дескриптор элемента, после которого будет новый элемент для вставки.

### <a name="return-value"></a>Возвращаемое значение

Дескриптор нового элемента, если выполнение прошло успешно; в противном случае имеет значение NULL.

### <a name="remarks"></a>Примечания

В примере ситуаций, в которых может потребоваться использовать каждую версию функции, при вставке элемента управления дерева.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#27](../../mfc/reference/codesnippet/cpp/ctreectrl-class_30.cpp)]

##  <a name="itemhaschildren"></a>  CTreeCtrl::ItemHasChildren

Эта функция позволяет определить, является ли заданный элемент дерева *hItem* имеет дочерние элементы.

```
BOOL ItemHasChildren(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если элемент дерева, заданный параметром *hItem* есть дочерние элементы; 0, если это не так.

### <a name="remarks"></a>Примечания

Если таким образом, можно воспользоваться [CTreeCtrl::GetChildItem](#getchilditem) для получения этих дочерних элементов.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetSelectedItem](#getselecteditem).

##  <a name="mapaccidtoitem"></a>  CTreeCtrl::MapAccIdToItem

Сопоставляет идентификатор указанного специальных возможностей дескриптор элемента представления дерева в текущий элемент управления представления дерева.

```
HTREEITEM MapAccIdToItem(UINT uAccId) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*uAccId*|[in] Идентификатор элемента в элементе представления дерева специальных возможностей.|

### <a name="return-value"></a>Возвращаемое значение

Дескриптор элемента представления дерева ( `HTREEITEM`), соответствующий *uAccId* параметра. Дополнительные сведения см. в разделе *hItem* членом [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуры.

### <a name="remarks"></a>Примечания

Специальные возможности — это приложения, помогающие людям с ограниченными возможностями использования компьютеров. Используемый идентификатор специальных возможностей `IAccessible` интерфейс, чтобы уникальным образом определять элемент в окне. Дополнительные сведения об идентификаторах специальных возможностей см. в разделе «О Active поддержка специальных возможностей» по адресу [Microsoft Developer Network](http://go.microsoft.com/fwlink/p/?linkid=56322).

Этот метод отправляет [TVM_MAPACCIDTOHTREEITEM](/windows/desktop/Controls/tvm-mapaccidtohtreeitem) сообщения, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_treeCtrl`, который используется для доступа к текущего элемента управления представления дерева. В примере кода также определяет целое число без знака и несколько переменных HTREEITEM. Эти переменные используются в следующем примере.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Пример

В следующем примере кода используется идентификатор специальных возможностей и [CTreeCtrl::MapAccIdToItem](#mapaccidtoitem) метод для извлечения дескриптора корневой элемент дерева. В примере используется дескриптор и [CTreeCtrl::GetItemPartRect](#getitempartrect) метод для отображения трехмерных прямоугольник вокруг этого элемента. В предыдущем разделе в примере кода, который не отображается, мы создали дерево, состоящий из корневого узла страны или региона для США, подузлов для состояний Пенсильвании и Вашингтон и дерево элементов для городов, в этих состояниях. Мы использовали [CTreeCtrl::MapItemToAccID](#mapitemtoaccid) метод, чтобы сопоставить корневой элемент дерева с идентификатором, специальных возможностей.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctreectrl-class_18.cpp)]

##  <a name="mapitemtoaccid"></a>  CTreeCtrl::MapItemToAccID

Сопоставляет указанный дескриптор элемента представления дерева в элементе управления представления дерева текущего идентификатора специальных возможностей.

```
UINT MapItemToAccID(HTREEITEM hItem) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*hItem*|[in] Дескриптор элемента представления дерева в элементе управления. Дополнительные сведения см. в разделе *hItem* членом [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуры.|

### <a name="return-value"></a>Возвращаемое значение

Идентификатор специальных возможностей, который соответствует *hItem* параметра.

### <a name="remarks"></a>Примечания

Специальные возможности — это приложения, помогающие людям с ограниченными возможностями использования компьютеров. Используемый идентификатор специальных возможностей `IAccessible` интерфейс, чтобы уникальным образом определять элемент в окне. Дополнительные сведения об идентификаторах специальных возможностей см. в разделе «О Active поддержка специальных возможностей» по адресу [Microsoft Developer Network](http://go.microsoft.com/fwlink/p/?linkid=56322).

Этот метод отправляет [TVM_MAPHTREEITEMTOACCID](/windows/desktop/Controls/tvm-maphtreeitemtoaccid) сообщения, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_treeCtrl`, который используется для доступа к текущего элемента управления представления дерева. В примере кода также определяет целое число без знака и несколько переменных HTREEITEM. Эти переменные используются в следующем примере.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Пример

В следующем примере код получает идентификатор для элемента управления представления дерева. В предыдущем разделе в примере кода, который не отображается, мы создали дерево, состоящий из корневого узла страны или региона для США, подузлов для состояний Пенсильвании и Вашингтон и дерево элементов для городов, в этих состояниях. Данный пример кода Получает уникальный идентификационный номер для корневого узла страны или региона.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctreectrl-class_31.cpp)]

##  <a name="select"></a>  CTreeCtrl::Select

Вызывайте эту функцию, выберите элемент заданное дерево представления или прокрутки элемента в представлении перерисовывает элемент в стиль, используемый для указания целевого объекта для операции перетаскивания и вставки.

```
BOOL Select(
    HTREEITEM hItem,
    UINT nCode);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

*nCode*<br/>
Тип действия, чтобы воспользоваться. Этот параметр может принимать одно из следующих значений:

- TVGN_CARET устанавливает выделение для данного элемента.

- Перерисовывает TVGN_DROPHILITE заданного элемента в стиле используется для указания целевого объекта для операции перетаскивания и вставки.

- Выполняет прокрутку TVGN_FIRSTVISIBLE древовидное представление по вертикали, чтобы данный элемент является первый видимый элемент.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Если *nCode* содержит значение TVGN_CARET, родительское окно получающую TVN_SELCHANGING и TVN_SELCHANGED уведомления. Кроме того Если указанный элемент является дочерним элементом свернутого родительского элемента, родительский список дочерних элементов расширяется для отображения указанного элемента. В этом случае родительского окна получающую TVN_ITEMEXPANDING и TVN_ITEMEXPANDED уведомления.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::HitTest](#hittest).

##  <a name="selectdroptarget"></a>  CTreeCtrl::SelectDropTarget

Эта функция вызывается для перерисовки элемента в стиль, используемый для указания целевого объекта для операции перетаскивания и вставки.

```
BOOL SelectDropTarget(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#9](../../mfc/reference/codesnippet/cpp/ctreectrl-class_9.cpp)]

##  <a name="selectitem"></a>  CTreeCtrl::SelectItem

Вызывайте эту функцию, чтобы выбрать элемент данного дерева.

```
BOOL SelectItem(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Если *hItem* имеет значение NULL, то эта функция выбирает элемент отсутствует.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#26](../../mfc/reference/codesnippet/cpp/ctreectrl-class_29.cpp)]

##  <a name="selectsetfirstvisible"></a>  CTreeCtrl::SelectSetFirstVisible

Вызывайте эту функцию в представлении в виде дерева выполнять вертикальную прокрутку так, чтобы данный элемент был первый видимый элемент.

```
BOOL SelectSetFirstVisible(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента дерева должен быть установлен как первый видимый элемент.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Функция отправляет сообщение в окно с параметрами TVM_SELECTITEM и TVGN_FIRSTVISIBLE сообщения.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#28](../../mfc/reference/codesnippet/cpp/ctreectrl-class_32.cpp)]

##  <a name="setautoscrollinfo"></a>  CTreeCtrl::SetAutoscrollInfo

Задает скорость autoscroll текущего элемента управления представления дерева.

```
BOOL SetAutoscrollInfo(
    UINT uPixelsPerSec,
    UINT uUpdateTime);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*uPixelsPerSec*|[in] Количество пикселей, в секунду для прокрутки.|
|*uUpdateTime*|[in] Интервал времени между обновлениями элемента управления.|

### <a name="return-value"></a>Возвращаемое значение

Всегда возвращает значение TRUE.

### <a name="remarks"></a>Примечания

Параметры autoscroll используются для прокрутки элемента, который в данный момент не видна, в представлении. Элемент управления представления дерева должен иметь расширенный стиль, который описан в TVS_EX_AUTOHSCROLL [расширенные стили для элемента управления представления дерева](/windows/desktop/Controls/tree-view-control-window-extended-styles).

Этот метод отправляет [TVM_SETAUTOSCROLLINFO](/windows/desktop/Controls/tvm-setautoscrollinfo) сообщения, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_treeCtrl`, который используется для доступа к текущего элемента управления представления дерева. В примере кода также определяет целое число без знака и несколько переменных HTREEITEM. Эти переменные используются в следующем примере.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Пример

В следующем примере кода задает поведение autoscroll текущего элемента управления представления дерева. В предыдущем разделе в примере кода, который не отображается, мы создали дерево, состоящий из корневого узла страны или региона для США, подузлов для состояний Пенсильвании и Вашингтон и дерево элементов для городов, в этих состояниях. Мы специально сделано элемент управления представления дерева узкий, чтобы автоматически нужно прокручивать экран для отображения элемента дерева, который имеет фокус. В примере кода задается элемент управления представления дерева для автоматической прокрутки 30 пикселей в секунду каждые 5 секунд, пока не будет виден элемент дерева.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctreectrl-class_33.cpp)]

##  <a name="setbkcolor"></a>  CTreeCtrl::SetBkColor

Эта функция-член реализует поведение сообщение Win32 [TVM_SETBKCOLOR](/windows/desktop/Controls/tvm-setbkcolor), как описано в пакете Windows SDK.

```
COLORREF SetBkColor(COLORREF clr);
```

### <a name="parameters"></a>Параметры

*Среда CLR*<br/>
Значение COLORREF, содержащее новый цвет фона. Если это значение равно -1, элемент управления вернется к использованию системный цвет для фона.

### <a name="return-value"></a>Возвращаемое значение

Значение COLORREF, представляющее текущий цвет текста. Если это значение равно -1, элемент управления использует системный цвет для цвета текста.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::SetTextColor](#settextcolor).

##  <a name="setcheck"></a>  CTreeCtrl::SetCheck

Вызов этой функции-члена для задания проверки состояния для элемента управления дерева.

```
BOOL SetCheck(
    HTREEITEM hItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
HTREEITEM для получения изменение состояния проверки.

*обязательно ознакомьтесь с*<br/>
Указывает, является ли элемент управления дерева был установлен или снят. По умолчанию `SetCheck` задает элемент для проверки.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Если установлен флажок элемента управления дерева ( *обязательно ознакомьтесь с* присвоено значение TRUE), элемент отображается с флажком рядом.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#29](../../mfc/reference/codesnippet/cpp/ctreectrl-class_34.cpp)]

### <a name="example"></a>Пример

Чтобы использовать флажки, задайте TVS_CHECKBOXES перед заполнением в элементе управления иерархического представления.

[!code-cpp[NVC_MFC_CTreeCtrl#30](../../mfc/reference/codesnippet/cpp/ctreectrl-class_35.cpp)]

##  <a name="setextendedstyle"></a>  CTreeCtrl::SetExtendedStyle

Задает расширенные стили для текущего элемента управления представления дерева.

```
DWORD SetExtendedStyle(
    DWORD dwExMask,
    DWORD dwExStyles);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*dwExMask*|[in] Битовая маска, указывает, какие стили в текущий элемент управления представления дерева затрагиваются этим методом. Если этот параметр равен нулю, он игнорируется и значение *dwExStyles* присваивается элементу управления представления дерева.<br /><br /> Укажите ноль или побитовое сочетание (OR) стили, описанные в [стили расширенных элементов управления представления дерева](/windows/desktop/Controls/tree-view-control-window-extended-styles).|
|*dwExStyles*|[in] Битовая маска, указывает, какие стили в виде дерева управления установите или снимите флажок.<br /><br /> Чтобы задать сочетание стили, укажите битовую комбинацию (OR) из стилей, описанные в [стили расширенных элементов управления представления дерева](/windows/desktop/Controls/tree-view-control-window-extended-styles). Чтобы очистить набор стилей, укажите ноль.|

### <a name="return-value"></a>Возвращаемое значение

Значение, содержащее предыдущего расширенные стили элемента управления.

### <a name="remarks"></a>Примечания

Этот метод очищает стили, заданные в *dwExMask* параметра, затем задает стили, заданные в *dwExStyles* параметра. Расширенные стили, соответствующие биты в *dwExMask* изменить.

Этот метод отправляет [TVM_SETEXTENDEDSTYLE](/windows/desktop/Controls/tvm-setextendedstyle) сообщения, который описан в пакете Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_treeCtrl`, который используется для доступа к текущего элемента управления представления дерева. В примере кода также определяет целое число без знака и несколько переменных HTREEITEM. Эти переменные используются в следующем примере.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Пример

В следующем примере кода добавляет расширенный стиль TVS_EX_AUTOHSCROLL текущего элемента управления представления дерева. В предыдущем разделе в примере кода, который не отображается, мы создали дерево, состоящий из корневого узла страны или региона для США, подузлов для состояний Пенсильвании и Вашингтон и дерево элементов для городов, в этих состояниях. Мы специально сделано элемент управления представления дерева узкий, чтобы автоматически нужно прокручивать экран для отображения элемента дерева, который имеет фокус.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctreectrl-class_36.cpp)]

##  <a name="setimagelist"></a>  CTreeCtrl::SetImageList

Вызовите эту функцию для задания обычной или списка изображений состояния для дерева управления и перерисовки элемента управления с помощью новых образов.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Параметры

*pImageList*<br/>
Указатель на список изображений для назначения. Если *pImageList* имеет значение NULL, все образы будут удалены из дерева.

*nImageListType*<br/>
Тип списка изображений для задания. Список изображений может принимать одно из следующих значений:

- TVSIL_NORMAL задает список обычный образ, который содержит выбранный и невыбранные изображения для элемента представления дерева. Это состояние необходимо использовать для наложения изображений.

- TVSIL_STATE задает список изображений состояния, который содержит изображения для элементов представления дерева, которые находятся в состоянии, определяемые пользователем.

### <a name="return-value"></a>Возвращаемое значение

Указатель на предыдущий список изображений, при его наличии; в противном случае имеет значение NULL.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetImageList](#getimagelist).

##  <a name="setindent"></a>  CTreeCtrl::SetIndent

Вызывайте эту функцию, чтобы задать ширину отступа для элемента управления представления дерева и перерисовки элемента управления, чтобы отразить новое значение ширины.

```
void SetIndent(UINT nIndent);
```

### <a name="parameters"></a>Параметры

*nIndent*<br/>
Ширина в пикселях отступа. Если *nIndent* меньше минимальной ширины системный, новый шириной до минимума, определенная системой.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetIndent](#getindent).

##  <a name="setinsertmark"></a>  CTreeCtrl::SetInsertMark

Эта функция-член реализует поведение сообщение Win32 [TVM_SETINSERTMARK](/windows/desktop/Controls/tvm-setinsertmark), как описано в пакете Windows SDK.

```
BOOL SetInsertMark(
    HTREEITEM hItem,
    BOOL fAfter = TRUE);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
HTREEITEM, которое указывает, в какой элемент будет размещена метка вставки. Если этот аргумент равен NULL, будет удален знак вставки.

*fAfter*<br/>
Логическое значение, указывающее, если знак вставки помещается перед или после указанного элемента. Если этот аргумент не равен нулю, знак вставки помещается после элемента. Если этот аргумент равен нулю, знак вставки помещается перед элементом.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#31](../../mfc/reference/codesnippet/cpp/ctreectrl-class_37.cpp)]

##  <a name="setinsertmarkcolor"></a>  CTreeCtrl::SetInsertMarkColor

Эта функция-член реализует поведение сообщение Win32 [TVM_SETINSERTMARKCOLOR](/windows/desktop/Controls/tvm-setinsertmarkcolor), как описано в пакете Windows SDK.

```
COLORREF SetInsertMarkColor(COLORREF clrNew);
```

### <a name="parameters"></a>Параметры

*clrNew*<br/>
Значение COLORREF, содержащее новый цвет знака вставки.

### <a name="return-value"></a>Возвращаемое значение

Значение COLORREF, содержащий предыдущий цвет знака вставки.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetInsertMarkColor](#getinsertmarkcolor).

##  <a name="setitem"></a>  CTreeCtrl::SetItem

Вызывайте эту функцию для задания атрибутов указанного представления элемента дерева.

```
BOOL SetItem(TVITEM* pItem);

BOOL SetItem(
    HTREEITEM hItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    int nSelectedImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*pItem*<br/>
Указатель на [TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) структуру, содержащую новый элемент атрибуты, как описано в пакете Windows SDK.

*hItem*<br/>
Дескриптор элемента, атрибуты которого должны устанавливаться. См. в разделе `hItem` членом `TVITEM` структуры в пакете Windows SDK.

*nMask*<br/>
Целое число, указывающее, какие атрибуты следует задать. См. в разделе `mask` членом `TVITEM` структуры.

*lpszItem*<br/>
Адрес строка, содержащая текст для элемента.

*Изображение*<br/>
Индекс изображения элемента в список изображений элемента управления иерархического представления. См. в разделе `iImage` членом `TVITEM` структуры.

*nSelectedImage*<br/>
Индекс изображения выбранного элемента в список изображений элемента управления иерархического представления. См. в разделе `iSelectedImage` членом `TVITEM` структуры.

*nState*<br/>
Задает значения для состояния элемента. См. в разделе `State` членом `TVITEM` структуры.

*nStateMask*<br/>
Указывает, какие состояния будут устанавливаться. См. в разделе `stateMask` членом `TVITEM` структуры.

*lParam*<br/>
32-разрядное значение конкретного приложения, связанный с элементом.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

В `TVITEM` структуры, `hItem` член определяет элемент и `mask` элемент указывает, какие атрибуты следует задать.

Если `mask` член или *nMask* параметр указывает значение TVIF_TEXT `pszText` члена или *lpszItem* — это адрес строку, завершающуюся символом null и `cchTextMax` элемент обрабатывается. Если `mask` (или *nMask*) определяет значение TVIF_STATE `stateMask` члена или *nStateMask* параметр указывает, какой элемент имеет состояние для изменения и `state` члена или *nState* параметр содержит значения для этих состояний.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#32](../../mfc/reference/codesnippet/cpp/ctreectrl-class_38.cpp)]

##  <a name="setitemdata"></a>  CTreeCtrl::SetItemData

Вызывайте эту функцию, чтобы установить 32-разрядное значение конкретного приложения, связанный с указанным элементом.

```
BOOL SetItemData(
    HTREEITEM hItem,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента, данные которого требуется извлечь.

*dwData*<br/>
32-разрядное значение конкретного приложения, связанные с элемента, заданного посредством *hItem*.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#33](../../mfc/reference/codesnippet/cpp/ctreectrl-class_39.cpp)]

##  <a name="setitemexpandedimageindex"></a>  CTreeCtrl::SetItemExpandedImageIndex

Задает индекс изображения, отображаемого, если указанный элемент текущего элемента управления представления дерева в развернутом состоянии.

```
BOOL SetItemExpandedImageIndex(
    HTREEITEM hItem,
    int iExpandedImage);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*hItem*|[in] Дескриптор элемента управления представления дерева.|
|*iExpandedImage*|[in] Индекс изображения, отображаемого, если указанный элемент находится в развернутом состоянии.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет [TVM_SETITEM](/windows/desktop/Controls/tvm-setitem) сообщения, который описан в пакете Windows SDK. Этот метод назначает *iExpandedImage* параметр `iExpandedImage` членом [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуры, а затем использует эту структуру в сообщении.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_treeCtrl`, который используется для доступа к текущего элемента управления представления дерева. В примере кода также определяет целое число без знака и несколько переменных HTREEITEM. Эти переменные используются в следующем примере.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Пример

В следующем примере кода является тривиальным тест, чтобы определить, является ли [CTreeCtrl::GetItemExpandedImageIndex](#getitemexpandedimageindex) метод возвращает значение, заданное параметром [CTreeCtrl::SetItemExpandedImageIndex](#setitemexpandedimageindex) метод. В предыдущем разделе в примере кода, который не отображается, мы создали дерево, состоящий из корневого узла страны или региона для США, подузлов для состояний Пенсильвании и Вашингтон и дерево элементов для городов, в этих состояниях.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#8](../../mfc/reference/codesnippet/cpp/ctreectrl-class_40.cpp)]

##  <a name="setitemheight"></a>  CTreeCtrl::SetItemHeight

Эта функция-член реализует поведение сообщение Win32 [TVM_SETITEMHEIGHT](/windows/desktop/Controls/tvm-setitemheight), как описано в пакете Windows SDK.

```
SHORT SetItemHeight(SHORT cyHeight);
```

### <a name="parameters"></a>Параметры

*cyHeight*<br/>
Задает новую высоту каждого элемента в представлении в виде дерева, в пикселях. Если этот аргумент меньше, чем высота изображения, то он будет присвоено высоту изображения. Если этот аргумент распределена неравномерно, оно округляется вниз до ближайшего значения, даже. Если этот аргумент равен -1, элемент управления будет вернуться к использованию его высоту элемента по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Высота предыдущих элементов, в пикселях.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetItemHeight](#getitemheight).

##  <a name="setitemimage"></a>  CTreeCtrl::SetItemImage

Связывает изображений с элементом.

```
BOOL SetItemImage(
    HTREEITEM hItem,
    int nImage,
    int nSelectedImage);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор для задается, изображение для элемента.

*Изображение*<br/>
Индекс изображения элемента в список изображений элемента управления иерархического представления.

*nSelectedImage*<br/>
Индекс изображения выбранного элемента в список изображений элемента управления иерархического представления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Каждый элемент в элементе управления представления дерева может иметь пару точечных рисунков, связанных с ним. То изображения появляются слева от метки элемента. Одно изображение отображается в том случае, когда элемент выбран, и другой отображается, если элемент не выбран. Например элемент может отображаться открыть папку, когда он выбран и закрытую папку, если он не выбран.

Вызывайте эту функцию, чтобы задать индекс изображение элемента и его выбранного образа в список изображений элемента управления иерархического представления.

Дополнительные сведения об образах см. в разделе [CImageList](../../mfc/reference/cimagelist-class.md).

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetItemImage](#getitemimage).

##  <a name="setitemstate"></a>  CTreeCtrl::SetItemState

Задает состояние элемента, заданного посредством *hItem*.

```
BOOL SetItemState(
    HTREEITEM hItem,
    UINT nState,
    UINT nStateMask);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор элемента, состояние которого отличается от устанавливаемое значение.

*nState*<br/>
Указывает новые состояния для элемента.

*nStateMask*<br/>
Указывает, какие состояния будут изменены.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Сведения о состояниях см. в разделе [CTreeCtrl::GetItem](#getitem).

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetItemState](#getitemstate).

##  <a name="setitemstateex"></a>  CTreeCtrl::SetItemStateEx

Задает расширенные состояние указанного элемента в текущий элемент управления представления дерева.

```
BOOL SetItemStateEx(
    HTREEITEM hItem,
    UINT uStateEx);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*hItem*|[in] Дескриптор элемента управления представления дерева.|
|*uStateEx*|[in] Расширенные состояние элемента. Дополнительные сведения см. в разделе `uStateEx` членом [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуры.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет [TVM_SETITEM](/windows/desktop/Controls/tvm-setitem) сообщения, который описан в пакете Windows SDK. Этот метод назначает *uStateEx* параметр `uStateEx` членом [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуры, а затем использует эту структуру в сообщении.

### <a name="example"></a>Пример

В следующем примере кода определяет переменную, `m_treeCtrl`, который используется для доступа к текущего элемента управления представления дерева. В примере кода также определяет целое число без знака и несколько переменных HTREEITEM. Эти переменные используются в следующем примере.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctreectrl-class_17.h)]

### <a name="example"></a>Пример

В следующем примере кода задает элемента представления дерева в отключенном состоянии. В предыдущем разделе в примере кода, который не отображается, мы создали дерево, состоящий из корневого узла страны или региона для США, подузлов для состояний Пенсильвании и Вашингтон и дерево элементов для городов, в этих состояниях. Данный пример кода задает узел Пенсильвания в отключенном состоянии.

[!code-cpp[NVC_MFC_CTreeCtrl_s1#7](../../mfc/reference/codesnippet/cpp/ctreectrl-class_41.cpp)]

##  <a name="setitemtext"></a>  CTreeCtrl::SetItemText

Задает текст элемента, заданного посредством *hItem*.

```
BOOL SetItemText(
    HTREEITEM hItem,
    LPCTSTR lpszItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор для задается, текст элемента.

*lpszItem*<br/>
Адрес строка, содержащая новый текст для элемента

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#34](../../mfc/reference/codesnippet/cpp/ctreectrl-class_42.cpp)]

##  <a name="setlinecolor"></a>  CTreeCtrl::SetLineColor

Вызов этой функции-члена для задайте цвет текущей строки в элементе управления иерархического представления.

```
COLORREF SetLineColor(COLORREF clrNew = CLR_DEFAULT);
```

### <a name="parameters"></a>Параметры

*clrNew*<br/>
Новый цвет линии.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий цвет линии.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение сообщение win32 [TVM_SETLINECOLOR](/windows/desktop/Controls/tvm-setlinecolor), как описано в пакете Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#35](../../mfc/reference/codesnippet/cpp/ctreectrl-class_43.cpp)]

##  <a name="setscrolltime"></a>  CTreeCtrl::SetScrollTime

Эта функция члена для установки времени Максимальная прокрутка для управления иерархического представления.

```
UINT SetScrollTime(UINT uScrollTime);
```

### <a name="parameters"></a>Параметры

*uScrollTime*<br/>
Новое прокрутки максимальное время, в миллисекундах. Если это значение меньше 100, он будет округляется до 100.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий время максимальную прокрутку в миллисекундах.

### <a name="remarks"></a>Примечания

Эта функция-член реализует поведение сообщение win32 [TVM_SETSCROLLTIME](/windows/desktop/Controls/tvm-setscrolltime), как описано в пакете Windows SDK.

##  <a name="settextcolor"></a>  CTreeCtrl::SetTextColor

Эта функция-член реализует поведение сообщение Win32 [TVM_SETTEXTCOLOR](/windows/desktop/Controls/tvm-settextcolor), как описано в пакете Windows SDK.

```
COLORREF SetTextColor(COLORREF clr);
```

### <a name="parameters"></a>Параметры

*Среда CLR*<br/>
Значение COLORREF, содержащее новый цвет текста. Если этот аргумент равен -1, элемент управления будет вернуться к использованию системный цвет для цвета текста.

### <a name="return-value"></a>Возвращаемое значение

Значение COLORREF, представляющий предыдущий цвет текста. Если это значение равно -1, элемент управления был используя системный цвет для текста цвета.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#36](../../mfc/reference/codesnippet/cpp/ctreectrl-class_44.cpp)]

##  <a name="settooltips"></a>  CTreeCtrl::SetToolTips

Эта функция-член реализует поведение сообщение Win32 [TVM_SETTOOLTIPS](/windows/desktop/Controls/tvm-settooltips), как описано в пакете Windows SDK.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Параметры

*pWndTip*<br/>
Указатель на [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) объект, который будет использоваться в элементе управления иерархического представления.

### <a name="return-value"></a>Возвращаемое значение

Указатель на [CToolTipCtrl](../../mfc/reference/ctooltipctrl-class.md) объект, содержащий всплывающей подсказки, ранее используемых элемента управления, или значение NULL, если нет подсказок использовались ранее.

### <a name="remarks"></a>Примечания

Чтобы использовать всплывающие подсказки, указывающих стиль TVS_NOTOOLTIPS при создании `CTreeCtrl` объекта.

### <a name="example"></a>Пример

  См. в примере [CTreeCtrl::GetToolTips](#gettooltips).

##  <a name="showinfotip"></a>  CTreeCtrl::ShowInfoTip

Отображает подсказку для указанного элемента в элементе управления текущее представление в виде дерева.

```
void ShowInfoTip(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*hItem*|[in] Дескриптор элемента представления дерева в элементе управления. Дополнительные сведения см. в разделе `hItem` членом [TVITEMEX](/windows/desktop/api/commctrl/ns-commctrl-tagtvitemexa) структуры.|

### <a name="remarks"></a>Примечания

Дополнительные сведения о различиях между подсказки и всплывающих подсказках см. в разделе «Подсказки и всплывающих подсказках» по адресу [Microsoft Developer Network](http://go.microsoft.com/fwlink/p/?linkid=56322).

Этот метод отправляет [TVM_SHOWINFOTIP](/windows/desktop/Controls/tvm-showinfotip) сообщения, который описан в пакете Windows SDK.

##  <a name="sortchildren"></a>  CTreeCtrl::SortChildren

Вызывайте эту функцию, чтобы отсортировать в алфавитном порядке дочерние элементы данного родительского элемента в элементе управления древовидного представления.

```
BOOL SortChildren(HTREEITEM hItem);
```

### <a name="parameters"></a>Параметры

*hItem*<br/>
Дескриптор родительского элемента, дочерние элементы должны быть отсортированы. Если *hItem* имеет значение NULL, сортировка будет продолжена из корневого элемента дерева.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

`SortChildren` не будет просматривать дерева. только непосредственных дочерних объектов *hItem* будут отсортированы.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#37](../../mfc/reference/codesnippet/cpp/ctreectrl-class_45.cpp)]

##  <a name="sortchildrencb"></a>  CTreeCtrl::SortChildrenCB

Вызывайте эту функцию, чтобы отсортировать элементы представления дерева, используя функцию обратного вызова, определяемые приложением, которая сравнивает элементы.

```
BOOL SortChildrenCB(LPTVSORTCB pSort);
```

### <a name="parameters"></a>Параметры

*pSort*<br/>
Указатель на [TVSORTCB](/windows/desktop/api/commctrl/ns-commctrl-tagtvsortcb) структуры.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Функция сравнения структуры, `lpfnCompare`, должен возвращать отрицательное значение, если первый элемент должен находиться перед второй, положительное значение, если первый элемент необходимо следовать второй, или нуль, если два элемента эквивалентны.

*LParam1* и *lParam2* параметров соответствуют `lParam` членом [TVITEM](/windows/desktop/api/commctrl/ns-commctrl-tagtvitema) структуру для сочетания двух элементов с которым производится сравнение. *LParamSort* параметр соответствует параметру `lParam` членом `TV_SORTCB` структуры.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CTreeCtrl#38](../../mfc/reference/codesnippet/cpp/ctreectrl-class_46.cpp)]

[!code-cpp[NVC_MFC_CTreeCtrl#39](../../mfc/reference/codesnippet/cpp/ctreectrl-class_47.cpp)]

## <a name="see-also"></a>См. также

[Образец CMNCTRL1 MFC](../../visual-cpp-samples.md)<br/>
[Класс CWnd](../../mfc/reference/cwnd-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CImageList](../../mfc/reference/cimagelist-class.md)
