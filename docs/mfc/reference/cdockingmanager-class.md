---
title: Класс Кдоккингманажер
ms.date: 11/04/2016
f1_keywords:
- CDockingManager
- AFXDOCKINGMANAGER/CDockingManager
- AFXDOCKINGMANAGER/CDockingManager::AddDockSite
- AFXDOCKINGMANAGER/CDockingManager::AddHiddenMDITabbedBar
- AFXDOCKINGMANAGER/CDockingManager::AddMiniFrame
- AFXDOCKINGMANAGER/CDockingManager::AddPane
- AFXDOCKINGMANAGER/CDockingManager::AdjustDockingLayout
- AFXDOCKINGMANAGER/CDockingManager::AdjustPaneFrames
- AFXDOCKINGMANAGER/CDockingManager::AdjustRectToClientArea
- AFXDOCKINGMANAGER/CDockingManager::AlignAutoHidePane
- AFXDOCKINGMANAGER/CDockingManager::AutoHidePane
- AFXDOCKINGMANAGER/CDockingManager::BringBarsToTop
- AFXDOCKINGMANAGER/CDockingManager::BuildPanesMenu
- AFXDOCKINGMANAGER/CDockingManager::CalcExpectedDockedRect
- AFXDOCKINGMANAGER/CDockingManager::Create
- AFXDOCKINGMANAGER/CDockingManager::DeterminePaneAndStatus
- AFXDOCKINGMANAGER/CDockingManager::DisableRestoreDockState
- AFXDOCKINGMANAGER/CDockingManager::DockPane
- AFXDOCKINGMANAGER/CDockingManager::DockPaneLeftOf
- AFXDOCKINGMANAGER/CDockingManager::EnableAutoHidePanes
- AFXDOCKINGMANAGER/CDockingManager::EnableDocking
- AFXDOCKINGMANAGER/CDockingManager::EnableDockSiteMenu
- AFXDOCKINGMANAGER/CDockingManager::EnablePaneContextMenu
- AFXDOCKINGMANAGER/CDockingManager::FindDockSite
- AFXDOCKINGMANAGER/CDockingManager::FindDockSiteByPane
- AFXDOCKINGMANAGER/CDockingManager::FindPaneByID
- AFXDOCKINGMANAGER/CDockingManager::FixupVirtualRects
- AFXDOCKINGMANAGER/CDockingManager::FrameFromPoint
- AFXDOCKINGMANAGER/CDockingManager::GetClientAreaBounds
- AFXDOCKINGMANAGER/CDockingManager::GetDockingMode
- AFXDOCKINGMANAGER/CDockingManager::GetDockSiteFrameWnd
- AFXDOCKINGMANAGER/CDockingManager::GetEnabledAutoHideAlignment
- AFXDOCKINGMANAGER/CDockingManager::GetMiniFrames
- AFXDOCKINGMANAGER/CDockingManager::GetOuterEdgeBounds
- AFXDOCKINGMANAGER/CDockingManager::GetPaneList
- AFXDOCKINGMANAGER/CDockingManager::GetSmartDockingManager
- AFXDOCKINGMANAGER/CDockingManager::GetSmartDockingManagerPermanent
- AFXDOCKINGMANAGER/CDockingManager::GetSmartDockingParams
- AFXDOCKINGMANAGER/CDockingManager::GetSmartDockingTheme
- AFXDOCKINGMANAGER/CDockingManager::HideAutoHidePanes
- AFXDOCKINGMANAGER/CDockingManager::InsertDockSite
- AFXDOCKINGMANAGER/CDockingManager::InsertPane
- AFXDOCKINGMANAGER/CDockingManager::IsDockSiteMenu
- AFXDOCKINGMANAGER/CDockingManager::IsInAdjustLayout
- AFXDOCKINGMANAGER/CDockingManager::IsOLEContainerMode
- AFXDOCKINGMANAGER/CDockingManager::IsPointNearDockSite
- AFXDOCKINGMANAGER/CDockingManager::IsPrintPreviewValid
- AFXDOCKINGMANAGER/CDockingManager::LoadState
- AFXDOCKINGMANAGER/CDockingManager::LockUpdate
- AFXDOCKINGMANAGER/CDockingManager::OnActivateFrame
- AFXDOCKINGMANAGER/CDockingManager::OnClosePopupMenu
- AFXDOCKINGMANAGER/CDockingManager::OnMoveMiniFrame
- AFXDOCKINGMANAGER/CDockingManager::OnPaneContextMenu
- AFXDOCKINGMANAGER/CDockingManager::PaneFromPoint
- AFXDOCKINGMANAGER/CDockingManager::ProcessPaneContextMenuCommand
- AFXDOCKINGMANAGER/CDockingManager::RecalcLayout
- AFXDOCKINGMANAGER/CDockingManager::ReleaseEmptyPaneContainers
- AFXDOCKINGMANAGER/CDockingManager::RemoveHiddenMDITabbedBar
- AFXDOCKINGMANAGER/CDockingManager::RemoveMiniFrame
- AFXDOCKINGMANAGER/CDockingManager::RemovePaneFromDockManager
- AFXDOCKINGMANAGER/CDockingManager::ReplacePane
- AFXDOCKINGMANAGER/CDockingManager::ResortMiniFramesForZOrder
- AFXDOCKINGMANAGER/CDockingManager::SaveState
- AFXDOCKINGMANAGER/CDockingManager::SendMessageToMiniFrames
- AFXDOCKINGMANAGER/CDockingManager::Serialize
- AFXDOCKINGMANAGER/CDockingManager::SetAutohideZOrder
- AFXDOCKINGMANAGER/CDockingManager::SetDockingMode
- AFXDOCKINGMANAGER/CDockingManager::SetDockState
- AFXDOCKINGMANAGER/CDockingManager::SetPrintPreviewMode
- AFXDOCKINGMANAGER/CDockingManager::SetSmartDockingParams
- AFXDOCKINGMANAGER/CDockingManager::ShowDelayShowMiniFrames
- AFXDOCKINGMANAGER/CDockingManager::ShowPanes
- AFXDOCKINGMANAGER/CDockingManager::StartSDocking
- AFXDOCKINGMANAGER/CDockingManager::StopSDocking
- AFXDOCKINGMANAGER/CDockingManager::m_bHideDockingBarsInContainerMode
- AFXDOCKINGMANAGER/CDockingManager::m_dockModeGlobal
- AFXDOCKINGMANAGER/CDockingManager::m_nDockSensitivity
- AFXDOCKINGMANAGER/CDockingManager::m_nTimeOutBeforeDockingBarDock
- AFXDOCKINGMANAGER/CDockingManager::m_nTimeOutBeforeToolBarDock
helpviewer_keywords:
- CDockingManager [MFC], AddDockSite
- CDockingManager [MFC], AddHiddenMDITabbedBar
- CDockingManager [MFC], AddMiniFrame
- CDockingManager [MFC], AddPane
- CDockingManager [MFC], AdjustDockingLayout
- CDockingManager [MFC], AdjustPaneFrames
- CDockingManager [MFC], AdjustRectToClientArea
- CDockingManager [MFC], AlignAutoHidePane
- CDockingManager [MFC], AutoHidePane
- CDockingManager [MFC], BringBarsToTop
- CDockingManager [MFC], BuildPanesMenu
- CDockingManager [MFC], CalcExpectedDockedRect
- CDockingManager [MFC], Create
- CDockingManager [MFC], DeterminePaneAndStatus
- CDockingManager [MFC], DisableRestoreDockState
- CDockingManager [MFC], DockPane
- CDockingManager [MFC], DockPaneLeftOf
- CDockingManager [MFC], EnableAutoHidePanes
- CDockingManager [MFC], EnableDocking
- CDockingManager [MFC], EnableDockSiteMenu
- CDockingManager [MFC], EnablePaneContextMenu
- CDockingManager [MFC], FindDockSite
- CDockingManager [MFC], FindDockSiteByPane
- CDockingManager [MFC], FindPaneByID
- CDockingManager [MFC], FixupVirtualRects
- CDockingManager [MFC], FrameFromPoint
- CDockingManager [MFC], GetClientAreaBounds
- CDockingManager [MFC], GetDockingMode
- CDockingManager [MFC], GetDockSiteFrameWnd
- CDockingManager [MFC], GetEnabledAutoHideAlignment
- CDockingManager [MFC], GetMiniFrames
- CDockingManager [MFC], GetOuterEdgeBounds
- CDockingManager [MFC], GetPaneList
- CDockingManager [MFC], GetSmartDockingManager
- CDockingManager [MFC], GetSmartDockingManagerPermanent
- CDockingManager [MFC], GetSmartDockingParams
- CDockingManager [MFC], GetSmartDockingTheme
- CDockingManager [MFC], HideAutoHidePanes
- CDockingManager [MFC], InsertDockSite
- CDockingManager [MFC], InsertPane
- CDockingManager [MFC], IsDockSiteMenu
- CDockingManager [MFC], IsInAdjustLayout
- CDockingManager [MFC], IsOLEContainerMode
- CDockingManager [MFC], IsPointNearDockSite
- CDockingManager [MFC], IsPrintPreviewValid
- CDockingManager [MFC], LoadState
- CDockingManager [MFC], LockUpdate
- CDockingManager [MFC], OnActivateFrame
- CDockingManager [MFC], OnClosePopupMenu
- CDockingManager [MFC], OnMoveMiniFrame
- CDockingManager [MFC], OnPaneContextMenu
- CDockingManager [MFC], PaneFromPoint
- CDockingManager [MFC], ProcessPaneContextMenuCommand
- CDockingManager [MFC], RecalcLayout
- CDockingManager [MFC], ReleaseEmptyPaneContainers
- CDockingManager [MFC], RemoveHiddenMDITabbedBar
- CDockingManager [MFC], RemoveMiniFrame
- CDockingManager [MFC], RemovePaneFromDockManager
- CDockingManager [MFC], ReplacePane
- CDockingManager [MFC], ResortMiniFramesForZOrder
- CDockingManager [MFC], SaveState
- CDockingManager [MFC], SendMessageToMiniFrames
- CDockingManager [MFC], Serialize
- CDockingManager [MFC], SetAutohideZOrder
- CDockingManager [MFC], SetDockingMode
- CDockingManager [MFC], SetDockState
- CDockingManager [MFC], SetPrintPreviewMode
- CDockingManager [MFC], SetSmartDockingParams
- CDockingManager [MFC], ShowDelayShowMiniFrames
- CDockingManager [MFC], ShowPanes
- CDockingManager [MFC], StartSDocking
- CDockingManager [MFC], StopSDocking
- CDockingManager [MFC], m_bHideDockingBarsInContainerMode
- CDockingManager [MFC], m_dockModeGlobal
- CDockingManager [MFC], m_nDockSensitivity
- CDockingManager [MFC], m_nTimeOutBeforeDockingBarDock
- CDockingManager [MFC], m_nTimeOutBeforeToolBarDock
ms.assetid: 98e69c43-55d8-4f43-b861-4fda80ec1e32
ms.openlocfilehash: 8709b3a4eb3f57a3d2700ad7aaed16df994245c5
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69506870"
---
# <a name="cdockingmanager-class"></a>Класс Кдоккингманажер

Реализует базовую функциональность, которая контролирует макет закрепления в окне главного фрейма.

## <a name="syntax"></a>Синтаксис

```
class CDockingManager : public CObject
```

## <a name="members"></a>Участники

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[Кдоккингманажер:: Адддокксите](#adddocksite)|Создает панель закрепления и добавляет ее в список панелей элементов управления.|
|[Кдоккингманажер:: Аддхидденмдитаббедбар](#addhiddenmditabbedbar)|Добавляет маркер в панель элементов в список скрытых областей панели с вкладками MDI.|
|[Кдоккингманажер:: Аддминифраме](#addminiframe)|Добавляет кадр в список мини-кадров.|
|[Кдоккингманажер:: Аддпане](#addpane)|Регистрирует панель с помощью диспетчера закрепления.|
|[Кдоккингманажер:: Аджустдоккинглайаут](#adjustdockinglayout)|Повторно вычисляет и корректирует макет всех панелей в окне фрейма.|
|[Кдоккингманажер:: Аджустпанефрамес](#adjustpaneframes)|Вызывает отправку сообщения WM_NCCALCSIZE на все панели и `CPaneFrameWnd` окна.|
|[Кдоккингманажер:: Аджустректтоклиентареа](#adjustrecttoclientarea)|Регулирует выравнивание прямоугольника.|
|[CDockingManager::AlignAutoHidePane](#alignautohidepane)|Изменяет размер закрепляемой области в режиме автоскрытия таким образом, чтобы она занимала всю ширину или высоту клиентской области кадра, окруженной закреплением сайтов.|
|[CDockingManager::AutoHidePane](#autohidepane)|Создает панель инструментов автоскрытия.|
|[Кдоккингманажер:: Брингбарстотоп](#bringbarstotop)|Переводит закрепленные линейчатые диаграммы с указанным выравниванием сверху.|
|[Кдоккингманажер:: Буилдпанесмену](#buildpanesmenu)|Добавляет в меню имена закрепляемых панелей и панелей инструментов.|
|[Кдоккингманажер:: Калцекспектеддоккедрект](#calcexpecteddockedrect)|Вычисляет ожидаемый прямоугольник закрепленного окна.|
|[CDockingManager::Create](#create)|Создает диспетчер закрепления.|
|[Кдоккингманажер::D Етерминепанеандстатус](#determinepaneandstatus)|Определяет панель, содержащую заданную точку и ее состояние закрепления.|
|[CDockingManager::DisableRestoreDockState](#disablerestoredockstate)|Включает или отключает загрузку макета закрепления из реестра.|
|[Кдоккингманажер::D Оккпане](#dockpane)|Закрепляет панель на другой панели или в окне фрейма.|
|[CDockingManager::DockPaneLeftOf](#dockpaneleftof)|Закрепляет область слева от другой области.|
|[Кдоккингманажер:: Енаблеаутохидепанес](#enableautohidepanes)|Включает закрепление панели в главном фрейме, создает панель закрепления и добавляет ее в список панелей элементов управления.|
|[Кдоккингманажер:: Енабледоккинг](#enabledocking)|Создает панель закрепления и позволяет закреплять область в главном фрейме.|
|[Кдоккингманажер:: Енабледоккситемену](#enabledocksitemenu)|Отображает дополнительную кнопку, открывающую всплывающее меню на заголовках всех панелей закрепления.|
|[Кдоккингманажер:: Енаблепанеконтекстмену](#enablepanecontextmenu)|Указывает библиотеке отображать специальное контекстное меню, имеющее список панелей инструментов приложения и закрепляемых областей, когда пользователь нажимает правую кнопку мыши и библиотека обрабатывает сообщение WM_CONTEXTMENU.|
|[Кдоккингманажер:: Финддокксите](#finddocksite)|Извлекает панель гистограммы, находящийся в указанной позиции и имеющую указанное выравнивание.|
|[Кдоккингманажер:: Финддоккситебипане](#finddocksitebypane)|Возвращает панель гистограммы с идентификатором панели целевых панелей.|
|[Кдоккингманажер:: Финдпанебид](#findpanebyid)|Находит панель по указанному ИДЕНТИФИКАТОРу элемента управления.|
|[Кдоккингманажер:: Фиксупвиртуалректс](#fixupvirtualrects)|Фиксирует все текущие позиции панели инструментов в виртуальных прямоугольниках.|
|[Кдоккингманажер:: Фрамефромпоинт](#framefrompoint)|Возвращает кадр, содержащий заданную точку.|
|[Кдоккингманажер:: Жетклиентареабаундс](#getclientareabounds)|Возвращает прямоугольник, содержащий границы клиентской области.|
|[CDockingManager::GetDockingMode](#getdockingmode)|Возвращает текущий режим закрепления.|
|[Кдоккингманажер:: Жетдоккситефрамевнд](#getdocksiteframewnd)|Возвращает указатель на фрейм родительского окна.|
|[CDockingManager::GetEnabledAutoHideAlignment](#getenabledautohidealignment)|Возвращает включенное выравнивание панелей.|
|[Кдоккингманажер:: Жетминифрамес](#getminiframes)|Возвращает список минифрамес.|
|[Кдоккингманажер:: Жетаутереджебаундс](#getouteredgebounds)|Возвращает прямоугольник, содержащий внешние края рамки.|
|[CDockingManager::GetPaneList](#getpanelist)|Возвращает список панелей, принадлежащих диспетчеру закрепления. Сюда входят все плавающие панели.|
|[CDockingManager::GetSmartDockingManager](#getsmartdockingmanager)|Получает указатель на диспетчер смарт-закрепления.|
|[CDockingManager::GetSmartDockingManagerPermanent](#getsmartdockingmanagerpermanent)|Получает указатель на диспетчер смарт-закрепления.|
|[CDockingManager::GetSmartDockingParams](#getsmartdockingparams)|Возвращает параметры смарт-стыковки для диспетчера закрепления.|
|[CDockingManager::GetSmartDockingTheme](#getsmartdockingtheme)|Статический метод, возвращающий тему, используемую для вывода маркеров смарт-закрепления.|
|[Кдоккингманажер:: Хидеаутохидепанес](#hideautohidepanes)|Скрывает панель, которая находится в режиме автоскрытия.|
|[Кдоккингманажер:: Инсертдокксите](#insertdocksite)|Создает панель закрепления и вставляет ее в список панелей элементов управления.|
|[Кдоккингманажер:: Инсертпане](#insertpane)|Вставляет панель элементов управления в список панелей элементов управления.|
|[Кдоккингманажер:: Исдоккситемену](#isdocksitemenu)|Указывает, отображается ли всплывающее меню в заголовках всех панелей.|
|[Кдоккингманажер:: Исинаджустлайаут](#isinadjustlayout)|Определяет, настроены ли макеты всех панелей.|
|[Кдоккингманажер:: Исолеконтаинермоде](#isolecontainermode)|Указывает, находится ли диспетчер стыковки в режиме контейнера OLE.|
|[Кдоккингманажер:: Испоинтнеардокксите](#ispointneardocksite)|Определяет, находится ли указанная точка вблизи сайта закрепления.|
|[CDockingManager::IsPrintPreviewValid](#isprintpreviewvalid)|Определяет, установлен ли режим предварительного просмотра печати.|
|[Кдоккингманажер:: LoadState](#loadstate)|Загружает состояние диспетчера закрепления из реестра.|
|[Кдоккингманажер:: Локкупдате](#lockupdate)|Блокирует заданное окно.|
|[Кдоккингманажер:: Онактиватефраме](#onactivateframe)|Вызывается структурой, когда окно фрейма становится активным или деактивируется.|
|[Кдоккингманажер:: Онклосепопупмену](#onclosepopupmenu)|Вызывается платформой, когда активное всплывающее меню обрабатывает сообщение WM_DESTROY.|
|[Кдоккингманажер:: Онмовеминифраме](#onmoveminiframe)|Вызывается структурой для перемещения окна мини-кадра.|
|[Кдоккингманажер:: Онпанеконтекстмену](#onpanecontextmenu)|Вызывается платформой при построении меню со списком панелей.|
|[CDockingManager::PaneFromPoint](#panefrompoint)|Возвращает панель, содержащую заданную точку.|
|[Кдоккингманажер::P Роцесспанеконтекстменукомманд](#processpanecontextmenucommand)|Вызывается платформой для выбора или снятия флажка для указанной команды и повторного вычисления макета отображаемой панели.|
|[Кдоккингманажер:: RecalcLayout](#recalclayout)|Повторно вычисляет внутренний макет элементов управления, имеющихся в списке элементов управления.|
|[Кдоккингманажер:: Релеасимптипанеконтаинерс](#releaseemptypanecontainers)|Освобождает пустые контейнеры панели.|
|[Кдоккингманажер:: Ремовехидденмдитаббедбар](#removehiddenmditabbedbar)|Удаляет указанную панель скрытой панели.|
|[Кдоккингманажер:: Ремовеминифраме](#removeminiframe)|Удаляет указанный кадр из списка мини-кадров.|
|[Кдоккингманажер:: Ремовепанефромдоккманажер](#removepanefromdockmanager)|Отменяет регистрацию панели и удаляет ее из списка в диспетчере закрепления.|
|[Кдоккингманажер:: Реплацепане](#replacepane)|Заменяет одну панель другой.|
|[Кдоккингманажер:: Ресортминифрамесфорзордер](#resortminiframesforzorder)|Перекурортить кадры в списке мини-кадров.|
|[Кдоккингманажер:: SaveState](#savestate)|Сохраняет состояние диспетчера закрепления в реестре.|
|[CDockingManager::SendMessageToMiniFrames](#sendmessagetominiframes)|Отправляет указанное сообщение во все мини-кадры.|
|[Кдоккингманажер:: Serialize](#serialize)|Записывает диспетчер закрепления в архив. (Переопределяет [CObject::Serialize](../../mfc/reference/cobject-class.md#serialize).)|
|[Кдоккингманажер:: Сетаутохидезордер](#setautohidezorder)|Задает размер, ширину и высоту панелей элементов управления и указанной панели.|
|[CDockingManager::SetDockingMode](#setdockingmode)|Задает режим закрепления.|
|[Кдоккингманажер:: Сетдоккстате](#setdockstate)|Задает состояние закрепления панелей элементов управления, Мини-кадров и полос автоскрытия.|
|[CDockingManager::SetPrintPreviewMode](#setprintpreviewmode)|Задает режим предварительного просмотра для полос, отображаемых в предварительном просмотре.|
|[Кдоккингманажер:: Сетсмартдоккингпарамс](#setsmartdockingparams)|Задает параметры, определяющие поведение интеллектуальной стыковки.|
|[Кдоккингманажер:: Шовделайшовминифрамес](#showdelayshowminiframes)|Показывает или скрывает окна мини-кадров.|
|[Кдоккингманажер:: Шовпанес](#showpanes)|Показывает или скрывает панели элемента управления и панели автоскрытия.|
|[Кдоккингманажер:: Стартсдоккинг](#startsdocking)|Запускает интеллектуальную стыковку указанного окна в соответствии с выравниванием для диспетчера смарт-стыковки.|
|[Кдоккингманажер:: Стопсдоккинг](#stopsdocking)|Останавливает интеллектуальную стыковку.|

### <a name="data-members"></a>Элементы данных

|name|Описание|
|----------|-----------------|
|[Кдоккингманажер:: m_bHideDockingBarsInContainerMode](#m_bhidedockingbarsincontainermode)|Указывает, скрывает ли диспетчер стыковки панели в режиме контейнера OLE.|
|[Кдоккингманажер:: m_dockModeGlobal](#m_dockmodeglobal)|Задает режим глобальной стыковки.|
|[Кдоккингманажер:: m_nDockSensitivity](#m_ndocksensitivity)|Указывает чувствительность закрепления.|
|[Кдоккингманажер:: m_nTimeOutBeforeDockingBarDock](#m_ntimeoutbeforedockingbardock)|Указывает время в миллисекундах, по истечении которого закрепляемая панель закрепляется в режиме немедленного закрепления.|
|[Кдоккингманажер:: m_nTimeOutBeforeToolBarDock](#m_ntimeoutbeforetoolbardock)|Указывает время в миллисекундах до того, как панель инструментов закрепляется в главном окне фрейма.|

## <a name="remarks"></a>Примечания

Основное окно фрейма создает и инициализирует этот класс автоматически.

Объект диспетчера закрепления содержит список всех панелей, находящихся в макете закрепления, а также список всех окон [кпанефрамевнд](../../mfc/reference/cpaneframewnd-class.md) , принадлежащих главному окну фрейма.

Класс реализует некоторые службы, которые можно использовать для поиска панели `CPaneFrameWnd` или окна. `CDockingManager` Обычно эти службы не вызываются напрямую, так как они упаковываются в основной объект окна фрейма. Дополнительные сведения см. в разделе [класс кпанефрамевнд](../../mfc/reference/cpaneframewnd-class.md).

## <a name="customization-tips"></a>Советы по настройке

Следующие советы применимы к `CDockingManager` объектам:

- [Класс кдоккингманажер](../../mfc/reference/cdockingmanager-class.md) поддерживает следующие режимы закрепления:

  - `AFX_DOCK_TYPE::DT_IMMEDIATE`

  - `AFX_DOCK_TYPE::DT_STANDARD`

  - `AFX_DOCK_TYPE::DT_SMART`

  Эти режимы закрепления определяются с помощью [кдоккингманажер:: m_dockModeGlobal](#m_dockmodeglobal) и задаются путем вызова [Кдоккингманажер:: сетдоккингмоде](#setdockingmode).

- Если вы хотите создать неплавающую панель без изменения размера, вызовите метод [кдоккингманажер:: аддпане](#addpane) . Этот метод регистрирует панель с помощью диспетчера закрепления, который отвечает за размещение панели.

## <a name="example"></a>Пример

В следующем примере показано, как использовать различные методы в `CDockingManager` классе для `CDockingManager` настройки объекта. В примере показано, как отобразить дополнительную кнопку, открывающую всплывающее меню в заголовках всех панелей закрепляемых областей, и как задать режим закрепления объекта. Этот фрагмент кода является частью демонстрационного [примера Visual Studio](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_VisualStudioDemo#24](../../mfc/codesnippet/cpp/cdockingmanager-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[кдоккингманажер](../../mfc/reference/cdockingmanager-class.md)

## <a name="requirements"></a>Требования

**Заголовок:** афксдоккингманажер. h

##  <a name="adddocksite"></a>Кдоккингманажер:: Адддокксите

Создает панель закрепления и добавляет ее в список панелей элементов управления.

```
BOOL AddDockSite(
    const AFX_DOCKSITE_INFO& info,
    CDockSite** ppDockBar = NULL);
```

### <a name="parameters"></a>Параметры

*контактные*<br/>
окне Ссылка на информационную структуру, содержащую выравнивание на панели закрепления.

*ппдоккбар*<br/>
заполняет Указатель на указатель на новую панель закрепления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель закрепления успешно создана; В противном случае — значение FALSE.

##  <a name="addhiddenmditabbedbar"></a>Кдоккингманажер:: Аддхидденмдитаббедбар

Добавляет маркер в панель элементов в список скрытых областей панели с вкладками MDI.

```
void AddHiddenMDITabbedBar(CDockablePane* pBar);
```

### <a name="parameters"></a>Параметры

*пбар*<br/>
окне Указатель на панель строк

##  <a name="addpane"></a>Кдоккингманажер:: Аддпане

Регистрирует панель с помощью диспетчера закрепления.

```
BOOL AddPane(
    CBasePane* pWnd,
    BOOL bTail = TRUE,
    BOOL bAutoHide = FALSE,
    BOOL bInsertForOuterEdge = FALSE);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
[вход, выход] Задает область, добавляемую в Диспетчер стыковки.

*бтаил*<br/>
окне Значение TRUE, чтобы добавить область в конец списка панелей для диспетчера закрепления; в противном случае — значение FALSE.

*баутохиде*<br/>
окне Только для внутреннего использования. Всегда используйте значение по умолчанию FALSE.

*бинсертфораутередже*<br/>
окне Только для внутреннего использования. Всегда используйте значение по умолчанию FALSE.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель успешно зарегистрирована в диспетчере закрепления; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Вызывайте этот метод для регистрации неплавающих панелей с неизменяемыми размерами с помощью диспетчера закрепления. Если вы не зарегистрировали панели, они будут отображаться неправильно при размещении диспетчера закрепления.

##  <a name="adjustdockinglayout"></a>Кдоккингманажер:: Аджустдоккинглайаут

Повторно вычисляет и корректирует макет всех панелей в окне фрейма.

```
virtual void AdjustDockingLayout(HDWP hdwp = NULL);
```

### <a name="parameters"></a>Параметры

*хдвп*<br/>
окне Задает структуру отложенного позиционирования окна. Дополнительные сведения см. в разделе [Типы данных Windows](/windows/win32/WinProg/windows-data-types).

### <a name="remarks"></a>Примечания

##  <a name="addminiframe"></a>Кдоккингманажер:: Аддминифраме

Добавляет кадр в список мини-кадров.

```
virtual BOOL AddMiniFrame(CPaneFrameWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
окне Указатель на кадр.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если кадр отсутствует в списке мини-кадров и был успешно добавлен. В противном случае — значение FALSE.

##  <a name="adjustpaneframes"></a>Кдоккингманажер:: Аджустпанефрамес

Вызывает отправку сообщения WM_NCCALCSIZE на все панели и `CPaneFrameWnd` окна.

```
virtual void AdjustPaneFrames();
```

### <a name="remarks"></a>Примечания

##  <a name="adjustrecttoclientarea"></a>Кдоккингманажер:: Аджустректтоклиентареа

Регулирует выравнивание прямоугольника.

```
virtual BOOL AdjustRectToClientArea(
    CRect& rectResult,
    DWORD dwAlignment);
```

### <a name="parameters"></a>Параметры

*ректресулт*<br/>
окне Ссылка на `CRect` объект

*двалигнмент*<br/>
окне Выравнивание `CRect` объекта

### <a name="return-value"></a>Возвращаемое значение

Значение true, если выравнивание `CRect` объекта было изменено; В противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Параметр *двалигнмент* может иметь одно из следующих значений:

- CBRS_ALIGN_TOP

- CBRS_ALIGN_BOTTOM

- CBRS_ALIGN_LEFT

- CBRS_ALIGN_RIGHT

##  <a name="alignautohidepane"></a>Кдоккингманажер:: Алигнаутохидепане

Изменяет размер закрепляемой области в режиме автоскрытия таким образом, чтобы она занимала всю ширину или высоту клиентской области кадра, окруженной закреплением сайтов.

```
void AlignAutoHidePane(
    CPaneDivider* pDefaultSlider,
    BOOL bIsVisible = TRUE);
```

### <a name="parameters"></a>Параметры

*пдефаултслидер*<br/>
окне Панель ползунка закрепления.

*бисвисибле*<br/>
окне Значение TRUE, если область закрепления видима; В противном случае — значение FALSE.

##  <a name="autohidepane"></a>Кдоккингманажер:: Аутохидепане

Создает панель инструментов автоскрытия.

```
CMFCAutoHideToolBar* AutoHidePane(
    CDockablePane* pBar,
    CMFCAutoHideToolBar* pCurrAutoHideToolBar = NULL);
```

### <a name="parameters"></a>Параметры

*пбар*<br/>
окне Указатель на панель панели.

*пкурраутохидетулбар*<br/>
окне Указатель на панель инструментов автоматического скрытия.

### <a name="return-value"></a>Возвращаемое значение

Значение NULL, если панель инструментов автоматического скрытия не была создана; в противном случае — указатель на новую панель инструментов.

##  <a name="bringbarstotop"></a>Кдоккингманажер:: Брингбарстотоп

Переводит закрепленные линейчатые диаграммы с указанным выравниванием сверху.

```
void BringBarsToTop(
    DWORD dwAlignment = 0,
    BOOL bExcludeDockedBars = TRUE);
```

### <a name="parameters"></a>Параметры

*двалигнмент*<br/>
окне Выравнивание строк закрепления, которые отображаются в верхней части других окон.

*бексклудедоккедбарс*<br/>
окне Значение TRUE, чтобы исключить закрепленные полосы из поверх; в противном случае — FALSE.

##  <a name="buildpanesmenu"></a>Кдоккингманажер:: Буилдпанесмену

Добавляет в меню имена закрепляемых панелей и панелей инструментов.

```
void BuildPanesMenu(
    CMenu& menu,
    BOOL bToolbarsOnly);
```

### <a name="parameters"></a>Параметры

*меню*<br/>
окне Меню для добавления имен закрепляемых панелей и панелей инструментов в.

*бтулбарсонли*<br/>
окне Значение TRUE, чтобы добавить в меню только имена панелей инструментов; В противном случае — значение FALSE.

##  <a name="calcexpecteddockedrect"></a>Кдоккингманажер:: Калцекспектеддоккедрект

Вычисляет ожидаемый прямоугольник закрепленного окна.

```
void CalcExpectedDockedRect(
    CWnd* pWnd,
    CPoint ptMouse,
    CRect& rectResult,
    BOOL& bDrawTab,
    CDockablePane** ppTargetBar);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
окне Указатель на окно для закрепления.

*птмаусе*<br/>
окне Положение мыши.

*ректресулт*<br/>
заполняет Вычисляемый прямоугольник.

*бдравтаб*<br/>
окне Значение TRUE для рисования вкладки; в противном случае — FALSE.

*пптаржетбар*<br/>
заполняет Указатель на указатель на целевую область.

### <a name="remarks"></a>Примечания

Этот метод вычисляет прямоугольник, который будет занимать окно, если пользователь переместил окно в точку, указанную параметром *птмаусе* , и закрепляет ее там.

##  <a name="create"></a>Кдоккингманажер:: Create

Создает диспетчер закрепления.

```
BOOL Create(CFrameWnd* pParentWnd);
```

### <a name="parameters"></a>Параметры

*ппарентвнд*<br/>
окне Указатель на родительский фрейм диспетчера закрепления. Это значение не должно быть равно NULL.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE всегда.

##  <a name="determinepaneandstatus"></a>Кдоккингманажер::D Етерминепанеандстатус

Определяет панель, содержащую заданную точку и ее состояние закрепления.

```
virtual AFX_CS_STATUS DeterminePaneAndStatus(
    CPoint pt,
    int nSensitivity,
    DWORD dwEnabledAlignment,
    CBasePane** ppTargetBar,
    const CBasePane* pBarToIgnore,
    const CBasePane* pBarToDock);
```

### <a name="parameters"></a>Параметры

*pt*<br/>
окне Расположение области для проверки.

*нсенситивити*<br/>
окне Значение для увеличения прямоугольника окна каждой проверяемой области. Панель удовлетворяет критериям поиска, если заданная точка находится в этой увеличенной области.

*двенабледалигнмент*<br/>
окне Выравнивание закрепляемой области.

*пптаржетбар*<br/>
заполняет Указатель на указатель на целевую область.

*пбартоигноре*<br/>
окне Область, которую пропускает метод.

*пбартодокк*<br/>
окне Закрепленная панель.

### <a name="return-value"></a>Возвращаемое значение

Состояние закрепления.

### <a name="remarks"></a>Примечания

В качестве состояния закрепления может использоваться одно из следующих значений:

|Значение AFX_CS_STATUS|Значение|
|---------------------------|-------------|
|CS_NOTHING|Указатель находится не на сайте закрепления. Поэтому не заключайте панель в плавающую.|
|CS_DOCK_IMMEDIATELY|Указатель находится на сайте закрепления в режиме интерпретации (включен стиль DT_IMMEDIATE), поэтому панель необходимо закрепить немедленно.|
|CS_DELAY_DOCK|Указатель находится над узлом закрепления, который является другой закрепляемой областью или является ребром главного фрейма.|
|CS_DELAY_DOCK_TO_TAB|Указатель находится на сайте закрепления, который приводит к закреплению панели в окне с вкладками. Это происходит, когда указатель мыши наведен на заголовок другой панели закрепления или над областью вкладки в области с вкладками.|

##  <a name="disablerestoredockstate"></a>Кдоккингманажер::D Исаблересторедоккстате

Включает или отключает загрузку макета закрепления из реестра.

```
void DisableRestoreDockState(BOOL bDisable = TRUE);
```

### <a name="parameters"></a>Параметры

*bОтключите*<br/>
окне Значение TRUE, чтобы отключить загрузку макета закрепления из реестра. в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод следует вызывать, когда необходимо сохранить текущий макет закрепляемых панелей и панелей инструментов при загрузке состояния приложения.

##  <a name="dockpane"></a>Кдоккингманажер::D Оккпане

Закрепляет панель на другой панели или в окне фрейма.

```
void DockPane(
    CBasePane* pBar,
    UINT nDockBarID = 0,
    LPCRECT lpRect = NULL);
```

### <a name="parameters"></a>Параметры

*пбар*<br/>
окне Указатель на область линейчатой диаграммы для закрепления.

*ндоккбарид*<br/>
окне Идентификатор закрепления панели.

*лпрект*<br/>
окне Прямоугольник назначения.

##  <a name="dockpaneleftof"></a>Кдоккингманажер::D Оккпанелефтоф

Закрепляет область слева от другой области.

```
BOOL DockPaneLeftOf(
    CPane* pBarToDock,
    CPane* pTargetBar);
```

### <a name="parameters"></a>Параметры

*пбартодокк*<br/>
окне Указатель на область, которая должна быть закреплена слева от *птаржетбар*.

*птаржетбар*<br/>
окне Указатель на целевую область.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель закреплена успешно. в противном случае — значение FALSE.

##  <a name="enableautohidepanes"></a>Кдоккингманажер:: Енаблеаутохидепанес

Включает закрепление панели в главном фрейме, создает панель закрепления и добавляет ее в список панелей элементов управления.

```
BOOL EnableAutoHidePanes(DWORD dwStyle);
```

### <a name="parameters"></a>Параметры

*двстиле*<br/>
окне Выравнивание закрепления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель закрепления успешно создана; В противном случае — значение FALSE.

##  <a name="enabledocking"></a>Кдоккингманажер:: Енабледоккинг

Создает панель закрепления и позволяет закреплять область в главном фрейме.

```
BOOL EnableDocking(DWORD dwStyle);
```

### <a name="parameters"></a>Параметры

*двстиле*<br/>
окне Выравнивание закрепления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель закрепления успешно создана; В противном случае — значение FALSE.

##  <a name="enabledocksitemenu"></a>Кдоккингманажер:: Енабледоккситемену

Отображает дополнительную кнопку, открывающую всплывающее меню на заголовках всех панелей закрепления.

```
static void EnableDockSiteMenu(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
окне Значение TRUE, чтобы включить меню сайта закрепления; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

В меню закрепляемый сайт отображаются следующие параметры для изменения состояния закрепления панели.

- `Floating`— Перемещает панель в плавающую область

- `Docking`— Закрепляет панель в главном фрейме в месте последнего закрепления панели

- `AutoHide`-Переключает панель в режим автоскрытия

- `Hide`-Скрыть панель

По умолчанию это меню не отображается.

##  <a name="enablepanecontextmenu"></a>Кдоккингманажер:: Енаблепанеконтекстмену

Указывает библиотеке отображать специальное контекстное меню, имеющее список панелей инструментов приложения и закрепляемых областей, когда пользователь нажимает правую кнопку мыши и библиотека обрабатывает сообщение WM_CONTEXTMENU.

```
void EnablePaneContextMenu(
    BOOL bEnable,
    UINT uiCustomizeCmd,
    const CString& strCustomizeText,
    BOOL bToolbarsOnly = FALSE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
окне Если значение — TRUE, Библиотека включает поддержку автоматического контекстного меню; Если значение равно FALSE, Библиотека отключает поддержку автоматического контекстного меню.

*уикустомизекмд*<br/>
окне Идентификатор команды для **настройки** элемента в меню.

*стркустомизетекст*<br/>
окне Текст настраиваемого элемента .

*бтулбарсонли*<br/>
окне Если значение — TRUE, в меню отображается только список панелей инструментов приложения. Если задано значение FALSE, Библиотека добавляет в этот список закрепляемые области приложения.

##  <a name="finddocksite"></a>Кдоккингманажер:: Финддокксите

Извлекает панель гистограммы, находящийся в указанной позиции и имеющую указанное выравнивание.

```
virtual CDockSite* FindDockSite(
    DWORD dwAlignment,
    BOOL bOuter);
```

### <a name="parameters"></a>Параметры

*двалигнмент*<br/>
окне Выравнивание панели строк.

*баутер*<br/>
окне Если значение — TRUE, извлеките строку в головном положении в списке панелей элементов управления. В противном случае извлеките строку в позиции хвоста в списке панелей элементов управления.

### <a name="return-value"></a>Возвращаемое значение

Закрепляемая панель с указанным выравниванием; В противном случае — NULL.

##  <a name="findpanebyid"></a>Кдоккингманажер:: Финдпанебид

Находит панель по указанному ИДЕНТИФИКАТОРу элемента управления.

```
virtual CBasePane* FindPaneByID(
    UINT uBarID,
    BOOL bSearchMiniFrames = FALSE);
```

### <a name="parameters"></a>Параметры

*убарид*<br/>
окне Указывает идентификатор элемента управления для поиска панели.

*бсеарчминифрамес*<br/>
окне Значение TRUE, чтобы включить в Поиск все плавающие области. Значение FALSE, чтобы включить только закрепленные панели.

### <a name="return-value"></a>Возвращаемое значение

Объект [CBasePane](../../mfc/reference/cbasepane-class.md) с указанным идентификатором элемента управления или значение null, если указанная панель не найдена.

### <a name="remarks"></a>Примечания

##  <a name="finddocksitebypane"></a>Кдоккингманажер:: Финддоккситебипане

Возвращает панель гистограммы с идентификатором панели целевых панелей.

```
virtual CDockSite* FindDockSiteByPane(CPane* pTargetBar);
```

### <a name="parameters"></a>Параметры

*птаржетбар*<br/>
окне Указатель на панель целевой строки.

### <a name="return-value"></a>Возвращаемое значение

Панель гистограммы с идентификатором панели целевых панелей; NULL, если такая панель не существует.

##  <a name="fixupvirtualrects"></a>Кдоккингманажер:: Фиксупвиртуалректс

Фиксирует все текущие позиции панели инструментов в виртуальных прямоугольниках.

```
virtual void FixupVirtualRects();
```

### <a name="remarks"></a>Примечания

Когда пользователь начинает перетаскивать панель инструментов, приложение запоминает его исходную точку в *виртуальном прямоугольнике*. Когда пользователь перемещает панель инструментов через узел закрепления, панель инструментов может быть сдвинуты на другие панели инструментов. Исходные положения других панелей инструментов хранятся в соответствующих виртуальных прямоугольниках.

##  <a name="framefrompoint"></a>Кдоккингманажер:: Фрамефромпоинт

Возвращает кадр, содержащий заданную точку.

```
virtual CPaneFrameWnd* FrameFromPoint(
    CPoint pt,
    CPaneFrameWnd* pFrameToExclude,
    BOOL bFloatMultiOnly) const;
```

### <a name="parameters"></a>Параметры

*pt*<br/>
окне Указывает точку (в экранных координатах) для проверки.

*пфраметоексклуде*<br/>
окне Указатель на кадр, который необходимо исключить.

*бфлоатмултионли*<br/>
окне Значение TRUE, чтобы исключить кадры, которые не `CMultiPaneFrameWnd`являются экземплярами; В противном случае — значение FALSE.

### <a name="return-value"></a>Возвращаемое значение

Кадр, содержащий заданную точку; В противном случае — NULL.

##  <a name="getclientareabounds"></a>Кдоккингманажер:: Жетклиентареабаундс

Возвращает прямоугольник, содержащий границы клиентской области.

```
CRect GetClientAreaBounds() const;

void GetClientAreaBounds(CRect& rcClient);
```

### <a name="parameters"></a>Параметры

*ркклиент*<br/>
заполняет Ссылка на прямоугольник, содержащий границы клиентской области.

### <a name="return-value"></a>Возвращаемое значение

Прямоугольник, содержащий границы клиентской области.

##  <a name="getdockingmode"></a>Кдоккингманажер:: Жетдоккингмоде

Возвращает текущий режим закрепления.

```
static AFX_DOCK_TYPE GetDockingMode();
```

### <a name="return-value"></a>Возвращаемое значение

Значение перечислителя, представляющее текущий режим закрепления. Может принимать одно из следующих значений:

- DT_STANDARD

- DT_IMMEDIATE

- DT_SMART

### <a name="remarks"></a>Примечания

Чтобы задать режим закрепления, вызовите метод [кдоккингманажер:: сетдоккингмоде](#setdockingmode).

##  <a name="getdocksiteframewnd"></a>Кдоккингманажер:: Жетдоккситефрамевнд

Возвращает указатель на фрейм родительского окна.

```
CFrameWnd* GetDockSiteFrameWnd() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на фрейм родительского окна.

##  <a name="getenabledautohidealignment"></a>Кдоккингманажер:: Жетенабледаутохидеалигнмент

Возвращает включенное выравнивание панелей.

```
DWORD GetEnabledAutoHideAlignment() const;
```

### <a name="return-value"></a>Возвращаемое значение

Побитовое сочетание флагов CBRS_ALIGN_ или 0, если области автоскрытия не включены. Дополнительные сведения см. в разделе [CFrameWnd:: енабледоккинг](../../mfc/reference/cframewnd-class.md#enabledocking).

### <a name="remarks"></a>Примечания

Метод возвращает включенное выравнивание для панелей управления автоскрытия. Чтобы включить автоматическое скрытие полос, вызовите метод [CFrameWndEx:: енаблеаутохидепанес](../../mfc/reference/cframewndex-class.md#enableautohidepanes).

##  <a name="getminiframes"></a>Кдоккингманажер:: Жетминифрамес

Возвращает список минифрамес.

```
const CObList& GetMiniFrames() const;
```

### <a name="return-value"></a>Возвращаемое значение

Список минифрамес, содержащих панели элементов управления, принадлежащие диспетчеру закрепления.

##  <a name="getouteredgebounds"></a>Кдоккингманажер:: Жетаутереджебаундс

Возвращает прямоугольник, содержащий внешние края рамки.

```
CRect GetOuterEdgeBounds() const;
```

### <a name="return-value"></a>Возвращаемое значение

Прямоугольник, содержащий внешние края рамки.

##  <a name="getpanelist"></a>  CDockingManager::GetPaneList

Возвращает список панелей, принадлежащих диспетчеру закрепления. Сюда входят все плавающие панели.

```
void GetPaneList(
    CObList& lstBars,
    BOOL bIncludeAutohide = FALSE,
    CRuntimeClass* pRTCFilter = NULL,
    BOOL bIncludeTabs = FALSE);
```

### <a name="parameters"></a>Параметры

*лстбарс*<br/>
[вход, выход] Содержит все панели текущего диспетчера закрепления.

*бинклудеаутохиде*<br/>
окне Значение TRUE, чтобы включить панели, которые находятся в режиме автоскрытия. в противном случае — значение FALSE.

*прткфилтер*<br/>
окне Если значение не равно NULL, возвращаемый список содержит только панели указанного класса среды выполнения.

*бинклудетабс*<br/>
окне Значение TRUE, чтобы включить вкладки; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Если в диспетчере закрепления есть панели с вкладками, метод возвращает указатели на объекты [класса CBaseTabbedPane](../../mfc/reference/cbasetabbedpane-class.md) , и необходимо явно перечислить вкладки.

Используйте *прткфилтер* для получения определенного класса панелей. Например, можно получить только панели инструментов, задав это значение соответствующим образом.

##  <a name="getsmartdockingmanager"></a>  CDockingManager::GetSmartDockingManager

Получает указатель на диспетчер смарт-закрепления.

```
CSmartDockingManager* GetSmartDockingManager();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на диспетчер смарт-закрепления.

##  <a name="getsmartdockingmanagerpermanent"></a>  CDockingManager::GetSmartDockingManagerPermanent

Получает указатель на диспетчер смарт-закрепления.

```
CSmartDockingManager* GetSmartDockingManagerPermanent() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на диспетчер смарт-закрепления.

##  <a name="getsmartdockingparams"></a>  CDockingManager::GetSmartDockingParams

Возвращает параметры смарт-стыковки для диспетчера закрепления.

```
static CSmartDockingInfo& GetSmartDockingParams();
```

### <a name="return-value"></a>Возвращаемое значение

Класс, содержащий параметры смарт-стыковки для текущего диспетчера закрепления. Дополнительные сведения см. в разделе [класс ксмартдоккингинфо](../../mfc/reference/csmartdockinginfo-class.md).

### <a name="remarks"></a>Примечания

##  <a name="hideautohidepanes"></a>Кдоккингманажер:: Хидеаутохидепанес

Скрывает панель, которая находится в режиме автоскрытия.

```
void HideAutoHidePanes(
    CDockablePane* pBarToExclude = NULL,
    BOOL bImmediately = FALSE);
```

### <a name="parameters"></a>Параметры

*пбартоексклуде*<br/>
окне Указатель на полосу, которую необходимо исключить из скрытия.

*биммедиатели*<br/>
окне Значение TRUE, чтобы скрыть панель немедленно. Значение FALSE, чтобы скрыть панель с помощью автоскрытия.

##  <a name="insertdocksite"></a>Кдоккингманажер:: Инсертдокксите

Создает панель закрепления и вставляет ее в список панелей элементов управления.

```
BOOL InsertDockSite(
    const AFX_DOCKSITE_INFO& info,
    DWORD dwAlignToInsertAfter,
    CDockSite** ppDockBar = NULL);
```

### <a name="parameters"></a>Параметры

*контактные*<br/>
окне Структура, содержащая сведения о выравнивании для панели закрепления.

*двалигнтоинсертафтер*<br/>
окне Выравнивание панели закрепления.

*ппдоккбар*<br/>
заполняет Указатель на указатель на панель закрепления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель закрепления успешно создана; В противном случае — значение FALSE.

##  <a name="insertpane"></a>Кдоккингманажер:: Инсертпане

Вставляет панель элементов управления в список панелей элементов управления.

```
BOOL InsertPane(
    CBasePane* pControlBar,
    CBasePane* pTarget,
    BOOL bAfter = TRUE);
```

### <a name="parameters"></a>Параметры

*пконтролбар*<br/>
окне Указатель на панель управления.

*птаржет*<br/>
окне Указатель на целевую область.

*бафтер*<br/>
окне Значение TRUE, чтобы вставить панель после расположения целевой области; В противном случае — значение FALSE.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель управления успешно добавлена в список панелей элементов управления; В противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод возвращает значение false, если панель управления уже находится в списке панелей элементов управления или если целевая область не существует в списке панелей элементов управления.

##  <a name="isdocksitemenu"></a>Кдоккингманажер:: Исдоккситемену

Указывает, отображается ли всплывающее меню в заголовках всех панелей.

```
static BOOL IsDockSiteMenu();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если меню сайта закрепления отображается на заголовках всех панелей закрепления; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Можно включить меню DOCKER site, вызвав [кдоккингманажер:: енабледоккситемену](#enabledocksitemenu).

##  <a name="isinadjustlayout"></a>Кдоккингманажер:: Исинаджустлайаут

Определяет, настроены ли макеты всех панелей.

```
BOOL IsInAdjustLayout() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если макеты всех панелей настроены; В противном случае — значение FALSE.

##  <a name="isolecontainermode"></a>Кдоккингманажер:: Исолеконтаинермоде

Указывает, находится ли диспетчер стыковки в режиме контейнера OLE.

```
BOOL IsOLEContainerMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если диспетчер закрепления находится в режиме контейнера OLE. в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

В режиме контейнера OLE все панели закреплений и панели инструментов приложения скрыты. Панели также скрыты в этом режиме, если для параметра [кдоккингманажер:: m_bHideDockingBarsInContainerMode](#m_bhidedockingbarsincontainermode) задано значение true.

##  <a name="ispointneardocksite"></a>Кдоккингманажер:: Испоинтнеардокксите

Определяет, находится ли указанная точка вблизи сайта закрепления.

```
BOOL IsPointNearDockSite(
    CPoint point,
    DWORD& dwBarAlignment,
    BOOL& bOuterEdge) const;
```

### <a name="parameters"></a>Параметры

*point*<br/>
окне Указанная точка.

*двбаралигнмент*<br/>
заполняет Указывает, на каком крае находится приближается точка. Возможные значения: CBRS_ALIGN_LEFT, CBRS_ALIGN_RIGHT, CBRS_ALIGN_TOP и CBRS_ALIGN_BOTTOM.

*баутередже*<br/>
заполняет Значение TRUE, если точка близка к внешней границе сайта закрепления; В противном случае — значение FALSE.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если точка находится вблизи сайта закрепления; в противном случае — FALSE.

##  <a name="isprintpreviewvalid"></a>  CDockingManager::IsPrintPreviewValid

Определяет, установлен ли режим предварительного просмотра печати.

```
BOOL IsPrintPreviewValid() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если установлен режим предварительного просмотра. В противном случае — значение FALSE.

##  <a name="loadstate"></a>Кдоккингманажер:: LoadState

Загружает состояние диспетчера закрепления из реестра.

```
virtual BOOL LoadState(
    LPCTSTR lpszProfileName = NULL,
    UINT uiID = (UINT) -1);
```

### <a name="parameters"></a>Параметры

*лпсзпрофиленаме*<br/>
окне Имя профиля.

*uiID*<br/>
окне Идентификатор диспетчера закрепления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если состояние диспетчера закрепления было успешно загружено; в противном случае — FALSE.

##  <a name="lockupdate"></a>Кдоккингманажер:: Локкупдате

Блокирует заданное окно.

```
void LockUpdate(BOOL bLock);
```

### <a name="parameters"></a>Параметры

*Блок*<br/>
окне Значение TRUE, если окно заблокировано; В противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Если окно заблокировано, оно не может быть перемещено и не может быть перерисовано.

##  <a name="m_bhidedockingbarsincontainermode"></a>Кдоккингманажер:: m_bHideDockingBarsInContainerMode

Указывает, скрывает ли диспетчер стыковки панели в режиме контейнера OLE.

```
AFX_IMPORT_DATA static BOOL m_bHideDockingBarsInContainerMode;
```

### <a name="remarks"></a>Примечания

Установите это значение в значение FALSE, если хотите, чтобы все панели, закрепленные за основным кадром, отображались, если приложение находится в режиме контейнера OLE. По умолчанию это значение равно TRUE.

##  <a name="m_dockmodeglobal"></a>Кдоккингманажер:: m_dockModeGlobal

Задает режим глобальной стыковки.

```
AFX_IMPORT_DATA static AFX_DOCK_TYPE m_dockModeGlobal;
```

### <a name="remarks"></a>Примечания

По умолчанию в каждой области закрепления используется режим закрепления. Дополнительные сведения о значениях, которые могут быть заданы для этого поля, см. в разделе [CBasePane:: жетдоккингмоде](../../mfc/reference/cbasepane-class.md#getdockingmode).

##  <a name="m_ndocksensitivity"></a>Кдоккингманажер:: m_nDockSensitivity

Указывает чувствительность закрепления.

```
AFX_IMPORT_DATA static int m_nDockSensitivity;
```

### <a name="remarks"></a>Примечания

Чувствительность к закреплениям определяет, как закрытие плавающей панели может подходить к закрепляемой панели, узлу стыковки или другой панели до того, как платформа изменит свое состояние на закрепленный.

##  <a name="m_ntimeoutbeforedockingbardock"></a>Кдоккингманажер:: m_nTimeOutBeforeDockingBarDock

Указывает время в миллисекундах, по истечении которого закрепляемая панель закрепляется в режиме немедленного закрепления.

```
static UINT m_nTimeOutBeforeDockingBarDock;
```

### <a name="remarks"></a>Примечания

Перед закреплением области платформа ожидает указанное время. Это предотвращает случайную Прикрепление панели к месту, когда пользователь все еще перетаскивать его.

##  <a name="m_ntimeoutbeforetoolbardock"></a>Кдоккингманажер:: m_nTimeOutBeforeToolBarDock

Указывает время в миллисекундах до того, как панель инструментов закрепляется в главном окне фрейма.

```
static UINT m_nTimeOutBeforeToolBarDock;
```

### <a name="remarks"></a>Примечания

Перед закреплением панели инструментов платформа ожидает указанное время. Это предотвращает случайную Прикрепление панели инструментов к месту, когда пользователь все еще перетаскивать его.

##  <a name="onactivateframe"></a>Кдоккингманажер:: Онактиватефраме

Вызывается структурой, когда окно фрейма становится активным или деактивируется.

```
virtual void OnActivateFrame(BOOL bActivate);
```

### <a name="parameters"></a>Параметры

*bActivate*<br/>
окне Если значение равно TRUE, окно фрейма становится активным; Если значение равно FALSE, окно фрейма деактивируется.

##  <a name="onclosepopupmenu"></a>Кдоккингманажер:: Онклосепопупмену

Вызывается платформой, когда активное всплывающее меню обрабатывает сообщение WM_DESTROY.

```
void OnClosePopupMenu();
```

### <a name="remarks"></a>Примечания

Платформа отправляет сообщение WM_DESTROY, когда закрывает текущее главное окно. Переопределите этот метод, чтобы обрабатывать `CMFCPopupMenu` уведомления от объектов, принадлежащих окну фрейма `CMFCPopupMenu` , когда объект обрабатывает сообщение WM_DESTROY.

##  <a name="onmoveminiframe"></a>Кдоккингманажер:: Онмовеминифраме

Вызывается структурой для перемещения окна мини-кадра.

```
virtual BOOL OnMoveMiniFrame(CWnd* pFrame);
```

### <a name="parameters"></a>Параметры

*пфраме*<br/>
окне Указатель на окно с мини-рамкой.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен. в противном случае — FALSE.

##  <a name="onpanecontextmenu"></a>Кдоккингманажер:: Онпанеконтекстмену

Вызывается платформой при построении меню со списком панелей.

```
void OnPaneContextMenu(CPoint point);
```

### <a name="parameters"></a>Параметры

*point*<br/>
окне Указывает расположение меню.

##  <a name="panefrompoint"></a>Кдоккингманажер::P Анефромпоинт

Возвращает панель, содержащую заданную точку.

```
virtual CBasePane* PaneFromPoint(
    CPoint point,
    int nSensitivity,
    bool bExactBar = false,
    CRuntimeClass* pRTCBarType = NULL,
    BOOL bCheckVisibility = FALSE,
    const CBasePane* pBarToIgnore = NULL) const;

virtual CBasePane* PaneFromPoint(
    CPoint point,
    int nSensitivity,
    DWORD& dwAlignment,
    CRuntimeClass* pRTCBarType = NULL,
    const CBasePane* pBarToIgnore = NULL) const;
```

### <a name="parameters"></a>Параметры

*point*<br/>
окне Указывает точку (в экранных координатах) для проверки.

*нсенситивити*<br/>
окне Значение для расширения прямоугольника окна каждой проверяемой области. Панель удовлетворяет критериям поиска, если данная точка находится в этом неизменном регионе.

*бексактбар*<br/>
окне Значение TRUE, чтобы игнорировать параметр *нсенситивити* ; в противном случае — значение FALSE.

*прткбартипе*<br/>
окне Если значение не равно NULL, метод выполняет поиск только на панелях указанного типа.

*бчекквисибилити*<br/>
окне Значение TRUE, чтобы проверять только видимые панели; в противном случае — значение FALSE.

*двалигнмент*<br/>
заполняет Если область находится в указанной точке, этот параметр содержит сторону области, ближайшую к указанной точке. Дополнительные сведения см. в разделе "Примечания".

*пбартоигноре*<br/>
окне Если значение не равно NULL, метод игнорирует панели, заданные этим параметром.

### <a name="return-value"></a>Возвращаемое значение

Объект, производный от [CBasePane](../../mfc/reference/cbasepane-class.md), который содержит заданную точку, или значение null, если панель не найдена.

### <a name="remarks"></a>Примечания

Когда функция возвращает и найдена панель, *двалигнмент* содержит выравнивание указанной точки. Например, если точка находилась ближе к верхней части области, *двалигнмент* имеет значение CBRS_ALIGN_TOP.

##  <a name="processpanecontextmenucommand"></a>Кдоккингманажер::P Роцесспанеконтекстменукомманд

Вызывается платформой для выбора или снятия флажка для указанной команды и повторного вычисления макета отображаемой панели.

```
BOOL ProcessPaneContextMenuCommand(
    UINT nID,
    int nCode,
    void* pExtra,
    AFX_CMDHANDLERINFO* pHandlerInfo);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
окне Идентификатор панели элементов управления в меню.

*нкоде*<br/>
окне Код уведомления команды.

*пекстра*<br/>
окне Указатель на void, который приводится к указателю `CCmdUI` , если *нкоде* — CN_UPDATE_COMMAND_UI.

*фандлеринфо*<br/>
окне Указатель на информационную структуру. Этот параметр не используется.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если *пекстра* не равно NULL и *нкоде* равен CN_UPDATE_COMMAND_UI, или если имеется панель элементов управления с указанным *NID*.

##  <a name="recalclayout"></a>Кдоккингманажер:: RecalcLayout

Повторно вычисляет внутренний макет элементов управления, имеющихся в списке элементов управления.

```
virtual void RecalcLayout(BOOL bNotify = TRUE);
```

### <a name="parameters"></a>Параметры

*бнотифи*<br/>
окне Этот параметр не используется.

##  <a name="releaseemptypanecontainers"></a>Кдоккингманажер:: Релеасимптипанеконтаинерс

Освобождает пустые контейнеры панели.

```
void ReleaseEmptyPaneContainers();
```

##  <a name="removehiddenmditabbedbar"></a>Кдоккингманажер:: Ремовехидденмдитаббедбар

Удаляет указанную панель скрытой панели.

```
void RemoveHiddenMDITabbedBar(CDockablePane* pBar);
```

### <a name="parameters"></a>Параметры

*пбар*<br/>
окне Указатель на панель полос, которую необходимо удалить.

##  <a name="removeminiframe"></a>Кдоккингманажер:: Ремовеминифраме

Удаляет указанный кадр из списка мини-кадров.

```
virtual BOOL RemoveMiniFrame(CPaneFrameWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
окне Указатель на удаляемый кадр.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если указанный кадр удален; В противном случае — значение FALSE.

##  <a name="removepanefromdockmanager"></a>Кдоккингманажер:: Ремовепанефромдоккманажер

Отменяет регистрацию панели и удаляет ее из списка в диспетчере закрепления.

```
void RemovePaneFromDockManager(
    CBasePane* pWnd,
    BOOL bDestroy,
    BOOL bAdjustLayout,
    BOOL bAutoHide = FALSE,
    CBasePane* pBarReplacement = NULL);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
окне Указатель на панель, которую необходимо удалить.

*бдестрой*<br/>
окне Если значение — TRUE, удаленная панель уничтожается.

*баджустлайаут*<br/>
окне Если значение — TRUE, откорректируйте макет закрепления немедленно.

*баутохиде*<br/>
окне Если значение — TRUE, панель удаляется из списка полос автоскрытия. Если значение равно FALSE, панель удаляется из списка обычных панелей.

*пбарреплацемент*<br/>
окне Указатель на панель, которая заменяет удаленную панель.

##  <a name="replacepane"></a>Кдоккингманажер:: Реплацепане

Заменяет одну панель другой.

```
BOOL ReplacePane(
    CDockablePane* pOriginalBar,
    CDockablePane* pNewBar);
```

### <a name="parameters"></a>Параметры

*поригиналбар*<br/>
окне Указатель на исходную панель.

*пневбар*<br/>
окне Указатель на область, которая заменяет исходную панель.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если панель успешно заменена; В противном случае — значение FALSE.

##  <a name="resortminiframesforzorder"></a>Кдоккингманажер:: Ресортминифрамесфорзордер

Перекурортить кадры в списке мини-кадров.

```
void ResortMiniFramesForZOrder();
```

##  <a name="savestate"></a>Кдоккингманажер:: SaveState

Сохраняет состояние диспетчера закрепления в реестре.

```
virtual BOOL SaveState(
    LPCTSTR lpszProfileName = NULL,
    UINT uiID = (UINT) -1);
```

### <a name="parameters"></a>Параметры

*лпсзпрофиленаме*<br/>
окне Путь к разделу реестра.

*uiID*<br/>
окне Идентификатор диспетчера закрепления.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если состояние успешно сохранено; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Сохранение состояния диспетчера закрепления в реестре включает сохранение состояния панелей элементов управления, состояния полос автоскрытия и состояния мини-кадров, имеющихся в диспетчере закрепления.

##  <a name="sendmessagetominiframes"></a>Кдоккингманажер:: Сендмессажетоминифрамес

Отправляет указанное сообщение во все мини-кадры.

```
BOOL SendMessageToMiniFrames(
    UINT uMessage,
    WPARAM wParam = 0,
    LPARAM lParam = 0);
```

### <a name="parameters"></a>Параметры

*умессаже*<br/>
окне Отправляемое сообщение.

*wParam*<br/>
окне Дополнительные сведения, зависящие от сообщений.

*lParam*<br/>
окне Дополнительные сведения, зависящие от сообщений.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE всегда.

##  <a name="serialize"></a>Кдоккингманажер:: Serialize

Записывает диспетчер закрепления в архив.

```
void Serialize(CArchive& ar);
```

### <a name="parameters"></a>Параметры

*AR*<br/>
окне Ссылка на объект архива.

### <a name="remarks"></a>Примечания

Запись диспетчера закрепления в архив включает определение количества закрепления панелей элементов управления и ползунков, а также запись панелей элементов управления, Мини-кадров, полос автоскрытия и столбцов с вкладками MDI в архив.

##  <a name="setautohidezorder"></a>Кдоккингманажер:: Сетаутохидезордер

Задает размер, ширину и высоту панелей элементов управления и указанной панели.

```
void SetAutohideZOrder(CDockablePane* pAHDockingBar);
```

### <a name="parameters"></a>Параметры

*пахдоккингбар*<br/>
окне Указатель на закрепляемую область.

##  <a name="setdockingmode"></a>Кдоккингманажер:: Сетдоккингмоде

Задает режим закрепления.

```
static void SetDockingMode(
    AFX_DOCK_TYPE dockMode,
    AFX_SMARTDOCK_THEME theme = AFX_SDT_DEFAULT);
```

### <a name="parameters"></a>Параметры

*доккмоде*<br/>
Задает новый режим стыковки. Дополнительные сведения см. в разделе "Примечания".

*Theme*<br/>
Указывает тему, используемую для маркеров смарт-закрепления. Это может быть одно из следующих перечислимых значений: AFX_SDT_DEFAULT, AFX_SDT_VS2005, AFX_SDT_VS2008.

### <a name="remarks"></a>Примечания

Вызовите этот статический метод, чтобы задать режим закрепления.

*доккмоде* может принимать одно из следующих значений:

- DT_STANDARD — стандартный режим стыковки, реализованный в Visual Studio .NET 2003. Панели перетаскиваются без контекстного перетаскивания.

- DT_IMMEDIATE — режим немедленной стыковки, реализованный в Microsoft Visio. Панели перетаскиваются с контекстом перетаскивания, но маркеры не отображаются.

- DT_SMART — интеллектуальный режим стыковки, реализованный в Visual Studio 2005. Панели перемещаются с контекстом перетаскивания, и отобразятся смарт-маркеры, которые показывают, где можно закрепить область.

##  <a name="setdockstate"></a>Кдоккингманажер:: Сетдоккстате

Задает состояние закрепления панелей элементов управления, Мини-кадров и полос автоскрытия.

```
virtual void SetDockState();
```

##  <a name="setprintpreviewmode"></a>Кдоккингманажер:: Сетпринтпревиевмоде

Задает режим предварительного просмотра для полос, отображаемых в предварительном просмотре.

```
void SetPrintPreviewMode(
    BOOL bPreview,
    CPrintPreviewState* pState);
```

### <a name="parameters"></a>Параметры

*бпревиев*<br/>
окне Значение TRUE, если установлен режим предварительного просмотра. В противном случае — значение FALSE.

*пстате*<br/>
окне Указатель на состояние предварительного просмотра. Этот параметр не используется.

##  <a name="setsmartdockingparams"></a>  CDockingManager::SetSmartDockingParams

Задает параметры, определяющие поведение интеллектуальной стыковки.

```
static void SetSmartDockingParams(CSmartDockingInfo& params);
```

### <a name="parameters"></a>Параметры

*params*<br/>
[вход, выход] Определяет параметры для интеллектуальной стыковки.

### <a name="remarks"></a>Примечания

Этот метод следует вызывать, если требуется настроить внешний вид, цвет или форму маркеров закрепления.

Чтобы использовать поиск по умолчанию для маркеров смарт-закрепления, передайте неинициализированный экземпляр [класса ксмартдоккингинфо](../../mfc/reference/csmartdockinginfo-class.md) в *params*.

##  <a name="showdelayshowminiframes"></a>Кдоккингманажер:: Шовделайшовминифрамес

Показывает или скрывает окна мини-кадров.

```
void ShowDelayShowMiniFrames(BOOL bshow);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
окне Значение TRUE, чтобы активировать окно отображаемого кадра. Значение FALSE, чтобы скрыть окно рамки.

##  <a name="showpanes"></a>Кдоккингманажер:: Шовпанес

Показывает или скрывает панели элемента управления и панели автоскрытия.

```
virtual BOOL ShowPanes(BOOL bShow);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
окне Значение TRUE, чтобы отобразить панели; Значение FALSE, чтобы скрыть панели.

### <a name="return-value"></a>Возвращаемое значение

Всегда имеет значение FALSE.

##  <a name="startsdocking"></a>Кдоккингманажер:: Стартсдоккинг

Запускает интеллектуальную стыковку указанного окна в соответствии с выравниванием для диспетчера смарт-стыковки.

```
void StartSDocking(CWnd* pDockingWnd);
```

### <a name="parameters"></a>Параметры

*пдоккингвнд*<br/>
окне Указатель на окно для закрепления.

##  <a name="stopsdocking"></a>Кдоккингманажер:: Стопсдоккинг

Останавливает интеллектуальную стыковку.

```
void StopSDocking();
```

##  <a name="getsmartdockingtheme"></a>  CDockingManager::GetSmartDockingTheme

Статический метод, возвращающий тему, используемую для вывода маркеров смарт-закрепления.

```
static AFX_SMARTDOCK_THEME __stdcall GetSmartDockingTheme();
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих перечислимых значений: AFX_SDT_DEFAULT, AFX_SDT_VS2005, AFX_SDT_VS2008.

### <a name="remarks"></a>Примечания

## <a name="see-also"></a>См. также

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)<br/>
[Класс CObject](../../mfc/reference/cobject-class.md)<br/>
[Класс CFrameWndEx](../../mfc/reference/cframewndex-class.md)<br/>
[Класс CDockablePane](../../mfc/reference/cdockablepane-class.md)<br/>
[Класс CPaneFrameWnd](../../mfc/reference/cpaneframewnd-class.md)
