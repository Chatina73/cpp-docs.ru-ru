---
description: 'Дополнительные сведения о: структура Ккреатеконтекст'
title: Структура Ккреатеконтекст
ms.date: 11/04/2016
f1_keywords:
- CCreateContext
helpviewer_keywords:
- CCreateContext structure [MFC]
ms.assetid: 337a0e44-d910-49a8-afc0-c7207666a9dc
ms.openlocfilehash: b0d8c3a38d4d6ce9ee6130092ea6b27a50ed15e3
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97220465"
---
# <a name="ccreatecontext-structure"></a>Структура Ккреатеконтекст

Платформа использует `CCreateContext` структуру при создании окон фрейма и представлений, связанных с документом.

## <a name="syntax"></a>Синтаксис

```
struct CCreateContext
```

## <a name="remarks"></a>Remarks

`CCreateContext` является структурой и не имеет базового класса.

При создании окна значения в этой структуре предоставляют сведения, используемые для соединения компонентов документа с представлением данных. При `CCreateContext` переопределении частей процесса создания необходимо использовать только.

`CCreateContext`Структура содержит указатели на документ, окно фрейма, представление и шаблон документа. Он также содержит указатель на объект `CRuntimeClass` , который определяет тип создаваемого представления. Сведения о классе времени выполнения и указателе текущего документа используются для динамического создания нового представления. В следующей таблице показано, как и когда `CCreateContext` можно использовать каждый элемент:

|Член|Type|Что это для|
|------------|----------|--------------------|
|`m_pNewViewClass`|`CRuntimeClass*`|`CRuntimeClass` нового представления для создания.|
|`m_pCurrentDoc`|`CDocument*`|Существующий документ, который будет связан с новым представлением.|
|`m_pNewDocTemplate`|`CDocTemplate*`|Шаблон документа, связанный с созданием нового окна фрейма MDI.|
|`m_pLastView`|`CView*`|Исходное представление, в котором моделируются дополнительные представления, как при создании представлений окна разделителя или при создании второго представления документа.|
|`m_pCurrentFrame`|`CFrameWnd*`|Окно фрейма, в котором моделируются дополнительные окна фрейма, как при создании второго окна фрейма в документе.|

Когда шаблон документа создает документ и связанные с ним компоненты, он проверяет сведения, хранящиеся в `CCreateContext` структуре. Например, представление не должно создаваться для несуществующего документа.

> [!NOTE]
> Все указатели в `CCreateContext` являются необязательными и могут быть `NULL` неопределенными или неизвестными.

`CCreateContext` используется функциями-членами, которые перечислены в разделе "см. также". Ознакомьтесь с описанием этих функций, чтобы получить конкретные сведения, если планируется их переопределить.

Ниже приведены некоторые общие рекомендации.

- При передаче в качестве аргумента для создания окна, как в `CWnd::Create` , `CFrameWnd::Create` и `CFrameWnd::LoadFrame` , контекст создания определяет, к чему должно быть подключено новое окно. В большинстве окон вся структура является необязательной, и `NULL` можно передать указатель.

- Для переопределяемых функций-членов, например `CFrameWnd::OnCreateClient` , `CCreateContext` аргумент является необязательным.

- Для функций элементов, участвующих в создании представления, необходимо предоставить достаточно сведений для создания представления. Например, для первого представления в окне разделителя необходимо указать сведения о классе представления и текущий документ.

В общем случае при использовании параметров платформы по умолчанию можно пропустить `CCreateContext` . Если вы попытаетесь выполнить более сложные изменения, то вам поможет библиотека Microsoft Foundation Class исходный код или примеры программ, например VIEWEX. Если вы забыли обязательный параметр, утверждение платформы сообщит вам, что вы забыли.

Дополнительные сведения о см `CCreateContext` . в примере MFC с образцом [VIEWEX](../../overview/visual-cpp-samples.md).

## <a name="requirements"></a>Требования

**Заголовок:** афксекст. h

## <a name="see-also"></a>См. также раздел

[Иерархическая диаграмма](../../mfc/hierarchy-chart.md)<br/>
[CFrameWnd:: Create](../../mfc/reference/cframewnd-class.md#create)<br/>
[CFrameWnd:: Лоадфраме](../../mfc/reference/cframewnd-class.md#loadframe)<br/>
[CFrameWnd:: Онкреатеклиент](../../mfc/reference/cframewnd-class.md#oncreateclient)<br/>
[CSplitterWnd:: Create](../../mfc/reference/csplitterwnd-class.md#create)<br/>
[CSplitterWnd:: CreateView](../../mfc/reference/csplitterwnd-class.md#createview)<br/>
[CWnd::Create](../../mfc/reference/cwnd-class.md#create)
