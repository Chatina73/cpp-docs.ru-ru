---
title: Класс CToolBarCtrl
ms.date: 11/04/2016
f1_keywords:
- CToolBarCtrl
- AFXCMN/CToolBarCtrl
- AFXCMN/CToolBarCtrl::CToolBarCtrl
- AFXCMN/CToolBarCtrl::AddBitmap
- AFXCMN/CToolBarCtrl::AddButtons
- AFXCMN/CToolBarCtrl::AddString
- AFXCMN/CToolBarCtrl::AddStrings
- AFXCMN/CToolBarCtrl::AutoSize
- AFXCMN/CToolBarCtrl::ChangeBitmap
- AFXCMN/CToolBarCtrl::CheckButton
- AFXCMN/CToolBarCtrl::CommandToIndex
- AFXCMN/CToolBarCtrl::Create
- AFXCMN/CToolBarCtrl::CreateEx
- AFXCMN/CToolBarCtrl::Customize
- AFXCMN/CToolBarCtrl::DeleteButton
- AFXCMN/CToolBarCtrl::EnableButton
- AFXCMN/CToolBarCtrl::GetAnchorHighlight
- AFXCMN/CToolBarCtrl::GetBitmap
- AFXCMN/CToolBarCtrl::GetBitmapFlags
- AFXCMN/CToolBarCtrl::GetButton
- AFXCMN/CToolBarCtrl::GetButtonCount
- AFXCMN/CToolBarCtrl::GetButtonInfo
- AFXCMN/CToolBarCtrl::GetButtonSize
- AFXCMN/CToolBarCtrl::GetColorScheme
- AFXCMN/CToolBarCtrl::GetDisabledImageList
- AFXCMN/CToolBarCtrl::GetDropTarget
- AFXCMN/CToolBarCtrl::GetExtendedStyle
- AFXCMN/CToolBarCtrl::GetHotImageList
- AFXCMN/CToolBarCtrl::GetHotItem
- AFXCMN/CToolBarCtrl::GetImageList
- AFXCMN/CToolBarCtrl::GetInsertMark
- AFXCMN/CToolBarCtrl::GetInsertMarkColor
- AFXCMN/CToolBarCtrl::GetItemRect
- AFXCMN/CToolBarCtrl::GetMaxSize
- AFXCMN/CToolBarCtrl::GetMaxTextRows
- AFXCMN/CToolBarCtrl::GetMetrics
- AFXCMN/CToolBarCtrl::GetPadding
- AFXCMN/CToolBarCtrl::GetPressedImageList
- AFXCMN/CToolBarCtrl::GetRect
- AFXCMN/CToolBarCtrl::GetRows
- AFXCMN/CToolBarCtrl::GetState
- AFXCMN/CToolBarCtrl::GetString
- AFXCMN/CToolBarCtrl::GetStyle
- AFXCMN/CToolBarCtrl::GetToolTips
- AFXCMN/CToolBarCtrl::HideButton
- AFXCMN/CToolBarCtrl::HitTest
- AFXCMN/CToolBarCtrl::Indeterminate
- AFXCMN/CToolBarCtrl::InsertButton
- AFXCMN/CToolBarCtrl::InsertMarkHitTest
- AFXCMN/CToolBarCtrl::IsButtonChecked
- AFXCMN/CToolBarCtrl::IsButtonEnabled
- AFXCMN/CToolBarCtrl::IsButtonHidden
- AFXCMN/CToolBarCtrl::IsButtonHighlighted
- AFXCMN/CToolBarCtrl::IsButtonIndeterminate
- AFXCMN/CToolBarCtrl::IsButtonPressed
- AFXCMN/CToolBarCtrl::LoadImages
- AFXCMN/CToolBarCtrl::MapAccelerator
- AFXCMN/CToolBarCtrl::MarkButton
- AFXCMN/CToolBarCtrl::MoveButton
- AFXCMN/CToolBarCtrl::PressButton
- AFXCMN/CToolBarCtrl::ReplaceBitmap
- AFXCMN/CToolBarCtrl::RestoreState
- AFXCMN/CToolBarCtrl::SaveState
- AFXCMN/CToolBarCtrl::SetAnchorHighlight
- AFXCMN/CToolBarCtrl::SetBitmapSize
- AFXCMN/CToolBarCtrl::SetButtonInfo
- AFXCMN/CToolBarCtrl::SetButtonSize
- AFXCMN/CToolBarCtrl::SetButtonStructSize
- AFXCMN/CToolBarCtrl::SetButtonWidth
- AFXCMN/CToolBarCtrl::SetCmdID
- AFXCMN/CToolBarCtrl::SetColorScheme
- AFXCMN/CToolBarCtrl::SetDisabledImageList
- AFXCMN/CToolBarCtrl::SetDrawTextFlags
- AFXCMN/CToolBarCtrl::SetExtendedStyle
- AFXCMN/CToolBarCtrl::SetHotImageList
- AFXCMN/CToolBarCtrl::SetHotItem
- AFXCMN/CToolBarCtrl::SetImageList
- AFXCMN/CToolBarCtrl::SetIndent
- AFXCMN/CToolBarCtrl::SetInsertMark
- AFXCMN/CToolBarCtrl::SetInsertMarkColor
- AFXCMN/CToolBarCtrl::SetMaxTextRows
- AFXCMN/CToolBarCtrl::SetMetrics
- AFXCMN/CToolBarCtrl::SetOwner
- AFXCMN/CToolBarCtrl::SetPadding
- AFXCMN/CToolBarCtrl::SetPressedImageList
- AFXCMN/CToolBarCtrl::SetRows
- AFXCMN/CToolBarCtrl::SetState
- AFXCMN/CToolBarCtrl::SetStyle
- AFXCMN/CToolBarCtrl::SetToolTips
- AFXCMN/CToolBarCtrl::SetWindowTheme
helpviewer_keywords:
- CToolBarCtrl [MFC], CToolBarCtrl
- CToolBarCtrl [MFC], AddBitmap
- CToolBarCtrl [MFC], AddButtons
- CToolBarCtrl [MFC], AddString
- CToolBarCtrl [MFC], AddStrings
- CToolBarCtrl [MFC], AutoSize
- CToolBarCtrl [MFC], ChangeBitmap
- CToolBarCtrl [MFC], CheckButton
- CToolBarCtrl [MFC], CommandToIndex
- CToolBarCtrl [MFC], Create
- CToolBarCtrl [MFC], CreateEx
- CToolBarCtrl [MFC], Customize
- CToolBarCtrl [MFC], DeleteButton
- CToolBarCtrl [MFC], EnableButton
- CToolBarCtrl [MFC], GetAnchorHighlight
- CToolBarCtrl [MFC], GetBitmap
- CToolBarCtrl [MFC], GetBitmapFlags
- CToolBarCtrl [MFC], GetButton
- CToolBarCtrl [MFC], GetButtonCount
- CToolBarCtrl [MFC], GetButtonInfo
- CToolBarCtrl [MFC], GetButtonSize
- CToolBarCtrl [MFC], GetColorScheme
- CToolBarCtrl [MFC], GetDisabledImageList
- CToolBarCtrl [MFC], GetDropTarget
- CToolBarCtrl [MFC], GetExtendedStyle
- CToolBarCtrl [MFC], GetHotImageList
- CToolBarCtrl [MFC], GetHotItem
- CToolBarCtrl [MFC], GetImageList
- CToolBarCtrl [MFC], GetInsertMark
- CToolBarCtrl [MFC], GetInsertMarkColor
- CToolBarCtrl [MFC], GetItemRect
- CToolBarCtrl [MFC], GetMaxSize
- CToolBarCtrl [MFC], GetMaxTextRows
- CToolBarCtrl [MFC], GetMetrics
- CToolBarCtrl [MFC], GetPadding
- CToolBarCtrl [MFC], GetPressedImageList
- CToolBarCtrl [MFC], GetRect
- CToolBarCtrl [MFC], GetRows
- CToolBarCtrl [MFC], GetState
- CToolBarCtrl [MFC], GetString
- CToolBarCtrl [MFC], GetStyle
- CToolBarCtrl [MFC], GetToolTips
- CToolBarCtrl [MFC], HideButton
- CToolBarCtrl [MFC], HitTest
- CToolBarCtrl [MFC], Indeterminate
- CToolBarCtrl [MFC], InsertButton
- CToolBarCtrl [MFC], InsertMarkHitTest
- CToolBarCtrl [MFC], IsButtonChecked
- CToolBarCtrl [MFC], IsButtonEnabled
- CToolBarCtrl [MFC], IsButtonHidden
- CToolBarCtrl [MFC], IsButtonHighlighted
- CToolBarCtrl [MFC], IsButtonIndeterminate
- CToolBarCtrl [MFC], IsButtonPressed
- CToolBarCtrl [MFC], LoadImages
- CToolBarCtrl [MFC], MapAccelerator
- CToolBarCtrl [MFC], MarkButton
- CToolBarCtrl [MFC], MoveButton
- CToolBarCtrl [MFC], PressButton
- CToolBarCtrl [MFC], ReplaceBitmap
- CToolBarCtrl [MFC], RestoreState
- CToolBarCtrl [MFC], SaveState
- CToolBarCtrl [MFC], SetAnchorHighlight
- CToolBarCtrl [MFC], SetBitmapSize
- CToolBarCtrl [MFC], SetButtonInfo
- CToolBarCtrl [MFC], SetButtonSize
- CToolBarCtrl [MFC], SetButtonStructSize
- CToolBarCtrl [MFC], SetButtonWidth
- CToolBarCtrl [MFC], SetCmdID
- CToolBarCtrl [MFC], SetColorScheme
- CToolBarCtrl [MFC], SetDisabledImageList
- CToolBarCtrl [MFC], SetDrawTextFlags
- CToolBarCtrl [MFC], SetExtendedStyle
- CToolBarCtrl [MFC], SetHotImageList
- CToolBarCtrl [MFC], SetHotItem
- CToolBarCtrl [MFC], SetImageList
- CToolBarCtrl [MFC], SetIndent
- CToolBarCtrl [MFC], SetInsertMark
- CToolBarCtrl [MFC], SetInsertMarkColor
- CToolBarCtrl [MFC], SetMaxTextRows
- CToolBarCtrl [MFC], SetMetrics
- CToolBarCtrl [MFC], SetOwner
- CToolBarCtrl [MFC], SetPadding
- CToolBarCtrl [MFC], SetPressedImageList
- CToolBarCtrl [MFC], SetRows
- CToolBarCtrl [MFC], SetState
- CToolBarCtrl [MFC], SetStyle
- CToolBarCtrl [MFC], SetToolTips
- CToolBarCtrl [MFC], SetWindowTheme
ms.assetid: 8f2f8ad2-05d7-4975-8715-3f2eed795248
ms.openlocfilehash: c8968e7a516b7ed699517f6557f7ccd4bcb20505
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81365095"
---
# <a name="ctoolbarctrl-class"></a>Класс CToolBarCtrl

Предоставляет функциональные возможности стандартного элемента управления "панель инструментов" Windows.

## <a name="syntax"></a>Синтаксис

```
class CToolBarCtrl : public CWnd
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание|
|----------|-----------------|
|[CToolBarCtrl:CToolBarCtrl](#ctoolbarctrl)|Формирует объект `CToolBarCtrl`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CToolBarCtrl:AddBitmap](#addbitmap)|Добавляет одно или несколько изображений кнопок биткарты в список изображений кнопок, доступных для управления панелью инструментов.|
|[CToolBarCtrl:Добавить кнопки](#addbuttons)|Добавляет одну или несколько кнопок в управление панелью инструментов.|
|[CToolBarCtrl::AddString](#addstring)|Добавляет новую строку, передаваемую в качестве идентификатора ресурса, во внутренний список строк панели инструментов.|
|[CToolBarCtrl::Добавленные строки](#addstrings)|Добавляет новую строку или строку, передаваемую в качестве указателя на буфер нулевых строк, к внутреннему списку строк панели инструментов.|
|[CToolBarCtrl:АвтоРазмер](#autosize)|Изобрезирует элемент управления панели инструментов.|
|[CToolBarCtrl:ChangeBitmap](#changebitmap)|Изменяет битографию для кнопки в текущем управлении панелью инструментов.|
|[CToolBarCtrl::CheckButton](#checkbutton)|Проверяет или очищает заданную кнопку в панели инструментов управления.|
|[Ctoolbarctrl:CommandtoIndex](#commandtoindex)|Извлекает нулевой индекс для кнопки, связанной с указанным идентификатором команды.|
|[CToolBarCtrl::Создание](#create)|Создает панель инструментов и прикрепляет ее к объекту. `CToolBarCtrl`|
|[CToolBarCtrl:CreateEx](#createex)|Создает панель инструментов управления с указанными расширенными `CToolBarCtrl` стилями Windows и прикрепляет его к объекту.|
|[CToolBarCtrl:: Настройка](#customize)|Отображает настраиваемую поле диалога панели инструментов.|
|[CToolBarCtrl: :DeleteButton](#deletebutton)|Удаляет кнопку из управления панели инструментов.|
|[CToolBarCtrl:EnableButton](#enablebutton)|Включает или отсваивает указанную кнопку в панели инструментов управления.|
|[CToolBarCtrl::GetAnchorHighlight](#getanchorhighlight)|Извлекает настройки якоря выделить для панели инструментов.|
|[CToolBarCtrl:GetBitmap](#getbitmap)|Извлекает индекс битной карты, связанный с кнопкой в панели инструментов.|
|[CToolBarCtrl:GetBitmapFlags](#getbitmapflags)|Получает флаги, связанные с битовой картой панели инструментов.|
|[CToolBarCtrl:GetButton](#getbutton)|Извлекает информацию об указанной кнопке в панели инструментов.|
|[CToolBarCtrl:GetButton](#getbuttoncount)|Извлекает количество кнопок, наданных в настоящее время в панели инструментов.|
|[CToolBarCtrl::GetButtonInfo](#getbuttoninfo)|Извлекает информацию для кнопки в панели инструментов.|
|[CToolBarCtrl::GetButtonSize](#getbuttonsize)|Извлекает текущую ширину и высоту кнопок панели инструментов в пикселях.|
|[CToolBarCtrl:GetColorScheme](#getcolorscheme)|Извлекает цветовую гамму текущего управления панелью инструментов.|
|[CToolBarCtrl::GetDisabledImageList](#getdisabledimagelist)|Извлекает список изображений, который используется для отображения отключенных кнопок.|
|[CToolBarCtrl:GetDropTarget](#getdroptarget)|Извлекает интерфейс [IDropTarget](/windows/win32/api/oleidl/nn-oleidl-idroptarget) для управления панелью инструментов.|
|[CToolBarCtrl::GetExtendedStyle](#getextendedstyle)|Извлекает расширенные стили для управления панелью инструментов.|
|[CToolBarCtrl::GetHotImageList](#gethotimagelist)|Извлекает список изображений, который используется для отображения "горячих" кнопок. Горячая кнопка появляется выделены, когда указатель мыши над ним.|
|[CToolBarCtrl:GetHotItem](#gethotitem)|Извлекает индекс горячего элемента в панели инструментов.|
|[CToolBarCtrl::GetImageList](#getimagelist)|Извлекает список изображений, который используется панелью инструментов для отображения кнопок в состоянии по умолчанию.|
|[CToolBarCtrl:GetInsertMark](#getinsertmark)|Извлекает текущий знак вставки для панели инструментов.|
|[CToolBarCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Извлекает цвет, используемый для рисования знака вставки для панели инструментов.|
|[CToolBarCtrl:GetItemRect](#getitemrect)|Извлекает прямоугольник кнопки в панели инструментов управления.|
|[CToolBarCtrl:GetMaxSize](#getmaxsize)|Извлекает общий размер всех видимых кнопок и сепараторов в панели инструментов.|
|[CToolBarCtrl::GetMaxTextRows](#getmaxtextrows)|Извлекает максимальное количество строк текста, отображаемых на кнопке панели инструментов.|
|[CToolBarCtrl:GetMetrics](#getmetrics)|Извлекает метрики управления панели инструментов.|
|[CToolBarCtrl:GetPadding](#getpadding)|Извлекает горизонтальную и вертикальную обивку текущего элемента управления панели инструментов.|
|[CToolBarCtrl::GetPressedImageList](#getpressedimagelist)|Извлекает список изображений, который используется текущим элементом управления панели инструментов для представления кнопок в нажатом состоянии.|
|[CToolBarCtrl:GetRect](#getrect)|Извлекает прямоугольник для заданной кнопки панели инструментов.|
|[CToolBarCtrl:GetRows](#getrows)|Извлекает количество строк кнопок, которые в настоящее время отображаются в панели инструментов.|
|[CToolBarCtrl:GetState](#getstate)|Извлекает информацию о состоянии указанной кнопки в панели инструментов управления, например, включена ли она, нажата или проверена.|
|[CToolBarCtrl:GetString](#getstring)|Извлекает строку панели инструментов.|
|[CToolBarCtrl:GetStyle](#getstyle)|Извлекает стили, которые в настоящее время используются для управления панелью инструментов.|
|[CToolBarCtrl::GetToolTips](#gettooltips)|Извлекает ручку управления наконечником инструмента, если таковые имеется, связанные с управлением панели инструментов.|
|[CToolBarCtrl::HideButton](#hidebutton)|Скрыть или показывает указанную кнопку в панели инструментов управления.|
|[CToolBarCtrl::HitTest](#hittest)|Определяет, где точка находится в панели инструментов управления.|
|[CToolBarCtrl:Неопределенный](#indeterminate)|Устанавливает или очищает неопределенное (серое) состояние указанной кнопки в панели инструментов управления.|
|[CToolBarCtrl::Вставить кнопку](#insertbutton)|Вставляет кнопку в панель инструментов.|
|[CToolBarCtrl::InsertMarkHitTest](#insertmarkhittest)|Извлекает информацию о знаке вставки для точки панели инструментов.|
|[CToolBarCtrl::TheButtonChecked](#isbuttonchecked)|Сообщает, проверяется ли указанная кнопка в управлении панелью инструментов.|
|[CToolBarCtrl:: Этокнопка](#isbuttonenabled)|Сообщает, включена ли указанная кнопка в управлении панелью инструментов.|
|[CToolBarCtrl::IsButtonHidden](#isbuttonhidden)|Сообщает, скрыта ли указанная кнопка в управлении панелью инструментов.|
|[CToolBarCtrl::IsButtonHighlighted](#isbuttonhighlighted)|Проверяет состояние выделения кнопки панели инструментов.|
|[CToolBarCtrl::IsButtonIndeterminate](#isbuttonindeterminate)|Сообщает, является ли состояние указанной кнопки в панели инструментов неопределенным (серым).|
|[CToolBarCtrl::Кнопка](#isbuttonpressed)|Сообщает, нажата ли указанная кнопка в панели инструментов.|
|[CToolBarCtrl:LoadImages](#loadimages)|Загружает биткарты в список изображений элемента управления панелью инструментов.|
|[CToolBarCtrl:MapAccelerator](#mapaccelerator)|Отображает символ ускорителя к кнопке панели инструментов.|
|[CToolBarCtrl::МаркБаттон](#markbutton)|Устанавливает состояние выделения заданной кнопки в панели инструментов управления.|
|[CToolBarCtrl::MoveButton](#movebutton)|Перемещает кнопку из одного индекса в другой.|
|[CToolBarCtrl::PressButton](#pressbutton)|Нажимаете или выпускает указанную кнопку в панели инструментов управления.|
|[CToolBarCtrl::ReplaceBitmap](#replacebitmap)|Заменяет существующую битную карту в текущем элементе управления панелью инструментов новой битовой картой.|
|[CToolBarCtrl:Восстановлениегосударства](#restorestate)|Восстанавливает состояние управления панели инструментов.|
|[CToolBarCtrl:SaveState](#savestate)|Сохраняет состояние управления панели инструментов.|
|[CToolBarCtrl::SetAnchor'](#setanchorhighlight)|Устанавливает настройки якоря выделить для панели инструментов.|
|[CToolBarCtrl:SetBitmapSize](#setbitmapsize)|Устанавливает размер битотовых изображений, которые должны быть добавлены в элемент управления панели инструментов.|
|[CToolBarCtrl::SetButtonInfo](#setbuttoninfo)|Устанавливает информацию для существующей кнопки в панели инструментов.|
|[CToolBarCtrl::SetButtonSize](#setbuttonsize)|Устанавливает размер кнопок, которые должны быть добавлены к управлению панелью инструментов.|
|[CToolBarCtrl::SetButtonStructSize](#setbuttonstructsize)|Определяет размер конструкции. `TBBUTTON`|
|[CToolBarCtrl::SetButtonWidth](#setbuttonwidth)|Устанавливает минимальную и максимальную ширину кнопки в управлении панелью инструментов.|
|[CToolBarCtrl:SetCmdID](#setcmdid)|Устанавливает идентификатор команды для отправки в окно владельца при нажатии указанной кнопки.|
|[CToolBarCtrl:SetColorScheme](#setcolorscheme)|Устанавливает цветовую гамму текущего управления панелью инструментов.|
|[CToolBarCtrl::SetDisabledImageList](#setdisabledimagelist)|Устанавливает список изображений, который панель инструментов будет использовать для отображения отключенных кнопок.|
|[CToolBarCtrl::SetDrawTextFlags](#setdrawtextflags)|Устанавливает флаги в функции Win32 [DrawText](/windows/win32/api/winuser/nf-winuser-drawtext), которая используется для рисования текста в указанном прямоугольнике, отформатированных в соответствии с тем, как установлены флаги.|
|[CToolBarCtrl::SetExtendedStyle](#setextendedstyle)|Устанавливает расширенные стили для управления панелью инструментов.|
|[CToolBarCtrl:SetHotImageList](#sethotimagelist)|Устанавливает список изображений, который будет использоватьпанель инструментов для отображения "горячих" кнопок.|
|[CToolBarCtrl:SetHotItem](#sethotitem)|Устанавливает горячий элемент в панели инструментов.|
|[CToolBarCtrl:SetImageList](#setimagelist)|Устанавливает список изображений, который панель инструментов будет использовать для отображения кнопок, намитых в состоянии по умолчанию.|
|[CtoolBarCtrl:Setindent](#setindent)|Устанавливает отступ для первой кнопки в панели инструментов управления.|
|[CToolBarCtrl::SetInsertMark](#setinsertmark)|Устанавливает текущую отметку вставки для панели инструментов.|
|[CToolBarCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Устанавливает цвет, используемый для рисования знака вставки для панели инструментов.|
|[CToolBarCtrl::SetMaxTextRows](#setmaxtextrows)|Устанавливает максимальное количество текстовых строк, отображаемых на кнопке панели инструментов.|
|[CToolBarCtrl:SetMetrics](#setmetrics)|Устанавливает метрики управления панелью инструментов.|
|[CToolBarCtrl:SetOwner](#setowner)|Устанавливает окно для получения сообщений уведомлений из управления панели инструментов.|
|[CToolBarCtrl:SetPadding](#setpadding)|Устанавливает горизонтальную и вертикальную обивку текущего элемента управления панели инструментов.|
|[CToolBarCtrl::SetPressedImageList](#setpressedimagelist)|Устанавливает список изображений, который используется текущим элементом управления панели инструментов для представления кнопок в нажатом состоянии.|
|[CToolBarCtrl:SetRows](#setrows)|Устанавливает количество строк кнопок, отображаемых в панели инструментов.|
|[CToolBarCtrl:SetState](#setstate)|Устанавливает состояние указанной кнопки в панели инструментов.|
|[CToolBarCtrl:SetStyle](#setstyle)|Устанавливает стили для управления панелью инструментов.|
|[CToolBarCtrl::SetToolTips](#settooltips)|Связывает управление наконечником инструмента с управлением панели инструментов.|
|[CToolBarCtrl::SetWindowTheme](#setwindowtheme)|Устанавливает визуальный стиль управления панелью инструментов.|

## <a name="remarks"></a>Remarks

Этот элемент управления `CToolBarCtrl` (и, следовательно, класс) доступен только для программ, работающих под Windows 95/98 и Windows NT версии 3.51 и позже.

Общий элемент управления инструментами Windows — это прямоугольное детское окно, содержащее одну или несколько кнопок. Эти кнопки могут отображать изображение битовой карты, строку или и то, и другое. Когда пользователь выбирает кнопку, он отправляет командное сообщение в окно владельца панели инструментов. Как правило, кнопки в панели инструментов соответствуют элементам меню приложения; они обеспечивают более прямой доступ пользователя к командам приложения.

`CToolBarCtrl`объекты содержат несколько важных внутренних структур данных: список битовых карт изображений или `TBBUTTON` список изображений, список строк метки кнопок и список структур, которые связывают изображение и/или строку с положением, стилем, состоянием и идентификатором команды кнопки. Каждый из элементов этих структур данных упоминается индексом с нулевым уровнем. Прежде чем использовать `CToolBarCtrl` объект, необходимо настроить эти структуры данных. Список строк может использоваться только для кнопочных меток; вы не можете извлечь строки из панели инструментов.

Чтобы использовать `CToolBarCtrl` объект, вы, как правило, следующие следующие шаги:

1. Постройте `CToolBarCtrl` объект.

1. [Создание](#create) вызова для создания панели общих возможностей `CToolBarCtrl` панели инструментов Windows и прикрепите ее к объекту. Укажите стиль панели инструментов, используя стили, такие как TBSTYLE_TRANSPARENT для прозрачной панели инструментов или TBSTYLE_DROPDOWN для панели инструментов, которая поддерживает кнопки стиля выпадения.

1. Определите, как кнопки отображаются на панели инструментов:

   - Чтобы использовать изображения биткарты для кнопок, добавьте кнопки bitmaps на панели инструментов, позвонив [addBitmap](#addbitmap).

   - Чтобы использовать изображения, отображаемые из списка изображений для кнопок, укажите список изображений, позвонив по [SetImageList,](#setimagelist) [SetHotImageList](#sethotimagelist)или [SetDisabledImageList](#setdisabledimagelist).

   - Чтобы использовать строки этикетки для кнопок, добавить строки на панели инструментов, позвонив [AddString](#addstring) и / или [AddStrings](#addstrings).

1. Добавьте конструкции кнопок в панель инструментов, позвонив [в AddButtons.](#addbuttons)

1. Если вы хотите советы по инструменту для кнопки `CFrameWnd`панели инструментов в окне владельца, который не является, вам нужно обрабатывать TTN_NEEDTEXT сообщения в окне владельца панели инструментов, как описано в [Обработка Инструмент Совет Уведомления.](../../mfc/handling-tool-tip-notifications.md) Если родительское окно панели инструментов `CFrameWnd`получено из, советы по инструменту `CFrameWnd` отображаются без каких-либо дополнительных усилий от вас, потому что обеспечивает обработчик по умолчанию.

1. Если вы хотите, чтобы пользователь мог настроить панель инструментов, переберите сообщения уведомлений о настройках в окне владельца, как описано в [Уведомлениях обработки.](../../mfc/handling-customization-notifications.md)

Можно использовать [SaveState](#savestate) для сохранения текущего состояния панели инструментов в реестре и [RestoreState](#restorestate) для восстановления состояния на основе информации, ранее хранящейся в реестре. Помимо сохранения состояния панели инструментов между использованием приложения, приложения обычно хранят состояние до того, как пользователь начнет настраивать панель инструментов в случае, если пользователь позже захочет восстановить панель инструментов в исходное состояние.

## <a name="support-for-internet-explorer-version-40-and-later"></a>Поддержка версии Internet Explorer 4.0 и более поздних версий

Для поддержки функциональности, введенной в Internet Explorer, версии 4.0 и позже, MFC предоставляет поддержку списка изображений и прозрачные и плоские стили для управления панелью инструментов.

Прозрачная панель инструментов позволяет клиенту под панелью инструментов, чтобы показать до конца. Чтобы создать прозрачную панель инструментов, используйте как TBSTYLE_FLAT, так и TBSTYLE_TRANSPARENT стили. Прозрачные панели инструментов имеют горячее отслеживание; то есть, когда указатель мыши перемещается по горячей кнопке на панели инструментов, внешний вид кнопки меняется. Панели инструментов, созданные только с TBSTYLE_FLAT стилем, будут содержать кнопки, которые не прозрачны.

Поддержка списка изображений позволяет контролировать большую гибкость для поведения по умолчанию, горячих изображений и отключенных изображений. Используйте [GetImageList,](#getimagelist) [GetHotImageList](#gethotimagelist)и [GetDisabledImageList](#getdisabledimagelist) с прозрачной панелью инструментов для управления изображением в соответствии с его состоянием:

Для получения дополнительной `CToolBarCtrl`информации об использовании, см. [Управление](../../mfc/controls-mfc.md) и [использование CToolBarCtrl](../../mfc/using-ctoolbarctrl.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CToolBarCtrl`

## <a name="requirements"></a>Требования

**Заголовок:** afxcmn.h

## <a name="ctoolbarctrladdbitmap"></a><a name="addbitmap"></a>CToolBarCtrl:AddBitmap

Добавляет одно или несколько изображений кнопок в список изображений кнопок, хранящихся в панели инструментов.

```
int AddBitmap(
    int nNumButtons,
    UINT nBitmapID);

int AddBitmap(
    int nNumButtons,
    CBitmap* pBitmap);
```

### <a name="parameters"></a>Параметры

*nНумктов*<br/>
Количество изображений кнопок в битной карте.

*nBitmapID*<br/>
Идентификатор ресурсов битной карты, содержащий изображение кнопки или изображения для добавления.

*pBitmap*<br/>
Указатель на `CBitmap` объект, содержащий изображение кнопки или изображения для добавления.

### <a name="return-value"></a>Возвращаемое значение

Нулевой индекс первого нового изображения в случае успеха; в противном случае - 1.

### <a name="remarks"></a>Remarks

Вы можете использовать Windows API [CreateMappedBitmap](/windows/win32/api/commctrl/nf-commctrl-createmappedbitmap) для картирования цветов, прежде чем добавлять бит-карту в панель инструментов. Если вы передаете указатель объекту, `CBitMap` необходимо убедиться, что битовая карта не будет уничтожена до тех пор, пока панель инструментов не будет уничтожена.

## <a name="ctoolbarctrladdbuttons"></a><a name="addbuttons"></a>CToolBarCtrl:Добавить кнопки

Добавляет одну или несколько кнопок в управление панелью инструментов.

```
BOOL AddButtons(
    int nNumButtons,
    LPTBBUTTON lpButtons);
```

### <a name="parameters"></a>Параметры

*nНумктов*<br/>
Количество добавленных кнопок.

*lpButtons*<br/>
Адрес массива `TBBUTTON` структур, содержащий информацию о кнопках для добавления. В массиве должно быть такое же количество элементов, как и кнопок, указанных *nNumButtons.*

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Указатель *lpButtons* указывает на `TBBUTTON` массив структур. Каждая `TBBUTTON` структура связывает добавленную кнопку со стилем, изображением и/или строкой кнопки, идентификатором команды, состоянием и данными, определяемыми пользователем:

```cpp
typedef struct _TBBUTTON {
    int iBitmap;    // zero-based index of button image
    int idCommand;  // command to be sent when button pressed
    BYTE fsState;   // button state--see below
    BYTE fsStyle;   // button style--see below
    DWORD dwData;   // application-defined value
    int iString;    // zero-based index of button label string
} TBBUTTON;
```

Члены являются следующими:

- `iBitmap`

   Нулевой индекс изображения кнопки, -1, если нет изображения для этой кнопки.

- `idCommand`

   Идентификатор команды, связанный с кнопкой. Этот идентификатор отправляется в WM_COMMAND сообщение при выборе кнопки. Если `fsStyle` участник имеет TBSTYLE_SEP значение, этот участник должен быть равен нулю.

- `fsState`

   Флаги состояния кнопки. Это может быть комбинация значений, перечисленных ниже:

  - TBSTATE_CHECKED Кнопка имеет TBSTYLE_CHECKED стиль и нажата.

  - TBSTATE_ENABLED кнопка принимает пользовательский ввод. Кнопка, которая не имеет этого состояния, не принимает пользовательский ввод и седой.

  - TBSTATE_HIDDEN Кнопка не видна и не может принимать пользовательский вход.

  - TBSTATE_INDETERMINATE Кнопка серая.

  - TBSTATE_PRESSED Кнопка нажата.

  - TBSTATE_WRAP разрыв линии следует за кнопкой. Кнопка также должна иметь состояние TBSTATE_ENABLED.

- `fsStyle`

   Стиль кнопки. Это может быть комбинация значений, перечисленных ниже:

  - TBSTYLE_BUTTON создает стандартную кнопку.

  - TBSTYLE_CHECK создает кнопку, которая переключается между нажатыми и ненажатыми состояниями каждый раз, когда пользователь нажимает на нее. Кнопка имеет другой цвет фона, когда она находится в нажатом состоянии.

  - TBSTYLE_CHECKGROUP создает кнопку проверки, которая остается нажатой до тех пор, пока не будет нажата другая кнопка в группе.

  - TBSTYLE_GROUP создает кнопку, которая остается нажатой до тех пор, пока не будет нажата другая кнопка в группе.

  - TBSTYLE_SEP создает сепаратор, обеспечивая небольшой зазор между группами кнопок. Кнопка с этим стилем не получает ввода пользователей.

- `dwData`

   Данные, определяемые пользователем.

- `iString`

   Нулевой индекс строки для использования в качестве метки кнопки, -1, если нет строки для этой кнопки.

Изображение и/или строка, индекс которого вы предоставляете, должны быть ранее добавлены в список управления панелью инструментов с помощью [AddBitmap,](#addbitmap) [AddString](#addstring)и/или [AddStrings.](#addstrings)

## <a name="ctoolbarctrladdstring"></a><a name="addstring"></a>CToolBarCtrl::AddString

Добавляет новую строку, передаваемую в качестве идентификатора ресурса, во внутренний список строк панели инструментов.

```
int AddString(UINT nStringID);
```

### <a name="parameters"></a>Параметры

*nStringID*<br/>
Идентификатор ресурса ресурса ресурса для добавления в список строк управления панелью инструментов.

### <a name="return-value"></a>Возвращаемое значение

Нулевой индекс первой новой строки, добавленной в случае успеха; в противном случае -1.

## <a name="ctoolbarctrladdstrings"></a><a name="addstrings"></a>CToolBarCtrl::Добавленные строки

Добавляет новую строку или строку в список строк, доступных для управления панелью инструментов.

```
int AddStrings(LPCTSTR lpszStrings);
```

### <a name="parameters"></a>Параметры

*lpszСтринги*<br/>
Адрес буфера, содержащий одну или несколько строк с нулевым завершением для добавления в список строк панели инструментов. Последняя строка должна быть прекращена двумя нулевыми символами.

### <a name="return-value"></a>Возвращаемое значение

Нулевой индекс первой новой строки, добавленной в случае успеха; в противном случае -1.

### <a name="remarks"></a>Remarks

Строки в буфере должны быть разделены нулевым символом. Вы должны убедиться, что последняя строка имеет два нулевых терминатора. Чтобы правильно форматировать постоянную строку, можно написать ее следующим образом:

[!code-cpp[NVC_MFCControlLadenDialog#72](../../mfc/codesnippet/cpp/ctoolbarctrl-class_1.cpp)]

или:

[!code-cpp[NVC_MFCControlLadenDialog#73](../../mfc/codesnippet/cpp/ctoolbarctrl-class_2.cpp)]

Вы не должны `CString` передавать объект этой функции, так как это не `CString`возможно иметь более одного нулевого символа в .

## <a name="ctoolbarctrlautosize"></a><a name="autosize"></a>CToolBarCtrl:АвтоРазмер

Изобрезирует весь элемент управления панели инструментов.

```
void AutoSize();
```

### <a name="remarks"></a>Remarks

Эту функцию следует называть при изменении размера родительского окна или при изменении размера панели инструментов (например, при установке кнопки или размера биткарты или добавлении строк).

## <a name="ctoolbarctrlchangebitmap"></a><a name="changebitmap"></a>CToolBarCtrl:ChangeBitmap

Изменяет битографию для кнопки в текущем управлении панелью инструментов.

```
BOOL ChangeBitmap(
    int idButton,
    int iBitmap);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*idButton*|(в) Командный идентификатор кнопки, который должен получить новую битовую карту.|
|*iBitmap*|(в) Нулевой индекс изображения в списке изображений текущего элемента управления панелью инструментов.|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Если этот метод успешен, система отображает указанное изображение в указанной кнопке.

Этот метод отправляет [TB_CHANGEBITMAP](/windows/win32/Controls/tb-changebitmap) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Следующий пример кода изменяет битовую карту для кнопки **Сохранения файлов** на бит-карту для кнопки **About.**

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#1](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_3.cpp)]

## <a name="ctoolbarctrlcheckbutton"></a><a name="checkbutton"></a>CToolBarCtrl::CheckButton

Проверяет или очищает заданную кнопку в панели инструментов управления.

```
BOOL CheckButton(
    int nID,
    BOOL bCheck = TRUE);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор кнопки для проверки или очистки.

*bCheck*<br/>
ПРАВДА, чтобы проверить кнопку, FALSE, чтобы очистить его.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Когда кнопка была проверена, она, как представляется, были нажаты. Если вы хотите изменить более одного состояния кнопки, подумайте о вызове [SetState.](#setstate)

## <a name="ctoolbarctrlcommandtoindex"></a><a name="commandtoindex"></a>Ctoolbarctrl:CommandtoIndex

Извлекает нулевой индекс для кнопки, связанной с указанным идентификатором команды.

```
UINT CommandToIndex(UINT nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор, который индекс кнопки вы хотите найти.

### <a name="return-value"></a>Возвращаемое значение

Индекс нулевой основе для кнопки, связанный с идентификатором команды.

### <a name="remarks"></a>Remarks

## <a name="ctoolbarctrlcreate"></a><a name="create"></a>CToolBarCtrl::Создание

Создает панель инструментов и прикрепляет ее к объекту. `CToolBarCtrl`

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*dwStyle*<br/>
Определяет стиль управления панели инструментов. Инструменты всегда должны иметь WS_CHILD стиль. Кроме того, можно указать любую комбинацию стилей панели инструментов и стилей окон, описанных в **Примечаниях.**

*rect*<br/>
Дополнительно определяется размер и положение панели инструментов. Это может быть либо объект [CRect,](../../atl-mfc-shared/reference/crect-class.md) либо структура [RECT.](/previous-versions/dd162897\(v=vs.85\))

*pParentWnd*<br/>
Определяет родительское окно панели инструментов. Она не должна быть NULL.

*nID*<br/>
Уведомляет идентификатор панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Вы строите `CToolBarCtrl` в два этапа. Сначала позвоните в конструктор, `Create`а затем вызов, который создает панель `CToolBarCtrl` инструментов управления и прикрепляет его к объекту. Примените следующие стили окна к управлению панелью инструментов.

- WS_CHILD всегда

- WS_VISIBLE обычно

- WS_DISABLED Редко

Смотрите [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindoww) в SDK Windows для описания стилей окон.

Дополнительно, применить сочетание [общих стилей управления](/windows/win32/Controls/common-control-styles), как описано в Windows SDK.

Примените комбинацию стилей панели инструментов к управлению или к самим кнопкам. Стили описаны в теме [Управления панелью инструментов и стилях работы с кнопками](/windows/win32/Controls/toolbar-control-and-button-styles) в Windows SDK.

Чтобы использовать расширенные стили панели инструментов, позвоните [setExtendedStyle](#setextendedstyle) после вызова. `Create` Чтобы создать панель инструментов с расширенными стилями окон, позвоните `Create` [CToolBarCtrl::CreateEx](#createex) вместо .

Управление панелью инструментов автоматически устанавливает размер и положение окна панели инструментов. Высота основана на высоте кнопок в панели инструментов. Ширина такая же, как ширина клиентской области родительского окна. Стили CCS_TOP и CCS_BOTTOM определяют, расположена ли панель инструментов в верхней или нижней части клиентской области. По умолчанию панель инструментов имеет CCS_TOP стиль.

## <a name="ctoolbarctrlcreateex"></a><a name="createex"></a>CToolBarCtrl:CreateEx

Создает элемент управления (детское окно) и `CToolBarCtrl` связывает его с объектом.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*dwExStyle*<br/>
Определяет расширенный стиль создаваемого элемента управления. Список расширенных стилей Windows можно узнать [в](/windows/win32/api/winuser/nf-winuser-createwindowexw) *SDK* Windows см.

*dwStyle*<br/>
Определяет стиль управления панели инструментов. Инструменты всегда должны иметь WS_CHILD стиль. Кроме того, можно указать любую комбинацию стилей панели инструментов и стилей окон, описанную в разделе **Remarks** [Create.](#create)

*rect*<br/>
Ссылка на структуру [RECT,](/previous-versions/dd162897\(v=vs.85\)) описывающую размер и положение создаваемого окна, в клиентских координатах *pParentWnd*.

*pParentWnd*<br/>
Указатель на окно, которое является родителем элемента управления.

*nID*<br/>
Идентификатор окна ребенка элемента управления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Используйте `CreateEx` вместо [создания](#create) для применения расширенных стилей Windows, указанных в предисловии расширенного стиля Windows **WS_EX_.** `CreateEx`создает элемент управления с расширенными стилями Windows, указанными *dwExStyle.* Установите расширенные стили, характерные для элемента управления с помощью [SetExtendedStyle.](#setextendedstyle) Например, `CreateEx` использовать для установки таких `SetExtendedStyle` стилей, как WS_EX_CONTEXTHELP, но использовать для установки таких стилей, как TBSTYLE_EX_DRAWDDARROWS. Для получения дополнительной информации смотрите стили, описанные в [расширенных стилях панели инструментов](/windows/win32/Controls/toolbar-extended-styles) в Windows SDK.

## <a name="ctoolbarctrlctoolbarctrl"></a><a name="ctoolbarctrl"></a>CToolBarCtrl:CToolBarCtrl

Формирует объект `CToolBarCtrl`.

```
CToolBarCtrl();
```

### <a name="remarks"></a>Remarks

Вы должны вызвать [Создать,](#create) чтобы сделать панель инструментов приговорной.

## <a name="ctoolbarctrlcustomize"></a><a name="customize"></a>CToolBarCtrl:: Настройка

Отображает настраиваемую поле диалога панели инструментов.

```
void Customize();
```

### <a name="remarks"></a>Remarks

Это диалоговое окно позволяет пользователю настроить панель инструментов, добавляя и удаляя кнопки. Для поддержки настройки родительское окно панели инструментов должно обрабатывать сообщения уведомлений о настройках, описанные в [уведомлениях обработки.](../../mfc/handling-customization-notifications.md) Панель инструментов также должна быть создана в стиле CCS_ADJUSTABLE, как описано в [CToolBarCtrl::Создать](#create).

## <a name="ctoolbarctrldeletebutton"></a><a name="deletebutton"></a>CToolBarCtrl: :DeleteButton

Удаляет кнопку из управления панели инструментов.

```
BOOL DeleteButton(int nIndex);
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
Нулевой индекс кнопки для удаления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

## <a name="ctoolbarctrlenablebutton"></a><a name="enablebutton"></a>CToolBarCtrl:EnableButton

Включает или отсваивает указанную кнопку в панели инструментов управления.

```
BOOL EnableButton(
    int nID,
    BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор кнопки для включения или отключания.

*bEnable*<br/>
TRUE для включения кнопки; FALSE отключить кнопку.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Когда кнопка включена, ее можно нажать и проверить. Если вы хотите изменить более одного состояния кнопки, подумайте о вызове [SetState.](#setstate)

## <a name="ctoolbarctrlgetanchorhighlight"></a><a name="getanchorhighlight"></a>CToolBarCtrl::GetAnchorHighlight

Извлекает настройки якоря выделить для панели инструментов.

```
BOOL GetAnchorHighlight() const;
```

### <a name="return-value"></a>Возвращаемое значение

Если ненулевой, якорь выделение включено. Если ноль, якорь выделения отключена.

### <a name="remarks"></a>Remarks

Эта функция-член реализует поведение сообщения Win32 [TB_GETANCHORHIGHLIGHT,](/windows/win32/Controls/tb-getanchorhighlight)как описано в SDK Windows.

## <a name="ctoolbarctrlgetbitmap"></a><a name="getbitmap"></a>CToolBarCtrl:GetBitmap

Извлекает индекс битной карты, связанный с кнопкой в панели инструментов.

```
int GetBitmap(int nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор команды кнопки, чей индекс биткарты должен быть извлечен.

### <a name="return-value"></a>Возвращаемое значение

Возвращает индекс битной карты в случае успеха или нуля в противном случае.

### <a name="remarks"></a>Remarks

Реализует функциональность [TB_GETBITMAP](/windows/win32/Controls/tb-getbitmap) в Windows SDK.

## <a name="ctoolbarctrlgetbitmapflags"></a><a name="getbitmapflags"></a>CToolBarCtrl:GetBitmapFlags

Извлекает флаги bitmap из панели инструментов.

```
UINT GetBitmapFlags() const;
```

### <a name="return-value"></a>Возвращаемое значение

UINT, который имеет набор TBBF_LARGE флага, если дисплей может поддерживать большие бит-карты панели инструментов, ясно в противном случае.

### <a name="remarks"></a>Remarks

Вы должны вызвать его после создания панели инструментов, но перед добавлением bitmaps в панель инструментов. Значение возврата указывает, поддерживает ли дисплей большие бит-карты или нет. Если дисплей поддерживает большие бит-карты и если вы решите использовать их, позвоните [SetBitmapSize](#setbitmapsize) и [SetButtonSize](#setbuttonsize) перед добавлением большой битовой карты с помощью [AddBitmap.](#addbitmap)

## <a name="ctoolbarctrlgetbutton"></a><a name="getbutton"></a>CToolBarCtrl:GetButton

Извлекает информацию об указанной кнопке в панели инструментов.

```
BOOL GetButton(
    int nIndex,
    LPTBBUTTON lpButton) const;
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
Нулевой индекс кнопки, для которой можно получить информацию.

*lpButton*<br/>
Адрес `TBBUTTON` структуры, которая должна получить копию информации о кнопке. Смотрите [CToolBarCtrl::Добавить кнопки](#addbuttons) `TBBUTTON` для получения информации о структуре.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="ctoolbarctrlgetbuttoncount"></a><a name="getbuttoncount"></a>CToolBarCtrl:GetButton

Извлекает количество кнопок, наданных в настоящее время в панели инструментов.

```
int GetButtonCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество кнопок.

## <a name="ctoolbarctrlgetbuttoninfo"></a><a name="getbuttoninfo"></a>CToolBarCtrl::GetButtonInfo

Извлекает информацию для кнопки в панели инструментов.

```
int GetButtonInfo(
    int nID,
    TBBUTTONINFO* ptbbi) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор кнопки.

*ptbbi*<br/>
Указатель на структуру [TBBUTTONINFO,](/windows/win32/api/commctrl/ns-commctrl-tbbuttoninfow) которая получает информацию о кнопке.

### <a name="return-value"></a>Возвращаемое значение

Индекс кнопки с нулевым уровнем, если он будет успешным; в противном случае -1.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETBUTTONINFO,](/windows/win32/Controls/tb-getbuttoninfo)как описано в SDK Windows.

## <a name="ctoolbarctrlgetbuttonsize"></a><a name="getbuttonsize"></a>CToolBarCtrl::GetButtonSize

Получает размер кнопки панели инструментов.

```
DWORD GetButtonSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение DWORD, содержащее значения ширины и высоты в LOWORD и HIWORD, соответственно.

## <a name="ctoolbarctrlgetbuttontext"></a><a name="getbuttontext"></a>CToolBarCtrl::GetButtonText

Извлекает текст дисплея указанной кнопки на текущем элементе управления панели инструментов.

```
CString GetButtonText(int idButton) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*idButton*|(в) Идентификатор для кнопки, текст отображения которой извлекается.|

### <a name="return-value"></a>Возвращаемое значение

[CString,](../../atl-mfc-shared/using-cstring.md) содержащий отображение текста указанной кнопки.

### <a name="remarks"></a>Remarks

Этот метод отправляет [TB_GETBUTTONTEXT](/windows/win32/Controls/tb-getbuttontext) сообщение, которое описано в SDK Windows.

## <a name="ctoolbarctrlgetcolorscheme"></a><a name="getcolorscheme"></a>CToolBarCtrl:GetColorScheme

Извлекает цветовую гамму текущего управления панелью инструментов.

```
BOOL GetColorScheme(COLORSCHEME* lpColorScheme) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*lpColorScheme*|(ваут) Указатель на структуру [COLORSCHEME,](/windows/win32/api/commctrl/ns-commctrl-colorscheme) которая получает информацию о цветовой гамме. Когда этот метод возвращается, структура описывает цвет выделения и цвет тени управления панелью инструментов.|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [TB_GETCOLORSCHEME](/windows/win32/Controls/tb-getcolorscheme) сообщение, которое описано в SDK Windows.

## <a name="ctoolbarctrlgetdisabledimagelist"></a><a name="getdisabledimagelist"></a>CToolBarCtrl::GetDisabledImageList

Извлекает список изображений, который используется для отображения отключенных кнопок.

```
CImageList* GetDisabledImageList() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CImageList](../../mfc/reference/cimagelist-class.md) или NULL, если список отключенных изображений не установлен.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETDISABLEDIMAGELIST,](/windows/win32/Controls/tb-getdisabledimagelist)как описано в SDK Windows. В реализации `GetDisabledImageList` MFC `CImageList` используется объект, содержащий изображения кнопки управления панелью инструментов, а не ручка к списку изображений.

## <a name="ctoolbarctrlgetdroptarget"></a><a name="getdroptarget"></a>CToolBarCtrl:GetDropTarget

Извлекает интерфейс [IDropTarget](/windows/win32/api/oleidl/nn-oleidl-idroptarget) для управления панелью инструментов.

```
HRESULT GetDropTarget(IDropTarget** ppDropTarget) const;
```

### <a name="parameters"></a>Параметры

*ppDropTarget*<br/>
Указатель на указатель интерфейса [IDropTarget.](/windows/win32/api/oleidl/nn-oleidl-idroptarget) При возникновении ошибки в этом адресе размещается указатель NULL.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение HRESULT, указывающее на успех или неудачу операции.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETOBJECT,](/windows/win32/Controls/tb-getobject)как описано в SDK Windows.

## <a name="ctoolbarctrlgetextendedstyle"></a><a name="getextendedstyle"></a>CToolBarCtrl::GetExtendedStyle

Извлекает расширенные стили для управления панелью инструментов.

```
DWORD GetExtendedStyle() const;
```

### <a name="return-value"></a>Возвращаемое значение

DWORD, представляющий расширенные стили, которые в настоящее время используются для управления панелью инструментов. Список стилей [можно](/windows/win32/Controls/toolbar-extended-styles)узнать в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETEXTENDEDSTYLE,](/windows/win32/Controls/tb-getextendedstyle)как описано в SDK Windows.

## <a name="ctoolbarctrlgethotimagelist"></a><a name="gethotimagelist"></a>CToolBarCtrl::GetHotImageList

Извлекает список изображений, который используется для отображения "горячих" кнопок. Горячая кнопка появляется выделены, когда указатель мыши над ним.

```
CImageList* GetHotImageList() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CImageList](../../mfc/reference/cimagelist-class.md) или NULL, если список отключенных изображений не установлен.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETHOTIMAGELIST,](/windows/win32/Controls/tb-gethotimagelist)как описано в SDK Windows. Горячая кнопка появляется выделены, когда указатель мыши над ним.

## <a name="ctoolbarctrlgethotitem"></a><a name="gethotitem"></a>CToolBarCtrl:GetHotItem

Извлекает индекс горячего элемента в панели инструментов.

```
int GetHotItem() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс горячего элемента на нулевой основе в панели инструментов.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETHOTITEM,](/windows/win32/Controls/tb-gethotitem)как описано в SDK Windows.

## <a name="ctoolbarctrlgetimagelist"></a><a name="getimagelist"></a>CToolBarCtrl::GetImageList

Извлекает список изображений, который используется панелью инструментов для отображения кнопок в состоянии по умолчанию.

```
CImageList* GetImageList() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CImageList](../../mfc/reference/cimagelist-class.md) или NULL, если список изображений не установлен.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETIMAGELIST,](/windows/win32/Controls/tb-getimagelist)как описано в SDK Windows.

## <a name="ctoolbarctrlgetinsertmark"></a><a name="getinsertmark"></a>CToolBarCtrl:GetInsertMark

Извлекает текущий знак вставки для панели инструментов.

```
void GetInsertMark(TBINSERTMARK* ptbim) const;
```

### <a name="parameters"></a>Параметры

*птбим*<br/>
Указатель на структуру [TBINSERTMARK,](/windows/win32/api/commctrl/ns-commctrl-tbinsertmark) которая получает знак вставки.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETINSERTMARK,](/windows/win32/Controls/tb-getinsertmark)как описано в SDK Windows.

## <a name="ctoolbarctrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a>CToolBarCtrl::GetInsertMarkColor

Извлекает цвет, используемый для рисования знака вставки для панели инструментов.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение COLORREF, содержащее текущий цвет отметки вставки.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETINSERTMARKCOLOR,](/windows/win32/Controls/tb-getinsertmarkcolor)как описано в SDK Windows.

## <a name="ctoolbarctrlgetitemrect"></a><a name="getitemrect"></a>CToolBarCtrl:GetItemRect

Извлекает прямоугольник кнопки в панели инструментов управления.

```
BOOL GetItemRect(
    int nIndex,
    LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
Нулевой индекс кнопки, для которой можно получить информацию.

*lpRect*<br/>
Адрес структуры [RECT](/previous-versions/dd162897\(v=vs.85\)) или объекта [CRect,](../../atl-mfc-shared/reference/crect-class.md) который получает координаты связующего прямоугольника.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция не получает прямоугольник для кнопок, состояние которых устанавливается для TBSTATE_HIDDEN.

## <a name="ctoolbarctrlgetmaxsize"></a><a name="getmaxsize"></a>CToolBarCtrl:GetMaxSize

Извлекает общий размер всех видимых кнопок и сепараторов в панели инструментов.

```
BOOL GetMaxSize(LPSIZE pSize) const;
```

### <a name="parameters"></a>Параметры

*pSize*<br/>
Указатель на структуру [СИЗЕ,](/windows/win32/api/windef/ns-windef-size) которая получает размер элементов.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETMAXSIZE,](/windows/win32/Controls/tb-getmaxsize)как описано в SDK Windows.

## <a name="ctoolbarctrlgetmaxtextrows"></a><a name="getmaxtextrows"></a>CToolBarCtrl::GetMaxTextRows

Извлекает максимальное количество строк текста, отображаемых на кнопке панели инструментов.

```
int GetMaxTextRows() const;
```

### <a name="return-value"></a>Возвращаемое значение

Максимальное количество текстовых строк, отображаемых на кнопке панели инструментов.

## <a name="ctoolbarctrlgetmetrics"></a><a name="getmetrics"></a>CToolBarCtrl:GetMetrics

Извлекает метрики `CToolBarCtrl` объекта.

```
void GetMetrics(LPTBMETRICS ptbm) const;
```

### <a name="parameters"></a>Параметры

*ptbm*<br/>
Указатель на структуру `CToolBarCtrl` объекта [TBMETRICS.](/windows/win32/api/commctrl/ns-commctrl-tbmetrics)

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [TB_GETMETRICS](/windows/win32/Controls/tb-getmetrics) сообщения, как описано в SDK Windows.

## <a name="ctoolbarctrlgetpadding"></a><a name="getpadding"></a>CToolBarCtrl:GetPadding

Извлекает горизонтальную и вертикальную обивку текущего элемента управления панели инструментов.

```
BOOL GetPadding(
    int* pnHorzPadding,
    int* pnVertPadding) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pnHorzPadding*|(ваут) Цель, которая получает горизонтальную обивку управления панели инструментов, в пикселях.|
|*pnVertPadding*|(ваут) Цель, которая получает вертикальную обивку управления панели инструментов, в пикселях.|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [TB_GETPADDING](/windows/win32/Controls/tb-getpadding) сообщение, которое описано в SDK Windows.

## <a name="ctoolbarctrlgetpressedimagelist"></a><a name="getpressedimagelist"></a>CToolBarCtrl::GetPressedImageList

Извлекает список изображений, который используется текущим элементом управления панели инструментов для представления кнопок в нажатом состоянии.

```
CImageList* GetPressedImageList();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на [CImageList,](../../mfc/reference/cimagelist-class.md) содержащий список изображений для текущего элемента управления, или NULL, если такой список изображений не установлен.

### <a name="remarks"></a>Remarks

Этот метод отправляет [TB_GETPRESSEDIMAGELIST](/windows/win32/Controls/tb-getpressedimagelist) сообщение, которое описано в SDK Windows.

## <a name="ctoolbarctrlgetrect"></a><a name="getrect"></a>CToolBarCtrl:GetRect

Извлекает прямоугольник для заданной кнопки панели инструментов.

```
BOOL GetRect(
    int nID,
    LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор кнопки.

*lpRect*<br/>
Указатель на структуру [RECT](/previous-versions/dd162897\(v=vs.85\)) для получения информации о граничащих прямоугольниках.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETRECT,](/windows/win32/Controls/tb-getrect)как описано в SDK Windows.

## <a name="ctoolbarctrlgetrows"></a><a name="getrows"></a>CToolBarCtrl:GetRows

Извлекает количество рядов кнопок, которые в настоящее время отображаются элементом управления панели инструментов.

```
int GetRows() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество строк кнопок, отображаемых в настоящее время на панели инструментов.

### <a name="remarks"></a>Remarks

Обратите внимание, что количество строк всегда будет одним, если панель инструментов не была создана с TBSTYLE_WRAPABLE стилем.

## <a name="ctoolbarctrlgetstate"></a><a name="getstate"></a>CToolBarCtrl:GetState

Извлекает информацию о состоянии указанной кнопки в панели инструментов управления, например, включена ли она, нажата или проверена.

```
int GetState(int nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор кнопки, для получения информации.

### <a name="return-value"></a>Возвращаемое значение

Кнопка состояние информации, если успешно или - 1 в противном случае. Информация о состоянии кнопки может быть комбинацией значений, перечисленных в [CToolBarCtrl::AddButtons](#addbuttons).

### <a name="remarks"></a>Remarks

Эта функция особенно удобна, если вы хотите получить более одного из состояний кнопок. Чтобы получить одно состояние, используйте одну из следующих функций участника: [IsButtonEnabled](#isbuttonenabled), [IsButtonChecked](#isbuttonchecked), [IsButtonPressed](#isbuttonpressed), [IsButtonHidden](#isbuttonhidden), или [IsButtonIndeterminate](#isbuttonindeterminate). Однако `GetState` функция участника является единственным способом обнаружения состояния TBSTATE_WRAP кнопки.

## <a name="ctoolbarctrlgetstring"></a><a name="getstring"></a>CToolBarCtrl:GetString

Извлекает строку панели инструментов.

```
int GetString(
    int nString,
    LPTSTR lpstrString,
    int cchMaxLen) const;

int GetString(
    int nString,
    CString& str) const;
```

### <a name="parameters"></a>Параметры

*nString*<br/>
Индекс строки.

*lpstrString*<br/>
Указатель на буфер, используемый для возврата строки.

*cchMaxLen*<br/>
Длина буфера в байтах.

*Ул*<br/>
Строка.

### <a name="return-value"></a>Возвращаемое значение

Длина строки, если успешно, -1, если нет.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_GETSTRING,](/windows/win32/Controls/tb-getstring)как описано в SDK Windows.

## <a name="ctoolbarctrlgetstyle"></a><a name="getstyle"></a>CToolBarCtrl:GetStyle

Получает стили, которые в настоящее время применяются к управлению панелью инструментов.

```
DWORD GetStyle() const;
```

### <a name="return-value"></a>Возвращаемое значение

DWORD, содержащий комбинацию [стилей управления панели инструментов,](/windows/win32/Controls/toolbar-control-and-button-styles)как описано в Windows SDK.

## <a name="ctoolbarctrlgettooltips"></a><a name="gettooltips"></a>CToolBarCtrl::GetToolTips

Извлекает ручку управления наконечником инструмента, если таковые имеется, связанные с управлением панели инструментов.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CToolTipCtrl,](../../mfc/reference/ctooltipctrl-class.md) связанный с этой панелью инструментов или NULL, если панель инструментов не имеет связанного управления наконечником инструмента.

### <a name="remarks"></a>Remarks

Поскольку панель инструментов обычно создает и поддерживает свой собственный контроль наконечника инструмента, большинству программ не нужно вызывать эту функцию.

## <a name="ctoolbarctrlhittest"></a><a name="hittest"></a>CToolBarCtrl::HitTest

Определяет, где точка находится в панели инструментов управления.

```
int HitTest(LPPOINT ppt) const;
```

### <a name="parameters"></a>Параметры

*Ppt*<br/>
Указатель на структуру [POINT,](/previous-versions/dd162805\(v=vs.85\)) содержащую x-координацию `x` хит-теста в участнике, и `y` y-координацию хит-теста в члене. Координаты относительно клиентской области панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Значение, указывающее расположение точки на панели инструментов. Если значение равно нулю или положительное значение, это значение возврата является нулевым индексом элемента несепаратора, в котором находится точка.

Если значение возврата отрицательное, точка не находится внутри кнопки. Абсолютным значением значения возврата является индекс элемента сепаратора или ближайшего элемента несепаратора.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_HITTEST,](/windows/win32/Controls/tb-hittest)как описано в SDK Windows.

## <a name="ctoolbarctrlhidebutton"></a><a name="hidebutton"></a>CToolBarCtrl::HideButton

Скрыть или показывает указанную кнопку в панели инструментов управления.

```
BOOL HideButton(
    int nID,
    BOOL bHide = TRUE);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор кнопки, чтобы скрыть или показать.

*bHide*<br/>
ПРАВДА, чтобы скрыть кнопку, FALSE, чтобы показать его.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Если вы хотите изменить более одного состояния кнопки, подумайте о вызове [SetState.](#setstate)

## <a name="ctoolbarctrlindeterminate"></a><a name="indeterminate"></a>CToolBarCtrl:Неопределенный

Устанавливает или очищает неопределенное состояние указанной кнопки в панели управления инструментами.

```
BOOL Indeterminate(
    int nID,
    BOOL bIndeterminate = TRUE);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор команды кнопки, неопределенное состояние которой должно быть установлено или очищено.

*bIndeterminate*<br/>
TRUE установить неопределенное состояние для указанной кнопки, FALSE, чтобы очистить его.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Неопределенные кнопки отображаются серые, например, как жирная кнопка на панели инструментов текстового процессора будет выглядеть, когда выбранный текст содержит как смелые, так и обычные символы. Если вы хотите изменить более одного состояния кнопки, подумайте о вызове [SetState.](#setstate)

## <a name="ctoolbarctrlinsertbutton"></a><a name="insertbutton"></a>CToolBarCtrl::Вставить кнопку

Вставляет кнопку в панель инструментов.

```
BOOL InsertButton(
    int nIndex,
    LPTBBUTTON lpButton);
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
Нулевой индекс кнопки. Эта функция вставляет новую кнопку слева от этой кнопки.

*lpButton*<br/>
Адрес структуры, `TBBUTTON` содержащей информацию о кнопке для вставки. Смотрите [CToolBarCtrl::Добавить кнопки](#addbuttons) для `TBBUTTON` описания структуры.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Изображение и/или строка, индекс которого вы предоставляете, должны быть ранее добавлены в список управления панелью инструментов с помощью [AddBitmap,](#addbitmap) [AddString](#addstring)и/или [AddStrings.](#addstrings)

## <a name="ctoolbarctrlinsertmarkhittest"></a><a name="insertmarkhittest"></a>CToolBarCtrl::InsertMarkHitTest

Извлекает информацию о знаке вставки для точки панели инструментов.

```
BOOL InsertMarkHitTest(
    LPPOINT ppt,
    LPTBINSERTMARK ptbim) const;
```

### <a name="parameters"></a>Параметры

*Ppt*<br/>
Указатель на структуру [POINT,](/previous-versions/dd162805\(v=vs.85\)) содержащую координаты теста хита, относительно области клиента панели инструментов.

*птбим*<br/>
Указатель на структуру [TBINSERTMARK,](/windows/win32/api/commctrl/ns-commctrl-tbinsertmark) которая получает информацию о знаке вставки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_INSERTMARKHITTEST,](/windows/win32/Controls/tb-insertmarkhittest)как описано в SDK Windows.

## <a name="ctoolbarctrlisbuttonchecked"></a><a name="isbuttonchecked"></a>CToolBarCtrl::TheButtonChecked

Определяет, проверяется ли указанная кнопка в управлении панелью инструментов.

```
BOOL IsButtonChecked(int nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор кнопки в панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если кнопка проверена; в противном случае ноль.

### <a name="remarks"></a>Remarks

Рассмотрите возможность вызова [GetState,](#getstate) если вы хотите получить более одного состояния кнопки.

## <a name="ctoolbarctrlisbuttonenabled"></a><a name="isbuttonenabled"></a>CToolBarCtrl:: Этокнопка

Определяет, включена ли указанная кнопка в управлении панелью инструментов.

```
BOOL IsButtonEnabled(int nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор кнопки в панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если кнопка включена; в противном случае ноль.

### <a name="remarks"></a>Remarks

Рассмотрите возможность вызова [GetState,](#getstate) если вы хотите получить более одного состояния кнопки.

## <a name="ctoolbarctrlisbuttonhidden"></a><a name="isbuttonhidden"></a>CToolBarCtrl::IsButtonHidden

Определяет, скрыта ли указанная кнопка в управлении панелью инструментов.

```
BOOL IsButtonHidden(int nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор кнопки в панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если кнопка скрыта; в противном случае ноль.

### <a name="remarks"></a>Remarks

Рассмотрите возможность вызова [GetState,](#getstate) если вы хотите получить более одного состояния кнопки.

## <a name="ctoolbarctrlisbuttonhighlighted"></a><a name="isbuttonhighlighted"></a>CToolBarCtrl::IsButtonHighlighted

Проверяет состояние выделения кнопки панели инструментов.

```
BOOL IsButtonHighlighted(int nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
(в) Идентификатор команды для кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Положительный ряд, если кнопка выделена, 0, если кнопка не выделена, или -1, если происходит ошибка.

## <a name="ctoolbarctrlisbuttonindeterminate"></a><a name="isbuttonindeterminate"></a>CToolBarCtrl::IsButtonIndeterminate

Определяет, является ли указанная кнопка в управлении панелью инструментов неопределенным.

```
BOOL IsButtonIndeterminate(int nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
(в) Командный идентификатор кнопки в панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Положительный ряд, если кнопка неопределенный, ноль, если кнопка не является неопределенным, или -1, если ошибка происходит.

### <a name="remarks"></a>Remarks

Неопределенные кнопки отображаются затемненными, например, как выглядит смелая кнопка на панели инструментов текстового процессора, когда выбранный текст содержит как смелые, так и обычные символы. Рассмотрите возможность вызова [GetState,](#getstate) если вы хотите получить более одного состояния кнопки.

## <a name="ctoolbarctrlisbuttonpressed"></a><a name="isbuttonpressed"></a>CToolBarCtrl::Кнопка

Определяет, нажата ли указанная кнопка в панели инструментов.

```
BOOL IsButtonPressed(int nID) const;
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Командный идентификатор кнопки в панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если кнопка нажата, в противном случае ноль.

### <a name="remarks"></a>Remarks

Рассмотрите возможность вызова [GetState,](#getstate) если вы хотите получить более одного состояния кнопки.

## <a name="ctoolbarctrlloadimages"></a><a name="loadimages"></a>CToolBarCtrl:LoadImages

Загружает биткарты в список изображений элемента управления панелью инструментов.

```
void LoadImages(
    int iBitmapID,
    HINSTANCE hinst);
```

### <a name="parameters"></a>Параметры

*iBitmapID*<br/>
Идентификатор битовой карты, содержащей загруженные изображения. Чтобы указать свой собственный ресурс bitmap, установите этот параметр в идентификатор ресурса bitmap и установите *hInst* в NULL. Ваш ресурс bitmap будет добавлен в список изображений в виде единого изображения. Вы можете добавить стандартные, системно-определяемые бит-карты, установив *hinst* на HINST_COMMCTRL и установив этот параметр в одном из следующих идентипов:

|Идентификатор Bitmap|Описание|
|---------------|-----------------|
|IDB_HIST_LARGE_COLOR|Explorer bitmaps в большом размере|
|IDB_HIST_SMALL_COLOR|Explorer bitmaps в небольших размерах|
|IDB_STD_LARGE_COLOR|Стандартные бит-карты в большом размере|
|IDB_STD_SMALL_COLOR|Стандартные бит-карты в небольших размерах|
|IDB_VIEW_LARGE_COLOR|Просмотр бит-карт в большом размере|
|IDB_VIEW_SMALL_COLOR|Просмотр бит-карт в небольших размерах|

*hinst*<br/>
Обращение экземпляра программы к вызывающей заявке. Этот параметр можно HINST_COMMCTRL для загрузки стандартного списка изображений.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_LOADIMAGES,](/windows/win32/Controls/tb-loadimages)как описано в SDK Windows.

## <a name="ctoolbarctrlmapaccelerator"></a><a name="mapaccelerator"></a>CToolBarCtrl:MapAccelerator

Отображает символ ускорителя к кнопке панели инструментов.

```
BOOL MapAccelerator(
    TCHAR chAccel,
    UINT* pIDBtn);
```

### <a name="parameters"></a>Параметры

*chAccel*<br/>
Символ ускорителя, который будет отображен. Этот символ является тем же символом, который подчеркивается в тексте кнопки.

*pIDBtn*<br/>
Указатель на UINT, который получает идентификатор команды кнопки, который соответствует ускорителю, указанному в *chAccel.*

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_MAPACCELERATOR,](/windows/win32/Controls/tb-mapaccelerator)как описано в SDK Windows.

## <a name="ctoolbarctrlmarkbutton"></a><a name="markbutton"></a>CToolBarCtrl::МаркБаттон

Устанавливает состояние выделения заданной кнопки в панели инструментов управления.

```
BOOL MarkButton(
    int nID,
    BOOL fHighlight = TRUE);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор кнопки.

*fHighlight*<br/>
Определяет состояние выделения, подхваиваемым. По умолчанию, ПРАВДА. При установке на FALSE кнопка устанавливается в состояние по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_MARKBUTTON,](/windows/win32/Controls/tb-markbutton)как описано в SDK Windows.

## <a name="ctoolbarctrlmovebutton"></a><a name="movebutton"></a>CToolBarCtrl::MoveButton

Перемещает кнопку из одного индекса в другой.

```
BOOL MoveButton(
    UINT nOldPos,
    UINT nNewPos);
```

### <a name="parameters"></a>Параметры

*nOldPos*<br/>
Индекс нулевой основе кнопки, которая будет перемещена.

*nNewPos*<br/>
Индекс назначения кнопки с нулевым уровнем.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_MOVEBUTTON,](/windows/win32/Controls/tb-movebutton)как описано в SDK Windows.

## <a name="ctoolbarctrlpressbutton"></a><a name="pressbutton"></a>CToolBarCtrl::PressButton

Нажимаете или выпускает указанную кнопку в панели инструментов управления.

```
BOOL PressButton(int nID, BOOL bPress = TRUE);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
(в) Командный идентификатор кнопки для нажатия или отсвасывания.

*bPress*<br/>
(в) TRUE для нажатия указанной кнопки; FALSE для выпуска указанной кнопки. Значение по умолчанию — TRUE.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если метод успешен; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Если вы хотите изменить более одного состояния кнопки, подумайте о вызове [SetState.](#setstate)

Этот метод отправляет [TB_PRESSBUTTON](/windows/win32/Controls/tb-pressbutton) сообщение, которое описано в SDK Windows.

## <a name="ctoolbarctrlreplacebitmap"></a><a name="replacebitmap"></a>CToolBarCtrl::ReplaceBitmap

Заменяет существующую битную карту в текущем элементе управления панелью инструментов новой битовой картой.

```
BOOL ReplaceBitmap(LPTBREPLACEBITMAP pReplaceBitmap);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*pReplaceBitmap*|(в) Указатель на структуру [TBREPLACEBITMAP,](/windows/win32/api/commctrl/ns-commctrl-tbreplacebitmap) которая описывает бит-карту, которая будет заменена, и новую бит-карту.|

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод является успешным; в противном случае, FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [TB_REPLACEBITMAP](/windows/win32/Controls/tb-replacebitmap) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Следующий пример кода заменяет битную карту для стандартной панели инструментов другой битной картой.

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#2](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_4.cpp)]

## <a name="ctoolbarctrlrestorestate"></a><a name="restorestate"></a>CToolBarCtrl:Восстановлениегосударства

Восстанавливает состояние элемента управления панели инструментов из местоположения в реестре, указанном параметрами.

```
void RestoreState(
    HKEY hKeyRoot,
    LPCTSTR lpszSubKey,
    LPCTSTR lpszValueName);
```

### <a name="parameters"></a>Параметры

*hKeyRoot*<br/>
Определяет открытый в настоящее время ключ в реестре или любой из следующих заранее определенных зарезервированных значений ручки:

- HKEY_CLASSES_ROOT

- HKEY_CURRENT_USER

- HKEY_LOCAL_MACHINE

- HKEY_USERS

*lpszSubKey*<br/>
Указывает на нулевую строку, содержащую имя подключаемого ключа, с которым связано значение. Этот параметр может быть нулевым или указателем на пустую строку. Если параметр NULL, значение будет добавлено к ключу, идентифицированному параметром *hKeyRoot.*

*lpszValueName*<br/>
Указывает на строку, содержащую имя значения для извлечения. Если значение с этим именем еще не присутствует в ключе, функция добавляет его в ключ.

## <a name="ctoolbarctrlsavestate"></a><a name="savestate"></a>CToolBarCtrl:SaveState

Сохраняет состояние управления панели инструментов в местоположении в реестре, указанном параметрами.

```
void SaveState(
    HKEY hKeyRoot,
    LPCTSTR lpszSubKey,
    LPCTSTR lpszValueName);
```

### <a name="parameters"></a>Параметры

*hKeyRoot*<br/>
Определяет открытый в настоящее время ключ в реестре или любой из следующих заранее определенных зарезервированных значений ручки:

- HKEY_CLASSES_ROOT

- HKEY_CURRENT_USER

- HKEY_LOCAL_MACHINE

- HKEY_USERS

*lpszSubKey*<br/>
Указывает на нулевую строку, содержащую имя подключаемого ключа, с которым связано значение. Этот параметр может быть нулевым или указателем на пустую строку. Если параметр NULL, значение будет добавлено к ключу, идентифицированному параметром *hKeyRoot.*

*lpszValueName*<br/>
Указывает на строку, содержащую имя значения для установки. Если значение с этим именем еще не присутствует в ключе, функция добавляет его в ключ.

## <a name="ctoolbarctrlsetanchorhighlight"></a><a name="setanchorhighlight"></a>CToolBarCtrl::SetAnchor'

Устанавливает настройки якоря выделить для панели инструментов.

```
BOOL SetAnchorHighlight(BOOL fAnchor = TRUE);
```

### <a name="parameters"></a>Параметры

*fAnchor*<br/>
(в) Определяется, включено ли якорное выделение или отключено. Если это значение ненулевое, будет включено выделение якоря. Если это значение равно нулю, якорная подсветка будет отключена

### <a name="return-value"></a>Возвращаемое значение

Предыдущая настройка якоря. Если выделение включено, это значение неявляется. Если выделение не было включено, это значение равно нулю.

### <a name="remarks"></a>Remarks

Этот метод реализует поведение сообщения Win32 [TB_SETANCHORHIGHLIGHT,](/windows/win32/Controls/tb-setanchorhighlight)как описано в SDK Windows.

## <a name="ctoolbarctrlsetbitmapsize"></a><a name="setbitmapsize"></a>CToolBarCtrl:SetBitmapSize

Устанавливает размер фактических битотовых изображений, которые должны быть добавлены в элемент управления панели инструментов.

```
BOOL SetBitmapSize(CSize size);
```

### <a name="parameters"></a>Параметры

*Размер*<br/>
Ширина и высота, в пикселях, битотированных изображений.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция должна быть вызвана только перед добавлением бит-карт в панель инструментов. Если приложение явно не устанавливает размер биткарты, оно по умолчанию по умолчанию по умолчанию до 16 на 15 пикселей.

## <a name="ctoolbarctrlsetbuttoninfo"></a><a name="setbuttoninfo"></a>CToolBarCtrl::SetButtonInfo

Устанавливает информацию для существующей кнопки в панели инструментов.

```
BOOL SetButtonInfo(
    int nID,
    TBBUTTONINFO* ptbbi);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор кнопки.

*ptbbi*<br/>
Указатель на структуру [TBBUTTONINFO,](/windows/win32/api/commctrl/ns-commctrl-tbbuttoninfow) которая получает информацию о кнопке.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Функция участника реализует поведение сообщения Win32 [TB_SETBUTTONINFO,](/windows/win32/Controls/tb-setbuttoninfo)как описано в SDK Windows.

## <a name="ctoolbarctrlsetbuttonsize"></a><a name="setbuttonsize"></a>CToolBarCtrl::SetButtonSize

Устанавливает размер кнопок в управлении панелью инструментов.

```
BOOL SetButtonSize(CSize size);
```

### <a name="parameters"></a>Параметры

*Размер*<br/>
Ширина и высота, в пикселях, кнопок.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Размер кнопки всегда должен быть по крайней мере такой же большой, как размер биткарты, который она примыкает. Эта функция должна быть вызвана только перед добавлением бит-карт в панель инструментов. Если приложение явно не устанавливает размер кнопки, оно по умолчанию по умолчанию по умолчанию до 24 на 22 пикселя.

### <a name="example"></a>Пример

  Смотрите пример [для CToolBar::GetToolBarCtrl](../../mfc/reference/ctoolbar-class.md#gettoolbarctrl).

## <a name="ctoolbarctrlsetbuttonstructsize"></a><a name="setbuttonstructsize"></a>CToolBarCtrl::SetButtonStructSize

Определяет размер конструкции. `TBBUTTON`

```
void SetButtonStructSize(int nSize);
```

### <a name="parameters"></a>Параметры

*Nsize*<br/>
Размер, в байтах, `TBBUTTON` структуры.

### <a name="remarks"></a>Remarks

Если вы хотите хранить дополнительные данные в `TBBUTTON` структуре, `TBBUTTON`можно либо получить новую структуру из, `TBBUTTON` добавив нужных членов, либо создать новую структуру, которая содержит структуру в качестве первого члена. Затем вы называете эту функцию, чтобы сообщить панели инструментов, контролируя размер новой структуры.

Смотрите [CToolBarCtrl::Добавить кнопки](#addbuttons) для `TBBUTTON` получения дополнительной информации о структуре.

## <a name="ctoolbarctrlsetbuttonwidth"></a><a name="setbuttonwidth"></a>CToolBarCtrl::SetButtonWidth

Устанавливает минимальную и максимальную ширину кнопки в управлении панелью инструментов.

```
BOOL SetButtonWidth(
    int cxMin,
    int cxMax);
```

### <a name="parameters"></a>Параметры

*cxMin*<br/>
Минимальная ширина кнопки, в пикселях. Кнопки панели инструментов никогда не будут уже, чем это значение.

*cxMax*<br/>
Максимальная ширина кнопки, в пикселях. Если текст кнопки слишком широк, управление отображает его с точками эллипсиса.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_SETBUTTONWIDTH,](/windows/win32/Controls/tb-setbuttonwidth)как описано в SDK Windows.

## <a name="ctoolbarctrlsetcmdid"></a><a name="setcmdid"></a>CToolBarCtrl:SetCmdID

Устанавливает идентификатор команды, который будет отправлен в окно владельца при нажатии указанной кнопки.

```
BOOL SetCmdID(
    int nIndex,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
Индекс на нулевой основе кнопки, идентификатор команды которой должен быть установлен.

*nID*<br/>
Идентификатор команды для установки выбранной кнопки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевой, если успешно; в противном случае ноль.

## <a name="ctoolbarctrlsetcolorscheme"></a><a name="setcolorscheme"></a>CToolBarCtrl:SetColorScheme

Устанавливает цветовую гамму текущего управления панелью инструментов.

```
void SetColorScheme(const COLORSCHEME* lpColorScheme);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*lpColorScheme*|(в) Указатель на структуру [COLORSCHEME,](/windows/win32/api/commctrl/ns-commctrl-colorscheme) описывающий цвет выделения и цвет тени панели инструментов.|

### <a name="remarks"></a>Remarks

Этот метод не имеет никакого эффекта, если windows Vista визуальная тема установлена.

Этот метод отправляет [TB_SETCOLORSCHEME](/windows/win32/Controls/tb-setcolorscheme) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Следующий пример кода устанавливает цветовую схему для текущего управления панелью инструментов. Пример кода делает левый и верхний края каждой кнопки инструмента красными, а правый и нижний края синими. Когда пользователь нажимает на кнопку, красные края кнопки синея и его синие края покраснеть.

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#3](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_5.cpp)]

## <a name="ctoolbarctrlsetdisabledimagelist"></a><a name="setdisabledimagelist"></a>CToolBarCtrl::SetDisabledImageList

Устанавливает список изображений, который панель инструментов будет использовать для отображения отключенных кнопок.

```
CImageList* SetDisabledImageList(CImageList* pImageList);
```

### <a name="parameters"></a>Параметры

*pImageList*<br/>
Указатель на `CImageList` объект, содержащий изображения, которые будут использоваться панелью инструментов для отображения отключенных изображений кнопки.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CImageList,](../../mfc/reference/cimagelist-class.md) который ранее использовался панелью инструментов для отображения отключенных изображений кнопки.

### <a name="remarks"></a>Remarks

Эта функция-член реализует поведение сообщения Win32 [TB_SETDISABLEDIMAGELIST,](/windows/win32/Controls/tb-setdisabledimagelist)как описано в SDK Windows. В реализации `SetDisabledImageList` MFC `CImageList` используется объект, содержащий отключенные изображения кнопки управления панелью инструментов, а не ручка к списку изображений.

## <a name="ctoolbarctrlsetdrawtextflags"></a><a name="setdrawtextflags"></a>CToolBarCtrl::SetDrawTextFlags

Устанавливает флаги в функции Win32 [DrawText](/windows/win32/api/winuser/nf-winuser-drawtext), которая используется для рисования текста в указанном прямоугольнике, отформатированных в соответствии с тем, как установлены флаги.

```
DWORD SetDrawTextFlags(
    DWORD dwMask,
    DWORD dwDTFlags);
```

### <a name="parameters"></a>Параметры

*dwMask*<br/>
Комбинация одного или нескольких DT_ флагов, указанных в функции Win32 [DrawText](/windows/win32/api/winuser/nf-winuser-drawtext), которая указывает, какие биты в *dwDTFlags* будут использоваться при рисовании текста.

*dwDTФлаги*<br/>
Комбинация одного или нескольких DT_ флагов, указанных `DrawText`в функции Win32, которые указывают, как будет нарисован текст кнопки. Это значение передается `DrawText` при рисовании текста кнопки.

### <a name="return-value"></a>Возвращаемое значение

DWORD, содержащий предыдущие флаги рисования текста.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_SETDRAWTEXTFLAGS,](/windows/win32/Controls/tb-setdrawtextflags)как описано в SDK Windows. Эта функция участника устанавливает флаги в `DrawText`функции Win32, которая рисует текст в указанном прямоугольнике, отформатированный в зависимости от того, как установлены флаги.

## <a name="ctoolbarctrlsetextendedstyle"></a><a name="setextendedstyle"></a>CToolBarCtrl::SetExtendedStyle

Устанавливает расширенные стили для управления панелью инструментов.

```
DWORD SetExtendedStyle(DWORD dwExStyle);
```

### <a name="parameters"></a>Параметры

*dwExStyle*<br/>
Значение, определяющее новые расширенные стили. Этот параметр может быть сочетанием расширенной панели инструментов стилей.

### <a name="return-value"></a>Возвращаемое значение

DWORD, представляющий предыдущие расширенные стили. Список стилей [можно](/windows/win32/Controls/toolbar-extended-styles)узнать в SDK Windows.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_SETEXTENDEDSTYLE,](/windows/win32/Controls/tb-setextendedstyle)как описано в SDK Windows.

## <a name="ctoolbarctrlsethotimagelist"></a><a name="sethotimagelist"></a>CToolBarCtrl:SetHotImageList

Устанавливает список изображений, который будет использоватьпанель инструментов для отображения "горячих" кнопок.

```
CImageList* SetHotImageList(CImageList* pImageList);
```

### <a name="parameters"></a>Параметры

*pImageList*<br/>
Указатель на `CImageList` объект, содержащий изображения, которые будут использоваться панелью инструментов для отображения изображений с горячей кнопкой.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CImageList,](../../mfc/reference/cimagelist-class.md) который ранее использовался панелью инструментов для отображения изображений с горячей кнопкой.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_SETHOTIMAGELIST,](/windows/win32/Controls/tb-sethotimagelist)как описано в SDK Windows.

Реализация MFC `SetHotImageList` использует `CImageList` объект, содержащий изображения горячей кнопки панели инструментов, а не ручку для списка изображений. Горячая кнопка появляется выделено, когда указатель над ним.

## <a name="ctoolbarctrlsethotitem"></a><a name="sethotitem"></a>CToolBarCtrl:SetHotItem

Устанавливает горячий элемент в панели инструментов.

```
int SetHotItem(int nHot);
```

### <a name="parameters"></a>Параметры

*nHot*<br/>
Номер индекса на нулевом уровне товара, который будет сделан горячим. Если это значение -1, ни один из элементов не будет горячим.

### <a name="return-value"></a>Возвращаемое значение

Индекс предыдущего горячего элемента, или -1, если не было горячего элемента.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_SETHOTITEM,](/windows/win32/Controls/tb-sethotitem)как описано в SDK Windows.

## <a name="ctoolbarctrlsetimagelist"></a><a name="setimagelist"></a>CToolBarCtrl:SetImageList

Устанавливает список изображений, который панель инструментов будет использовать для отображения кнопок, намитых в состоянии по умолчанию.

```
CImageList* SetImageList(CImageList* pImageList);
```

### <a name="parameters"></a>Параметры

*pImageList*<br/>
Указатель на `CImageList` объект, содержащий изображения, которые будут использоваться панелью инструментов для отображения изображений кнопок в состоянии по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CImageList,](../../mfc/reference/cimagelist-class.md) который ранее использовался элементом управления панелью инструментов для отображения изображений кнопок в состоянии по умолчанию.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_SETIMAGELIST,](/windows/win32/Controls/tb-setimagelist)как описано в SDK Windows.

В реализации `SetImageList` MFC `CImageList` используется объект, содержащий изображения кнопки управления панелью инструментов, а не ручка к списку изображений.

## <a name="ctoolbarctrlsetindent"></a><a name="setindent"></a>CtoolBarCtrl:Setindent

Устанавливает отступ для первой кнопки в панели инструментов управления.

```
BOOL SetIndent(int iIndent);
```

### <a name="parameters"></a>Параметры

*iIndent*<br/>
Значение, определяющее отступ, в пикселях.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="ctoolbarctrlsetinsertmark"></a><a name="setinsertmark"></a>CToolBarCtrl::SetInsertMark

Устанавливает текущую отметку вставки для панели инструментов.

```
void SetInsertMark(TBINSERTMARK* ptbim);
```

### <a name="parameters"></a>Параметры

*птбим*<br/>
Указатель на структуру [TBINSERTMARK,](/windows/win32/api/commctrl/ns-commctrl-tbinsertmark) содержащую знак вставки.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_SETINSERTMARK,](/windows/win32/Controls/tb-setinsertmark)как описано в SDK Windows.

## <a name="ctoolbarctrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a>CToolBarCtrl::SetInsertMarkColor

Устанавливает цвет, используемый для рисования знака вставки для панели инструментов.

```
COLORREF SetInsertMarkColor(COLORREF clrNew);
```

### <a name="parameters"></a>Параметры

*clrNew*<br/>
Значение COLORREF, содержащее новый цвет знака вставки.

### <a name="return-value"></a>Возвращаемое значение

Значение COLORREF, содержащее предыдущий цвет знака вставки.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [TB_SETINSERTMARKCOLOR,](/windows/win32/Controls/tb-setinsertmarkcolor)как описано в SDK Windows.

## <a name="ctoolbarctrlsetmaxtextrows"></a><a name="setmaxtextrows"></a>CToolBarCtrl::SetMaxTextRows

Устанавливает максимальное количество текстовых строк, отображаемых на кнопке панели инструментов.

```
BOOL SetMaxTextRows(int iMaxRows);
```

### <a name="parameters"></a>Параметры

*iMaxRows*<br/>
Максимальное количество строк, которые необходимо установить.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="ctoolbarctrlsetmetrics"></a><a name="setmetrics"></a>CToolBarCtrl:SetMetrics

Устанавливает метрики `CToolBarCtrl` объекта.

```
void SetMetrics(LPTBMETRICS ptbm);
```

### <a name="parameters"></a>Параметры

*ptbm*<br/>
Указатель на структуру `CToolBarCtrl` объекта [TBMETRICS.](/windows/win32/api/commctrl/ns-commctrl-tbmetrics)

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [TB_SETMETRICS](/windows/win32/Controls/tb-setmetrics) сообщения, как описано в SDK Windows.

## <a name="ctoolbarctrlsetowner"></a><a name="setowner"></a>CToolBarCtrl:SetOwner

Устанавливает окно владельца для управления панелью инструментов.

```
void SetOwner(CWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*pWnd*<br/>
Указатель на `CWnd` `CWnd`или -производный объект, который будет новым окном владельца для управления панелью инструментов.

### <a name="remarks"></a>Remarks

Окно владельца — это окно, которое получает уведомления от панели инструментов.

## <a name="ctoolbarctrlsetpadding"></a><a name="setpadding"></a>CToolBarCtrl:SetPadding

Устанавливает горизонтальную и вертикальную обивку текущего элемента управления панели инструментов.

```
DWORD SetPadding(
    int nHorzPadding,
    int nVertPadding);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*nHorzPadding*|(в) Определяет горизонтальную обивку элемента управления панели инструментов в пикселях.|
|*nVertPadding*|(в) Определяет вертикальную обивку элемента управления панели инструментов в пикселях.|

### <a name="return-value"></a>Возвращаемое значение

DWORD, чье низкое слово содержит предыдущее горизонтальное значение обивки, и высокое слово которого содержит предыдущее вертикальное значение обивки. Значения обивки измеряются в пикселях.

### <a name="remarks"></a>Remarks

Этот метод отправляет [TB_SETPADDING](/windows/win32/Controls/tb-setpadding) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Следующий пример кода устанавливает горизонтальную и вертикальную обивку текущего элемента управления панели инструментов до 20 пикселей.

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#4](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_6.cpp)]

## <a name="ctoolbarctrlsetpressedimagelist"></a><a name="setpressedimagelist"></a>CToolBarCtrl::SetPressedImageList

Устанавливает список изображений, который используется текущим элементом управления панели инструментов для представления кнопок в нажатом состоянии.

```
CImagelist* SetPressedImageList(
    int iImageID,
    CImageList* pImageList);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*iImageID*|(в) Индекс нулевой основе списка изображений. Установите этот параметр до нуля, если вы используете только один список изображений.|
|*pImageList*|(в) Указатель на [CImageList,](../../mfc/reference/cimagelist-class.md) содержащий новый список изображений.|

### <a name="return-value"></a>Возвращаемое значение

Указатель на [CImageList,](../../mfc/reference/cimagelist-class.md) содержащий предыдущий список изображений для текущего элемента управления, или NULL, если такой список изображений не был установлен.

### <a name="remarks"></a>Remarks

Этот метод отправляет [TB_SETPRESSEDIMAGELIST](/windows/win32/Controls/tb-setpressedimagelist) сообщение, которое описано в SDK Windows.

### <a name="example"></a>Пример

Следующий пример кода устанавливает, что список нажатых изображений будет таким же, как список изображений по умолчанию.

[!code-cpp[NVC_MFC_CToolBarCtrl_s1#5](../../mfc/reference/codesnippet/cpp/ctoolbarctrl-class_7.cpp)]

## <a name="ctoolbarctrlsetrows"></a><a name="setrows"></a>CToolBarCtrl:SetRows

Запрашивает элемент управления панели инструментов, чтобы изменить размер себя до запрошенного количества строк.

```
void SetRows(
    int nRows,
    BOOL bLarger,
    LPRECT lpRect);
```

### <a name="parameters"></a>Параметры

*nRows*<br/>
Запрошенное количество строк.

*bLarger*<br/>
Сообщает, следует ли использовать больше строк или меньше строк, если панель инструментов не может быть уменьшена на запрашиваемые строки.

*lpRect*<br/>
Указывает на объект [CRect](../../atl-mfc-shared/reference/crect-class.md) или структуру [RECT,](/previous-versions/dd162897\(v=vs.85\)) которая получит новый прямоугольник панели инструментов.

### <a name="remarks"></a>Remarks

Если панель инструментов не может изменить размер до запрашиваемого числа или строк, она изменит размер себя либо на следующий больший или следующий меньший допустимый размер, в зависимости от значения *bLarger.* Если *bLarger* является правдой, новое число строк будет больше, чем число запрошенных. Если *bLarger* является FALSE, новое число строк будет меньше запрошенного числа.

Данное количество строк допустимо для панели инструментов, если кнопки могут быть расположены таким образом, что все строки имеют одинаковое количество кнопок (за исключением, возможно, последней строки). Например, панель инструментов, содержащая четыре кнопки, не может быть рассчитана до трех строк, поскольку последние две строки должны быть короче. Если вы попытались размер его до трех строк, вы получите четыре строки, если *bLarger* было правдой и два ряда, если *bLarger* был FALSE.

Если в панели инструментов есть сепараторы, правила, когда допустимое количество строк, являются более сложными. Макет вычисляется таким образом, что группы кнопок (кнопки с сепаратором перед первой и последней кнопкой в группе) никогда не разбиваются на несколько строк, если группа не помещается на одну строку.

Если группа не помещается на одну строку, следующая группа начинается на следующем ряду, даже если она будет помещаться на строку, где большая группа закончилась. Цель этого правила состоит в том, чтобы сделать разделение между большими группами более заметным. Полученные вертикальные сепараторы учитываются как строки.

Обратите внимание `SetRows` также, что функция члена всегда будет выбирать макет, который приводит к наименьшему размеру панели инструментов. Создание панели инструментов со стилем TBSTYLE_WRAPABLE, а затем изменение размера элемента управления будет просто применять метод, изложенный выше, учитывая ширину элемента управления.

Эта функция может быть вызвана только для панели инструментов, которые были созданы с TBSTYLE_WRAPABLE стилем.

## <a name="ctoolbarctrlsetstate"></a><a name="setstate"></a>CToolBarCtrl:SetState

Устанавливает состояние указанной кнопки в панели инструментов.

```
BOOL SetState(
    int nID,
    UINT nState);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Идентификатор команды кнопки.

*nState*<br/>
Государственные флаги. Это может быть комбинация значений, перечисленных для кнопочных состояний в [CToolBarCtrl::AddButtons](#addbuttons).

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция особенно удобна, если вы хотите установить более одного из состояний кнопки. Чтобы установить только одно состояние, используйте одну из следующих функций участника: [EnableButton](#enablebutton), [CheckButton](#checkbutton), [HideButton](#hidebutton), [Неопределенный](#indeterminate), или [Нажмите кнопку](#pressbutton).

## <a name="ctoolbarctrlsetstyle"></a><a name="setstyle"></a>CToolBarCtrl:SetStyle

Устанавливает стили для управления панелью инструментов.

```
void SetStyle(DWORD dwStyle);
```

### <a name="parameters"></a>Параметры

*dwStyle*<br/>
DWORD, содержащий комбинацию [стилей управления панели инструментов,](/windows/win32/Controls/toolbar-control-and-button-styles)как описано в Windows SDK.

## <a name="ctoolbarctrlsettooltips"></a><a name="settooltips"></a>CToolBarCtrl::SetToolTips

Ассоциирует управление наконечником инструмента с управлением панели инструментов.

```
void SetToolTips(CToolTipCtrl* pTip);
```

### <a name="parameters"></a>Параметры

*pTip*<br/>
Указатель на объект [CToolTipCtrl.](../../mfc/reference/ctooltipctrl-class.md)

## <a name="ctoolbarctrlsetwindowtheme"></a><a name="setwindowtheme"></a>CToolBarCtrl::SetWindowTheme

Устанавливает визуальный стиль `CToolBarCtrl` объекта.

```
HRESULT SetWindowTheme(LPCWSTR pszSubAppName);
```

### <a name="parameters"></a>Параметры

*pszSubAppName*<br/>
Указатель на строку Unicode, которая содержит визуальный стиль панели инструментов для установки.

### <a name="return-value"></a>Возвращаемое значение

Значение возврата не используется.

### <a name="remarks"></a>Remarks

Эта функция члена имитирует функциональность [TB_SETWINDOWTHEME](/windows/win32/Controls/tb-setwindowtheme) сообщения, как описано в SDK Windows.

## <a name="see-also"></a>См. также раздел

[MFC Образец CMNCTRL1](../../overview/visual-cpp-samples.md)<br/>
[Пример MFC MFCIE](../../overview/visual-cpp-samples.md)<br/>
[Класс CWnd](../../mfc/reference/cwnd-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CToolBar](../../mfc/reference/ctoolbar-class.md)
