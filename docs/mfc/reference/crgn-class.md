---
title: Crgn-класс
ms.date: 11/04/2016
f1_keywords:
- CRgn
- AFXWIN/CRgn
- AFXWIN/CRgn::CRgn
- AFXWIN/CRgn::CombineRgn
- AFXWIN/CRgn::CopyRgn
- AFXWIN/CRgn::CreateEllipticRgn
- AFXWIN/CRgn::CreateEllipticRgnIndirect
- AFXWIN/CRgn::CreateFromData
- AFXWIN/CRgn::CreateFromPath
- AFXWIN/CRgn::CreatePolygonRgn
- AFXWIN/CRgn::CreatePolyPolygonRgn
- AFXWIN/CRgn::CreateRectRgn
- AFXWIN/CRgn::CreateRectRgnIndirect
- AFXWIN/CRgn::CreateRoundRectRgn
- AFXWIN/CRgn::EqualRgn
- AFXWIN/CRgn::FromHandle
- AFXWIN/CRgn::GetRegionData
- AFXWIN/CRgn::GetRgnBox
- AFXWIN/CRgn::OffsetRgn
- AFXWIN/CRgn::PtInRegion
- AFXWIN/CRgn::RectInRegion
- AFXWIN/CRgn::SetRectRgn
helpviewer_keywords:
- CRgn [MFC], CRgn
- CRgn [MFC], CombineRgn
- CRgn [MFC], CopyRgn
- CRgn [MFC], CreateEllipticRgn
- CRgn [MFC], CreateEllipticRgnIndirect
- CRgn [MFC], CreateFromData
- CRgn [MFC], CreateFromPath
- CRgn [MFC], CreatePolygonRgn
- CRgn [MFC], CreatePolyPolygonRgn
- CRgn [MFC], CreateRectRgn
- CRgn [MFC], CreateRectRgnIndirect
- CRgn [MFC], CreateRoundRectRgn
- CRgn [MFC], EqualRgn
- CRgn [MFC], FromHandle
- CRgn [MFC], GetRegionData
- CRgn [MFC], GetRgnBox
- CRgn [MFC], OffsetRgn
- CRgn [MFC], PtInRegion
- CRgn [MFC], RectInRegion
- CRgn [MFC], SetRectRgn
ms.assetid: d904da84-76aa-481e-8780-b09485f49e64
ms.openlocfilehash: 9c08b679f1423b499a5b95b260fd0fac9ddeaf9d
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50467990"
---
# <a name="crgn-class"></a>Crgn-класс

Инкапсулирует область интерфейса графических устройств Windows (GDI).

## <a name="syntax"></a>Синтаксис

```
class CRgn : public CGdiObject
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание|
|----------|-----------------|
|[CRgn::CRgn](#crgn)|Создает объект `CRgn`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CRgn::CombineRgn](#combinergn)|Наборы `CRgn` таким образом, чтобы она эквивалентна объединение двух указанных `CRgn` объектов.|
|[CRgn::CopyRgn](#copyrgn)|Наборы `CRgn` таким образом, чтобы он является копией указанного `CRgn` объекта.|
|[CRgn::CreateEllipticRgn](#createellipticrgn)|Инициализирует `CRgn` объекта с регионом эллипса.|
|[CRgn::CreateEllipticRgnIndirect](#createellipticrgnindirect)|Инициализирует `CRgn` объект с эллиптической области, определяемой [RECT](../../mfc/reference/rect-structure1.md) структуры.|
|[CRgn::CreateFromData](#createfromdata)|Создает область из заданного региона и преобразования данных.|
|[CRgn::CreateFromPath](#createfrompath)|Создает область из пути, который выбран в контексте данного устройства.|
|[CRgn::CreatePolygonRgn](#createpolygonrgn)|Инициализирует `CRgn` объекта с кусочно-линейной регионом. Система закрывает многоугольника автоматически, при необходимости, нарисовав линию от последнее вершины, к первому.|
|[CRgn::CreatePolyPolygonRgn](#createpolypolygonrgn)|Инициализирует `CRgn` объекта в заданной области, состоящее из последовательности закрытых многоугольников. Возможно, многоугольников перекрытия, или они могут перекрываться.|
|[CRgn::CreateRectRgn](#createrectrgn)|Инициализирует `CRgn` объект с прямоугольной области.|
|[CRgn::CreateRectRgnIndirect](#createrectrgnindirect)|Инициализирует `CRgn` объект с прямоугольной области, определяемой [RECT](../../mfc/reference/rect-structure1.md) структуры.|
|[CRgn::CreateRoundRectRgn](#createroundrectrgn)|Инициализирует `CRgn` объект с прямоугольную область со скругленными углами.|
|[CRgn::EqualRgn](#equalrgn)|Проверяет два `CRgn` объектов, чтобы определить, являются ли они равными.|
|[CRgn::FromHandle](#fromhandle)|Возвращает указатель на `CRgn` объект для заданного дескриптора в регионе Windows.|
|[CRgn::GetRegionData](#getregiondata)|Заполняет указанный буфер данных, описывающих заданной области.|
|[CRgn::GetRgnBox](#getrgnbox)|Получает координаты ограничивающего прямоугольника `CRgn` объекта.|
|[CRgn::OffsetRgn](#offsetrgn)|Перемещает `CRgn` объекта с заданными смещениями.|
|[CRgn::PtInRegion](#ptinregion)|Определяет, является ли указанная точка в регионе.|
|[CRgn::RectInRegion](#rectinregion)|Определяет, является ли любую часть заданного прямоугольника в пределах области.|
|[CRgn::SetRectRgn](#setrectrgn)|Наборы `CRgn` объекта в заданную прямоугольную область.|

### <a name="public-operators"></a>Открытые операторы

|Имя|Описание|
|----------|-----------------|
|[CRgn::operator HRGN](#operator_hrgn)|Возвращает дескриптор Windows, содержащийся в `CRgn` объекта.|

## <a name="remarks"></a>Примечания

Область — это эллипса или многоугольную область в пределах этого периода. Чтобы использовать регионы, используйте функции-члены класса `CRgn` с помощью функции обрезки, определенные как члены класса `CDC`.

Функции-члены `CRgn` создания, изменения и получить сведения об объекте области, для которого они вызываются.

Дополнительные сведения об использовании `CRgn`, см. в разделе [графические объекты](../../mfc/graphic-objects.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CGdiObject](../../mfc/reference/cgdiobject-class.md)

`CRgn`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

##  <a name="combinergn"></a>  CRgn::CombineRgn

Создает новую область GDI, объединяя два существующих областей.

```
int CombineRgn(
    CRgn* pRgn1,
    CRgn* pRgn2,
    int nCombineMode);
```

### <a name="parameters"></a>Параметры

*pRgn1*<br/>
Идентифицирует существующей области.

*pRgn2*<br/>
Идентифицирует существующей области.

*nCombineMode*<br/>
Указывает операцию, выполняемую при объединении двух исходных регионов. Он может принимать любое из следующих значений:

- RGN_AND использует перекрывающихся областей в обоих регионах (пересечение).

- RGN_COPY создает копию объекта региона 1 (определяется *pRgn1*).

- RGN_DIFF создает область, состоящий из региона 1 областей (определяется *pRgn1*), не являются частью региона 2 (определяется *pRgn2*).

- RGN_OR сочетает в себе оба региона полностью (объединение).

- RGN_XOR сочетает в себе оба региона, но удаляет перекрывающиеся области.

### <a name="return-value"></a>Возвращаемое значение

Указывает тип итоговый области. Он может принимать одно из следующих значений:

- COMPLEXREGION новый регион имеет перекрывающиеся границы.

- Ошибка, новый регион не создан.

- NULLREGION новая область пуста.

- SIMPLEREGION новая область не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Регионы объединяются согласно *nCombineMode*.

Две указанные области объединяются, и полученный дескриптор области хранится в `CRgn` объекта. Таким образом, независимо от региона хранится в `CRgn` объект заменяется объединенный регион.

Размер области ограничен 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.

Используйте [CopyRgn](#copyrgn) просто скопировать одного региона в другой регион.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#144](../../mfc/codesnippet/cpp/crgn-class_1.cpp)]

##  <a name="copyrgn"></a>  CRgn::CopyRgn

Копирует области, определяемой *pRgnSrc* в `CRgn` объекта.

```
int CopyRgn(CRgn* pRgnSrc);
```

### <a name="parameters"></a>Параметры

*pRgnSrc*<br/>
Идентифицирует существующей области.

### <a name="return-value"></a>Возвращаемое значение

Указывает тип итоговый области. Он может принимать одно из следующих значений:

- COMPLEXREGION новый регион имеет перекрывающиеся границы.

- Ошибка, новый регион не создан.

- NULLREGION новая область пуста.

- SIMPLEREGION новая область не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Новая область заменяет области, ранее хранимой в `CRgn` объекта. Эта функция представляет собой особый вид [CombineRgn](#combinergn) функция-член.

### <a name="example"></a>Пример

  См. в примере [CRgn::CreateEllipticRgn](#createellipticrgn).

##  <a name="createellipticrgn"></a>  CRgn::CreateEllipticRgn

Создает эллиптическую регионом.

```
BOOL CreateEllipticRgn(
    int x1,
    int y1,
    int x2,
    int y2);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Указывает логические координаты x верхнего левого угла ограничивающего прямоугольника эллипса.

*y1*<br/>
Указывает логическую координату y верхнего левого угла ограничивающего прямоугольника эллипса.

*x2*<br/>
Указывает логических координату по оси x правого нижнего угла ограничивающего прямоугольника эллипса.

*y2*<br/>
Указывает логические координаты по оси y правого нижнего угла ограничивающего прямоугольника эллипса.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Регион определяется ограничивающий прямоугольник, определяемый *x1*, *y1*, *x2*, и *y2*. Области хранятся в `CRgn` объекта.

Размер области ограничен 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.

При завершении использования области, созданные с помощью `CreateEllipticRgn` функции, приложения следует выбрать регион out контекста устройства и использовать `DeleteObject` функции, чтобы удалить его.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#145](../../mfc/codesnippet/cpp/crgn-class_2.cpp)]

##  <a name="createellipticrgnindirect"></a>  CRgn::CreateEllipticRgnIndirect

Создает эллиптическую регионом.

```
BOOL CreateEllipticRgnIndirect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `RECT` структуры или `CRect` , содержащий логические координаты верхнего левого и правого нижнего углов ограничивающего прямоугольника эллипса.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Регион определяется структура или объект, на которые указывают *lpRect* и хранится в `CRgn` объекта.

Размер области ограничен 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.

При завершении использования области, созданные с помощью `CreateEllipticRgnIndirect` функции, приложения следует выбрать регион out контекста устройства и использовать `DeleteObject` функции, чтобы удалить его.

### <a name="example"></a>Пример

  См. в примере [CRgn::CreateRectRgnIndirect](#createrectrgnindirect).

##  <a name="createfromdata"></a>  CRgn::CreateFromData

Создает область из заданного региона и преобразования данных.

```
BOOL CreateFromData(
    const XFORM* lpXForm,
    int nCount,
    const RGNDATA* pRgnData);
```

### <a name="parameters"></a>Параметры

*lpXForm*<br/>
Указывает на [XFORM](../../mfc/reference/xform-structure.md) структуру данных, который определяет преобразование для выполнения в области. Если этот указатель имеет значение NULL, используется единичное преобразование.

*nCount*<br/>
Указывает число байтов, на которые указывают *pRgnData*.

*pRgnData*<br/>
Указывает на [RGNDATA](../../mfc/reference/rgndata-structure.md) структуру данных, содержащую данные этой области.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Приложение может получать данные для региона, вызвав `CRgn::GetRegionData` функции.

##  <a name="createfrompath"></a>  CRgn::CreateFromPath

Создает область из пути, который выбран в контексте данного устройства.

```
BOOL CreateFromPath(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
Определяет контекст устройства, содержащий замкнутого контура.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекст устройства, определяемый *pDC* параметр должен содержать замкнутого контура. После `CreateFromPath` преобразует путь в область, Windows удаляет замкнутый контур из контекста устройства.

##  <a name="createpolygonrgn"></a>  CRgn::CreatePolygonRgn

Создает кусочно-линейной область.

```
BOOL CreatePolygonRgn(
    LPPOINT lpPoints,
    int nCount,
    int nMode);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из `POINT` структур или массив `CPoint` объектов. Каждая структура указывает координаты x и y координаты одной вершины многоугольника. `POINT` Структура имеет следующий вид:

```cpp
typedef struct tagPOINT {
    int x;
    int y;
} POINT;
```

*nCount*<br/>
Указывает количество `POINT` структуры или `CPoint` объектов в массиве, на которые указывают *lpPoints*.

*nMode*<br/>
Задает режим заполнения для региона. Этот параметр может быть АЛЬТЕРНАТИВНОГО или ПОВОРОТА.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Система закрывает многоугольника автоматически, при необходимости, нарисовав линию от последнее вершины, к первому. Итоговый области хранится в `CRgn` объекта.

Размер области ограничен 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.

Когда режим заполнения многоугольников АЛЬТЕРНАТИВНОГО, система заполняет область между сторон нечетных и четных многоугольников на каждой строки. То есть система заполняет область между первой и второй стороне, между третий и четвертый и т. д.

Когда режим заполнения многоугольников ЗАДНИЕ, система использует направление, в котором для определения необходимости заполнения области рисования фигуры. Каждый сегмент линии в экземпляре polygon рисуется по часовой стрелке или против часовой стрелки. Каждый раз, когда воображаемую линию, извлеченных из замкнутой области за пределы фигуры проходит через сегмент линии по часовой стрелке, счетчик увеличивается. Когда строка проходит через сегмент линии против часовой стрелки, уменьшается. Область заполняется в том случае, если счетчик имеет ненулевое значение, когда строке достигает внешней рисунка.

Когда приложение будет завершено, с помощью области, созданные с помощью `CreatePolygonRgn` функция, должен быть выбран регион out контекста устройства и использования `DeleteObject` функции, чтобы удалить его.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#146](../../mfc/codesnippet/cpp/crgn-class_3.cpp)]

##  <a name="createpolypolygonrgn"></a>  CRgn::CreatePolyPolygonRgn

Создает область, состоящее из последовательности закрытых многоугольников.

```
BOOL CreatePolyPolygonRgn(
    LPPOINT lpPoints,
    LPINT lpPolyCounts,
    int nCount,
    int nPolyFillMode);
```

### <a name="parameters"></a>Параметры

*lpPoints*<br/>
Указывает на массив из `POINT` структур или массив `CPoint` объектов, определяющего вершины закрашиваемого многоугольников. Каждого многоугольника должны быть явно закрыты, так как система не закрывает их автоматически. Последовательно указываются многоугольников. `POINT` Структура имеет следующий вид:

```cpp
typedef struct tagPOINT {
    int x;
    int y;
} POINT;
```

*lpPolyCounts*<br/>
Указывает массив целых чисел. Первое целое число указывает количество вершин в первом многоугольника в *lpPoints* массив, второе указывает количество вершин в многоугольник, второй и т. д.

*nCount*<br/>
Указывает общее число целых чисел в *lpPolyCounts* массива.

*nPolyFillMode*<br/>
Задает режим заполнения многоугольников. Это значение может быть АЛЬТЕРНАТИВНОГО или ПОВОРОТА.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Итоговый области хранится в `CRgn` объекта.

Возможно, многоугольников перекрытия, или они могут перекрываться.

Размер области ограничен 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.

Когда режим заполнения многоугольников АЛЬТЕРНАТИВНОГО, система заполняет область между сторон нечетных и четных многоугольников на каждой строки. То есть система заполняет область между первой и второй стороне, между третий и четвертый и т. д.

Когда режим заполнения многоугольников ЗАДНИЕ, система использует направление, в котором для определения необходимости заполнения области рисования фигуры. Каждый сегмент линии в экземпляре polygon рисуется по часовой стрелке или против часовой стрелки. Каждый раз, когда воображаемую линию, извлеченных из замкнутой области за пределы фигуры проходит через сегмент линии по часовой стрелке, счетчик увеличивается. Когда строка проходит через сегмент линии против часовой стрелки, уменьшается. Область заполняется в том случае, если счетчик имеет ненулевое значение, когда строке достигает внешней рисунка.

Когда приложение будет завершено, с помощью области, созданные с помощью `CreatePolyPolygonRgn` функция, должен быть выбран регион out контекста устройства и использования [CGDIObject::DeleteObject](../../mfc/reference/cgdiobject-class.md#deleteobject) функция-член для его удаления.

##  <a name="createrectrgn"></a>  CRgn::CreateRectRgn

Создает прямоугольную область, которая хранится в `CRgn` объекта.

```
BOOL CreateRectRgn(
    int x1,
    int y1,
    int x2,
    int y2);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Указывает логическую координату x левого верхнего угла области.

*y1*<br/>
Указывает логическую координату y верхнего левого угла области.

*x2*<br/>
Указывает логическую координату x правого нижнего угла области.

*y2*<br/>
Указывает логическую координату y правого нижнего угла области.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Размер области ограничен 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.

При завершении использования области, созданные `CreateRectRgn`, приложение должно использовать [CGDIObject::DeleteObject](../../mfc/reference/cgdiobject-class.md#deleteobject) функция-член для удаления области.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#147](../../mfc/codesnippet/cpp/crgn-class_4.cpp)]

Дополнительный пример см. в разделе [CRgn::CombineRgn](#combinergn).

##  <a name="createrectrgnindirect"></a>  CRgn::CreateRectRgnIndirect

Создает прямоугольную область, которая хранится в `CRgn` объекта.

```
BOOL CreateRectRgnIndirect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `RECT` структуры или `CRect` , содержащий логические координаты верхнего левого и правого нижнего углов области. `RECT` Структура имеет следующий вид:

```cpp
typedef struct tagRECT {
    int left;
    int top;
    int right;
    int bottom;
} RECT;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Размер области ограничен 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.

При завершении использования области, созданные `CreateRectRgnIndirect`, приложение должно использовать [CGDIObject::DeleteObject](../../mfc/reference/cgdiobject-class.md#deleteobject) функция-член для удаления области.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#148](../../mfc/codesnippet/cpp/crgn-class_5.cpp)]

##  <a name="createroundrectrgn"></a>  CRgn::CreateRoundRectRgn

Создает прямоугольную область со скругленными углами, хранимых в `CRgn` объекта.

```
BOOL CreateRoundRectRgn(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Указывает логическую координату x левого верхнего угла области.

*y1*<br/>
Указывает логическую координату y верхнего левого угла области.

*x2*<br/>
Указывает логическую координату x правого нижнего угла области.

*y2*<br/>
Указывает логическую координату y правого нижнего угла области.

*x3*<br/>
Задает ширину эллипса, используемый для создания прямоугольника с закругленными углами.

*Y3*<br/>
Задает высоту эллипса, используемый для создания прямоугольника с закругленными углами.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Размер области ограничен 32 767 по 32 767 логические устройства или 64 КБ памяти, какое значение меньше.

Когда приложение будет завершено, с помощью области, созданные с помощью `CreateRoundRectRgn` функция, должен быть выбран регион out контекста устройства и использования [CGDIObject::DeleteObject](../../mfc/reference/cgdiobject-class.md#deleteobject) функция-член для его удаления.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#149](../../mfc/codesnippet/cpp/crgn-class_6.cpp)]

##  <a name="crgn"></a>  CRgn::CRgn

Создает объект `CRgn`.

```
CRgn();
```

### <a name="remarks"></a>Примечания

`m_hObject` Член данных не содержит допустимый регион Windows GDI до инициализации объекта с одним или несколькими из других `CRgn` функций-членов.

### <a name="example"></a>Пример

  См. в примере [CRgn::CreateRoundRectRgn](#createroundrectrgn).

##  <a name="equalrgn"></a>  CRgn::EqualRgn

Определяет, эквивалентны в регион, хранящихся в ли заданной области `CRgn` объекта.

```
BOOL EqualRgn(CRgn* pRgn) const;
```

### <a name="parameters"></a>Параметры

*pRgn*<br/>
Определяет область.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если в двух регионах эквивалентны; в противном случае 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#150](../../mfc/codesnippet/cpp/crgn-class_7.cpp)]

##  <a name="fromhandle"></a>  CRgn::FromHandle

Возвращает указатель на `CRgn` объект для заданного дескриптора в регионе Windows.

```
static CRgn* PASCAL FromHandle(HRGN hRgn);
```

### <a name="parameters"></a>Параметры

*hRgn*<br/>
Указывает дескриптор для региона Windows.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CRgn` . Если функция не выполнена успешно, возвращается значение NULL.

### <a name="remarks"></a>Примечания

Если `CRgn` объект еще не присоединен к дескриптору, временный `CRgn` созданный и присоединенный объект. Этот временный `CRgn` объект является допустимым, только пока очередном приложение время простоя в свой цикл событий, после чего график все временные объекты будут удалены. Другими словами — это что временный объект допустима только во время обработки сообщения одного окна.

##  <a name="getregiondata"></a>  CRgn::GetRegionData

Заполняет указанный буфер данных, описывающий область.

```
int GetRegionData(
    LPRGNDATA lpRgnData,
    int nCount) const;
```

### <a name="parameters"></a>Параметры

*lpRgnData*<br/>
Указывает на [RGNDATA](../../mfc/reference/rgndata-structure.md) структура данных, которая получает информацию. Если этот параметр имеет значение NULL, возвращаемое значение содержит число байтов, необходимых для области данных.

*nCount*<br/>
Задает размер в байтах, *lpRgnData* буфера.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполняется успешно и *nCount* указывает значением достаточного числа байтов, возвращаемое значение всегда равно *nCount*. Если функция завершается с ошибкой или *nCount* указывает, меньше, чем достаточного количества байтов, возвращаемое значение равно 0 (ошибка).

### <a name="remarks"></a>Примечания

Эти данные включают размеры прямоугольника, составляющие области. Эта функция используется в сочетании с `CRgn::CreateFromData` функции.

##  <a name="getrgnbox"></a>  CRgn::GetRgnBox

Получает координаты ограничивающего прямоугольника `CRgn` объекта.

```
int GetRgnBox(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `RECT` структуры или `CRect` объект для получения координаты ограничивающего прямоугольника. `RECT` Структура имеет следующий вид:

`typedef struct tagRECT {`

`int left;`

`int top;`

`int right;`

`int bottom;`

`} RECT;`

### <a name="return-value"></a>Возвращаемое значение

Задает тип области. Это может быть любой из следующих значений:

- Регион COMPLEXREGION имеет перекрывающиеся границы.

- Регион NULLREGION пуст.

- Ошибка `CRgn` объект не указывает допустимый регион.

- Регион SIMPLEREGION не имеет перекрывающихся границ.

### <a name="example"></a>Пример

  См. в примере [CRgn::CreatePolygonRgn](#createpolygonrgn).

##  <a name="offsetrgn"></a>  CRgn::OffsetRgn

Перемещает область, хранящиеся в `CRgn` объекта с заданными смещениями.

```
int OffsetRgn(
    int x,
    int y);

int OffsetRgn(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает количество единиц для перемещения влево или вправо.

*y*<br/>
Указывает количество единиц для перемещения вверх или вниз.

*точка*<br/>
Координата по оси x *точки* указывает количество единиц для перемещения влево или вправо. Координата по оси y *точки* число единиц для перемещения вверх или вниз. *Точки* параметр может быть либо `POINT` структуры или `CPoint` объекта.

### <a name="return-value"></a>Возвращаемое значение

Тип новой области. Он может принимать любое из следующих значений:

- Регион COMPLEXREGION имеет перекрывающиеся границы.

- Недопустимый дескриптор области ошибки.

- Регион NULLREGION пуст.

- Регион SIMPLEREGION не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Функция перемещает области *x* единиц по оси и *y* единиц по оси y.

Значения координат области должно быть меньше или равно 32 767 и больше или равен – 32 768. *x* и *y* необходимо тщательно выбрать параметры для предотвращения координаты недопустимый регион.

### <a name="example"></a>Пример

  См. в примере [CRgn::CreateEllipticRgn](#createellipticrgn).

##  <a name="operator_hrgn"></a>  CRgn::operator HRGN

Этот оператор используется для получения присоединенного дескриптор Windows GDI `CRgn` объекта.

```
operator HRGN() const;
```

### <a name="return-value"></a>Возвращаемое значение

Если в случае успешного выполнения дескриптор объекта Windows GDI, представленных `CRgn` объекта; в противном случае — значение NULL.

### <a name="remarks"></a>Примечания

Этот оператор — оператор приведения, который поддерживает непосредственное использование объекта HRGN.

Дополнительные сведения об использовании графических объектов см. в статье [объектов график](/windows/desktop/gdi/graphic-objects) в пакете Windows SDK.

##  <a name="ptinregion"></a>  CRgn::PtInRegion

Проверяет ли точки, заданной параметром *x* и *y* находится в регионе, хранящиеся в `CRgn` объекта.

```
BOOL PtInRegion(
    int x,
    int y) const;

BOOL PtInRegion(POINT point) const;
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату x точки для проверки.

*y*<br/>
Указывает логическую координату y точки для проверки.

*точка*<br/>
X-y координаты и *точки* укажите x и y координаты точки для проверки значения. *Точки* параметр может быть `POINT` структуры или `CPoint` объекта.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если точка находится в регионе; в противном случае 0.

##  <a name="rectinregion"></a>  CRgn::RectInRegion

Определяет, является ли заданный любую часть прямоугольника *lpRect* находится в пределах области, хранящиеся в `CRgn` объекта.

```
BOOL RectInRegion(LPCRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на `RECT` структуры или `CRect` объекта. `RECT` Структура имеет следующий вид:

```cpp
typedef struct tagRECT {
    int left;
    int top;
    int right;
    int bottom;
} RECT;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если они вызваны любую часть указанного прямоугольника в пределах области; в противном случае 0.

##  <a name="setrectrgn"></a>  CRgn::SetRectRgn

Создает прямоугольной области.

```
void SetRectRgn(
    int x1,
    int y1,
    int x2,
    int y2);

void SetRectRgn(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла прямоугольной области.

*y1*<br/>
Задает координату по оси y верхнего левого угла прямоугольной области.

*x2*<br/>
Задает координату по оси x нижнего правого угла прямоугольной области.

*y2*<br/>
Задает координату по оси y нижнего правого угла прямоугольной области.

*lpRect*<br/>
Задает прямоугольную область. Может быть либо указателем `RECT` структуры или `CRect` объекта.

### <a name="remarks"></a>Примечания

В отличие от [CreateRectRgn](#createrectrgn), однако его не выделяет любой дополнительный объем памяти в локальной куче приложения Windows. Вместо этого он использует пространство, выделенное для региона, хранящихся в `CRgn` объекта. Это означает, что `CRgn` объект должен уже инициализированы с допустимым регионом Windows перед вызовом `SetRectRgn`. Точки, выданный *x1*, *y1*, *x2*, и *y2* указать минимальный размер выделенного пространства.

Используйте эту функцию вместо `CreateRectRgn` функции-члена во избежание вызовы диспетчеру локальной памяти.

## <a name="see-also"></a>См. также

[Класс CWnd](../../mfc/reference/cwnd-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)

