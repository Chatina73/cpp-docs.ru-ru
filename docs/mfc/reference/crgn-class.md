---
description: 'Дополнительные сведения о: Кргн Class'
title: Класс Кргн
ms.date: 11/04/2016
f1_keywords:
- CRgn
- AFXWIN/CRgn
- AFXWIN/CRgn::CRgn
- AFXWIN/CRgn::CombineRgn
- AFXWIN/CRgn::CopyRgn
- AFXWIN/CRgn::CreateEllipticRgn
- AFXWIN/CRgn::CreateEllipticRgnIndirect
- AFXWIN/CRgn::CreateFromData
- AFXWIN/CRgn::CreateFromPath
- AFXWIN/CRgn::CreatePolygonRgn
- AFXWIN/CRgn::CreatePolyPolygonRgn
- AFXWIN/CRgn::CreateRectRgn
- AFXWIN/CRgn::CreateRectRgnIndirect
- AFXWIN/CRgn::CreateRoundRectRgn
- AFXWIN/CRgn::EqualRgn
- AFXWIN/CRgn::FromHandle
- AFXWIN/CRgn::GetRegionData
- AFXWIN/CRgn::GetRgnBox
- AFXWIN/CRgn::OffsetRgn
- AFXWIN/CRgn::PtInRegion
- AFXWIN/CRgn::RectInRegion
- AFXWIN/CRgn::SetRectRgn
helpviewer_keywords:
- CRgn [MFC], CRgn
- CRgn [MFC], CombineRgn
- CRgn [MFC], CopyRgn
- CRgn [MFC], CreateEllipticRgn
- CRgn [MFC], CreateEllipticRgnIndirect
- CRgn [MFC], CreateFromData
- CRgn [MFC], CreateFromPath
- CRgn [MFC], CreatePolygonRgn
- CRgn [MFC], CreatePolyPolygonRgn
- CRgn [MFC], CreateRectRgn
- CRgn [MFC], CreateRectRgnIndirect
- CRgn [MFC], CreateRoundRectRgn
- CRgn [MFC], EqualRgn
- CRgn [MFC], FromHandle
- CRgn [MFC], GetRegionData
- CRgn [MFC], GetRgnBox
- CRgn [MFC], OffsetRgn
- CRgn [MFC], PtInRegion
- CRgn [MFC], RectInRegion
- CRgn [MFC], SetRectRgn
ms.assetid: d904da84-76aa-481e-8780-b09485f49e64
ms.openlocfilehash: 7506f7fa839c36e079ffe986052a3564ddf0169e
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97264860"
---
# <a name="crgn-class"></a>Класс Кргн

Инкапсулирует область интерфейса графических устройств Windows (GDI).

## <a name="syntax"></a>Синтаксис

```
class CRgn : public CGdiObject
```

## <a name="members"></a>Члены

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|[Кргн:: Кргн](#crgn)|Формирует объект `CRgn`.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[Кргн:: Комбинергн](#combinergn)|Задает `CRgn` объект таким образом, что он эквивалентен объединению двух указанных `CRgn` объектов.|
|[Кргн:: Копиргн](#copyrgn)|Задает `CRgn` объект таким образом, чтобы он был копией указанного `CRgn` объекта.|
|[Кргн:: Креатиллиптикргн](#createellipticrgn)|Инициализирует `CRgn` объект с помощью эллиптической области.|
|[CRgn::CreateEllipticRgnIndirect](#createellipticrgnindirect)|Инициализирует `CRgn` объект с помощью эллиптической области, определяемой структурой [Rect](/windows/win32/api/windef/ns-windef-rect) .|
|[Кргн:: Креатефромдата](#createfromdata)|Создает регион из заданной области и данных преобразования.|
|[Кргн:: Креатефромпас](#createfrompath)|Создает регион из пути, выбранного в заданном контексте устройства.|
|[Кргн:: Креатеполигонргн](#createpolygonrgn)|Инициализирует `CRgn` объект с многоугольной областью. При необходимости система закрывает многоугольник автоматически, рисуя линию из последней вершины в первую.|
|[CRgn::CreatePolyPolygonRgn](#createpolypolygonrgn)|Инициализирует `CRgn` объект с областью, состоящей из ряда замкнутых многоугольников. Многоугольники могут быть несвязанными, или они могут перекрываться.|
|[Кргн:: Креатеректргн](#createrectrgn)|Инициализирует `CRgn` объект с прямоугольной областью.|
|[Кргн:: Креатеректргниндирект](#createrectrgnindirect)|Инициализирует `CRgn` объект с прямоугольной областью, определенной параметром [Rect](/windows/win32/api/windef/ns-windef-rect)структуры.|
|[Кргн:: Креатераундректргн](#createroundrectrgn)|Инициализирует `CRgn` объект с прямоугольной областью с закругленными углами.|
|[Кргн:: Екуалргн](#equalrgn)|Проверяет два `CRgn` объекта, чтобы определить, являются ли они эквивалентными.|
|[Кргн:: FromHandle](#fromhandle)|Возвращает указатель на `CRgn` объект при наличии маркера для области Windows.|
|[Кргн:: Жетрегиондата](#getregiondata)|Заполняет указанный буфер данными, описывающими заданный регион.|
|[Кргн:: Жетргнбокс](#getrgnbox)|Извлекает координаты ограничивающего прямоугольника `CRgn` объекта.|
|[Кргн:: Оффсетргн](#offsetrgn)|Перемещает `CRgn` объект по указанным смещениям.|
|[Кргн::P Тинрегион](#ptinregion)|Определяет, находится ли указанная точка в области.|
|[Кргн:: Ректинрегион](#rectinregion)|Определяет, находится ли какая-либо часть указанного прямоугольника в границах области.|
|[Кргн:: Сетректргн](#setrectrgn)|Задает `CRgn` объект для указанной прямоугольной области.|

### <a name="public-operators"></a>Открытые операторы

|Имя|Описание|
|----------|-----------------|
|[Кргн:: operator ХРГН](#operator_hrgn)|Возвращает маркер Windows, содержащийся в `CRgn` объекте.|

## <a name="remarks"></a>Комментарии

Регион — это эллиптическая или Многоугольная область внутри окна. Для использования регионов используются функции членов класса `CRgn` с функциями обрезки, определенными как члены класса `CDC` .

Функции элементов `CRgn` CREATE, ALTER и извлечение сведений о объекте Region, для которого они вызываются.

Дополнительные сведения об использовании см `CRgn` . в разделе [графические объекты](../../mfc/graphic-objects.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CGdiObject](../../mfc/reference/cgdiobject-class.md)

`CRgn`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

## <a name="crgncombinergn"></a><a name="combinergn"></a> Кргн:: Комбинергн

Создает новый регион GDI, объединяя два существующих региона.

```
int CombineRgn(
    CRgn* pRgn1,
    CRgn* pRgn2,
    int nCombineMode);
```

### <a name="parameters"></a>Параметры

*pRgn1*<br/>
Определяет существующий регион.

*pRgn2*<br/>
Определяет существующий регион.

*нкомбинемоде*<br/>
Задает операцию, которая должна быть выполнена при объединении двух исходных областей. Это может быть одно из следующих значений:

- RGN_AND Использует перекрывающиеся области обоих регионов (пересечения).

- RGN_COPY создает копию региона 1 (определяется по *pRgn1*).

- RGN_DIFF создает регион, состоящий из областей региона 1 (идентифицируемых *pRgn1*), которые не являются частью региона 2 (идентифицируемого *pRgn2*).

- RGN_OR объединяет оба региона целиком (объединение).

- RGN_XOR объединяет оба региона, но удаляет перекрывающиеся области.

### <a name="return-value"></a>Возвращаемое значение

Указывает тип результирующего региона. Может иметь одно из следующих значений.

- КОМПЛЕКСРЕГИОН. Новая область содержит перекрывающиеся границы.

- Ошибка: новый регион не создан.

- НУЛЛРЕГИОН новый регион пуст.

- В новом регионе СИМПЛЕРЕГИОН нет перекрывающихся границ.

### <a name="remarks"></a>Комментарии

Регионы объединяются, как указано в *нкомбинемоде*.

Два указанных региона объединяются, и результирующий маркер области сохраняется в `CRgn` объекте. Таким способом, любой регион, хранящийся в `CRgn` объекте, заменяется комбинированной областью.

Размер региона ограничен 32 767 на 32 767 логических устройств или 64 КБ памяти, в зависимости от того, что меньше.

Используйте [копиргн](#copyrgn) , чтобы просто скопировать один регион в другой регион.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#144](../../mfc/codesnippet/cpp/crgn-class_1.cpp)]

## <a name="crgncopyrgn"></a><a name="copyrgn"></a> Кргн:: Копиргн

Копирует регион, определенный параметром *пргнсрк* , в `CRgn` объект.

```
int CopyRgn(CRgn* pRgnSrc);
```

### <a name="parameters"></a>Параметры

*пргнсрк*<br/>
Определяет существующий регион.

### <a name="return-value"></a>Возвращаемое значение

Указывает тип результирующего региона. Может иметь одно из следующих значений.

- КОМПЛЕКСРЕГИОН. Новая область содержит перекрывающиеся границы.

- Ошибка: новый регион не создан.

- НУЛЛРЕГИОН новый регион пуст.

- В новом регионе СИМПЛЕРЕГИОН нет перекрывающихся границ.

### <a name="remarks"></a>Комментарии

Новый регион заменяет регион, который ранее хранился в `CRgn` объекте. Эта функция является особым случаем функции-члена [комбинергн](#combinergn) .

### <a name="example"></a>Пример

  См. пример для [кргн:: креатиллиптикргн](#createellipticrgn).

## <a name="crgncreateellipticrgn"></a><a name="createellipticrgn"></a> Кргн:: Креатиллиптикргн

Создает эллиптическую область.

```
BOOL CreateEllipticRgn(
    int x1,
    int y1,
    int x2,
    int y2);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает логическую координату по оси x верхнего левого угла ограничивающего прямоугольника эллипса.

*Y1*<br/>
Задает логическую координату по оси y верхнего левого угла ограничивающего прямоугольника эллипса.

*штук*<br/>
Задает логическую координату по оси x правого нижнего угла ограничивающего прямоугольника эллипса.

*Y2*<br/>
Задает логическую координату по оси y правого нижнего угла ограничивающего прямоугольника эллипса.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция завершилась удачно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

Область определяется ограничивающим прямоугольником, заданным *x1*, *Y1*, *x2* и *Y2*. Регион хранится в `CRgn` объекте.

Размер региона ограничен 32 767 на 32 767 логических устройств или 64 КБ памяти, в зависимости от того, что меньше.

После завершения использования региона, созданного с помощью `CreateEllipticRgn` функции, приложение должно выбрать регион вне контекста устройства и использовать `DeleteObject` функцию, чтобы удалить ее.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#145](../../mfc/codesnippet/cpp/crgn-class_2.cpp)]

## <a name="crgncreateellipticrgnindirect"></a><a name="createellipticrgnindirect"></a> Кргн:: Креатиллиптикргниндирект

Создает эллиптическую область.

```
BOOL CreateEllipticRgnIndirect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на `RECT` структуру или `CRect` объект, содержащий логические координаты левого верхнего и правого нижнего угла ограничивающего прямоугольника эллипса.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция завершилась удачно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

Регион определяется структурой или объектом, на который указывает *лпрект* , и хранится в `CRgn` объекте.

Размер региона ограничен 32 767 на 32 767 логических устройств или 64 КБ памяти, в зависимости от того, что меньше.

После завершения использования региона, созданного с помощью `CreateEllipticRgnIndirect` функции, приложение должно выбрать регион вне контекста устройства и использовать `DeleteObject` функцию, чтобы удалить ее.

### <a name="example"></a>Пример

  См. пример для [кргн:: креатеректргниндирект](#createrectrgnindirect).

## <a name="crgncreatefromdata"></a><a name="createfromdata"></a> Кргн:: Креатефромдата

Создает регион из заданной области и данных преобразования.

```
BOOL CreateFromData(
    const XFORM* lpXForm,
    int nCount,
    const RGNDATA* pRgnData);
```

### <a name="parameters"></a>Параметры

*лпксформ*<br/>
Указывает на структуру ATA [XForm](/windows/win32/api/wingdi/ns-wingdi-xform), которая определяет преобразование, выполняемое в регионе. Если этот указатель равен NULL, используется преобразование Identity.

*нкаунт*<br/>
Указывает число байтов, на которое указывает *пргндата*.

*пргндата*<br/>
Указывает на структуру данных [ргндата](/windows/win32/api/wingdi/ns-wingdi-rgndata) , содержащую данные о регионе.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

Приложение может получать данные для региона путем вызова `CRgn::GetRegionData` функции.

## <a name="crgncreatefrompath"></a><a name="createfrompath"></a> Кргн:: Креатефромпас

Создает регион из пути, выбранного в заданном контексте устройства.

```
BOOL CreateFromPath(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*Хозяин*<br/>
Определяет контекст устройства, который содержит закрытый путь.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

Контекст устройства, определяемый параметром *PDC* , должен содержать закрытый путь. После того как `CreateFromPath` преобразует путь в область, Windows удаляет закрытый путь из контекста устройства.

## <a name="crgncreatepolygonrgn"></a><a name="createpolygonrgn"></a> Кргн:: Креатеполигонргн

Создает многоугольную область.

```
BOOL CreatePolygonRgn(
    LPPOINT lpPoints,
    int nCount,
    int nMode);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив `POINT` структур или массив `CPoint` объектов. Каждая структура задает координату x и координату y одной вершины многоугольника. `POINT`Структура имеет следующий вид:

```cpp
typedef struct tagPOINT {
    int x;
    int y;
} POINT;
```

*нкаунт*<br/>
Указывает количество `POINT` структур или `CPoint` объектов в массиве, на которое указывает *лппоинтс*.

*нмоде*<br/>
Задает режим заполнения для региона. Этот параметр может быть либо АЛЬТЕРНАТИВным, либо ОБМОТКой.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция завершилась удачно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

При необходимости система закрывает многоугольник автоматически, рисуя линию из последней вершины в первую. Результирующий регион хранится в `CRgn` объекте.

Размер региона ограничен 32 767 на 32 767 логических устройств или 64 КБ памяти, в зависимости от того, что меньше.

Если в качестве АЛЬТЕРНАТИВы используется режим заливки многоугольников, система заполняет область между нечетными и четными числами многоугольниками в каждой строке сканирования. Это значит, что система заполняет область между первой и второй сторон, между третьей и четвертой сторон и т. д.

Когда режим заливки многоугольников находится в режиме поворота, система использует направление рисования фигуры, чтобы определить, следует ли заполнить область. Каждый сегмент линии многоугольника рисуется либо по часовой стрелке, либо в направлении против часовой стрелки. Каждый раз, когда мнимая линия, нарисованная из замкнутой области на внешнюю фигуру, проходит через отрезок по часовой стрелке, счетчик увеличивается. Если линия проходит через сегмент в виде линии против часовой стрелки, счетчик уменьшается. Область заполняется, если значение счетчика не равно нулю, когда линия попадает за пределы фигуры.

Когда приложение завершило работу с регионом, созданным с помощью `CreatePolygonRgn` функции, он должен выбрать регион из контекста устройства и использовать функцию, `DeleteObject` чтобы удалить ее.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#146](../../mfc/codesnippet/cpp/crgn-class_3.cpp)]

## <a name="crgncreatepolypolygonrgn"></a><a name="createpolypolygonrgn"></a> Кргн:: Креатеполиполигонргн

Создает регион, состоящий из ряда замкнутых многоугольников.

```
BOOL CreatePolyPolygonRgn(
    LPPOINT lpPoints,
    LPINT lpPolyCounts,
    int nCount,
    int nPolyFillMode);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив `POINT` структур или массив `CPoint` объектов, определяющих вершины многоугольников. Каждый многоугольник должен быть явно закрыт, так как система не закрывает их автоматически. Многоугольники указываются последовательно. `POINT`Структура имеет следующий вид:

```cpp
typedef struct tagPOINT {
    int x;
    int y;
} POINT;
```

*лпполикаунтс*<br/>
Указывает на массив целых чисел. Первое целое число указывает количество вершин в первом многоугольнике в массиве *лппоинтс* , второе целое число указывает количество вершин во втором многоугольнике и т. д.

*нкаунт*<br/>
Задает общее число целочисленных значений в массиве *лпполикаунтс* .

*нполифиллмоде*<br/>
Задает режим заполнения многоугольников. Это значение может быть либо АЛЬТЕРНАТИВным, либо ОБМОТКой.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция завершилась удачно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

Результирующий регион хранится в `CRgn` объекте.

Многоугольники могут быть несвязанными, или они могут перекрываться.

Размер региона ограничен 32 767 на 32 767 логических устройств или 64 КБ памяти, в зависимости от того, что меньше.

Если в качестве АЛЬТЕРНАТИВы используется режим заливки многоугольников, система заполняет область между нечетными и четными числами многоугольниками в каждой строке сканирования. Это значит, что система заполняет область между первой и второй сторон, между третьей и четвертой сторон и т. д.

Когда режим заливки многоугольников находится в режиме поворота, система использует направление рисования фигуры, чтобы определить, следует ли заполнить область. Каждый сегмент линии многоугольника рисуется либо по часовой стрелке, либо в направлении против часовой стрелки. Каждый раз, когда мнимая линия, нарисованная из замкнутой области на внешнюю фигуру, проходит через отрезок по часовой стрелке, счетчик увеличивается. Если линия проходит через сегмент в виде линии против часовой стрелки, счетчик уменьшается. Область заполняется, если значение счетчика не равно нулю, когда линия попадает за пределы фигуры.

Когда приложение завершило работу с регионом, созданным с помощью `CreatePolyPolygonRgn` функции, он должен выбрать регион из контекста устройства и использовать функцию-член [кгдиобжект::D елетеобжект](../../mfc/reference/cgdiobject-class.md#deleteobject) , чтобы удалить ее.

## <a name="crgncreaterectrgn"></a><a name="createrectrgn"></a> Кргн:: Креатеректргн

Создает прямоугольную область, которая хранится в `CRgn` объекте.

```
BOOL CreateRectRgn(
    int x1,
    int y1,
    int x2,
    int y2);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает логическую координату по оси x верхнего левого угла области.

*Y1*<br/>
Задает логическую координату по оси y верхнего левого угла области.

*штук*<br/>
Задает логическую координату по оси x правого нижнего угла области.

*Y2*<br/>
Задает логическую координату по оси y правого нижнего угла области.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция завершилась удачно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

Размер региона ограничен 32 767 на 32 767 логических устройств или 64 КБ памяти, в зависимости от того, что меньше.

После завершения использования региона, созданного `CreateRectRgn` , приложение должно использовать функцию-член [кгдиобжект::D елетеобжект](../../mfc/reference/cgdiobject-class.md#deleteobject) для удаления региона.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#147](../../mfc/codesnippet/cpp/crgn-class_4.cpp)]

Дополнительные примеры см. в разделе [кргн:: комбинергн](#combinergn).

## <a name="crgncreaterectrgnindirect"></a><a name="createrectrgnindirect"></a> Кргн:: Креатеректргниндирект

Создает прямоугольную область, которая хранится в `CRgn` объекте.

```
BOOL CreateRectRgnIndirect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на `RECT` структуру или `CRect` объект, который содержит логические координаты левого верхнего и правого нижнего угла области. `RECT`Структура имеет следующий вид:

```cpp
typedef struct tagRECT {
    int left;
    int top;
    int right;
    int bottom;
} RECT;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция завершилась удачно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

Размер региона ограничен 32 767 на 32 767 логических устройств или 64 КБ памяти, в зависимости от того, что меньше.

После завершения использования региона, созданного `CreateRectRgnIndirect` , приложение должно использовать функцию-член [кгдиобжект::D елетеобжект](../../mfc/reference/cgdiobject-class.md#deleteobject) для удаления региона.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#148](../../mfc/codesnippet/cpp/crgn-class_5.cpp)]

## <a name="crgncreateroundrectrgn"></a><a name="createroundrectrgn"></a> Кргн:: Креатераундректргн

Создает прямоугольную область с закругленными углами, хранящимися в `CRgn` объекте.

```
BOOL CreateRoundRectRgn(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает логическую координату по оси x верхнего левого угла области.

*Y1*<br/>
Задает логическую координату по оси y верхнего левого угла области.

*штук*<br/>
Задает логическую координату по оси x правого нижнего угла области.

*Y2*<br/>
Задает логическую координату по оси y правого нижнего угла области.

*x3*<br/>
Задает ширину эллипса, используемого для создания скругленных углов.

*Y3*<br/>
Задает высоту эллипса, используемого для создания скругленных углов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция завершилась удачно; в противном случае — 0.

### <a name="remarks"></a>Комментарии

Размер региона ограничен 32 767 на 32 767 логических устройств или 64 КБ памяти, в зависимости от того, что меньше.

Когда приложение завершило работу с регионом, созданным с помощью `CreateRoundRectRgn` функции, он должен выбрать регион из контекста устройства и использовать функцию-член [кгдиобжект::D елетеобжект](../../mfc/reference/cgdiobject-class.md#deleteobject) , чтобы удалить ее.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#149](../../mfc/codesnippet/cpp/crgn-class_6.cpp)]

## <a name="crgncrgn"></a><a name="crgn"></a> Кргн:: Кргн

Формирует объект `CRgn`.

```
CRgn();
```

### <a name="remarks"></a>Комментарии

`m_hObject`Элемент данных не содержит допустимого региона Windows GDI, пока объект не будет инициализирован с помощью одной или нескольких других `CRgn` функций-членов.

### <a name="example"></a>Пример

  См. пример для [кргн:: креатераундректргн](#createroundrectrgn).

## <a name="crgnequalrgn"></a><a name="equalrgn"></a> Кргн:: Екуалргн

Определяет, эквивалентен ли заданный регион области, хранящейся в `CRgn` объекте.

```
BOOL EqualRgn(CRgn* pRgn) const;
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Определяет регион.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если два региона эквивалентны; в противном случае — 0.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#150](../../mfc/codesnippet/cpp/crgn-class_7.cpp)]

## <a name="crgnfromhandle"></a><a name="fromhandle"></a> Кргн:: FromHandle

Возвращает указатель на `CRgn` объект при наличии маркера для области Windows.

```
static CRgn* PASCAL FromHandle(HRGN hRgn);
```

### <a name="parameters"></a>Параметры

*хргн*<br/>
Задает маркер для области Windows.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект `CRgn`. Если функция не была выполнена успешно, возвращается значение NULL.

### <a name="remarks"></a>Комментарии

Если `CRgn` объект еще не присоединен к обработчику, `CRgn` создается и прикрепляется временный объект. Этот временный `CRgn` объект действителен только до тех пор, пока приложение не найдет время простоя в цикле событий, во время которого все временные графические объекты будут удалены. Другой способ сказать, что временный объект допустим только во время обработки одного сообщения окна.

## <a name="crgngetregiondata"></a><a name="getregiondata"></a> Кргн:: Жетрегиондата

Заполняет указанный буфер данными, описывающими регион.

```
int GetRegionData(
    LPRGNDATA lpRgnData,
    int nCount) const;
```

### <a name="parameters"></a>Параметры

*лпргндата*<br/>
Указывает на структуру данных [ргндата](/windows/win32/api/wingdi/ns-wingdi-rgndata) , которая получает информацию. Если этот параметр имеет значение NULL, возвращаемое значение содержит число байтов, необходимых для данных региона.

*нкаунт*<br/>
Задает размер (в байтах) буфера *лпргндата* .

### <a name="return-value"></a>Возвращаемое значение

Если функция выполнена удачно и *нкаунт* указывает достаточное число байтов, возвращаемое значение всегда равно *нкаунт*. Если функция завершается с ошибкой или если *нкаунт* указывает меньшее количество байтов, возвращается значение 0 (ошибка).

### <a name="remarks"></a>Комментарии

Эти данные включают размеры прямоугольников, составляющих регион. Эта функция используется в сочетании с `CRgn::CreateFromData` функцией.

## <a name="crgngetrgnbox"></a><a name="getrgnbox"></a> Кргн:: Жетргнбокс

Извлекает координаты ограничивающего прямоугольника `CRgn` объекта.

```
int GetRgnBox(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на `RECT` структуру или `CRect` объект для получения координат ограничивающего прямоугольника. `RECT`Структура имеет следующий вид:

`typedef struct tagRECT {`

`int left;`

`int top;`

`int right;`

`int bottom;`

`} RECT;`

### <a name="return-value"></a>Возвращаемое значение

Задает тип области. В качестве такой точки может выступать любой из следующих вариантов:

- КОМПЛЕКСРЕГИОН региона содержит перекрывающиеся границы.

- НУЛЛРЕГИОН регион пуст.

- Объект ERROR не `CRgn` указывает допустимую область.

- У региона СИМПЛЕРЕГИОН нет перекрывающихся границ.

### <a name="example"></a>Пример

  См. пример для [кргн:: креатеполигонргн](#createpolygonrgn).

## <a name="crgnoffsetrgn"></a><a name="offsetrgn"></a> Кргн:: Оффсетргн

Перемещает область, хранящуюся в `CRgn` объекте, по заданному смещению.

```
int OffsetRgn(
    int x,
    int y);

int OffsetRgn(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает число единиц, которые должны быть перемещены влево или вправо.

*y*<br/>
Указывает число единиц, которое необходимо переместить вверх или вниз.

*точки*<br/>
Координата x *точки* указывает число единиц, которые должны быть перемещены влево или вправо. Координата y *точки* указывает число единиц, которое нужно переместить вверх или вниз. Параметр *точки* может быть либо `POINT` структурой, либо `CPoint` объектом.

### <a name="return-value"></a>Возвращаемое значение

Тип нового региона. Это может быть одно из следующих значений:

- КОМПЛЕКСРЕГИОН региона содержит перекрывающиеся границы.

- Недопустимый маркер области ошибок.

- НУЛЛРЕГИОН регион пуст.

- У региона СИМПЛЕРЕГИОН нет перекрывающихся границ.

### <a name="remarks"></a>Комментарии

Функция перемещает единицы измерения *x* вдоль осей x и *y* вдоль оси y.

Значения координат региона должны быть меньше или равными 32 767 и больше или равны-32 768. Для предотвращения недопустимых координат региона необходимо тщательно выбрать параметры *x* и *y* .

### <a name="example"></a>Пример

  См. пример для [кргн:: креатиллиптикргн](#createellipticrgn).

## <a name="crgnoperator-hrgn"></a><a name="operator_hrgn"></a> Кргн:: operator ХРГН

Этот оператор используется для получения подключенного маркера GDI Windows `CRgn` объекта.

```
operator HRGN() const;
```

### <a name="return-value"></a>Возвращаемое значение

В случае успеха — обработчик для объекта Windows GDI, представленного `CRgn` объектом; в противном случае — null.

### <a name="remarks"></a>Комментарии

Этот оператор является оператором приведения, который поддерживает прямое использование объекта ХРГН.

Дополнительные сведения об использовании графических объектов см. в разделе [графические объекты](/windows/win32/gdi/graphic-objects) статьи Windows SDK.

## <a name="crgnptinregion"></a><a name="ptinregion"></a> Кргн::P Тинрегион

Проверяет, находится ли точка, заданная *x* и *y* , в области, хранящейся в `CRgn` объекте.

```
BOOL PtInRegion(
    int x,
    int y) const;

BOOL PtInRegion(POINT point) const;
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x проверяемой точки.

*y*<br/>
Задает логическую координату y проверяемой точки.

*точки*<br/>
Координаты x и y *точки* определяют координаты x и y точки, для которой нужно проверить значение. Параметр *точки* может быть либо `POINT` структурой, либо `CPoint` объектом.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если точка находится в регионе; в противном случае — 0.

## <a name="crgnrectinregion"></a><a name="rectinregion"></a> Кргн:: Ректинрегион

Определяет, находится ли любая часть прямоугольника, заданная параметром *лпрект* , в границах области, хранящейся в `CRgn` объекте.

```
BOOL RectInRegion(LPCRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на `RECT` структуру или `CRect` объект. `RECT`Структура имеет следующий вид:

```cpp
typedef struct tagRECT {
    int left;
    int top;
    int right;
    int bottom;
} RECT;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если любая часть указанного прямоугольника находится в границах области. в противном случае — 0.

## <a name="crgnsetrectrgn"></a><a name="setrectrgn"></a> Кргн:: Сетректргн

Создает прямоугольную область.

```cpp
void SetRectRgn(
    int x1,
    int y1,
    int x2,
    int y2);

void SetRectRgn(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла прямоугольной области.

*Y1*<br/>
Задает координату по оси y верхнего левого угла прямоугольной области.

*штук*<br/>
Задает координату по оси x правого нижнего угла прямоугольной области.

*Y2*<br/>
Задает координату по оси y правого нижнего угла прямоугольной области.

*лпрект*<br/>
Задает прямоугольную область. Может быть либо указателем на `RECT` структуру, либо `CRect` объектом.

### <a name="remarks"></a>Комментарии

Однако в отличие от [креатеректргн](#createrectrgn), она не выделяет дополнительную память из локальной кучи приложений Windows. Вместо этого используется пространство, выделенное для региона, хранящегося в `CRgn` объекте. Это означает, что `CRgn` перед вызовом объект должен быть уже инициализирован с помощью допустимой области Windows `SetRectRgn` . Точки, заданные *x1*, *Y1*, *x2* и *Y2* , задают минимальный размер выделенного пространства.

Используйте эту функцию вместо `CreateRectRgn` функции члена, чтобы избежать вызовов диспетчера локальной памяти.

## <a name="see-also"></a>См. также раздел

[CWnd, класс](../../mfc/reference/cwnd-class.md)<br/>
[Иерархическая диаграмма](../../mfc/hierarchy-chart.md)
