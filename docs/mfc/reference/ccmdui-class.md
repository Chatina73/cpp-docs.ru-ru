---
title: Класс поддержка CCmdUI
ms.date: 09/06/2019
f1_keywords:
- CCmdUI
- AFXWIN/CCmdUI
- AFXWIN/CCmdUI::ContinueRouting
- AFXWIN/CCmdUI::Enable
- AFXWIN/CCmdUI::SetCheck
- AFXWIN/CCmdUI::SetRadio
- AFXWIN/CCmdUI::SetText
- AFXWIN/CCmdUI::m_nID
- AFXWIN/CCmdUI::m_nIndex
- AFXWIN/CCmdUI::m_pMenu
- AFXWIN/CCmdUI::m_pOther
- AFXWIN/CCmdUI::m_pSubMenu
helpviewer_keywords:
- CCmdUI [MFC], ContinueRouting
- CCmdUI [MFC], Enable
- CCmdUI [MFC], SetCheck
- CCmdUI [MFC], SetRadio
- CCmdUI [MFC], SetText
- CCmdUI [MFC], m_nID
- CCmdUI [MFC], m_nIndex
- CCmdUI [MFC], m_pMenu
- CCmdUI [MFC], m_pOther
- CCmdUI [MFC], m_pSubMenu
ms.assetid: 04eaaaf5-f510-48ab-b425-94665ba24766
ms.openlocfilehash: 42aec2937cd81ebbb50482321b8deae001723d3a
ms.sourcegitcommit: 3e8fa01f323bc5043a48a0c18b855d38af3648d4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78883630"
---
# <a name="ccmdui-class"></a>Класс поддержка CCmdUI

Используется только в обработчике `ON_UPDATE_COMMAND_UI` в классе, производном от `CCmdTarget`.

## <a name="syntax"></a>Синтаксис

```
class CCmdUI
```

## <a name="members"></a>Члены

### <a name="public-methods"></a>Открытые методы

|Имя|Description|
|----------|-----------------|
|[Поддержка CCmdUI:: Континуераутинг](#continuerouting)|Указывает механизму маршрутизации команд продолжить маршрутизацию текущего сообщения в цепочку обработчиков.|
|[Поддержка CCmdUI:: enable](#enable)|Включает или отключает элемент пользовательского интерфейса для этой команды.|
|[Поддержка CCmdUI:: Сетчекк](#setcheck)|Задает состояние проверки элемента пользовательского интерфейса для этой команды.|
|[Поддержка CCmdUI:: Сетрадио](#setradio)|Как и функция члена `SetCheck`, но работает с группами переключателей.|
|[Поддержка CCmdUI:: SetText](#settext)|Задает текст для элемента пользовательского интерфейса для этой команды.|

### <a name="public-data-members"></a>Открытые элементы данных

|Имя|Description|
|----------|-----------------|
|[Поддержка CCmdUI:: m_nID](#m_nid)|Идентификатор объекта пользовательского интерфейса.|
|[Поддержка CCmdUI:: m_nIndex](#m_nindex)|Индекс объекта пользовательского интерфейса.|
|[Поддержка CCmdUI:: m_pMenu](#m_pmenu)|Указывает на меню, представленное объектом `CCmdUI`.|
|[Поддержка CCmdUI:: m_pOther](#m_pother)|Указывает на объект окна, который отправил уведомление.|
|[Поддержка CCmdUI:: m_pSubMenu](#m_psubmenu)|Указывает на вложенное меню, представленное объектом `CCmdUI`.|

## <a name="remarks"></a>Remarks

`CCmdUI` не имеет базового класса.

Когда пользователь приложения извлекает меню, каждый элемент меню должен определить, должен ли он отображаться как включенный или отключенный. Цель команды меню предоставляет эти сведения путем реализации обработчика ON_UPDATE_COMMAND_UI. Для каждого объекта командного интерфейса пользователя в приложении используйте [мастер классов](mfc-class-wizard.md) или окно **свойств** (в **представление классов**), чтобы создать запись карты сообщений и прототип функции для каждого обработчика.

При извлечении меню платформа ищет и вызывает каждый обработчик ON_UPDATE_COMMAND_UI, каждый обработчик вызывает `CCmdUI` функции-члены, такие как `Enable` и `Check`, а платформа соответствующим образом отображает каждый пункт меню.

Пункт меню можно заменить на кнопку панели элементов управления или другой объект пользовательского интерфейса команды, не изменяя код в обработчике `ON_UPDATE_COMMAND_UI`.

В следующей таблице приведены сводные сведения о функциях-членах `CCmdUI`эффектов в различных элементах пользовательского интерфейса команды.

|Элемент пользовательского интерфейса|Включить|сетчекк|сетрадио|SetText|
|--------------------------|------------|--------------|--------------|-------------|
|Элемент меню|Включает или отключает|Проверяет или снимает|Проверяет с помощью точки|Задает текст элемента|
|Кнопка на панели инструментов|Включает или отключает|Выборки, отменить выборки или неопределенные|То же, что `SetCheck`|(Неприменимо)|
|Панель состояния|Делает текст видимым или невидимым|Задает выступающее или нормальную границу|То же, что `SetCheck`|Задает текст панели|
|Обычная кнопка в `CDialogBar`|Включает или отключает|Флажок "устанавливает или снимает"|То же, что `SetCheck`|Задает текст кнопки|
|Нормальный элемент управления в `CDialogBar`|Включает или отключает|(Неприменимо)|(Неприменимо)|Задает текст окна|

Дополнительные сведения об использовании этого класса см. в разделе [обновление объектов пользовательского интерфейса](../../mfc/how-to-update-user-interface-objects.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

`CCmdUI`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

##  <a name="continuerouting"></a>Поддержка CCmdUI:: Континуераутинг

Вызовите эту функцию-член, чтобы указать механизму маршрутизации команд продолжить маршрутизацию текущего сообщения в цепочку обработчиков.

```
void ContinueRouting();
```

### <a name="remarks"></a>Remarks

Это расширенная функция-член, которая должна использоваться в сочетании с обработчиком ON_COMMAND_EX, возвращающим значение FALSE. Дополнительные сведения см. в [техническом примечании 6](../../mfc/tn006-message-maps.md).

##  <a name="enable"></a>Поддержка CCmdUI:: enable

Вызовите эту функцию-член, чтобы включить или отключить элемент пользовательского интерфейса для этой команды.

```
virtual void Enable(BOOL bOn = TRUE);
```

### <a name="parameters"></a>Параметры

*Системе*<br/>
Значение TRUE, чтобы включить элемент; значение FALSE, чтобы отключить его.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#46](../../mfc/codesnippet/cpp/ccmdui-class_1.cpp)]

[!code-cpp[NVC_MFCDocView#47](../../mfc/codesnippet/cpp/ccmdui-class_2.cpp)]

##  <a name="m_nid"></a>Поддержка CCmdUI:: m_nID

Идентификатор элемента меню, кнопки панели инструментов или другого объекта пользовательского интерфейса, представленного объектом `CCmdUI`.

```
UINT m_nID;
```

##  <a name="m_nindex"></a>Поддержка CCmdUI:: m_nIndex

Индекс элемента меню, кнопки панели инструментов или другого объекта пользовательского интерфейса, представленного объектом `CCmdUI`.

```
UINT m_nIndex;
```

##  <a name="m_pmenu"></a>Поддержка CCmdUI:: m_pMenu

Указатель (типа `CMenu`) в меню, представленном объектом `CCmdUI`.

```
CMenu* m_pMenu;
```

### <a name="remarks"></a>Remarks

Значение NULL, если элемент не является меню.

##  <a name="m_psubmenu"></a>Поддержка CCmdUI:: m_pSubMenu

Указатель (Of `CMenu` Type) в вложенное меню, представленное объектом `CCmdUI`.

```
CMenu* m_pSubMenu;
```

### <a name="remarks"></a>Remarks

Значение NULL, если элемент не является меню. Если подменю является всплывающим, *m_nID* содержит идентификатор первого элемента во всплывающем меню. Дополнительные сведения см. в [техническом примечании 21](../../mfc/tn021-command-and-message-routing.md).

##  <a name="m_pother"></a>Поддержка CCmdUI:: m_pOther

Указатель (типа `CWnd`) на объект окна, например средство или строка состояния, которые отправили уведомление.

```
CWnd* m_pOther;
```

### <a name="remarks"></a>Remarks

Значение NULL, если элемент является меню или объектом, не являющимся `CWnd`.

##  <a name="setcheck"></a>Поддержка CCmdUI:: Сетчекк

Вызовите эту функцию-член, чтобы установить в качестве элемента пользовательского интерфейса для этой команды соответствующее состояние проверки.

```
virtual void SetCheck(int nCheck = 1);
```

### <a name="parameters"></a>Параметры

*nДополнительные*<br/>
Задает заданное состояние проверки. Если значение равно 0, то снимается; Если 1, проверяет; и если значение равно 2, задает неопределенное значение.

### <a name="remarks"></a>Remarks

Эта функция – член работает для пунктов меню и кнопок панели инструментов. Неопределенное состояние применяется только к кнопкам панели инструментов.

##  <a name="setradio"></a>Поддержка CCmdUI:: Сетрадио

Вызовите эту функцию-член, чтобы установить в качестве элемента пользовательского интерфейса для этой команды соответствующее состояние проверки.

```
virtual void SetRadio(BOOL bOn = TRUE);
```

### <a name="parameters"></a>Параметры

*Системе*<br/>
Значение TRUE, чтобы включить элемент; в противном случае — FALSE.

### <a name="remarks"></a>Remarks

Эта функция-член действует как `SetCheck`, за исключением того, что она работает с элементами пользовательского интерфейса, работающими как часть группы переключателей. Извлечение других элементов в группе выполняется автоматически, если только сами элементы не поддерживают поведение группы.

##  <a name="settext"></a>Поддержка CCmdUI:: SetText

Вызовите эту функцию-член, чтобы задать текст элемента пользовательского интерфейса для этой команды.

```
virtual void SetText(LPCTSTR lpszText);
```

### <a name="parameters"></a>Параметры

*lpszText*<br/>
Указатель на текстовую строку.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#48](../../mfc/codesnippet/cpp/ccmdui-class_3.cpp)]

## <a name="see-also"></a>См. также раздел

[Образец MDI-формы MFC](../../overview/visual-cpp-samples.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CCmdTarget](../../mfc/reference/ccmdtarget-class.md)
