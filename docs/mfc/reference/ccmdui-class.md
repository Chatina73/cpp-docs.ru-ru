---
title: Класс CCmdUI
ms.date: 11/04/2016
f1_keywords:
- CCmdUI
- AFXWIN/CCmdUI
- AFXWIN/CCmdUI::ContinueRouting
- AFXWIN/CCmdUI::Enable
- AFXWIN/CCmdUI::SetCheck
- AFXWIN/CCmdUI::SetRadio
- AFXWIN/CCmdUI::SetText
- AFXWIN/CCmdUI::m_nID
- AFXWIN/CCmdUI::m_nIndex
- AFXWIN/CCmdUI::m_pMenu
- AFXWIN/CCmdUI::m_pOther
- AFXWIN/CCmdUI::m_pSubMenu
helpviewer_keywords:
- CCmdUI [MFC], ContinueRouting
- CCmdUI [MFC], Enable
- CCmdUI [MFC], SetCheck
- CCmdUI [MFC], SetRadio
- CCmdUI [MFC], SetText
- CCmdUI [MFC], m_nID
- CCmdUI [MFC], m_nIndex
- CCmdUI [MFC], m_pMenu
- CCmdUI [MFC], m_pOther
- CCmdUI [MFC], m_pSubMenu
ms.assetid: 04eaaaf5-f510-48ab-b425-94665ba24766
ms.openlocfilehash: c1d44638779f9b5caf052106ac172110d309b69f
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62206389"
---
# <a name="ccmdui-class"></a>Класс CCmdUI

Используется только в `ON_UPDATE_COMMAND_UI` обработчик в `CCmdTarget`-производного класса.

## <a name="syntax"></a>Синтаксис

```
class CCmdUI
```

## <a name="members"></a>Участники

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CCmdUI::ContinueRouting](#continuerouting)|Указывает механизму маршрутизации команд продолжать маршрутизацию текущее сообщение по цепочке обработчиков.|
|[CCmdUI::Enable](#enable)|Включает или отключает элемент пользовательского интерфейса для этой команды.|
|[CCmdUI::SetCheck](#setcheck)|Задает состояние пометки элемента пользовательского интерфейса для этой команды.|
|[CCmdUI::SetRadio](#setradio)|Как и `SetCheck` функция-член, но работает с группы переключателей.|
|[CCmdUI::SetText](#settext)|Задает текст для элемента пользовательского интерфейса для этой команды.|

### <a name="public-data-members"></a>Открытые члены данных

|name|Описание|
|----------|-----------------|
|[CCmdUI::m_nID](#m_nid)|Идентификатор объекта пользовательского интерфейса.|
|[CCmdUI::m_nIndex](#m_nindex)|Индекс объекта пользовательского интерфейса.|
|[CCmdUI::m_pMenu](#m_pmenu)|Указывает меню, представленный `CCmdUI` объекта.|
|[CCmdUI::m_pOther](#m_pother)|Указывает на объект окна, которому было отправлено уведомление.|
|[CCmdUI::m_pSubMenu](#m_psubmenu)|Указывает на автономной подменю представленный `CCmdUI` объекта.|

## <a name="remarks"></a>Примечания

`CCmdUI` не имеет базового класса.

Когда пользователь приложения переносится меню, каждый меню элемента нужно указать, является ли он должен отображаться как включенная или отключено. Целевой объект команды меню предоставляет эти сведения, реализация обработчика ON_UPDATE_COMMAND_UI. Для каждого из объектов пользовательского интерфейса команды в приложении используйте окно свойств для создания прототипа операции и функции схемы сообщений для каждого обработчика.

Когда меню будут извлечены, платформа ищет и вызывает каждый обработчик ON_UPDATE_COMMAND_UI, вызывает каждый обработчик `CCmdUI` член функции, такие как `Enable` и `Check`, и платформа затем соответствующим образом отображает каждый пункт меню.

Пункт меню можно заменить на панель элементов управления кнопки или другого объекта пользовательского интерфейса команды без изменения кода в `ON_UPDATE_COMMAND_UI` обработчика.

В следующей таблице перечислены эффект `CCmdUI`в функции-члены имеют на различные элементы пользовательского интерфейса команды.

|Элемент пользовательского интерфейса|Разрешить|SetCheck|SetRadio|SetText|
|--------------------------|------------|--------------|--------------|-------------|
|Элемент меню|Включает или отключает|Установке или снятии|Проверки, используя запятую|Наборы элементов текста|
|Кнопка панели инструментов|Включает или отключает|Выбирает, приводит к отмене выбора, или не определен|Аналогично `SetCheck`|(Неприменимо)|
|Панели строки состояния|Текст становится видимым или невидимым|Задает границы исчезающего или обычный|Аналогично `SetCheck`|Задает текст панели|
|Обычная кнопка в `CDialogBar`|Включает или отключает|Установке или снятии флажка|Аналогично `SetCheck`|Задает кнопку текста|
|Обычный элемент управления в `CDialogBar`|Включает или отключает|(Неприменимо)|(Неприменимо)|Задает текст окна|

Дополнительные сведения об использовании этого класса, см. в разделе [обновление объектов пользовательского интерфейса](../../mfc/how-to-update-user-interface-objects.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

`CCmdUI`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

##  <a name="continuerouting"></a>  CCmdUI::ContinueRouting

Вызовите эту функцию-член определить механизм маршрутизации команд продолжать маршрутизацию текущее сообщение по цепочке обработчиков.

```
void ContinueRouting();
```

### <a name="remarks"></a>Примечания

Это функция дополнительный член, который должен использоваться в сочетании с обработчик ON_COMMAND_EX, который возвращает значение FALSE. Дополнительные сведения см. в разделе [технические примечание 6](../../mfc/tn006-message-maps.md).

##  <a name="enable"></a>  CCmdUI::Enable

Вызовите эту функцию-член для включения или отключения элемента пользовательского интерфейса для этой команды.

```
virtual void Enable(BOOL bOn = TRUE);
```

### <a name="parameters"></a>Параметры

*bOn*<br/>
Значение TRUE, чтобы активировать элемент, FALSE, чтобы отключить его.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#46](../../mfc/codesnippet/cpp/ccmdui-class_1.cpp)]

[!code-cpp[NVC_MFCDocView#47](../../mfc/codesnippet/cpp/ccmdui-class_2.cpp)]

##  <a name="m_nid"></a>  CCmdUI::m_nID

Идентификатор пункта меню, кнопки панели инструментов или других пользовательского интерфейса объекта, представленного `CCmdUI` объекта.

```
UINT m_nID;
```

##  <a name="m_nindex"></a>  CCmdUI::m_nIndex

Индекс пункта меню, кнопки панели инструментов или других пользовательского интерфейса объекта, представленного `CCmdUI` объекта.

```
UINT m_nIndex;
```

##  <a name="m_pmenu"></a>  CCmdUI::m_pMenu

Указатель (из `CMenu` типа) в меню, представленный `CCmdUI` объекта.

```
CMenu* m_pMenu;
```

### <a name="remarks"></a>Примечания

Значение NULL, если элемент не меню.

##  <a name="m_psubmenu"></a>  CCmdUI::m_pSubMenu

Указатель (из `CMenu` тип) для автономной подменю представленный `CCmdUI` объекта.

```
CMenu* m_pSubMenu;
```

### <a name="remarks"></a>Примечания

Значение NULL, если элемент не меню. Если вложенное меню — это всплывающее окно, *m_nID* содержит идентификатор первого элемента в контекстном меню. Дополнительные сведения см. в разделе [технические 21 Примечание](../../mfc/tn021-command-and-message-routing.md).

##  <a name="m_pother"></a>  CCmdUI::m_pOther

Указатель (типа `CWnd`) к объекту окна, такими как панель инструментов или состояние, которое отправлено уведомление.

```
CWnd* m_pOther;
```

### <a name="remarks"></a>Примечания

Значение NULL, если элемент меню или отличный от `CWnd` объекта.

##  <a name="setcheck"></a>  CCmdUI::SetCheck

Вызов этой функции-члена, чтобы задать элемент пользовательского интерфейса для этой команды для соответствующих проверки состояния.

```
virtual void SetCheck(int nCheck = 1);
```

### <a name="parameters"></a>Параметры

*Проверьте*<br/>
Указывает состояние проверки для задания. Если 0, снимает; Если 1, проверяет; и если 2, задает в неопределенном состоянии.

### <a name="remarks"></a>Примечания

Эта функция-член работает для элементов меню и кнопки панели инструментов. Неопределенное состояние применяется только к кнопки панели инструментов.

##  <a name="setradio"></a>  CCmdUI::SetRadio

Вызов этой функции-члена, чтобы задать элемент пользовательского интерфейса для этой команды для соответствующих проверки состояния.

```
virtual void SetRadio(BOOL bOn = TRUE);
```

### <a name="parameters"></a>Параметры

*bOn*<br/>
Значение TRUE, чтобы активировать элемент; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Эта функция-член работает как `SetCheck`, за исключением того, что он работает для элементов пользовательского интерфейса, являющихся частью группы переключателей. Отмена выбора других элементов в группе не выполняется автоматически, если не сами элементы однородной работы группы переключателей.

##  <a name="settext"></a>  CCmdUI::SetText

Вызывайте эту функцию члена, чтобы задать текст элемента пользовательского интерфейса для этой команды.

```
virtual void SetText(LPCTSTR lpszText);
```

### <a name="parameters"></a>Параметры

*lpszText*<br/>
Указатель на строку текста.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#48](../../mfc/codesnippet/cpp/ccmdui-class_3.cpp)]

## <a name="see-also"></a>См. также

[Пример MFC MDI](../../overview/visual-cpp-samples.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CCmdTarget](../../mfc/reference/ccmdtarget-class.md)
