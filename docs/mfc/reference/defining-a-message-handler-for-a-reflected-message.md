---
title: Определение обработчика сообщений для отраженного сообщения
ms.date: 09/07/2019
f1_keywords:
- vc.codewiz.defining.msg.msghandler
helpviewer_keywords:
- messages [MFC], reflected
- message handling [MFC], reflected messages
ms.assetid: 5a403528-58c5-46e7-90d5-4a77f0ab9b9c
ms.openlocfilehash: f7f90d3347ac61abcfcb48e77ef39aa2626ae5c8
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81365858"
---
# <a name="defining-a-message-handler-for-a-reflected-message"></a>Определение обработчика сообщений для отраженного сообщения

После создания нового класса управления MFC можно определить обработчики сообщений для него. Обработчики отраженных сообщений позволяют классу управления обрабатывать свои собственные сообщения до получения сообщения родителем. Вы можете использовать функцию MFC [CWnd::SendMessage](../../mfc/reference/cwnd-class.md#sendmessage) для отправки сообщений с элемента управления в родительское окно.

С помощью этой функциональности можно, например, создать поле списка, которое будет перерисовывать себя, а не полагаться на родительское окно для этого (нарисовано владельцем). Для получения дополнительной информации об отраженных сообщениях [см.](../../mfc/handling-reflected-messages.md)

Чтобы создать [элемент управления ActiveX](../../mfc/activex-controls-on-the-internet.md) с той же функциональностью, необходимо создать проект для управления ActiveX.

> [!NOTE]
> Вы не можете добавить отраженное сообщение (OCM_*сообщение)* для управления ActiveX с помощью класса Wizard, как описано ниже. Эти сообщения необходимо добавлять вручную.

### <a name="to-define-a-message-handler-for-a-reflected-message-from-the-class-wizard"></a>Определить обработчик сообщений для отраженного сообщения от мастера класса

1. Добавьте элемент управления, например список, элемент управления армате, панель инструментов или управление деревом, в ваш проект MFC.

1. В классе View щелкните имя класса управления.

1. В [«Мастере класса»](mfc-class-wizard.md)имя класса управления отображается в списке **имен класса.**

1. Нажмите на вкладку **«Сообщения»,** чтобы отобразить сообщения Windows, доступные для добавления в элемент управления.

1. Выберите отраженное сообщение, для которого вы хотите определить обработчик. Отраженные сообщения помечены равным знаком (кв).

1. Нажмите на ячейку в правой колонке в мастере \<класса, чтобы отобразить предложенное имя обработчика в виде добавления>*HandlerName.* (Например, обработчик сообщений **WM_CTLCOLOR** предлагает \<добавить>**CtlColor).**

1. Нажмите на предложенное имя, чтобы принять. Обработчик добавляется в проект.

1. Чтобы отсеять или удалять обработчик амот, повторите шаги 4-7. Нажмите на ячейку, содержащую имя обработчика, чтобы отобразить или удалить и щелкните соответствующую задачу.

## <a name="see-also"></a>См. также раздел

[Отображение сообщений к функциям](../../mfc/reference/mapping-messages-to-functions.md)<br/>
[Добавление функциональных возможностей с помощью мастеров кода](../../ide/adding-functionality-with-code-wizards-cpp.md)<br/>
[Добавление класса](../../ide/adding-a-class-visual-cpp.md)<br/>
[Добавление функции-члена](../../ide/adding-a-member-function-visual-cpp.md)<br/>
[Добавление переменной-члена](../../ide/adding-a-member-variable-visual-cpp.md)<br/>
[Переопределение виртуальной функции](../../ide/overriding-a-virtual-function-visual-cpp.md)<br/>
[Обработчик сообщений MFC](../../mfc/reference/adding-an-mfc-message-handler.md)<br/>
[Перемещение по структуре класса](../../ide/navigate-code-cpp.md)
