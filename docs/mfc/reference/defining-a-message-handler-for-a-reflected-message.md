---
title: Определение обработчика сообщений для отраженного сообщения
ms.date: 09/07/2019
f1_keywords:
- vc.codewiz.defining.msg.msghandler
helpviewer_keywords:
- messages [MFC], reflected
- message handling [MFC], reflected messages
ms.assetid: 5a403528-58c5-46e7-90d5-4a77f0ab9b9c
ms.openlocfilehash: 1e38c63464cacf445688a1d431a65af21eac86f4
ms.sourcegitcommit: 3caf5261b3ea80d9cf14038c116ba981d655cd13
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2019
ms.locfileid: "70907931"
---
# <a name="defining-a-message-handler-for-a-reflected-message"></a>Определение обработчика сообщений для отраженного сообщения

После создания нового класса элемента управления MFC можно определить для него обработчики сообщений. Обработчики отраженных сообщений позволяют классу Control управлять собственными сообщениями до получения сообщения родительским. Для отправки сообщений из элемента управления в родительское окно можно использовать функцию MFC [CWnd:: SendMessage](../../mfc/reference/cwnd-class.md#sendmessage) .

С помощью этой функции можно, например, создать список, который будет перерисовывать саму себя, а не полагаться на то, что родительское окно сделает это (владелец нарисован). Дополнительные сведения о отраженных сообщениях см. в разделе [обработка отраженных сообщений](../../mfc/handling-reflected-messages.md).

Чтобы создать [элемент управления ActiveX](../../mfc/activex-controls-on-the-internet.md) с теми же функциональными возможностями, необходимо создать проект для элемента управления ActiveX.

> [!NOTE]
>  Нельзя добавить отраженное сообщение (*сообщение*OCM_) для элемента управления ActiveX с помощью мастера классов, как описано ниже. Эти сообщения необходимо добавить вручную.

### <a name="to-define-a-message-handler-for-a-reflected-message-from-the-class-wizard"></a>Определение обработчика сообщений для отраженного сообщения из мастера классов

1. Добавление элемента управления, такого как список, элемент управления главной панели, панель инструментов или элемент управления "дерево", в проект MFC.

1. В представление классов щелкните имя класса элемента управления.

1. В [мастере классов](mfc-class-wizard.md)имя класса элемента управления отображается в списке **имя класса** .

1. Перейдите на вкладку **сообщения** , чтобы отобразить сообщения Windows, доступные для добавления в элемент управления.

1. Выберите отраженное сообщение, для которого необходимо определить обработчик. Отраженные сообщения помечаются знаком равенства (=).

1. Щелкните ячейку в столбце справа в мастере классов, чтобы отобразить предлагаемое имя обработчика как \<Add >*хандлернаме*. (Например, обработчик сообщений **= WM_CTLCOLOR** предлагает \<Add >**ктлколор**).

1. Щелкните предлагаемое имя, чтобы принять его. Обработчик добавляется в проект.

1. Чтобы изменить или удалить обработчик сообщений, повторите шаги с 4 по 7. Щелкните ячейку, содержащую имя обработчика, чтобы изменить или удалить, и выберите соответствующую задачу.

## <a name="see-also"></a>См. также

[Сопоставление сообщений с функциями](../../mfc/reference/mapping-messages-to-functions.md)<br/>
[Добавление функциональных возможностей с помощью мастеров кода](../../ide/adding-functionality-with-code-wizards-cpp.md)<br/>
[Добавление класса](../../ide/adding-a-class-visual-cpp.md)<br/>
[Добавление функции-члена](../../ide/adding-a-member-function-visual-cpp.md)<br/>
[Добавление переменной-члена](../../ide/adding-a-member-variable-visual-cpp.md)<br/>
[Переопределение виртуальной функции](../../ide/overriding-a-virtual-function-visual-cpp.md)<br/>
[Обработчик сообщений MFC](../../mfc/reference/adding-an-mfc-message-handler.md)<br/>
[Перемещение по структуре класса](../../ide/navigate-code-cpp.md)
