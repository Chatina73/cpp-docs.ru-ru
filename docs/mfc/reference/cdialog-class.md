---
title: Класс CDialog
ms.date: 11/04/2016
f1_keywords:
- CDialog
- AFXWIN/CDialog
- AFXWIN/CDialog::CDialog
- AFXWIN/CDialog::Create
- AFXWIN/CDialog::CreateIndirect
- AFXWIN/CDialog::DoModal
- AFXWIN/CDialog::EndDialog
- AFXWIN/CDialog::GetDefID
- AFXWIN/CDialog::GotoDlgCtrl
- AFXWIN/CDialog::InitModalIndirect
- AFXWIN/CDialog::MapDialogRect
- AFXWIN/CDialog::NextDlgCtrl
- AFXWIN/CDialog::OnInitDialog
- AFXWIN/CDialog::OnSetFont
- AFXWIN/CDialog::PrevDlgCtrl
- AFXWIN/CDialog::SetDefID
- AFXWIN/CDialog::SetHelpID
- AFXWIN/CDialog::OnCancel
- AFXWIN/CDialog::OnOK
helpviewer_keywords:
- CDialog [MFC], CDialog
- CDialog [MFC], Create
- CDialog [MFC], CreateIndirect
- CDialog [MFC], DoModal
- CDialog [MFC], EndDialog
- CDialog [MFC], GetDefID
- CDialog [MFC], GotoDlgCtrl
- CDialog [MFC], InitModalIndirect
- CDialog [MFC], MapDialogRect
- CDialog [MFC], NextDlgCtrl
- CDialog [MFC], OnInitDialog
- CDialog [MFC], OnSetFont
- CDialog [MFC], PrevDlgCtrl
- CDialog [MFC], SetDefID
- CDialog [MFC], SetHelpID
- CDialog [MFC], OnCancel
- CDialog [MFC], OnOK
ms.assetid: ca64b77e-2cd2-47e3-8eff-c2645ad578f9
ms.openlocfilehash: 23d170cf023374fe61e13d907e3c3466c0352fe6
ms.sourcegitcommit: ecf274bcfe3a977c48745aaa243e5e731f1fdc5f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2019
ms.locfileid: "66504443"
---
# <a name="cdialog-class"></a>Класс CDialog

Базовый класс, используемый для отображения диалоговых окон на экране.

## <a name="syntax"></a>Синтаксис

```
class CDialog : public CWnd
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|[CDialog::CDialog](#cdialog)|Создает объект `CDialog`.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CDialog::Create](#create)|Инициализирует `CDialog` объекта. Создает немодальное диалоговое окно и прикрепляет его к `CDialog` объекта.|
|[CDialog::CreateIndirect](#createindirect)|Создает немодальное диалоговое окно на основе шаблона диалогового окна в памяти (не ресурсов на основе).|
|[CDialog::DoModal](#domodal)|Вызывает модальное диалоговое окно и возвращает после завершения.|
|[CDialog::EndDialog](#enddialog)|Закрывает модального диалогового окна.|
|[CDialog::GetDefID](#getdefid)|Получает идентификатор элемента управления, кнопка по умолчанию для диалогового окна.|
|[CDialog::GotoDlgCtrl](#gotodlgctrl)|Перемещает фокус на элемент управления указанного диалогового окна, в диалоговом окне.|
|[CDialog::InitModalIndirect](#initmodalindirect)|Создает модальное диалоговое окно на основе шаблона диалогового окна в памяти (не ресурсов на основе). Параметры хранятся до функция `DoModal` вызывается.|
|[CDialog::MapDialogRect](#mapdialogrect)|Преобразует единицы диалогового окна прямоугольник в единицы экрана.|
|[CDialog::NextDlgCtrl](#nextdlgctrl)|Перемещение фокуса к следующему элементу управления диалогового окна, в диалоговом окне.|
|[CDialog::OnInitDialog](#oninitdialog)|Переопределите для ускорения инициализации диалогового окна.|
|[CDialog::OnSetFont](#onsetfont)|Переопределите, чтобы указать шрифт, что элемент управления диалогового окна для использования при рисовании текста.|
|[CDialog::PrevDlgCtrl](#prevdlgctrl)|Перемещение фокуса к предыдущему элементу управления диалогового окна, в диалоговом окне.|
|[CDialog::SetDefID](#setdefid)|Изменяет указанный pushbutton кнопок элемента управления по умолчанию для диалогового окна.|
|[CDialog::SetHelpID](#sethelpid)|Задает идентификатор контекстной справки для диалогового окна.|

### <a name="protected-methods"></a>Защищенные методы

|name|Описание|
|----------|-----------------|
|[CDialog::OnCancel](#oncancel)|Переопределение для выполнения действия клавиши ESC или кнопку "Отмена". Значение по умолчанию закрывает диалоговое окно и `DoModal` возвращает IDCANCEL.|
|[CDialog::OnOK](#onok)|Переопределите, чтобы выполнить действие "ОК" в модальное диалоговое окно. Значение по умолчанию закрывает диалоговое окно и `DoModal` возвращает IDOK.|

## <a name="remarks"></a>Примечания

Диалоговые окна бывают двух типов: модальные и немодальные. Модального диалогового окна должны быть закрыты пользователем, прежде чем приложение продолжит работу. Немодальное диалоговое окно позволяет отобразить диалоговое окно и вернуться к другой задачи без отмены или удаления в диалоговом окне.

Объект `CDialog` объект представляет собой сочетание шаблона диалогового окна и `CDialog`-производного класса. Использование редактора диалоговых окон для создания шаблона диалогового окна и сохраните его в ресурс, а затем используйте мастер добавления классов для создания класса, производного от `CDialog`.

В диалоговом окне, как и любое другое окно получает сообщения от Windows. В диалоговом окне могут особенно заинтересованы в обработке сообщений уведомлений от элементов управления диалогового окна, так как это взаимодействие пользователя с помощью диалогового окна. Позволяет выбрать, какие сообщения, необходимо для обработки и его будут добавлены записей соответствующие карты и функции-члены обработчика сообщений к классу автоматически окне «Свойства». Необходимо написать код приложения в функции-члены обработчика.

При желании можно всегда написать записей карты и функции-члены вручную.

В всех, кроме самых тривиальных диалоговое окно вы добавите переменные-члены классов производном диалоговых окон для хранения данных, введенных в элементах управления диалогового окна пользователем или для отображения данных для пользователя. Создайте переменные-члены и связать их с элементами управления, можно использовать мастер добавления переменной. В то же время выберите тип переменной и допустимый диапазон значений для каждой переменной. Мастера кода добавляет переменные-члены классов производном диалоговых окон.

Сопоставление данных создается автоматически обрабатывать обмен данными между переменных-членов и элементами управления диалогового окна. Сопоставление данных предоставляет функции для инициализации элементов управления в диалоговом окне с соответствующими значениями, получения данных и проверки данных.

Чтобы создать модальное диалоговое окно, создайте объект в стеке, используя конструктор для классов производном диалоговых окон, а затем вызовите `DoModal` для создания в диалоговом окне и ее элементов управления. Если вы хотите создать немодального диалогового окна, вызовите `Create` в конструкторе классов диалоговых окон.

Также можно создать шаблон в памяти с помощью [DLGTEMPLATE](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) структуры данных, как описано в пакете Windows SDK. После создания `CDialog` , вызовите [CreateIndirect](#createindirect) Создание немодальных диалоговых окон или вызов [InitModalIndirect](#initmodalindirect) и [DoModal](#domodal) для создания модального диалоговое окно.

Сопоставление данных exchange и проверки записывается в переопределении `CWnd::DoDataExchange` , добавляется к новому классу диалогового окна. См. в разделе [DoDataExchange](../../mfc/reference/cwnd-class.md#dodataexchange) функции-члена в `CWnd` дополнительную информацию о функциональности и проверки.

Как программист, так и вызов framework `DoDataExchange` косвенно посредством вызова [CWnd::UpdateData](../../mfc/reference/cwnd-class.md#updatedata).

Платформа вызывает `UpdateData` когда пользователь нажимает кнопку ОК, чтобы закрыть модальное диалоговое окно. (Данные не извлекаются при нажатии кнопки "Отмена".) Реализация по умолчанию [OnInitDialog](#oninitdialog) также вызывает `UpdateData` для задания начальных значений элементов управления. Обычно переопределяется `OnInitDialog` для дальнейшей инициализации элементов управления. `OnInitDialog` вызывается после создания всех элементов управления диалогового окна и непосредственно перед диалогового окна отображается окно.

Вы можете вызвать `CWnd::UpdateData` в любое время, во время выполнения модальное или немодальное диалоговое окно.

Если вы разрабатываете диалоговое окно вручную, вы добавьте необходимые переменные-члены в класс диалогового окна производного самостоятельно и добавить функции-члены для задания или получения этих значений.

Модальное диалоговое окно закрывается автоматически, когда пользователь нажимает кнопки ОК или "Отмена", или когда код вызывает метод `EndDialog` функция-член.

При реализации немодального диалогового окна всегда переопределять `OnCancel` функция-член и вызов `DestroyWindow` из внутри него. Не вызывайте базовый класс `CDialog::OnCancel`, так как он вызывает `EndDialog`, который будет сделать окно невидимым, но не будут уничтожены. Следует также переопределить `PostNcDestroy` для немодальных диалоговых окон, чтобы удалить **это**, поскольку обычно безрежимные диалоговые окна выделяются с **новый**. Модальные диалоговые окна, обычно создается в кадре и не обязательно `PostNcDestroy` очистки.

Дополнительные сведения о `CDialog`, см. в разделе [диалоговым окнам](../../mfc/dialog-boxes.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

`CDialog`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

##  <a name="cdialog"></a>  CDialog::CDialog

Для создания на основе ресурсов модальное диалоговое окно, вызываемые либо открытого конструктора.

```
explicit CDialog(
    LPCTSTR lpszTemplateName,
    CWnd* pParentWnd = NULL);

explicit CDialog(
    UINT nIDTemplate,
    CWnd* pParentWnd = NULL);

CDialog();
```

### <a name="parameters"></a>Параметры

*lpszTemplateName*<br/>
Содержащий заканчивающуюся нулем строку, имя ресурса шаблона диалогового окна.

*nIDTemplate*<br/>
Содержит идентификатор ресурса шаблона диалогового окна.

*pParentWnd*<br/>
Указывает на объект окна родительский объект или владельца (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это значение NULL, родительское окно объекта диалогового окна будет присвоено главного окна приложения.

### <a name="remarks"></a>Примечания

Одна из конструктора форм предоставляет доступ к ресурса диалогового окна, имя шаблона. Другой конструктор предоставляет доступ по идентификатору шаблона, обычно с **IDD_** префикс (например, IDD_DIALOG1).

Чтобы создать модальное диалоговое окно на основе шаблона в памяти, сначала вызвать конструктор без параметров, защищенные, а затем вызовите `InitModalIndirect`.

После создания модального диалогового окна с помощью одного из вышеуказанных методов, вызовите `DoModal`.

Для создания немодального диалогового окна, используйте защищенный форму `CDialog` конструктор. Конструктор является защищенным, так как необходимо создать производный класс диалогового окна для реализации немодального диалогового окна. Создание немодального диалогового окна — это двухэтапный процесс. Первый вызов конструктора; затем вызовите `Create` функцию-член для создания на основе ресурсов диалогового окна, или вызовите `CreateIndirect` для создания диалогового окна из шаблона в памяти.

##  <a name="create"></a>  CDialog::Create

Вызовите `Create` для создания немодального диалогового окна с помощью из ресурса шаблона диалогового окна.

```
virtual BOOL Create(
    LPCTSTR lpszTemplateName,
    CWnd* pParentWnd = NULL);

virtual BOOL Create(
    UINT nIDTemplate,
    CWnd* pParentWnd = NULL);
```

### <a name="parameters"></a>Параметры

*lpszTemplateName*<br/>
Содержащий заканчивающуюся нулем строку, имя ресурса шаблона диалогового окна.

*pParentWnd*<br/>
Указывает родительский объект окна (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это значение NULL, родительское окно объекта диалогового окна будет присвоено главного окна приложения.

*nIDTemplate*<br/>
Содержит идентификатор ресурса шаблона диалогового окна.

### <a name="return-value"></a>Возвращаемое значение

Обе формы возвращают ненулевое значение, если диалоговое окно создания и инициализации были успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Можно поместить вызов `Create` внутри конструктора или вызов через конструктор вызывается.

Две формы `Create` функция-член, предоставляются доступ к ресурсу шаблона диалогового окна имя шаблона или шаблона Идентификационный номер (например, IDD_DIALOG1).

Для любой форме передайте указатель на родительский объект окна. Если *pParentWnd* имеет значение NULL, создается окно с его родительский объект или владельца окна, задайте для главного окна приложения.

`Create` Функция-член возвращает сразу же после того, как он создаст диалоговое окно.

Используйте стиль WS_VISIBLE в шаблоне диалогового окна, если диалоговое окно отображаться при создании родительского окна. В противном случае необходимо вызвать `ShowWindow`. Дополнительные стили диалогового окна и их приложения, см. в разделе [DLGTEMPLATE](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) структуры в пакете SDK для Windows и [стили окна](../../mfc/reference/styles-used-by-mfc.md#window-styles) в *Справочник по библиотеке MFC*.

Используйте `CWnd::DestroyWindow` функции для уничтожения диалогового окна, созданные `Create` функции.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCControlLadenDialog#62](../../mfc/codesnippet/cpp/cdialog-class_1.cpp)]

##  <a name="createindirect"></a>  CDialog::CreateIndirect

Вызов этой функции-члена для создания немодального диалогового окна на основе шаблона диалогового окна в памяти.

```
virtual BOOL CreateIndirect(
    LPCDLGTEMPLATE lpDialogTemplate,
    CWnd* pParentWnd = NULL,
    void* lpDialogInit = NULL);

virtual BOOL CreateIndirect(
    HGLOBAL hDialogTemplate,
    CWnd* pParentWnd = NULL);
```

### <a name="parameters"></a>Параметры

*lpDialogTemplate*<br/>
Указатель на память, содержащую шаблон диалогового окна, используемый для создания диалогового окна. Этот шаблон находится в форме [DLGTEMPLATE](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) структуры и управления информацию, как описано в пакете Windows SDK.

*pParentWnd*<br/>
Указывает на объект окна родительского объекта диалогового окна (типа [CWnd](../../mfc/reference/cwnd-class.md)). Если это значение NULL, родительское окно объекта диалогового окна будет присвоено главного окна приложения.

*lpDialogInit*<br/>
Указывает на ресурс DLGINIT.

*hDialogTemplate*<br/>
Содержит дескриптор глобальной памяти, содержащего шаблон диалогового окна. Этот шаблон находится в форме `DLGTEMPLATE` структуру и данные для каждого элемента управления в диалоговом окне.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если в диалоговом окне был создан и инициализирован успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

`CreateIndirect` Функция-член возвращает сразу же после того, как он создаст диалоговое окно.

Используйте стиль WS_VISIBLE в шаблоне диалогового окна, если диалоговое окно отображаться при создании родительского окна. В противном случае необходимо вызвать `ShowWindow` заставить оно должно отображаться. Дополнительные сведения о том, как можно указать другие стили диалогового окна в шаблоне, см. в разделе [DLGTEMPLATE](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) структуры в пакете Windows SDK.

Используйте `CWnd::DestroyWindow` функции для уничтожения диалогового окна, созданные `CreateIndirect` функции.

Диалоговые окна, которые содержат элементы управления ActiveX требуются дополнительные сведения, предоставленные в ресурсе DLGINIT.

##  <a name="domodal"></a>  CDialog::DoModal

Вызов этой функции-члена для вызова модального диалогового окна и возвращают результат диалогового окна по завершении.

```
virtual INT_PTR DoModal();
```

### <a name="return-value"></a>Возвращаемое значение

**Int** значение, указывающее значение *nResult* параметр, который был передан [CDialog::EndDialog](#enddialog) функцией-членом, которая используется, чтобы закрыть диалоговое окно. Возвращаемое значение-1, если функция не удалось создать диалоговое окно, то есть IDABORT Если возникла другая ошибка, в этом случае в окне вывода будет содержать сведения об ошибке из [GetLastError](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Примечания

Эта функция-член обрабатывает все взаимодействие с пользователем при активном окне. Именно это и делает окно модальным; то есть пользователь не может взаимодействовать с другими окнами, пока не будет закрыто диалоговое окно.

Если пользователь нажимает одну из кнопок в диалоговом окне, например ОК или "Отмена", функции-члена обработчика сообщений, таких как [OnOK](#onok) или [OnCancel](#oncancel), вызывается, чтобы попытаться закрыть диалоговое окно. Значение по умолчанию `OnOK` функция-член будет проверить и обновить данные диалогового окна и закрыть диалоговое окно с результатом IDOK и значение по умолчанию `OnCancel` функция-член будет закрыть диалоговое окно с результатом IDCANCEL без проверки и обновления данные диалогового окна. Вы можете переопределить эти функции обработчика сообщений для изменения их поведения.

> [!NOTE]
> `PreTranslateMessage` Теперь вызывается для обработки сообщений модальное диалоговое окно.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCControlLadenDialog#63](../../mfc/codesnippet/cpp/cdialog-class_2.cpp)]

##  <a name="enddialog"></a>  CDialog::EndDialog

Вызовите эту функцию-член для завершения модальное диалоговое окно.

```
void EndDialog(int nResult);
```

### <a name="parameters"></a>Параметры

*nResult*<br/>
Содержит значение, возвращаемое из диалогового окна вызывающему объекту `DoModal`.

### <a name="remarks"></a>Примечания

Эта функция-член возвращает *nResult* как возвращаемое значение `DoModal`. Необходимо использовать `EndDialog` функции для завершения обработки при каждом создании модального диалогового окна.

Можно вызвать `EndDialog` в любое время, даже в [OnInitDialog](#oninitdialog), тогда следует закрыть окно перед ним отображается или перед применением фокус ввода.

`EndDialog` не закрывайте диалоговое окно немедленно. Вместо этого он задает флаг, который указывает диалоговое окно, чтобы закрыть сразу же возвращает текущий обработчик сообщений.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCControlLadenDialog#64](../../mfc/codesnippet/cpp/cdialog-class_3.cpp)]

[!code-cpp[NVC_MFCControlLadenDialog#65](../../mfc/codesnippet/cpp/cdialog-class_4.cpp)]

##  <a name="getdefid"></a>  CDialog::GetDefID

Вызовите `GetDefID` функцию-член для получения идентификатора элемента управления, кнопка по умолчанию для диалогового окна.

```
DWORD GetDefID() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение ( `DWORD`). Если кнопка по умолчанию имеет значение идентификатора, старшее слово содержит DC_HASDEFID и младшее слово содержит значение идентификатора. Если кнопка по умолчанию имеет значение идентификатора, возвращаемое значение равно 0.

### <a name="remarks"></a>Примечания

Обычно это кнопку "ОК".

##  <a name="gotodlgctrl"></a>  CDialog::GotoDlgCtrl

Перемещает фокус на указанный элемент управления в диалоговом окне.

```
void GotoDlgCtrl(CWnd* pWndCtrl);
```

### <a name="parameters"></a>Параметры

*pWndCtrl*<br/>
Определяет окно (элемент управления), который должен получить фокус.

### <a name="remarks"></a>Примечания

Для получения указателя на элемент управления (дочернее окно) для передачи в качестве *pWndCtrl*, вызовите `CWnd::GetDlgItem` функцией-членом, которая возвращает указатель на [CWnd](../../mfc/reference/cwnd-class.md) объекта.

### <a name="example"></a>Пример

  См. в примере [CWnd::GetDlgItem](../../mfc/reference/cwnd-class.md#getdlgitem).

##  <a name="initmodalindirect"></a>  CDialog::InitModalIndirect

Вызов этой функции-члена для инициализации объекта модальное диалоговое окно, с помощью шаблона диалогового окна, конструкции в памяти.

```
BOOL InitModalIndirect(
    LPCDLGTEMPLATE lpDialogTemplate,
    CWnd* pParentWnd = NULL,
    void* lpDialogInit = NULL);

    BOOL InitModalIndirect(
    HGLOBAL hDialogTemplate,
    CWnd* pParentWnd = NULL);
```

### <a name="parameters"></a>Параметры

*lpDialogTemplate*<br/>
Указатель на память, содержащую шаблон диалогового окна, используемый для создания диалогового окна. Этот шаблон находится в форме [DLGTEMPLATE](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) структуры и управления информацию, как описано в пакете Windows SDK.

*hDialogTemplate*<br/>
Содержит дескриптор глобальной памяти, содержащего шаблон диалогового окна. Этот шаблон находится в форме `DLGTEMPLATE` структуру и данные для каждого элемента управления в диалоговом окне.

*pParentWnd*<br/>
Указывает на объект окна родительский объект или владельца (типа [CWnd](../../mfc/reference/cwnd-class.md)), которому принадлежит объект диалогового окна. Если это значение NULL, родительское окно объекта диалогового окна будет присвоено главного окна приложения.

*lpDialogInit*<br/>
Указывает на ресурс DLGINIT.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если объект диалогового окна был создан и инициализирован успешно; в противном случае 0.

### <a name="remarks"></a>Примечания

Для создания модального диалогового окна косвенно, выделить глобальный блок памяти и заполнить его шаблон диалогового окна. Затем вызовите пустой `CDialog` конструктор для создания объекта диалогового окна. Затем вызовите `InitModalIndirect` для хранения маркер в шаблон диалогового окна в памяти. Диалоговое окно Windows будет создан и отображен впоследствии при [DoModal](#domodal) вызывается функция-член.

Диалоговые окна, которые содержат элементы управления ActiveX требуются дополнительные сведения, предоставленные в ресурсе DLGINIT.

##  <a name="mapdialogrect"></a>  CDialog::MapDialogRect

Вызов для преобразования единицы диалогового окна прямоугольник в единицах экрана.

```
void MapDialogRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*lpRect*<br/>
Указывает на [RECT](/windows/desktop/api/windef/ns-windef-tagrect) структуры или [CRect](../../atl-mfc-shared/reference/crect-class.md) , диалоговое окно содержит координаты для преобразования.

### <a name="remarks"></a>Примечания

Единицы диалогового окна сформулирована в терминах текущего диалогового окна базовой единицей, производных от среднюю ширину и высоту символов в шрифте, используемый для текста диалогового окна. Одна единица — одной четвертой единицы базы нулевой ширины диалогового окна, а одна единица — одну восьмую высота основы единицы диалогового окна.

`GetDialogBaseUnits` Windows функция возвращает сведения о размере для системного шрифта, но если вы используете DS_SETFONT стиль в файле определения ресурса можно указать другой шрифт в каждом диалоговом окне. `MapDialogRect` Функция Windows использует соответствующий шрифт для этого диалогового окна.

`MapDialogRect` Функция-член заменяет единицы диалогового окна в *lpRect* с экрана единицы (в пикселях), чтобы прямоугольник можно использовать для создания диалогового окна или размещения элемента управления в поле.

##  <a name="nextdlgctrl"></a>  CDialog::NextDlgCtrl

Перемещение фокуса к следующему элементу управления в диалоговом окне.

```
void NextDlgCtrl() const;
```

### <a name="remarks"></a>Примечания

Если фокус находится на последний элемент управления в диалоговом окне, перемещается к первому элементу управления.

##  <a name="oncancel"></a>  CDialog::OnCancel

Этот метод вызывается платформой, когда пользователь щелкает **отменить** или клавиши ESC в модальное или немодальное диалоговое окно.

```
virtual void OnCancel();
```

### <a name="remarks"></a>Примечания

Переопределите этот метод для выполнения действий (например, при восстановлении старых данных), когда пользователь закрывает диалоговое окно, нажав кнопку **отменить** или при нажатии клавиши ESC. Значение по умолчанию закрывает модального диалогового окна, вызвав [EndDialog](#enddialog) и вызывает [DoModal](#domodal) для возврата IDCANCEL.

Если вы реализуете **отменить** кнопки в немодального диалогового окна, необходимо переопределить `OnCancel` метод и вызвать [DestroyWindow](../../mfc/reference/cwnd-class.md#destroywindow) внутри него. Не вызывайте метод базового класса, так как он вызывает `EndDialog`, который будет сделать невидимым диалоговом окне, но не уничтожить его.

> [!NOTE]
>  Не может переопределить этот метод, при использовании `CFileDialog` объекта в программе, которая компилируется в Windows XP. Дополнительные сведения о `CFileDialog`, см. в разделе [класса CFileDialog](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCControlLadenDialog#66](../../mfc/codesnippet/cpp/cdialog-class_5.cpp)]

##  <a name="oninitdialog"></a>  CDialog::OnInitDialog

Этот метод вызывается в ответ на `WM_INITDIALOG` сообщение.

```
virtual BOOL OnInitDialog();
```

### <a name="return-value"></a>Возвращаемое значение

Указывает, является ли приложение установило фокус ввода к одному из элементов управления в диалоговом окне. Если `OnInitDialog` возвращает ненулевое значение, Windows устанавливает фокус ввода в расположение по умолчанию, первый элемент управления в диалоговом окне. Приложение может возвращать значение 0 только в том случае, если он задан явно фокус ввода к одному из элементов управления в диалоговом окне.

### <a name="remarks"></a>Примечания

Windows отправляет `WM_INITDIALOG` сообщение в диалоговом окне во время [создать](#create), [CreateIndirect](#createindirect), или [DoModal](#domodal) вызовы, которые происходят непосредственно перед диалоговое окно отображается.

Переопределите этот метод, если вы хотите выполнять специальную обработку при инициализации диалоговое окно. В переопределенные версии, необходимо сначала вызвать базовый класс `OnInitDialog` , но игнорировать его возвращаемое значение. Вы обычно возвращают `TRUE` из переопределенного метода.

Вызовы Windows `OnInitDialog` функции с помощью процедуры стандартный глобального диалогового окна Общие для всех диалоговых окон библиотеки Microsoft Foundation Class. Он не вызывает этой функции через карту сообщений и таким образом не требуется элемент карты сообщений для этого метода.

> [!NOTE]
> Не может переопределить этот метод, при использовании `CFileDialog` объекта в программе, которая компилируется в Windows Vista или более поздних операционных системах. Дополнительные сведения об изменениях в `CFileDialog` под Windows Vista и более поздних версиях см. в разделе [класса CFileDialog](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCControlLadenDialog#67](../../mfc/codesnippet/cpp/cdialog-class_6.cpp)]

##  <a name="onok"></a>  CDialog::OnOK

Вызывается, когда пользователь нажимает кнопку **ОК** (кнопка с Идентификатором IDOK).

```
virtual void OnOK();
```

### <a name="remarks"></a>Примечания

Переопределите этот метод для выполнения действий при **ОК** активируется кнопка. Если диалоговое окно содержит автоматические данные проверки и exchange, реализация по умолчанию этот метод проверяет данные диалогового окна и обновляет соответствующие переменные в приложении.

Если вы реализуете **ОК** кнопки в немодального диалогового окна, необходимо переопределить `OnOK` метод и вызвать [DestroyWindow](../../mfc/reference/cwnd-class.md#destroywindow) внутри него. Не вызывайте метод базового класса, так как он вызывает [EndDialog](#enddialog) который делает окно невидимым, но не удаляются.

> [!NOTE]
>  Не может переопределить этот метод, при использовании `CFileDialog` объекта в программе, которая компилируется в Windows XP. Дополнительные сведения о `CFileDialog`, см. в разделе [класса CFileDialog](../../mfc/reference/cfiledialog-class.md).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCControlLadenDialog#68](../../mfc/codesnippet/cpp/cdialog-class_7.cpp)]

##  <a name="onsetfont"></a>  CDialog::OnSetFont

Определяет шрифт, который будет использовать элемент управления диалогового окна во время рисования текста.

```
Virtual void OnSetFont(CFont* pFont);
```

### <a name="parameters"></a>Параметры

*pFont*<br/>
[in] Задает указатель на шрифт, который будет использоваться в качестве шрифта по умолчанию для всех элементов управления в этом диалоговом окне.

### <a name="remarks"></a>Примечания

Диалоговое окно будет использовать указанный шрифт по умолчанию для всех элементов управления.

Редактор диалоговых окон обычно задает шрифт диалогового окна как часть ресурса шаблона диалогового окна.

> [!NOTE]
> Не может переопределить этот метод, при использовании `CFileDialog` объекта в программе, которая компилируется в Windows Vista или более поздних операционных системах. Дополнительные сведения об изменениях в `CFileDialog` под Windows Vista и более поздних версиях см. в разделе [класса CFileDialog](../../mfc/reference/cfiledialog-class.md).

##  <a name="prevdlgctrl"></a>  CDialog::PrevDlgCtrl

Устанавливает фокус на предыдущий элемент управления в диалоговом окне.

```
void PrevDlgCtrl() const;
```

### <a name="remarks"></a>Примечания

Если фокус находится на первый элемент управления в диалоговом окне, он переходит к последнему элемента управления в поле.

##  <a name="setdefid"></a>  CDialog::SetDefID

Изменяет кнопок элемента управления по умолчанию для диалогового окна.

```
void SetDefID(UINT nID);
```

### <a name="parameters"></a>Параметры

*nID*<br/>
Указывает идентификатор кнопка элемент управления, который будет использоваться по умолчанию.

##  <a name="sethelpid"></a>  CDialog::SetHelpID

Задает идентификатор контекстной справки для диалогового окна.

```
void SetHelpID(UINT nIDR);
```

### <a name="parameters"></a>Параметры

*nIDR*<br/>
Указывает идентификатор контекстной справки.

## <a name="see-also"></a>См. также

[Образец DLGCBR32 MFC](../../overview/visual-cpp-samples.md)<br/>
[Пример MFC DLGTEMPL](../../overview/visual-cpp-samples.md)<br/>
[Класс CWnd](../../mfc/reference/cwnd-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)
