---
title: Сокеты Windows. Фон
ms.date: 11/04/2016
helpviewer_keywords:
- record-oriented data [MFC]
- e-mail [MFC]
- Internet Protocol Suite
- mail [MFC]
- communications [MFC], domain
- Windows Sockets [MFC], stream sockets
- mail [MFC], programming for
- sockets [MFC], stream sockets
- datagram sockets [MFC]
- SOCKET handle
- data types [MFC], socket
- e-mail [MFC], programming for
- X Window servers
- sequenced data flow
- stream sockets [MFC]
ms.assetid: f60d4ed2-bf23-4a0e-98d2-fee77e8473dd
ms.openlocfilehash: 1c4a6dc6740660d1097785578cdac355983cad18
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81360126"
---
# <a name="windows-sockets-background"></a>Сокеты Windows. Фон

В этой статье объясняется характер и назначение windows Sockets. В статье также:

- [Определяет термин "розетка".](#_core_definition_of_a_socket)

- [Описывает тип данных ручки SOCKET.](#_core_the_socket_data_type)

- [Описывает использование розеток](#_core_uses_for_sockets).

Спецификация Windows Sockets определяет бинарный интерфейс сетевого программирования для Microsoft Windows. Розетки Windows основаны на реализации разъемов UNIX в Беркли программного обеспечения распределения (BSD, релиз 4.3) из Калифорнийского университета в Беркли. Спецификация включает в себя как процедуры разъема в стиле BSD, так и расширения, характерные для Windows. Использование Windows Sockets позволяет приложению общаться в любой сети, которая соответствует API Windows Sockets. На Win32 розетки Windows обеспечивают безопасность потоков.

Многие поставщики сетевого программного обеспечения поддерживают Windows Sockets под сетевыми протоколами, включая протокол управления передачей/Интернет (Протокол TCP/IP), сетевую систему Xerox (XNS), протокол DECNet корпорации digital Equipment, Интернет-обмен пакетами -Секвенированную биржу (IPX/SPX) корпорации Novell Corporation и другие. Хотя нынешняя спецификация Windows Sockets определяет абстракцию розеток для TCP/IP, любой сетевой протокол может соответствовать Windows Sockets, поставляя свою собственную версию библиотеки динамических ссылок (DLL), которая реализует розетки Windows. Примеры коммерческих приложений, написанных с Windows Sockets включают X Windows серверов, терминал эмуляторов и систем электронной почты.

> [!NOTE]
> Цель Windows Sockets состоит в том, чтобы абстрагироваться от базовой сети, чтобы вам не нужно было быть осведомленным об этой сети, и поэтому ваше приложение может работать в любой сети, которая поддерживает розетки. Следовательно, в этой документации не обсуждаются детали сетевых протоколов.

Библиотека класса Фонда Майкрософт (MFC) поддерживает программирование с помощью API Windows Sockets, предоставляя два класса. Один из этих `CSocket`классов, , обеспечивает высокий уровень абстракции для упрощения программирования сетевой связи.

Спецификация Windows Sockets, Windows Sockets: Открытый интерфейс для сетевых вычислений под Microsoft Windows, в настоящее время в версии 1.1, была разработана в качестве стандарта открытых сетей большой группой частных лиц и корпораций в сообществе TCP/IP и свободно доступна для использования. Модель программирования розеток поддерживает один "коммуникационный домен" в настоящее время, используя Интернет-протокол Suite. Спецификация доступна в Windows SDK.

> [!TIP]
> Поскольку розетки используют пакет Интернет-протоколов, они являются предпочтительным маршрутом для приложений, поддерживающих интернет-коммуникации на «информационной магистрали».

## <a name="definition-of-a-socket"></a><a name="_core_definition_of_a_socket"></a>Определение розетки

Розетка — это конечная точка связи — объект, через который приложение Windows Sockets отправляет или получает пакеты данных по сети. Разъем имеет тип и связан с запущенным процессом, и у него может быть имя. В настоящее время розетки обычно обмениваются данными только с другими розетками в том же "домене связи", который использует пакет Интернет-протоколов.

Оба вида розеток являются двунаправленными; это потоки данных, которые могут передаваться в обоих направлениях одновременно (полный дуплекс).

Доступны два типа розетки:

- Сокеты потоков

   Поток розетки обеспечивают поток данных без границ записи: поток байтов. Потоки гарантированно будут доставлены и должны быть правильно секвенированы и недублированы.

- Сокеты датаграмм

   Разъемы Datagram поддерживают поток данных, ориентированный на запись, который не гарантируется к доставке и не может быть секвенирован как отправленный или недублированный.

"Секвенированный" означает, что пакеты доставляются в отправленном заказе. "Unduplicated" означает, что вы получаете определенный пакет только один раз.

> [!NOTE]
> В некоторых сетевых протоколах, таких как XNS, потоки могут быть ориентированы на запись, как потоки записей, а не потоки байтов. Однако в рамках более распространенного протокола TCP/IP потоки являются потоковами. Windows Sockets обеспечивает уровень абстракции, не зависяй от базового протокола.

Для получения информации об этих типах и какой разъем использовать в каких ситуациях, см [Windows розетки: Поток розетки](../mfc/windows-sockets-stream-sockets.md) и [Windows розетки: Datagram розетки](../mfc/windows-sockets-datagram-sockets.md).

## <a name="the-socket-data-type"></a><a name="_core_the_socket_data_type"></a>Тип данных SOCKET

Каждый объект разъема MFC инкапсулирует ручку на объект Windows Sockets. Тип данных этой ручки **SOCKET**. Ручка **SOCKET** аналогична ручке `HWND` для окна. Классы разъема MFC обеспечивают операции на инкапсулированной ручке.

Тип данных **SOCKET** подробно описан в SDK Windows. Смотрите "Разное тип данных и значения ошибок" под windows Sockets.

## <a name="uses-for-sockets"></a><a name="_core_uses_for_sockets"></a>Использует для розеток

Розетки очень полезны по крайней мере в трех контекстах коммуникаций:

- Модели клиентов/серверов.

- Одноранговые сценарии, такие как приложения для обмена сообщениями.

- Создание удаленных вызовов процедуры (RPC) путем получения приложения интерпретировать сообщение как вызов функции.

> [!TIP]
> Идеальный случай для использования разъемов MFC, когда вы пишете оба конца сообщения: с помощью MFC на обоих концах. Для получения дополнительной информации по этой теме, в том числе о том, как управлять случаем, когда вы общаетесь с приложениями, не входящих в MFC, [см.](../mfc/windows-sockets-byte-ordering.md)

Для получения дополнительной информации, см Windows Розетки Спецификация: **ntohs**, **ntohl**, **htons**, **htonl**. Кроме того, см.

- [Сокеты Windows. Использование сокетов с архивами](../mfc/windows-sockets-using-sockets-with-archives.md)

- [Сокеты Windows. Пример сокетов с использованием архивов](../mfc/windows-sockets-example-of-sockets-using-archives.md)

- [Сокеты Windows. Использование класса CAsyncSocket](../mfc/windows-sockets-using-class-casyncsocket.md)

## <a name="see-also"></a>См. также раздел

[Сокеты Windows в MFC](../mfc/windows-sockets-in-mfc.md)
