---
description: 'См. Дополнительные сведения о сокетах Windows: фоновом режиме'
title: Сокеты Windows. Фон
ms.date: 11/04/2016
helpviewer_keywords:
- record-oriented data [MFC]
- e-mail [MFC]
- Internet Protocol Suite
- mail [MFC]
- communications [MFC], domain
- Windows Sockets [MFC], stream sockets
- mail [MFC], programming for
- sockets [MFC], stream sockets
- datagram sockets [MFC]
- SOCKET handle
- data types [MFC], socket
- e-mail [MFC], programming for
- X Window servers
- sequenced data flow
- stream sockets [MFC]
ms.assetid: f60d4ed2-bf23-4a0e-98d2-fee77e8473dd
ms.openlocfilehash: 9ac373f5f81dfe3914664d14122a7a6bd46cda40
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97214472"
---
# <a name="windows-sockets-background"></a>Сокеты Windows. Фон

В этой статье объясняется характер и назначение сокетов Windows. Кроме того, эта статья:

- [Определяет термин "Socket"](#_core_definition_of_a_socket).

- [Описывает тип данных обработчика сокета](#_core_the_socket_data_type).

- [Описывает использование сокетов](#_core_uses_for_sockets).

Спецификация сокетов Windows определяет совместимый с двоичным интерфейсом программирования сети для Microsoft Windows. Сокеты Windows основаны на реализации сокетов UNIX в распределении программного обеспечения Berkeley (BSD, выпуск 4,3) из университета штата Калифорния на языке Berkeley. Спецификация включает как подпрограммы сокета в стиле BSD, так и расширения, относящиеся к Windows. Использование сокетов Windows позволяет приложению взаимодействовать по любой сети, которая соответствует API-интерфейсу сокетов Windows. В Win32 сокеты Windows обеспечивают безопасность потоков.

Многие поставщики сетевых программного обеспечения поддерживают сокеты Windows в рамках сетевых протоколов, включая протокол TCP/IP, сетевую систему Xerox (КСНС), протокол DECnet, а также обмен пакетами Интернет-пакетов Novell Corporation, Exchange или виртуализированный Exchange (IPX/SPX) и др. Несмотря на то, что в настоящее время спецификация сокетов Windows определяет абстракцию сокетов для TCP/IP, любой сетевой протокол может соответствовать сокетам Windows, предоставляя собственную версию библиотеки динамической компоновки (DLL), которая реализует сокеты Windows. Примерами коммерческих приложений, написанных с помощью сокетов Windows, являются серверы Windows, Эмуляторы терминалов и системы электронной почты.

> [!NOTE]
> Предназначение сокетов Windows заключается в том, чтобы отказаться от базовой сети, чтобы не знать об этой сети, а приложение можно было запускать в любой сети, поддерживающей сокеты. Следовательно, в этой документации не рассматриваются сведения о сетевых протоколах.

Библиотека Microsoft Foundation Class (MFC) поддерживает программирование с помощью API сокетов Windows, предоставляя два класса. Один из этих классов, `CSocket` предоставляет высокий уровень абстракции для упрощения программирования сетевого взаимодействия.

Спецификация сокетов Windows, сокеты Windows: открытый интерфейс для сетевых вычислений в Microsoft Windows, теперь в версии 1,1, был разработан в качестве общедоступного сетевого стандарта большой группой пользователей и корпорацией в сообществе TCP/IP и свободно доступен для использования. Модель программирования "сокеты" в настоящее время поддерживает один "домен взаимодействия", используя набор протоколов IP. Спецификация доступна в Windows SDK.

> [!TIP]
> Поскольку сокеты используют набор IP-протоколов, они являются предпочтительным маршрутом для приложений, поддерживающих Интернет-подключения на "Information".

## <a name="definition-of-a-socket"></a><a name="_core_definition_of_a_socket"></a> Определение сокета

Сокет — это конечная точка связи — объект, через который приложение сокетов Windows отправляет или получает пакеты данных по сети. Сокет имеет тип и связан с выполняемым процессом и может иметь имя. В настоящее время сокеты обычно обмениваются данными только с другими сокетами в том же "домене взаимодействия", который использует набор протоколов IP.

Оба типа сокетов являются двунаправленными; Это потоки данных, которые могут обмениваться данными в обоих направлениях одновременно (с полным дуплексом).

Доступны два типа сокетов:

- Сокеты потоков

   Сокеты потоков обеспечивают поток данных без границ записи: поток байтов. Потоки гарантированно доставляются и должны быть правильно упорядочены и недублированы.

- Сокеты датаграмм

   Сокеты датаграмм поддерживают поток данных, ориентированный на записи, который не гарантированно доставляется и может не быть упорядочен как отправленный или недублированный.

"Виртуализированный" означает, что пакеты доставляются в отправленном порядке. "Недублированный" означает, что вы получаете определенный пакет только один раз.

> [!NOTE]
> В некоторых сетевых протоколах, таких как КСНС, потоки могут быть ориентированы на запись в виде потоков записей, а не из потоков байтов. Однако в наиболее распространенном протоколе TCP/IP потоки представляют собой байтовые потоки. Сокеты Windows предоставляют уровень абстракции, не зависящий от базового протокола.

Сведения об этих типах и типе сокета для использования в этих ситуациях см. в статье [сокеты Windows: сокеты потоков](../mfc/windows-sockets-stream-sockets.md) и [сокеты Windows: сокеты датаграммы](../mfc/windows-sockets-datagram-sockets.md).

## <a name="the-socket-data-type"></a><a name="_core_the_socket_data_type"></a> Тип данных СОКЕТа

Каждый объект сокета MFC инкапсулирует маркер объекта Windows Sockets. Тип данных этого обработчика — **Socket**. Маркер **сокета** аналогичен `HWND` для окна. Классы сокетов MFC предоставляют операции с инкапсулированным маркером.

Тип данных **сокета** подробно описан в Windows SDK. См. раздел "тип данных сокета и значения ошибок" в разделе сокеты Windows.

## <a name="uses-for-sockets"></a><a name="_core_uses_for_sockets"></a> Использование сокетов

Сокеты очень полезны по крайней мере в трех контекстах связи:

- Модели клиент/сервер.

- Одноранговые сценарии, например приложения для обмена сообщениями.

- Выполнение удаленных вызовов процедур (RPC) путем того, как принимающее приложение интерпретирует сообщение как вызов функции.

> [!TIP]
> Идеальным вариантом использования сокетов MFC является ситуация, когда вы пишете оба конца связи: использование MFC на обоих концах. Дополнительные сведения об этом разделе, в том числе об управлении обращением к приложениям, не относящимся к MFC, см. в разделе [сокеты Windows: упорядочение байтов](../mfc/windows-sockets-byte-ordering.md).

Дополнительные сведения см. в разделе Спецификация сокетов Windows: **нтохс**, **нтохл**, **хтонс**, **хтонл**. См. также следующие разделы:

- [Сокеты Windows: Использование сокетов с архивами](../mfc/windows-sockets-using-sockets-with-archives.md)

- [Сокеты Windows. пример сокетов с использованием архивов](../mfc/windows-sockets-example-of-sockets-using-archives.md)

- [Сокеты Windows: использование класса CAsyncSocket](../mfc/windows-sockets-using-class-casyncsocket.md)

## <a name="see-also"></a>См. также раздел

[Сокеты Windows в MFC](../mfc/windows-sockets-in-mfc.md)
