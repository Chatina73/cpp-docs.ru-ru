---
description: 'Дополнительные сведения о: TN020: соглашения об именовании и нумерации ИДЕНТИФИКАТОРов'
title: TN020. Соглашения именования и нумерации идентификаторов
ms.date: 11/04/2016
f1_keywords:
- vc.id
helpviewer_keywords:
- TN020
- resource identifiers, naming and numbering
- resource identifiers
ms.assetid: aecbd2cf-68b3-47f6-ae21-b1f507917245
ms.openlocfilehash: 85f59e45ec9d4ce748515cf638f4fb4cf33c7d38
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97215876"
---
# <a name="tn020-id-naming-and-numbering-conventions"></a>TN020. Соглашения именования и нумерации идентификаторов

Это примечание описывает соглашения об именовании и нумерации ИДЕНТИФИКАТОРов, которые используются библиотекой MFC 2,0 для ресурсов, команд, строк, элементов управления и дочерних окон.

Соглашения об именовании и нумерации ИДЕНТИФИКАТОРов MFC предназначены для соблюдения следующих требований.

- Укажите согласованный стандарт именования ИДЕНТИФИКАТОРов, используемый в библиотеках MFC и приложениях MFC, которые поддерживаются редактором ресурсов Visual C++. Это упрощает для программиста интерпретацию типа и источника ресурса по его ИДЕНТИФИКАТОРу.

- Акцентируйте внимание на строгой связи "один к одному" между определенными типами идентификаторов.

- Соответствие уже широко используемым стандартам для именования идентификаторов в Windows.

- Секционировать пространство для нумерации ИДЕНТИФИКАТОРов. ИДЕНТИФИКАЦИОНные номера могут быть назначены программистами, MFC, Windows и Visual C++, изменяемыми ресурсами. Подходящее секционирование поможет избежать дублирования ИДЕНТИФИКАЦИОНных номеров.

## <a name="the-id-prefix-naming-convention"></a>Соглашение об именовании префиксов ИДЕНТИФИКАТОРов

В приложении могут встречаться несколько типов идентификаторов. Соглашение об именовании ИДЕНТИФИКАТОРов MFC определяет разные префиксы для разных типов ресурсов.

MFC использует префикс "IDR_", чтобы указать идентификатор ресурса, который применяется к нескольким типам ресурсов. Например, для данного окна фрейма MFC использует тот же префикс "IDR_" для указания ресурса меню, ускорителя, строки и значка. В следующей таблице показаны различные префиксы и их использование.

|Prefix|Использовать|
|------------|---------|
|IDR_|Для нескольких типов ресурсов (в основном используется для меню, ускорителей и лент).|
|IDD_|Для ресурсов шаблона диалогового окна (например, IDD_DIALOG1).|
|IDC_|Для ресурсов курсора.|
|IDI_|Для ресурсов значков.|
|IDB_|Для ресурсов точечного рисунка.|
|IDS_|Для строковых ресурсов.|

В рамках ресурса диалога MFC подчиняется следующим соглашениям:

|Префикс или метка|Использовать|
|---------------------|---------|
|ИДОК, ИДКАНЦЕЛ|Для стандартных идентификаторов кнопки отправки.|
|IDC_|Для других элементов управления диалогового окна.|

Префикс "IDC_" также используется для курсоров. Такой конфликт именования обычно не является проблемой, так как обычное приложение имеет немало курсоров и многих элементов управления диалогового окна.

В рамках ресурса меню MFC использует следующие соглашения:

|Prefix|Использовать|
|------------|---------|
|IDM_|Для пунктов меню, не использующих архитектуру команд MFC.|
|ID_|Для команд меню, использующих архитектуру команд MFC.|

Команды, которые следуют за архитектурой команд MFC, должны иметь обработчик команд ON_COMMAND и могут иметь обработчик ON_UPDATE_COMMAND_UI. Если эти обработчики команд соответствуют архитектуре команд MFC, они будут правильно работать независимо от того, привязаны ли они к команде меню, кнопке панели инструментов или к кнопке диалогового окна. Тот же префикс "ID_" также используется для строки меню, отображаемой на панели сообщений программы. Большинство пунктов меню в приложении должны соответствовать соглашениям о командах MFC. Все стандартные идентификаторы команд (например, ID_FILE_NEW) соответствуют этому соглашению.

MFC также использует "IDP_" как специализированную форму строк (вместо "IDS_"). Строки с префиксом "IDP_" — это строки, которые используются в окнах сообщений. Строки "IDP_" могут содержать "%1" и "%2" в качестве заполнителей для строк, определенных программой. Строки "IDP_" обычно содержат связанные с ними разделы справки, а строки "IDS_" — нет. Строки "IDP_" всегда локализуются, а строки "IDS_" могут быть не локализованы.

Библиотека MFC также использует префикс "IDW_" в качестве специализированной формы идентификаторов элементов управления (вместо "IDC_"). Эти идентификаторы присваиваются дочерним окнам, таким как представления и разделителей классами платформы. Идентификаторы реализации MFC начинаются с префикса "AFX_".

## <a name="the-id-numbering-convention"></a>Соглашение о ID-Numbering

В следующей таблице перечислены допустимые диапазоны для идентификаторов конкретных типов. Некоторые ограничения являются ограничениями на техническую реализацию, а другие — соглашениями, предназначенными для предотвращения конфликта идентификаторов с предопределенными идентификаторами Windows или реализациями по умолчанию MFC.

Настоятельно рекомендуется определить все идентификаторы в рекомендуемых диапазонах. Нижняя граница этих диапазонов равна 1, так как не используется значение 0. Рекомендуется использовать общее соглашение и использовать 100 или 101 в качестве первого идентификатора.

|Prefix|Тип ресурса|Допустимый диапазон|
|------------|-------------------|-----------------|
|IDR_|multiple|от 1 до 0x6FFF|
|IDD_|диалоговые шаблоны|от 1 до 0x6FFF|
|IDC_, IDI_ IDB_|курсоры, значки, растровые изображения|от 1 до 0x6FFF|
|IDS_, IDP_|общие строки|от 1 до 0x7FFF|
|ID_|команды|от 0x8000 до 0xDFFF|
|IDC_|controls|от 8 до 0xDFFF|

Причины для этих ограничений диапазона:

- По соглашению значение идентификатора, равное 0, не используется.

- Ограничения реализации Windows ограничивают истинность идентификаторов ресурсов так, чтобы они были меньше или равны 0x7FFF.

- Внутренняя платформа MFC резервирует следующие диапазоны:

  - 0x7000 через 0x7FFF (см. AFXRES. h)

  - 0xE000 через 0xEFFF (см. AFXRES. h)

  - от 16000 до 18000 (см. афксриббонрес. h)

  Эти диапазоны могут измениться в будущих реализациях MFC.

- Несколько системных команд Windows используют диапазон от число 0xF000 не до 0xFFFF.

- Идентификаторы элементов управления от 1 до 7 зарезервированы для стандартных элементов управления, таких как ИДОК и ИДКАНЦЕЛ.

- Диапазон от 0x8000 до 0xFFFF для строк зарезервирован для команд в меню.

## <a name="see-also"></a>См. также раздел

[Технические примечания по номеру](../mfc/technical-notes-by-number.md)<br/>
[Технические примечания по категориям](../mfc/technical-notes-by-category.md)
