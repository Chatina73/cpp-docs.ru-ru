---
title: Реализация панели инструментов MFC
ms.date: 11/04/2016
helpviewer_keywords:
- toolbars [MFC], creating
- buttons [MFC], MFC toolbars
- toolbars [MFC], docking
- CToolBar class [MFC], creating toolbars
- MFC toolbars
- floating toolbars [MFC]
- toolbars [MFC], floating
- docking toolbars [MFC]
- bitmaps [MFC], toolbar
- toolbar controls [MFC]
- CToolBarCtrl class [MFC], implementing toolbars
- tool tips [MFC], enabling
- toolbars [MFC]
- toolbars [MFC], implementing MFC toolbars
ms.assetid: af3319ad-c430-4f90-8361-e6a2c06fd084
ms.openlocfilehash: 7876e9403389c19a24e5a482534d0f223eaa4bf5
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84626115"
---
# <a name="mfc-toolbar-implementation"></a>Реализация панели инструментов MFC

Панель инструментов — это [панель элементов управления](control-bars.md) , которая содержит растровые изображения элементов управления. Эти изображения могут вести себя как кнопки, флажки или переключатели. MFC предоставляет классу [CToolBar](reference/ctoolbar-class.md) для управления панелями инструментов.

Если включить его, пользователи панелей инструментов MFC смогут закрепить их на границе окна или "Переместить" в любое место в окне приложения. MFC не поддерживает настраиваемые панели инструментов, такие как в среде разработки.

MFC также поддерживает советы по использованию инструментов: небольшие всплывающие окна, описывающие назначение кнопки на панели инструментов при наведении указателя мыши на кнопку. По умолчанию, когда пользователь нажимает кнопку на панели инструментов, строка состояния отображается в строке состояния (если она есть). Вы можете активировать обновление строки состояния "вылет по", чтобы отобразить строку состояния, когда указатель мыши наведен на кнопку, не нажимая ее.

> [!NOTE]
> Начиная с MFC версии 4,0, панели инструментов и подсказки реализуются с помощью функций Windows 95 и более поздних версий вместо предыдущей реализации, характерной для MFC.

Для обеспечения обратной совместимости MFC оставляет старую реализацию панели инструментов в классе `COldToolBar` . Документация для более ранних версий MFC описана `COldToolBar` в разделе `CToolBar` .

Создайте первую панель инструментов в программе, выбрав параметр панель инструментов в мастере приложений. Можно также создать дополнительные панели инструментов.

В этой статье представлены следующие действия.

- [Кнопки панели инструментов](#_core_toolbar_buttons)

- [Закрепленные и плавающие панели инструментов](#_core_docking_and_floating_toolbars)

- [Панели инструментов и подсказки](#_core_toolbars_and_tool_tips)

- [Классы CToolBar и CToolBarCtrl](#_core_the_ctoolbar_and_ctoolbarctrl_classes)

- [Точечный рисунок панели инструментов](#_core_the_toolbar_bitmap)

## <a name="toolbar-buttons"></a><a name="_core_toolbar_buttons"></a>Кнопки панели инструментов

Кнопки на панели инструментов аналогичны элементам в меню. Оба типа объектов пользовательского интерфейса создают команды, обрабатываемые программой путем предоставления функций обработчика. Часто кнопки панели инструментов дублируют функциональные возможности команд меню, предоставляя альтернативный пользовательский интерфейс тем же функциональным возможностям. Такое дублирование упорядочивается просто путем присваивания кнопки и пункта меню одинакового идентификатора.

Кнопки на панели инструментов можно отображать и вести себя как кнопки, флажки или переключатели. Дополнительные сведения см. в разделе Class [CToolBar](reference/ctoolbar-class.md).

## <a name="docking-and-floating-toolbars"></a><a name="_core_docking_and_floating_toolbars"></a>Закрепление и плавающие панели инструментов

Панель инструментов MFC позволяет:

- Остается стационарной с одной стороны родительского окна.

- Можно перетаскивать и закреплять, а также присоединять к любой стороне или сторонам указанного родительского окна.

- Быть "плавающим" или отсоединенным от окна фрейма в отдельном окне с рамкой, чтобы пользователь мог переместить его в любую удобную точку.

- При плавающем изменении размера.

Дополнительные сведения см. в статье [закрепление и плавающие панели инструментов](docking-and-floating-toolbars.md).

## <a name="toolbars-and-tool-tips"></a><a name="_core_toolbars_and_tool_tips"></a>Панели инструментов и подсказки

Панели инструментов MFC также можно использовать для показа всплывающих подсказок — маленьких окон, содержащих краткое текстовое описание назначения кнопки панели инструментов. Когда пользователь наводит указатель мыши на кнопку панели инструментов, появляется всплывающая подсказка, предлагающая подсказку. Дополнительные сведения см. в [подсказках на панели инструментов](toolbar-tool-tips.md)статьи.

## <a name="the-ctoolbar-and-ctoolbarctrl-classes"></a><a name="_core_the_ctoolbar_and_ctoolbarctrl_classes"></a>Классы CToolBar и CToolBarCtrl

Управление панелями инструментов приложения осуществляется через класс [CToolBar](reference/ctoolbar-class.md). Начиная с MFC версии 4,0, была `CToolBar` реализована повторно для использования общего элемента управления ToolBar, доступного в windows 95 или более поздней версии и Windows NT версий 3,51 или более поздней.

Эта перереализация приводит к уменьшению кода MFC для панелей инструментов, так как в MFC используется поддержка операционной системы. Ререализация также улучшает возможности. `CToolBar`Для работы с панелями инструментов можно использовать функции-члены, а также получить ссылку на базовый объект [CToolBarCtrl](reference/ctoolbarctrl-class.md) и вызвать его функции-члены для настройки панели инструментов и дополнительных функций.

> [!TIP]
> Если вы сильно приложили к старой реализации MFC `CToolBar` , поддержка этой службы по-прежнему доступна. Ознакомьтесь с этой статьей, [используя старые панели инструментов](using-your-old-toolbars.md).

См. также общий пример MFC [докктул](../overview/visual-cpp-samples.md).

## <a name="the-toolbar-bitmap"></a><a name="_core_the_toolbar_bitmap"></a>Точечный рисунок панели инструментов

После создания `CToolBar` объект создает изображение панели инструментов, загружая один точечный рисунок, который содержит одно изображение для каждой кнопки. Мастер приложений создает стандартный точечный рисунок панели инструментов, который можно настроить с помощью [редактора панели инструментов](../windows/toolbar-editor.md)Visual C++.

### <a name="what-do-you-want-to-know-more-about"></a>Что вы хотите узнать подробнее

- [Общие сведения о панелях инструментов](toolbar-fundamentals.md)

- [Закрепленные и плавающие панели инструментов](docking-and-floating-toolbars.md)

- [Советы по инструментам панели инструментов](toolbar-tool-tips.md)

- [Работа с элементом управления ToolBar](working-with-the-toolbar-control.md)

- [Использование старых панелей инструментов](using-your-old-toolbars.md)

- Классы [CToolBar](reference/ctoolbar-class.md) и [CToolBarCtrl](reference/ctoolbarctrl-class.md)

## <a name="see-also"></a>См. также раздел

[Панели инструментов](toolbars.md)<br/>
[Редактор панелей инструментов](../windows/toolbar-editor.md)
