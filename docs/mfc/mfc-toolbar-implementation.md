---
title: Реализация панели инструментов MFC
ms.date: 11/04/2016
helpviewer_keywords:
- toolbars [MFC], creating
- buttons [MFC], MFC toolbars
- toolbars [MFC], docking
- CToolBar class [MFC], creating toolbars
- MFC toolbars
- floating toolbars [MFC]
- toolbars [MFC], floating
- docking toolbars [MFC]
- bitmaps [MFC], toolbar
- toolbar controls [MFC]
- CToolBarCtrl class [MFC], implementing toolbars
- tool tips [MFC], enabling
- toolbars [MFC]
- toolbars [MFC], implementing MFC toolbars
ms.assetid: af3319ad-c430-4f90-8361-e6a2c06fd084
ms.openlocfilehash: 38811be765d4427c4083b8f142b54fb67b9076a0
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81359321"
---
# <a name="mfc-toolbar-implementation"></a>Реализация панели инструментов MFC

Панель инструментов — это [панель управления,](../mfc/control-bars.md) содержащая изображения элементов управления bitmap. Эти изображения могут вести себя как кнопки, флажки или радиокнопки. MFC поставляет класс [CToolbar](../mfc/reference/ctoolbar-class.md) для управления инструментами.

Если вы включите его, пользователи mFC панели инструментов могут пристыковать их к краю окна или "плавать" их в любом месте в окне приложения. MFC не поддерживает настраиваемые панели инструментов, как в среде разработки.

MFC также поддерживает советы по инструментам: небольшие всплывающие окна, описывающие назначение кнопки панели инструментов при расположении мыши над кнопкой. По умолчанию, когда пользователь нажимает кнопку панели инструментов, строка состояния появляется в строке состояния (если она есть). Вы можете активировать "пролетая мимо" обновления статуса, чтобы отобразить строку состояния, когда мышь расположена над кнопкой, не нажимая на нее.

> [!NOTE]
> По версии MFC 4.0, панели инструментов и советы инструменты реализованы с помощью Windows 95, а затем функциональность вместо предыдущей реализации, характерной для MFC.

Для обратной совместимости MFC сохраняет старую реализацию `COldToolBar`панели инструментов в классе. Документация для более ранних `COldToolBar` `CToolBar`версий МФЦ описывают под .

Создайте первую панель инструментов в программе, выбрав опцию панели инструментов в «Мастере приложения». Вы также можете создать дополнительные панели инструментов.

В этой статье приводятся следующие:

- [Кнопки панели инструментов](#_core_toolbar_buttons)

- [Закрепленные и плавающие панели инструментов](#_core_docking_and_floating_toolbars)

- [Панели инструментов и советы по инструментам](#_core_toolbars_and_tool_tips)

- [Классы CToolBar и CToolBarCtrl](#_core_the_ctoolbar_and_ctoolbarctrl_classes)

- [Бит-карта панели инструментов](#_core_the_toolbar_bitmap)

## <a name="toolbar-buttons"></a><a name="_core_toolbar_buttons"></a>Кнопки панели инструментов

Кнопки в панели инструментов аналогичны элементам меню. Оба типа объектов пользовательского интерфейса генерируют команды, которые программа обрабатывает, предоставляя функции обработчика. Часто кнопки панели инструментов дублируют функциональность команд меню, предоставляя альтернативный пользовательский интерфейс той же функциональности. Такое дублирование организуется просто путем предоставления кнопке и пункту меню того же идентификатора.

Вы можете сделать кнопки в панели инструментов появляются и ведут себя как кнопки, флажки или кнопки радио. Для получения дополнительной [CToolBar](../mfc/reference/ctoolbar-class.md)информации см.

## <a name="docking-and-floating-toolbars"></a><a name="_core_docking_and_floating_toolbars"></a>Стыковка и плавающие панели инструментов

Панель инструментов MFC может:

- Оставайтесь неподвижными вдоль одной стороны родительского окна.

- Быть тащили и "пристыкован", или прилагается, пользователем в любой стороне или стороны родительского окна вы указываете.

- Будьте "плавал", или отделены от окна кадра, в своем собственном окне мини-рамки, чтобы пользователь мог переместить его в любое удобное положение.

- Перегабаритйте во время плавания.

Для получения дополнительной информации, [см.](../mfc/docking-and-floating-toolbars.md)

## <a name="toolbars-and-tool-tips"></a><a name="_core_toolbars_and_tool_tips"></a>Инструменты и советы по инструментам

MFC панели инструментов также могут быть сделаны для отображения "инструмент советы" - крошечные всплывающие окна, содержащие краткое текстовое описание цели кнопки панели инструментов. Когда пользователь перемещает мышь по кнопке панели инструментов, всплывает окно наконечника инструмента, чтобы предложить подсказку. Для получения дополнительной информации, [см.](../mfc/toolbar-tool-tips.md)

## <a name="the-ctoolbar-and-ctoolbarctrl-classes"></a><a name="_core_the_ctoolbar_and_ctoolbarctrl_classes"></a>Классы CToolBar и CToolBarCtrl

Вы управляете инструментами вашего приложения через класс [CToolBar.](../mfc/reference/ctoolbar-class.md) По состоянию на версию `CToolBar` MFC 4.0, был повторно реализован для использования панели инструментов общего управления, доступного под Windows 95 или позже и Windows NT версия 3.51 или позже.

Эта повторная реализация приводит к меньшему коду MFC для панели инструментов, потому что MFC использует поддержку операционной системы. Повторное осуществление также повышает возможности. Вы можете `CToolBar` использовать функции членов для управления инструментами, или вы можете получить ссылку на основной объект [CToolBarCtrl](../mfc/reference/ctoolbarctrl-class.md) и вызвать его функции члена для настройки панели инструментов и дополнительной функциональности.

> [!TIP]
> Если вы вложили значительные средства в `CToolBar`старую реализацию MFC, эта поддержка по-прежнему доступна. Смотрите статью [С помощью старых инструментов](../mfc/using-your-old-toolbars.md).

Также смотрите общий образец MFC [DOCKTOOL](../overview/visual-cpp-samples.md).

## <a name="the-toolbar-bitmap"></a><a name="_core_the_toolbar_bitmap"></a>Биткарта панели инструментов

После построения `CToolBar` объект создает изображение панели инструментов, загружая одну битовую карту, которая содержит одно изображение для каждой кнопки. Мастер приложения создает стандартную битную карту панели инструментов, которую можно настроить с [помощью редактора панели инструментов](../windows/toolbar-editor.md)Visual C'.

### <a name="what-do-you-want-to-know-more-about"></a>Что вы хотите узнать больше о

- [Общие сведения о панелях инструментов](../mfc/toolbar-fundamentals.md)

- [Закрепленные и плавающие панели инструментов](../mfc/docking-and-floating-toolbars.md)

- [Советы инструмент инструментов панели инструментов](../mfc/toolbar-tool-tips.md)

- [Работа с управлением панели инструментов](../mfc/working-with-the-toolbar-control.md)

- [Использование старых инструментов](../mfc/using-your-old-toolbars.md)

- Классы [CToolBar](../mfc/reference/ctoolbar-class.md) и [CToolBarCtrl](../mfc/reference/ctoolbarctrl-class.md)

## <a name="see-also"></a>См. также раздел

[Панели инструментов](../mfc/toolbars.md)<br/>
[Редактор панели инструментов](../windows/toolbar-editor.md)
