---
description: 'Дополнительные сведения: отношения между объектами MFC'
title: Отношения между объектами MFC
ms.date: 11/04/2016
helpviewer_keywords:
- MFC, relationships between key objects
- objects [MFC], relationships
- relationships, MFC objects
- MFC object relationships
ms.assetid: 6e8f3b51-e80f-4d88-94c8-4c1e4ee163ad
ms.openlocfilehash: 0646d487d1d60293461316edddcb97fde30905a8
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97218060"
---
# <a name="relationships-among-mfc-objects"></a>Отношения между объектами MFC

Чтобы упростить процесс создания документа или представления в перспективе, рассмотрим выполняющуюся программу: документ, окно фрейма, в котором содержится представление, и представление, связанное с документом.

- Документ хранит список представлений этого документа и указатель на шаблон документа, который создал документ.

- Представление сохраняет указатель на документ и является дочерним по отношению к его родительскому окну фрейма.

- Окно фрейма документа сохраняет указатель на текущее активное представление.

- Шаблон документа хранит список открытых документов.

- Приложение сохраняет список шаблонов документов.

- Windows отслеживает все открытые окна, чтобы они могли отправить им сообщения.

Эти связи устанавливаются во время создания документа или представления. В следующей таблице показано, как объекты в выполняющейся программе могут получить доступ к другим объектам. Любой объект может получить указатель на объект приложения, вызвав глобальную функцию [афксжетапп](../mfc/reference/application-information-and-management.md#afxgetapp).

### <a name="gaining-access-to-other-objects-in-your-application"></a>Получение доступа к другим объектам в приложении

|Из объекта|Доступ к другим объектам|
|-----------------|---------------------------------|
|Документ|Используйте [жетфирствиевпоситион](../mfc/reference/cdocument-class.md#getfirstviewposition) и [жетнекствиев](../mfc/reference/cdocument-class.md#getnextview) для доступа к списку представлений документа.<br /><br /> Вызовите [жетдоктемплате](../mfc/reference/cdocument-class.md#getdoctemplate) , чтобы получить шаблон документа.|
|Представление|Чтобы получить документ, вызовите метод Get [документа](../mfc/reference/cview-class.md#getdocument) .<br /><br /> Вызовите [жетпарентфраме](../mfc/reference/cwnd-class.md#getparentframe) , чтобы получить окно фрейма.|
|Окно фрейма документа|Вызовите [жетактивевиев](../mfc/reference/cframewnd-class.md#getactiveview) , чтобы получить текущее представление.<br /><br /> Вызовите [жетактиведокумент](../mfc/reference/cframewnd-class.md#getactivedocument) , чтобы получить документ, присоединенный к текущему представлению.|
|Окно фрейма MDI|Вызовите [мдижетактиве](../mfc/reference/cmdiframewnd-class.md#mdigetactive) , чтобы получить текущую активную [CMDIChildWnd](../mfc/reference/cmdichildwnd-class.md).|

Как правило, окно фрейма имеет одно представление, но иногда, как в окнах-разделителях, одно и то же окно фрейма содержит несколько представлений. Окно фрейма сохраняет указатель на текущее активное представление; указатель обновляется при каждом активации другого представления.

> [!NOTE]
> Указатель на главное окно фрейма хранится в переменной-члене [m_pMainWnd](../mfc/reference/cwinthread-class.md#m_pmainwnd) объекта приложения. Вызов `OnFileNew` в переопределении `InitInstance` функции-члена `CWinApp` наборов *m_pMainWnd* для вас. Если не вызвать `OnFileNew` , необходимо задать значение переменной `InitInstance` самостоятельно. (Приложения-компоненты SDI (сервер) COM не могут задавать переменную, если параметром/Embedding находится в командной строке.) Обратите внимание, что *m_pMainWnd* теперь является членом класса, `CWinThread` а не `CWinApp` .

## <a name="see-also"></a>См. также раздел

[Шаблоны документов и процесс создания документа/представления](../mfc/document-templates-and-the-document-view-creation-process.md)<br/>
[Создание шаблона документа](../mfc/document-template-creation.md)<br/>
[Создание документа или представления](../mfc/document-view-creation.md)<br/>
[Создание новых документов, окон и представлений](../mfc/creating-new-documents-windows-and-views.md)
