---
title: Сокеты Windows. Уведомления сокетов
ms.date: 11/04/2016
helpviewer_keywords:
- Windows Sockets [MFC], notifications
- notifications [MFC], socket
- sockets [MFC], notifications
ms.assetid: 87d5bf70-6e77-49a9-9a64-aaadee2ad018
ms.openlocfilehash: e49001e9693872d23162284df49f128097e68784
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50476483"
---
# <a name="windows-sockets-socket-notifications"></a>Сокеты Windows. Уведомления сокетов

В этой статье описаны функции уведомления в классах сокета. Эти функции-члены являются функции обратного вызова, платформа вызывает для уведомления о важных событиях объект сокета. Ниже перечислены функции уведомлений.

- [OnReceive](../mfc/reference/casyncsocket-class.md#onreceive): уведомляет этот сокет отсутствия данных в буфере для того, чтобы получить, вызвав [Receive](../mfc/reference/casyncsocket-class.md#receive).

- [OnSend](../mfc/reference/casyncsocket-class.md#onsend): уведомляет этот сокет, что он может отправлять данные путем вызова [отправки](../mfc/reference/casyncsocket-class.md#send).

- [OnAccept](../mfc/reference/casyncsocket-class.md#onaccept): уведомляет этот прослушивающий сокет, который он может принять ожидающих запросов на подключение, вызвав [Accept](../mfc/reference/casyncsocket-class.md#accept).

- [OnConnect](../mfc/reference/casyncsocket-class.md#onconnect): уведомляет этот сокет подключения, его подключение выполнено: возможно успешно или, возможно по ошибке.

- [OnClose](../mfc/reference/casyncsocket-class.md#onclose): уведомляет этот сокет, который закрыл сокета, он подключен.

    > [!NOTE]
    >  — Это функция дополнительное уведомление [OnOutOfBandData](../mfc/reference/casyncsocket-class.md#onoutofbanddata). Это уведомление сообщает принимающий сокет, отправляющего сокет «внешнее» данные для отправки. Каналу данных — это логически независимым канал, связанный с каждой парой подключенных сокетах. Внешнее канал обычно используется для отправки данных слова «срочно». MFC поддерживает-каналу данных. Для опытных пользователей, работа с классом [CAsyncSocket](../mfc/reference/casyncsocket-class.md) может потребоваться использовать внешнее канал, но пользователи класса [CSocket](../mfc/reference/csocket-class.md) не рекомендуется использовать его. Простой способ — создать второй сокет для передачи таких данных. Дополнительные сведения о данных из внешнего см. в спецификации Windows Sockets, доступных в пакете SDK для Windows.

При наследовании от класса `CAsyncSocket`, необходимо переопределить функции уведомления для сетевых событий интерес для приложения. Если вы наследуете класс от класса `CSocket`, это выбор, следует ли переопределять функции уведомления интерес. Можно также использовать `CSocket` , в этом случае уведомление функции по умолчанию для ничего делать не требуется.

Эти функции являются переопределяемыми обратного вызова. `CAsyncSocket` и `CSocket` convert сообщения уведомления, но необходимо реализовать как уведомление функций ответ, если вы хотите использовать их. Уведомления функции вызываются во время гнезда уведомляется события интерес, например на наличие данных для чтения.

MFC вызывает уведомление функции, которые позволяют настраивать поведение сокета во время его получает уведомление. Например, можно вызвать `Receive` из вашей `OnReceive` функции уведомления, то есть на благосостояние уведомление что данных для чтения, вызвать `Receive` на его чтение. Этот подход не является обязательным, но это недопустимый сценарий. Кроме того, можно использовать функцию уведомления для отслеживания хода выполнения, печать **ТРАССИРОВКИ** сообщений и т. д.

Можно воспользоваться преимуществами этих уведомлений, переопределив функции уведомления в сокет в производном классе и обеспечивая реализацию.

Во время операции, такие как получение или отправка данных `CSocket` объект становится синхронной. Во время синхронного состояния все уведомления, предназначенные для других сокеты помещаются в очередь, пока текущего сокета ожидает уведомления, которое ему. (Например, во время `Receive` вызов, сокет хочет уведомление для чтения.) После того как сокет завершает свою работу синхронной и снова становится асинхронной, других сокеты смогут начать прием в очереди уведомлений.

> [!NOTE]
>  В `CSocket`, `OnConnect` функции уведомления никогда не вызывается. Для подключений, вызовите `Connect`, возвращающий по завершении соединения (успешно или с ошибкой). Как обрабатываются подключения уведомления — это деталь реализации MFC.

Дополнительные сведения о каждой функции уведомлений, см. в разделе функции — в класс `CAsyncSocket` в *Справочник по библиотеке MFC*. Исходный код и сведения об образцах MFC, см. в разделе [примеры MFC](../visual-cpp-samples.md).

Дополнительные сведения:

- [Сокеты Windows. Использование класса CAsyncSocket](../mfc/windows-sockets-using-class-casyncsocket.md)

- [Сокеты Windows. Наследование от классов сокета](../mfc/windows-sockets-deriving-from-socket-classes.md)

- [Сокеты Windows. Работа сокетов с архивами](../mfc/windows-sockets-how-sockets-with-archives-work.md)

- [Сокеты Windows. Блокировка](../mfc/windows-sockets-blocking.md)

- [Сокеты Windows. Порядок байтов](../mfc/windows-sockets-byte-ordering.md)

- [Сокеты Windows. Преобразование строк](../mfc/windows-sockets-converting-strings.md)

## <a name="see-also"></a>См. также

[Сокеты Windows в MFC](../mfc/windows-sockets-in-mfc.md)

