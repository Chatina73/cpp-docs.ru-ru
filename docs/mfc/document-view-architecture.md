---
title: Архитектура "документ-представление"
ms.date: 11/19/2018
helpviewer_keywords:
- CView class [MFC], view architecture
- CDocument class [MFC]
- MFC, views
- views [MFC], MFC document/view model
- document objects [MFC]
- document objects [MFC], MFC document/view model
- MFC, documents
- documents [MFC], MFC document/view model
- document objects [MFC], document/view architecture
ms.assetid: 6127768a-553f-462a-b01b-a5ee6068c81e
ms.openlocfilehash: a74aeba651d385cf3a5386e94ec20e4e56b7cd57
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84624791"
---
# <a name="documentview-architecture"></a>Архитектура "документ-представление"

По умолчанию мастер приложений MFC создает каркас приложения с классом документа и классом представления. В MFC управление данными разделяется на эти два класса. Документ хранит данные и управляет печатью данных и координирует обновление нескольких представлений данных. Представление отображает данные и управляет взаимодействием с пользователем, включая выделение и редактирование.

В этой модели объект документа MFC считывает и записывает данные в постоянное хранилище. Документ также может предоставлять интерфейс для данных в любом месте (например, в базе данных). Отдельный объект представления управляет отображением данных, от визуализации данных в окне до выбора пользователем и редактирования данных. Представление получает данные из документа и обращается к документу о любых изменениях данных.

Хотя вы можете легко переопределять или игнорировать разделение «документ/представление», в большинстве случаев есть веские причины для выполнения этой модели. Одним из лучших является потребность в нескольких представлениях одного и того же документа, таких как электронная таблица и представление диаграммы. Модель «документ/представление» позволяет отдельному объекту представления представлять каждое представление данных, а код, общий для всех представлений (например, механизм вычислений), может находиться в документе. В документе также выполняется задача обновления всех представлений при каждом изменении данных.

Архитектура документов и представлений MFC упрощает поддержку нескольких представлений, нескольких типов документов, окон-разделителей и других ценных функций пользовательского интерфейса.

Части платформы MFC, которые наиболее видны пользователю и программисту, являются документом и представлением. Большая часть работы по разработке приложения с помощью платформы ведет к написанию классов документов и представлений. В этом семействе статей описывается:

- В целях работы с документами и представлениями, а также их взаимодействия в платформе.

- Что необходимо сделать для их реализации.

В основе документа или представления лежит четыре ключевых класса:

Класс [CDocument](reference/cdocument-class.md) (или [коледокумент](reference/coledocument-class.md)) поддерживает объекты, используемые для хранения и управления данными программы, и предоставляет базовые функциональные возможности для классов документов, определяемых программистом. Документ представляет собой единицу данных, которые пользователь обычно открывает с помощью команды открыть в меню файл и сохраняет команду Сохранить в меню файл.

Класс [CView](reference/cview-class.md) (или один из его многих производных классов) предоставляет базовые функциональные возможности для классов представлений, определяемых программистом. Представление прикрепляется к документу и выступает в качестве посредника между документом и пользователем: представление визуализирует изображение документа на экране и интерпретирует ввод пользователя как операции над документом. Представление также визуализирует изображение для печати и предварительного просмотра печати.

[CFrameWnd](reference/cframewnd-class.md) (или один из его вариантов) поддерживает объекты, которые предоставляют рамку вокруг одного или нескольких представлений документа.

[CDocTemplate](reference/cdoctemplate-class.md) (или [ксингледоктемплате](reference/csingledoctemplate-class.md) или [кмултидоктемплате](reference/cmultidoctemplate-class.md)) поддерживает объект, который координирует один или несколько существующих документов заданного типа и управляет созданием правильных объектов документа, представления и фрейма окна для этого типа.

На следующем рисунке показана связь между документом и его представлением.

![Представление — это видимая часть документа](../mfc/media/vc379n1.gif "Представление — это видимая часть документа") <br/>
Документ и представление

Реализация документов и представлений в библиотеке классов разделяет сами данные от его отображения и операций пользователя с данными. Управление всеми изменениями данных осуществляется с помощью класса Document. Представление вызывает этот интерфейс для доступа к данным и их обновления.

Документы, связанные с ними представления и окна фрейма, которые создаются с помощью шаблона документа. Шаблон документа отвечает за создание всех документов одного типа документов и управление ими.

## <a name="what-do-you-want-to-know-more-about"></a>Что вы хотите узнать подробнее

- [Книжная ориентация архитектуры документа/представления](a-portrait-of-the-document-view-architecture.md)

- [Преимущества архитектуры "документ-представление"](advantages-of-the-document-view-architecture.md)

- [Классы документов и представлений, созданные мастером приложений](document-and-view-classes-created-by-the-mfc-application-wizard.md)

- [Альтернативы архитектуре "документ-представление"](alternatives-to-the-document-view-architecture.md)

- [Добавление нескольких представлений в один документ](adding-multiple-views-to-a-single-document.md)

- [Использование документов](using-documents.md)

- [Использование представлений](using-views.md)

- [Множественные типы документов, представления и окна фреймов](multiple-document-types-views-and-frame-windows.md)

- [Инициализация и очистка документов и представлений](initializing-and-cleaning-up-documents-and-views.md)

- [Инициализация собственных дополнений к документам & классов представлений](creating-new-documents-windows-and-views.md)

- [Использование классов баз данных с документами и представлениями](../data/mfc-using-database-classes-with-documents-and-views.md)

- [Использование классов баз данных без документов и представлений](../data/mfc-using-database-classes-without-documents-and-views.md)

- [Примеры](../overview/visual-cpp-samples.md)

## <a name="see-also"></a>См. также раздел

[Элементы пользовательского интерфейса](user-interface-elements-mfc.md)<br/>
[Windows](windows.md)<br/>
[Окна фрейма](frame-windows.md)<br/>
[Шаблоны документов и процесс создания документа/представления](document-templates-and-the-document-view-creation-process.md)<br/>
[Создание документа или представления](document-view-creation.md)<br/>
[Создание новых документов, окон и представлений](creating-new-documents-windows-and-views.md)
