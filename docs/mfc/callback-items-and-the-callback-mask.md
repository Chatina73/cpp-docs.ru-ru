---
title: Элементы обратного вызова и маска обратного вызова
ms.date: 11/04/2016
helpviewer_keywords:
- callback items in CListCtrl class [MFC]
- CListCtrl class [MFC], callback item and callback mask
ms.assetid: 67c1f76f-6144-453e-9376-6712f89430ae
ms.openlocfilehash: 1c46f6edb44e4898c0245209ca837cd0eb716304
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84624974"
---
# <a name="callback-items-and-the-callback-mask"></a>Элементы обратного вызова и маска обратного вызова

Для каждого из его элементов элемент управления представления списка обычно хранит текст метки, индекс списка изображений значков элемента и набор битовых флагов для состояния элемента. Можно определить отдельные элементы в качестве элементов обратного вызова, которые полезны, если приложение уже хранит некоторые сведения об элементе.

Вы определяете элемент в качестве элемента обратного вызова, указывая соответствующие значения `pszText` для `iImage` элементов и `LVITEM` структуры (см. раздел [CListCtrl::-Item](reference/clistctrl-class.md#getitem)). Если приложение хранит текст элемента или подэлемента, укажите значение **LPSTR_TEXTCALLBACK** для `pszText` элемента. Если приложение отслеживает значок для элемента, укажите значение **I_IMAGECALLBACK** для `iImage` элемента.

Помимо определения элементов обратного вызова, можно также изменить маску обратного вызова элемента управления. Эта маска представляет собой набор битовых флагов, указывающих состояния элементов, для которых приложение, а не элемент управления, сохраняет текущие данные. Маска обратного вызова применяется ко всем элементам элемента управления, в отличие от конструкции элемента обратного вызова, которая применяется к конкретному элементу. По умолчанию маска обратного вызова равна нулю, то есть элемент управления отслеживает все состояния элементов. Чтобы изменить это поведение по умолчанию, инициализируйте маску любым сочетанием следующих значений:

- **LVIS_CUT** Элемент помечен для операции вырезания и вставки.

- **LVIS_DROPHILITED** Элемент выделяется как цель перетаскивания.

- **LVIS_FOCUSED** Элемент находится в фокусе.

- **LVIS_SELECTED** Элемент выбран.

- **LVIS_OVERLAYMASK** Приложение сохраняет индекс списка изображений текущего наложенного изображения для каждого элемента.

- **LVIS_STATEIMAGEMASK** Приложение сохраняет индекс списка изображений текущего состояния для каждого элемента.

Дополнительные сведения о получении и установке этой маски см. в разделе [CListCtrl:: жеткаллбаккмаск](reference/clistctrl-class.md#getcallbackmask) and [CListCtrl:: сеткаллбаккмаск](reference/clistctrl-class.md#setcallbackmask).

## <a name="see-also"></a>См. также раздел

[Использование CListCtrl](using-clistctrl.md)<br/>
[Элементы управления](controls-mfc.md)
