---
description: Дополнительные сведения см. в статье Использование диалогового окна с элементом управления "Главная панель"
title: Использование диалоговой панели с элементом управления главной панели
ms.date: 11/04/2016
helpviewer_keywords:
- WS_EX_TRANSPARENT style
- rebar controls [MFC], dialog bars
- dialog bars [MFC], using with rebar bands
ms.assetid: e528cea0-6b81-4bdf-9643-7c03b6176590
ms.openlocfilehash: 97fb8ca5c356d91fa4b4ba44753fbdc9bf298435
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97263534"
---
# <a name="using-a-dialog-bar-with-a-rebar-control"></a>Использование диалоговой панели с элементом управления главной панели

Как упоминалось в [элементах управления и полосах главной панели](../mfc/rebar-controls-and-bands.md), каждая полоса может содержать только одно дочернее окно (или элемент управления). Это может быть ограничением, если требуется наличие более одного дочернего окна для каждого диапазона. Удобным решением является создание ресурса панели диалогового окна с несколькими элементами управления, а затем Добавление в элемент управления главной панели полосы-панели (содержащей панель диалоговых окон).

Обычно, если требуется, чтобы полоса диалогового окна отображалась как прозрачная, можно задать расширенный стиль WS_EX_TRANSPARENT для объекта диалогового окна. Однако, поскольку WS_EX_TRANSPARENT содержит некоторые проблемы с правильной зарисовкой фона диалогового окна, необходимо выполнить немного дополнительную работу, чтобы добиться желаемого результата.

В следующей процедуре описаны действия, необходимые для достижения прозрачности без использования расширенного стиля WS_EX_TRANSPARENT.

### <a name="to-implement-a-transparent-dialog-bar-in-a-rebar-band"></a>Реализация прозрачной диалоговой панели в полосе главной панели

1. В [диалоговом окне Добавление класса](../mfc/reference/adding-an-mfc-class.md)добавьте новый класс (например, `CMyDlgBar` ), который реализует объект панели диалогового окна.

1. Добавьте обработчик для сообщения WM_ERASEBKGND.

1. В новом обработчике измените существующий код, чтобы он соответствовал следующему примеру:

   [!code-cpp[NVC_MFCControlLadenDialog#29](../mfc/codesnippet/cpp/using-a-dialog-bar-with-a-rebar-control_1.cpp)]

1. Добавьте обработчик для сообщения WM_MOVE.

1. В новом обработчике измените существующий код, чтобы он соответствовал следующему примеру:

   [!code-cpp[NVC_MFCControlLadenDialog#30](../mfc/codesnippet/cpp/using-a-dialog-bar-with-a-rebar-control_2.cpp)]

Новые обработчики имитируют прозрачность диалогового окна, пересылая WM_ERASEBKGND сообщение в родительское окно и вызывая перерисовку при каждом перемещении объекта панели диалогового окна.

## <a name="see-also"></a>См. также раздел

[Использование CReBarCtrl](../mfc/using-crebarctrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
