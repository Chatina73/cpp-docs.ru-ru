---
title: Верхние и нижние колонтитулы
ms.date: 11/04/2016
helpviewer_keywords:
- printing [MFC], multipage documents
- page headers [MFC], printing
- headers [MFC], printing
- footers [MFC], printing
- page footers [MFC], printing
- page headers [MFC]
- printing [MFC], headers and footers
- page footers [MFC]
ms.assetid: b0be9c53-5773-4955-a777-3c15da745128
ms.openlocfilehash: 1e2e57331ccbc7f0afd7b82dc035410af495abd8
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62297233"
---
# <a name="headers-and-footers"></a>Верхние и нижние колонтитулы

В этой статье объясняется, как добавить верхние и нижние колонтитулы в печатном документе.

Если взглянуть на документ на экране в строку заголовка и строку состояния обычно отображается имя документа и текущего расположения в документе. Если взглянуть на печатной копии документа, полезно иметь имя и номер страницы в верхний или нижний колонтитул. Это является стандартным способом, в какие WYSIWYG даже программы отличаются в том, как они выполняют печать и дисплеем.

[OnPrint](../mfc/reference/cview-class.md#onprint) функция-член является подходящим местом для печати верхние и нижние колонтитулы, так как он вызывается для каждой страницы, а так как он вызывается только для печати, не для отображения на экране. Можно определить отдельную функцию, чтобы распечатать верхний или нижний колонтитул и передать его в контекст устройства принтера из `OnPrint`. Может потребоваться настроить окна источника или экстент, перед вызовом [OnDraw](../mfc/reference/cview-class.md#ondraw) во избежание текст страницы перекрытие верхний или нижний колонтитул. Также может потребоваться изменить `OnDraw` так, как сократить объем документа, который отвечает на странице.

Один из способов для компенсации для области, занятые верхний или нижний колонтитул является использование **m_rectDraw** членом [CPrintInfo](../mfc/reference/cprintinfo-structure.md). Каждый раз при печати страницы, этот член инициализируется с полезной площадью страницы. Если верхний или нижний колонтитул перед печатью основной области страницы, можно уменьшить размер прямоугольника, хранящиеся в **m_rectDraw** для области, занятые верхний или нижний колонтитул. Затем `OnPrint` могут ссылаться на **m_rectDraw** чтобы узнать, остается сколько область для печати основной области страницы.

Не удается выполнить печать в заголовке, либо что-нибудь еще, из [OnPrepareDC](../mfc/reference/cview-class.md#onpreparedc), так как он вызывается перед `StartPage` функцию-член [CDC](../mfc/reference/cdc-class.md) был вызван. В таком случае контекст устройства принтера считается по границе страницы. Можно выполнять печать только из `OnPrint` функция-член.

## <a name="what-do-you-want-to-know-more-about"></a>Выберите для получения дополнительных сведений

- [Печать многостраничных документов](../mfc/multipage-documents.md)

- [Выделение ресурсов GDI для печати](../mfc/allocating-gdi-resources.md)

## <a name="see-also"></a>См. также

[Печать](../mfc/printing.md)
