---
description: 'Дополнительные сведения: родительский элемент управления деревом и дочерние элементы'
title: Родительские и дочерние элементы древовидного элемента управления
ms.date: 11/04/2016
helpviewer_keywords:
- parent items in CTreeCtrl [MFC]
- child items in tree control [MFC]
- CTreeCtrl class [MFC], parent and child items
- tree controls [MFC], parent and child items
ms.assetid: abcea1e4-fe9b-40d9-86dc-1db235f8f103
ms.openlocfilehash: b1af78bf8a22c46b45e1fd8952944249c41bd5e0
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97263963"
---
# <a name="tree-control-parent-and-child-items"></a>Родительские и дочерние элементы древовидного элемента управления

Любой элемент в элементе управления "дерево" ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) может иметь список вложенных элементов, которые называются связанными с ним дочерними элементами. Элемент с одним или несколькими дочерними элементами называется родительским элементом. Дочерний элемент отображается под родительским элементом и помещается с отступом, чтобы указать, что он является подчиненным для родительского элемента. Элемент, не имеющий родителя, находится в верхней части иерархии и называется корневым элементом.

В любой момент времени состояние списка дочерних элементов родительского элемента может быть либо развернутым, либо свернутым. Когда состояние разворачивается, дочерние элементы отображаются под родительским элементом. Когда он свернут, дочерние элементы не отображаются. Список автоматически переключается между развернутым и свернутым состояниями при двойном щелчке на родительском элементе или, если родительский элемент имеет стиль **TVS_HASBUTTONS** , когда пользователь нажимает кнопку, связанную с родительским элементом. Приложение может развернуть или свернуть дочерние элементы с помощью функции " [развернуть](../mfc/reference/ctreectrl-class.md#expand) элемент".

Чтобы добавить элемент в элемент управления "дерево", вызовите функцию-член [InsertItem](../mfc/reference/ctreectrl-class.md#insertitem) . Эта функция возвращает маркер типа **хтриитем** , который однозначно определяет элемент. При добавлении элемента необходимо указать маркер родительского элемента нового элемента. При указании значения **null** или **TVI_ROOT** вместо родительского маркера элемента в структуре [твинсертструкт](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructw) или параметре *хпарент* элемент добавляется в качестве корневого элемента.

Элемент управления "дерево" отправляет сообщение уведомления [TVN_ITEMEXPANDING](/windows/win32/Controls/tvn-itemexpanding) , когда список дочерних элементов родительского элемента будет развернут или свернут. Уведомление дает возможность предотвратить изменение или задать любые атрибуты родительского элемента, зависящие от состояния списка дочерних элементов. После изменения состояния списка элемент управления "дерево" отправляет сообщение уведомления [TVN_ITEMEXPANDED](/windows/win32/Controls/tvn-itemexpanded) .

Когда список дочерних элементов разворачивается, он располагается с отступом относительно родительского элемента. Можно задать величину отступа с помощью функции члена [сетиндент](../mfc/reference/ctreectrl-class.md#setindent) или получить текущую величину с помощью функции члена с методом [Indent](../mfc/reference/ctreectrl-class.md#getindent) .

## <a name="see-also"></a>См. также раздел

[Использование CTreeCtrl](../mfc/using-ctreectrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
