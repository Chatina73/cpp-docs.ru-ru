---
title: Сериализация в MFC
ms.date: 11/04/2016
helpviewer_keywords:
- collection classes [MFC], serialization
- bypassing serialization [MFC]
- MFC, serialization
- serialization [MFC], MFC
- serialization [MFC], bypassing
ms.assetid: fb596a18-4522-47e0-96e0-192732d24c12
ms.openlocfilehash: d439f5e13148d4359394739ec56048f00ceb35ba
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50462768"
---
# <a name="serialization-in-mfc"></a>Сериализация в MFC

Этой статье объясняется, что механизм сериализации, предоставленный в Microsoft Foundation Class Library (MFC) чтобы разрешить объектам сохраняться между запусками программы.

Сериализация — это процесс запись или чтение данных объекта в или из хранилища, где хранится как файл на диске. Сериализация является идеальным для случаев, где он необходим для поддержания состояния структурированных данных (например, C++ классы или структуры), во время или после выполнения программы. Использование сериализации объектов, предоставляемых MFC позволяет это произошло в виде "стандартный" и согласованный, освобождая разработчика от необходимости вручную выполнять операции с файлами пользователя.

MFC предоставляет встроенную поддержку сериализации в классе `CObject`. Таким образом, все классы, производные от `CObject` можно воспользоваться преимуществами `CObject`сериализация протокола.

Основная идея сериализации является то, что объект должен иметь возможность записи текущего состояния, как правило, определяется значением его переменных-членов, в постоянное хранилище. Позже объект может быть воссоздан путем чтения, или десериализации состояния объекта из хранилища. При сериализации обрабатываются все детали указателей объекта и циклические ссылки на объекты, которые используются при сериализации объекта. Ключевой момент является то, что сам объект отвечает за чтение и запись собственное состояние. Таким образом класс может быть сериализуемым, он должен реализовать операции базовой сериализации. Как показано в группе сериализации статей, его можно легко добавить эту функцию в класс.

MFC использует объект `CArchive` класс в качестве посредника между объекта для сериализации и среду хранения. Этот объект всегда связан с `CFile` объект, из которого он получает сведения, необходимые для сериализации, включая имя файла и является ли Запрошенная операция чтения или записи. Можно использовать объект, выполняющий операции сериализации `CArchive` объекта вне зависимости от природы среду хранения.

Объект `CArchive` объект использует перегруженных вставки (**<\<**) и извлечения (**>>**) операторам возможность выполнять чтение и запись. Дополнительные сведения см. в разделе [хранение и загрузка CObjects через архив](../mfc/storing-and-loading-cobjects-via-an-archive.md) в этой статье сериализации: сериализации объекта.

> [!NOTE]
>  Не следует путать `CArchive` класс общего назначения iostream классов, которые предназначены для форматированного текста только. `CArchive` Класс предназначен для двоичный сериализованных объектов.

Если требуется, вы можете обойти сериализации MFC, чтобы создать собственный механизм для хранения постоянных данных. Необходимо переопределить функции-члены класса, которые инициируют сериализации на команды пользователя. См. в обсуждении [технические 22 Примечание](../mfc/tn022-standard-commands-implementation.md) ID_FILE_OPEN ID_FILE_SAVE и ID_FILE_SAVE_AS стандартных команд.

Следующие статьи рассматриваются две основные задачи, необходимые для сериализации:

- [Сериализация. Создание сериализуемого класса](../mfc/serialization-making-a-serializable-class.md)

- [Сериализация. Сериализация объекта](../mfc/serialization-serializing-an-object.md)

Статья [сериализации: vs сериализации. Базы данных ввода-вывода](../mfc/serialization-serialization-vs-database-input-output.md) описывает, когда сериализация является подходит ввода вывода в приложениях базы данных.

## <a name="see-also"></a>См. также

[Основные понятия](../mfc/mfc-concepts.md)<br/>
[Общие разделы по MFC](../mfc/general-mfc-topics.md)<br/>
[Класс CArchive](../mfc/reference/carchive-class.md)<br/>
[Класс CObject](../mfc/reference/cobject-class.md)<br/>
[Класс CDocument](../mfc/reference/cdocument-class.md)<br/>
[Класс CFile](../mfc/reference/cfile-class.md)
