---
title: Рекомендации по обработке входных данных
ms.date: 11/04/2016
helpviewer_keywords:
- I/O [MFC], about I/O
- file-based I/O options
- I/O [MFC]
- I/O [MFC], options
- I/O [MFC], file-based options
ms.assetid: d664b175-3b4a-40c3-b14b-39de6b12e419
ms.openlocfilehash: 956a92fd1761f61081afa2eb9c6cb35fe72b46d6
ms.sourcegitcommit: 63784729604aaf526de21f6c6b62813882af930a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79446898"
---
# <a name="recommendations-for-handling-inputoutput"></a>Рекомендации по обработке ввода-вывода

Независимо от того, используется ли файловый ввод-вывод или не зависит от того, как вы отвечаете на вопросы в следующем дереве решений:

**Находятся ли основные данные в приложении в файле на диске**

- Да, основные данные находятся в файле на диске:

     **Приложение считывает весь файл в память при открытии файла и записывает весь файл обратно на диск при сохранении файла**

   - Да: это вариант документа MFC по умолчанию. Используйте `CDocument`ную сериализацию.

   - Нет. обычно это происходит при обновлении файла на основе транзакций. Файл обновляется отдельно для каждой транзакции и не требуется `CDocument` сериализации.

- Нет, основные данные не находятся в файле на диске:

     **Находятся ли данные в источнике данных ODBC**

   - Да, данные находятся в источнике данных ODBC:

      Используйте поддержку базы данных MFC. Стандартная реализация MFC для этого случая включает объект `CDatabase`, как описано в статье [MFC: использование классов баз данных с документами и представлениями](../data/mfc-using-database-classes-with-documents-and-views.md). Приложение может также считывать и записывать вспомогательные файлы — мастер приложений «как представление базы данных, так и поддержка файлов». В этом случае для вспомогательного файла будет использоваться сериализация.

   - Нет, данные не размещаются в источнике данных ODBC.

      Примеры такого случая: данные находятся в СУБД, отличной от ODBC; данные считываются с помощью какого-либо другого механизма, такого как OLE или DDE.

      В таких случаях вы не будете использовать сериализацию, и в приложении не будут открываться и сохраняться пункты меню. Можно также использовать `CDocument` в качестве основы для дома, так же как приложение MFC ODBC использует документ для хранения объектов `CRecordset`. Но вы не будете использовать файл платформы по умолчанию для открытия и сохранения сериализации документов.

Для поддержки команд открыть, сохранить и сохранить как в меню файл платформа обеспечивает сериализацию документов. Сериализация считывает и записывает данные, в том числе объекты, производные от класса `CObject`, в постоянное хранилище (обычно это дисковый файл). Сериализация проста в использовании и обслуживает многие из ваших потребностей, но она может быть неприемлемой во многих приложениях доступа к данным. Приложения для доступа к данным обычно обновляют данные отдельно для каждой транзакции. Они обновляют записи, затронутые транзакцией, вместо того, чтобы считывать и записывать весь файл данных одновременно.

Дополнительные сведения о сериализации см. в разделе [сериализация](../mfc/serialization-in-mfc.md).

## <a name="see-also"></a>См. также раздел

[Сериализация: сериализация и ввод-вывод базы данных](../mfc/serialization-serialization-vs-database-input-output.md)
