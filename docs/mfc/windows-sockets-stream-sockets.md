---
description: 'Дополнительные сведения: сокеты Windows: сокеты потоков'
title: Сокеты Windows. Сокеты потоков
ms.date: 11/04/2016
helpviewer_keywords:
- Windows Sockets [MFC], stream sockets
- sockets [MFC], stream sockets
- stream sockets [MFC]
ms.assetid: 31faaa34-a995-493f-a30b-b8115293d619
ms.openlocfilehash: b9e40be06ebb1de04466b5f13a46fe82fb3b0bd2
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97207648"
---
# <a name="windows-sockets-stream-sockets"></a>Сокеты Windows. Сокеты потоков

В этой статье описываются сокеты потоков, один из двух доступных типов сокетов Windows. (Другой тип — [сокет датаграммы](../mfc/windows-sockets-datagram-sockets.md).)

Сокеты потоков обеспечивают поток данных без границ записи: поток байтов, который может быть двунаправленным (приложение полностью дуплексно: оно может передавать и получать данные через сокет). Потоки могут полагаться на то, чтобы доставлять виртуализированные недублированные данные. ("Виртуализированный" означает, что пакеты доставляются в отправленном порядке. "Недублированный" означает, что вы получаете определенный пакет только один раз.) Получение потоковых сообщений гарантировано, а потоки хорошо подходят для обработки больших объемов данных.

Транспортный уровень сети может разбивать или группировать данные в пакеты разумного размера. `CSocket`Класс будет выполнять упаковку и распаковку.

Потоки основываются на явных соединениях: сокет A запрашивает подключение к сокету B; сокет B принимает или отклоняет запрос на подключение.

Телефонный звонок обеспечивает хорошую аналогию для потока. При нормальных обстоятельствах принимающая сторона слышит то, что вы говорите в том порядке, в котором вы говорите, без дублирования или потери. Сокеты потоков подходят, например, для таких реализаций, как протокол FTP (FTP), что упрощает передачу ASCII-или двоичных файлов произвольного размера.

Сокеты потоков предпочтительнее сокетов датаграмм, когда данные должны быть гарантированно получены, а размер данных — большим. Дополнительные сведения о сокетах потоков см. в описании спецификации сокетов Windows. Спецификация доступна в Windows SDK.

Использование сокетов потоков может быть главным для приложений, предназначенных для использования сокета датаграмм для вещания всех принимаемых сокетов в сети, так как

- В модели вещания распространяются проблемы переполнения сети (или "интенсивности").

- Модель "клиент-сервер" в дальнейшем является более эффективной.

- Модель потока обеспечивает надежную передачу данных, в которой отсутствует модель датаграммы.

- Последняя модель использует преимущества возможности взаимодействия между приложениями в Юникоде и ANSI Socket, которые класс CArchive предоставляет классу CSocket.

    > [!NOTE]
    >  При использовании класса `CSocket` необходимо использовать поток. Утверждение MFC завершается ошибкой, если указать тип сокета как **SOCK_DGRAM**.

## <a name="see-also"></a>См. также раздел

[Сокеты Windows в MFC](../mfc/windows-sockets-in-mfc.md)<br/>
[Сокеты Windows. Фон](../mfc/windows-sockets-background.md)
