---
title: Реализация рабочих областей в элементах управления "Список"
ms.date: 11/04/2016
helpviewer_keywords:
- list controls [MFC], working areas
- working areas in list control [MFC]
ms.assetid: fbbb356b-3359-4348-8603-f1cb114cadde
ms.openlocfilehash: 91577203163247bd230fecb083cf1c50e2875b98
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81377214"
---
# <a name="implementing-working-areas-in-list-controls"></a>Реализация рабочих областей в элементах управления "Список"

По умолчанию элемент управления список организует все элементы в стандартной сетке моды. Однако поддерживается другой метод, рабочие области, который располагает элементы списка в прямоугольные группы. Для изображения элемента управления список, который реализует рабочие области, см.

> [!NOTE]
> Рабочие области видны только тогда, когда элемент управления список находится в режиме значка или небольшой значок. Однако любые текущие рабочие области сохраняются, если представление переключено в режим отчета или списка.

Рабочие области могут использоваться для отображения пустой границы (слева, сверху и/или справа от элементов) или для отображения горизонтальной панели прокрутки, когда обычно ее не будет. Другим распространенным использованием является создание нескольких рабочих областей, в которые элементы могут быть перемещены или удалены. С помощью этого метода можно создать области в одном представлении, которые имеют разные значения. Пользователь может классифицировать элементы, разместив их в другой области. Примером этого может быть представление файловой системы, которая имеет область для чтения/записи файлов и другую область для файлов только для чтения. Если элемент файла был перемещен в область только для чтения, он автоматически становится только для чтения. Перемещение файла из области чтения только в области чтения / записи сделает файл читать / писать.

`CListCtrl`предоставляет несколько функций члена для создания и управления рабочими областями в элементе управления списком. [GetWorkAreas](../mfc/reference/clistctrl-class.md#getworkareas) и [SetWorkAreas](../mfc/reference/clistctrl-class.md#setworkareas) извлекают и `CRect` устанавливают `RECT` массив объектов (или структур), в которых хранятся в настоящее время реализованные рабочие области для управления списком. Кроме того, [GetNumberOfWorkAreas](../mfc/reference/clistctrl-class.md#getnumberofworkareas) получает текущее количество рабочих областей для управления списком (по умолчанию, ноль).

## <a name="items-and-working-areas"></a>Элементы и рабочие зоны

При создании рабочей зоны элементы, лежащие в рабочей области, становятся ее членами. Аналогичным образом, если элемент перемещается в рабочую область, он становится членом рабочей области, в которую он был перемещен. Если элемент не находится в пределах какой-либо рабочей области, он автоматически становится членом первой (индекса 0) рабочей области. Если вы хотите создать элемент и поместить его в определенной рабочей области, вам нужно будет создать элемент, а затем переместить его в нужную рабочую зону с вызовом [в SetItemPosition.](../mfc/reference/clistctrl-class.md#setitemposition) Второй приведенный ниже пример демонстрирует эту технику.

Следующий пример реализует четыре`rcWorkAreas`рабочие области (), одинакового размера с 10-пиксельной шириной границы вокруг каждой рабочей области, в списке управления (`m_WorkAreaListCtrl`).

[!code-cpp[NVC_MFCControlLadenDialog#20](../mfc/codesnippet/cpp/implementing-working-areas-in-list-controls_1.cpp)]

Звонок [в ApproximateViewRect](../mfc/reference/clistctrl-class.md#approximateviewrect) был сделан, чтобы получить оценку общей площади, необходимой для отображения всех элементов в одном регионе. Затем эта оценка делится на четыре региона и набивается с 5-пиксельной границей.

Следующий пример назначает существующие элементы`rcWorkAreas`списка каждой группе`m_WorkAreaListCtrl`( ) и обновляет представление управления () для завершения эффекта.

[!code-cpp[NVC_MFCControlLadenDialog#21](../mfc/codesnippet/cpp/implementing-working-areas-in-list-controls_2.cpp)]

## <a name="see-also"></a>См. также раздел

[Использование CListCtrl](../mfc/using-clistctrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
