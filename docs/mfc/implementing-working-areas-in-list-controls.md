---
title: Реализация рабочих областей в элементах управления "Список"
ms.date: 11/04/2016
helpviewer_keywords:
- list controls [MFC], working areas
- working areas in list control [MFC]
ms.assetid: fbbb356b-3359-4348-8603-f1cb114cadde
ms.openlocfilehash: 01b166243c9032a113d46ff297b9f6e53429da21
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62297220"
---
# <a name="implementing-working-areas-in-list-controls"></a>Реализация рабочих областей в элементах управления "Список"

По умолчанию в элементе управления списком упорядочивает все элементы в виде Стандартная сетка. Однако поддерживается другой метод, рабочих областей, которые упорядочивает элементы списка в прямоугольную группы. Для изображения элемента управления списка, который реализует рабочие области см. в разделе с помощью элементов управления представление списка в пакете Windows SDK.

> [!NOTE]
>  Рабочие области являются видимыми только в том случае, если элемент списка — в значка или мелкого значка. Тем не менее любой текущий рабочие области сохраняются, если представление переключен в режим отчета или списка.

Рабочие области можно использовать для отображения пустой границы (на слева, сверху или справа от них) или привести к горизонтальной полосы прокрутки, отображаемая при обычно не существовать один. Другим распространенным вариантом применения является создание нескольких рабочие области, к которым можно перемещать и удалении элементов. С помощью этого метода можно создать области в одном представлении, имеют различные значения. Пользователь может затем упорядочивания элементов, поместив их в другой области. Пример этого будет представление файловой системы с области для чтения и записи файлов и еще одна область для файлов только для чтения. Если элемент файла были перемещены в область только для чтения, он автоматически стал бы только для чтения. Перемещение файла из области только для чтения в области чтения и записи сделает файл чтения и записи.

`CListCtrl` предоставляет несколько функций-членов для создания и управления ими рабочие области в элементе управления списка. [GetWorkAreas](../mfc/reference/clistctrl-class.md#getworkareas) и [SetWorkAreas](../mfc/reference/clistctrl-class.md#setworkareas) получить и задать массив `CRect` объектов (или `RECT` структуры), который хранения текущей реализации рабочие области для элемента управления списка. Кроме того [GetNumberOfWorkAreas](../mfc/reference/clistctrl-class.md#getnumberofworkareas) Извлекает текущее количество рабочие области для элемента управления списка (по умолчанию, ноль).

## <a name="items-and-working-areas"></a>Элементы и рабочих областей

При создании рабочей области, элементы, которые находятся в рабочей области становятся членами его. Аналогичным образом Если элемент перемещается в рабочую область, становится членом рабочую область, к которому он был перемещен. Если элемент не находится внутри любой рабочей области, он автоматически становится членом первая рабочая область (с индексом 0). Если вы хотите создать элемент, который будет помещен в определенной рабочей области, необходимо будет создать элемент и переместите его в нужное рабочую область с помощью вызова [SetItemPosition](../mfc/reference/clistctrl-class.md#setitemposition). Во втором примере ниже демонстрируется этот способ.

В следующем примере реализуется четыре рабочие области (`rcWorkAreas`), одинакового размера с 10 пикселей всей границы вокруг каждого рабочую область, в элементе управления списком (`m_WorkAreaListCtrl`).

[!code-cpp[NVC_MFCControlLadenDialog#20](../mfc/codesnippet/cpp/implementing-working-areas-in-list-controls_1.cpp)]

Вызов [ApproximateViewRect](../mfc/reference/clistctrl-class.md#approximateviewrect) был сделан для оценки от общей области, необходимые для отображения всех элементов в одном регионе. Данная оценка затем разделено на четыре области и с добавленными с границей 5 пикселей уровня.

Следующий пример присваивает существующих элементов списка для каждой группы (`rcWorkAreas`) и обновляет представление элемента управления (`m_WorkAreaListCtrl`) для завершения эффект.

[!code-cpp[NVC_MFCControlLadenDialog#21](../mfc/codesnippet/cpp/implementing-working-areas-in-list-controls_2.cpp)]

## <a name="see-also"></a>См. также

[Использование CListCtrl](../mfc/using-clistctrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
