---
title: C++Двоичная совместимость между Visual Studio 2015 и Visual Studio 2019
description: Описывает, как работает двоичная совместимость C++ между скомпилированными файлами в Visual Studio 2015, 2017 и 2019. Один распространяемый C++ пакет Microsoft Visual работает для всех трех версий.
ms.date: 11/07/2019
helpviewer_keywords:
- binary compatibility, Visual C++
ms.assetid: 591580f6-3181-4bbe-8ac3-f4fbaca949e6
ms.openlocfilehash: e41c34abe25deefe100f525044faeac0b0c3054a
ms.sourcegitcommit: eb254b4462a58d219376ff501bf768bd1adc07ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/11/2019
ms.locfileid: "73912880"
---
# <a name="c-binary-compatibility-between-visual-studio-2015-and-visual-studio-2019"></a>C++Двоичная совместимость между Visual Studio 2015 и Visual Studio 2019

В Microsoft Visual Studio 2013 и более ранних версий двоичная совместимость между объектами Object Files (OBJ-файлы), статическими библиотеками (Library), библиотеками динамической компоновки (DLL) и исполняемыми файлами (exe), созданными с помощью разных версий набора инструментов компилятора, не гарантируется. и библиотеки времени выполнения.

В Visual Studio 2015 и более поздних версий основным номером набора инструментов C++ является 14 (v140 для Visual Studio 2015, v141 для Visual Studio 2017 и v142 для Visual Studio 2019). Эта нумерация отражает тот факт, что библиотеки среды выполнения и приложения, скомпилированные с помощью любой из этих версий компилятора, совместимы с двоичной. Таким образом, если у вас есть библиотека стороннего производителя, созданная с помощью Visual Studio 2015, вам не нужно перекомпилировать ее, чтобы использовать ее из приложения, созданного с помощью Visual Studio 2017 или Visual Studio 2019.

Единственным исключением из этого правила является то, что статические библиотеки или объектные файлы, скомпилированные с параметром компилятора `/GL`, *не* совместимы с двоичной.

При смешении двоичных файлов, созданных с разными поддерживаемыми C++ версиями набора инструментов Microsoft (компилятором MSVC), C++ распространяемый пакет визуального элемента, который запускается ваше приложение, не может быть более ранним, чем любой из версий набора инструментов, используемых для сборки приложения или любых используемых им библиотек.

## <a name="upgrade-the-microsoft-visual-c-redistributable-from-visual-studio-2015-or-2017-to-visual-studio-2019"></a>Обновление распространяемого пакета C++ Microsoft визуального элемента с visual Studio 2015 или 2017 до visual Studio 2019

Поскольку мы сохранили двоичную совместимость и сохранили основную версию (14) в составе распространяемого C++ пакета Microsoft для visual Studio 2015, 2017 и 2019, только одна версия C++ распространяемого пакета может быть установлена из них в любой момент времени. Более новая версия перезаписывает уже установленную старую версию. При наличии распространяемого визуального C++ элемента из visual Studio 2015 или 2017 и последующей установки visual Studio 2019 версия 2019 перезаписывает старую версию. Так как мы уверены, что последняя версия содержит все новейшие функции и исправления ошибок (включая исправления для системы безопасности), мы всегда рекомендуем выполнить обновление до последней доступной версии.

Аналогичным образом, мы не можем установить более раннюю версию визуального C++ пакета на компьютере, где уже установлена более новая версия. Установка распространяемого C++ визуального элемента из visual Studio 2015 или 2017 на компьютере, который уже имеет версию 2019, вызывает сбой установки. Эта ошибка выглядит следующим образом:

```Output
0x80070666 - Another version of this product is already installed. Installation of this version cannot continue. To configure or remove the existing version of this product, use Add/Remove Programs on the Control Panel.
```

Эта ошибка возникает при проектировании. Рекомендуется оставить последнюю установленную версию.

## <a name="see-also"></a>См. также

* [Журнал изменений Visual C++](../porting/visual-cpp-change-history-2003-2015.md)
* [Последние поддерживаемые загружаемые C++ файлы для визуализации](https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads) 
