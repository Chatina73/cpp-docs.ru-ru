---
title: Практическое руководство. Создание проверяемых C++ проекты (C++выполняет)
ms.date: 11/04/2016
helpviewer_keywords:
- verifiable assemblies [C++], creating
- conversions, C++ projects
- Visual C++ projects
ms.assetid: 4ef2cc1a-e3e5-4d67-8d8d-9c614f8ec5d3
ms.openlocfilehash: de3742717bf55c53ab4007aaed18b6ce687fbede
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62387465"
---
# <a name="how-to-create-verifiable-c-projects-ccli"></a>Практическое: создание проверяемых C++ проекты (C++выполняет)

Мастера приложений Visual C++ не создавайте проверяемые проекты.

> [!IMPORTANT]
> Рекомендуется использовать Visual Studio 2015 и Visual Studio 2017 не поддерживает **/CLR: pure** и **/CLR: safe** Создание проверяемых проектов. Если вам требуется проверяемый код, мы рекомендуем перевести код на C#.

Тем не менее если вы используете более старую версию набора инструментов компилятора Visual C++, который поддерживает **/CLR: pure** и **/CLR: safe**, можно преобразовать в проверяемые проекты. В этом разделе описывается настройка свойств проекта и изменения исходных файлов проекта для преобразования проектов Visual C++ для создания проверяемые приложения.

## <a name="compiler-and-linker-settings"></a>Параметры компилятора и компоновщика

По умолчанию проекты .NET используйте флаг компилятора/CLR и настройте компоновщику целевой x86 оборудования. В проверяемом коде необходимо использовать флаг/CLR: safe, и нужно сообщить компоновщик для создания MSIL вместо инструкции машинного.

### <a name="to-change-the-compiler-and-linker-settings"></a>Чтобы изменить параметры компилятора и компоновщика

1. Отображение страницы свойств проекта. Дополнительные сведения см. в разделе [задать компилятора и свойства сборки](../build/working-with-project-properties.md).

1. На **Общие** странице в разделе **свойства конфигурации** набор узлов, **Поддержка Common Language Runtime** свойства **безопасный общий язык MSIL Поддержка среды выполнения (/ CLR: safe)**.

1. На **Дополнительно** странице в разделе **компоновщика** набор узлов, **тип образа среды CLR** свойства **safe IL-образ принудительно (/ CLRIMAGETYPE: safe)**.

## <a name="removing-native-data-types"></a>Удаление собственных типов данных

Так как собственные типы данных не поддается проверке, даже если они не используются, необходимо удалить все файлы заголовков, содержащие собственные типы.

> [!NOTE]
> Следующая процедура применяется к проектам приложение Windows Forms (.NET) и консольного приложения (.NET).

### <a name="to-remove-references-to-native-data-types"></a>Чтобы удалить ссылки на собственные типы данных

1. Закомментируйте все, что в файле Stdafx.h.

## <a name="configuring-an-entry-point"></a>Настройка точки входа

Так как проверяемые приложения нельзя использовать библиотеки времени выполнения C (CRT), они не может зависеть от CRT для вызова основной функции как стандартной точки входа. Это означает, что необходимо явно указать имя функции, вызываемой в компоновщик. (В этом случае Main() используется вместо main() или _tmain() для указания точки входа от библиотеки CRT, но так как точка входа должен быть задан явным образом, это имя выбрано произвольно.)

> [!NOTE]
> Следующие процедуры относятся к проектам консольного приложения (.NET).

#### <a name="to-configure-an-entry-point"></a>Чтобы настроить точку входа

1. Измените имя _tmain() на Main() в основной CPP-файле проекта.

1. Отображение страницы свойств проекта. Дополнительные сведения см. в разделе [задать компилятора и свойства сборки](../build/working-with-project-properties.md).

1. На **Дополнительно** странице в разделе **компоновщика** узла, введите `Main` как **точки входа** значение свойства.

## <a name="see-also"></a>См. также

- [Чистый и проверяемый код (C++/CLI)](../dotnet/pure-and-verifiable-code-cpp-cli.md)
