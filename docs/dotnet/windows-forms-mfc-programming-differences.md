---
title: Windows Forms-различия в программировании MFC
ms.date: 11/04/2016
helpviewer_keywords:
- MFC [C++], Windows Forms support
- Windows Forms [C++], compared to MFC
ms.assetid: f3bfcf45-cfd4-45a4-8cde-5f4dbb18ee51
ms.openlocfilehash: 136549bb457cc17293d4c7201c9836d9094eea94
ms.sourcegitcommit: e5192a25c084eda9eabfa37626f3274507e026b3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/12/2019
ms.locfileid: "79544823"
---
# <a name="windows-formsmfc-programming-differences"></a>Различия в программировании Windows Forms/MFC

В разделах, посвященных [использованию пользовательского элемента управления формы Windows Forms в MFC](../dotnet/using-a-windows-form-user-control-in-mfc.md) , ОПИСЫВАЕТСЯ поддержка MFC для Windows Forms. Если вы не знакомы с .NET Framework или программированием MFC, в этом разделе содержатся фундаментальные сведения о различиях в программировании между ними.

Windows Forms предназначен для создания приложений Microsoft Windows на .NET Framework. Эта платформа предоставляет современный, объектно-ориентированный и расширяемый набор классов, позволяющих разрабатывать Многофункциональные приложения на основе Windows. С помощью Windows Forms вы можете создать многофункциональное клиентское приложение, которое может получать доступ к различным источникам данных и предоставлять средства для просмотра данных и редактирования данных с помощью элементов управления Windows Forms.

Однако, если вы привыкли к MFC, вы можете использовать для создания приложений некоторых типов, которые еще не поддерживаются в Windows Forms. Windows Forms приложения эквивалентны диалоговым приложениям MFC. Однако они не предоставляют инфраструктуре прямую поддержку других типов приложений MFC, таких как сервер документов OLE, контейнер, документы ActiveX, поддержка документов и представлений для интерфейса с одним документом (SDI), многодокументный интерфейс (MDI) и несколько интерфейсов верхнего уровня (МТИ). Для создания этих приложений можно написать собственную логику.

Дополнительные сведения о Windows Forms приложениях см. [в статье Введение в Windows Forms](/dotnet/framework/winforms/windows-forms-overview).

Пример приложения, в котором показаны Windows Forms, используемые в MFC, см. в разделе [Интеграция MFC и Windows Forms](https://www.microsoft.com/download/details.aspx?id=2113).

Следующие функции представления MFC или документов и команд маршрутизации не имеют эквивалентов в Windows Forms:

- Интеграция оболочки

   MFC обрабатывает команды динамического обмена данными (DDE) и аргументы командной строки, используемые оболочкой при щелчке правой кнопкой мыши по документу и выборе таких команд как открытие, изменение или печать. Windows Forms не имеет интеграции оболочки и не реагирует на команды оболочки.

- Шаблоны документов

   В MFC шаблоны документов связывают представление, которое содержится в фрейме окна (в режиме MDI, SDI или МТИ), с открытым документом. Windows Forms не имеет эквивалента шаблонам документов.

- Документы

   MFC регистрирует типы файлов документов и обрабатывает тип документа при открытии документа из оболочки. Windows Forms не поддерживает документы.

- Состояния документов

   MFC сохраняет "грязные" состояния для документа. Таким образом, когда вы закроете приложение, закройте Последнее представление, содержащее приложение, или завершите работу из Windows, MFC предложит сохранить документ. Windows Forms не имеет эквивалентной поддержки.

- Команды

   В MFC имеется концепция команд. В строке меню, панели инструментов и в контекстном меню можно вызвать одну и ту же команду, например вырезать и копировать. В Windows Forms команды являются жестко привязанными событиями из определенного элемента пользовательского интерфейса (например, пункта меню); Поэтому необходимо явным образом подключить все командные события. Можно также выполнить обработку нескольких событий с помощью одного обработчика в Windows Forms. Дополнительные сведения см. [в разделе Подключение нескольких событий к одному обработчику событий в Windows Forms](/dotnet/framework/winforms/how-to-connect-multiple-events-to-a-single-event-handler-in-windows-forms).

- Маршрутизация команд

   Маршрутизация команд MFC позволяет активному представлению или документу обрабатывать команды. Так как одна и та же команда часто имеет разные значения для различных представлений (например, при редактировании в режиме редактирования текста по-разному, чем в графическом редакторе), команды должны обрабатываться активным представлением. Поскольку Windows Forms меню и панелях инструментов не имеют четкого представления об активном представлении, у вас не может быть другого обработчика для каждого типа представления для событий **MenuItem. Click** без написания дополнительного внутреннего кода.

- Механизм обновления команд

   В MFC имеется механизм обновления команд. Таким образом, активное представление или документ отвечает за состояние элементов пользовательского интерфейса (например, включение или отключение элемента меню или кнопки инструмента и состояния проверки). Windows Forms не имеет эквивалента механизма обновления команд.

## <a name="see-also"></a>См. также:

[Использование пользовательского элемента управления формы Windows Forms в MFC](../dotnet/using-a-windows-form-user-control-in-mfc.md)
