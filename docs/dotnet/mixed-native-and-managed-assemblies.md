---
title: Смешанные (собственные и управляемые) сборки
ms.date: 09/18/2018
helpviewer_keywords:
- interop [C++], mixed assemblies
- /clr compiler option [C++], mixed assemblies
- managed code [C++], interoperability
- interoperability [C++], mixed assemblies
- mixed DLL loading [C++]
- mixed assemblies [C++], about mixed assemblies
- assemblies [C++], mixed
- mixed assemblies [C++]
- native code [C++], .NET interoperatibility
ms.assetid: 4299dfce-392f-4933-8bf0-5da2f0d1c282
ms.openlocfilehash: 11bdfc98c64b2612129e10c002c68ee243bec7da
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "79544510"
---
# <a name="mixed-native-and-managed-assemblies"></a>Смешанные (собственные и управляемые) сборки

Смешанные сборки могут содержать как неуправляемые инструкции компьютера, так и инструкции MSIL. Это позволяет им вызывать и вызывать компоненты .NET, сохраняя совместимость с собственными C++ библиотеками. Используя смешанные сборки, разработчики могут создавать приложения, используя сочетание .NET и машинного C++ кода.

Например, существующая библиотека, полностью состоящая из машинного C++ кода, может быть перенесена на платформу .NET путем повторной компиляции всего одного модуля с параметром компилятора **/CLR** . Затем этот модуль может использовать функции .NET, но остается совместимым с остальной частью приложения. Можно даже определить между управляемой и собственной компиляцией на основе функции в одном и том же файле (см. раздел [управляемые, неуправляемые](../preprocessor/managed-unmanaged.md)).

Визуальный C++ элемент поддерживает только создание смешанных управляемых сборок с помощью параметра компилятора **/CLR** . Параметры компилятора **/clr: pure** и **/clr: Сейф** являются устаревшими в Visual Studio 2015 и не поддерживаются в Visual Studio 2017. Если требуются чистые или проверяемые управляемые сборки, рекомендуется создать их с помощью C#.

Более ранние версии набора C++ инструментов компилятора Майкрософт поддерживали создание трех различных типов управляемых сборок: смешанные, чистые и проверяемые. Последние два рассматриваются в [чистом и проверяемом кодеC++(/CLI)](../dotnet/pure-and-verifiable-code-cpp-cli.md).

## <a name="in-this-section"></a>В этом разделе

[Руководство. Миграция в/CLR](../dotnet/how-to-migrate-to-clr.md)<br/>
Описание рекомендуемых шагов для введения или обновления функций .NET в приложении.

[Инструкции. Компиляция кода MFC и ATL с помощью/CLR](../dotnet/how-to-compile-mfc-and-atl-code-by-using-clr.md)<br/>
Описывает, как компилировать существующие программы MFC и ATL для целевой среды CLR.

[Инициализация смешанных сборок](../dotnet/initialization-of-mixed-assemblies.md)<br/>
Описывает проблему блокировки загрузчика и решения.

[Поддержка библиотек для смешанных сборок](../dotnet/library-support-for-mixed-assemblies.md)<br/>
Описывает использование собственных библиотек в компиляциях **/CLR** .

[Вопросы производительности](../dotnet/performance-considerations-for-interop-cpp.md)<br/>
Описывает последствия производительности смешанных сборок и маршалирование данных.

[Домены приложений и Visual C++](../dotnet/application-domains-and-visual-cpp.md)<br/>
Обсуждается визуальная C++ поддержка для доменов приложений.

[Двойное преобразователь](../dotnet/double-thunking-cpp.md)<br/>
Описывает влияние собственной точки входа на производительность управляемой функции.

[Предотвращение исключений при завершении работы среды CLR при использовании COM-объектов, созданных с помощью/CLR](../dotnet/avoiding-exceptions-on-clr-shutdown-when-consuming-com-objects-built-with-clr.md)<br/>
Описывает, как обеспечить правильное завершение работы управляемого приложения, использующего COM-объект, скомпилированный с **параметром/CLR**.

[Практическое руководство. Создание приложения с частичным доверием путем удаления зависимости от библиотеки DLL CRT](../dotnet/create-a-partially-trusted-application.md)<br/>
Обсуждается создание приложения среды CLR с частичным доверием с помощью визуального C++ элемента путем удаления зависимости от Msvcm90. dll.

Дополнительные сведения о рекомендациях по написанию кода для смешанных сборок см. в статье MSDN [Обзор взаимодействия управляемого и неуправляемого кода](/previous-versions/dotnet/articles/ms973872(v=msdn.10)).

## <a name="see-also"></a>См. также:

- [Взаимодействие исходного кода и платформы.NET](../dotnet/native-and-dotnet-interoperability.md)
