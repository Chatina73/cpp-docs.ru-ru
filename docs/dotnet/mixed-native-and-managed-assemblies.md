---
title: Смешанные (собственные и управляемые) сборки
ms.date: 09/18/2018
helpviewer_keywords:
- interop [C++], mixed assemblies
- /clr compiler option [C++], mixed assemblies
- managed code [C++], interoperability
- interoperability [C++], mixed assemblies
- mixed DLL loading [C++]
- mixed assemblies [C++], about mixed assemblies
- assemblies [C++], mixed
- mixed assemblies [C++]
- native code [C++], .NET interoperatibility
ms.assetid: 4299dfce-392f-4933-8bf0-5da2f0d1c282
ms.openlocfilehash: 043390a2ebefcadac300b7fb0b05ae7f5ed411f3
ms.sourcegitcommit: 7d64c5f226f925642a25e07498567df8bebb00d4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/08/2019
ms.locfileid: "65447275"
---
# <a name="mixed-native-and-managed-assemblies"></a>Смешанные (собственные и управляемые) сборки

Смешанные сборки может содержать неуправляемый машинных инструкций и инструкций MSIL. Это позволяет им для вызова и вызываться компоненты .NET, сохраняя совместимость с собственные библиотеки C++. С помощью смешанных сборок, разработчики могут создавать приложения, используя сочетание .NET и машинного кода C++.

Например, существующую библиотеку, состоящее только из машинного кода C++ может быть перенесено на платформу .NET путем перекомпиляции только одного модуля с **/CLR** параметр компилятора. Этот модуль может использовать функции .NET, но сохраняет совместимость с остальной частью приложения. Возможно, для выбора между управляемым и машинным компиляцию для каждой функции, функции в одном файле (см. в разделе [управляемые, неуправляемые](../preprocessor/managed-unmanaged.md)).

Visual C++ поддерживает только создание смешанных управляемых сборок с помощью **/CLR** параметр компилятора. **/CLR: pure** и **/CLR: safe** параметры компилятора признаны устаревшими в Visual Studio 2015 и не поддерживается в Visual Studio 2017. Если вам требуется чистых и проверяемых управляемые сборки, мы рекомендуем создавать их с помощью C#.

Более ранних версиях Microsoft C++ набор инструментов компилятора поддерживается создание трех различных типов управляемых сборок: смешанных, чистых и проверяемых. Последний два рассматриваются в [чистый и проверяемый код (C++выполняет)](../dotnet/pure-and-verifiable-code-cpp-cli.md).

## <a name="in-this-section"></a>Содержание раздела

[Практическое руководство. Миграция в/CLR](../dotnet/how-to-migrate-to-clr.md)<br/>
Описание рекомендуемых действий по введению или обновлению функций .NET в приложении.

[Практическое руководство. Скомпилируйте MFC и ATL кода с помощью/CLR](../dotnet/how-to-compile-mfc-and-atl-code-by-using-clr.md)<br/>
Описывает, как для компиляции программ MFC и ATL целевых среда CLR.

[Инициализация смешанных сборок](../dotnet/initialization-of-mixed-assemblies.md)<br/>
Описывает «блокировкой загрузчика» проблемы и решения.

[Поддержка библиотек для смешанных сборок](../dotnet/library-support-for-mixed-assemblies.md)<br/>
Описывается использование собственных библиотек в **/CLR** компиляций.

[Особенности производительности](../dotnet/performance-considerations-for-interop-cpp.md)<br/>
Описывает последствия для производительности смешанных сборок и маршалинга данных.

[Домены приложений и Visual C++](../dotnet/application-domains-and-visual-cpp.md)<br/>
Обсуждение поддержки Visual C++ для доменов приложений.

[Двойное преобразование](../dotnet/double-thunking-cpp.md)<br/>
Описывает влияние на производительность основную точку входа для управляемой функции.

[Способы избегания исключений в CLR завершение работы при использовании COM объектов, построенных с помощью/CLR](../dotnet/avoiding-exceptions-on-clr-shutdown-when-consuming-com-objects-built-with-clr.md)<br/>
Описываются способы правильного завершения работы управляемого приложения, использующего объект COM, скомпилированные с использованием **/CLR**.

[Практическое руководство. Создание частично доверенного приложения путем удаления зависимости от библиотеки DLL CRT](../dotnet/create-a-partially-trusted-application.md)<br/>
В этой статье описывается создание приложения с частичным доверием среда CLR, с помощью Visual C++ путем удаления зависимости от библиотеки msvcm90.dll.

Дополнительные сведения о рекомендации по кодированию для смешанных сборок см. в статье MSDN [Общие сведения об управляемых и неуправляемых кода совместимости](https://msdn.microsoft.com/library/ms973872.aspx).

## <a name="see-also"></a>См. также

- [Взаимодействие исходного кода и платформы.NET](../dotnet/native-and-dotnet-interoperability.md)
