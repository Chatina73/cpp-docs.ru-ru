---
description: 'Дополнительные сведения: указание потоковой модели для проекта (ATL)'
title: Указание потоковой модели для проекта (ATL)
ms.date: 11/04/2016
helpviewer_keywords:
- _ATL_FREE_THREADED macro
- _ATL_APARTMENT_THREADED macro
- ATL, multithreading
- threading [ATL], models
- _ATL_SINGLE_THREADED macro
ms.assetid: 6b571078-521c-4f3e-9f08-482aa235a822
ms.openlocfilehash: 81bf8413a2118797ec0e0c177a06468b8e3c7ba0
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97138480"
---
# <a name="specifying-the-threading-model-for-a-project-atl"></a>Указание потоковой модели для проекта (ATL)

Для указания потоковой модели проекта ATL доступны следующие макросы:

|Макрос|Рекомендации по использованию|
|-----------|--------------------------|
|_ATL_SINGLE_THREADED|Определите, использует ли все объекты одну потоковую модель.|
|_ATL_APARTMENT_THREADED|Определите, использует ли один или несколько объектов потоковое подразделение.|
|_ATL_FREE_THREADED|Определите, используется ли для одного или нескольких объектов свободная или нейтральная организация. Существующий код может содержать ссылки на эквивалентные [_ATL_MULTI_THREADED](reference/compiler-options-macros.md#_atl_multi_threaded)макросов.|

Если вы не определили ни одного из этих макросов для проекта, _ATL_FREE_THREADED будет действовать.

Макросы влияют на производительность во время выполнения следующим образом:

- Указание макроса, соответствующего объектам в проекте, может повысить производительность во время выполнения.

- При указании более высокого уровня макроса, например при указании _ATL_APARTMENT_THREADED, если все объекты являются отдельными потоками, будет немного снижать производительность во время выполнения.

- При указании более низкого уровня макроса, например при указании _ATL_SINGLE_THREADED если один или несколько объектов используют потоковое подразделение или свободную работу с потоками, может привести к сбою приложения во время выполнения.

Описание моделей потоков, доступных для объекта ATL, см. в разделе [Параметры, мастер простых объектов ATL](../atl/reference/options-atl-simple-object-wizard.md) .

## <a name="see-also"></a>См. также раздел

[Основные понятия](../atl/active-template-library-atl-concepts.md)
