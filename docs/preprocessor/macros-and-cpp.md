---
title: Макросы и C++
ms.date: 08/29/2019
helpviewer_keywords:
- macros, C++
- macros
ms.assetid: 83a344c1-73c9-4ace-8b93-cccfb62c6133
ms.openlocfilehash: 3b8721644e49a8bd289939d216c233da3286fd0a
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87219408"
---
# <a name="macros-and-c"></a>Макросы и C++

C++ предлагает новые возможности, некоторые из которых заменяются препроцессором ANSI C. Эти новые возможности повышают безопасность типов и предсказуемость языка.

- В C++ объекты, объявленные как, **`const`** могут использоваться в константных выражениях. Он позволяет программам объявлять константы со сведениями о типе и значении. Они могут объявлять перечисления, которые могут быть просмотрены символами с помощью отладчика. При использовании директивы препроцессора `#define` для определения констант они не так точны и не являются строго типизированными. Хранилище для объекта не выделяется **`const`** , если программа не содержит выражение, которое принимает его адрес.

- Возможности встраиваемых функций C++ вытесняют макросы типов функций. Преимущества использования встраиваемых функций по сравнению с макросами изложены ниже.

  - Типобезопасность. Типы встроенных функций проходят ту же процедуру проверки, что и обычные функции. Макросы не являются строго типизированными.

  - Правильная обработка аргументов с побочными эффектами. Встроенные функции оценивают выражения, передаваемые в виде аргументов, перед тем, как будет указан текст функции. Таким образом, не существует шанса, что выражение с побочными эффектами будет ненадежным.

Дополнительные сведения о встроенных функциях см. в разделе [встроенная __inline, \_ _forceinline](../cpp/inline-functions-cpp.md).

Для обеспечения обратной совместимости все средства препроцессора, существовавшие в ANSI C и более ранних спецификациях C++, сохранены для Microsoft C++.

## <a name="see-also"></a>См. также раздел

[Предопределенные макросы](../preprocessor/predefined-macros.md)\
[Макросы (C/C++)](../preprocessor/macros-c-cpp.md)
