---
title: execution_character_set
ms.date: 10/18/2018
f1_keywords:
- execution_character_set
- vc-pragma.execution_character_set
helpviewer_keywords:
- pragma execution_character_set
ms.assetid: 32248cbc-7c92-4dca-8442-230c052b53ad
ms.openlocfilehash: bd31e8e91a1bcbfa6ace9b47fa2b13dd945adb20
ms.sourcegitcommit: c7f90df497e6261764893f9cc04b5d1f1bf0b64b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/05/2019
ms.locfileid: "59039930"
---
# <a name="executioncharacterset"></a>execution_character_set

Задает набор символов исполнения, используемый для строковых и символьных литералах. Эта директива не требуется для литералов, помеченные с префиксом u8.

## <a name="syntax"></a>Синтаксис

```
#pragma execution_character_set("target")
```

### <a name="parameters"></a>Параметры

*целевой объект*<br/>
Задает набор символов исполнения целевой объект. В настоящее время только выполнение целевых объектов, набор, поддерживаемый «utf-8».

## <a name="remarks"></a>Примечания

Эта директива компилятора является устаревшим, начиная с Visual Studio 2015 с обновлением 2. Мы рекомендуем использовать `/execution-charset:utf-8` или `/utf-8` параметры компилятора, а также с помощью `u8` префикс на узкие символьные и строковые литералы, которые содержат символы национального алфавита. Дополнительные сведения о `u8` префикса, см. в разделе [строковые и символьные литералы](../cpp/string-and-character-literals-cpp.md). Дополнительные сведения о параметрах компилятора см. в разделе [/Execution-CharSet (задать выполнение кодировки)](../build/reference/execution-charset-set-execution-character-set.md) и [/UTF-8 (задать источник и исполняемый файл кодировки UTF-8)](../build/reference/utf-8-set-source-and-executable-character-sets-to-utf-8.md).

`#pragma execution_character_set("utf-8")` Директива указывает компилятору для кодирования узких символов и узкие строковые литералы в исходном коде как UTF-8 в исполняемом файле. Кодирование вывода не зависит от источника кодировку, используемую.

По умолчанию компилятор кодирует узких символов и строку обычных символов с помощью текущей кодовой странице как набор символов исполнения. Это означает, что символы Юникода или DBCS в литерал, выходящие за диапазон текущей кодовой странице преобразуются в символ замены по умолчанию в выходных данных. Юникода и символами DBCS усекаются до их младший байт. Это почти наверняка не как предполагалось. Можно указать кодировку UTF-8 для литералов в файле исходного кода с помощью `u8` префикс. Компилятор передает эти строки в кодировке UTF-8 в выходные данные без изменений. Узкие символьные литералы префиксом с помощью u8 должны помещаться в один байт, или они усекаются в выходных данных.

По умолчанию Visual Studio использует текущую кодовую страницу как набора символов источника, используемые для интерпретации исходный код для выходных данных. При чтении файла в Visual Studio интерпретирует его в соответствии с текущей кодовой странице, если был задан файл кодовую страницу или обнаружения метки порядка следования байтов (BOM) или символов UTF-16 в начале файла. Так как UTF-8 невозможно задать в качестве текущей кодовой странице, когда автоматическое обнаружение обнаруживает исходных файлов в кодировке UTF-8 без метки порядка БАЙТОВ, Visual Studio предполагается, что они кодируются с помощью текущей кодовой странице. Символы в исходном файле, которые находятся за пределами диапазона, указанного объекта или автоматически обнаружил, что может привести к кодовой странице из-за ошибки и предупреждения компилятора.

## <a name="see-also"></a>См. также

[Директивы pragma и \_ \_ключевое слово Pragma](../preprocessor/pragma-directives-and-the-pragma-keyword.md)<br/>
[/ Execution-CharSet (задать выполнение кодировки)](../build/reference/execution-charset-set-execution-character-set.md)<br/>
[/ UTF-8 (задать источник и кодировки исполняемого файла в кодировке UTF-8)](../build/reference/utf-8-set-source-and-executable-character-sets-to-utf-8.md)