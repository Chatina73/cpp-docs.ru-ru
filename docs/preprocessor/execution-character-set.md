---
title: Прагма execution_character_set
ms.date: 08/29/2019
f1_keywords:
- execution_character_set
- vc-pragma.execution_character_set
helpviewer_keywords:
- pragma execution_character_set
ms.assetid: 32248cbc-7c92-4dca-8442-230c052b53ad
ms.openlocfilehash: 0c2c812f27634f397af91eace7a41c0e71c1eb99
ms.sourcegitcommit: 6e1c1822e7bcf3d2ef23eb8fac6465f88743facf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/03/2019
ms.locfileid: "70218625"
---
# <a name="execution_character_set-pragma"></a>Прагма execution_character_set

Указывает кодировку выполнения, используемую для строковых и символьных литералов. Эта директива не требуется для литералов, помеченных `u8` префиксом.

## <a name="syntax"></a>Синтаксис

> **#pragma execution_character_set (** "*Цель*" **)**

### <a name="parameters"></a>Параметры

*мишень*\
Указывает целевую кодировку выполнения. В настоящее время поддерживается только целевой набор выполнения "UTF-8".

## <a name="remarks"></a>Примечания

Эта директива компилятора является устаревшей, начиная с Visual Studio 2015 с обновлением 2. Рекомендуется использовать `/execution-charset:utf-8` параметрыкомпилятора`/utf-8` или вместе с префиксомдляузкихсимвольныхистроковыхлитералов,содержащихрасширенныесимволы.`u8` Дополнительные сведения о префиксе `u8` см. в разделе [строковые и символьные литералы](../cpp/string-and-character-literals-cpp.md). Дополнительные сведения о параметрах компилятора см. в разделе [/Execution-charset (установка кодировки выполнения)](../build/reference/execution-charset-set-execution-character-set.md) и [/UTF-8 (установка исходных и исполняемых кодировок в кодировке UTF-8)](../build/reference/utf-8-set-source-and-executable-character-sets-to-utf-8.md).

`#pragma execution_character_set("utf-8")` Директива сообщает компилятору о необходимости кодирования узких символов и узких строковых литералов в исходном коде как UTF-8 в исполняемом объекте. Эта кодировка вывода не зависит от используемой кодировки исходного файла.

По умолчанию компилятор кодирует узкие символы и узкие строки, используя текущую кодовую страницу в качестве кодировки выполнения. Это означает, что символы Юникода или DBCS в литерале, находящиеся вне диапазона текущей кодовой страницы, преобразуются в символ замены по умолчанию в выходных данных. Символы Юникода и DBCS усекаются до байтов нижнего порядка. Это почти наверняка не то, что вам нужно. Для литералов в исходном файле можно указать кодировку UTF-8 с помощью `u8` префикса. Компилятор передает эти строки в формате UTF-8 в выходные данные без изменений. Узкие символьные литералы с префиксом U8 должны помещаться в один байт или усекаются при выводе.

По умолчанию Visual Studio использует текущую кодовую страницу в качестве исходной кодировки, используемой для интерпретации исходного кода для выходных данных. Когда файл считывается в, Visual Studio интерпретирует его в соответствии с текущей кодовой страницей, если не была задана кодовая страница файла или если в начале файла не обнаружена метка порядка байтов (BOM) или символы UTF-16. Так как кодировка UTF-8 не может быть задана в качестве текущей кодовой страницы, когда автоматическое обнаружение обнаруживает исходные файлы в кодировке UTF-8 без КОМПЛЕКТа, Visual Studio предполагает, что они кодируются с использованием текущей кодовой страницы. Символы в исходном файле, которые выходят за пределы диапазона указанной или автоматически обнаруженной кодовой страницы, могут вызвать предупреждения и ошибки компилятора.

## <a name="see-also"></a>См. также

[Директивы pragma и \_ \_ключевое слово pragma](../preprocessor/pragma-directives-and-the-pragma-keyword.md)\
[/Execution-charset (Задание кодировки выполнения)](../build/reference/execution-charset-set-execution-character-set.md)\
[/utf/8 (указание UTF/8 в качестве исходной кодировки и кодировки исполняемого файла)](../build/reference/utf-8-set-source-and-executable-character-sets-to-utf-8.md)
