---
description: Дополнительные сведения об pragma директиве pointers_to_members в Microsoft C/C++
title: pointers_to_members pragma
ms.date: 01/22/2021
f1_keywords:
- pointers_to_members_CPP
- vc-pragma.pointers_to_members
helpviewer_keywords:
- class members, pointers to
- pragma, pointers_to_members
- members, pointers to
- pointers_to_members pragma
no-loc:
- pragma
ms.openlocfilehash: 7f2ca20b70d477e66a38d2a57e489d64c4179191
ms.sourcegitcommit: a26a66a3cf479e0e827d549a9b850fad99b108d1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2021
ms.locfileid: "98713380"
---
# <a name="pointers_to_members-no-locpragma"></a>`pointers_to_members` pragma

**Блок, относящийся только к языку C++**

Указывает, можно ли объявить указатель на член класса до определения связанного класса. Используется для управления размером указателя и кодом, необходимым для интерпретации указателя.

## <a name="syntax"></a>Синтаксис

> **`#pragma pointers_to_members(`***указатель-объявление* [ **`,`** *большинство-общие-представление* ]**`)`**

## <a name="remarks"></a>Примечания

Можно поместить **`pointers_to_members`** pragma в исходный файл в качестве альтернативы использованию параметров компилятора [ `/vmb` или `/vmg`](../build/reference/vmb-vmg-representation-method.md) , а также [ключевых слов наследования](../cpp/inheritance-keywords.md).

Аргумент *объявления указателя* указывает, был ли объявлен указатель на член до или после определения связанной функции. Аргумент *объявления указателя* является одним из следующих двух символов:

| Аргумент | Комментарии |
|--------------|--------------|
| **`full_generality`** | Создает безопасный, но не всегда оптимальный код. Используется, **`full_generality`** Если любой указатель на член объявляется перед определением связанного класса. Этот аргумент всегда использует представление указателя, указанное в аргументе *наиболее общего представления* . Эквивалентно **`/vmg`** . |
| **`best_case`** | Создает безопасный, оптимальный код с использованием наилучшего представления всех указателей на элементы. Требует определения класса перед объявлением указателя на член класса. Значение по умолчанию — **`best_case`** . |

*Наиболее общий аргумент представления* указывает наименьшее представление указателя, которое компилятор может безопасно использовать для ссылки на любой указатель на член класса в записи преобразования. Аргумент может принимать одно из следующих значений:

| Аргумент | Комментарии |
|--------------|--------------|
| **`single_inheritance`** | Наиболее общее представление является указателем на функцию-член с единичным наследованием. Вызывает ошибку, если модель наследования определения класса, для которой объявлен указатель на член класса, является множественной или виртуальной. |
| **`multiple_inheritance`** | Наиболее общее представление является указателем на функцию-член с множественным наследованием. Вызывает ошибку, если модель наследования определения класса, для которой объявлен указатель на элемент, является виртуальной. |
| **`virtual_inheritance`** | Наиболее общее представление является указателем на функцию-член с виртуальным наследованием. Никогда не вызывает ошибку. **`virtual_inheritance`** аргумент по умолчанию, если `#pragma pointers_to_members(full_generality)` используется. |

> [!CAUTION]
> Мы рекомендуем разместить **`pointers_to_members`** pragma только в файле исходного кода, который требуется изменить, и только после любых `#include` директив. Это уменьшает риск того, что компонент pragma повлияет на другие файлы и вы случайно указали несколько определений для одной переменной, функции или имени класса.

## <a name="example"></a>Пример

```cpp
//   Specify single-inheritance only
#pragma pointers_to_members( full_generality, single_inheritance )
```

**Завершение блока, относящегося только к языку C++**

## <a name="see-also"></a>См. также раздел

[Директивы pragma и `__pragma` `_Pragma` Ключевые слова и](./pragma-directives-and-the-pragma-keyword.md)
