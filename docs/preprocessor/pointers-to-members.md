---
description: 'Дополнительные сведения о: pointers_to_members pragma'
title: Прагма pointers_to_members
ms.date: 08/29/2019
f1_keywords:
- pointers_to_members_CPP
- vc-pragma.pointers_to_members
helpviewer_keywords:
- class members, pointers to
- pragmas, pointers_to_members
- members, pointers to
- pointers_to_members pragma
ms.assetid: 8325428c-c90a-4aed-9e82-cb1dda23f4ca
ms.openlocfilehash: 5e1b66ce39f49889a1225facd4bf358231863063
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97325723"
---
# <a name="pointers_to_members-pragma"></a>Прагма pointers_to_members

**Блок, относящийся только к языку C++**

Указывает, можно ли объявить указатель на член класса до определения связанного класса. Используется для управления размером указателя и кодом, необходимым для интерпретации указателя.

## <a name="syntax"></a>Синтаксис

> **#pragma pointers_to_members (** *указатель-объявление* [ **,** *большинство-общие-представление* ])

## <a name="remarks"></a>Комментарии

**Pointers_to_membersную** директиву pragma можно поместить в исходный файл в качестве альтернативы использованию параметров компилятора [/VMB или/vmg](../build/reference/vmb-vmg-representation-method.md) или [ключевых слов наследования](../cpp/inheritance-keywords.md).

Аргумент *объявления указателя* указывает, был ли объявлен указатель на член до или после определения связанной функции. Аргумент *объявления указателя* является одним из следующих двух символов:

| Аргумент | Комментарии |
|--------------|--------------|
| **full_generality** | Создает безопасный, но не всегда оптимальный код. **Full_generality** используется, если любой указатель на член объявляется перед связанным определением класса. Этот аргумент всегда использует представление указателя, указанное в аргументе *наиболее общего представления* . Эквивалентен /vmg. |
| **best_case** | Создает безопасный, оптимальный код с использованием наилучшего представления всех указателей на элементы. Требует определения класса перед объявлением указателя на член класса. Значение по умолчанию — **best_case**. |

*Наиболее общий аргумент представления* указывает наименьшее представление указателя, которое компилятор может безопасно использовать для ссылки на любой указатель на член класса в записи преобразования. Аргумент может принимать одно из следующих значений:

| Аргумент | Комментарии |
|--------------|--------------|
| **single_inheritance** | Наиболее общее представление является указателем на функцию-член с единичным наследованием. Вызывает ошибку, если модель наследования определения класса, для которой объявлен указатель на член класса, является множественной или виртуальной. |
| **multiple_inheritance** | Наиболее общее представление является указателем на функцию-член с множественным наследованием. Вызывает ошибку, если модель наследования определения класса, для которой объявлен указатель на элемент, является виртуальной. |
| **virtual_inheritance** | Наиболее общее представление является указателем на функцию-член с виртуальным наследованием. Никогда не вызывает ошибку. При использовании используется аргумент по умолчанию **virtual_inheritance** `#pragma pointers_to_members(full_generality)` . |

> [!CAUTION]
> Рекомендуется поместить директиву pragma **pointers_to_members** только в файл исходного кода, который требуется изменить, и только после каких бы то ни было `#include` директив. Такой подход уменьшает риск влияния директивы pragma на другие файлы и случайного указания нескольких определений для одной переменной, функции или имени класса.

## <a name="example"></a>Пример

```cpp
//   Specify single-inheritance only
#pragma pointers_to_members( full_generality, single_inheritance )
```

**Завершение блока, относящегося только к языку C++**

## <a name="see-also"></a>См. также раздел

[Директивы pragma и ключевое слово __pragma](../preprocessor/pragma-directives-and-the-pragma-keyword.md)
