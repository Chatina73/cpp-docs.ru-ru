---
title: '#Директива line (C/C++)'
ms.date: 08/29/2019
f1_keywords:
- '#line'
helpviewer_keywords:
- preprocessor, directives
- line directive (#line)
- '#line directive'
ms.assetid: 585c1dc4-5184-4f01-98f4-80c1909744d7
ms.openlocfilehash: 35bee779ebf059c20d4a46e27b5ad4cbfb3ce5f3
ms.sourcegitcommit: 6e1c1822e7bcf3d2ef23eb8fac6465f88743facf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/03/2019
ms.locfileid: "70220222"
---
# <a name="line-directive-cc"></a>Директива #line (CC++/)

Директива **#line** указывает препроцессору изменить внутренний хранимый номер строки и имя файла компилятора на заданный номер строки и имя файла.

## <a name="syntax"></a>Синтаксис

> **#line** *последовательность цифр* ["*имя_файла*"]

## <a name="remarks"></a>Примечания

Номер строки и (необязательно) имя файла используется компилятором для указания на ошибки, которые он обнаруживает во время компиляции. Номер линии обычно указывает на текущую строку входных данных, а имя файла — на текущий входной файл. Номер строки увеличивается на единицу после обработки каждой строки.

Значение *последовательности цифр* может быть любой целочисленной константой. Над токенами предварительной обработки может выполняться замена макросов, однако полученный в этом случае результат должен иметь корректный синтаксис. *Имя файла* может быть любым сочетанием символов и должно быть заключено в двойные кавычки (`" "`). Если параметр *filename* опущен, то предыдущее имя файла остается неизменным.

Вы можете изменить номер исходной строки и имя файла, записав директиву **#line** . Переводчик использует номер строки и имя файла для определения значений предопределенных макросов `__FILE__` и. `__LINE__` С помощью этих макросов можно вставлять в текст программы описательные сообщения об ошибках. Дополнительные сведения об этих предопределенных макросах см. в разделе [предопределенные макросы](../preprocessor/predefined-macros.md).

Макрос разворачивается в строку, содержимое которой является именем файла, заключенное в двойные кавычки`" "`(). `__FILE__`

Если изменить номер линии и имя файла, компилятор игнорирует предыдущих значений и продолжит обработку с новыми значениями. Директива **#line** обычно используется генераторами программ, чтобы сообщения об ошибках ссылались на исходный исходный файл, а не на созданную программу.

В следующих примерах иллюстрируются **#line** и `__LINE__` макросы и `__FILE__` .

В этом операторе номер внутренней хранимой строки устанавливается равным 151, а имя файла изменяется на Copy. c.

```C
#line 151 "copy.c"
```

В этом примере макрос `ASSERT` использует предопределенные макросы `__LINE__` и `__FILE__` выводит сообщение об ошибке для исходного файла, если данное утверждение не имеет значения true.

```C
#define ASSERT(cond) if( !(cond) )\
{printf( "assertion error line %d, file(%s)\n", \
__LINE__, __FILE__ );}
```

## <a name="see-also"></a>См. также

[Директивы препроцессора](../preprocessor/preprocessor-directives.md)
