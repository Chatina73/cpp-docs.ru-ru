---
title: '#строки директивы (C/C++)'
ms.date: 10/18/2017
f1_keywords:
- '#line'
helpviewer_keywords:
- preprocessor, directives
- line directive (#line)
- '#line directive'
ms.assetid: 585c1dc4-5184-4f01-98f4-80c1909744d7
ms.openlocfilehash: ad0fe1514e89b861bab046652b1768862cc8045b
ms.sourcegitcommit: c7f90df497e6261764893f9cc04b5d1f1bf0b64b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/05/2019
ms.locfileid: "59023741"
---
# <a name="line-directive-cc"></a>Директива #line (C/C++)

**#Line** директива указывает препроцессору изменить компилятора хранит внутренний номер и имя файла для заданного номера строки и имя файла.

## <a name="syntax"></a>Синтаксис

> **#line** *последовательность цифр* [»*filename*«]

## <a name="remarks"></a>Примечания

Номер строки и (необязательно) имя файла используется компилятором для указания на ошибки, которые он обнаруживает во время компиляции. Номер линии обычно указывает на текущую строку входных данных, а имя файла — на текущий входной файл. Номер строки увеличивается на единицу после обработки каждой строки.

*Последовательность цифр* значение может быть любой целой константы. Над токенами предварительной обработки может выполняться замена макросов, однако полученный в этом случае результат должен иметь корректный синтаксис. *Filename* может быть любое сочетание символов и должно быть заключено в двойные кавычки (**""**). Если *filename* — этот параметр опущен, старое имя файла остается неизменным.

Можно изменить исходный номер строки и имя файла, написав **#line** директива. Переводчик использует номер строки и имя файла, чтобы определить значения предустановленных макросов `__FILE__` и `__LINE__`. С помощью этих макросов можно вставлять в текст программы описательные сообщения об ошибках. Дополнительные сведения о них см. в разделе [предварительно определенных макросов](../preprocessor/predefined-macros.md).

`__FILE__` Макрос разворачивается в строку, содержимое которого является имя файла, заключенное в двойные кавычки (**""**).

Если изменить номер линии и имя файла, компилятор игнорирует предыдущих значений и продолжит обработку с новыми значениями. **#Line** директива обычно используется генераторами программ, чтобы сообщение об ошибке для ссылки на исходный файл а не на сгенерированную программу.

В следующих примерах показаны **#line** и `__LINE__` и `__FILE__` макросы.

В данном заявлении номер строки, сохраненный во внутреннем хранилище имеет значение 151 и имя файла меняется на copy.c.

```cpp
#line 151 "copy.c"
```

В этом примере макрос `ASSERT` используются предустановленные макросы `__LINE__` и `__FILE__` для печати сообщение об ошибке об исходном файле, если заданный утверждение не выполняется.

```cpp
#define ASSERT(cond) if( !(cond) )\
{printf( "assertion error line %d, file(%s)\n", \
__LINE__, __FILE__ );}
```

## <a name="see-also"></a>См. также

[Директивы препроцессора](../preprocessor/preprocessor-directives.md)