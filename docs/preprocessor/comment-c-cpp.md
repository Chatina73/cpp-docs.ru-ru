---
description: Дополнительные сведения об pragma директиве Comment в Microsoft C/C++
title: Метки pragma
ms.date: 01/22/2021
f1_keywords:
- vc-pragma.comment
- comment_CPP
helpviewer_keywords:
- annotations [C++]
- comments [C++], compiled files
- pragma, comment
- comment pragma
no-loc:
- pragma
ms.openlocfilehash: 8a4df005b672cb108a2b55004a1149693acd4f95
ms.sourcegitcommit: a26a66a3cf479e0e827d549a9b850fad99b108d1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2021
ms.locfileid: "98713068"
---
# <a name="comment-no-locpragma"></a>`comment` pragma

Вставляет запись комментария в объектный или исполняемый файл.

## <a name="syntax"></a>Синтаксис

> **`#pragma comment(`***comment-Type* [ **`,`** "*Комментарий-Строка*"]**`)`**

## <a name="remarks"></a>Примечания

*Тип Comment* — это один из стандартных идентификаторов, описанных ниже, который указывает тип записи комментария. Необязательный *Комментарий-String* — это строковый литерал, предоставляющий дополнительные сведения для некоторых типов комментариев. Так как *Комментарий-Строка* является строковым литералом, он подчиняется всем правилам для строковых литералов при использовании escape-символов, внедренных кавычек ( `"` ) и сцепления.

### <a name="compiler"></a>compiler

Задает в объектном файле имя и номер версии компилятора. Эта запись комментария игнорируется компоновщиком. Если для этого типа записей указан параметр *строки Comment* , компилятор выдает предупреждение.

### <a name="lib"></a>lib

Задает в объектном файле запись поиска библиотеки. Этот тип комментария должен сопровождаться параметром *строки Comment* с именем (и, возможно, путем) библиотеки, которую должен искать компоновщик. Имя библиотеки соответствует заданным по умолчанию записям поиска в объектном файле. Компоновщик ищет эту библиотеку точно так же, как если бы она была указана в командной строке, если библиотека не указана с помощью [`/nodefaultlib`](../build/reference/nodefaultlib-ignore-libraries.md) . Несколько записей поиска библиотеки можно поместить в один и тот же исходный файл. Каждая запись отображается в объектном файле в том же порядке, в котором он находится в исходном файле.

Если важен порядок использования библиотеки по умолчанию и добавленной библиотеки, при компиляции с [`/Zl`](../build/reference/zl-omit-default-library-name.md) параметром имя библиотеки по умолчанию не будет помещено в модуль объекта. pragmaЗатем можно использовать второй комментарий для вставки имени библиотеки по умолчанию после добавления библиотеки. Библиотеки, перечисленные с помощью этих pragma директив, будут отображаться в модуле объекта в том же порядке, в котором они находятся в исходном коде.

### <a name="linker"></a>компоновщик

Помещает [параметр компоновщика](../build/reference/linker-options.md) в объектный файл. Благодаря этому параметр компоновщика можно не передавать из командной строки и не указывать в среде разработки, а задать непосредственно в комментарии. Например, в нем можно задать параметр /include, чтобы принудительно включить символ:

```C
#pragma comment(linker, "/include:__mySymbol")
```

Для передачи в идентификатор компоновщика доступны только следующие параметры компоновщика (*comment-Type*):

- [`/DEFAULTLIB`](../build/reference/defaultlib-specify-default-library.md)

- [`/EXPORT`](../build/reference/export-exports-a-function.md)

- [`/INCLUDE`](../build/reference/include-force-symbol-references.md)

- [`/MANIFESTDEPENDENCY`](../build/reference/manifestdependency-specify-manifest-dependencies.md)

- [`/MERGE`](../build/reference/merge-combine-sections.md)

- [`/SECTION`](../build/reference/section-specify-section-attributes.md)

### <a name="user"></a>пользователь

Вставляет в объектный файл комментарий общего рода. Параметр *строки Comment* содержит текст комментария. Эта запись комментария игнорируется компоновщиком.

## <a name="examples"></a>Примеры

В следующем pragma случае компоновщик ищет емапи. Библиотека LIB при компоновке. Компоновщик сначала ищет в текущем рабочем каталоге, а затем по пути, указанному в переменной среды LIB.

```C
#pragma comment( lib, "emapi" )
```

Следующий код pragma приводит к тому, что компилятор помещает имя и номер версии компилятора в объектный файл:

```C
#pragma comment( compiler )
```

Для комментариев, которые принимают параметр *строки комментария* , можно использовать макрос в любом месте, где будет использоваться строковый литерал, при условии, что макрос расширяется до строкового литерала. Кроме того, можно указать конкатенацию любого набора строковых литералов и макросов, которые развертываются в строковые литералы. Допустимым примером является следующая инструкция:

```C
#pragma comment( user, "Compiled on " __DATE__ " at " __TIME__ )
```

## <a name="see-also"></a>См. также раздел

[Директивы pragma и `__pragma` `_Pragma` Ключевые слова и](./pragma-directives-and-the-pragma-keyword.md)
