---
description: Дополнительные сведения о следующих стадиях перевода
title: Фазы трансляции
ms.date: 08/29/2019
helpviewer_keywords:
- translation phases
- preprocessor, translation
- translation, compiler process
- preprocessor
- file translation [C++], compiler process
- files [C++], translation
ms.assetid: a7f7a8c9-e8ba-4321-9e50-ebfbbdcce9db
ms.openlocfilehash: 6a561fe9aa61df293a038a9edfd094dbdef4fe89
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97333182"
---
# <a name="phases-of-translation"></a>Фазы трансляции

Программы на языках C и C++ состоят из одного или нескольких исходных файлов, каждый из которых содержит часть текста программы. Исходный файл, а также его *включаемые файлы*, файлы, включенные с помощью `#include` директивы препроцессора, но не включающие разделы кода, удаленные директивами условной компиляции, такими как `#if` , называются *блоками преобразования*.

Исходные файлы можно переводить в разное время. На самом деле, распространено преобразование только неактуальных файлов. Преобразованные записи преобразования можно обработать в отдельные файлы объектов или библиотеки объектного кода. Затем эти отдельные преобразованные записи преобразования объединяются для создания исполняемой программы или библиотеки динамической компоновки (DLL). Дополнительные сведения о файлах, которые могут использоваться в качестве входных данных для компоновщика, см. в разделе [Link input Files](../build/reference/link-input-files.md).

Записи преобразования могут взаимодействовать следующим образом.

- Вызовы функций с внешней компоновкой.

- Вызовы функций-членов класса с внешней компоновкой.

- Прямое изменение объектов с внешней компоновкой.

- Прямое изменение файлов.

- Межпроцессное взаимодействие (только для приложений на базе Microsoft Windows).

В следующем списке описываются этапы преобразования файлов компилятором.

*Сопоставление символов*\
Символы в исходном файле сопоставляются с внутренним представлением источника. На этом этапе последовательности триграфа преобразуются в односимвольное внутреннее представление.

*Разрыв строк*\
Все строки, заканчивающиеся обратной косой чертой ( **\\** ), за которой следует символ новой строки, соединяются со следующей строкой исходного файла, образуя логические строки из физических строк. Если он не пуст, то исходный файл должен заканчиваться символом новой строки, которому не предшествует обратная косая черта.

*Разметки*\
Исходный файл разделен на токены предварительной обработки и символы пробела. Каждый комментарий в исходном файле заменяется одним пробелом. Символы новой строки сохраняются.

*Предварительной обработки*\
Выполняются директивы предварительной обработки, и макросы разворачиваются в исходный файл. Оператор `#include` вызывает преобразование любого включенного текста, начинающееся с указанных выше трех шагов преобразования.

*Сопоставление наборов символов*\
Все члены и escape-последовательности в исходной кодировке преобразуются в эквивалентные значения в кодировке выполнения. В Microsoft C и C++ исходная кодировка и кодировка выполнения являются кодировками ASCII.

*Объединение строк*\
Все смежные строковые и расширенные строковые литералы объединяются. Например, `"String " "concatenation"` преобразуется в `"String concatenation"`.

*Операций*\
Все токены анализируются синтаксически и семантически; эти токены преобразовываются в объектный код.

*Компоновки*\
Все внешние ссылки можно использовать для создания исполняемой программы или библиотеки динамической компоновки.

Компилятор выдает предупреждающие сообщения или сообщения об ошибках во время преобразования, если обнаруживает синтаксические ошибки.

Компоновщик разрешает все внешние ссылки и создает исполняемую программу или DLL, объединяя одну или несколько отдельных обработанных записей преобразования со стандартными библиотеками.

## <a name="see-also"></a>См. также раздел

[Препроцессор](../preprocessor/preprocessor.md)
