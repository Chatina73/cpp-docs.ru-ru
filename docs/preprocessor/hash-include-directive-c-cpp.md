---
description: 'Дополнительные сведения о директиве: #include (C/C++)'
title: '#Директива include (C/C++)'
ms.date: 01/19/2021
f1_keywords:
- '#include'
helpviewer_keywords:
- preprocessor, directives
- '#include directive'
- include directive (#include)
ms.openlocfilehash: 4ba9b07b77d919e8587fc392518d268b935e0c46
ms.sourcegitcommit: a26a66a3cf479e0e827d549a9b850fad99b108d1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/22/2021
ms.locfileid: "98713627"
---
# <a name="include-directive-cc"></a>`#include` Директива (C/C++)

Указывает препроцессору включить содержимое указанного файла в точку, где отображается директива.

## <a name="syntax"></a>Синтаксис

> **`#include "`***путь — спецификация***`"`**\
> **`#include <`***путь — спецификация***`>`**

## <a name="remarks"></a>Примечания

Можно организовать константы и определения макросов в *включаемые файлы* (также известные как *заголовочные файлы*), а затем использовать **`#include`** директивы для добавления их в любой исходный файл. Включаемые файлы также позволяют внедрять объявления внешних переменных и сложных типов данных. Типы можно определять и именовать только один раз во включаемом файле, созданном с этой целью.

*Путь-Spec* — это имя файла, которому при необходимости может предшествовать Спецификация каталога. Имя файла должно указывать на существующий файл. Синтаксис инструкции *path-Spec* зависит от операционной системы, в которой компилируется программа.

Сведения о том, как ссылаться на сборки в приложении C++, скомпилированном с помощью [`/clr`](../build/reference/clr-common-language-runtime-compilation.md) , см. в разделе [ `#using` директива](../preprocessor/hash-using-directive-cpp.md).

Обе синтаксические формы приводят к **`#include`** замене директивы всем содержимым указанного файла. Различие между двумя формами — это порядок путей, которые препроцессор ищет при неполном указании пути. В приведенной ниже таблице показывается различие между этими формами синтаксиса.

| Форма синтаксиса | Действие |
|--|--|
| Форма в кавычках | Препроцессор ищет включаемые файлы в следующем порядке:<br/><br/> 1) в том же каталоге, что и файл, содержащий **`#include`** инструкцию.<br/><br/> 2) в каталогах открытых в данный момент файлов включения в порядке, в котором они были открыты. Поиск начинается в каталоге родительского включаемого файла, а затем выполняется в каталогах всех включаемых файлов-прародителей.<br/><br/> 3) вдоль пути, указанного в каждом **`/I`** параметре компилятора.<br/><br/> 4) вдоль путей, указанных в `INCLUDE` переменной среды. |
| Форма с угловыми скобками | Препроцессор ищет включаемые файлы в следующем порядке:<br/><br/> 1) вдоль пути, указанного в каждом **`/I`** параметре компилятора.<br/><br/> 2) при компиляции происходит в командной строке вместе с путями, заданными `INCLUDE` переменной среды. |

Как только препроцессор найдет файл с заданным именем, поиск останавливается. При заключении полной, неоднозначной спецификации пути для включаемого файла между двойными кавычками ( `" "` ) препроцессор выполняет поиск только по этой спецификации пути и игнорирует стандартные каталоги.

Если имя файла, заключенное в двойные кавычки, является неполным указанием пути, препроцессор сначала выполняет поиск в каталоге *родительского* файла. Родительский файл — это файл, содержащий **`#include`** директиву. Например, если включить файл с именем *file2* в файл с именем *file1*, то файл *file1* будет родительским.

Включаемые файлы могут быть *вложенными*: **`#include`** директива может находиться в файле с именем другой **`#include`** директивы. Например, *file2* может включать *файл3*. В этом случае *file1* будет по-прежнему являться родителем *file2*, но это было бы бабушке *файл3*.

Если включаемые файлы являются вложенными и при компиляции происходит в командной строке, поиск в каталоге начинается в каталоге родительского файла. Затем он переходит по каталогам всех файлов «бабушке». Таким образом, поиск начинается относительно каталога, в котором находится исходный файл, обрабатываемый в текущий момент. Если файл не найден, Поиск перемещается в каталоги, заданные параметром компилятора [ `/I` (дополнительные каталоги включаемых файлов)](../build/reference/i-additional-include-directories.md) . Наконец, выполняется поиск каталогов, заданных `INCLUDE` переменной среды.

В среде разработки Visual Studio `INCLUDE` переменная среды игнорируется. Вместо них используются значения, указанные в свойствах проекта для каталогов включения. Дополнительные сведения о настройке каталогов включения в Visual Studio см. в разделе [включаемые](../build/reference/vcpp-directories-property-page.md#directory-types) каталоги и [Дополнительные каталоги включения](../build/reference/c-cpp-prop-page.md#additional-include-directories).

В приведенном ниже примере демонстрируется включение файлов с помощью угловых скобок:

```C
#include <stdio.h>
```

В этом примере в исходную программу добавляется содержимое файла с именем *`stdio.h`* . Угловые скобки приводят препроцессору для поиска в каталогах, заданных `INCLUDE` переменной среды для *`stdio.h`* , после того, как он выполняет поиск в каталогах, заданных **`/I`** параметром компилятора.

В следующем примере демонстрируется включение файлов, заданных в кавычках:

```C
#include "defs.h"
```

В примере добавляется содержимое файла, указанного *`defs.h`* в исходной программе. Кавычки означают, что препроцессор сначала попытается найти этот файл в каталоге, содержащем родительский исходный файл.

Для включаемых файлов поддерживается до 10 уровней вложения. После завершения обработки вложенного объекта **`#include`** препроцессор сохраняет вложенный родительский файл в исходный исходный файл.

**Только для систем Майкрософт**

Чтобы найти исходные файлы для включения, препроцессор сначала выполняет поиск в каталогах, заданных **`/I`** параметром компилятора. Если **`/I`** параметр отсутствует или неисправен, препроцессор использует `INCLUDE` переменную среды для поиска всех включаемых файлов в угловых скобках. `INCLUDE`Переменная среды и **`/I`** параметр компилятора могут содержать несколько путей, разделенных точкой с запятой ( **`;`** ). Если в качестве части **`/I`** параметра или переменной среды отображается несколько каталогов `INCLUDE` , препроцессор ищет их в том порядке, в котором они отображаются.

Представим себе следующую команду:

```cmd
CL /ID:\msvc\include myprog.c
```

приводит к тому, что препроцессор ищет в каталоге *`D:\msvc\include\`* включаемые файлы, например *`stdio.h`* . Ниже еще один пример:

```cmd
SET INCLUDE=D:\msvc\include
CL myprog.c
```

Эта инструкция действуют точно так же. Если найти файл в обоих наборах каталогов не удастся, возникает неустранимая ошибка компилятора.

Если имя файла указано полностью для включаемого файла с путем, содержащим двоеточие (например, *`F:\MSVC\SPECIAL\INCL\TEST.H`* ), препроцессор следует за путем.

Для включаемых файлов, указанных как `#include "path-spec"` , поиск по каталогу начинается в каталоге родительского файла, а затем продолжается через каталоги всех файлов бабушкх. То есть поиск начинается относительно каталога, содержащего обрабатываемый исходный файл. Если файл «бабушке» отсутствует, и файл по-прежнему не найден, поиск продолжается так, как если бы имя файла было заключено в угловые скобки.

**КОНЕЦ Только для систем Майкрософт**

## <a name="see-also"></a>См. также раздел

[Директивы препроцессора](../preprocessor/preprocessor-directives.md)\
[`/I` (Дополнительные каталоги включаемых каталогов)](../build/reference/i-additional-include-directories.md)
