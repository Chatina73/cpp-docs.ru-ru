---
description: 'Дополнительные сведения: директивы #ifdef и #ifndef (C/C++)'
title: '#Директивы ifdef и #ifndef (C/C++)'
ms.date: 08/29/2019
f1_keywords:
- '#ifndef'
- '#ifdef'
helpviewer_keywords:
- '#ifdef directive'
- preprocessor, directives
- ifdef directive (#ifdef)
- ifndef directive (#ifndef)
- '#ifndef directive'
ms.assetid: 2b0be69d-9e72-45d8-8e24-e4130fb2455b
ms.openlocfilehash: 4888e4516b57465974d99b1c9e8e6393e02f68c6
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97269293"
---
# <a name="ifdef-and-ifndef-directives-cc"></a>директивы #ifdef и #ifndef (C/C++)

Директивы **#ifdef** и **#ifndef** имеют тот же результат, что и директива [#if](hash-if-hash-elif-hash-else-and-hash-endif-directives-c-cpp.md) , когда они используются с **определенным** оператором.

## <a name="syntax"></a>Синтаксис

>  *идентификатор* #ifdef\
>  *идентификатор* #ifndef

Эти директивы эквивалентны следующим:

> **#if определенный** *идентификатор*\
> **#if! определенный** *идентификатор*

## <a name="remarks"></a>Комментарии

Можно использовать директивы **#ifdef** и **#ifndef** в любом месте `#if` . Оператор **#ifdef** *identifier* эквивалентен, `#if 1` Если определен *идентификатор* . Это эквивалентно `#if 0` тому, что *идентификатор* не был определен или был неопределен `#undef` директивой. Эти директивы проверяют наличие или отсутствие только идентификаторов, определенных с директивой `#define`, а не идентификаторов, объявленных в исходном коде C или C++.

Эти директивы предназначены только для совместимости с предыдущими версиями языка. Предпочтительным является **заданное** константное выражение ( *идентификатор* **)** , используемое с `#if` директивой.

Директива **#ifndef** проверяет наличие противоположного условия, установленного **#ifdef**. Если идентификатор не был определен или его определение было удалено с помощью `#undef` , условие имеет значение true (отличное от нуля). В противном случае условие не выполняется (false, значение равно 0).

**Блок, относящийся только к системам Microsoft**

*Идентификатор* можно передать из командной строки с помощью параметра [/d](../build/reference/d-preprocessor-definitions.md) . С можно указать до 30 макросов `/D` .

Директива **#ifdef** полезна для проверки существования определения, так как определение может быть передано из командной строки. Пример:

```cpp
// ifdef_ifndef.CPP
// compile with: /Dtest /c
#ifndef test
#define final
#endif
```

**Завершение блока, относящегося только к системам Майкрософт**

## <a name="see-also"></a>См. также

[Директивы препроцессора](../preprocessor/preprocessor-directives.md)
