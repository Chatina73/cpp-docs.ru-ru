---
description: 'Дополнительные сведения о: hdrstop pragma'
title: Прагма hdrstop
ms.date: 08/29/2019
f1_keywords:
- hdrstop_CPP
- vc-pragma.hdrstop
helpviewer_keywords:
- hdrstop pragma
- pragmas, hdrstop
ms.assetid: 5ea8370a-10d1-4538-ade6-4c841185da0e
ms.openlocfilehash: 1fec99503adfb1d81f7da324db83e4c2b56a3912
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97167517"
---
# <a name="hdrstop-pragma"></a>Прагма hdrstop

Предоставляет дополнительный контроль над именами файлов предварительной компиляции и по расположению, в котором сохраняется состояние компиляции.

## <a name="syntax"></a>Синтаксис

> **#pragma hdrstop** [("*имя_файла*")]

## <a name="remarks"></a>Комментарии

Имя *файла является именем* предкомпилированного файла заголовка, который следует использовать или создать (в зависимости от того, указан ли параметр [/Yu](../build/reference/yu-use-precompiled-header-file.md) или [/Yc](../build/reference/yc-create-precompiled-header-file.md) ). Если *имя файла* не содержит спецификацию пути, предполагается, что предкомпилированный заголовочный файл находится в том же каталоге, что и исходный файл.

Если файл C или C++ содержит прагма-директиву **hdrstop** при компиляции с помощью `/Yc` , компилятор сохраняет состояние компиляции вплоть до расположения директивы pragma. Компилированное состояние кода, следующего за директивой pragma, не сохраняется.

Используйте файл *filename* , чтобы присвоить имя файлу предкомпилированного заголовка, в котором сохраняется компилированное состояние. Пробел между **hdrstop** и *filename* является необязательным. Имя файла, указанное в прагма-директиве **hdrstop** , является строкой и поэтому подчиняется ограничениям любой строки C или C++. В частности следует заключать его в кавычки и использовать escape-символ (обратную косую черту) для задания имен каталогов. Пример:

```C
#pragma hdrstop( "c:\\projects\\include\\myinc.pch" )
```

Имя предкомпилированного файла заголовка определяется в соответствии со следующим правилам в порядке приоритета.

1. Аргумент для `/Fp` параметра компилятора

2. Аргумент *filename* для `#pragma hdrstop`

3. Базовое имя файла исходного кода с расширением .PCH

Для `/Yc` параметров и `/Yu` , если ни один из двух параметров компиляции, ни директива pragma **hdrstop** не указывает имя файла, базовое имя исходного файла используется в качестве базового имени файла предкомпилированного заголовка.

Команды предварительной обработки также можно использовать для выполнения замены макроса.

```C
#define INCLUDE_PATH "c:\\progra~`1\\devstsu~1\\vc\\include\\"
#define PCH_FNAME "PROG.PCH"
.
.
.
#pragma hdrstop( INCLUDE_PATH PCH_FNAME )
```

Следующие правила управляют тем, где можно разместить директиву pragma **hdrstop** :

- Она должна находится за пределами любых объявлений или определений данных или функций.

- Она должна задаваться в файле исходного кода, а не заголовка.

## <a name="example"></a>Пример

```C
#include <windows.h>                 // Include several files
#include "myhdr.h"

__inline Disp( char *szToDisplay )   // Define an inline function
{
    // ...                           // Some code to display string
}
#pragma hdrstop
```

В этом примере директива pragma **hdrstop** появляется после включения двух файлов и определения встроенной функции. Это расположение, в первую очередь, похоже на нестандартное размещение директивы pragma. Однако следует учесть, что с помощью параметров предварительной компиляции вручную `/Yc` и `/Yu` с помощью директивы pragma **hdrstop** можно выполнить предварительную компиляцию целых исходных файлов, даже встроенного кода. Компилятор Microsoft не ограничивает предварительную компиляцию только объявлениями данных.

## <a name="see-also"></a>См. также раздел

[Директивы pragma и ключевое слово __pragma](../preprocessor/pragma-directives-and-the-pragma-keyword.md)
