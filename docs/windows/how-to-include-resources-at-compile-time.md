---
title: Как выполнить  Включение ресурсов во время компиляции (C++)
ms.date: 11/04/2016
f1_keywords:
- vs.resvw.resource.including
- vc.resvw.resource.including
- vc.editors.resourceincludes
helpviewer_keywords:
- comments [C++], compiled files
- resources [C++], including at compile time
- projects [C++], including resources
- '#include directive'
- include directive (#include)
- Resource Includes dialog box [C++]
- rc files [C++], changing storage
- symbol header files [C++], changing
- .rc files [C++], changing storage
- symbol header files [C++], read-only
- symbols [C++], symbol header files
- directories [C++], specifying include paths for resources
- include files [C++], specifying for resources
- resources [C++], including in projects
ms.assetid: 357e93c2-0a29-42f9-806f-882f688b8924
ms.openlocfilehash: 52145d2a656a7cac0d07a43ceaf298fbebb5ad40
ms.sourcegitcommit: 63c072f5e941989636f5a2b13800b68bb7129931
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2019
ms.locfileid: "55764081"
---
# <a name="how-to-include-resources-at-compile-time"></a>Как выполнить  Включение ресурсов во время компиляции

Обычно это удобнее всего работать с заданным по умолчанию размещением всех ресурсов в один ресурс RC-файл. Тем не менее, вы можно добавлять ресурсы в другие файлы к текущему проекту во время компиляции, указав их в **директивы времени компиляции** поле **включения ресурсов** диалоговое окно.

Существует несколько причин размещать ресурсы в отдельном файле, а не в главном RC-файле:

- Чтобы добавить комментарии к инструкциям ресурсов, которые не будут удалены при сохранении RC-файл.

   Редакторы ресурсов не обращаются непосредственно .rc или `resource.h` файлов. Компилятор ресурсов компилирует их в APS-файлы, используемые редакторами ресурсов. Этот файл представляет собой этап компиляции и содержит только символьные данные. Как при обычном процессе компиляции, сведения, не являющиеся символьными (например комментарии) удаляются во время компиляции. Каждый раз, когда APS-файлом синхронность с RC-файл, RC-файл создается заново (например, при сохранении, редактор ресурсов перезаписывает RC-файл и `resource.h` файла). Любые изменения в самих ресурсах останутся включенными в RC-файл, но комментарии всегда теряются после перезаписи RC-файла.

- Необходимость включения ресурсов, которые уже были разработаны и протестированы и не требуют дальнейшего изменения. (Все файлы, которые включены, но не имеющие расширения RC будет недоступны для изменения с помощью редакторов ресурсов).

- Необходимость включения ресурсов, используются в нескольких разных проектах или являются частью системы управления версиями исходным кодом и таким образом, должен быть в центральном расположении, где изменения будут применяться ко всем проектам.

- Необходимость включения ресурсов (например, ресурсов RCDATA) в нестандартном формате. Ресурсы RCDATA могут иметь особые требования. Например, нельзя использовать выражение как значение для поля nameID. См. Дополнительные сведения можно найти в документации пакета SDK для Windows.

Если у вас есть разделы в существующих RC-файлах, удовлетворяющих любому из этих условий, следует поместить эти разделы в один или несколько отдельных RC-файлов и включать их в проект с помощью **включения ресурсов** диалоговое окно. *Имя_проекта*для этой цели используется файл .rc2, создаваемый в подкаталоге "\res" нового проекта.

Можно использовать **включения ресурсов** диалогового окна в проекте C++, чтобы изменить обычную рабочую настройку среды хранение всех ресурсов в RC-файл проекта и все [символы](../windows/symbols-resource-identifiers.md) в файле Resource.h.

Чтобы открыть **включения ресурсов** диалоговое окно, щелкните правой кнопкой мыши RC файл в [представление ресурсов](../windows/resource-view-window.md), затем выберите **включения ресурсов** в контекстном меню. Это диалоговое окно имеет следующие свойства:

|Свойство.|Описание:|
|---|---|
|**Файл символов заголовков**|Позволяет изменить имя файла заголовков, в котором хранятся определения символов файла ресурсов. Дополнительные сведения см. в разделе [изменение имен файлов символов заголовков](../windows/changing-the-names-of-symbol-header-files.md).|
|**Директивы символов только для чтения**|Позволяет включать файлы заголовков, содержащие символы, которые не должно изменяться во время сеанса редактирования. Например, можно включить файл символов, который является общим для нескольких проектов. Можно также включать H-файлы MFC. Дополнительные сведения см. в разделе [Включение общих (только для чтения) или вычисляемых символов](../windows/including-shared-read-only-or-calculated-symbols.md).|
|**Директивы времени компиляции**|Позволяет включать файлы ресурсов, созданные и отредактированные отдельно от ресурсов основного файла ресурсов, содержащих директивы времени компиляции (например, эти директивы, которые условно включают ресурсы) или ресурсы в нестандартном формате. Можно также использовать **поле директив времени компиляции** для включения стандартных файлов ресурсов MFC. Дополнительные сведения см. в разделе [Включение ресурсов во время компиляции](../windows/how-to-include-resources-at-compile-time.md).|

> [!NOTE]
> Записи в этих полях появляются в RC-файл, отмеченный `TEXTINCLUDE 1`, `TEXTINCLUDE 2`, и `TEXTINCLUDE 3` соответственно. Дополнительные сведения см. в разделе [TN035: Использование нескольких файлов ресурсов и файлы заголовков в Visual C++](../mfc/tn035-using-multiple-resource-files-and-header-files-with-visual-cpp.md).

После внесения изменений в файл ресурсов с помощью **включения ресурсов** диалоговое окно, необходимо закрыть RC-файл и снова откройте его, чтобы изменения вступили в силу. Дополнительные сведения см. в разделе [Включение ресурсов во время компиляции](../windows/how-to-include-resources-at-compile-time.md).

Сведения о добавлении ресурсов в управляемые проекты см. в разделе [ресурсы в приложениях для настольных систем](/dotnet/framework/resources/index) руководства разработчика .NET Framework.

## <a name="to-include-resources-in-your-project-at-compile-time"></a>Включение ресурсов в проект во время компиляции

1. Поместите ресурсы в файл описания ресурсов с уникальным именем. Не используйте *имя_проекта*.rc, так как это имя является именем файла, используемый для главного файла описания ресурсов.

1. Щелкните правой кнопкой мыши RC-файл (в [представление ресурсов](../windows/resource-view-window.md)) и выберите **включения ресурсов** в контекстном меню.

1. В **директивы времени компиляции** , добавьте [#include](../preprocessor/hash-include-directive-c-cpp.md) директивы компилятора, чтобы включить новый файл ресурсов в главный файл ресурсов в среде разработки.

   Ресурсы, содержащиеся в файлах, включенных таким способом, становятся частью исполняемого файла во время компиляции. Они недоступны напрямую редактировать или изменять при работе на главном RC-файл проекта. Откройте RC-файлы отдельно. Все файлы, которые включены, но не имеющие расширения RC, будут недоступны для изменения с помощью редакторов ресурсов.

## <a name="to-specify-include-directories-for-a-specific-resource-rc-file-c"></a>Указание каталогов включения для определенного ресурса (RC-файл) (C++)

1. Щелкните правой кнопкой мыши RC-файл в обозревателе решений и выберите **свойства** в контекстном меню.

1. В **страницы свойств** выберите **ресурсы** узел в области слева, затем укажите дополнительные каталоги включения в **Дополнительные каталогивключения**свойство.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также

[Файлы ресурсов](../windows/resource-files-visual-studio.md)<br/>
[Редакторы ресурсов](../windows/resource-editors.md)<br/>
[TN035: Использование нескольких файлов ресурсов и файлы заголовков в Visual C++](../mfc/tn035-using-multiple-resource-files-and-header-files-with-visual-cpp.md)<br/>
[Символы. Идентификаторы ресурсов](../windows/symbols-resource-identifiers.md)<br/>
