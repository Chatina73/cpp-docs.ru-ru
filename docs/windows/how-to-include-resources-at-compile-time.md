---
title: Практическое руководство. Включение ресурсов во время компиляции (C++)
ms.date: 02/14/2019
f1_keywords:
- vs.resvw.resource.including
- vc.resvw.resource.including
- vc.editors.resourceincludes
helpviewer_keywords:
- comments [C++], compiled files
- resources [C++], including at compile time
- projects [C++], including resources
- '#include directive'
- include directive (#include)
- Resource Includes dialog box [C++]
- rc files [C++], changing storage
- symbol header files [C++], changing
- .rc files [C++], changing storage
- symbol header files [C++], read-only
- symbols [C++], symbol header files
- directories [C++], specifying include paths for resources
- include files [C++], specifying for resources
- resources [C++], including in projects
- symbols [C++], finding
- resources [C++], searching for symbols
ms.assetid: 357e93c2-0a29-42f9-806f-882f688b8924
ms.openlocfilehash: 5768347c32b1856da16310f29e7a4257e18b6a93
ms.sourcegitcommit: e540706f4e2675e7f597cfc5b4f8dde648b007bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/22/2019
ms.locfileid: "56676465"
---
# <a name="how-to-include-resources-at-compile-time-c"></a>Практическое руководство. Включение ресурсов во время компиляции (C++)

По умолчанию все ресурсы в расположен в одном RC-файле ресурсов, однако есть много причин размещать ресурсы в файле, отличном от главном RC-файле:

- Чтобы добавить комментарии к инструкциям ресурсов, которые не будут удалены при сохранении RC-файл.

- Необходимость включения ресурсов, которые уже были разработаны и протестированы и не требуют дальнейшего изменения. Все файлы, которые включены, но не имеющие расширения RC, будут недоступны для изменения с помощью редакторов ресурсов.

- Необходимость включения ресурсов, используемых в нескольких проектах, или, которые являются частью системы управления версиями исходным кодом. Эти ресурсы должны находиться в центральном расположении, где изменения будут применяться ко всем проектам.

- Чтобы включить ресурсы (например, ресурсов RCDATA) настраиваемого формата. Ресурсы RCDATA нет особых требований, где нельзя использовать выражение как значение для `nameID` поля.

Если у вас есть разделы в существующих RC-файлах, удовлетворяющих любому из этих условий, поместить эти разделы в один или несколько отдельных RC-файлов и включать их в проект с помощью **включения ресурсов** диалоговое окно.

## <a name="resource-includes"></a>Включения ресурсов

Вы можно добавить ресурсы из других файлов в проект во время компиляции, указав их в **директивы времени компиляции** поле **включения ресурсов** диалоговое окно. Используйте **включения ресурсов** диалоговое окно, чтобы изменить обычную рабочую настройку среды проекта хранение всех ресурсов в RC-файл проекта и все [символы](../windows/symbols-resource-identifiers.md) в `Resource.h`.

Чтобы приступить к работе, откройте **включения ресурсов** диалоговое окно, щелкните правой кнопкой мыши RC-файла в [представление ресурсов](../windows/resource-view-window.md)выберите **включения ресурсов** и запишите следующие свойства:

| Свойство. | Описание: |
|---|---|
| **Файл символов заголовков** | Позволяет изменить имя файла заголовка, где хранятся определения символов для файлов ресурсов.<br/><br/>Дополнительные сведения см. в разделе [изменение имен файлов символов заголовков](../windows/changing-the-names-of-symbol-header-files.md). |
| **Директивы символов только для чтения** | Позволяет включать файлы заголовков, содержащие символы, которые не должно изменяться. Например файлы символов для совместного использования с другими проектами. Это может также включать h-файлы MFC.<br/><br/>Дополнительные сведения см. в разделе [Включение общих (только для чтения) или вычисляемых символов](../windows/including-shared-read-only-or-calculated-symbols.md). |
| **Директивы времени компиляции** | Позволяет включать файлы ресурсов, созданные и отредактированные отдельно от ресурсов основного файла ресурсов, содержащих директивы времени компиляции (например, эти директивы, которые условно включают ресурсы) или ресурсы в нестандартном формате. Можно также использовать **поле директив времени компиляции** для включения стандартных файлов ресурсов MFC. |

> [!NOTE]
> Записи в этих полях появляются в RC-файл, отмеченный `TEXTINCLUDE 1`, `TEXTINCLUDE 2`, и `TEXTINCLUDE 3` соответственно. Дополнительные сведения см. в разделе [TN035: Использование нескольких файлов ресурсов и файлы заголовков в Visual C++](../mfc/tn035-using-multiple-resource-files-and-header-files-with-visual-cpp.md).

После внесения изменений в файл ресурсов с помощью **включения ресурсов** диалоговое окно, необходимо закрыть и снова откройте RC-файл, чтобы изменения вступили в силу.

### <a name="to-include-resources-in-your-project-at-compile-time"></a>Включение ресурсов в проект во время компиляции

1. Поместите ресурсы в файл описания ресурсов с уникальным именем. Не используйте *имя_проекта*.rc, так как это имя файла, используемого для главного файла описания ресурсов.

1. Щелкните правой кнопкой мыши RC-файл в [представление ресурсов](../windows/resource-view-window.md) и выберите **включения ресурсов** в контекстном меню.

1. В **директивы времени компиляции** , добавьте [#include](../preprocessor/hash-include-directive-c-cpp.md) директивы компилятора, чтобы включить новый файл ресурсов в главный файл ресурсов в среде разработки.

   Ресурсы в файлах, включенных таким образом производятся только частью исполняемого файла во время компиляции и не доступны для редактирования или изменения, при работе на главном RC-файл проекта. RC-файлы должны быть открыты отдельно, и все файлы, включенные без расширения RC, будут недоступны для изменения с помощью редакторов ресурсов.

### <a name="to-specify-include-directories-for-a-specific-resource-rc-file"></a>Указание каталогов включения для определенного ресурса (RC-файл)

1. Щелкните правой кнопкой мыши RC-файл в **обозревателе решений** и выберите **свойства**.

1. Выберите **ресурсы** узел в области слева и укажите все дополнительные каталоги включения в **Дополнительные каталоги включаемых файлов** свойство.

### <a name="to-find-symbols-in-resources"></a>Поиск символов в ресурсах

1. Перейдите к меню **изменить** > [поиск символа](/visualstudio/ide/go-to).

   > [!TIP]
   > Для использования [регулярные выражения](/visualstudio/ide/using-regular-expressions-in-visual-studio) в поиск, выберите [поиск в файлах](/visualstudio/ide/reference/find-command) в **изменить** меню вместо **поиск символа**. Выберите **используйте: Регулярные выражения** флажок в [диалоговое окно «Найти»](/visualstudio/ide/finding-and-replacing-text) и в **найти** поле поиска регулярного выражения можно выбрать из раскрывающегося списка. При выборе выражения из этого списка оно подставляется как текст для поиска в **найти** поле.

1. В **найти** выберите предыдущую строку поиска из раскрывающегося списка или введите сочетание клавиш, которое требуется найти (например, `ID_ACCEL1`).

1. Выберите любой из **найти** параметры и выберите **Найти далее**.

> [!NOTE]
> Нельзя выполнять поиск символов в строках, сочетаниях клавиш и двоичных ресурсах.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также

[Файлы ресурсов](../windows/resource-files-visual-studio.md)<br/>
[Практическое руководство. Создать ресурсы](../windows/how-to-create-a-resource-script-file.md)<br/>
[Практическое руководство. Управление ресурсами](../windows/how-to-copy-resources.md)<br/>