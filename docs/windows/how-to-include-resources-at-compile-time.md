---
title: 'Практическое: включение ресурсов во время компиляции (C++)'
ms.date: 11/04/2016
f1_keywords:
- vs.resvw.resource.including
- vc.resvw.resource.including
helpviewer_keywords:
- comments [C++], compiled files
- resources [C++], including at compile time
- projects [C++], including resources
- '#include directive'
- include directive (#include)
ms.assetid: 357e93c2-0a29-42f9-806f-882f688b8924
ms.openlocfilehash: 8d6cfc2f18ec12354619c01ed79b740554ec4d95
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50495151"
---
# <a name="how-to-include-resources-at-compile-time"></a>Практическое руководство. Включение ресурсов во время компиляции

Как правило, удобнее всего работать с заданным по умолчанию размещением всех ресурсов в одном файле описания ресурсов (RC-файле). Тем не менее, вы можно добавлять ресурсы в другие файлы к текущему проекту во время компиляции, указав их в **директивы времени компиляции** поле [ресурс включает диалоговое окно](../windows/resource-includes-dialog-box.md).

Существует несколько причин размещать ресурсы в отдельном файле, а не в главном RC-файле:

- Необходимость добавлять комментарии к инструкциям ресурсов, которые не будут удалены при сохранении RC-файла.

   Редакторы ресурсов не читают непосредственно .rc или `resource.h` файлов. Компилятор ресурсов компилирует их в APS-файлы, используемые редакторами ресурсов. Этот файл представляет собой этап компиляции и содержит только символьные данные. Как и при обычном процессе компиляции, данные, не являющиеся символьными (например комментарии), удаляются во время компиляции. Каждый раз, когда APS-файлом синхронность с RC-файл, RC-файл создается заново (например, при сохранении, редактор ресурсов перезаписывает RC-файл и `resource.h` файла). Любые изменения в самих ресурсах останутся включенными в RC-файл, но комментарии всегда теряются после перезаписи RC-файла.

- Необходимость включения ресурсов, которые уже были разработаны и протестированы и не требуют дальнейшего изменения. (Все включенные файлы, не имеющие расширения RC, будут недоступны для изменения с помощью редакторов ресурсов.)

- Необходимость включения ресурсов, которые используются в нескольких разных проектах или входят в систему управления версиями исходного кода и поэтому должны находиться в центральном расположении, где изменения будут применяться ко всем проектам.

- Необходимость включения ресурсов (например, ресурсов RCDATA) в нестандартном формате. Ресурсы RCDATA могут иметь особые требования. Например, нельзя использовать выражение как значение для поля nameID. См. Дополнительные сведения можно найти в документации пакета SDK для Windows.

Если у вас есть разделы в существующих RC-файлах, удовлетворяющих любому из этих условий, следует поместить эти разделы в один или несколько отдельных RC-файлов и включать их в проект с помощью [ресурс включает диалоговое окно](../windows/resource-includes-dialog-box.md). *Имя_проекта*для этой цели используется файл .rc2, создаваемый в подкаталоге "\res" нового проекта.

### <a name="to-include-resources-in-your-project-at-compile-time"></a>Включение ресурсов в проект во время компиляции

1. Поместите ресурсы в файл описания ресурсов с уникальным именем. Не используйте *имя_проекта*.rc, так как это имя файла, используемое для главного файла описания ресурсов.

2. Щелкните правой кнопкой мыши RC-файл (в [представление ресурсов](../windows/resource-view-window.md)) и выберите **включения ресурсов** в контекстном меню.

3. В **директивы времени компиляции** , добавьте [#include](../preprocessor/hash-include-directive-c-cpp.md) директивы компилятора, чтобы включить новый файл ресурсов в главный файл ресурсов в среде разработки.

   Ресурсы, содержащиеся в файлах, включенных таким способом, становятся частью исполняемого файла во время компиляции. Они недоступны для изменения непосредственно при работе над главным RC-файлом проекта. При необходимости следует открывать RC-файлы отдельно. Все включенные файлы, не имеющие расширения RC, будут недоступны для изменения с помощью редакторов ресурсов.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также

[Файлы ресурсов](../windows/resource-files-visual-studio.md)<br/>
[Редакторы ресурсов](../windows/resource-editors.md)