---
title: Как выполнить  Управление символы
ms.date: 11/04/2016
f1_keywords:
- vc.editors.symbol.changing
- vc.editors.symbol.restrictions.name
- vc.editors.symbol.changing.value
- vc.editors.symbol.restrictions.value
- vc.editors.symbol.changing.header
- vc.editors.symbol.changing.unassigned
- vc.editors.symbol.shared.calculated
helpviewer_keywords:
- symbol names
- symbols [C++], names
- restrictions, symbol names
- numeric values
- symbols [C++], numeric values
- numeric values, changing symbols
- symbols [C++], value restrictions
- restrictions, symbol values
- resource files [C++], multiple
- Resource Includes dialog box [C++]
- symbol header files [C++], changing names
- symbols [C++], symbol header files
- Resource.h
- symbols [C++], unassigned
- Change Symbol dialog box [C++]
- unassigned symbols
- symbols [C++], deleting
- symbols [C++], read-only
- symbols [C++], shared
- symbols [C++], calculated
- read-only symbols
- symbol directives
- calculated symbols
- shared symbols
ms.assetid: 26541832-8dba-4177-b642-e08f94502ea7
ms.openlocfilehash: 4bc0376b6b5ff402f0cc9f40093e000763ad6656
ms.sourcegitcommit: bec1480a03e7b4070b469a6c131a69f516bbac70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/13/2019
ms.locfileid: "56226375"
---
# <a name="how-to-manage-symbols"></a>Как выполнить  Управление символы

При создании нового ресурса или объекта ресурса среда разработки присваивает ему имя символа, заданное по умолчанию, например, IDD_DIALOG1. Можно использовать [окно "Свойства"](/visualstudio/ide/reference/properties-window) Чтобы изменить имя символа по умолчанию или изменить имя любого символа, уже связан с ресурсом.

Для символов, связанных с одним ресурсом, можно также использовать **свойства** окно, чтобы изменить значение символа. Можно использовать [символы ресурсов-диалоговое окно](../windows/resource-symbols-dialog-box.md) для изменения значения символов, в настоящее время не назначен ресурс.

Обычно все определения символов сохраняются в `Resource.h`. Однако может возникнуть необходимость изменить имя этого включаемого файла, чтобы, например, работать с несколькими файлами ресурсов, расположенными в одном каталоге.

Сведения о добавлении ресурсов в управляемые проекты см. в разделе [ресурсы в приложениях для настольных систем](/dotnet/framework/resources/index) в *руководства разработчика .NET Framework*.

> [!NOTE]
> Если проект еще не содержит RC-файла, см. в разделе [Создание нового файла описания ресурсов](../windows/how-to-create-a-resource-script-file.md).

## <a name="symbol-name-restrictions"></a>Ограничения для имен символов

Существуют следующие ограничения на имена символов.

- Все [символы](../windows/symbols-resource-identifiers.md) должно быть уникальным в пределах приложения. Это исключает конфликты определений символов в файлах заголовков.

- Допустимые символы в именах: буквы A-Z, a-z, цифры 0-9 и знаки подчеркивания (_).

- Имена символов не может начинаться с цифры и превышать 247 знаков.

- Имена символов не может содержать пробелы.

- Имена символов не учитывается, но сохраняется регистр первого определения символа. Файл заголовков, который определяет символы, используется как компилятором и редактором ресурсов, так и программами C++, для ссылки на ресурсы, определенные в файле ресурсов. Имена символов, отличающиеся только регистром, программы C++ будут считать разными символами, а компилятор (редактор) ресурсов будет считать, что и то, и другое имя ссылается на один и тот же символ.

   > [!NOTE]
   > Если вы не будете придерживаться стандартной схемы именования символов (ID*_[ключевое_слово]), описанной ниже, и окажется, что имя символа совпадает с ключевым словом, известным компилятору описаний ресурсов, то при попытке создания файла описаний ресурсов обнаружится, что возникают на первый взгляд произвольные ошибки, которые трудно диагностировать. Чтобы избежать этого, придерживайтесь стандартной схемы именования.

В именах символов используются описательные префиксы, указывающие на тип ресурса или объект, которые они представляют. Эти описательные префиксы начинаются с сочетания знаков "ID". Соглашения об именовании символов, используемые библиотекой классов Microsoft Foundation Classes (MFC), показаны в следующей таблице.

|Категория|Префикс|Использовать|
|--------------|------------|---------|
|Ресурсы|IDR_ IDD_ IDC_ IDI_ IDB_|Сочетание клавиш или меню (и связанные или настраиваемые ресурсы), диалоговое окно, курсор, значок, растровое изображение|
|Пункты меню|ID_|Элемент меню|
|Команды|ID_|Команда|
|Элементы управления и дочерние окна|IDC_|Элемент управления|
|Строки|IDS_|Строки в таблице строк|
|MFC|AFX_|Зарезервировано для предопределенных символов MFC.|

### <a name="to-change-a-symbol-name-id"></a>Чтобы изменить имя символа (ID)

1. В [представление ресурсов](../windows/resource-view-window.md), выберите ресурс.

1. В **свойства** окно, введите новое имя символа или выберите из списка существующих символов в **идентификатор** поле.

   Если ввести новое имя символа, ей автоматически назначено значение.

Можно использовать [символы ресурсов-диалоговое окно](../windows/resource-symbols-dialog-box.md) Чтобы изменить имена символов, в настоящее время не назначен ресурс.

## <a name="symbol-value-restrictions"></a>Ограничения для символьных значений

Значением символа может быть любое целое число, указанное в обычном для директив препроцессора #define формате. Ниже приведены примеры значений символов.

```
18
4001
0x0012
-3456
```

Значения символов для ресурсов (сочетаний клавиш, растровых изображений, курсоров, диалоговых окон, значков, меню, таблиц строк и сведений о версии) должны быть десятичными числами в диапазоне от 0 до 32 767 (шестнадцатеричные числа не допускаются). Значения символов для частей ресурсов (элементов управления диалоговых окон или отдельных строк в таблице строк) могут быть в диапазоне от 0 до 65 534 или в диапазоне от –32 768 до 32 767.

Символы ресурсов являются 16-разрядных чисел. Их можно вводить как со знаком или без знака, однако они используются внутренне как целые числа без знака. Поэтому отрицательные числа будут приведены к соответствующим положительным значениям.

Ниже приведены некоторые ограничения значений символов.

- Среда разработки Visual Studio и MFC используют определенные диапазоны чисел для специальных целей. Все числа с установленным старшим разрядом (от –32 768 до –1 или от 32 768 до 65 534 в зависимости от знака) зарезервированы MFC.

- Не удается определить значение символа, используя другие строки символов. Например не поддерживается следующее определение символа:

    ```cpp
    #define IDC_MYEDIT  IDC_OTHEREDIT  //not supported
    ```

- В качестве определений значений нельзя использовать макросы препроцессора с аргументами. Пример:

    ```cpp
    #define   IDD_ABOUT  ID(7) //not supported
    ```

   не является допустимым выражением независимо от того, что `ID` принимает значение во время компиляции.

- У приложения может быть существующий файл, содержащий символы, определенные с помощью выражений. Дополнительные сведения о том, как включить символы как символы, доступные только для чтения см. в разделе [с помощью общих (только для чтения) или вычисляемых символов](../windows/including-shared-read-only-or-calculated-symbols.md).

Дополнительные сведения о диапазонах чисел см. в разделе [TN023: Стандартные ресурсы MFC](../mfc/tn023-standard-mfc-resources.md).

### <a name="to-change-a-symbol-value"></a>Чтобы изменить значение символа

1. В [представление ресурсов](../windows/resource-view-window.md), выберите ресурс.

1. В **свойства** введите имя символа за которым следует знак равенства и целое число в **идентификатор** поле, например:

    ```
    IDC_EDITNAME=5100
    ```

Новое значение будет сохранено в файле символов заголовков при очередном сохранении проекта. Только имя символа остается видимым в поле "идентификатор"; знак равенства и значение не отображаются после они проверяются.

## <a name="change-or-delete-unassigned-symbols"></a>Изменение или удаление неназначенных символов

При работе в [символы ресурсов-диалоговое окно](../windows/resource-symbols-dialog-box.md), можно редактировать или удалять существующие символы, которые не назначены ресурсу или объекту.

### <a name="to-change-an-unassigned-symbol"></a>Изменение неназначенного символа

1. В **имя** , выберите неназначенный символ и выберите **изменение**.

1. Измените имя символа или другие значения в соответствующих полях в **Изменение символа** диалоговое окно.

   > [!NOTE]
   > Чтобы изменить символ, который *является* назначен ресурсу или объекту, необходимо использовать редактор ресурсов или **свойства** окно.

### <a name="to-delete-an-unassigned-unused-symbol"></a>Удаление неназначенного (неиспользуемого) символа

В [символы ресурсов-диалоговое окно](../windows/resource-symbols-dialog-box.md), выберите символ, который требуется удалить и выберите пункт **удалить**.

   > [!NOTE]
   > Перед удалением неиспользуемого символа в файле ресурсов убедитесь в том, что он не используется где-либо в программе или в файлах ресурсов, включаемых во время компиляции.

## <a name="include-shared-read-only-or-calculated-symbols"></a>Включить общих (только для чтения) или вычисляемых символов

Когда среда разработки первый раз считывает файл ресурса, созданный другим приложением, она помечает все включаемые файлы заголовков как доступные только для чтения. Хотя можно использовать [ресурс включает диалоговое окно](../windows/resource-includes-dialog-box.md) для добавления дополнительных символов только для чтения файлы заголовков.

Одна из причин, по которой может потребоваться использование определений символов с доступом только для чтения — это наличие файлов символов, которые планируется совместно использовать в нескольких проектах.

Включаемые файлы символов могут также потребоваться при наличии существующих ресурсов с определениями символов, использующими выражения для определения значения символа, а не просто целые числа. Пример:

```cpp
#define   IDC_CONTROL1 2100
#define   IDC_CONTROL2 (IDC_CONTROL1+1)
```

Среда будет правильно интерпретировать эти вычисляемые символы при соблюдении следующих условий:

- Вычисляемые символы помещены в файл символов с доступом только для чтения.

- Файл ресурсов содержит ресурсы, которым уже назначены эти вычисляемые символы.

- Ожидается числовое выражение.

> [!NOTE]
> Если ожидается строковое или числовое выражение, выражение не вычисляется.

### <a name="to-include-shared-read-only-symbols-in-your-resource-file"></a>Включение общих (только для чтения) символов в файл ресурсов

1. В [представление ресурсов](../windows/resource-view-window.md), щелкните правой кнопкой мыши RC-файл и выберите пункт [включения ресурсов](../windows/resource-includes-dialog-box.md) в контекстном меню.

1. В **директивы символов только для чтения** используйте `#include` директиву компилятора, чтобы задать файл, в котором должны храниться символы только для чтения.

   Не вызывайте файл `Resource.h`, так как это имя файла, обычно используется для главного файла символов заголовков.

   > [!NOTE]
   > **Важные** вводимых в поле директивы символов только для чтения включается в файл ресурсов точно в том случае, при вводе. Убедитесь в том, что вводимый текст не содержит орфографических или синтаксических ошибок.

   Используйте **директивы символов только для чтения** поле, чтобы включить файлы с определениями символов только. Не включайте определения ресурсов; в противном случае повторяющиеся определения ресурсов создается при сохранении файла.

1. Поместите символы в указанный файл.

   Символы в файлах, включенных таким способом, оцениваются всякий раз при открытии файла ресурсов, но они не заменяются на диске при сохранении файла.

1. Нажмите кнопку **ОК**.

### <a name="to-change-the-name-of-the-resource-symbol-header-file"></a>Изменение имени файла символов заголовков ресурсов

1. В [представление ресурсов](../windows/resource-view-window.md), щелкните правой кнопкой мыши RC-файл и выберите пункт [включения ресурсов](../windows/resource-includes-dialog-box.md) в контекстном меню.

1. В **файла символов заголовков** введите новое имя включаемого файла.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также

[Символы. Идентификаторы ресурсов](../windows/symbols-resource-identifiers.md)<br/>
[Стандартные идентификаторы символов](../windows/predefined-symbol-ids.md)<br/>
[Просмотр символов ресурсов](../windows/viewing-resource-symbols.md)<br/>