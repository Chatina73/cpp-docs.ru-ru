---
title: Как выполнить  Создание ресурсов (C++)
ms.date: 02/14/2019
f1_keywords:
- vc.editors.resource
- vc.resvw.add.MFC
- vs.resourceview.F1
- vc.editors.insertresource
- vc.editors.newcustomresource
helpviewer_keywords:
- rc files [C++], creating
- .rc files [C++], creating
- resource script files [C++], creating
- resources [C++], viewing
- rc files [C++], viewing resources
- .rc files [C++], viewing resources
- resource script files [C++], viewing resources
- resource script files [C++], opening in text format
- .rc files [C++], opening in text format
- rc files [C++], opening in text format
- rc files [C++], adding MFC support
- .rc files [C++], adding MFC support
- MFC, adding support to resource scripts files
- resource script files [C++], adding MFC support
- toolbars [C++], resources
- resource toolbars
- resources [C++], creating
- Resource View window
- resources [C++], adding
- Add Resource dialog box [C++]
- Custom Resource Type dialog box [C++]
- language-specific template files [C++]
- resource templates
- rct files [C++]
- templates, resource templates
- resources [C++], templates
- .rct files [C++]
ms.assetid: 82be732a-cdcd-4a58-8de7-976d1418f86b
ms.openlocfilehash: dbb1d1d4b865380abde189ae6a72a1bfc3755840
ms.sourcegitcommit: 470de1337035dd33682d935b4b6c6d8b1bdb0bbb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/15/2019
ms.locfileid: "56320852"
---
# <a name="how-to-create-resources-c"></a>Как выполнить  Создание ресурсов (C++)

**Представление ресурсов** окно отображает файлы ресурсов, включенные в проекты. Развертывание верхней папки (например, *Project1.rc*) показывает тип ресурсов в том, что файл и развертывание каждого типа ресурсов показывает отдельные ресурсы этого типа.

> [!TIP]
> Чтобы открыть окно представления ресурсов, выберите **представление ресурсов** на **представление** меню (или используйте **Ctrl** + **Shift**  +  **E**).
>
> Можно также использовать щелкните правой кнопкой мыши на **представление ресурсов** окно, чтобы открыть контекстное меню команд или дважды щелкните строку заголовка, чтобы закрепить или открепить окно. Щелкните правой кнопкой мыши строку заголовка предоставляет дополнительные команды, которые дают возможность управлять поведением окна. Дополнительные сведения см. в разделе [управления Windows](/visualstudio/ide/customizing-window-layouts-in-visual-studio).

**Представление ресурсов** windows включает в себя **добавить ресурс** диалоговое окно со следующими свойствами для добавления ресурсов в проект классического приложения Windows C++:

|Свойство.|Описание:|
|--|----|
|**Тип ресурса**|Указывает тип ресурса, который требуется создать.<br/><br/>Можно развернуть категории ресурсов курсора и диалогового окна, чтобы просмотреть дополнительные ресурсы. Эти ресурсы находятся в ...\Microsoft Visual Studio \<версии\>\VC\VCResourceTemplates\\< LCID\>\mfc.rct. При добавлении RCT-файлы, либо поместить их в этот каталог, или указать другое [путь включаемых файлов](../windows/how-to-specify-include-directories-for-resources.md). В этом случае ресурсы в этих файлах появятся на втором уровне в соответствующей категории. Нет не ограничено количество RCT-файлы, которые можно добавить.<br/><br/>Ресурсы, показанные на верхнем уровне в элементе управления "дерево", — это ресурсы по умолчанию, предоставляемые Visual Studio.|
|**Создать**|Создает ресурс на основе типа, выбранного в **тип ресурса** поле и откроется в соответствующем редакторе ресурсов. Например, при создании ресурса диалогового окна, он открывается в [редактор диалоговых окон](../windows/dialog-editor.md).|
|**Import**|Открывает **импорта** диалоговое окно, где можно перейти к ресурсу вы хотите импортировать в текущий проект. Можно импортировать растровое изображение, значок, курсор, HTML, звуковой (. WAV) или файла настраиваемого ресурса.|
|**Пользовательский**|Открывает **Создание настраиваемого ресурса** диалоговое окно, где можно создать настраиваемый ресурс. Настраиваемые ресурсы только редактирования в двоичном редакторе.|

**Добавить ресурс** диалоговое окно содержит **Создание настраиваемого ресурса** диалоговое окно со следующим свойством, чтобы создать новый настраиваемый ресурс в проекте C++:

|Свойство.|Описание:|
|--|----|
|**Тип ресурса**|Текстовое поле для ввода имени типа настраиваемого ресурса. Visual C++ автоматически преобразует в прописную имя при выходе из **новый настраиваемый ресурс** диалоговое окно.|

> [!NOTE]
> **Редактора ресурсов** или **представление ресурсов** недоступна в выпусках Express.

## <a name="resource-scripts"></a>Скрипты ресурсов

Прежде чем создавать и добавлять новые ресурсы в проект, необходимо сначала создать сценарий ресурсов (RC-файл).

> [!NOTE]
> Файл описания ресурсов (RC) можно добавить только в существующий проект, загруженный в интегрированную среду разработки Visual Studio. Не удается создать автономный сценарий ресурсов (за пределами проекта). Шаблоны ресурсов (RCT-файлы) можно создать в любой момент.

### <a name="to-create-a-resource-script"></a>Создание сценария ресурсов

1. Поместить фокус на папку существующего проекта в **обозревателе решений**, например *MyProject*.

   > [!NOTE]
   > Не перепутайте папку проекта с папкой решения в **обозревателе решений**. Если поместить фокус на **решение** папки, выбранные в **Добавление нового элемента** диалоговое окно будет отличаться.

1. В меню **Проект** выберите пункт **Добавить новый элемент**.

1. Выберите **Visual C++** папку, затем выберите **файл ресурсов (.rc)** в области справа.

1. Укажите имя для скрипта ресурсов в **имя** текстовое поле и выберите **откройте**.

### <a name="to-open-a-resource-script"></a>Чтобы открыть сценарий ресурсов

Ресурсы можно просмотреть в сценарий ресурсов без необходимости открытия проекта. Файл скрипта откроется в окне документа, в отличие от **представление ресурсов** окна.

> [!NOTE]
> Некоторые команды доступны только в случае, когда файл открыт отдельно (за пределами проекта). Открытие автономного файла означает, что открывается без загрузки проекта.
>
> Например, чтобы сохранить файл в другом формате или под другим именем (как **Сохранить как** команда недоступна для файла внутри проекта). При открытии первого проектов с помощью **файл** > **откройте** > **проекта**, эти команды недоступны.

#### <a name="to-open-a-resource-script-outside-of-a-project"></a>Чтобы открыть сценарий ресурсов за пределами проекта

1. Из **файл** меню, выберите **откройте**, затем выберите **файл**.

1. Найдите файл описания ресурсов, выделите файл и выберите **откройте**.

#### <a name="to-open-multiple-resource-scripts-outside-of-a-project"></a>Чтобы открыть несколько скриптов ресурсов за пределами проекта

1. Откройте отдельно два файла ресурсов. Например, откройте *Source1.rc* и *Source2.rc*.

1. Из **файл** меню, выберите **откройте**, а затем выберите **файл**.

1. Перейдите в первый файл описания ресурсов, которую требуется открыть (*Source1.rc*), выделите файл и выберите **откройте**.

1. Повторите предыдущий шаг, чтобы открыть второй RC-файл (*Source2.rc*).

   Оба RC-файлов будут открыты в отдельных окнах документа.

1. Используйте **окно** меню (или щелкните правой кнопкой мыши один из RC-файлов) и выберите **создать группу горизонтальных вкладок** или **создать группу вертикальных вкладок**.

   Windows теперь располагаются, чтобы одновременно можно было их просматривать.

Возможны случаи, когда требуется просмотреть содержимое описания ресурсов (RC-файла) проекта, не открывая ресурс, например диалоговое окно, в его специальном редакторе ресурсов. Например, может требоваться найти строку во всех диалоговых окнах в файле ресурсов без открытия каждого из этих окон.

Можно легко открыть файл ресурсов в текстовом формате, чтобы просмотреть все ресурсы, содержащиеся в ней и завершить глобальные операции, поддерживаемые в текстовом редакторе.

> [!NOTE]
> Редакторы ресурсов не читают непосредственно .rc или `resource.h` файлов. Компилятор ресурсов компилирует их в APS-файлы, используемые редакторами ресурсов. Этот файл представляет собой этап компиляции и содержит только символьные данные. Как и при обычном процессе компиляции, данные, не являющиеся символьными (например комментарии), удаляются во время компиляции. Каждый раз, когда APS-файлом синхронность с RC-файл, RC-файл создается заново (например, при сохранении, редактор ресурсов перезаписывает RC-файл и `resource.h` файла). Любые изменения в самих ресурсах остаются включенными в RC-файл, но комментарии будут утеряны после RC-файл будет перезаписан. Сведения о сохранении комментариев см. в разделе [Включение ресурсов во время компиляции](../windows/how-to-include-resources-at-compile-time.md).

### <a name="to-open-a-resource-script-file-in-text-format"></a>Открытие файла описания ресурсов в текстовом формате

1. Из **файл** меню выберите **откройте**, затем выберите **файл**.

1. В **открыть файл** диалоговом окне найдите файл описания ресурсов, вы хотите просмотреть в текстовом формате.

1. Выделите файл, а затем щелкните стрелку раскрывающегося списка на **откройте** кнопки (справа от кнопки).

1. Выберите **открыть с помощью** из раскрывающегося меню, а затем **редактор исходного кода (текста)**.

1. Из **открыть как** стрелку раскрывающегося списка выберите **текст**.

   Ресурс откроется в **исходный код** редактора.

> [!TIP]
> Ярлык здесь — щелкнуть правой кнопкой мыши RC-файл в **обозревателе решений**, выберите **открыть с помощью...**  и выберите **редактор исходного кода (текста)**.

## <a name="resources"></a>Ресурсы

Можно создать ресурс как новый ресурс по умолчанию (ресурс, который не на основе шаблона) или как ресурс на основе шаблона.

При создании нового ресурса Visual C++ назначает уникальное имя, например, `IDD_Dialog1`. Этот идентификатор ресурса можно изменить путем редактирования свойств ресурса в соответствующем редакторе или в [окне свойств](/visualstudio/ide/reference/properties-window).

> [!NOTE]
> Не указывайте имя или идентификатор ресурса, зарезервированные для Visual Studio. Зарезервированные имена-DESIGNINFO, HWB и TEXTINCLUDE, зарезервированный идентификатор 255.

### <a name="to-create-a-resource"></a>Создание ресурса

Можно создать новый ресурс с помощью одного из следующих:

- В **представление ресурсов**выберите RC-файл, а затем использовать **изменить** > **добавить ресурс** и выберите тип ресурса, чтобы добавить в проект.

   > [!TIP]
   > Щелкните правой кнопкой мыши RC-файл в **представление ресурсов** и выберите **добавить ресурс** в контекстном меню.

- В **обозревателе решений**, щелкните правой кнопкой мыши папку проекта, выберите **добавить** > **добавить ресурс** и выберите тип ресурса, чтобы добавить в проект.

   > [!NOTE]
   > Если у вас нет RC-файла в проекте, этот шаг будет создан. Затем можно повторить этот шаг, чтобы добавить конкретные типы ресурсов в новый RC-файл.

- В [представление классов](/visualstudio/ide/viewing-the-structure-of-code), щелкните класс правой кнопкой мыши **добавить** > **добавить ресурс** и выберите тип ресурса, чтобы добавить в проект.

- В **проекта** меню, выберите **добавить ресурс**.

### <a name="support-for-mfc"></a>Поддержка MFC

Как правило если при создании приложения Microsoft Foundation Class (MFC) для Windows с помощью [мастер приложений MFC](../mfc/reference/mfc-application-wizard.md), мастер создает базовый набор файлов (включая RC-файл ресурсов), содержит основные функции MFC. Тем не менее при редактировании RC-файла для приложения Windows, не зависит от MFC, недоступны следующие функции для MFC: Мастеры кода MFC, командные строки меню, список содержимого элементов управления поля со списком и размещение элементов управления ActiveX.

#### <a name="to-add-mfc-support-to-a-resource-script-file"></a>Добавление поддержки MFC в файл описания ресурсов

1. Откройте файл описания ресурсов.

1. В **представление ресурсов**, выделите папку ресурсов (например, *MFC.rc*).

1. В [окно "Свойства"](/visualstudio/ide/reference/properties-window), задайте **режим MFC** свойства **True**.

   > [!NOTE]
   > Кроме настройки этого свойства, RC-файл должен быть частью проекта MFC. Например, просто задав **режим MFC** для **True** на .rc файл в проекте Win32, вы не получите функций MFC.

## <a name="resource-templates"></a>Шаблоны ресурсов

Шаблон ресурса — это настроенный ресурс, сохраненный как RCT-файл. Затем шаблон ресурсов служит в качестве отправной точки для создания ресурсов. Шаблоны ресурсов позволяют сэкономить время при разработке дополнительных ресурсов или групп ресурсов, которые совместно используют функции, такие как стандартные элементы управления или повторяющиеся элементы. Например если вы хотите включить кнопку "Справка" со значком логотип компании в несколько диалоговых окнах, создайте новый шаблон диалогового окна и настройте его, используя кнопку "Справка" и логотип.

После настройки шаблона ресурсов, сохраните изменения в папке шаблона (или в расположении, указанном в качестве пути включения), чтобы новый шаблон ресурсов будет отображаться в разделе его типом ресурса в **добавить ресурс** диалоговое окно. Теперь можно использовать новый шаблон ресурсов так часто, при необходимости.

> [!NOTE]
> Редактор ресурсов автоматически предоставляет уникальный идентификатор ресурса. Можно просмотреть и изменить [свойства ресурса](../windows/changing-the-properties-of-a-resource.md) при необходимости.

> [!NOTE]
> Поместите файлы шаблонов языковой специфики в подкаталогах основного каталога шаблонов. Например поместите файлы шаблонов в... \\< каталог_шаблонов_ресурсов\>\1033. Visual Studio выполняет поиск нового RCT-файлы в Visual Studio \Program Files\Microsoft \<версии\>\VC\VCResourceTemplates в Visual Studio \Program Files\Microsoft \<версии > \VC\VCResourceTemplates\\< LCID\> (1033 для английского языка), *или* в любом месте [путь включаемых файлов](../windows/how-to-specify-include-directories-for-resources.md). Если вы предпочитаете хранить RCT-файлы в другом месте, например "Мои документы" необходимо добавить эту папку в качестве пути включения, поэтому Visual Studio может найти ваш RCT-файл.

### <a name="to-create-a-resource-template"></a>Чтобы создать шаблон ресурсов

1. В **обозревателе решений**, щелкните правой кнопкой мыши проект.

1. В контекстном меню выберите **добавить** > **Добавление нового элемента**.

1. В **шаблоны:** области выберите **файл шаблона ресурсов (.rct)**.

1. Укажите имя и расположение нового RCT-файла и выберите **откройте**.

   Новый RCT-файл добавляется в проект и отображается в **обозревателе решений** под **ресурсы** папки.

1. Дважды щелкните RCT-файл, чтобы открыть его в окне документа. Чтобы добавить ресурсы, щелкните правой кнопкой мыши файл в окне документа и выберите **добавить ресурс**.

   Можно настроить эти ресурсы и сохранить RCT-файл.

### <a name="to-create-a-new-resource-from-a-template"></a>Создание нового ресурса по шаблону

1. В **представление ресурсов** панели, щелкните правой кнопкой мыши RC-файл и выберите **добавить ресурс** в контекстном меню.

1. Выберите знак «плюс» (**+**) рядом с ресурсом, чтобы развернуть узел ресурса и просмотреть все шаблоны, доступные для этого ресурса.

1. Дважды щелкните шаблон, который нужно использовать.

1. При необходимости измените добавленный ресурс в редакторе ресурсов.

### <a name="to-convert-an-existing-resource-file-to-a-template"></a>Чтобы преобразовать существующий файл ресурсов в шаблон

1. Откройте RC-файл в виде отдельного файла.

1. На **файл** меню, выберите **Сохранить \< *filename*> как**.

1. Укажите расположение и выберите **ОК**.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также

[Файлы ресурсов](../windows/resource-files-visual-studio.md)<br/>
[Управление ресурсами](../windows/how-to-copy-resources.md)<br/>
[Включение ресурсов во время компиляции](../windows/how-to-include-resources-at-compile-time.md)<br/>