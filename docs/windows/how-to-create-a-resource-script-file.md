---
title: Практическое руководство. Создание ресурсов (C++)
ms.date: 02/14/2019
f1_keywords:
- vc.editors.resource
- vc.resvw.add.MFC
- vs.resourceview.F1
- vc.editors.insertresource
- vc.editors.newcustomresource
helpviewer_keywords:
- rc files [C++], creating
- .rc files [C++], creating
- resource script files [C++], creating
- resources [C++], viewing
- rc files [C++], viewing resources
- .rc files [C++], viewing resources
- resource script files [C++], viewing resources
- resource script files [C++], opening in text format
- .rc files [C++], opening in text format
- rc files [C++], opening in text format
- rc files [C++], adding MFC support
- .rc files [C++], adding MFC support
- MFC, adding support to resource scripts files
- resource script files [C++], adding MFC support
- toolbars [C++], resources
- resource toolbars
- resources [C++], creating
- Resource View window
- resources [C++], adding
- Add Resource dialog box [C++]
- Custom Resource Type dialog box [C++]
- language-specific template files [C++]
- resource templates
- rct files [C++]
- templates, resource templates
- resources [C++], templates
- .rct files [C++]
ms.assetid: 82be732a-cdcd-4a58-8de7-976d1418f86b
ms.openlocfilehash: a18c24685ff0d5f65970a094730d1587abffb601
ms.sourcegitcommit: b4645761ce5acf8c2fc7a662334dd5a471ea976d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/07/2019
ms.locfileid: "57563034"
---
# <a name="how-to-create-resources-c"></a>Практическое руководство. Создание ресурсов (C++)

Можно создавать ресурсы в своем проекте:

- С помощью файла описания ресурсов.

   > [!NOTE]
   > Этот шаг является обязательным, прежде чем добавлять ресурсы.

- Добавление ресурсов в проект и с помощью **представление ресурсов**.

- С помощью шаблона ресурсов для создания настраиваемых ресурсов.

## <a name="use-resource-script-files"></a>Используются файлы описания ресурсов

Прежде чем создавать и добавлять новые ресурсы в проект, необходимо сначала создать RC-файл ресурсов.

> [!NOTE]
> Файл скрипта ресурсов можно добавлять только в существующий проект загружается в интегрированной среде разработки Visual Studio. Невозможно создать автономный сценарий ресурсов за пределами проекта, на то, что файлы ресурсов (.rct) шаблона можно создать в любой момент.

### <a name="to-create-a-resource-script-file"></a>Создание файла описания ресурсов

1. Поместить фокус на папку существующего проекта в **обозревателе решений**, например *MyProject*.

   > [!NOTE]
   > Не перепутайте папку проекта с папкой решения в **обозревателе решений**. Если поместить фокус на **решение** папки, не имеют одинаковые **Добавление нового элемента** вариантов.

1. В меню, перейдите в раздел **проекта** > **Добавление нового элемента**.

1. Выберите **Visual C++** папку и выберите **файл ресурсов (.rc)** в области справа.

1. Укажите имя для файла описания ресурсов в **имя** текстовое поле и выберите **откройте**.

### <a name="to-open-a-resource-script-file"></a>Открытие файла описания ресурсов

Ресурсы можно просмотреть в файле описания ресурсов без необходимости открытия проекта. Файл скрипта будет открыт в окне документа, в отличие от **представление ресурсов**.

> [!NOTE]
> Некоторые команды доступны только в том случае, если файл открыт отдельно, то есть за пределами проекта без загрузки проекта. Например, чтобы использовать **Сохранить как** команды и сохраните файл в другом формате или имя файла, файл должен быть открыт отдельно.

- Открытие файла описания ресурсов за пределами проекта, в меню, перейдите к **файл** > **откройте**и выберите **файл**. Найдите файл описания ресурсов, выделите файл и выберите **откройте**.

    > [!NOTE]
    > Могут возникнуть ситуации, когда требуется просмотреть содержимое файла описания ресурсов проекта без использования редакторы ресурсов, чтобы открыть ресурс. Например, может требоваться найти строку во всех диалоговых окнах в файле ресурсов без открытия каждого из этих окон. Можно легко открыть файл ресурсов в текстовом формате, чтобы просмотреть все ресурсы, содержащиеся в ней и завершить глобальные операции, поддерживаемые в текстовом редакторе.
    >
    > Открытие файла описания ресурсов в текстовом формате, используйте стрелку раскрывающегося списка в правой части **откройте** кнопку на предыдущем шаге и выберите **открыть с помощью**. Выберите **редактор исходного кода (текста)** и из **открыть как** стрелку раскрывающегося списка выберите **текст** и ресурс откроется в **исходный код** редактор.

- Чтобы открыть несколько ресурсов сценариев выполните этот шаг выше для каждого файла, который требуется открыть, например, *Source1.rc* и *Source2.rc*. Затем, когда оба RC-файлов будут открыты в отдельных окнах документа, либо использовать **окно** меню или щелкните правой кнопкой мыши один из файлов и выберите **создать группу горизонтальных вкладок** или **создать группу вертикальных вкладок** . Windows теперь располагаются, чтобы одновременно можно было их просматривать.

> [!TIP]
> Файлы описания ресурсов можно открыть, щелкнув правой кнопкой мыши RC-файл в **обозревателе решений**, выбрав **открыть с помощью** и выбрав **редактор исходного кода (текста)**.

При построении приложения Microsoft Foundation Class (MFC) для Windows с помощью [мастер приложений MFC](../mfc/reference/mfc-application-wizard.md), мастер создает базовый набор файлов, включая RC-файл ресурсов), содержащий основные возможности MFC. Тем не менее эти функции MFC не доступны при редактировании RC-файла для приложений Windows, не зависит от MFC. Сюда входят, мастеров кода, командные строки меню, список содержимого элементов управления поля со списком и размещение элементов управления ActiveX.

- Добавление поддержки MFC с открытым, файл описания ресурсов в **представление ресурсов**, выделите папку ресурсов (например, *MFC.rc*). Затем в [окно "Свойства"](/visualstudio/ide/reference/properties-window), задайте **режим MFC** для **True**.

  > [!NOTE]
  > Дополнение к параметру **режим MFC**, RC-файл должен быть частью проекта MFC. Настройка только **режим MFC** для **True** на .rc файл в проекте Win32, вы не получите функций MFC.

## <a name="create-resources"></a>Создание ресурсов

Можно создать ресурс как новый ресурс по умолчанию, то есть ресурс, который не на основе шаблона или как ресурс на основе шаблона.

Используйте **представление ресурсов** окно для отображения файлов ресурсов, включенные в проекты. Развертывание верхней папки, например, *Project1.rc*, показывает тип ресурсов в этом файле. Разверните каждый тип ресурса для отображения отдельных ресурсов этого типа.

> [!TIP]
> Чтобы открыть **представление ресурсов** окно, перейдите к меню **представление** > **представление ресурсов** или нажмите клавишу **Ctrl** +  **SHIFT**+**E**.

Можно также использовать щелкните правой кнопкой мыши на **представление ресурсов** окно, чтобы открыть контекстное меню команд, или дважды щелкните строку заголовка, чтобы закрепить или открепить окно. Щелкните правой кнопкой мыши строку заголовка команды, которые управляют поведением окна. Дополнительные сведения см. в разделе [управления Windows](/visualstudio/ide/customizing-window-layouts-in-visual-studio).

**Представление ресурсов** windows включает в себя **добавить ресурс** диалоговое окно со следующими свойствами для добавления ресурсов в проект классического приложения Windows C++:

| Свойство. | Описание |
|---|---|
| **Тип ресурса** | Укажите тип ресурса, который вы хотите создать.<br/><br/>Вы можете развернуть категории ресурсов курсора и диалогового окна поле, чтобы просмотреть дополнительные ресурсы, которые находятся в *... \Microsoft visual Studio \<версии\>\VC\VCResourceTemplates\\< LCID\>\mfc.rct*. Если необходимо добавить RCT-файлы, либо поместить их здесь, или указать другое [путь включаемых файлов](../windows/how-to-specify-include-directories-for-resources.md). Ресурсы, показанные на верхнем уровне в элементе управления иерархического — это ресурсы по умолчанию, предоставляемые Visual Studio. Ресурсы в RCT-файлы отображаются на втором уровне в соответствующей категории. Нет не ограничено количество RCT-файлы, которые можно добавить.<br/><br/> |
| **Создать** | Создание ресурса на основе типа, выбранного в **тип ресурса** поле и откройте ресурс в соответствующем редакторе.<br/><br/>Например, при создании ресурса диалогового окна, он открывает ресурс в [редактор диалоговых окон](../windows/dialog-editor.md). |
| **Import** | Откройте **импорта** диалоговое окно, чтобы перейти к ресурсу, который вы хотите импортировать в текущий проект.<br/><br/>Можно импортировать растровое изображение, значок, курсор, HTML, звуковой (. WAV) или файла настраиваемого ресурса. |
| **Пользовательский** | Откройте **Создание настраиваемого ресурса** диалоговое окно, чтобы создать настраиваемый ресурс.<br/><br/>Также включает в себя **тип ресурса** свойства, которое предоставляет текстовое поле для ввода имени типа настраиваемого ресурса. Visual C++ автоматически преобразует в прописную имя, при выходе. Настраиваемые ресурсы можно только изменить в [двоичный редактор](../windows/binary-editor.md). |

При создании нового ресурса Visual C++ назначает уникальное имя, например, `IDD_Dialog1`. Этот идентификатор ресурса можно изменить путем редактирования свойств ресурса в соответствующем редакторе или в [окно "Свойства"](/visualstudio/ide/reference/properties-window).

> [!NOTE]
> Не указывайте имя или идентификатор ресурса, зарезервированные для Visual Studio. Являются зарезервированными именами `DESIGNINFO`, `HWB`, и `TEXTINCLUDE`, и зарезервированный идентификатор — `255`.

### <a name="to-create-a-resource"></a>Создание ресурса

- В **представление ресурсов**выберите RC-файл, а затем использовать **изменить** > **добавить ресурс** и выберите тип ресурса, чтобы добавить в проект.

   > [!TIP]
   > Щелкните правой кнопкой мыши RC-файл в **представление ресурсов** и выберите **добавить ресурс** в контекстном меню.

- В **обозревателе решений**, щелкните правой кнопкой мыши папку проекта, выберите **добавить** > **добавить ресурс** и выберите тип ресурса, чтобы добавить в проект.

   > [!NOTE]
   > Если у вас нет RC-файла в проекте, этот шаг будет создан. Затем можно повторить этот шаг, чтобы добавить конкретные типы ресурсов в новый RC-файл.

- В [представление классов](/visualstudio/ide/viewing-the-structure-of-code), щелкните класс правой кнопкой мыши **добавить** > **добавить ресурс** и выберите тип ресурса, чтобы добавить в проект.

- Используйте меню **проекта** > **добавить ресурс**.

## <a name="use-resource-templates"></a>Использование шаблонов ресурсов

Шаблон ресурса — это настроенный ресурс, сохраненный как RCT-файл. Затем шаблон ресурсов служит в качестве отправной точки для создания ресурсов. Шаблоны ресурсов позволяют сэкономить время при разработке дополнительных ресурсов или групп ресурсов, которые совместно используют функции, такие как стандартные элементы управления или повторяющиеся элементы. Например если вы хотите включить кнопку "Справка" со значком логотип компании в несколько диалоговых окнах, создайте новый шаблон диалогового окна и настройте его, используя кнопку "Справка" и логотип.

После настройки шаблона ресурсов, сохранить изменения в папке шаблона или расположении, указанном в качестве пути включения, чтобы новый шаблон ресурсов будет отображаться в разделе его типом ресурса в **добавить ресурс** диалоговое окно. Теперь можно использовать новый шаблон ресурсов так часто, при необходимости.

> [!NOTE]
> Редактор ресурсов автоматически предоставляет уникальный идентификатор ресурса. Можно просмотреть и изменить [свойства ресурса](../windows/changing-the-properties-of-a-resource.md) при необходимости.

> [!NOTE]
> Поместите файлы шаблонов языковой специфики в подкаталогах основного каталога шаблонов. Например, файлы шаблонов перейдите *... \\< каталог_шаблонов_ресурсов\>\1033*.
>
> Visual Studio выполняет поиск нового RCT-файлы в *\Program Files\Microsoft Visual Studio \<версии\>\VC\VCResourceTemplates*, *\Program Files\Microsoft Visual Studio \< версии > \VC\VCResourceTemplates\\< LCID\>*  (например, LCID 1033 для английского языка), или в любом месте [путь включаемых файлов](../windows/how-to-specify-include-directories-for-resources.md). Если вы предпочитаете хранить ваш RCT-файлы в другом месте, необходимо добавить расположение в путь включаемых файлов.

### <a name="to-create-and-use-a-resource-template"></a>Создание и использование шаблонов ресурсов

1. В **обозревателе решений**, щелкните правой кнопкой мыши проект и выберите **добавить** > **Добавление нового элемента**.

1. В **шаблоны:** области выберите **файл шаблона ресурсов (.rct)**.

1. Укажите имя и расположение нового *.rct* файл и выберите **откройте**.

   Новый *.rct* файл будет добавлен в проект и отображается в **обозревателе решений** под **ресурсы** папки.

1. Дважды щелкните *.rct* файл, чтобы открыть его в окне документа. Чтобы добавить ресурсы, щелкните правой кнопкой мыши файл в окне документа и выберите **добавить ресурс**.

   Можно настроить добавлены ресурсы и сохранить *.rct* файл.

1. В **представление ресурсов** панели, щелкните правой кнопкой мыши *.rc* файл и выберите **добавить ресурс**.

1. Выберите знак «плюс» (**+**) рядом с ресурсом, чтобы развернуть узел ресурса и просмотреть шаблоны, доступные для этого ресурса.

1. Дважды щелкните шаблон, который нужно использовать.

   Добавить ресурс можно изменить при необходимости в редакторе ресурсов.

### <a name="to-convert-an-existing-resource-file-to-a-template"></a>Чтобы преобразовать существующий файл ресурсов в шаблон

С помощью файла описания ресурсов открыт, в меню, перейдите к **файл** > **Сохранить \< *filename*> как**. Укажите расположение и выберите **ОК**.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также

[Файлы ресурсов](../windows/resource-files-visual-studio.md)<br/>
[Практическое руководство. Управление ресурсами](../windows/how-to-copy-resources.md)<br/>
[Практическое руководство. Включение ресурсов во время компиляции](../windows/how-to-include-resources-at-compile-time.md)<br/>