---
title: Как создать значок или другое изображение
ms.date: 02/15/2019
helpviewer_keywords:
- bitmaps [C++]
- images [C++], creating
- resources [C++], creating images
- bitmaps [C++], creating
- graphics [C++], creating
- Image editor [C++], creating images
- cursors [C++], creating
- image resources [C++], display devices
- icons [C++], creating
- cursors [C++], types
- icons [C++]
- Image editor [C++], icons and cursors
- cursors [C++]
- display devices [C++], creating icons for
- cursors [C++], hot spots
- icons [C++], types
- icons [C++], creating
- display devices [C++], creating image
- images [C++], creating for display devices
- icons [C++], inserting
- New <Device> Image Type dialog box [C++]
- Custom Image dialog box [C++]
- Open <Device> Image dialog box [C++]
- New Device Image command
- display devices [C++], adding images
- cursors [C++], adding
- icons, adding
- display devices [C++], copying images
- cursors [C++], copying
- icons, copying
- cursors [C++], deleting
- display devices [C++], deleting device image
- icons, erasing
- icons, deleting
- cursors [C++], undoing changes
- icons, undoing changes
- cursors [C++], screen regions
- inverse colors [C++], device images
- transparent regions, device images
- transparency, device images
- Image editor [C++], device images
- inverse regions, device images
- cursors [C++], transparent regions
- screen colors
- regions, transparent
- icons [C++], transparent regions
- display devices [C++], transparent and screen regions
- transparent regions in devices
- regions, inverse
- colors [C++], Image editor
- device projects [C++], transparent images
- icons [C++], screen regions
- 256-color palette
- cursors [C++], color
- colors [C++], icons
- colors [C++], cursors
- icons, color
- colors [C++], icons and cursors
- color palettes, 256-color
- palettes, 256-color
- cursors [C++], hot spots
- hot spots
- .gif files [C++], saving bitmaps as
- jpg files [C++], saving bitmaps as
- jpeg files [C++], saving bitmaps as
- .jpg files [C++], saving bitmaps as
- Image editor [C++], converting image formats
- gif files [C++], saving bitmaps as
- bitmaps [C++], converting formats
- .jpeg files [C++], saving bitmaps as
- graphics [C++], converting formats
- images [C++], converting formats
- images [C++], stand-alone editing
- Image editor [C++], converting image formats
- graphics [C++], converting formats
- images [C++], converting formats
ms.assetid: 66db3fb2-cfc1-48a2-9bdd-53f61eb7ee30
ms.openlocfilehash: a331e310f031462c903546a2896317aae0c0d719
ms.sourcegitcommit: ec6dd97ef3d10b44e0fedaa8e53f41696f49ac7b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/25/2020
ms.locfileid: "88843369"
---
# <a name="how-to-create-an-icon-or-other-image"></a>Как создать значок или другое изображение

Можно создать новый рисунок, точечный рисунок, значок, курсор или панель инструментов, а затем использовать **Редактор изображений** для настройки внешнего вида. Можно также создать новое растровое изображение, созданное после [шаблона ресурса](../windows/how-to-use-resource-templates.md).

## <a name="icons-and-cursors-image-resources-for-display-devices"></a>Значки и курсоры: ресурсы изображений для устройств отображения

Значки и курсоры представляют собой графические ресурсы, которые могут состоять из нескольких изображений разных размеров, использующих разные цветовые схемы, в зависимости от типа устройства отображения. Курсор также имеет активную точку, которую Windows использует для трассировки его положения. Значки и курсоры создаются и редактируются с помощью **редактора изображений**, как и точечные рисунки и другие изображения.

При создании нового значка или курсора **Редактор изображений** сначала создает изображение стандартного типа. Это изображение сначала заполняется цветом экрана (прозрачным). Если изображение является курсором, активная разкраска изначально находится в левом верхнем углу с координатами `0,0` .

По умолчанию **Редактор изображений** поддерживает создание дополнительных образов для устройств, показанных в следующей таблице. Вы можете создавать изображения для других устройств, вводя параметры ширины, высоты и подсчета цветов в диалоговое окно **пользовательский образ** .

|Цвет|Ширина (в пикселях)|Высота (в пикселях)|
|-----------|----------------------|-----------------------|
|Монохромный|16|16|
|Монохромный|32|32|
|Монохромный|48|48|
|Монохромный|64|64|
|Монохромный|96|96|
|16|16|16|
|16|32|32|
|16|64|64|
|16|48|48|
|16|96|96|
|256|16|16|
|256|32|32|
|256|48|48|
|256|64|64|
|256|96|96|

### <a name="create-a-device-image-icon-or-cursor"></a>Создание образа устройства (значок или курсор)

При создании нового ресурса или значка курсора **Редактор изображений** сначала создает изображение в определенном стиле (32 × 32, 16 цветов для значков и 32 x 32, монохромный для курсоров). Затем можно добавлять изображения различных размеров и стилей к начальному значку или курсору и при необходимости редактировать каждое дополнительное изображение для различных устройств вывода. Можно также изменить изображение с помощью операции вырезания и вставки из существующего типа изображения или из растрового изображения, созданного в графической программе.

При открытии значка или ресурса курсора в [редакторе изображений](../windows/image-editor-for-icons.md)изображение, наиболее близко соответствующее текущему устройству вывода, открывается по умолчанию.

> [!NOTE]
> Если в проекте еще нет RC-файла, см. раздел [Создание нового файла описания ресурсов](../windows/how-to-create-a-resource-script-file.md).

Диалоговое окно **Создание &lt; &gt; типа образа устройства** позволяет создать новый образ устройства указанного типа. Чтобы открыть диалоговое окно **Создание \<Device> изображения** , перейдите в меню **изображение**  >  **создать тип изображения**. Включены следующие свойства: **тип целевого образа** и **Пользовательский**.

В свойстве **тип целевого образа** перечислены доступные типы изображений, в которых выбирается тип образа, который нужно открыть:

:::row:::
   :::column span="":::
      16 x 16, 16 цветов \
      32 x 32, 16 цветов \
      48 x 48, 16 цветов \
      64 x 64, 16 цветов \
      96 x 96, 16 цветов
   :::column-end:::
   :::column span="":::
      16 x 16, 256 цветов \
      32 x 32, 256 цветов \
      48 x 48, 256 цветов \
      64 x 64, 256 цветов \
      96 x 96, 256 цветов
   :::column-end:::
   :::column span="":::
      16 x 16, монохромная \
      32 x 32, монохромная \
      48 x 48, монохромная \
      64 x 64, монохромная \
      96 x 96, монохромная
   :::column-end:::
:::row-end:::

> [!NOTE]
> Все существующие образы не будут отображаться в этом списке.

**Пользовательское** свойство открывает диалоговое окно **пользовательский образ** , в котором можно создать новый образ с пользовательским размером и числом цветов.

Диалоговое окно **пользовательский образ** позволяет создать новый образ с пользовательским размером и числом цветов. Включены следующие свойства:

|Свойство|Описание|
|---|---|
|**Width**|Место для ввода ширины пользовательского изображения в пикселях (1-512, максимум 2048).|
|**Height**|Место для ввода высоты пользовательского изображения в пикселях (1-512, ограничение в 2048).|
|**Цвета**|Поле для выбора количества цветов для пользовательского образа: 2, 16 или 256.|

Диалоговое **окно &lt; Открытие &gt; образа устройства** используется для открытия образов устройств в проектах C++. В нем перечислены существующие образы устройств в текущем ресурсе (изображения, которые являются частью текущего ресурса). Включается следующее свойство:

|Свойство|Описание|
|---|---|
|**Текущие образы**|Список изображений, содержащихся в ресурсе. Выберите тип образа, который необходимо открыть.|

#### <a name="to-create-a-new-icon-or-cursor"></a>Создание нового значка или курсора

1. В [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources)щелкните правой кнопкой мыши *RC* -файл и выберите пункт **Вставить ресурс**. Если у вас уже есть ресурс изображения в *RC* -файле, например курсор, щелкните правой кнопкой мыши папку **курсор** и выберите команду **Вставить курсор**.

1. В [диалоговом окне Вставка ресурса](../windows/add-resource-dialog-box.md)выберите **значок** или **курсор** и нажмите кнопку **создать**. Для значков это действие создает ресурс значка с размером 32 × 32, 16-цветным значком. Для курсоров создается изображение размером 32 × 32, монохромное (2-цветное).

   Если **+** рядом с типом ресурса Image в диалоговом окне **Вставка ресурса** отображается знак «плюс» (), это означает, что доступны шаблоны панели инструментов. Щелкните знак «плюс», чтобы развернуть список шаблонов, выберите шаблон и нажмите кнопку **создать**.

### <a name="to-add-an-image-for-a-different-display-device"></a>Добавление изображения для другого устройства вывода

1. Перейдите в меню **изображение**  >  **создать изображение устройства**или щелкните правой кнопкой мыши в области **редактора изображений** и выберите пункт **создать изображение устройства**.

1. Выберите тип образа, который требуется добавить. Можно также выбрать **Пользовательский** , чтобы создать значок, размер которого недоступен в списке по умолчанию.

### <a name="to-copy-a-device-image"></a>Копирование образа устройства

1. Последовательно выберите пункты **изображение**  >  **Открыть изображение устройства** и выберите изображение из списка текущие изображения. Например, выберите версию значка 32 × 32, 16 цветов.

1. Копировать отображаемое в данный момент изображение значка (**CTRL** + **C**).

1. Откройте другое изображение значка в другом окне **редактора изображений** . Например, откройте 16-цветную версию значка.

1. Вставьте изображение значка (**CTRL** + **V**) из одного окна **редактора изображений** в другое. При копировании большего размера в меньший размер можно использовать маркеры значков для изменения размера изображения.

### <a name="to-delete-a-device-image"></a>Удаление образа устройства

Пока изображение значка отображается в **редакторе изображений**, последовательно выберите пункты **изображение**  >  **Удалить изображение устройства**. При удалении последнего изображения значка в ресурсе также удаляется ресурс.

> [!NOTE]
> При нажатии клавиши **Del** изображения и цвета, созданные на значке, удаляются, но значок остается, и теперь его можно переконструировать. Если нажать клавишу **Del** по ошибке, нажмите **CTRL** + **Z** , чтобы отменить действие.

### <a name="to-create-transparent-or-inverse-regions-in-device-images"></a>Создание прозрачных или инвертированных областей в образах устройств

В [редакторе изображений](../windows/image-editor-for-icons.md)исходный значок или изображение курсора имеет прозрачный атрибут. Хотя изображения значков и курсоров прямоугольные, многие не появляются, так как части изображения прозрачны, а базовое изображение на экране отображается с помощью значка или курсора. При перетаскивании значка части изображения могут отображаться в инвертированном цвете. Этот результат создается путем настройки цвета экрана и инвертированного цвета в [окне цвета](../windows/colors-window-image-editor-for-icons.md).

Экран и Инвертированные цвета, применяемые к значкам и курсорам, изменяют производное изображение или присваивают им регионы. Цвета указывают на части изображения, имеющие эти атрибуты. Цвета, представляющие атрибуты цвета экрана и инвертированного цвета, можно изменить при редактировании. Эти изменения не влияют на внешний вид значка или курсора в приложении.

> [!NOTE]
> Отображаемые диалоговые окна и команды меню могут отличаться от описанных в **справке** в зависимости от текущих параметров или выпуска. Чтобы изменить параметры, **последовательно выберите пункты меню**  >  **Импорт и экспорт параметров**. Дополнительные сведения см. в разделе [Персонализация интегрированной среды разработки Visual Studio](/visualstudio/ide/personalizing-the-visual-studio-ide).

#### <a name="to-create-transparent-or-inverse-regions"></a>Создание прозрачных или инвертированных областей

1. В окне **цвета** выберите **Цвет экрана** Selector или **Инверсный цвет**.

1. Примените экран или инвертированный цвет к изображению с помощью инструмента рисования. Дополнительные сведения о средствах рисования см. в разделе [Использование инструмента рисования](using-a-drawing-tool-image-editor-for-icons.md).

#### <a name="to-change-the-screen-or-inverse-color"></a>Изменение экрана или инвертированного цвета

1. Выберите селектор **цвета экрана** или селектор **инвертированного цвета** .

1. Выберите цвет из палитры **цвета** в окне **цвета** .

   Дополнительный цвет автоматически назначается для другого селектора.

   > [!TIP]
   > Если дважды щелкнуть селектор " **Цвет экрана** " или " **инвертированный цвет** ", откроется [диалоговое окно Селектор пользовательских цветов](../windows/custom-color-selector-dialog-box-image-editor-for-icons.md) .

### <a name="use-the-256-color-palette"></a>Использовать палитру 256-Color

При использовании **редактора изображений**значки и курсоры могут иметь большой размер (64 × 64) с палитрой типа «256-Color». После создания ресурса выбирается стиль изображения устройства.

#### <a name="to-create-a-256-color-icon-or-cursor"></a>Создание значка или курсора 256-цвета

1. В [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources)щелкните правой кнопкой мыши *RC* -файл и выберите пункт **Вставить ресурс**. Если у вас уже есть ресурс изображения в *RC* -файле, например курсор, щелкните правой кнопкой мыши папку **курсор** и выберите команду **Вставить курсор**.

1. В [диалоговом окне Вставка ресурса](../windows/add-resource-dialog-box.md)выберите **значок** или **курсор** и нажмите кнопку **создать**.

1. Последовательно выберите пункты меню **изображение**  >  **создать изображение устройства** и выбор стиля изображения 256-Color.

#### <a name="to-choose-a-color-from-the-256-color-palette-for-large-icons"></a>Выбор цвета из 256-цветовой палитры для крупных значков

Чтобы нарисовать выделенный фрагмент из 256-цветовой палитры, необходимо выбрать цвета в палитре **цвета** в [окне цвета](../windows/colors-window-image-editor-for-icons.md).

1. Выберите крупный значок или курсор или создайте новый крупный значок или курсор.

1. Выберите цвет из цвета 256, отображаемых в палитре **цвета** в окне **цвета** .

   Выбранный цвет станет текущим цветом в палитре **цвета** в окне **цвета** .

   > [!NOTE]
   > Начальная палитра, используемая для изображений 256-цветов, соответствует палитре, возвращаемой `CreateHalftonePalette` API-интерфейсом Windows. Все значки, предназначенные для оболочки Windows, должны использовать эту палитру для предотвращения мерцания во время реализации палитры.

### <a name="to-set-a-cursors-hot-spot"></a>Установка активной точки курсора

Активная точка курсора представляет собой точку, на которую Windows ссылается при отслеживании положения курсора. По умолчанию гиперобъект задается в левом верхнем углу курсора с координатами `0,0` . В свойстве **Hotspot** в [окно свойств](/visualstudio/ide/reference/properties-window) отображаются координаты активной точки.

1. На [панели инструментов редактора изображений](../windows/toolbar-image-editor-for-icons.md)выберите инструмент **Задать активную область** .

1. Выберите пиксель, который требуется назначить в качестве горячей точки курсора.

   В свойстве **Hotspot** в окне **свойства** отображаются новые координаты.

### <a name="to-create-and-save-a-bitmap-as-a-gif-or-jpeg"></a>Создание и сохранение точечного рисунка в формате GIF или JPEG

При создании точечного рисунка изображение создается в формате точечного рисунка (BMP). Однако можно сохранить изображение в формате GIF или JPEG или в других графических форматах.

> [!NOTE]
> Этот процесс не применяется к значкам и курсорам.

1. Перейдите в меню **файл**  >  **Открыть**, а затем выберите **файл**.

1. В **диалоговом окне новый файл**выберите папку **Visual C++** , выберите **файл точечного рисунка (. bmp)** в поле **шаблоны** и нажмите кнопку **Открыть**.

   Точечный рисунок откроется в **редакторе изображений**.

1. Внесите необходимые изменения в новый точечный рисунок.

1. Если точечный рисунок все еще открыт в **редакторе изображений**, выберите **файл**меню  >  **Сохранить *имя_файла*. bmp как**.

1. В диалоговом окне **сохранить файл как** введите имя, которое нужно присвоить файлу, и расширение, которое обозначает необходимый формат файла в поле **имя файла** . Например, *myfile.gif*.

   > [!NOTE]
   > Необходимо создать или открыть точечный рисунок вне проекта, чтобы сохранить его как файл другого формата. Если создать или открыть его в проекте, команда **Сохранить как** будет недоступна. Дополнительные сведения см. [в разделе Просмотр ресурсов в файле скрипта ресурсов за пределами проекта (автономный)](../windows/how-to-open-a-resource-script-file-outside-of-a-project-standalone.md).

1. Щелкните **Сохранить**.

### <a name="to-convert-an-image-from-one-format-to-another"></a>Преобразование изображения из одного формата в другой

Вы можете открывать изображения в формате GIF или JPEG в **редакторе изображений** и сохранять их в виде растровых изображений. Кроме того, можно открыть файл точечного рисунка и сохранить его в формате GIF или JPEG. Изображения, с которыми вы работаете, не должны быть частью проекта для редактирования в среде разработки (см. раздел [Редактирование автономных образов](../windows/editing-an-image-outside-of-a-project-image-editor-for-icons.md)).

1. Откройте изображение в **редакторе изображений**.

1. Последовательно выберите **файл**меню  >  **Сохранить *имя файла* как**.

1. В диалоговом окне **сохранить файл как** в поле **имя файла** введите имя файла и расширение, которое обозначает нужный формат.

1. Щелкните **Сохранить**.

### <a name="to-add-a-new-image-resource-to-an-unmanaged-c-project"></a>Добавление нового ресурса изображения в неуправляемый проект C++

1. В [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources)щелкните правой кнопкой мыши *RC* -файл и выберите пункт **Вставить ресурс**. Если у вас уже есть ресурс изображения в *RC* -файле, например курсор, можно просто щелкнуть правой кнопкой мыши папку **курсора** и выбрать пункт **Вставить курсор**.

1. В [диалоговом окне Вставка ресурса](../windows/add-resource-dialog-box.md)выберите тип ресурса изображения, который вы хотите создать (например,**точечный рисунок**), а затем нажмите кнопку **создать**.

   Если **+** рядом с типом ресурса Image в диалоговом окне **Вставка ресурса** отображается знак «плюс» (), это означает, что доступны шаблоны панели инструментов. Щелкните знак «плюс», чтобы развернуть список шаблонов, выберите шаблон и нажмите кнопку **создать**.

### <a name="to-add-a-new-image-resource-to-a-project-in-a-net-programming-language"></a>Добавление нового ресурса изображения в проект на языке программирования .NET

1. В **Обозреватель решений**щелкните правой кнопкой мыши папку проекта (например, *WindowsApplication1*).

1. В контекстном меню выберите **Добавить**, а затем выберите **Добавить новый элемент**.

1. В области **категории** разверните папку **локальные элементы проекта** , а затем выберите **ресурсы**.

1. В области **шаблоны** выберите тип ресурса, который вы хотите добавить в проект.

   Ресурс будет добавлен в проект в **Обозреватель решений** , а ресурс откроется в [редакторе изображений](../windows/image-editor-for-icons.md). Теперь для изменения образа можно использовать все средства, доступные в **редакторе изображений** . Дополнительные сведения о добавлении изображений в управляемый проект см. в разделе [Загрузка изображения во время разработки](/dotnet/framework/winforms/controls/how-to-load-a-picture-using-the-designer-windows-forms).

## <a name="requirements"></a>Требования

Нет

## <a name="see-also"></a>См. также раздел

[Редактор изображений для значков](../windows/image-editor-for-icons.md)<br/>
[Как изменить изображение](../windows/selecting-an-area-of-an-image-image-editor-for-icons.md)<br/>
[Руководство. Использование инструмента рисования](../windows/using-a-drawing-tool-image-editor-for-icons.md)<br/>
[Как работать с цветом](../windows/working-with-color-image-editor-for-icons.md)<br/>
[Сочетания клавиш](../windows/accelerator-keys-image-editor-for-icons.md)<br/>
<!--
[Converting Bitmaps to Toolbars](../windows/converting-bitmaps-to-toolbars.md)<br/>
[Creating New Toolbars](../windows/creating-new-toolbars.md)<br/>
[Icons](/windows/win32/menurc/icons)<br/>
[Cursors](/windows/win32/menurc/cursors)<br/>-->
