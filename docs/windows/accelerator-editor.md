---
title: Редактор сочетаний клавиш (C++)
ms.date: 02/14/2019
f1_keywords:
- vc.editors.accelerator.F1
- vc.editors.accelerator
helpviewer_keywords:
- accelerator tables [C++], editing
- tables [C++], accelerator key
- accelerator keys [C++]
- resource editors [C++], Accelerator editor
- keyboard shortcuts [C++], Accelerator editor
- accelerator properties
- properties [C++], accelerator properties
- Type property
- Key property
- Modifier property
- VIRTKEY
- Key property
- ID property
- accelerator tables [C++], editing
- keyboard shortcuts [C++], editing in an accelerator table
- searching, in accelarator tables
- accelerator tables [C++], finding entries
- accelerator tables [C++], adding entries
- New Accelerator command
- accelerator tables [C++], deleting entries
- keyboard shortcuts [C++], deleting entry from accelerator table
- accelerator tables [C++], copying entries
- rc files [C++], moving an accelerator table entry
- .rc files [C++], moving accelerator table entries
- accelerator tables [C++], moving entries
- keyboard shortcuts [C++], property changing
- accelerator tables [C++], changing properties
ms.assetid: 013c30b6-5d61-4f1c-acef-8bd15bed7060
ms.openlocfilehash: c98ff1fd44b73b3f204e9b952836c387f7f21146
ms.sourcegitcommit: d9c94dcabd94537e304be0261b3263c2071b437b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2020
ms.locfileid: "91353094"
---
# <a name="accelerator-editor-c"></a>Редактор сочетаний клавиш (C++)

Таблица сочетаний клавиш — это ресурс Windows на C++, который содержит список сочетаний клавиш, называемых сочетаниями клавиш, и идентификаторы команд, связанные с ними. В программе можно использовать несколько таблиц сочетаний клавиш.

Обычно сочетания клавиш используются для ускорения доступа к командам программы, также доступным в меню или на панели инструментов. Но таблицу сочетаний клавиш можно также использовать, чтобы определить сочетания клавиш для команд, с которыми не связаны никакие объекты пользовательского интерфейса.

> [!TIP]
> При использовании **редактора сочетаний клавиш**щелкните правой кнопкой мыши, чтобы открыть контекстное меню часто выполняемых команд. Доступные команды зависят от объекта, на который наведен указатель мыши.

Для подключения команд сочетаний клавиш к коду можно использовать [представление классов](/visualstudio/ide/viewing-the-structure-of-code) . Список предварительно определенных сочетаний клавиш см. в разделе сочетания [клавиш](predefined-accelerator-keys.md).

> [!NOTE]
> Windows не позволяет создавать пустые таблицы ускорителей. Если вы создадите таблицу сочетаний клавиш, не содержащую записей, она будет автоматически удалена при сохранении.

## <a name="accelerator-properties"></a>Свойства ускорителя

Свойства ускорителя можно задать в [окно свойств](/visualstudio/ide/reference/properties-window) в любое время. Можно также использовать **Редактор сочетаний клавиш** для изменения свойств ускорителя в таблице сочетаний клавиш. Изменения, внесенные с помощью окна **свойств** или **редактора сочетаний клавиш** , имеют одинаковый результат. изменения немедленно отражаются в таблице сочетаний клавиш.

Свойство **ID** ссылается на каждую запись таблицы сочетаний клавиш в коде программы. Эта запись является значением команды, которое программа получает, когда пользователь нажимает клавишу сочетания клавиш или сочетание клавиш. Чтобы сделать сочетание клавиш таким же, как пункт меню, сделайте его **идентификатором** таким же, пока **идентификатор** таблицы сочетаний клавиш совпадает с **идентификатором** для ресурса меню.

Каждый **идентификатор** ускорителя имеет три свойства: **Модификатор**, **ключ**и **тип**

Свойство **Модификатор** задает сочетания клавиш для управления ускорителем.

> [!NOTE]
> В окне " **Свойства** " свойство **модификатора** отображается как три отдельных **логических** свойства, все из которых можно контролировать независимо: **ALT**, **CTRL**и **SHIFT**.

Ниже приведены допустимые записи для свойства **модификатора** в таблице сочетаний клавиш:

   |Значение|Описание|
   |-----------|-----------------|
   |**None**|Пользователь нажимает только значение **ключа** .<br/><br/>Это значение наиболее эффективно используется со значениями ASCII/ANSI 001 до 026, интерпретируемыми как ^ A через ^ Z (**CTRL + A** до **CTRL + Z**).|
   |**Мещающий**|Пользователь должен нажать клавишу **ALT** перед значением **ключа** .|
   |**Комбинаци**|Пользователь должен нажать клавишу **CTRL** перед значением **ключа** , недопустимо с типом ASCII.|
   |**Сдвиг**|Пользователь должен нажать клавишу **SHIFT** перед значением **ключа** .|
   |**Ctrl + Alt**|Пользователь должен нажать клавиши **CTRL** и **ALT** перед значением **ключа** , недопустимым для типа ASCII.|
   |**Ctrl + Shift**|Пользователь должен нажать клавиши **CTRL** и **SHIFT** перед значением **ключа** , недопустимым для типа ASCII.|
   |**Alt + Shift**|Пользователь должен нажать клавиши **ALT** и **SHIFT** перед значением **ключа** , недопустимым для типа ASCII.|
   |**Ctrl + Alt + Shift**|Пользователь должен нажать клавиши **CTRL**, **ALT**и **SHIFT** перед значением **ключа** , недопустимым для типа ASCII.|

**Ключевое** свойство задает фактический ключ для использования в качестве ускорителя.

Ниже приведены допустимые записи для **ключевого** свойства в таблице сочетаний клавиш:

   |Значение|Описание|
   |-----------|-----------------|
   |Целое число от 0 до 255 в десятичном формате.|Значение определяет, обрабатывается ли значение как ASCII или ANSI следующим образом:<br/><br/>   — Числа с одной цифрой всегда интерпретируется как соответствующий ключ, а не как значения ASCII или ANSI.<br/>   — Значения от 1 до 26, если перед ними присвоены нули, они обрабатываются как ^ A через ^ Z, что представляет значение ASCII букв алфавита при нажатии клавиши **CTRL** .<br/>   -Значения из 27-32 всегда обрабатываются как десятичные значения из трех цифр, 027 через 032.<br/>   — Значения от 033 до 255, начинающиеся с 0 или не интерпретируемые как значения ANSI.|
   |Одиночный символ клавиатуры.|Прописные буквы A – Z или цифры 0-9 могут быть либо значениями ASCII, либо виртуальными ключами. Любой другой символ — только ASCII.|
   |Одиночная клавиатура в диапазоне A – Z (только в верхнем регистре), перед которой должен стоять символ вставки (^), например ^ C.|Этот параметр вводит значение ASCII клавиши при нажатии клавиши **CTRL** .|
   |Любой допустимый идентификатор виртуального ключа.|Раскрывающееся поле **ключа** в таблице сочетаний клавиш содержит список стандартных идентификаторов виртуальных ключей.|

> [!NOTE]
> При вводе значения ASCII параметры свойства **модификатора** ограничены. Единственным ключом управления, доступным для использования, является клавиша **ALT** .

> [!TIP]
> Ярлык для определения сочетания клавиш — щелкните правой кнопкой мыши запись или несколько записей в таблице сочетаний клавиш, а затем выберите пункт **Следующая введенная клавиша** и нажмите любую клавишу или сочетание клавиш на клавиатуре.
>
> **Следующая типизированная** команда также доступна в меню **Правка** .

Свойство **Type** определяет, интерпретируется ли сочетание клавиш, связанное с **идентификатором** ускорителя, как значение ключа ASCII/ANSI или сочетание виртуального ключа (VIRTKEY).

- Если свойство **Type** имеет значение **ASCII**, свойство **модификатора** может иметь значение `None` либо или `Alt` , либо может иметь ускоритель, использующий клавишу **CTRL** , как указано в предыдущем разделе с `^` .

- Если свойство **Type** имеет значение **VIRTKEY**, то допустимо любое сочетание **модификатора** и значений **ключа** .

> [!NOTE]
> Если необходимо ввести значение в таблицу сочетаний клавиш и считать значение ASCII/ANSI, выберите **тип** для записи в таблице и выберите **ASCII** из раскрывающегося списка. Однако при использовании команды **Следующая типизированная клавиша** в меню **Правка** для указания **ключа**необходимо изменить свойство **Type** с **VIRTKEY** на **ASCII** *перед* вводом кода **ключа** .

## <a name="accelerator-tables"></a>Таблицы сочетаний клавиш

В проекте C++ можно изменить таблицу сочетаний клавиш непосредственно с помощью редактирования на месте в **редакторе сочетаний клавиш**.

Приведенные ниже процедуры относятся к использованию стандартных страниц свойств, однако как редактирование на месте, так и метод страницы свойств имеют одинаковый результат. Изменения, внесенные с помощью страниц свойств или с помощью редактирования на месте, немедленно отражаются в таблице сочетаний клавиш.

### <a name="to-edit-in-an-accelerator-table"></a>Редактирование в таблице сочетаний клавиш

1. Откройте таблицу сочетаний клавиш, дважды щелкнув ее значок в [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources).

1. Выберите запись в таблице и щелкните, чтобы активировать редактирование на месте.

1. Выберите из раскрывающегося списка или введите на месте, чтобы внести изменения:

   - В поле **идентификатор**выберите в списке или введите текст для изменения.

   - Для **модификатора**выберите из списка.

   - Для **параметра ключ**выберите из списка или введите текст для изменения.

   - В поле **тип**выберите **ASCII** или **VIRTKEY** из списка.

### <a name="to-find-an-entry-in-an-open-accelerator-table"></a>Поиск записи в открытой таблице сочетаний клавиш

1. Откройте таблицу сочетаний клавиш, дважды щелкнув ее значок в [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources).

1. Выберите заголовок столбца, чтобы отсортировать содержимое столбца по алфавиту. Например, выберите **идентификатор** , чтобы отобразить все идентификаторы в таблице сочетаний клавиш в алфавитном порядке.

   Затем просмотрите список и найдите запись.

### <a name="to-add-an-entry-to-an-accelerator-table"></a>Добавление записи в таблицу сочетаний клавиш

1. Откройте таблицу сочетаний клавиш, дважды щелкнув ее значок в [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources).

1. Щелкните правой кнопкой мыши в таблице сочетаний клавиш и выберите пункт **Создать ускоритель**или выберите пустую строку в нижней части таблицы.

1. Выберите **идентификатор** из раскрывающегося списка в поле **идентификатор** или введите новый *идентификатор* в поле **идентификатор** .

1. Введите *ключ* , который вы хотите использовать в качестве ускорителя, или щелкните его правой кнопкой мыши и выберите команду " **Следующая клавиша** ", чтобы задать сочетание клавиш, или выберите команду " **изменить**  >  **следующий ключ**".

1. При необходимости измените **Модификатор** и **тип**, а затем нажмите клавишу **Ввод**.

> [!NOTE]
> Убедитесь в том, что все определяемые сочетания клавиш уникальны. Можно назначить несколько сочетаний клавиш, назначенных одному и тому же идентификатору без некорректного воздействия, например, **сочетания клавиш CTRL** + **P** и **F8** могут быть назначены ID_PRINTу. Однако наличие сочетания клавиш, назначенного более чем одному идентификатору, не будет работать правильно, например, **сочетание клавиш CTRL** + **Z** для ID_SPELL_CHECK и ID_THESAURUS.

### <a name="to-delete-an-entry-from-an-accelerator-table"></a>Удаление записи из таблицы сочетаний клавиш

1. Откройте таблицу сочетаний клавиш, дважды щелкнув ее значок в [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources).

1. Выберите запись, которую нужно удалить, или удерживайте нажатой клавишу **CTRL** или **SHIFT** при выборе нескольких записей.

1. Щелкните правой кнопкой мыши и выберите команду **Удалить**или перейдите в меню **Правка**  >  **Удалить**.

> [!TIP]
> Для удаления можно также нажать клавишу **Delete** .

### <a name="to-move-or-copy-an-accelerator-table-entry-to-another-resource-script-file"></a>Перемещение или копирование записи таблицы сочетаний клавиш в другой файл описания ресурсов

1. Откройте таблицы сочетаний клавиш в обоих файлах скрипта ресурсов и выберите запись, которую нужно переместить.

1. В меню **Правка** выберите команду **Копировать** или **Вырезать**.

1. Выберите запись в файле сценария целевого ресурса и в меню **Правка** выберите **Вставить**.

> [!NOTE]
> Для копирования и вставки можно также использовать сочетания клавиш.

### <a name="to-change-the-properties-of-multiple-accelerator-keys"></a>Изменение свойств нескольких сочетаний клавиш

1. Откройте таблицу сочетаний клавиш, дважды щелкнув ее значок в [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources).

1. Выберите сочетания клавиш, которые необходимо изменить, удерживая нажатой клавишу **CTRL** при выборе каждого из них.

1. Перейдите к [окно свойств](/visualstudio/ide/reference/properties-window) и введите значения, которые должны быть общими для всех выбранных ускорителей.

> [!NOTE]
> Каждое значение модификатора отображается как логическое свойство в окне " **Свойства** ". Если изменить значение модификатора в окне " **Свойства** ", то в таблице сочетаний клавиш новый модификатор будет рассматриваться как дополнение к любым модификаторам, которые ранее были в нем. Поэтому, если заданы какие-либо значения модификаторов, необходимо задать все они, чтобы все ускорители совместно используют одни и те же параметры **модификатора** .

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также раздел

[Редакторы ресурсов](resource-editors.md)<br/>
[Сочетания клавиш](predefined-accelerator-keys.md)<br/>
