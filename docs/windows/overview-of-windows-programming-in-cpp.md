---
title: Общие сведения о программировании на C++ в Windows
ms.date: 09/17/2019
ms.assetid: efc691d7-21f3-47ae-ae56-cab999ccf59d
ms.openlocfilehash: 8ab7fbf7c955b1c828ef583aa639eda7409cf167
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81359946"
---
# <a name="overview-of-windows-programming-in-c"></a>Общие сведения о программировании на C++ в Windows

Существует несколько широких категорий приложений Windows, которые можно создать с помощью СЗ. Каждый из них имеет свою собственную модель программирования и набор библиотек для Windows, но стандартная библиотека СЗ и сторонние библиотеки СЗЗ могут быть использованы в любом из них.

В этом разделе обсуждается, как использовать Visual Studio и библиотеки обертки MFC/ATL для создания программ Windows. Для документации на самой [Windows documentation](/windows/index)платформе Windows см.

## <a name="command-line-console-applications"></a>Приложения командной строки (консоль)

Консольные приложения СЗ запускаются с командной строки в окне консоли и могут отображать только вывод текста. Для получения дополнительной информации [см.](../get-started/tutorial-console-cpp.md)

## <a name="native-desktop-client-applications"></a>Родные настольные клиентские приложения

*Нативное приложение для настольных клиентов* — это оконное приложение C или C, которое использует исходные типовых [AA- AA ИПИЛИ Windows C или компонентные объекты (COM) для](/windows/win32/apiindex/windows-api-list) доступа к операционной системе. Эти AA сами написаны в основном на C. Существует несколько способов создания нативного настольного приложения: вы можете программировать с помощью AA Win32 напрямую, используя цикл сообщений C-стиля, который обрабатывает события операционной системы. Или вы можете запрограммировать с помощью *Microsoft Foundation Classes* (MFC), слегка объектно-ориентированной библиотеки КЗ, которая обертывает Win32. Ни один из подходов не считается «современным» по сравнению с универсальной платформой Windows (UWP), но оба они по-прежнему полностью поддерживаются и имеют миллионы строк кода, работающих в современном мире. Приложение Win32, которое работает в окне, требует, чтобы разработчик работал с сообщениями Windows внутри функции процедуры Windows. Несмотря на название, приложение Win32 может быть составлено как 32-разрядное (x86) или 64-разрядное (x64) двоичное. В Visual Studio IDE термины x86 и Win32 являются синонимами.

Чтобы начать работу с традиционным программированием Windows C, [см.](/windows/win32/LearnWin32/learn-to-program-for-windows) После получения некоторого понимания Win32, будет легче узнать о [MFC настольных приложений.](../mfc/mfc-desktop-applications.md) Например, в традиционном настольном приложении СЗ, использующем сложную графику, [см.](https://msdn.microsoft.com/library/windows/desktop/ff708696.aspx)

### <a name="c-or-net"></a>СЗ или .NET?

В целом, программирование .NET в СЗ менее сложно, менее подвержено ошибкам и имеет более современный объектно-ориентированный API, чем Win32 или MFC. В большинстве случаев его производительность более чем достаточна. .NET имеет Windows Презентация Фонда (WPF) для богатой графикой, и вы можете потреблять как Win32 и современный Windows Runtime API. Как правило, мы рекомендуем использовать СЗ для настольных приложений, когда требуется:

- точный контроль над использованием памяти
- максимальной экономии в энергопотреблении
- использование графического процессора для общих вычислений
- доступ к DirectX
- интенсивное использование стандартных библиотек СЗ

Кроме того, можно совместить мощность и эффективность СЗ с программированием .NET. Вы можете создать пользовательский интерфейс в C и использовать C/CLI, чтобы приложение мог потреблять родные библиотеки СЗЗ. Для получения дополнительной информации [см.](../dotnet/dotnet-programming-with-cpp-cli-visual-cpp.md)

## <a name="com-components"></a>Компоненты COM

[Модель компонентного объекта (COM)](/windows/win32/com/the-component-object-model) — это спецификация, которая позволяет программам, написанным на разных языках, общаться друг с другом. Многие компоненты Windows реализуются как объекты COM и следуют стандартным правилам COM для создания объектов, обнаружения интерфейса и уничтожения объектов.  Использование объектов COM из настольных приложений C's относительно просто, но написание собственного объекта COM является более продвинутым. [Библиотека Active Template Library (ATL)](../atl/atl-com-desktop-components.md) предоставляет макросы и функции помощника, которые упрощают разработку COM. Для получения дополнительной [ATL COM desktop components](../atl/atl-com-desktop-components.md)информации см.

## <a name="universal-windows-platform-apps"></a>Приложения универсальной платформы Windows

Универсальная платформа Windows (UWP) является современным API Windows. Приложения UWP работают на любом устройстве Windows 10, используют XAML для пользовательского интерфейса и полностью поддерживаются с поддержкой касания. Для получения дополнительной информации о UWP, смотрите [Что такое универсальной платформы Windows (UWP) приложение?](/windows/uwp/get-started/whats-a-uwp) [Guide to Windows Universal Apps](/windows/uwp/get-started/universal-application-platform-guide)

Первоначальная поддержка UWP состояла из (1) C/CX, диалекта СЗ с расширениями синтаксиса, или (2) Библиотеки runtime Windows (WRL), которая основана на стандартных СЗ и КОМ. По-прежнему поддерживаются как СЗ/КХ, так и WRL. Для новых проектов мы рекомендуем [СЗ/Винрт,](/windows/uwp/cpp-and-winrt-apis/intro-to-using-cpp-with-winrt)который полностью основан на стандартном СЗ и обеспечивает более высокую производительность.

## <a name="desktop-bridge"></a>Мост для классических приложений

В Windows 10 вы можете упаковать существующее настольное приложение или объект COM в приложение UWP и добавить функции UWP, такие как сенсорный, или вызвать API из современного набора API Windows. Вы также можете добавить приложение UWP в настольное решение в Visual Studio и упаковать их в единый пакет и использовать AA- иАТ СWindows для связи между ними.

Visual Studio 2017 версия 15.4 и позже позволяет создать Windows Application Package Project, чтобы значительно упростить работу по упаковке существующего настольного приложения. Некоторые ограничения распространяются на вызовы реестра или AA, которые может использовать ваше настольное приложение. Однако во многих случаях можно создать альтернативные пути кода для достижения аналогичной функциональности во время работы в пакете приложений. Дополнительные сведения см. в статье [Мост для классических приложений](/windows/uwp/porting/desktop-to-uwp-root).

## <a name="games"></a>Игры

DirectX игры могут работать на ПК или Xbox. Для получения дополнительной информации, см [DirectX графика и игры](/windows/win32/directx).

## <a name="sql-server-database-clients"></a>Клиенты базы данных сервера S'L

Для доступа к базам данных s'L Server из родного кода используйте ODBC или OLE DB. Дополнительные сведения см. в разделе [SQL Server Native Client](/sql/relational-databases/native-client/odbc/sql-server-native-client-odbc).

## <a name="windows-device-drivers"></a>Драйверы устройств Windows

Драйверы являются низкоуровневыми компонентами, которые делают данные с аппаратных устройств доступными для приложений и других компонентов операционной системы. Для получения дополнительной [Windows Driver Kit (WDK)](/windows-hardware/drivers/index)информации см.

## <a name="windows-services"></a>Службы Windows

*Служба* Windows — это программа, которая может работать в фоновом режиме практически без взаимодействия с пользователем. Эти программы называются *daemons* на системах UNIX. Дополнительные сведения см. в разделе [Службы](/windows/win32/services/services).

## <a name="sdks-libraries-and-header-files"></a>SDK, библиотеки и файлы заголовка

Visual Studio включает в себя библиотеку C Runtime (CRT), Стандартную библиотеку СЗ и другие библиотеки, специфичные для корпорации Майкрософт. Большинство папок, содержащих файлы заголовка для этих библиотек, находятся в каталоге установки Visual Studio под папкой «VC». Файлы заголовка Windows и CRT содержатся в папке установки Windows SDK.

[Менеджер пакетов Vcpkg](../build/vcpkg.md) позволяет удобно устанавливать сотни сторонних библиотек с открытым исходным кодом для Windows.

Библиотеки Майкрософт включают в себя:

- Microsoft Foundation Classes (MFC): объектно-ориентированная платформа для создания традиционных программ Windows (в частности, корпоративных приложений), со сложным пользовательским интерфейсом, включающим кнопки, поля списков, древовидные структуры и другие элементы управления. Дополнительные сведения см. в разделе [MFC Desktop Applications](../mfc/mfc-desktop-applications.md).

- Active Template Library (ATL): многофункциональная вспомогательная библиотека для создания компонентов COM. Для получения дополнительной информации см. [ATL COM Desktop Components](../atl/atl-com-desktop-components.md).

- C++ AMP (C++ Accelerated Massive Parallelism): библиотека, предоставляющая возможность выполнять высокопроизводительные вычислительные задачи общего характера в графическом процессоре. Для получения дополнительной информации см. [C++ AMP (C++ Accelerated Massive Parallelism)](../parallel/amp/cpp-amp-cpp-accelerated-massive-parallelism.md).

- Среда выполнения с параллелизмом: библиотека, упрощающая параллельное и асинхронное программирование для мультиядерных и многоядерных устройств. Для получения дополнительной информации см. [Concurrency Runtime](../parallel/concrt/concurrency-runtime.md).

Для многих сценариев программирования Windows также требуется пакет Windows SDK, в который входят файлы заголовков, обеспечивающие доступ к компонентам операционной системы Windows. По умолчанию Visual Studio устанавливает Windows SDK в качестве компонента рабочей нагрузки на рабочий стол, которая позволяет создавать универсальные приложения Windows. Для разработки приложений UWP вам нужна версия Windows 10 SDK с Windows. Для получения информации, см [Windows 10 SDK](https://dev.windows.com/downloads/windows-10-sdk). (Для получения дополнительной информации о SDK Windows для более ранних версий Windows, [см. архив Windows SDK](https://developer.microsoft.com/windows/downloads/sdk-archive)).

**Наборы для программ (x86)** — это место по умолчанию для всех установленных версий SDK Windows.

Другие платформы, например Xbox и Azure, обладают собственными пакетами SDK, которые вам, возможно, потребуется установить. Дополнительные сведения см. в Центре разработчика DirectX и в Центре разработчика Azure.

## <a name="development-tools"></a>средства разработки:

Visual Studio включает многофункциональный отладчик для машинного кода, средства статического анализа, графические средства отладки, полнофункциональный редактор кода, поддержку модульных тестов, а также множество других средств и служебных программ. Для получения дополнительной информации, [см. Получить начал разработку с Visual Studio](/visualstudio/ide/get-started-developing-with-visual-studio), и Обзор развития [СЗ в Visual Studio](../overview/overview-of-cpp-development.md).

## <a name="in-this-section"></a>В этом разделе

|Заголовок|Описание|
|-----------|-----------------|
|[Прохождение: Создание стандартной программы СЗ](walkthrough-creating-a-standard-cpp-program-cpp.md)| Создайте приложение для консоли Windows.|
|[Пошаговое руководство. Создание классических приложений Windows (C++)](walkthrough-creating-windows-desktop-applications-cpp.md)|Создайте родное настольное приложение Windows.|
|[Мастер классических приложений Windows](windows-desktop-wizard.md)|Используйте мастера для создания новых проектов Windows.|
|[Библиотека шаблонных классов (ATL)](../atl/atl-com-desktop-components.md)|Используйте библиотеку ATL для создания компонентов COM в СЗ.|
|[Microsoft Foundation Classes (MFC)](../mfc/mfc-desktop-applications.md)|Используйте MFC для создания больших или малых windows-приложений с диалогами и элементами управления|
|[Общие классы ATL и MFC](../atl-mfc-shared/atl-mfc-shared-classes.md)|Используйте такие классы, как CString, которые являются общими в ATL и MFC.|
|[Доступ к данным](../data/data-access-in-cpp.md)| OLE DB и ODBC|
|[Текст и струны](../text/text-and-strings-in-visual-cpp.md)|Различные типы строк на Windows.|
|[Ресурсы для создания игры с использованием DirectX](resources-for-creating-a-game-using-directx.md)
|[Практическое руководство. Использование пакета SDK для Windows 10 в классическом приложении Windows](how-to-use-the-windows-10-sdk-in-a-windows-desktop-application.md)|Пакет Windows SDK|
|[Работа с файлами ресурсов](working-with-resource-files.md)|Как добавлять изображения, значки, строки и другие ресурсы в настольное приложение.|
|[Ресурсы для создания игры с использованием DirectX (C++)](resources-for-creating-a-game-using-directx.md)|Ссылки на контент для создания игр в СЗ.|
|[Практическое руководство. Использование пакета SDK для Windows 10 в классическом приложении Windows](how-to-use-the-windows-10-sdk-in-a-windows-desktop-application.md)|Содержит инструкции по настройке проекта для построения с помощью пакета SDK для Windows 10.|
|[Развертывание классических приложений](deploying-native-desktop-applications-visual-cpp.md)|Развертывание нативных приложений в Windows.|

## <a name="related-articles"></a>Связанные статьи

|Заголовок|Описание|
|-----------|-----------------|
|[СЗ в визуальной студии](../overview/visual-cpp-in-visual-studio.md)|Родительская тема для содержимого для разработчиков Visual C'.|
[.NET Развитие с КЗ /CLI](../dotnet/dotnet-programming-with-cpp-cli-visual-cpp.md)|Создавайте обертки для родных библиотек СЗ, которые позволяют им общаться с приложениями и компонентами .NET.|
|[Расширения компонентов для .NET и UWP](../extensions/component-extensions-for-runtime-platforms.md)|Ссылка на элементы синтаксиса, совместно используемые СЗ/КХи и СЗ/CLI.|
|[Универсальные приложения Windows (C++)](../cppcx/universal-windows-apps-cpp.md)|Напишите приложения UWP с помощью библиотеки шаблонов S-/CX или Windows Runtime (WRL).|
|[Атрибуты C++ для модели COM и .NET](attributes/cpp-attributes-com-net.md)|Нестандартные атрибуты для программирования только для Windows с помощью .NET или COM.|
