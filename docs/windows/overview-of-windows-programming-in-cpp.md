---
title: Общие сведения о программировании на C++ в Windows
ms.date: 09/17/2019
ms.assetid: efc691d7-21f3-47ae-ae56-cab999ccf59d
ms.openlocfilehash: cd95332721f51ed2d17c3205cba5f1456a1037b9
ms.sourcegitcommit: 8e285a766523e653aeeb34d412dc6f615ef7b17b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/21/2020
ms.locfileid: "80075491"
---
# <a name="overview-of-windows-programming-in-c"></a>Общие сведения о программировании на C++ в Windows

Существует несколько основных категорий приложений Windows, которые можно создать с помощью C++. Каждый из них имеет собственную модель программирования и набор библиотек для Windows, но в любом C++ из них можно использовать стандартную C++ библиотеку и сторонние библиотеки.

В этом разделе описывается, как использовать Visual Studio и библиотеки оболочек MFC/ATL для создания программ Windows. Документацию по самой платформе Windows см. в [документации по Windows](/windows/index).

## <a name="command-line-console-applications"></a>Приложения командной строки (консоль)

C++консольные приложения запускаются из командной строки в окне консоли и могут отображать только текстовые выходные данные. Дополнительные сведения см. [в C++ разделе Создание проекта консольного приложения](../get-started/tutorial-console-cpp.md).

## <a name="native-desktop-client-applications"></a>Собственные клиентские приложения для настольных систем

*Собственное клиентское приложение для настольных систем* — это приложение c или C++ с окнами, которое использует исходные [интерфейсы API для Windows c или com](/windows/win32/apiindex/windows-api-list) для доступа к операционной системе. Эти интерфейсы API написаны в основном на языке C. Существует несколько способов создания собственного классического приложения: вы можете программировать напрямую с помощью API-интерфейсов Win32, используя цикл сообщений в стиле C, который обрабатывает события операционной системы. Или можно программировать с помощью *Microsoft Foundation Classes* (MFC), объектно-ориентированной C++ библиотеки, которая является оболочкой для Win32. Ни один из подходов не считается "современным" по сравнению с универсальная платформа Windows (UWP), но оба они все еще полностью поддерживаются и миллионы строк кода работают в мире уже сегодня. Приложение Win32, выполняемое в окне, требует, чтобы разработчик работал явно с сообщениями Windows внутри функции процедуры Windows. Несмотря на имя, приложение Win32 можно скомпилировать 32 как 64-разрядный (x86) или 64-разрядный (x64) двоичный файл. В интегрированной среде разработки Visual Studio термины x86 и Win32 являются синонимами.

Чтобы приступить к работе с C++ традиционным программированием для Windows, см. статью Начало [работы с Win32 и C++ ](/windows/win32/LearnWin32/learn-to-program-for-windows). Когда вы получите представление об использовании Win32, будет проще изучить [классическое приложение MFC](../mfc/mfc-desktop-applications.md). Пример традиционного C++ классического приложения, использующего сложную графику, см. в разделе [Hilo: Разработка C++ приложений для Windows](https://msdn.microsoft.com/library/windows/desktop/ff708696.aspx).

### <a name="c-or-net"></a>C++или .NET?

Как правило, программирование .NET в C# менее сложных, менее подверженных ошибкам и имеет более современный объектно-ОРИЕНТИРОВАНный API, чем Win32 или MFC. В большинстве случаев его производительность больше, чем достаточно. .NET использует Windows Presentation Foundation (WPF) для расширенной графики, и вы можете использовать как Win32, так и современный среда выполнения Windows API. В качестве общего правила рекомендуется использовать C++ для классических приложений, когда требуется:

- точный контроль использования памяти
- важнейшим приоритетом экономичность при потреблении энергии
- Использование GPU для общих вычислений
- доступ к DirectX
- интенсивное использование стандартных C++ библиотек

Также можно сочетать мощь и эффективность работы C++ с программированием .NET. Вы можете создать пользовательский интерфейс в C# и использовать C++/CLI, чтобы позволить приложению использовать собственные C++ библиотеки. Дополнительные сведения см. в разделе [программирование .NET C++с помощью/CLI](../dotnet/dotnet-programming-with-cpp-cli-visual-cpp.md).

## <a name="com-components"></a>COM-компоненты

[Модель COM](/windows/win32/com/the-component-object-model) — это спецификация, которая позволяет программам, написанным на разных языках, взаимодействовать друг с другом. Многие компоненты Windows реализуются как COM-объекты и следуют стандартным правилам COM для создания объектов, обнаружения интерфейсов и уничтожения объектов.  Использование объектов COM из C++ классических приложений относительно просто, но написание собственного COM-объекта является более сложным. [Библиотека активных шаблонов (ATL)](../atl/atl-com-desktop-components.md) предоставляет макросы и вспомогательные функции, УПРОЩАЮЩИЕ разработку com. Дополнительные сведения см. в разделе [компоненты ATL com Desktop](../atl/atl-com-desktop-components.md).

## <a name="universal-windows-platform-apps"></a>Приложения универсальной платформы Windows

Универсальная платформа Windows (UWP) — это современный API Windows. Приложения UWP работают на любом устройстве Windows 10, используют XAML для пользовательского интерфейса и полностью поддерживают касание. Дополнительные сведения об [универсальном](/windows/uwp/get-started/universal-application-platform-guide)контроллере платформы Windows см. в статье [что такое приложение универсальная платформа Windows (UWP)](/windows/uwp/get-started/whats-a-uwp) .

Исходная C++ поддержка UWP состояла из (1) C++/CX, диалекта C++ с расширениями синтаксиса или (2) библиотеки среда выполнения Windows (WRL), основанной на стандартных C++ и com. И C++/CX, и WRL по-прежнему поддерживаются. Для новых проектов рекомендуется [ C++/WinRT](/windows/uwp/cpp-and-winrt-apis/intro-to-using-cpp-with-winrt), который полностью основан на стандарте C++ и обеспечивает более высокую производительность.

## <a name="desktop-bridge"></a>Настольный мост

В Windows 10 можно упаковать существующее классическое приложение или COM-объект в качестве приложения UWP и добавить функции UWP, такие как сенсорный ввод, или вызвать API из современного набора API Windows. Можно также добавить приложение UWP в решение для настольных систем в Visual Studio и упаковать их в один пакет и использовать интерфейсы API Windows для обмена данными между ними.

Visual Studio 2017 версии 15,4 и более поздних версий позволяет создать проект пакета приложений Windows, чтобы значительно упростить работу по упаковке существующего настольного приложения. К вызовам реестра или API-интерфейсам, которые может использовать настольное приложение, применяются некоторые ограничения. Однако во многих случаях можно создать альтернативные пути кода для обеспечения аналогичной функциональности при выполнении в пакете приложения. Дополнительные сведения см. в статье [Мост для классических приложений](/windows/uwp/porting/desktop-to-uwp-root).

## <a name="games"></a>Игры

Игры DirectX могут работать на компьютере или Xbox. Дополнительные сведения см. в статье [DirectX Graphics и игровые](/windows/win32/directx)устройства.

## <a name="sql-server-database-clients"></a>Клиенты базы данных SQL Server

Для доступа к базам данных SQL Server из машинного кода используйте ODBC или OLE DB. Дополнительные сведения см. в разделе [SQL Server Native Client](/sql/relational-databases/native-client/odbc/sql-server-native-client-odbc).

## <a name="windows-device-drivers"></a>Драйверы устройств Windows

Драйверы — это низкоуровневые компоненты, которые делают данные из аппаратных устройств доступными для приложений и других компонентов операционной системы. Дополнительные сведения см. в разделе [Windows Driver Kit (WDK)](/windows-hardware/drivers/index).

## <a name="windows-services"></a>Службы Windows

*Служба* Windows — это программа, которая может выполняться в фоновом режиме с небольшим или без участия пользователя. Эти программы называются *демоны* на системах UNIX. Дополнительные сведения см. в разделе [службы](/windows/win32/services/services).

## <a name="sdks-libraries-and-header-files"></a>Пакеты SDK, библиотеки и файлы заголовков

Visual Studio включает в себя библиотеку времени выполнения C (CRT) C++ , стандартную библиотеку и другие библиотеки, относящиеся к Microsoft. Большинство папок включения, содержащих файлы заголовков для этих библиотек, находятся в каталоге установки Visual Studio в папке \ВК Файлы заголовков Windows и CRT находятся в папке установки Windows SDK.

[Диспетчер пакетов Vcpkg](../build/vcpkg.md) позволяет легко устанавливать сотни сторонних библиотек с открытым исходным кодом для Windows.

К библиотекам Майкрософт относятся:

- Microsoft Foundation Classes (MFC): объектно-ориентированная платформа для создания традиционных программ Windows (в частности, корпоративных приложений), со сложным пользовательским интерфейсом, включающим кнопки, поля списков, древовидные структуры и другие элементы управления. Дополнительные сведения см. в разделе [MFC Desktop Applications](../mfc/mfc-desktop-applications.md).

- Active Template Library (ATL): многофункциональная вспомогательная библиотека для создания компонентов COM. Для получения дополнительной информации см. [ATL COM Desktop Components](../atl/atl-com-desktop-components.md).

- C++ AMP (C++ Accelerated Massive Parallelism): библиотека, предоставляющая возможность выполнять высокопроизводительные вычислительные задачи общего характера в графическом процессоре. Для получения дополнительной информации см. [C++ AMP (C++ Accelerated Massive Parallelism)](../parallel/amp/cpp-amp-cpp-accelerated-massive-parallelism.md).

- Среда выполнения с параллелизмом: библиотека, упрощающая параллельное и асинхронное программирование для мультиядерных и многоядерных устройств. Дополнительные сведения см.в статье [Concurrency Runtime](../parallel/concrt/concurrency-runtime.md) (Среда выполнения с параллелизмом).

Для многих сценариев программирования Windows также требуется пакет Windows SDK, в который входят файлы заголовков, обеспечивающие доступ к компонентам операционной системы Windows. По умолчанию Visual Studio устанавливает Windows SDK как компонент рабочей нагрузки C++ рабочего стола, что позволяет разрабатывать универсальные приложения для Windows. Для разработки приложений UWP требуется версия Windows 10 Windows SDK. Дополнительные сведения см. в разделе [пакет SDK для Windows 10](https://dev.windows.com/downloads/windows-10-sdk). (Дополнительные сведения о пакетах Windows SDK для более ранних версий Windows см. в [Windows SDK архиве](https://developer.microsoft.com/windows/downloads/sdk-archive)).

**Программные файлы (x86) \Windows Kit** — это расположение по умолчанию для всех версий Windows SDK, которые вы установили.

Другие платформы, например Xbox и Azure, обладают собственными пакетами SDK, которые вам, возможно, потребуется установить. Дополнительные сведения см. в Центре разработчика DirectX и в Центре разработчика Azure.

## <a name="development-tools"></a>Средства разработки

Visual Studio включает многофункциональный отладчик для машинного кода, средства статического анализа, графические средства отладки, полнофункциональный редактор кода, поддержку модульных тестов, а также множество других средств и служебных программ. Дополнительные сведения см. в [статьях Приступая к разработке с помощью Visual Studio](/visualstudio/ide/get-started-developing-with-visual-studio)и [Обзор C++ разработки в Visual Studio](../overview/overview-of-cpp-development.md).

## <a name="in-this-section"></a>В этом разделе
|Заголовок|Описание|
|-----------|-----------------|
|[Пошаговое руководство. C++ создание стандартной программы](walkthrough-creating-a-standard-cpp-program-cpp.md)| Создайте консольное приложение Windows.|
|[Пошаговое руководство. Создание классических приложений Windows (C++)](walkthrough-creating-windows-desktop-applications-cpp.md)|Создайте собственное классическое приложение для Windows.|
|[Мастер классических приложений Windows](windows-desktop-wizard.md)|Используйте мастер для создания новых проектов Windows.|
|[Библиотека шаблонных классов (ATL)](../atl/atl-com-desktop-components.md)|Используйте библиотеку ATL для создания COM-компонентов в C++.|
|[Microsoft Foundation Classes (MFC)](../mfc/mfc-desktop-applications.md)|Использование MFC для создания крупных или небольших приложений Windows с помощью диалоговых окон и элементов управления|
|[ATL и общие классы MFC](../atl-mfc-shared/atl-mfc-shared-classes.md)|Используйте такие классы, как CString, которые являются общими в ATL и MFC.|
|[Доступ к данным](../data/data-access-in-cpp.md)| OLE DB и ODBC|
|[Текст и строки](../text/text-and-strings-in-visual-cpp.md)|Различные типы строк в Windows.|
|[Ресурсы для создания игры с использованием DirectX](resources-for-creating-a-game-using-directx.md)
|[Практическое руководство. Использование пакета SDK для Windows 10 в классическом приложении Windows](how-to-use-the-windows-10-sdk-in-a-windows-desktop-application.md)|SDK для Windows|
|[Работа с файлами ресурсов](working-with-resource-files.md)|Добавление изображений, значков, таблиц строк и других ресурсов в классическое приложение.|
|[Ресурсы для создания игры с помощью DirectX (C++)](resources-for-creating-a-game-using-directx.md)|Ссылки на материалы по созданию игр в C++.|
|[Практическое руководство. Использование пакета SDK для Windows 10 в классическом приложении Windows](how-to-use-the-windows-10-sdk-in-a-windows-desktop-application.md)|Содержит инструкции по настройке проекта для построения с помощью пакета SDK для Windows 10.|
|[Развертывание классических приложений](deploying-native-desktop-applications-visual-cpp.md)|Развертывание собственных приложений в Windows.|

## <a name="related-articles"></a>Связанные статьи

|Заголовок|Описание|
|-----------|-----------------|
|[C++ в Visual Studio](../overview/visual-cpp-in-visual-studio.md)|Родительский раздел для C++ содержимого визуального разработчика.|
[Разработка .NET с использованием C++/CLI](../dotnet/dotnet-programming-with-cpp-cli-visual-cpp.md)|Создание оболочек для собственных C++ библиотек, обеспечивающих взаимодействие с приложениями и компонентами .NET.|
|[Расширения компонентов для .NET и UWP](../extensions/component-extensions-for-runtime-platforms.md)|Справочник по элементам синтаксиса, C++общим для C++/CX и/CLI.|
|[Универсальные приложения Windows (C++)](../cppcx/universal-windows-apps-cpp.md)|Создание приложений UWP с C++помощью/CX или библиотеки шаблонов среда выполнения Windows (WRL).|
|[Атрибуты C++ для модели COM и .NET](attributes/cpp-attributes-com-net.md)|Нестандартные атрибуты для программирования только Windows с использованием .NET или COM.|
