---
title: Руководство. Управление ресурсами (C++)
ms.date: 02/14/2019
f1_keywords:
- vc.resvw.resource.copying
- vs.resvw.resource.copying
- vc.resvw.resource.changing
- vb.xmldesigner.data
- vs.resvw.resource.importing
- vc.resvw.resource.importing
helpviewer_keywords:
- resources [C++], moving between files
- resources [C++], copying
- resource files [C++], copying or moving resources between
- resource files [C++], tiling
- .rc files [C++], copying resources between
- rc files [C++], copying resources between
- Language property [C++]
- .resx files [C++], editing
- resource files [C++], editing
- resx files [C++], editing
- resources [C++], exporting
- graphics [C++], exporting
- graphics [C++], importing
- resources [C++], importing
- bitmaps [C++], importing and exporting
- toolbars [C++], importing
- images [C++], importing
- toolbars [C++], exporting
- cursors [C++], importing and exporting
- images [C++], exporting
ms.assetid: 65f523e8-017f-4fc6-82d1-083c56d9131f
ms.openlocfilehash: 718de310bc4fb0cb0072065bc4e7b7adadb182aa
ms.sourcegitcommit: 3e8fa01f323bc5043a48a0c18b855d38af3648d4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/06/2020
ms.locfileid: "78890932"
---
# <a name="how-to-manage-resources-c"></a>Руководство. Управление ресурсами (C++)

## <a name="copy-and-edit-resources"></a>Копирование и изменение ресурсов

Вы можете скопировать ресурсы из одного файла в другой, не меняя их, или изменить язык или условие ресурса при его копировании.

Вы можете легко копировать ресурсы из существующего ресурса или исполняемого файла в текущий файл ресурсов. Чтобы скопировать ресурсы, вы одновременно открываете оба файла, содержащие ресурсы, и перетаскивайте элементы из одного из файлов в другой или копируете и вставляете данные между ними. Этот метод подходит для файлов скриптов ресурсов (. RC) и файлов шаблонов ресурсов (RCT) и в виде исполняемых файлов (exe).

> [!NOTE]
> Визуальный C++ элемент содержит образцы файлов ресурсов, которые можно использовать в своем приложении. Дополнительные сведения см. в разделе [картинка: общие ресурсы](https://github.com/Microsoft/VCSamples).

Нельзя перетаскивать, копировать, вырезать или вставлять файлы ресурсов в проект (**представление ресурсов**) и автономные RC-файлы, открываемые в окнах документов. Это можно сделать в предыдущих версиях продукта. Используйте только метод перетаскивания между RC-файлами, открытыми за пределами проекта.

### <a name="to-copy-resources"></a>Копирование ресурсов

1. Откройте отдельно два файла ресурсов. (См. раздел [использование файлов скриптов ресурсов](how-to-create-a-resource-script-file.md#use-resource-script-files)). Например, откройте *Source1. RC* и *source2. RC*.

1. В первом RC-файле выполните одно из следующих действий:

   - Использование метода перетаскивания

      1. Выберите ресурс, который вы хотите скопировать. Например, в списке *Source1. RC*выберите **IDD_DIALOG1**.

      1. Удерживая нажатой клавишу **CTRL** , перетащите ресурс во второй RC-файл. Например, перетащите **IDD_DIALOG1** из *Source1. RC* в *source2. RC*.

         > [!TIP]
         > Перетаскивание ресурса без нажатия клавиши **CTRL** перемещает ресурс, а не копирует его.

   - Использование метода Copy и paste

      1. Щелкните правой кнопкой мыши ресурс, который необходимо скопировать (например, *Source1. RC*), и выберите команду **Копировать**.

      1. Щелкните правой кнопкой мыши файл ресурсов, в который вы хотите вставить ресурс (например, *source2. RC*), и выберите команду **Вставить**.

> [!NOTE]
> Чтобы избежать конфликтов с именами символов или значениями в существующем файле, при копировании в новый файл визуальный C++ элемент может изменить значение символа переданного ресурса или имя и значение символа.

Во время копирования ресурса можно изменить его свойство "язык" и (или) "условие".

- Язык ресурса определяет язык, используемый [FindResource](/windows/win32/api/winbase/nf-winbase-findresourcea) для выявления искомого ресурса. Ресурсы могут иметь различия для каждого языка, не связанного с текстом, например ускорители, которые могут работать только на японской клавиатуре или точечном рисунке, который подходит только для китайских локализованных сборок.

- Условие ресурса — это определенный символ, задающий условие, при котором будет использоваться конкретная копия ресурса.

Язык и условие ресурса отображаются в круглых скобках после имени ресурса в окне **рабочей области** . Здесь ресурс с именем `IDD_AboutBox` использует `Finnish` в качестве своего языка, а его условие — `XX33`:

```cpp
IDD_AboutBox (Finnish - XX33)
```

### <a name="to-copy-an-existing-resource-and-change-its-language-or-condition"></a>Копирование существующего ресурса и изменение его языка или условия

В *RC* -файле или в окне [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources) щелкните правой кнопкой мыши ресурс, который нужно скопировать, и выберите команду **Вставить копию**. Затем установите следующие значения:

- В поле список **языков** выберите язык.

- В поле **условие** введите условие.

### <a name="to-edit-resources"></a>Изменение ресурсов

Файлы управляемых ресурсов (RESX) представляют собой XML-файлы. При добавлении файла управляемого ресурса в проект из диалогового окна " **Добавление нового элемента** " **редактор управляемых ресурсов** открывается по умолчанию.

## <a name="import-and-export-resources"></a>Импорт и экспорт ресурсов

Графические ресурсы (растровые изображения, значки, курсоры, панели инструментов), HTML-файлы и пользовательские ресурсы можно импортировать для использования в Visual C++. Вы можете экспортировать файлы одного и того же типа из проекта Visual C++ Studio в отдельные файлы, которые могут использоваться вне среды разработки.

> [!NOTE]
> Такие типы ресурсов, как ускорители, диалоговые окна и таблицы строк, не могут быть импортированы или экспортированы, так как они не являются изолированными типами файлов.

### <a name="to-import-a-resource-into-the-resource-script-file"></a>Импорт ресурса в файл описания ресурсов

1. В [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources) щелкните правой кнопкой мыши узел файла скрипта ресурсов (. RC), в который нужно добавить ресурс, и выберите пункт **Импорт**.

1. Укажите и выберите имя файла точечного рисунка (BMP), значка (ICO), курсора (CUR), HTML-файла (htm) или другого файла для импорта.

1. Нажмите кнопку **ОК** , чтобы добавить ресурс в файл описания ресурсов.

> [!NOTE]
> Процесс импорта работает так же, независимо от выбранного типа ресурса. Импортированный ресурс автоматически добавляется в нужный узел этого типа ресурсов.

### <a name="to-export-a-resource-for-use-outside-of-visual-c"></a>Экспорт ресурса для использования вне VisualC++

1. В [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources)щелкните правой кнопкой мыши ресурс, который необходимо экспортировать, и выберите пункт **Экспорт**. Вы можете принять текущее имя файла или ввести новое.

1. Перейдите в папку, в которой необходимо сохранить файл, и выберите **Экспорт**.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также раздел

[Файлы ресурсов](../windows/resource-files-visual-studio.md)<br/>
[Руководство. Создание ресурсов](../windows/how-to-create-a-resource-script-file.md)<br/>
[Практическое руководство. Включение ресурсов во время компиляции](../windows/how-to-include-resources-at-compile-time.md)<br/>