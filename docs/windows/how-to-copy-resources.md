---
title: Практическое руководство. Управление ресурсами (C++)
ms.date: 02/14/2019
f1_keywords:
- vc.resvw.resource.copying
- vs.resvw.resource.copying
- vc.resvw.resource.changing
- vb.xmldesigner.data
- vs.resvw.resource.importing
- vc.resvw.resource.importing
helpviewer_keywords:
- resources [C++], moving between files
- resources [C++], copying
- resource files [C++], copying or moving resources between
- resource files [C++], tiling
- .rc files [C++], copying resources between
- rc files [C++], copying resources between
- Language property [C++]
- .resx files [C++], editing
- resource files [C++], editing
- resx files [C++], editing
- resources [C++], exporting
- graphics [C++], exporting
- graphics [C++], importing
- resources [C++], importing
- bitmaps [C++], importing and exporting
- toolbars [C++], importing
- images [C++], importing
- toolbars [C++], exporting
- cursors [C++], importing and exporting
- images [C++], exporting
ms.assetid: 65f523e8-017f-4fc6-82d1-083c56d9131f
ms.openlocfilehash: 28127ea89fdba1b70988ced1d6004c0f914c66e2
ms.sourcegitcommit: b4645761ce5acf8c2fc7a662334dd5a471ea976d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/07/2019
ms.locfileid: "57563047"
---
# <a name="how-to-manage-resources-c"></a>Практическое руководство. Управление ресурсами (C++)

## <a name="copy-and-edit-resources"></a>Копирование и редактирование ресурсов

Ресурсы можно скопировать из одного файла в другой без изменения их, или язык или условие ресурса при копировании.

Можно легко скопировать ресурсы из существующего ресурса или исполняемого файла в текущий файл ресурсов. Копирование ресурсов, откройте оба файла, которая содержит ресурсы, в то же время и перетащите элементы из одного файла в другой, или скопируйте и вставьте между двумя файлами. Этот метод работает для RC-файлов ресурсов и файлов ресурсов (.rct) шаблона, а также как исполняемые файлы (.exe).

> [!NOTE]
> Visual C++ содержит примеры файлов ресурсов, которые можно использовать в приложении. Дополнительные сведения см. в разделе [CLIPART: Общие ресурсы](https://github.com/Microsoft/VCSamples).

Вам не удается перетащите, копирование, вырезание или вставки между файлами ресурсов в проект (**представление ресурсов**) и откройте автономный RC-файлов в окнах документов. Это можно сделать в предыдущих версиях продукта. Только метод перетаскивания и вставки между RC-файлов, открытых вне проекта.

### <a name="to-copy-resources"></a>Копирование ресурсов

1. Откройте отдельно два файла ресурсов (см. в разделе Практическое [Открытие файла описания ресурсов](/how-to-create-a-resource-script-file#use-resource-script-files)). Например, откройте *Source1.rc* и *Source2.rc*.

1. В первом RC-файла, либо:

   - Используйте метод перетаскивания и вставки

      1. Выберите ресурс, который требуется скопировать. Например, в *Source1.rc*выберите **IDD_DIALOG1**.

      1. Удерживая нажатой **Ctrl** ключа и перетащите ресурс во втором RC-файл. Например, перетащите **IDD_DIALOG1** из *Source1.rc* для *Source2.rc*.

         > [!TIP]
         > Перетаскивание ресурса без удерживания нажатой **Ctrl** перемещает ключ ресурса, а не копируя его.

   - Копирование и вставка метод

      1. Щелкните правой кнопкой мыши ресурс с для копирования (например, *Source1.rc*) и выберите **копирования**.

      1. Щелкните правой кнопкой мыши файл ресурсов, в которую вы хотите добавить ресурс (например, *Source2.rc*) и выберите **вставьте**.

> [!NOTE]
> Во избежание конфликтов с именами и значениями в существующем файле Visual C++ может изменить значение символа копируемого ресурса или имя и значение, при копировании в новый файл.

Во время копирования ресурса можно изменить его свойство "язык" и (или) "условие".

- Язык ресурса определяет язык, используемый [FindResource](/windows/desktop/api/winbase/nf-winbase-findresourcea) для идентификации ресурсов, для которого вам нужен. Ресурсы могут иметь отличия для каждого языка, которые не связаны с текстом, например, сочетания клавиш, которые работают только на японской клавиатуре или растровые изображения, только подходящее для китайских локализованных сборках.

- Условие ресурса — это определенный символ, задающий условие, при котором будет использоваться конкретная копия ресурса.

Язык и условие ресурса отображаются в круглых скобках после имени ресурса в **рабочей области** окна. Здесь ресурс с именем `IDD_AboutBox` использует `Finnish` его языка и его условие — `XX33`:

```cpp
IDD_AboutBox (Finnish - XX33)
```

### <a name="to-copy-an-existing-resource-and-change-its-language-or-condition"></a>Копирование существующего ресурса и изменение его языка или условия

В *.rc* файл или в [представление ресурсов](../windows/resource-view-window.md) окно, щелкните правой кнопкой мыши ресурс, нужно скопировать и выберите **вставить копию**. Затем установите следующие значения:

- Для **языка** выберите язык.

- В **условие** введите условие.

### <a name="to-edit-resources"></a>Для изменения ресурсов

Файлы управляемых ресурсов (.resx) являются файлами XML. При добавлении управляемый файл ресурсов в проект из **Добавление нового элемента** диалоговом окне **редактора управляемых ресурсов** открывается по умолчанию.

## <a name="import-and-export-resources"></a>Импорт и экспорт ресурсов

Графические ресурсы (растровые изображения, значки, курсоры, панели инструментов), HTML-файлы и пользовательские ресурсы можно импортировать для использования в Visual C++. Эти же типы ресурсов можно экспортировать из проекта Visual C++ в виде отдельных файлов, которые можно использовать за пределами среды разработки.

> [!NOTE]
> Типы ресурсов, таких как ускорители, диалоговые окна и таблицы строк не может быть импортирован или экспортировать, так как они не являются типами отдельных файлов.

### <a name="to-import-a-resource-into-the-resource-script-file"></a>Чтобы импортировать ресурс в файл описания ресурсов

1. В [представление ресурсов](../windows/resource-view-window.md) правой кнопкой мыши узел RC-файла ресурсов, к которому необходимо добавить ресурс и выберите **импорта**.

1. Найдите и выберите имя файла точечного рисунка (BMP), значка (ICO), курсора (.cur), HTML-файл (.htm) или другой файл для импорта.

1. Выберите **ОК** добавить ресурс в файл описания ресурсов.

> [!NOTE]
> Процесс импорта работает так же, независимо от того, какой ресурс типа вы выбрали. Импортированный ресурс автоматически добавляется в соответствующий узел этого типа ресурса.

### <a name="to-export-a-resource-for-use-outside-of-visual-c"></a>Процедура экспорта ресурса для использования за пределами Visual C++

1. В [представление ресурсов](../windows/resource-view-window.md), щелкните правой кнопкой мыши ресурс, нужно экспортировать и выберите **Экспорт**. Можно принять имя текущего файла или введите новое.

1. Перейдите к папке, где вы хотите сохранить файл и выберите **Экспорт**.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также

[Файлы ресурсов](../windows/resource-files-visual-studio.md)<br/>
[Практическое руководство. Создать ресурсы](../windows/how-to-create-a-resource-script-file.md)<br/>
[Практическое руководство. Включение ресурсов во время компиляции](../windows/how-to-include-resources-at-compile-time.md)<br/>