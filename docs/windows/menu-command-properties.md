---
title: Команды меню (C++)
ms.date: 02/15/2019
helpviewer_keywords:
- menu items, properties
- keyboard shortcuts [C++], menu association
- commands [C++], associating menu commands with accelerator keys
- menu commands [C++], associating with keyboard shortcuts
- status bars [C++], associating menu items
- menus [C++], status bar text
- access keys [C++], checking
- menus [C++], shortcut keys
- keyboard shortcuts [C++], command assignments
- access keys [C++], assigning
- mnemonics [C++], adding to menus
- keyboard shortcuts [C++], uniqueness checking
- mnemonics [C++], uniqueness checking
- Check Mnemonics command
ms.assetid: 6d308205-3c9e-42f2-ab42-45e656940e45
ms.openlocfilehash: a950e7d0156d1b952782fddcdff26718fcf0e291
ms.sourcegitcommit: a1676bf6caae05ecd698f26ed80c08828722b237
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2020
ms.locfileid: "91504321"
---
# <a name="menu-commands-c"></a>Команды меню (C++)

Приведенные ниже сведения организованы в соответствии со свойствами **меню** , которые отображаются в [окне свойства](/visualstudio/ide/reference/properties-window) при выборе команды меню. Они перечислены в алфавитном порядке, хотя окно **свойств** также позволяет просматривать эти свойства по категориям.

|Свойство|Описание|
|--------------|-----------------|
|**Разбиени**|Может принимать одно из следующих значений:<br/>  - **Нет**: нет перерывов. Это значение по умолчанию.<br/>  - **Столбец**: для статических меню это значение помещает команду меню в новую строку.<br/>      В контекстных меню при этом значении команда меню помещается в новый столбец без разделительной линии между столбцами.<br/>      Установка этого свойства влияет на внешний вид меню только во время выполнения. В редакторе внешний вид меню не меняется.<br />   - **Bar**: аналогично **столбцу** , за исключением того, что для всплывающих меню это значение отделяет новый столбец от старого со вертикальной линией.<br/>      Установка этого свойства влияет на внешний вид меню только во время выполнения, а не в **редакторе меню**.|
|**Caption**|Текст, представляющий команду меню (имя меню). Чтобы указать одну из букв названия команды меню как входящую в сочетание клавиш, поместите перед ней знак амперсанда (&).|
|**Флажок установлен**|Если **значение равно true**, команда меню изначально проверяется. Тип: **bool**. Значение по умолчанию: **false**.|
|**Enabled**|Если задано значение **False**, пункт меню отключен.|
|**Grayed (Серым цветом)**|Если **значение равно true**, команда меню изначально является неактивной и неактивна. Тип: **bool**. Значение по умолчанию: **false**.|
|**Help** (Справка)|Выравнивает пункт меню по правому краю. Значение по умолчанию: **false**.<br/><br/>Например, команда меню **Справка** всегда находится справа во всех приложениях Windows. Если задано это свойство пункта меню, данный пункт будет отображаться прижатым к правому краю и в самом конце меню. Применяется к элементам верхнего уровня.|
|**Идентификатор**|Этот символ определяется в файле заголовка. Type: **символ**, **целое число**или **строка в кавычках**.<br/><br/>Можно использовать любой символ, который обычно доступен в любом редакторе, даже если [окно свойств](/visualstudio/ide/reference/properties-window) не содержит раскрывающийся список для выбора этого символа.|
|**Popup**|Если **значение равно true**, команда меню является всплывающим меню. Тип: **bool**. Значение по умолчанию: **true** для меню верхнего уровня в строке меню; в противном случае — **false**.|
|**Командная строка**.|Содержит текст, отображаемый в строке состояния, при выделении этой команды меню. Текст помещается в таблицу строк с тем же идентификатором, что и команда меню.<br/><br/>Это свойство доступно для любого типа проекта, но во время выполнения проявляются особенности, зависящие от MFC.|
|**Right to Left Justify (Выравнивание справа налево)**|Выравнивание команды меню по правому краю в строке меню во время выполнения. Тип: **bool**. Значение по умолчанию: **false**.|
|**Right to Left Order (Справа налево)**|Отображение команд меню справа налево в тех случаях, когда интерфейс локализован для языка с направлением чтения справа налево, например, иврита или арабского языка.|
|**Separator**|Если **значение равно true**, команда меню является разделителем. Тип: **bool**. Значение по умолчанию: **false**.|

## <a name="associate-menu-commands"></a>Команды меню "связать"

В некоторых ситуациях может потребоваться, чтобы программную команду можно было вызывать с помощью команды меню и сочетания клавиш. Аналогичные команды выдаются с помощью **редактора меню** , чтобы назначить один и тот же идентификатор ресурса команде меню и записи в таблице сочетаний клавиш приложения. Затем необходимо изменить [Заголовок](../windows/menu-command-properties.md) команды меню, чтобы в нем отображалось название сочетания клавиш.

### <a name="to-associate-a-menu-command-with-an-accelerator-key"></a>Сопоставление команды меню с сочетанием клавиш

1. В **редакторе меню**выберите нужную команду меню.

1. В [окне свойств](/visualstudio/ide/reference/properties-window)добавьте название сочетания клавиш в свойство **Заголовок** .

   - Сразу после заголовка меню введите escape-последовательность для табуляции (\t), чтобы все сочетания клавиш в меню были выровнены по левому краю.

   - Введите имя клавиши-модификатора (**CTRL**, **ALT**или **SHIFT**), за которой следует знак «плюс» ( **+** ), а также имя, букву или символ дополнительного ключа.

   Например, чтобы назначить команду **CTRL** + **O** команде **Открыть** в меню **файл** , можно изменить **заголовок** команды меню так, чтобы он выглядел как следующий текст:

   ```
   &Open...\tCtrl+O
   ```

   Команда меню в **редакторе меню** обновляется для отражения нового заголовка при его вводе.

1. [Создайте запись в таблице сочетаний клавиш](./accelerator-editor.md) с помощью редактора **сочетаний клавиш** и назначьте ему тот же идентификатор ресурса, что и команде меню. Рекомендуется выбирать сочетания, которые легче запомнить.

Приложение MFC может отображать описательный текст для каждой команды меню, которую пользователь может выбрать. Отображение описательного текста путем назначения текстовой строки каждой команде меню с помощью свойства **Prompt** в окне **свойства** . Если в [таблице строк](../windows/string-editor.md) имеется строка, идентификатор которой совпадает с идентификатором команды, приложение MFC автоматически отобразит этот строковый ресурс в строке состояния выполняющегося приложения в момент, когда пользователь наведет указатель мыши на пункт меню.

- Чтобы связать команду меню с текстовой строкой строки состояния в приложениях MFC, в **редакторе меню**выберите команду меню. В [окне "Свойства"](/visualstudio/ide/reference/properties-window)в поле **Prompt** (Подсказка) введите нужный текст для строки состояния.

В проекте C++ можно назначить клавишу доступа (назначенную клавишу, которая позволяет пользователю выбрать меню с клавиатурой) для меню и команд меню.

- Чтобы назначить команде меню доступ (сочетание клавиш), введите амперсанд ( `&` ) перед буквой в имени меню или имени команды, чтобы указать эту букву в качестве соответствующего ключа доступа.

   Например, "&File" задает сочетание клавиш **ALT** + **F** в качестве сочетания клавиш для меню " **файл** " в приложениях, написанных для Microsoft Windows.

   Буква, с которой связана клавиша доступа, обычно наглядно обозначена в элементе меню. Как правило, буква, следующая за символом амперсанда, отображается как подчеркнутая (везде в рамках одной ОС).

> [!NOTE]
> Убедитесь, что все клавиши доступа в меню уникальны, щелкнув меню правой кнопкой мыши и выбрав пункт **Проверить назначенные клавиши**.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также раздел

[Редактор меню](../windows/menu-editor.md)

<!--
[Strings (ATL/MFC)](../atl-mfc-shared/strings-atl-mfc.md)<br/>-->
