---
title: Настройка программ для Windows XP
ms.date: 02/02/2018
ms.assetid: 1e4487b3-d815-4123-878b-5718b22f0fd5
ms.openlocfilehash: f27921e062fd8abb7bc9b63bfbb9b050f25ee54b
ms.sourcegitcommit: 7d64c5f226f925642a25e07498567df8bebb00d4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/08/2019
ms.locfileid: "65446373"
---
# <a name="configuring-programs-for-windows-xp"></a>Настройка программ для Windows XP

Так как Visual Studio поддерживает несколько platform Toolset, можно ориентироваться на операционные системы и библиотеки времени выполнения, которые не поддерживаются набором инструментов по умолчанию. Например путем переключения набора инструментов платформы, можно использовать C ++ 11, C ++ 14 и C ++ 17 усовершенствований в Visual Studio компилятор MSVC поддерживает создание приложений, предназначенных для Windows XP и Windows Server 2003. Можно также использовать более старых наборов инструментов платформы, чтобы поддерживать совместимых устаревшего кода и по-прежнему использовать преимущества новой функциональностью Visual Studio IDE.

## <a name="install-the-windows-xp-platform-toolset"></a>Установить набор инструментов платформы Windows XP

Чтобы получить набор инструментов платформы и компонентов для целевого объекта Windows XP и Windows Server 2003 в Visual Studio 2017, запустите установщик Visual Studio. При первоначальной установке Visual Studio или при выборе **изменить** для изменения существующей установки, убедитесь, что **разработка классических приложений C++** рабочую нагрузку. В списке дополнительных компонентов для этой рабочей нагрузки, выберите **поддержка Windows XP для C++**, а затем выберите **установить** или **изменить**.

## <a name="windows-xp-targeting-experience"></a>Нацеливание на Windows XP

Набор инструментов платформы Windows XP, включенный в Visual Studio — это версия пакета SDK для Windows 7, но он использует текущий компилятор C++. Он также настраивает свойства проекта, чтобы соответствующие значения по умолчанию, например, спецификацию совместимого компоновщика для нисходящего нацеливания. Только Windows классических приложений, создаваемых с помощью набора инструментов платформы Windows XP на Windows XP и Windows Server 2003, но эти приложения также можно запустить на более новых операционных системах Windows.

#### <a name="to-target-windows-xp"></a>Нацеливание на Windows XP

1. В **обозревателе решений** откройте контекстное меню своего проекта и выберите пункт **Свойства**.

1. В **страницы свойств** диалоговое окно проекта, в разделе **свойства конфигурации** > **Общие**, задайте **набор инструментов платформы** свойство нужный набор инструментов Windows XP. Например, выберите **Visual Studio 2017 г. — Windows XP (v141_xp)** для создания кода для Windows XP и Windows Server 2003 с помощью Microsoft C++ компилятора в Visual Studio 2017.

### <a name="c-runtime-support"></a>Поддержка среды выполнения C++

А также набор инструментов платформы Windows XP, библиотеки времени выполнения C (CRT), стандартной библиотеки C++, Active Template Library (ATL), библиотека времени выполнения с параллелизмом (ConCRT), библиотека параллельных шаблонов (PPL), Microsoft Foundation Class Library (MFC) и C++ AMP (C++ Accelerated Massive программирование) Библиотека включает поддержку среды выполнения Windows XP и Windows Server 2003. Для этих операционных систем минимальные поддерживаемые версии: Windows XP Service Pack 3 (SP3) для x86, пакет обновления 2 (SP2) для x64 для Windows XP и Windows Server 2003 Service Pack 2 (SP2) для x86 и x64.

Эти библиотеки поддерживаются наборы инструментов платформы, установленные Visual Studio, в зависимости от целевой объект:

|Библиотека|Набор инструментов платформы по умолчанию для классических приложений Windows|По умолчанию приложения Store определения набора инструментов платформы|Набор инструментов платформы Windows XP, предназначенные для Windows XP, Windows Server 2003|
|---|---|---|---|
|CRT - библиотека|X|X|X|
|Стандартная библиотека C++|X|X|X|
|ATL|X|X|X|
|ConCRT/PPL|X|X|X|
|MFC|X||X|
|C++ AMP|X|X||

> [!NOTE]
> Приложения, написанные в C++/CLI и предназначенные для .NET Framework 4 под управлением Windows XP и Windows Server 2003.

### <a name="differences-between-the-toolsets"></a>Различия между наборами инструментов

Из-за различий в поддержке платформ и библиотек процесс разработки для приложений, использующих набор инструментов платформы Windows XP не так тщательна, как и для приложений, использующих набор инструментов платформы Visual Studio по умолчанию.

- **Возможности языка C++**

   Только функции языка C++, реализованные в Visual Studio 2012 поддерживаются в приложениях, использующих v110\_xp набор инструментов платформы. В приложениях, использующих v120 поддерживаются только функции языка C++, реализованные в Visual Studio 2013\_xp набор инструментов платформы. Только возможности языка C++, реализованы в Visual Studio 2015, поддерживаются в приложениях, использующих v140\_xp набор инструментов платформы. Visual Studio использует соответствующий компилятор при сборке с помощью более старых наборов инструментов платформы. Используйте последнего набора инструментов платформы Windows XP, чтобы воспользоваться дополнительными возможностями языка C++, реализованные в этой версии компилятора.

- **Удаленная отладка**

   Инструменты удаленной отладки для Visual Studio не поддерживает удаленную отладку на Windows XP или Windows Server 2003. Чтобы выполнить отладку приложения при работе под Windows XP или Windows Server 2003, можно использовать отладчик из более старой версии Visual Studio для его отладки, локально или удаленно. Ситуация здесь схожа с отладкой приложений в Windows Vista, которые могут являться целью выполнения для набора инструментов платформы, но не могут являться целью удаленной отладки.

- **Статический анализ**

   Наборы инструментов платформы Windows XP не поддерживают статический анализ, так как примечания SAL для пакета SDK для Windows 7 и библиотек времени выполнения несовместимы. Если вы хотите выполнить статический анализ приложения, поддерживающего Windows XP или Windows Server 2003, можно временно переключиться решение было нацелено на набор инструментов платформы по умолчанию для выполнения анализа и затем переключитесь обратно в набор инструментов платформы Windows XP для сборки приложение.

- **Отладка графики DirectX**

   Так как отладчик графики не поддерживает Direct3D 9 API, он не может использоваться для отладки приложений, использующих Direct3D в Windows XP или Windows Server 2003. Однако если в приложении реализован альтернативный модуль прорисовки, использующий API Direct3D 10 или Direct3D 11, с помощью отладчика графики можно диагностировать проблемы с использованием этих API.

- **Сборка HLSL**

   По умолчанию набор инструментов Windows XP не компилирует файлы с исходным кодом HLSL. Для компиляции файлов HLSL загрузите и установите пакет SDK DirectX за июнь 2010 года, а затем включите его в каталоги VC проекта. Дополнительные сведения см. в разделе «пакет SDK DirectX не регистрирует пути Include/библиотеки с помощью Visual Studio 2010» раздел [за июнь 2010 странице загрузки пакета SDK DirectX](http://www.microsoft.com/download/details.aspx?displaylang=en&id=6812).
