---
title: Передача параметров
ms.date: 11/04/2016
ms.assetid: e838ee5f-c2fe-40b0-9a23-8023c949c820
ms.openlocfilehash: 1b7fb126ab3b140d0ab672067df35c5fc8df926e
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50648751"
---
# <a name="parameter-passing"></a>Передача параметров

Первые четыре целочисленных аргументов передаются в регистрах. Целочисленные значения передаются (в порядке слева направо) в RCX, RDX, R8 и R9. Аргументы пяти и более высоким передаются в стеке. Все аргументы имеют — по правому краю в регистрах. Это делается, если вызываемый объект можно игнорировать старшие разряды регистра обязательно должны быть и будет доступен только часть необходимых регистра.

С плавающей запятой и двойной точности аргументы передаются в XMM0: XMM3 (до 4) со слотом целое число (RCX, RDX, R8 и R9), обычно используется для этого фундаментальный слот, игнорируются (см. пример) и наоборот.

[__m128](../cpp/m128.md) типы, массивы и строки никогда не передаются по значению немедленно, но вместо этого передается указатель на память, выделенную вызывающим объектом. Структуры или объединения, размер 8, 16, 32 или 64 бита и __m64 передаются в том случае, как будто они являются целыми числами такого же размера. Структуры или объединения других размеров, передаются как указатель на память, выделенную вызывающим объектом. Для этих агрегатных типов, переданного как указатель (включая \__m128), временной памяти, выделенный вызывающим объектом будет 16-байтовым.

Встроенные функции, не будет выделено пространство стека и не вызывают другие функции, которые можно использовать другие переменные регистры для передачи дополнительных аргументов в регистры, так как отсутствует тесная связь между компилятором и реализацией встроенной функции. Это дополнительная возможность повышая производительность.

Вызываемый объект несет ответственность за формирование дампа параметров регистра в теневое пространство при необходимости.

В следующей таблице перечислены передачу параметров:

|Тип параметра|Передача|
|--------------------|----------------|
|С плавающей запятой|Первые четыре параметра — от XMM0 к XMM3. Остальные передаются в стек.|
|Целое число|Первые четыре параметра - RCX, RDX, R8, R9. Остальные передаются в стек.|
|Статистические функции (8, 16, 32 или 64-разрядный) и __m64|Первые четыре параметра - RCX, RDX, R8, R9. Остальные передаются в стек.|
|Статистические выражения (другое)|Указатель. Первые четыре параметра, передаются как указатели в RCX, RDX, R8 и R9|
|__m128|Указатель. Первые четыре параметра, передаются как указатели в RCX, RDX, R8 и R9|

## <a name="example-of-argument-passing-1---all-integers"></a>Пример передачи аргумента 1 — все целые числа

```
func1(int a, int b, int c, int d, int e);
// a in RCX, b in RDX, c in R8, d in R9, e pushed on stack
```

## <a name="example-of-argument-passing-2---all-floats"></a>Пример передачи аргумента 2 - все значения с плавающей запятой

```
func2(float a, double b, float c, double d, float e);
// a in XMM0, b in XMM1, c in XMM2, d in XMM3, e pushed on stack
```

## <a name="example-of-argument-passing-3---mixed-ints-and-floats"></a>Пример передачи аргумента 3 - смешанной целые числа и числа с плавающей запятой

```
func3(int a, double b, int c, float d);
// a in RCX, b in XMM1, c in R8, d in XMM3
```

## <a name="example-of-argument-passing-4--m64-m128-and-aggregates"></a>Пример передачи аргумента 4 — __m64, \__m128 и статистические функции

```
func4(__m64 a, _m128 b, struct c, float d);
// a in RCX, ptr to b in RDX, ptr to c in R8, d in XMM3
```

## <a name="see-also"></a>См. также

[Соглашение о вызовах](../build/calling-convention.md)