---
title: Пошаговое руководство. Компиляция программы на языке C++/CX из командной строки
ms.date: 04/23/2019
ms.assetid: 626f5544-69ed-4736-83a9-f11389b371b2
ms.openlocfilehash: 83369fc7b458463ea1f44a347bbcd0ca4eb32224
ms.sourcegitcommit: 8e285a766523e653aeeb34d412dc6f615ef7b17b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/21/2020
ms.locfileid: "80078208"
---
# <a name="walkthrough-compiling-a-ccx-program-on-the-command-line"></a>Пошаговое руководство. Компиляция программы на языке C++/CX из командной строки

> [!NOTE]
> Для новых приложений и компонентов UWP рекомендуется использовать [ C++/WinRT](/windows/uwp/cpp-and-winrt-apis/)— стандартную проекцию c++ 17 для Среда выполнения Windows API. C++/WinRT доступен в пакете SDK для Windows 10 из версии 1803. C++/WinRT реализован полностью в файлах заголовков и предназначен для предоставления доступа к современным API Windows через первый класс.

Microsoft C++ COMPILER (компилятором MSVC) поддерживает C++ расширения компонентов (C++/CX), которые имеют дополнительные типы и операторы для целевой модели программирования среда выполнения Windows. С помощью C++/CX можно создавать приложения для универсальная платформа Windows (UWP) и Windows Desktop. Дополнительные сведения см. [в обзоре C++/CX](https://msdn.microsoft.com/magazine/dn166929.aspx) и [расширений компонентов для платформ среды выполнения](../extensions/component-extensions-for-runtime-platforms.md).

В этом руководстве мы используем текстовый редактор для создания простой программы C++/CX, а затем компилируем эту программу в командной строке. (Можно использовать вашу собственную программу C++/CX вместо ввода показанной здесь, или же можно использовать образец кода C++/CX из другой статьи справки. Этот метод полезен для создания и тестирования небольших модулей, не имеющих элементов пользовательского интерфейса.)

> [!NOTE]
> В интегрированной среде разработки (IDE) Visual Studio также можно компилировать программы C++/CX. Так как интегрированная среда разработки включает в себя поддержку проектирования, отладки, эмуляции и развертывания, которая недоступна в командной строке, рекомендуется использовать интегрированную среду разработки для сборки приложений универсальная платформа Windows (UWP). Дополнительные сведения см. [в статье Создание приложения UWP в C++ ](/windows/uwp/get-started/create-a-basic-windows-10-app-in-cpp).

## <a name="prerequisites"></a>Предварительные требования

Вы понимаете основы C++ языка.

## <a name="compiling-a-ccx-program"></a>Компиляция программы на C++/CX

Чтобы включить компиляцию для C++/CX, необходимо использовать параметр компилятора [/ZW](reference/zw-windows-runtime-compilation.md) . Компилятор КОМПИЛЯТОРОМ MSVC создает EXE файл, предназначенный для среда выполнения Windows, и ссылки на необходимые библиотеки.

#### <a name="to-compile-a-ccx-application-on-the-command-line"></a>Компиляция приложения C++/CX из командной строки

1. Откройте окно **Командная строка разработчика** . (В окне **Пуск** откройте **приложения**. Откройте папку **инструменты Visual Studio** в своей версии Visual Studio, а затем выберите ярлык **Командная строка разработчика** .) Дополнительные сведения о том, как открыть Командная строка разработчика окно, см. в разделе [Использование набора инструментов компилятором MSVC из командной строки](building-on-the-command-line.md).

   В зависимости от операционной системы и конфигурации компьютера для успешной компиляции кода могут потребоваться учетные данные администратора. Чтобы запустить окно командной строки от имени администратора, откройте контекстное меню для **Командная строка разработчика** а затем выберите **Запуск от имени администратора**.

1. В командной строке введите **Notepad басикккс. cpp**.

   При появлении запроса на создание файла выберите **Да** .

1. В Блокноте введите следующие строки:

    ```cpp
    using namespace Platform;

    int main(Platform::Array<Platform::String^>^ args)
    {
        Platform::Details::Console::WriteLine("This is a C++/CX program.");
    }
    ```

1. В строке меню выберите **файл** > **сохранить**.

   Вы создали C++ исходный файл, использующий пространство имен [платформы](../cppcx/platform-namespace-c-cx.md) среда выполнения Windows.

1. В командной строке введите **CL/EHSC/ZW басикккс. cpp/Link/SUBSYSTEM: Console**. Компилятор cl.exe скомпилирует исходный код в OBJ-файл, а затем запустит компоновщик для создания исполняемой программы с именем basiccx.exe. (Параметр компилятора [/EHsc](reference/eh-exception-handling-model.md) задает модель обработки C++ исключений, а флаг [/Link](reference/link-pass-options-to-linker.md) задает консольное приложение.)

1. Чтобы запустить программу басикккс. exe, в командной строке введите **басикккс**.

   Программа выводит следующий текст и закрывается:

    ```Output
    This is a C++/CX program.
    ```

## <a name="see-also"></a>См. также:

[Проекты и системы сборки](projects-and-build-systems-cpp.md)<br/>
[Параметры компилятора MSVC](reference/compiler-options.md)
