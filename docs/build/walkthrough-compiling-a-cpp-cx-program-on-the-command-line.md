---
title: Пошаговое руководство. Компиляция C++/CX программу в командной строке
ms.date: 04/23/2019
ms.assetid: 626f5544-69ed-4736-83a9-f11389b371b2
ms.openlocfilehash: cbf5a48de3c029e36fc6daabe2b3f0db55dc173c
ms.sourcegitcommit: 18d3b1e9cdb4fc3a76f7a650c31994bdbd2bde64
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/29/2019
ms.locfileid: "64877167"
---
# <a name="walkthrough-compiling-a-ccx-program-on-the-command-line"></a>Пошаговое руководство. Компиляция C++/CX программу в командной строке

> [!NOTE] 
> Для новых приложений универсальной платформы Windows и компонентов, мы рекомендуем использовать [ C++/WinRT](/windows/uwp/cpp-and-winrt-apis/), C ++ 17 проекция стандартного для API среды выполнения Windows. C++/ WinRT доступна в пакете SDK для Windows 10 версии 1803 и далее. C++/ WinRT реализуется полностью в файлах заголовков и призвана предоставить вам доступ первого класса в современных API Windows.

Microsoft C++ компилятор (MSVC) поддерживает C++ расширения компонентов (C++/CX), который содержит дополнительные типы и операторы для модели программирования среды выполнения Windows. Можно использовать C++/CX для создания приложений для универсальной платформы Windows (UWP) и Windows desktop. Дополнительные сведения см. в разделе [примером C++/CX](https://msdn.microsoft.com/magazine/dn166929.aspx) и [расширения компонентов для платформ среды выполнения](../extensions/component-extensions-for-runtime-platforms.md).

В этом руководстве мы используем текстовый редактор для создания простой программы C++/CX, а затем компилируем эту программу в командной строке. (Можно использовать вашу собственную программу C++/CX вместо ввода показанной здесь, или же можно использовать образец кода C++/CX из другой статьи справки. Этот метод полезен для создания и тестирования небольших модулей, имеющих без элементов пользовательского интерфейса.)

> [!NOTE]
> В интегрированной среде разработки (IDE) Visual Studio также можно компилировать программы C++/CX. Интегрированная среда разработки включает в себя, разработки, отладки, эмуляции и поддержку развертывания, которая не доступна в командной строке, поэтому рекомендуется использовать интегрированную среду разработки для создания приложений универсальной платформы Windows (UWP). Дополнительные сведения см. в разделе [создать приложение универсальной платформы Windows в C++](/windows/uwp/get-started/create-a-basic-windows-10-app-in-cpp).

## <a name="prerequisites"></a>Предварительные требования

Знание основ языка C++.

## <a name="compiling-a-ccx-program"></a>Компиляция программы на C++/CX

Чтобы включить компиляцию для C++/CX, необходимо использовать [/ZW](reference/zw-windows-runtime-compilation.md) параметр компилятора. Компилятор MSVC создает файл .exe, обращается к среде выполнения Windows, а также ссылки на необходимые библиотеки.

#### <a name="to-compile-a-ccx-application-on-the-command-line"></a>Компиляция приложения C++/CX из командной строки

1. Откройте **Командная строка разработчика** окна. (На **запустить** открытое окно **приложений**. Откройте **средств Visual Studio** папку в вашей версии Visual Studio и выберите **Командная строка разработчика** ярлык.) Дополнительные сведения о том, как открыть окно командной строки разработчика, см. в разделе [использовать набор инструментов MSVC из командной строки](building-on-the-command-line.md).

   В зависимости от операционной системы и конфигурации компьютера для успешной компиляции кода могут потребоваться учетные данные администратора. Чтобы запустить окно командной строки с правами администратора, откройте контекстное меню для **Командная строка разработчика** и выберите **Запуск от имени администратора**.

1. В командной строке введите **notepad basiccx.cpp**.

   Выберите **Да** при появлении для создания файла.

1. В Блокноте введите следующие строки:

    ```cpp
    using namespace Platform;

    int main(Platform::Array<Platform::String^>^ args)
    {
        Platform::Details::Console::WriteLine("This is a C++/CX program.");
    }
    ```

1. В строке меню выберите **файл** > **Сохранить**.

   Вы создали C++ исходного файла, который используется среда выполнения Windows [пространство имен Platform](../cppcx/platform-namespace-c-cx.md) пространства имен.

1. В командной строке введите **/cl/EHsc /ZW basiccx.cpp Link/SUBSYSTEM: Console**. Компилятор cl.exe скомпилирует исходный код в OBJ-файл, а затем запустит компоновщик для создания исполняемой программы с именем basiccx.exe. ( [/EHsc](reference/eh-exception-handling-model.md) параметр компилятора указывает модель обработки исключений C++ и [/link](reference/link-pass-options-to-linker.md) флаг указывает на консольное приложение.)

1. Чтобы запустить программу basiccx.exe, в командной строке введите **basiccx**.

   Программа выводит следующий текст и закрывается:

    ```Output
    This is a C++/CX program.
    ```

## <a name="see-also"></a>См. также

[Проекты и системы сборки](projects-and-build-systems-cpp.md)<br/>
[Параметры компилятора MSVC](reference/compiler-options.md)
