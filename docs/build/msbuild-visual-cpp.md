---
title: MSBuild в командной строке — C++
ms.date: 12/12/2018
helpviewer_keywords:
- MSBuild
ms.assetid: 7a1be7ff-0312-4669-adf2-5f5bf507d560
ms.openlocfilehash: e95d99cf5c63c824bb9bade8e76bc3ca99079669
ms.sourcegitcommit: da32511dd5baebe27451c0458a95f345144bd439
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65220573"
---
# <a name="msbuild-on-the-command-line---c"></a>MSBuild в командной строке — C++

Как правило, для установки свойств проекта и вызова системы MSBuild рекомендуется использовать Visual Studio. Однако вы можете использовать инструмент **MSBuild** напрямую из командной строки. Процесс сборки управляется сведениями, указанными в файле проекта (с расширением VCXPROJ). Этот файл можно создавать и редактировать. Файл проекта устанавливает параметры сборки в зависимости от этапов, условий и событий сборки. Кроме того, вы можете указывать аргументы командной строки (*параметры*) — сколько потребуется.

> **msbuild.exe** [ *файл_проекта* ] [ *параметры* ]

С помощью параметров командной строки **/target** (или **/t**) и **/property** (или **/p**) можно переопределять конкретные свойства и целевые объекты, заданные в файле проекта.

Важная функция файла проекта является указание *целевой*, который является конкретной операцией, применяемой для проекта и входов и выходов, которые требуются для выполнения этой операции. Файл проекта можно указать один или несколько целевых объектов, включая целевой объект по умолчанию.

Каждый целевой объект состоит из последовательности из одной или нескольких *задачи*. Каждая задача представляется классом .NET Framework, содержащим одну исполняемую команду. Например [CL-задача](/visualstudio/msbuild/cl-task) содержит [cl.exe](reference/compiling-a-c-cpp-program.md) команды.

A *параметр задачи* свойство класса задачи, обычно представляет параметр командной строки исполняемой команды. Например `FavorSizeOrSpeed` параметр `CL` Задача соответствует **/Os** и **/Ot** Параметры компилятора.

Дополнительные параметры задачи поддерживают инфраструктуру MSBuild. Например `Sources` параметр задачи указывает набор задач, которые могут быть использованы другими задачами. Дополнительные сведения о задачах MSBuild см. в разделе [Справочные сведения о задачах](/visualstudio/msbuild/msbuild-task-reference).

Для большинства задач требуются входные и выходные данные, такие как имена файлов, пути и строки, числовые или логические параметры. Например часто к входным данным — имя исходного CPP-файла для компиляции. Важным входным параметром является строка, указывающая конфигурацию сборки и платформу, например, "Debug\|Win32". Входные и выходные данные задаются один или несколько определяемых пользователем XML `Item` элементов, содержащихся в `ItemGroup` элемент.

В файле проекта можно также указывать пользовательские *свойства* и `ItemDefinitionGroup` *элементы*. Свойства и элементы формируют пары имя/значение, которые можно использовать в качестве переменных при построении. Компонент имени пары определяет *макрос*, а компонент значения объявляет *значение макроса*. Макрос свойств осуществляется с помощью $(*имя*) нотации и макрос элемента осуществляется с помощью %(*имя*) нотации.

Другие элементы XML в файле проекта можно тестировать макросы и затем условно значение любого макроса или контролировать выполнение построения. Имена макросов и строковые литералы можно сцепить для создания конструкций, таких как путь и имя файла. В командной строке **/property** Задает или переопределяет свойства проекта. Элементы нельзя ссылаться в командной строке.

Система MSBuild может условно выполнить целевой объект до или после другого целевого объекта. Кроме того эта система может построить целевой объект на основании ли целевой объект использует файлы новее, чем выдаваемые им файлы.

Дополнительные сведения о MSBuild см. в следующих статьях.

- [MSBuild](/visualstudio/msbuild/msbuild) — обзор основных понятий MSBuild.

- [Справочник по MSBuild](/visualstudio/msbuild/msbuild-reference) — справочные сведения о системе MSBuild.

- [Справочник по схеме файла проекта](/visualstudio/msbuild/msbuild-project-file-schema-reference) — список XML-элементов схемы MSBuild, а также их атрибутов и родительских и дочерних элементов. Обратите внимание, особенно [ItemGroup](/visualstudio/msbuild/itemgroup-element-msbuild), [PropertyGroup](/visualstudio/msbuild/propertygroup-element-msbuild), [целевой](/visualstudio/msbuild/target-element-msbuild), и [задачи](/visualstudio/msbuild/task-element-msbuild) элементы.

- [Справочник по командной строке](/visualstudio/msbuild/msbuild-command-line-reference) — описание аргументов и параметров командной строки, которые можно использовать при работе с msbuild.exe.

- [Справочник по задачам](/visualstudio/msbuild/msbuild-task-reference) — описание задач MSBuild. Рекомендуется особенно внимательно изучить следующие задачи, относящиеся к Visual C++: [BscMake](/visualstudio/msbuild/bscmake-task), [CL](/visualstudio/msbuild/cl-task), [CPPClean](/visualstudio/msbuild/cppclean-task), [LIB](/visualstudio/msbuild/lib-task), [Link](/visualstudio/msbuild/link-task), [MIDL](/visualstudio/msbuild/midl-task), [MT](/visualstudio/msbuild/mt-task), [RC](/visualstudio/msbuild/rc-task), [SetEnv](/visualstudio/msbuild/setenv-task), [VCMessage](/visualstudio/msbuild/vcmessage-task)

## <a name="in-this-section"></a>В этом разделе

|Термин|Определение|
|----------|----------------|
|[Пошаговое руководство: Использование MSBuild для создания проекта C++](walkthrough-using-msbuild-to-create-a-visual-cpp-project.md)|Демонстрируется создание проекта Visual Studio C++ с помощью **MSBuild**.|
|[Практическое руководство. Использование событий сборки в проектах MSBuild](how-to-use-build-events-in-msbuild-projects.md)|Демонстрируется, как следует указывать действие, выполняемое на определенном этапе сборки: до запуска сборки, перед началом этапа компоновки или после завершения сборки.|
|[Практическое руководство. Добавление пользовательского шага сборки в проекты MSBuild](how-to-add-a-custom-build-step-to-msbuild-projects.md)|Демонстрируется добавление пользовательского этапа в последовательность сборки.|
|[Практическое руководство. Добавление пользовательских средств сборки в проекты MSBuild](how-to-add-custom-build-tools-to-msbuild-projects.md)|Демонстрируется, как можно связать инструмент сборки с определенным файлом.|
|[Практическое руководство. Интеграция пользовательских средств в свойства проекта](how-to-integrate-custom-tools-into-the-project-properties.md)|Демонстрируется добавление параметров для пользовательского инструмента в свойства проекта.|
|[Практическое руководство. Изменение требуемой версии .NET Framework и набора средств платформы](how-to-modify-the-target-framework-and-platform-toolset.md)|Демонстрируется компиляция проекта для нескольких платформ или наборов инструментов.|

## <a name="see-also"></a>См. также

[Использование набора средств MSVC из командной строки](building-on-the-command-line.md)
