---
title: MSBuild в командной строке - C++
ms.date: 12/12/2018
f1_keywords:
- MSBuild
helpviewer_keywords:
- MSBuild
ms.assetid: 7a1be7ff-0312-4669-adf2-5f5bf507d560
ms.openlocfilehash: 565b1c47b4476fa7cb830e15b978b389f4344ee1
ms.sourcegitcommit: 8105b7003b89b73b4359644ff4281e1595352dda
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2019
ms.locfileid: "57820482"
---
# <a name="msbuild-on-the-command-line---c"></a>MSBuild в командной строке - C++

Как правило мы рекомендуем использовать Visual Studio для задания свойств проекта и вызова системы MSBuild. Тем не менее, можно использовать **MSBuild** средство непосредственно из командной строки. Процесс построения управляется сведения в файл проекта (VCXPROJ-файл), который можно создавать и изменять. В файле проекта указываются параметры сборки, на основе сборки, этапы, условия и события. Кроме того, можно указать ноль или более командной строки *параметры* аргументы.

> **MSBuild.exe** [ *project_file* ] [ *параметры* ]

Используйте **/target** (или **/t**) и **/property** (или **/p**) параметры командной строки, чтобы изменить определенные свойства и целевые объекты, которые являются указан в файле проекта.

Важная функция файла проекта является указание *целевой*, который является конкретной операцией, применяемой для проекта и входов и выходов, которые требуются для выполнения этой операции. Файл проекта можно указать один или несколько целевых объектов, включая целевой объект по умолчанию.

Каждый целевой объект состоит из последовательности из одной или нескольких *задачи*. Каждая задача представляется классом .NET Framework, содержащим одну исполняемую команду. Например [CL-задача](/visualstudio/msbuild/cl-task) содержит [cl.exe](reference/compiling-a-c-cpp-program.md) команды.

A *параметр задачи* свойство класса задачи, обычно представляет параметр командной строки исполняемой команды. Например `FavorSizeOrSpeed` параметр `CL` Задача соответствует **/Os** и **/Ot** Параметры компилятора.

Дополнительные параметры задачи поддерживают инфраструктуру MSBuild. Например `Sources` параметр задачи указывает набор задач, которые могут быть использованы другими задачами. Дополнительные сведения о задачах MSBuild см. в разделе [Справочные сведения о задачах](/visualstudio/msbuild/msbuild-task-reference).

Для большинства задач требуются входные и выходные данные, такие как имена файлов, пути и строки, числовые или логические параметры. Например часто к входным данным — имя исходного CPP-файла для компиляции. Важным входным параметром является строка, указывающая конфигурации сборки и платформы, например, «отладка\|Win32». Входные и выходные данные задаются один или несколько определяемых пользователем XML `Item` элементов, содержащихся в `ItemGroup` элемент.

Файл проекта можно также указать пользовательские *свойства* и `ItemDefinitionGroup` *элементы*. Свойства и элементы формируют пары имя/значение, которые можно использовать в качестве переменных при построении. Компонент имени пары определяет *макрос*, а компонент значения объявляет *значение макроса*. Макрос свойств осуществляется с помощью $(*имя*) нотации и макрос элемента осуществляется с помощью %(*имя*) нотации.

Другие элементы XML в файле проекта можно тестировать макросы и затем условно значение любого макроса или контролировать выполнение построения. Имена макросов и строковые литералы можно сцепить для создания конструкций, таких как путь и имя файла. В командной строке **/property** Задает или переопределяет свойства проекта. Элементы нельзя ссылаться в командной строке.

Система MSBuild может условно выполнить целевой объект до или после другого целевого объекта. Кроме того эта система может построить целевой объект на основании ли целевой объект использует файлы новее, чем выдаваемые им файлы.

Дополнительные сведения о MSBuild см. в разделе:

- [MSBuild](/visualstudio/msbuild/msbuild) основные понятия Обзор из MSBuild.

- [Справочник по MSBuild](/visualstudio/msbuild/msbuild-reference) справочные сведения о системе MSBuild.

- [Справочник по схеме файла проекта](/visualstudio/msbuild/msbuild-project-file-schema-reference) перечислены элементы схемы XML MSBuild, и их атрибутов и родительских и дочерних элементов. Обратите внимание, особенно [ItemGroup](/visualstudio/msbuild/itemgroup-element-msbuild), [PropertyGroup](/visualstudio/msbuild/propertygroup-element-msbuild), [целевой](/visualstudio/msbuild/target-element-msbuild), и [задачи](/visualstudio/msbuild/task-element-msbuild) элементы.

- [Справочник по командной строке](/visualstudio/msbuild/msbuild-command-line-reference) описаны аргументы командной строки и параметры, которые можно использовать с помощью msbuild.exe.

- [Задача ссылку](/visualstudio/msbuild/msbuild-task-reference) задачи описывает MSBuild. Особое внимание уделите данным задачам, относящиеся к Visual C++: [Задача BscMake](/visualstudio/msbuild/bscmake-task), [CL-задача](/visualstudio/msbuild/cl-task), [cppclean-задача](/visualstudio/msbuild/cppclean-task), [LIB-задача](/visualstudio/msbuild/lib-task), [задача Link](/visualstudio/msbuild/link-task), [задача MIDL](/visualstudio/msbuild/midl-task), [MT-задача](/visualstudio/msbuild/mt-task), [задача RC](/visualstudio/msbuild/rc-task), [задача SetEnv](/visualstudio/msbuild/setenv-task), [vcmessage-задача](/visualstudio/msbuild/vcmessage-task)

## <a name="in-this-section"></a>В этом разделе

|Термин|Определение|
|----------|----------------|
|[Пошаговое руководство: Использование MSBuild для создания проекта Visual C++](walkthrough-using-msbuild-to-create-a-visual-cpp-project.md)|Демонстрирует, как создать проект Visual C++ с помощью **MSBuild**.|
|[Практическое руководство. Использование событий сборки в проектах MSBuild](how-to-use-build-events-in-msbuild-projects.md)|Показано, как указать действие, которое происходит на определенном этапе построения: перед началом сборки; Перед началом этапа компоновки; или после завершения построения.|
|[Практическое руководство. Добавление пользовательского шага сборки в проекты MSBuild](how-to-add-a-custom-build-step-to-msbuild-projects.md)|Демонстрирует способы добавления пользовательского этапа построения последовательности.|
|[Практическое руководство. Добавление пользовательских средств сборки в проекты MSBuild](how-to-add-custom-build-tools-to-msbuild-projects.md)|Описание способа сопоставления средства построения с определенным файлом.|
|[Практическое руководство. Интеграция пользовательских средств в свойства проекта](how-to-integrate-custom-tools-into-the-project-properties.md)|Показано, как добавить параметры для пользовательского средства в свойствах проекта.|
|[Практическое руководство. Изменение требуемой версии .NET Framework и набора средств платформы](how-to-modify-the-target-framework-and-platform-toolset.md)|Показан способ компиляции проекта для нескольких платформ или наборы инструментов.|

## <a name="see-also"></a>См. также

[Использование набора средств MSVC из командной строки](building-on-the-command-line.md)
