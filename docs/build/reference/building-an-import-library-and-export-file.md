---
title: Построение библиотеки импорта и файла экспорта
ms.date: 09/05/2018
f1_keywords:
- VC.Project.VCLibrarianTool.ModuleDefinitionFile
- VC.Project.VCLibrarianTool.ExportNamedFunctions
- VC.Project.VCLibrarianTool.GenerateDebug
- VC.Project.VCLibrarianTool.ForceSymbolReferences
helpviewer_keywords:
- OUT library manager option
- INCLUDE library manager option
- /DEF library manager option
- exporting data
- import libraries, building
- -INCLUDE library manager option
- /OUT library manager option
- DEF library manager option
- -DEF library manager option
- -OUT library manager option
- /INCLUDE library manager option
- -EXPORT library manager option
- exporting data, export (.exp) files
- /EXPORT library manager option
- EXPORT library manager option
- .lib files
- EXP files
ms.assetid: 2fe4f30a-1dd6-4b05-84b5-0752e1dee354
ms.openlocfilehash: 5cb5224b3edaf84dbcb7c0429044a647fb5ac19a
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87229757"
---
# <a name="building-an-import-library-and-export-file"></a>Построение библиотеки импорта и файла экспорта

Чтобы создать библиотеку импорта и файл экспорта, используйте следующий синтаксис:

> **Lib/DEF**[**:**<em>деффиле</em>] [*Параметры*] [*обжфилес*] [*библиотеки*]

Если указан параметр/DEF, программа LIB создает выходные файлы из спецификаций экспорта, которые передаются в команду LIB. Существует три метода для указания экспортов, которые перечислены в рекомендуемом порядке использования:

1. **`__declspec(dllexport)`** Определение в одном из *обжфилес* или *библиотек*

1. Спецификация имени/EXPORT:*имя* в командной строке lib

1. Определение в инструкции **EXPORTS** в *деффиле*

Это те же методы, которые используются для указания экспорта при связывании программы экспорта. Программа может использовать более одного метода. Можно указать части команды LIB (например, несколько спецификаций *обжфилес* или/Export) в командном файле команды LIB так же, как и в команде LINK.

Следующие параметры применяются для создания библиотеки импорта и файла экспорта.

> **/Out:** *Импорт*

Переопределяет имя выходного файла по умолчанию для создаваемой библиотеки *импорта* . Если параметр/OUT не указан, имя по умолчанию — это базовое имя первого объектного файла или библиотеки в команде LIB и Extension. lib. Файлу экспорта присваивается то же базовое имя, что и для библиотеки импорта, и расширение Exp.

> **/Export:** *Имязаписи* \[ **=** *интерналнаме*] \[ , **\@** <em>Ordinal</em> \[ , **Name**]] \[ , **Data**]

Экспортирует функцию из программы, чтобы разрешить другим программам вызывать функцию. Можно также экспортировать данные (с помощью ключевого слова **Data** ). Экспорты обычно определяются в библиотеке DLL.

*Имязаписи* — это имя функции или элемента данных, которое будет использоваться вызывающей программой. При необходимости можно указать *интерналнаме* в качестве функции, известной в определяющей программе; по умолчанию *интерналнаме* имеет то же значение, что и параметр *Имязаписи*. *Порядковый номер* указывает индекс в таблице экспорта в диапазоне от 1 до 65 535; Если *порядковый номер*не указан, lib назначает ее. Ключевое слово « **имя** » экспортирует функцию только в качестве порядкового номера без типа *Имязаписи*. Ключевое слово **Data** используется для экспорта объектов, предназначенных только для данных.

> **/Include:** *символ*

Добавляет указанный *символ* в таблицу символов. Этот параметр полезен для принудительного использования объекта библиотеки, который в противном случае не будет включен.

Обратите внимание, что при создании библиотеки импорта на предварительном этапе перед созданием библиотеки DLL необходимо передать один и тот же набор объектных файлов при сборке DLL-файла, как было передано при построении библиотеки импорта.

## <a name="see-also"></a>См. также статью

[Работа с библиотеками импорта и файлами экспорта](working-with-import-libraries-and-export-files.md)
