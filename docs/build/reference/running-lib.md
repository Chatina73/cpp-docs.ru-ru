---
title: Запуск программы LIB
description: Описание параметров командной строки, которые можно использовать с программой LIB. exe.
ms.date: 09/25/2019
f1_keywords:
- VC.Project.VCLibrarianTool.TargetMachine
- Lib
- VC.Project.VCLibrarianTool.PrintProgress
- VC.Project.VCLibrarianTool.SuppressStartupBanner
helpviewer_keywords:
- -MACHINE target platform option
- command files, LIB
- MACHINE target platform option
- colon command files
- VERBOSE library manager option
- /NOLOGO library manager option
- dash option specifier
- /MACHINE target platform option
- forward slash option specifier
- -NOLOGO library manager option
- LIB [C++], running LIB
- -VERBOSE library manager option
- /VERBOSE library manager option
- command files
- NOLOGO library manager option
- slash (/)
- semicolon, command files
- / command files
ms.assetid: d54f5c81-7147-4b2c-a8db-68ce6eb1eabd
ms.openlocfilehash: 0d65c8d8b3b0cd28c7cccda25bfd9512321172f9
ms.sourcegitcommit: 1e6386be9084f70def7b3b8b4bab319a117102b2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2019
ms.locfileid: "71685540"
---
# <a name="running-lib"></a>Запуск программы LIB

Для управления LIB можно использовать различные параметры командной строки.

## <a name="lib-command-line"></a>Командная строка LIB

Чтобы запустить программу LIB, введите команду `lib`, а затем укажите параметры и имена файлов для задачи, которую вы используете для выполнения программы LIB. LIB также принимает входные данные командной строки в командных файлах, которые описаны в следующем разделе. LIB не использует переменную среды.

## <a name="lib-command-files"></a>Командные файлы LIB

Аргументы командной строки можно передать в LIB в командном файле с помощью следующего синтаксиса:

> <em>Файл команд</em> **lib \@**

Файл *Command-File* — это текстовый файл. Между символом @ ( **\@** ) и именем файла не допускаются пробелы и символы табуляции. Имя *командного файла* не имеет расширения по умолчанию; необходимо указать полное имя файла, включая любое расширение. Подстановочные знаки использовать нельзя. Можно указать абсолютный или относительный путь с именем файла.

В командном файле аргументы могут быть разделены пробелами или символами табуляции, как это можно сделать в командной строке. Аргументы также можно разделять символами новой строки. Чтобы пометить комментарий, используйте точку с запятой ( **;** ). LIB игнорирует весь текст от точки с запятой до конца строки.

В командном файле можно указать либо все, либо часть командной строки, а в команде LIB можно использовать более одного командного файла. LIB принимает ввод командного файла, как если бы он был указан в этом расположении в командной строке. Командные файлы не могут быть вложенными. LIB отображает содержимое командных файлов, если не используется параметр **/nologo** .

## <a name="using-lib-options"></a>Использование параметров LIB

Параметр состоит из спецификатора Option, который является либо тире ( **-** ), либо косой чертой ( **/** ), а затем именем параметра. Имена параметров не могут быть сокращены. Некоторые параметры принимают аргумент, указанный после двоеточия ( **:** ). В спецификации параметров не допускаются пробелы и символы табуляции. Используйте один или несколько пробелов или символов табуляции для разделения спецификаций параметров в командной строке. Имена параметров и их ключевые слова или имена файлов не учитывают регистр, но идентификаторы, используемые в качестве аргументов, чувствительны к регистру. LIB обрабатывает параметры в порядке, указанном в командной строке и в командных файлах. Если параметр повторяется с другими аргументами, последний из них имеет приоритет.

Следующие параметры применяются ко всем режимам работы с LIB:

> **/ERRORREPORT** \[**NONE** &#124; &#124; &#124; **ОТПРАВКА**ОЧЕРЕДИ ЗАПРОСОВ]

Если программа lib. exe завершает работу во время выполнения, можно использовать **/errorreport** для отправки в корпорацию Майкрософт сведений об этих внутренних ошибках.

Дополнительные сведения о параметре **/errorreport**см. в разделе [/errorreport (отчет о внутренних ошибках компилятора)](errorreport-report-internal-compiler-errors.md).

> **/Линкрепро:** _directory-Path_ \
> **/Линкрепротаржет:** _имя файла_

Чтобы помочь корпорации Майкрософт в диагностике сбоев и внутренних ошибок программы lib. exe, можно использовать параметр [/линкрепро](linkrepro.md) . Он создает *ссылку*для воспроизведения, набор артефактов сборки, которые позволяют корпорации Майкрософт воспроизвести проблему, возникающую во время операций с библиотекой. Параметр [/линкрепротаржет](linkreprotarget.md) можно использовать с параметром **/линкрепро** . Он создает только артефакты для воспроизведения ссылок, когда программа lib. exe создает указанный файл. Дополнительные сведения см. в разделе [как сообщить о проблеме с набором C++ инструментов Майкрософт](../../overview/how-to-report-a-problem-with-the-visual-cpp-toolset.md).

> **/LTCG**

"LTCG" означает *Создание кода во время компоновки*. Эта функция требует взаимодействия между компилятором ([CL. exe](compiler-options.md)), lib и компоновщиком ([Link](linker-options.md)) для оптимизации кода, помимо того, что любой компонент может сделать.

Для LIB параметр **/LTCG** указывает, что входные данные из CL. exe включают объектные файлы, созданные с помощью параметра компилятора [/GL](gl-whole-program-optimization.md) . Если LIB обнаруживает такие входы и не указан параметр **/LTCG** , то после отображения информационного сообщения он будет перезапущен с включенным параметром/LTCG. Иными словами, нет необходимости явно задавать этот параметр, но это ускоряет производительность сборки, поскольку LIB не перезапускает саму себя.

В процессе сборки выходные данные из библиотеки LIB отправляются в LINK. LINK имеет собственный отдельный параметр **/LTCG** . Он используется для выполнения различных операций оптимизации, включая оптимизацию всей программы и инструментирование с использованием профильной оптимизации (PGO). Дополнительные сведения о параметре LINK см. в разделе [/LTCG](ltcg-link-time-code-generation.md).

> **/MACHINE**

Указывает целевую платформу для программы. Обычно не требуется указывать параметр **/Machine**. LIB выводит тип компьютера из OBJ-файлов. Однако в некоторых случаях программа LIB не может определить тип компьютера и выдает сообщение об ошибке. При возникновении такой ошибки укажите **/Machine**. В режиме **/Extract** этот параметр предназначен только для проверки. Используйте `lib /?` в командной строке, чтобы просмотреть доступные типы компьютеров.

> **/NOLOGO**

Отключает отображение сообщения об авторских правах и номера версии LIB и предотвращает вывод командных файлов.

> **/VERBOSE**

Отображает сведения о ходе выполнения сеанса, включая имена добавляемых OBJ-файлов. Эти сведения отправляются в стандартный вывод и могут быть перенаправлены в файл.

> **/WX**[ **: NO**]

Обрабатывать предупреждения как ошибки. Дополнительные сведения см. в разделе [Параметр /WX (обработка предупреждений компоновщика как ошибок)](wx-treat-linker-warnings-as-errors.md).

Другие параметры применяются только к конкретным режимам работы LIB. Эти параметры обсуждаются в разделах, описывающих каждый из режимов.

## <a name="see-also"></a>См. также

[Справочник по LIB](lib-reference.md)
