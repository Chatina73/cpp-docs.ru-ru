---
title: Запуск программы LIB
description: Описание параметров командной строки, которые можно использовать с программой LIB. exe.
ms.date: 02/09/2020
f1_keywords:
- VC.Project.VCLibrarianTool.TargetMachine
- Lib
- VC.Project.VCLibrarianTool.PrintProgress
- VC.Project.VCLibrarianTool.SuppressStartupBanner
helpviewer_keywords:
- -MACHINE target platform option
- command files, LIB
- MACHINE target platform option
- colon command files
- VERBOSE library manager option
- /NOLOGO library manager option
- dash option specifier
- /MACHINE target platform option
- forward slash option specifier
- -NOLOGO library manager option
- LIB [C++], running LIB
- -VERBOSE library manager option
- /VERBOSE library manager option
- command files
- NOLOGO library manager option
- slash (/)
- semicolon, command files
- / command files
ms.assetid: d54f5c81-7147-4b2c-a8db-68ce6eb1eabd
ms.openlocfilehash: 0688365fa83edcacd901321fead48c9c98df2faf
ms.sourcegitcommit: 8414cd91297dea88c480e208c7b5301db9972f19
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2020
ms.locfileid: "77257563"
---
# <a name="running-lib"></a>Запуск программы LIB

Для управления LIB можно использовать различные параметры командной строки.

## <a name="lib-command-line"></a>Командная строка LIB

Чтобы запустить программу LIB, введите команду `lib`, а затем укажите параметры и имена файлов для задачи, для которой вы используете LIB. LIB также принимает входные данные командной строки в командных файлах, которые описаны в следующем разделе. LIB не использует переменную среды.

## <a name="lib-command-files"></a>Командные файлы LIB

Аргументы командной строки можно передать в LIB в командном файле с помощью следующего синтаксиса:

> <em>Файл команд</em> **lib \@**

Файл *Command-File* — это текстовый файл. Пробелы и символы табуляции не допускаются между символом ( **\@** ) и именем файла. Имя *командного файла* не имеет расширения по умолчанию. Укажите полное имя файла, включая любое расширение. Подстановочные знаки использовать нельзя. Вы можете указать абсолютный или относительный путь с именем файла.

В командном файле аргументы могут быть разделены пробелами или символами табуляции, как это можно сделать в командной строке. Аргументы также можно разделять символами новой строки. Чтобы пометить комментарий, используйте точку с запятой ( **;** ). LIB игнорирует весь текст от точки с запятой до конца строки.

В командном файле можно указать либо все, либо часть командной строки, а в команде LIB можно использовать более одного командного файла. LIB принимает ввод командного файла, как если бы он был указан в этом расположении в командной строке. Командные файлы не могут быть вложенными. LIB отображает содержимое командных файлов, если не используется параметр **/nologo** .

## <a name="using-lib-options"></a>Использование параметров LIB

Параметр состоит из спецификатора Option, который является либо тире ( **-** ), либо косой чертой ( **/** ), за которой следует имя параметра. Имена параметров не могут быть сокращены. Некоторые параметры принимают аргумент, указанный после двоеточия ( **:** ). В спецификации параметров не допускаются пробелы и символы табуляции. Используйте один или несколько пробелов или символов табуляции для разделения спецификаций параметров в командной строке. Имена параметров и их ключевые слова или имена файлов не учитывают регистр, но идентификаторы, используемые в качестве аргументов, чувствительны к регистру. LIB обрабатывает параметры в порядке, указанном в командной строке и в командных файлах. Если параметр повторяется с другими аргументами, последний из них имеет приоритет.

Следующие параметры применяются ко всем режимам работы с LIB:

> **/Errorreport** \[**None** &#124; , **Отправка** **очереди** &#124; **запросов** &#124; ]

Параметр/ERRORREPORT является устаревшим. Начиная с Windows Vista, Управление отчетами об ошибках осуществляется с помощью параметров [отчеты об ошибках Windows (WER)](/windows/win32/wer/windows-error-reporting) .

> **/Линкрепро:** _directory-Path_ \
> **/Линкрепротаржет:** _имя файла_

Чтобы помочь корпорации Майкрософт в диагностике сбоев и внутренних ошибок программы lib. exe, можно использовать параметр [/линкрепро](linkrepro.md) . Этот параметр создает *ссылку*для воспроизведения, набор артефактов сборки, которые позволяют корпорации Майкрософт воспроизвести проблему, возникающую во время операций с библиотекой. Параметр [/линкрепротаржет](linkreprotarget.md) можно использовать с параметром **/линкрепро** . Он создает только артефакты для воспроизведения ссылок, когда программа lib. exe создает указанный файл. Дополнительные сведения см. в разделе [как сообщить о проблеме с набором C++ инструментов Майкрософт](../../overview/how-to-report-a-problem-with-the-visual-cpp-toolset.md).

> **/LTCG**

"LTCG" означает *Создание кода во время компоновки*. Эта функция требует взаимодействия между компилятором ([CL. exe](compiler-options.md)), lib и компоновщиком ([Link](linker-options.md)). Вместе они могут оптимизировать код, помимо того, что может сделать любой компонент.

Параметр **/LTCG** для lib указывает, что входные данные из CL. exe включают объектные файлы, созданные с помощью параметра компилятора [/GL](gl-whole-program-optimization.md) . Если LIB обнаруживает такие входные данные, а параметр **/LTCG** не указан, он перезапускается с включенным параметром/LTCG после отображения информационного сообщения. Иными словами, нет необходимости явно задавать этот параметр, но это ускоряет производительность сборки. Это обусловлено тем, что LIB не должен перезапускать саму себя.

В процессе сборки выходные данные из библиотеки LIB отправляются в LINK. LINK имеет собственный отдельный параметр **/LTCG** . Он используется для выполнения различных операций оптимизации, включая оптимизацию всей программы и инструментирование с использованием профильной оптимизации (PGO). Дополнительные сведения о параметре LINK см. в разделе [/LTCG](ltcg-link-time-code-generation.md).

> **/MACHINE**

Указывает целевую платформу для программы. Обычно не требуется указывать параметр **/Machine**. LIB выводит тип компьютера из OBJ-файлов. Однако в некоторых случаях программа LIB не может определить тип компьютера и выдает сообщение об ошибке. При возникновении такой ошибки укажите **/Machine**. В режиме **/Extract** этот параметр предназначен только для проверки. Для просмотра доступных типов компьютеров используйте `lib /?` из командной строки.

> **/NOLOGO**

Отключает отображение сообщения об авторских правах и номера версии LIB и предотвращает вывод командных файлов.

> **/VERBOSE**

Отображает сведения о ходе выполнения сеанса, включая имена добавляемых OBJ-файлов. Эти сведения отправляются в стандартный вывод и могут быть перенаправлены в файл.

> **/WX**[ **: No**]

Обрабатывать предупреждения как ошибки. Дополнительные сведения см. в разделе [Параметр /WX (обработка предупреждений компоновщика как ошибок)](wx-treat-linker-warnings-as-errors.md).

Другие параметры применяются только к конкретным режимам работы LIB. Эти параметры обсуждаются в разделах, описывающих каждый из режимов.

## <a name="see-also"></a>См. также:

[Справочник по LIB](lib-reference.md)
