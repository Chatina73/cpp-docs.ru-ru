---
title: /EXPORT (экспортирует функцию)
ms.date: 09/05/2018
f1_keywords:
- VC.Project.VCLinkerTool.ExportFunctions
- /export
helpviewer_keywords:
- /EXPORT linker option
- EXPORT linker option
- -EXPORT linker option
ms.assetid: 0920fb44-a472-4091-a8e6-73051f494ca0
ms.openlocfilehash: 7c4f4621bbccd4285bcf4eca07d2544d53d14f6c
ms.sourcegitcommit: 8105b7003b89b73b4359644ff4281e1595352dda
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2019
ms.locfileid: "57819861"
---
# <a name="export-exports-a-function"></a>/EXPORT (экспортирует функцию)

Экспортирует функцию по имени или порядковому номеру или данных, из программы.

## <a name="syntax"></a>Синтаксис

> **/ EXPORT:**<em>имя</em>[**,\@**<em>порядковый номер</em>[**, NONAME**]] [**, данных**]

## <a name="remarks"></a>Примечания

**/EXPORT** параметр задает для элемента данных или функции, чтобы экспортировать из программы таким образом, другие программы могут вызвать функцию или использовать данные. Экспорт обычно определяется в библиотеке DLL.

*Имя* является имя элемента данных или функции, как он будет использоваться вызывающей программой. *Порядковый номер* определяет индекс в таблице экспорта в диапазоне от 1 до 65535; Если вы не укажете *порядковый номер*, ссылка назначает один. **NONAME** ключевое слово экспортирует функцию только по порядковому номеру, без *имя*.

**Данных** ключевое слово указывает, что экспортированный элемент является элементом данных. Элемент данных в клиентской программе должен быть объявлен с помощью **extern __declspec(dllimport)**.

Существует четыре метода экспорта определения, перечислены в порядке предпочтительности использования:

1. [__declspec(dllexport)](../../cpp/dllexport-dllimport.md) в исходном коде

1. [ЭКСПОРТОВ](exports.md) инструкции в DEF-файла

1. Спецификации/Export в команде LINK

1. Объект [комментарий](../../preprocessor/comment-c-cpp.md) директив в исходном коде, в формате `#pragma comment(linker, "/export: definition ")`.

Все эти методы можно использовать в одной программе. Когда программа LINK создает программу, содержащую экспорты, она также создает библиотеку импорта, если только не используется файл EXP в сборке.

LINK использует декорированную форму идентификаторов. Компилятор добавляет идентификатор, создавая OBJ-файле. Если *имя* указывается для компоновщика в его недекорированной форме (как оно отображается в исходном коде) ССЫЛКУ пытается соответствовать имени. Если не удается найти уникальное соответствие, ссылка выдает сообщение об ошибке. Используйте [DUMPBIN](dumpbin-reference.md) средство, чтобы получить [декорированное имя](decorated-names.md) форма идентификатора при необходимости укажите его в компоновщик.

> [!NOTE]
> Не указывайте декорированную форму идентификаторов C, объявляются `__cdecl` или `__stdcall`.

Если вам нужно экспортировать имени объявление функции, а у различных операций экспорта в зависимости от конфигурации сборки (например, в 32-разрядная или 64-разрядных сборок), можно использовать различные DEF-файлы для каждой конфигурации. (В DEF-файлы не допускаются условные директивы препроцессора.) Кроме того, можно использовать `#pragma comment` директиву перед объявлением функции, как показано ниже, где `PlainFuncName` недекорированное имя, и `_PlainFuncName@4` декорированное имя функции:

```cpp
#pragma comment(linker, "/export:PlainFuncName=_PlainFuncName@4")
BOOL CALLBACK PlainFuncName( Things * lpParams)
```

### <a name="to-set-this-linker-option-in-the-visual-studio-development-environment"></a>Задание данного параметра компоновщика в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Дополнительные сведения см. в разделе [свойств компилятора и собранной задать C++ в Visual Studio](../working-with-project-properties.md).

1. Выберите **свойства конфигурации** > **компоновщика** > **командной строки** страницу свойств.

1. Введите параметр в **Дополнительные параметры** поле.

### <a name="to-set-this-linker-option-programmatically"></a>Задание данного параметра компоновщика программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.AdditionalOptions%2A>.

## <a name="see-also"></a>См. также

[Справочник по компоновщику MSVC](linking.md)<br/>
[Параметры компоновщика MSVC](linker-options.md)
