---
description: Дополнительные сведения о:/ORDER (размещение функций по порядку)
title: /ORDER (размещение функций по порядку)
ms.date: 09/05/2018
f1_keywords:
- VC.Project.VCLinkerTool.FunctionOrder
- /order
helpviewer_keywords:
- ORDER linker option
- -ORDER linker option
- LINK tool [C++], program optimizing
- /ORDER linker option
- LINK tool [C++], swap tuning
- paging, optimizing
ms.assetid: ecf5eb3e-e404-4e86-9a91-4e5ec157261a
ms.openlocfilehash: 36888cbb24c869d06eaaa5830b95ae76fc42b860
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97226354"
---
# <a name="order-put-functions-in-order"></a>/ORDER (размещение функций по порядку)

Укажите порядок ссылок для отдельных функций с упаковкой (COMDAT).

## <a name="syntax"></a>Синтаксис

> **/Order: \@** <em>имя файла</em>

### <a name="parameters"></a>Параметры

*filename*<br/>
Текстовый файл, указывающий порядок ссылок для функций COMDAT.

## <a name="remarks"></a>Комментарии

Параметр компилятора **/Order** позволяет оптимизировать поведение подкачки программы, группируя функцию вместе с функциями, которые она вызывает. Можно также сгруппировать часто называемые функции вместе. Эти методы, которые называют оптимизацией *настройки* или *оптимизации разбиения* на страницы, увеличивают вероятность того, что вызываемая функция находится в памяти, когда она требуется и не должна быть связана с диском.

При компиляции исходного кода в объектный файл можно указать компилятору разместить каждую функцию в отдельный раздел, называемый *COMDAT*, используя параметр компилятора [/Gy (включить компоновку на уровне функций)](gy-enable-function-level-linking.md) . Параметр компоновщика **/Order** указывает компоновщику поместить COMDAT в исполняемый образ в указанном порядке.

Чтобы указать порядок COMDAT, создайте *файл ответов*— текстовый файл со списком всех записей COMDAT по имени (по одному на строку) в том порядке, в котором они должны быть помещены компоновщиком. Передайте имя этого файла в качестве параметра *filename* параметра **/Order** . Для функций C++ имя COMDAT является декорированной формой имени функции. Используйте недекорированное имя для функций C, `main` и для функций C++, объявленных как `extern "C"` . Имена функций и декорированные имена зависят от регистра. Дополнительные сведения о декорированных именах см. в разделе [декорированные имена](decorated-names.md).

Чтобы найти декорированные имена файлов COMDAT, используйте параметр [/SYMBOLS](symbols.md) средства [dumpbin](dumpbin-reference.md) для объектного файла. Компоновщик автоматически добавляет символ подчеркивания ( **\_** ) к именам функций в файле ответов, если имя не начинается с вопросительного знака (**?**) или знака ( **\@** ). Например, если исходный файл, example. cpp, содержит функции `int cpp_func(int)` `extern "C" int c_func(int)` и `int main(void)` , команда `DUMPBIN /SYMBOLS example.obj` выводит список этих декорированных имен:

```Output
...
088 00000000 SECT1A notype ()    External     | ?cpp_func@@YAHH@Z (int __cdecl cpp_func(int))
089 00000000 SECT22 notype ()    External     | _c_func
08A 00000000 SECT24 notype ()    External     | _main
...
```

В этом случае укажите имена в виде `?cpp_func@@YAHH@Z` , `c_func` и `main` в файле ответов.

Если в параметрах компоновщика отображается более одного параметра **/Order** , Последнее заданное значение вступает в силу.

Параметр **/Order** отключает инкрементную компоновку. При указании этого параметра может появиться предупреждение компоновщика [LNK4075](../../error-messages/tool-errors/linker-tools-warning-lnk4075.md) , если включена инкрементная компоновка или если задан параметр компилятора [/Zi (добавочный PDB)](z7-zi-zi-debug-information-format.md) . Чтобы избежать этого предупреждения, можно воспользоваться параметром [/incremental: No](incremental-link-incrementally.md) компоновщика, чтобы отключить инкрементную компоновку, и использовать параметр компилятора [/Zi (Generate PDB)](z7-zi-zi-debug-information-format.md) для создания PDB без инкрементной компоновки.

> [!NOTE]
> LINK не может упорядочивать статические функции, так как имена статических функций не являются общедоступными именами символов. Если указано значение **/Order** , то для каждого символа в файле ответов Order, который является статическим или не найден, создается предупреждение компоновщика [LNK4037](../../error-messages/tool-errors/linker-tools-warning-lnk4037.md) .

### <a name="to-set-this-linker-option-in-the-visual-studio-development-environment"></a>Задание данного параметра компоновщика в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Подробнее см. в статье [Настройка компилятора C++ и свойства сборки в Visual Studio](../working-with-project-properties.md).

1. Выберите   >    >  страницу свойств **Оптимизация** компоновщика свойств конфигурации.

1. Измените свойство **порядок функции** , чтобы оно содержало имя файла ответов.

### <a name="to-set-this-linker-option-programmatically"></a>Задание данного параметра компоновщика программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.FunctionOrder%2A>.

## <a name="see-also"></a>См. также раздел

[Справочник по компоновщику MSVC](linking.md)<br/>
[Параметры компоновщика MSVC](linker-options.md)
