---
title: '/Zc: Хидденфриенд (принудительное применение правил скрытого дружественного языка C++)'
description: 'Сведения о параметре компилятора Microsoft C++/Zc: Хидденфриенд для согласованной или ослабленной скрытой дружественной совместимости.'
ms.date: 01/23/2021
f1_keywords:
- /Zc:hiddenFriend
helpviewer_keywords:
- /Zc:hiddenFriend
- Zc:hiddenFriend
- -Zc:hiddenFriend
ms.openlocfilehash: 5a3487cc4899cf6a07e91dc5ce5b7cd8f8784737
ms.sourcegitcommit: 74e58bee5cffb30b66e17be6dbfde2544369638e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/25/2021
ms.locfileid: "98766871"
---
# <a name="zchiddenfriend-enforce-standard-c-hidden-friend-rules"></a>`/Zc:hiddenFriend` (Применить правила скрытых дружественных правил C++)

Указывает, что компилятор соответствует стандарту обработки скрытых дружественных функций и шаблонов функций C++.

## <a name="syntax"></a>Синтаксис

> **`/Zc:hiddenFriend`**\[**`-`**]

## <a name="remarks"></a>Remarks

**`/Zc:hiddenFriend`** Параметр позволяет подмножеству [`/permissive-`](permissive-standards-conformance.md) поведения параметра. Он указывает компилятору на соответствие стандарту для скрытых друзей. Компилятор включает в себя только скрытые друзья в [поиске с зависимостью от аргументов](../../cpp/argument-dependent-name-koenig-lookup-on-functions.md) (ADL) для явных экземпляров или параметров шаблона включающего типа класса. Ограничение позволяет использовать скрытые друзья для сохранения операций с типом, применяемым к неявным преобразованиям. Этот параметр может повысить скорость сборки в коде, который не может использоваться иным образом [`/permissive-`](permissive-standards-conformance.md) .

*Скрытый дружественный* элемент — это **`friend`** шаблон функции или функции, объявленный только в определении шаблона класса или класса. По умолчанию компилятор Microsoft C++ не удаляет скрытые объявления дружественных функций в качестве кандидатов для разрешения перегрузки везде, где это должно быть. Это поведение может замедлить работу компилятора, включая скрытые дружественные функции в качестве возможных кандидатов в более контекстах.

Стандартное поведение скрытого дружественного C++ включено по умолчанию в **`/permissive-`** . Чтобы задать устаревшее поведение скрытого дружественного доступа при **`/permissive-`** указании параметра, используйте **`/Zc:hiddenFriend-`** . Для использования модулей C++ 20 требуется стандартное поведение скрытого дружественного доступа.

**`/Zc:hiddenFriend`** Параметр доступен начиная с Visual Studio 2019 версии 16,4.

Примеры поведения компилятора при указании **`/Zc:hiddenFriend`** см. в разделе [скрытые дружественные правила поиска имен](./permissive-standards-conformance.md#hidden-friend-name-lookup-rules).

### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Подробнее см. в статье [Настройка компилятора C++ и свойства сборки в Visual Studio](../working-with-project-properties.md).

1. Выберите страницу свойств **Свойства конфигурации**  >  **C/C++**  >  **Командная строка** .

1. Измените свойство **Дополнительные параметры** на включить *`/Zc:hiddenFriend`* или *`/Zc:hiddenFriend-`* и нажмите кнопку **ОК**.

## <a name="see-also"></a>См. также раздел

[`/Zc` Соответствия](zc-conformance.md)\
[`/permissive-`](permissive-standards-conformance.md)
