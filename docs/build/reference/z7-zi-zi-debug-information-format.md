---
title: /Z7, /Zi, /ZI (формат отладочной информации)
ms.date: 02/22/2018
f1_keywords:
- VC.Project.VCCLCompilerTool.DebugInformationFormat
- /ZI
- /Zi
- /Z7
- VC.Project.VCCLWCECompilerTool.DebugInformationFormat
helpviewer_keywords:
- C7 compatible compiler option [C++]
- Debug Information Format compiler option
- ZI compiler option
- -Zi compiler option [C++]
- /ZI compiler option [C++]
- Z7 compiler option [C++]
- debugging [C++], debug information files
- Zi compiler option [C++]
- /Zi compiler option [C++]
- program database compiler option [C++]
- full symbolic debugging information
- /Z7 compiler option [C++]
- line numbers only compiler option [C++]
- cl.exe compiler, debugging options
- -Z7 compiler option [C++]
ms.openlocfilehash: 1beab7cb1e8e654d25620eb59a9326f5628ce047
ms.sourcegitcommit: 8105b7003b89b73b4359644ff4281e1595352dda
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/14/2019
ms.locfileid: "57816325"
---
# <a name="z7-zi-zi-debug-information-format"></a>/Z7, /Zi, /ZI (формат отладочной информации)

Указывает тип отладочных данных, созданных для программы, и место хранения этой информации в объектных файлах или в файл базы данных (PDB) программы.

## <a name="syntax"></a>Синтаксис

> **/Z**{**7**|**i**|**I**}

## <a name="remarks"></a>Примечания

При компиляции кода и построения в режиме отладки, компилятор создает имена символов для функции и переменные, сведения о типе и расположений номера строки для использования в отладчике. Это символьная отладочная информация может быть включено в том случае, либо в файлах объектов (OBJ-файлы), созданные компилятором, или в отдельном файле PDB (PDB-файл) для исполняемого файла.  В следующих разделах описаны параметры формата сведения отладки.

### <a name="none"></a>Нет

По умолчанию, если указан параметр format сведения без отладки, компилятор отладочная информация не создается, и компиляция выполняется быстрее.

### <a name="z7"></a>/Z7

**/Z7** параметр создает файлы объектов, которые также содержат полной символической отладочной информации для использования с отладчиком. Эти объектные файлы и построенный исполняемый файл может быть значительно больше, чем файлы, имеющие отладочная информация не. Символьная отладочная информация включает имена и типы переменных, а также функции и номера строк. Файл PDB-ФАЙЛ, не создается.

Для распространителей сторонних библиотек отладочных версий является преимуществом с отсутствием PDB-файл. Тем не менее файлы объектов для любого предкомпилированные заголовки необходимы этапе компоновки библиотеки, а также для отладки. Если существует только информация о типах (без кода) в объект PCH-файл, необходимо также использовать [/Yl (ввести ссылку PCH для библиотеки отладки)](yl-inject-pch-reference-for-debug-library.md) параметр, который включен по умолчанию при построении библиотеки.

[/Gm (включение минимального перепостроения)](gm-enable-minimal-rebuild.md) параметр недоступен при **/Z7** указан.

### <a name="zi"></a>/ZI

**/ZI** создает отдельный файл PDB-ФАЙЛ, содержащий все символьная отладочная информация для использования с отладчиком. Отладочная информация не включается в объектных файлах или исполняемого файла, благодаря чему их намного меньше.

Использование **/ZI** не влияет на оптимизацию. Тем не менее **/ZI** подразумевает, что **/debug**; см. в разделе [/Debug (создать отладочную информацию)](debug-generate-debug-info.md) Дополнительные сведения.

При указании обоих **/ZI** и **/CLR**, <xref:System.Diagnostics.DebuggableAttribute> атрибут не помещается в метаданных сборки. Если требуется, его необходимо указать в исходном коде. Этот атрибут может повлиять на производительность приложения во время выполнения. Дополнительные сведения о том, как **Debuggable** атрибут влияет на производительность и влияние на производительность, можно изменить, см. в разделе [упрощение образов для отладки](/dotnet/framework/debug-trace-profile/making-an-image-easier-to-debug).

Компилятор имя файлу PDB *проекта*PDB-файл. При компиляции файла вне проекта, компилятор создает PDB-файл с именем VC*x*PDB-файле, где *x* представляет собой объединение основной и дополнительный номер версии компилятора используется. Компилятор внедряет имя PDB-ФАЙЛ и идентифицирующий подпись с меткой времени в каждом файле объекта, созданных с помощью этого параметра, которое указывает отладчику расположение данных, символьных и номер строки. Имя и подпись в PDB-файл должен соответствовать исполняемый файл для символов, должен быть загружен в отладчик. С помощью отладчика WinDBG можно загрузить символы, несовпадающие `.symopt+0x40` команды. Visual Studio не поддерживает подобную возможность загрузить несовпадающие символы.

При создании библиотеки из объектов, которые были скомпилированы с помощью **/ZI**, связанный файл PDB должны быть доступны, когда библиотека связано с программой. Таким образом Если вместе с библиотекой, необходимо также передать PDB-файл. Чтобы создать библиотеку, содержащую отладочную информацию без использования PDB-файлы, необходимо выбрать **/Z7** параметр. Если вы используете параметры предкомпилированных заголовков, отладочную информацию для предкомпилированного заголовка и остальная часть исходного кода помещается в PDB-файл.

### <a name="zi"></a>/ZI

**/ZI** похоже **/ZI**, но он создает PDB-файл в формате, поддерживающем [изменить и продолжить](/visualstudio/debugger/edit-and-continue-visual-cpp) функции. Чтобы использовать изменить и продолжить, возможности отладки, необходимо использовать этот параметр. "Изменить и продолжить" полезна для разработчиков, но может привести к проблемам в соответствие размера, производительности и компилятора кода. Поскольку большинство видов оптимизации несовместимы с изменить и продолжить, с помощью **/ZI** отменяет любые `#pragma optimize` операторами в коде. **/ZI** также не совместим с использование [ &#95; &#95;строки&#95; &#95; предустановленный макрос](../../preprocessor/predefined-macros.md); кода, компилируемого с **/ZI** нельзя использовать **&#95; &#95;Строки&#95; &#95;** как аргумент шаблона, не являющийся типом, несмотря на то что **&#95; &#95;строки&#95; &#95;** может использоваться в расширения макроса.

**/ZI** предписывает оба [/Gy (включение компоновки на уровне функций)](gy-enable-function-level-linking.md) и [/FC (полный путь из файлу исходного кода в диагностике)](fc-full-path-of-source-code-file-in-diagnostics.md) параметры, используемые при компиляции.

**/ ZI** не совместим с [/CLR (компиляция CLR)](clr-common-language-runtime-compilation.md).

> [!NOTE]
> **/ZI** параметр доступен только в компиляторах, предназначенных для процессоров x86 и x64; этот параметр компилятора недоступен в компиляторах, предназначенных для процессоров ARM.

### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Дополнительные сведения см. в разделе [свойств компилятора и собранной задать C++ в Visual Studio](../working-with-project-properties.md).

1. Откройте **свойства конфигурации** > **C/C++** > **Общие** страницу свойств.

1. Изменить **формат отладочной информации** свойство. Выберите **ОК** для сохранения внесенных изменений.

### <a name="to-set-this-compiler-option-programmatically"></a>Установка данного параметра компилятора программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.DebugInformationFormat%2A>.

## <a name="see-also"></a>См. также

[Параметры компилятора MSVC](compiler-options.md)<br/>
[Синтаксис командной строки компилятора MSVC](compiler-command-line-syntax.md)

