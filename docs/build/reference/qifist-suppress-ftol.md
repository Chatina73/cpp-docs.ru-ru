---
description: Дополнительные сведения о:/QIfist (отключение _ftol)
title: /QIfist (Suppress _ftol)
ms.date: 11/04/2016
f1_keywords:
- /qifist
helpviewer_keywords:
- QIfist compiler option [C++]
- -QIfist compiler option [C++]
- /QIfist compiler option [C++]
ms.assetid: 1afd32a5-f658-4b66-85f4-e0ce4cb955bd
ms.openlocfilehash: 79e9242d66b532f558307d05b222b2fd8cfd43ab
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2020
ms.locfileid: "97225652"
---
# <a name="qifist-suppress-_ftol"></a>/QIfist (Suppress _ftol)

Не рекомендуется. Подавляет вызов вспомогательной функции `_ftol` при необходимости преобразования из типа с плавающей запятой в целочисленный тип.

## <a name="syntax"></a>Синтаксис

```
/QIfist
```

## <a name="remarks"></a>Remarks

> [!NOTE]
> Параметр **/QIfist** доступен только в компиляторе, предназначенном для платформы x86; Этот параметр компилятора недоступен в компиляторах, предназначенных для x64 Орарм.

Помимо преобразования типа с плавающей запятой в целочисленный тип, `_ftol` функция гарантирует, что режим округления в единицах с плавающей запятой (FPU) приближается к нулю (усечение), задавая биты 10 и 11 для управляющего слова. Это гарантирует, что преобразование из типа с плавающей запятой в целочисленный тип происходит, как описано в стандарте ANSI C (дробная часть числа отбрасывается). При использовании **/QIfist** эта гарантия больше не применяется. Режим округления будет одним из четырех, как описано в справочных руководствах Intel:

- Округление до ближайшего числа (даже число, если эквидистантная)

- Округление в сторону отрицательной бесконечности

- Округлить в сторону плюс бесконечности

- Округление в сторону нуля

Чтобы изменить режим округления FPU, можно использовать функцию [_control87, _controlfp \_ _control87_2](../../c-runtime-library/reference/control87-controlfp-control87-2.md) C Run-Time. По умолчанию FPU имеет режим округления по кругу в ближайшем направлении. Использование параметра **/QIfist** может повысить производительность приложения, но без риска. Следует тщательно протестировать части кода, которые чувствительны к режимам округления, прежде чем полагаться на код, построенный с помощью параметра **/QIfist** в рабочей среде.

[/Arch (x86)](arch-x86.md) и **/QIfist** нельзя использовать в одном компилируемого объекта.

> [!NOTE]
> Параметр **/QIfist** не действует по умолчанию, поскольку округление битов также влияет на операцию округления с плавающей запятой (что происходит после каждого вычисления), поэтому при задании флагов для округления в стиле C (в сторону нуля) вычисления с плавающей точкой могут отличаться. Параметр **/QIfist** не следует использовать, если код зависит от ожидаемого поведения усечения дробной части числа с плавающей запятой. Если вы не уверены, не используйте параметр **/QIfist**.

Параметр **/QIfist** устарел, начиная с Visual Studio 2005. Компилятор сделал значительные улучшения в скорости преобразования с плавающей запятой на int. Список устаревших параметров компилятора см. в разделе **устаревшие и удаленные параметры** компилятора в [параметрах компилятора, перечисленных по категориям](compiler-options-listed-by-category.md).

### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Подробнее см. в статье [Настройка компилятора C++ и свойства сборки в Visual Studio](../working-with-project-properties.md).

1. Откройте папку **C/C++** .

1. Выберите страницу свойств **Командная строка** .

1. Введите параметр компилятора в поле **Дополнительные параметры** .

### <a name="to-set-this-compiler-option-programmatically"></a>Установка данного параметра компилятора программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.

## <a name="see-also"></a>См. также раздел

[Параметры/q (низкоуровневые операции)](q-options-low-level-operations.md)<br/>
[Параметры компилятора MSVC](compiler-options.md)<br/>
[Синтаксис Command-Line компилятора КОМПИЛЯТОРОМ MSVC](compiler-command-line-syntax.md)
