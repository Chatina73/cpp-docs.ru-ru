---
title: Программа MFC или управление файлами исходного кода и заголовков
ms.date: 11/04/2016
helpviewer_keywords:
- file types [C++], MFC source and header
ms.assetid: f61419a8-bf69-4bbb-8f7c-1734be5e6db6
ms.openlocfilehash: 6a6561e993016e70764186114e1f7cabd93cdc2d
ms.sourcegitcommit: fc1de63a39f7fcbfe2234e3f372b5e1c6a286087
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/15/2019
ms.locfileid: "65707442"
---
# <a name="mfc-program-or-control-source-and-header-files"></a>Программа MFC или управление файлами исходного кода и заголовков

Следующие файлы создаются при создании проекта MFC в Visual Studio с учетом выбранных для него параметров. Например, ваш проект содержит файлы *Имя_проекта*dlg.cpp и *Имя_проекта*dlg.h, только если вы создаете класс или проект на базе диалогового окна.

Все эти файлы находятся в каталоге *Имя_проекта* и в папке файлов заголовков (H) или исходных файлов (CPP) в обозревателе решений.

|Имя файла|Описание|
|---------------|-----------------|
|*Имя_проекта*.h|Основной включаемый файл для программы или библиотеки DLL. Он содержит все глобальные символы и директивы `#include` для других файлов заголовков. Он является производным от класса `CPrjnameApp` из `CWinApp` и объявляет функцию-член `InitInstance`. Для элемента управления класс `CPrjnameApp` является производным от `COleControlModule`.|
|*Имя_проекта*.cpp|Исходный файл основной программы. Он создает один объект класса `CPrjnameApp`, который является производным от `CWinApp`, и переопределяет функцию-член `InitInstance`.<br /><br /> Для исполняемых файлов `CPrjnameApp::InitInstance` выполняет ряд задач. Он регистрирует шаблоны документов, соединяющие документы и представления, создает окно главного фрейма, а также создает пустой документ (или открывает документ, если он указан в качестве аргумента командной строки для приложения).<br /><br /> Для библиотек DLL и элементов управления ActiveX (ранее OLE) `CProjNameApp::InitInstance` регистрирует фабрику объектов элемента управления с помощью OLE, вызвав `COleObjectFactory::RegisterAll`, и вызывает `AfxOLEInit`. Кроме того, функция-член `CProjNameApp::ExitInstance` используется для выгрузки элемента управления из памяти посредством вызова **AfxOleTerm**.<br /><br /> Этот файл также выполняет регистрацию и ее отмену для элемента управления в базе данных регистрации Windows, реализуя функции `DllRegisterServer` и `DllUnregisterServer`.|
|*Имя_проекта*ctrl.h, *Имя_проекта*ctrl.cpp|Объявляют и реализуют класс `CProjnameCtrl`. `CProjnameCtrl` является производным от `COleControl`, кроме того, определены базовые реализации некоторых функций-членов, которые инициализируют, отрисовывают и сериализуют (загружают и сохраняют) элемент управления. Также определяются схемы диспетчеризации, сообщения и события.|
|*Имя_проекта*dlg.cpp, *Имя_проекта*dlg.h|Создаются при выборе приложения на базе диалогового окна. Эти файлы наследуют и реализуют класс диалогового окна `CProjnameDlg`, а также содержат базовые функции-члены для инициализации диалогового окна и обмена данными диалогового окна (DDX). Класс диалогового окна "О программе" также находится в этих файлах, а не в файле *Имя_проекта*.cpp.|
|Dlgproxy.cpp, Dlgproxy.h|В программе на базе диалогового окна это файл реализации и заголовка для прокси-класса автоматизации проекта для главного диалогового окна. Используется, только если вы выбрали поддержку автоматизации.|
|*Имя_проекта*doc.cpp, *Имя_проекта*doc.h|Наследуют и реализуют класс документа `CProjnameDoc`, а также содержат базовые функции-члены для инициализации документа, сериализации (сохранения и загрузки) документа и реализации отладочной диагностики.|
|*Имя_проекта*set.h/.cpp|Создается при создании программы, которая поддерживает базу данных и содержит класс набора записей.|
|*Имя_проекта*view.cpp, *Имя_проекта*view.h|Наследуют и реализуют класс представления `CProjnameView`, используемый для отображения и печати данных документа. Класс `CProjnameView` является производным от одного из следующих классов MFC:<br /><br />- [CEditView](../../mfc/reference/ceditview-class.md)<br />- [CFormView](../../mfc/reference/cformview-class.md)<br />- [CRecordView](../../mfc/reference/crecordview-class.md)<br />- [COleDBRecordView](../../mfc/reference/coledbrecordview-class.md)<br />- [CTreeView](../../mfc/reference/ctreeview-class.md)<br />- [CListView](../../mfc/reference/clistview-class.md)<br />- [CRichEditView](../../mfc/reference/cricheditview-class.md)<br />- [CScrollView](../../mfc/reference/cscrollview-class.md)<br />- [CView](../../mfc/reference/cview-class.md)<br />- [CHTMLView](../../mfc/reference/chtmlview-class.md)<br />- [CHTMLEditView](../../mfc/reference/chtmleditview-class.md)<br /><br /> Класс представления проекта содержит базовые функции-члены для отрисовки представления и реализации отладочной диагностики. Если включена поддержка печати, записи схемы сообщений добавляются для сообщений команд печати, настройки печати и предварительного просмотра печати. Эти записи вызывают соответствующие функции-члены в базовом классе представления.|
|*Имя_проекта*PropPage.h, *Имя_проекта*PropPage.cpp|Объявляют и реализуют класс `CProjnamePropPage`. `CProjnamePropPage` является производным от `COlePropertyPage` и базовой функцией-членом, `DoDataExchange`, предоставляется для реализации обмена данными и их проверки.|
|IPframe.cpp, IPframe.h|Создается, если на странице **Параметры автоматизации** (шаг 3 из 6) мастера приложений выбран параметр мини-сервера или полного сервера. Эти файлы наследуют и реализуют класс окна фрейма на месте с именем **CInPlaceFrame**, используемый, когда сервер активируется на месте программой контейнера.|
|Mainfrm.cpp, Mainfrm.h|Создают производный класс **CMainFrame** от [CFrameWnd](../../mfc/reference/cframewnd-class.md) (для приложений SDI) или [CMDIFrameWnd](../../mfc/reference/cmdiframewnd-class.md) (для приложений MDI). Класс **CMainFrame** обрабатывает создание кнопок панели инструментов и строки состояния, если на странице **Параметры приложения** (шаг 4 из 6) мастера приложений выбраны соответствующие параметры. Сведения об использовании **CMainFrame** см. в разделе [Классы окна фрейма, создаваемые с помощью мастера приложений](../../mfc/frame-window-classes-created-by-the-application-wizard.md).|
|Childfrm.cpp, Childfrm.h|Создают производный класс **CChildFrame** от [CMDIChildWnd](../../mfc/reference/cmdichildwnd-class.md). Класс **CChildFrame** используется для окон фрейма документов MDI. Эти файлы всегда создаются при выборе параметра MDI.|

## <a name="see-also"></a>См. также

[Типы файлов, создаваемых для проектов Visual Studio C++](file-types-created-for-visual-cpp-projects.md)<br>
[Программа ATL или управление файлами исходного кода и заголовков](atl-program-or-control-source-and-header-files.md)<br>
[Проекты CLR](files-created-for-clr-projects.md)
