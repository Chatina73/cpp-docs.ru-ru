---
title: /GENPROFILE, /FASTGENPROFILE (создание инструментированной сборки профилирования)
ms.date: 03/14/2018
f1_keywords:
- GENPROFILE
- FASTGENPROFILE
- /GENPROFILE
- /FASTGENPROFILE
helpviewer_keywords:
- GENPROFILE
- FASTGENPROFILE
ms.assetid: deff5ce7-46f5-448a-b9cd-a7a83a6864c6
ms.openlocfilehash: e703c94d4a8b7cf7c70e68071959b775987f1710
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50496451"
---
# <a name="genprofile-fastgenprofile-generate-profiling-instrumented-build"></a>/GENPROFILE, /FASTGENPROFILE (создание инструментированной сборки профилирования)

Задает создание PGD-файла компоновщиком для поддержки профильной оптимизации (PGO). **/ GENPROFILE** и **/fastgenprofile** использовать разные параметры по умолчанию. Используйте **/genprofile** когда точность важнее скорости и использования памяти во время профилирования. Используйте **/fastgenprofile** предпочитать меньшего размера использование памяти и скорости важнее точности.

## <a name="syntax"></a>Синтаксис

> **/ GENPROFILE**[**:**{[**COUNTER32**|**COUNTER64**] | [ **EXACT**|**NOEXACT**] | **MEMMAX =**_#_|**MEMMIN =**_#_| [ **Путь**|**NOPATH** ] | [ **TRACKEH** |**NOTRACKEH** ] | **PGD =**_filename_}]<br/>
> **/ FASTGENPROFILE**[**:**{[**COUNTER32**|**COUNTER64**] | [ **EXACT**|**NOEXACT**] | **MEMMAX =**_#_|**MEMMIN =**_#_| [ **Путь**|**NOPATH** ] | [ **TRACKEH** |**NOTRACKEH** ] | **PGD =**_filename_}]

### <a name="arguments"></a>Аргументы

Для любой из следующих аргументов может быть указан **/genprofile** или **/fastgenprofile**. Аргументы, перечисленные здесь, разделенная вертикальной линией (**|**) символ являются взаимоисключающими. Используйте запятую (**,**) символ для разделения параметров.

**COUNTER32** &AMP;#124; **COUNTER64**<br/>
Используйте **COUNTER32** позволяет указать использование 32-разрядных счетчиков проб, и **COUNTER64** для указания 64-разрядных счетчиков проб. При указании **/genprofile**, по умолчанию используется **COUNTER64**. При указании **/fastgenprofile**, по умолчанию используется **COUNTER32**.

**ТОЧНОЕ** &AMP;#124; **NOEXACT**<br/>
Используйте **EXACT** для указания поточно ориентированные заблокированные приращения для проб. **NOEXACT** указывает незащищенные операции приращения для проб. По умолчанию используется **NOEXACT**.

**MEMMAX**=*значение*, **MEMMIN**=*значение*<br/>
Используйте **MEMMAX** и **MEMMIN** для указания минимального и максимального зарезервированные размеры для обучающих данных в памяти. Значение представляет резервируемый объем памяти в байтах. По умолчанию эти значения определяются внутренней эвристикой.

**ПУТЬ** &AMP;#124; **NOPATH**  <br/>
Используйте **путь** указать отдельный набор счетчиков профильной Оптимизации для каждого уникального пути к функции. Используйте **NOPATH** указать только один набор счетчиков для каждой функции. При указании **/genprofile**, по умолчанию используется **путь** . При указании **/fastgenprofile**, по умолчанию используется **NOPATH** .

**TRACKEH** &AMP;#124; **NOTRACKEH**  <br/>
Указывает, следует ли использовать дополнительные счетчики для ведения точного подсчета возникновения исключений во время обучения. Используйте **TRACKEH** чтобы указать дополнительные счетчики для точного подсчета. Используйте **NOTRACKEH** чтобы указать один счетчик для кода, который не использует исключения или обработки, не возникать исключения в сценариях обучения.  При указании **/genprofile**, по умолчанию используется **TRACKEH** . При указании **/fastgenprofile**, по умолчанию используется **NOTRACKEH** .

**PGD**=*имя файла*<br/>
Указывает имя базового файла для PGD-файла. По умолчанию компоновщик использует имя базового исполняемого файла образа с расширением PGD.

## <a name="remarks"></a>Примечания

**/Genprofile** и **/fastgenprofile** параметры указать компоновщику создать файл инструментирования профилирования, необходимые для поддержки обучения приложения для профильной оптимизации (PGO). Эти параметры являются возможности Visual Studio 2015. Предпочитать эти параметры на устаревший **/LTCG: PGINSTRUMENT**, **/PGD** и **/POGOSAFEMODE** параметры и **PogoSafeMode**,  **VCPROFILE_ALLOC_SCALE** и **VCPROFILE_PATH** переменные среды. Данные профилирования, созданные при обучении приложения, используются как входные данные для выполнения направленной оптимизации всей программы во время построений. Можно задать дополнительные параметры для управления различными функциями профилирования для повышения производительности во время обучения приложений и построений. Параметры по умолчанию, определяемое **/genprofile** обеспечивают наиболее точные результаты, особенно для больших и сложных многопоточных приложений. **/Fastgenprofile** параметр использует различные значения по умолчанию для объем используемой памяти и повышения производительности во время обучения за счет точности.

Данные профилирования регистрируются при выполнении инструментированного приложения после построения с помощью **/genprofile** из **/fastgenprofile**. Эта информация сохраняется в том случае, когда вы указываете [/useprofile](useprofile.md) параметр компоновщика, чтобы выполнить профилирование, шаг, а затем использовать вспомогательными шаг оптимизированном построении. Дополнительные сведения об обучении приложений и сведения о собираемых данных, см. в разделе [профильной оптимизации](profile-guided-optimizations.md).

Необходимо также указать **/LTCG** при указании **/genprofile** или **/fastgenprofile**.

### <a name="to-set-this-linker-option-in-the-visual-studio-development-environment"></a>Задание данного параметра компоновщика в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Дополнительные сведения см. в разделе [свойств проекта Visual C++ параметр](../../ide/working-with-project-properties.md).

1. Выберите **свойства конфигурации** > **компоновщика** > **командной строки** страницу свойств.

1. Введите **/genprofile** или **/fastgenprofile** параметры и аргументы в **Дополнительные параметры** поле. Выберите **ОК** для сохранения изменений.

### <a name="to-set-this-linker-option-programmatically"></a>Задание данного параметра компоновщика программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCLinkerTool.AdditionalOptions%2A>.

## <a name="see-also"></a>См. также

[Настройка параметров компоновщика](../../build/reference/setting-linker-options.md)<br/>
[Параметры компоновщика](../../build/reference/linker-options.md)<br/>
[/LTCG (создание кода во время компоновки)](../../build/reference/ltcg-link-time-code-generation.md)<br/>
