---
title: Создание проекта makefile C++ в Visual Studio
ms.date: 12/08/2018
f1_keywords:
- vc.appwiz.makefile.project
helpviewer_keywords:
- Makefile projects, creating
- project files [C++], Makefile projects
ms.assetid: dd077af3-97a8-48fb-baaa-cf7e07ddef61
ms.openlocfilehash: 9c2edfe35233672e8117d336ba40cfea497b1a22
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62272351"
---
# <a name="create-a-c-makefile-project"></a>Создание проекта C++ makefile

Объект *makefile* представляет собой текстовый файл с инструкциями по компиляции и компоновке (или *сборке*) некоторого набора файлов исходного кода C++. Программа *make* считывает файл makefile и вызывает компилятор, компоновщик и другие программы для создания исполняемого файла. Внедрение корпорацией Майкрософт *сделать* вызывается программа [NMAKE](nmake-reference.md);

Если у вас есть существующий проект Makefile, который вы хотите развивать и (или) отлаживать в интегрированной среде разработки Visual Studio, у вас есть следующие варианты.

- Создание проекта makefile в Visual Studio, который ваш существующий файл makefile для настройки VCXPROJ-файл, который будет использовать Visual Studio для IntelliSense. (Вам будут доступны не все возможности интегрированной среды разработки, которые есть в собственном проекте MSBuild.) См. также раздел [о создании проекта Makefile](#create_a_makefile_project) ниже.
- Используйте мастер **создания нового проекта из существующих файлов кода**, чтобы создать собственный проект MSBuild из исходного кода. Исходный файл makefile не будет использоваться после этого. Дополнительные сведения см. в разделе [Как создать проект C++ из существующего кода](../how-to-create-a-cpp-project-from-existing-code.md).
- **Visual Studio 2017 и более поздних версий**: Используйте **открыть папку** функции для редактирования и сборки проекта makefile как-без участия системы MSBuild. Дополнительные сведения см. в статье [Проекты "Открыть папку" для C++](../open-folder-projects-cpp.md).

## <a name="a-namecreateamakefileproject-to-create-a-makefile-project-with-the-makefile-project-template"></a><a name="create_a_makefile_project"> Создание проекта makefile с использованием шаблона проекта makefile

В Visual Studio 2017 и более поздних версиях шаблон проекта Makefile доступен, если установлена рабочая нагрузка разработки классических приложений на C++.

Используйте мастер, чтобы указать команды и среду, используемые файлом makefile. Этот проект можно затем использовать для создания кода в Visual Studio.

По умолчанию проект makefile не отображает в обозревателе решений никаких файлов. Проект makefile задает параметры сборки, которые показаны на странице свойств проекта.

Выходной файл, который задается в проекте, не влияет на имя, которое формирует скрипт построения; он указывает только на намерения. Файл makefile по-прежнему управляет процессом сборки и указывает ее целевые объекты.

1. На начальной странице Visual Studio введите строку "makefile" в поле поиска **Новый проект**. Или же откройте диалоговое окно **Новый проект**, разверните узел **Visual C++** > **Общие** (Visual Studio 2015) или **Прочие** (Visual Studio 2017) и в области шаблонов выберите **Проект Makefile**, чтобы открыть мастер проектов.

1. На странице **Параметры приложения** предоставьте сведения о команде, выводе, удалении и перестроении для отладочной и окончательной сборок.

1. Нажмите кнопку **Готово**, чтобы закрыть мастер и открыть вновь созданный проект в **обозревателе решений**.

На этой странице свойств можно просматривать и изменять свойства проекта. См. в разделе [свойств компилятора и собранной задать C++ в Visual Studio](../working-with-project-properties.md) сведения об отображении страницы свойств.

## <a name="makefile-project-wizard"></a>Мастер проекта makefile

После создания проекта makefile, можно просмотреть и изменить каждый из следующих параметров в **Nmake** страницы свойств проекта.

- **Командная строка построения:** Определяет командную строку для запуска, когда пользователь выбирает сборки из меню "сборка". Отображается в поле построения командной строки на странице (NMAKE) страницы свойств проекта.

- **Выходные данные:** Определяет имя файла, который будет содержать выходные данные для командной строки. По умолчанию этот параметр основан на имени проекта. Отображается в поле вывода на странице (NMAKE) страницы свойств проекта.

- **Команды очистки:** Определяет командную строку для запуска, когда пользователь выбирает очистить меню "сборка". Отображается в поле Командная строка для очистки страницы Nmake страницы свойств проекта.

- **Перестройте командной строки:** Определяет командную строку для запуска, когда пользователь выбирает перестроения из меню "сборка". Отображаются в перестроение всех полей командной строки на странице (NMAKE) страницы свойств проекта.

## <a name="how-to-enable-intellisense-for-makefile-projects"></a>Практическое руководство. Использование IntelliSense для проектов Makefile

IntelliSense не в проектах makefile, если определенные параметры проекта или параметры компилятора настроены неправильно. Выполните следующие действия для настройки проектов makefile, таким образом, чтобы функция IntelliSense работает должным образом.

1. Откройте диалоговое окно **Страницы свойств**. Дополнительные сведения см. в разделе [свойств компилятора и собранной задать C++ в Visual Studio](../working-with-project-properties.md).

1. Разверните узел **Свойства конфигурации**.

1. Выберите страницу свойств **NMake** и соответствующим образом измените свойства в разделе **IntelliSense**.

   - Задайте свойство **Определения препроцессора**, чтобы определить символы препроцессора в проекте makefile. Дополнительные сведения см. в разделе [/D (определения препроцессора)](d-preprocessor-definitions.md).

   - Задайте свойство **Путь поиска включаемых файлов**, чтобы указать список каталогов, где компилятор будет производить поиск для разрешения ссылок на файлы, передаваемых в директивы препроцессора в новом проекте makefile. Дополнительные сведения см. в разделе [/I (дополнительные каталоги включения)](i-additional-include-directories.md).

    - Для проектов, созданных с использованием CL.EXE из командного окна, задайте переменную среды **INCLUDE**, чтобы указать каталоги, где компилятор будет производить поиск для разрешения ссылок на файлы, передаваемых в директивы препроцессора в новом проекте makefile.

   - Задайте свойство **Принудительно включаемые файлы**, чтобы указать файлы заголовков, обрабатываемые при сборке проекта makefile. Дополнительные сведения см. в разделе [/FI (имя принудительно включаемого файла)](fi-name-forced-include-file.md).

   - Задайте свойство **Путь поиска сборок**, чтобы указать список каталогов, где компилятор будет производить поиск для разрешения ссылок на сборки .NET в проекте. Дополнительные сведения см. в разделе [/AI (указание каталогов метаданных)](ai-specify-metadata-directories.md).

   - Задайте свойство **Обязательно используемые сборки**, чтобы указать, какие сборки .NET обрабатываются при сборке проекта makefile. Дополнительные сведения см. в разделе [/FU (именование файла с принудительно используемым атрибутом #using)](fu-name-forced-hash-using-file.md).

   - Задайте свойство **Дополнительные параметры**, чтобы указать дополнительные параметры компилятора, которые должны использоваться IntelliSense при анализе файлов C++.

1. Нажмите кнопку **ОК**, чтобы закрыть страницы свойств.

1. Используйте команду **Сохранить все**, чтобы сохранить измененные параметры проекта.

При следующем открытии проекта makefile в среде разработки Visual Studio запустите команду **Очистить решение**, а затем — команду **Собрать решение** для проекта makefile. Технология IntelliSense должна работать в интегрированной среде разработки правильно.

## <a name="see-also"></a>См. также

[Использование технологии IntelliSense](/visualstudio/ide/using-intellisense)<br>
[Справочник по программе NMAKE](nmake-reference.md)<br>
[Практическое руководство. Создание проекта C++ из существующего кода](../how-to-create-a-cpp-project-from-existing-code.md)
[специальные символы в файле Makefile](special-characters-in-a-makefile.md)<br/>
[Содержимое файла Makefile](contents-of-a-makefile.md)<br/>
