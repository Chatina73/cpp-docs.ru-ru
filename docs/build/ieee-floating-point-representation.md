---
title: IEEE-представление с плавающей точкой
ms.date: 05/06/2019
helpviewer_keywords:
- float keyword
- real*8 value
- floating-point numbers, IEEE representation
- double data type, floating-point representation
- IEEE floating point representation
- real*10 value
- long double
- real*4 value
ms.assetid: 537833e8-fe05-49fc-8169-55fd0314b195
ms.openlocfilehash: 130a79ae6846df27ffabfd6cb6649e0a0de03e4b
ms.sourcegitcommit: da32511dd5baebe27451c0458a95f345144bd439
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65220621"
---
# <a name="ieee-floating-point-representation"></a>IEEE-представление с плавающей точкой

Microsoft C++ (MSVC) согласуется со стандартом IEEE числовых. В стандарте IEEE-754 описаны форматы с плавающей запятой, способ представления вещественных чисел в оборудовании. Существует по крайней мере пять внутренние форматы чисел с плавающей запятой, которые можно представить в оборудования, используемая компилятором MSVC, но только компилятор использует два из них. *Одиночной точности* (4-байтовое) и *двойной точности* форматы (8-байтные) используются в MSVC. Число одинарной точности объявляется с помощью ключевого слова **float**. Двойной точности объявляется с помощью ключевого слова **двойные**. Стандарт IEEE также указывает *половинной точностью* (2-байтовое) и *четверной одиночной точности* форматы (16-байтные), а также *Повышенная точность двойной* (10-байтовое) формат, который некоторые компиляторы C и C++, реализовывать как **long double** тип данных. В компилятор MSVC **long double** тип данных рассматривается как отдельного типа, но тип хранения сопоставляется **двойные**. Есть, однако встроенные и поддержка языка ассемблера для вычислений с использованием других форматов, включая расширенные-формате двойной точности (10-байтовое), где поддерживается оборудованием.

Значения хранятся следующим образом:

|Значение|Хранятся в виде|
|-----------|---------------|
|одиночная точность|подписать бит, 8-разрядную экспоненту, 23-битной мантиссы|
|двойной точности|подписать бит, 11-разрядную экспоненту, 52-разрядную значащую часть|
|Повышенная точность Double|подписать бит, 15-разрядной экспонентой, 64-разрядную значащую часть|

В форматах одиночной и двойной точности, имеется принятой начального 1 в дробной части, называется *значащей части числа* (и иногда называют *мантиссы*), то есть не хранятся в память, поэтому низшего фактически 24 и 53 бит, несмотря на то, что хранятся только 23 или 52 разряда. Расширенные-формате двойной точности фактически хранится этот бит.

Степени смещены на половину своего возможного значения. Это означает, что следует вычесть данное смещение из хранимой степени, чтобы получить фактический показатель степени. Если хранимая степень меньше, чем смещение, это отрицательная степень.

Степени смещены следующим образом:

|Показатель степени|Смещение|
|--------------|---------------|
|8-разрядное (одинарная точность)|127|
|11-разрядную (двойная точность)|1023|
|15-разрядное (двойной расширенных точности)|16383|

Эти показатели не являются степени числа 10; они представляют собой степени двух. То есть 8-разрядных хранимых степени может варьироваться от -127 до 127, хранятся в виде 0 до 254. Значение 2<sup>127</sup> приблизительно соответствует 10<sup>38</sup>, являющийся фактическое ограничение одиночной точности.

Значащая хранится в виде бинарной доли формы... 1.ххх. Это часть имеет значение больше или равно 1 и меньше, чем 2. Обратите внимание, что вещественных чисел всегда хранятся в *нормализованной форме*; то есть значащая является сдвиг влево таким образом, что бит высокого порядка мантиссы всегда равен 1. Так как этот бит всегда равен 1, предполагается (но не хранится) в форматах одиночной и двойной точности. Предполагается, что двоичной запятой (не decimal) является просто справа от начального 1.

Формат, затем для различных размеров выглядит следующим образом:

|Формат|1 байт|Байт 2|Байт 3|Байтов 4|...|n байт|
|------------|------------|------------|------------|------------|---------|------------|
|одиночная точность| `SXXXXXXX`|`XMMMMMMM`|`MMMMMMMM`|`MMMMMMMM`|||
|двойной точности|`SXXXXXXX`|`XXXXMMMM`|`MMMMMMMM`|`MMMMMMMM`|...|`MMMMMMMM`|
|Повышенная точность Double|`SXXXXXXX`|`XXXXXXXX`|`1MMMMMMM`|`MMMMMMMM`|...|`MMMMMMMM`|

`S` Представляет бита знака, `X`являются смещенной разрядами и `M`биты значащей части числа. Обратите внимание, что это первый бит предполагается, что в форматах одинарной и двойной точности, но присутствует как «1» в 3 байта расширенных-формате двойной точности.

Чтобы сдвинуть двоичной запятой должным образом, вы сначала устранить смещение степени и затем переместить вправо двоичной запятой или соответствующее число битов влево.

## <a name="special-values"></a>Специальные значения

Некоторые значения, которые обрабатываются особым образом форматы с плавающей запятой.

### <a name="zero"></a>Нуль

Невозможно нормализовать ноль, что усложняет сложения в нормализованной форме значение одинарной или двойной точности. Специальные битового шаблона из одних нулей представляет 0. Можно также для представления - 0 как ноль со знаком бит, но - 0 и 0 считаются равными.

### <a name="infinities"></a>Бесконечности действительных

+ ∞ и −∞ значения представляются показатель степени все из них и значащую часть все нули. Бесконечные положительные и отрицательные числа могут быть представлены с помощью знаковым битом.

### <a name="subnormals"></a>Subnormals

Существует возможность представляют собой число меньше величины, чем наименьший нормализованному номеру. Эти номера, называются *subnormal* или *denormal* чисел. Если экспонента имеет все нули и мантиссы имеет ненулевое значение, должно быть равно нулю, не считается неявное начальных бит мантиссы. Точность чисел subnormal выходит из строя, так как возрастает количество начальных нулей в значащей части числа.

### <a name="nan---not-a-number"></a>NaN - не является числом

Возможно, для представления значений, которые не являются действительное число, например 0 / 0, в формате с плавающей запятой IEEE. Значение такого типа называется *NaN*. Значение NaN представляется показателем все из них и мантиссы ненулевое значение. Существует два типа NaN, *quiet* значения NaN или QNaNs, и *сигналов* значения NaN или SNaNs. Тихий NaN иметь начальные один в значащей части числа и обычно распространяются через выражение. Они представляют неопределенное значение, например результат деления бесконечности или умножения бесконечности деления на ноль. Значения NaN указывающее имеют нуля в начале, в значащей части числа. Они используются для операций, которые являются недопустимыми для обозначения исключения с плавающей точкой.

## <a name="examples"></a>Примеры

Ниже приведены некоторые примеры в формате одиночной точности.

- Для значения 2 знаковый бит равен нулю и хранимая степень равно 128 или 1000 0000 в двоичном файле, который является 127 плюс 1. Хранимые двоичных значащей части числа является (1). 000 0000 0000 0000 0000 0000, который имеет неявный начальные и двоичная точку, поэтому фактический значащей части числа.

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |2|1 * 2<sup>1</sup>|0100 0000 0000 0000 0000 0000 0000 0000|0x40000000|

- Значение -2. Аналогично + 2, за исключением того, что бит знака. Это справедливо для всех чисел с плавающей запятой формат IEEE с противоположным знаком.

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |-2|-1 * 2<sup>1</sup>|1100 0000 0000 0000 0000 0000 0000 0000|0xC0000000|

- Значение 4. Одной значащей части числа, показатель степени увеличивается на единицу (смещенной значение равно 129 или 10000001 в двоичном файле.

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |4|1 * 2<sup>2</sup>|0100 0000 1000 0000 0000 0000 0000 0000|0x40800000|

- Значение 6. Та же степень значащей части числа больше на половину — она равна (1). 100 0000 ... 0000 0000, так как это бинарной доли, это 1 1/2, поскольку значения цифр дробной части 1/2, 1/4, 1/8 и т. д.

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |6|1.5 * 2<sup>2</sup>|0100 0000 1100 0000 0000 0000 0000 0000|0x40C00000|

- Значение 1. Одной значащей части числа, как другие степень двойки, смещенной экспонента является единственным меньше 2 на 127 или 011 1111 1 в двоичном файле.

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |1|1 * 2<sup>0</sup>|0011 1111 1000 0000 0000 0000 0000 0000|0x3F800000|

- Значение 0,75. Смещенная степень имеет значение 126, 011 1111 0 в двоичной форме, а также значащей части числа, является (1). 100 0000 ... 0000 0000: 1 1/2.

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |0.75|1.5 * 2<sup>-1</sup>|0011 1111 0100 0000 0000 0000 0000 0000|0x3F400000|

- Значение 2.5. Точно так же, как два кроме тех, которые, представляющий 1/4 бита в значащей части числа.

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |2.5|1.25 * 2<sup>1</sup>|0100 0000 0010 0000 0000 0000 0000 0000|0x40200000|

- 1/10 представляет собой повторяющуюся дробь в двоичном файле. Значащая просто имеют 1.6 и смещенной экспоненты говорит, что 1.6 будет разделено на 16 (это 1 011 1101 в двоичном файле, который является 123 в десятичном формате). Значение true, показатель степени — 123-127 = - 4, это означает, что коэффициент, на который умножается составляет 2<sup>-4</sup> = 1/16. Обратите внимание, что хранимые значащей части числа округляется в сторону в последняя часть — попытка представления сложения числа как можно точнее. (Причина 1/10 и 1/100 — не совсем можно представить в двоичном файле аналогична причине, что 1/3 не совсем представлено в десятичном формате.)

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |0.1|1.6 * 2<sup>-4</sup>|0011 1101 1100 1100 1100 1100 1100 1101|0x3DCCCCCD|

- Нуль является особым случаем, использующей формулу для минимальное возможное представимым положительное значение, являющееся все нули.

   |Значение|Формула|Двоичное представление|Шестнадцатеричный|
   |-|-|-|-|
   |0|1 * 2<sup>-128</sup>|0000 0000 0000 0000 0000 0000 0000 0000|0x00000000|

## <a name="see-also"></a>См. также

[Почему может уменьшиться точность чисел с плавающей запятой](why-floating-point-numbers-may-lose-precision.md)