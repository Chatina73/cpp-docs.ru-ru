---
title: 'Локализованные ресурсы в приложениях MFC: вспомогательные библиотеки DLL'
ms.date: 11/04/2016
helpviewer_keywords:
- multiple language support [C++]
- localization [C++], MFC resources
- localized resources [C++]
- MFC DLLs [C++], localizing
- DLLs [C++], localizing MFC
- resources [MFC], localizing
- resource-only DLLs [C++]
- resource-only DLLs [C++], MFC applications
- satellite DLLs [C++]
ms.assetid: 3a1100ae-a9c8-47b5-adbd-cbedef5992ef
ms.openlocfilehash: 1f512cc17832564b5eb530b97f8bfb2642c43d43
ms.sourcegitcommit: da32511dd5baebe27451c0458a95f345144bd439
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65220739"
---
# <a name="localized-resources-in-mfc-applications-satellite-dlls"></a>Локализованные ресурсы в приложениях MFC: вспомогательные библиотеки DLL

В MFC 7.0 и более поздних версиях имеется расширенная поддержка библиотек спутниковой связи DLL и содержится возможность, которая позволяет создавать приложения, локализованные для различных языков. Вспомогательная библиотека DLL является [библиотекой DLL только для ресурсов](creating-a-resource-only-dll.md), которая содержит ресурсы приложения, локализованные для определенного языка. Когда приложение начинает выполняться, MFC автоматически загружает локализованный ресурс, наиболее подходящий для среды. Например, у вас может быть приложение с ресурсами на английском языке с двумя вспомогательными библиотеками DLL, одна из которых содержит перевод ресурсов на французский язык, а другая — перевод на немецкий язык. При запуске приложения в системе на английском языке используются ресурсы на английском языке. При запуске в системе на французском языке используются ресурсы на французском языке, а запуске в системе на немецком языке — ресурсы на немецком языке.

Для поддержки локализованных ресурсов в приложении MFC MFC пытается загрузить вспомогательную библиотеку DLL, содержащую ресурсы, локализованные для определенного языка. Вспомогательные DLL-библиотеки именуются в формате *имя_приложения_XXX*.dll, где *имя_приложения* — это имя файла EXE или DLL, использующего MFC, а *XXX* — трехбуквенный код для языка ресурсов (например, "RUS" или "DEU").

MFC пытается загрузить DLL-библиотеку ресурсов для каждого из следующих языков по порядку, завершив поиск там, где найдено одно из следующего:

1. Язык пользовательского интерфейса по умолчанию текущего пользователя, возвращенный из API Win32 GetUserDefaultUILanguage().

1. Язык пользовательского интерфейса по умолчанию текущего пользователя без какого-либо конкретного подъязыка (то есть ENC [канадский английский] становится ENU [американский английский]).

1. Язык пользовательского интерфейса по умолчанию системы, возвращаемый API GetSystemDefaultUILanguage(). На других платформах это язык самой ОС.

1. Язык пользовательского интерфейса системы по умолчанию без конкретного подъязыка.

1. Фиктивный язык с 3-буквенным кодом LOC.

Если MFC не удалось найти ни одной вспомогательной библиотеки DLL, используются все ресурсы, содержащиеся в самом приложении.

Например, предположим, что приложение LangExample.exe использует MFC и работает в системе с несколькими пользовательскими интерфейсами; язык пользовательского интерфейса системы — ENU [американский английский], а язык пользовательского интерфейса текущего пользователя — FRC [канадский французский]. MFC выполняет поиск следующих библиотек DLL в следующем порядке.

1. LangExampleFRC.dll (язык пользовательского интерфейса пользователя).

1. LangExampleFRA.dll (язык пользовательского интерфейса пользователя без подъязыка, в данном примере — французский [Франция]).

1. LangExampleENU.dll (язык пользовательского интерфейса системы).

1. LangExampleLOC.dll.

Если ни одна из этих библиотек DLL не найдена, MFC использует ресурсы в файле LangExample.exe.

## <a name="see-also"></a>См. также

[Создание библиотек DLL C/C++ в Visual Studio](dlls-in-visual-cpp.md)<br/>
[TN057. Локализация компонентов MFC](../mfc/tn057-localization-of-mfc-components.md)
