---
title: Совместное использование или повторное использование параметров проекта Visual Studio —C++
ms.date: 07/17/2019
helpviewer_keywords:
- project properties [C++], reusable
ms.openlocfilehash: 49a0153edc5678777c937423ba2bdbd2d92a6a35
ms.sourcegitcommit: 069e3833bd821e7d64f5c98d0ea41fc0c5d22e53
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2019
ms.locfileid: "74303208"
---
# <a name="share-or-reuse-visual-studio-project-settings"></a>Совместное или повторное использование параметров проекта Visual Studio

Чтобы создать настраиваемую группу параметров, которые можно использовать совместно с другими пользователями или многократно использовать в нескольких проектах, используйте **Диспетчер свойств** , чтобы создать *страницу свойств* (файл PROPS) для хранения параметров для каждого типа проекта, который будет использоваться для повторного использования или совместного использования с другими пользователями. Использование страниц свойств гораздо менее подвержено ошибкам, чем другие способы создания "глобальных" параметров. 

> [!IMPORTANT]
> **USER-файлы и связанные с ними проблемы**
>
> В последних версиях Visual Studio использовались глобальные страницы свойств с расширением имени файла USER, которые были расположены в папке \<профиль_пользователя>\AppData\Local\Microsoft\MSBuild\v4.0\. Мы больше не рекомендуем использовать эти файлы, поскольку они определяют свойства для конфигураций проектов для каждого пользователя и для каждого компьютера. Такие "глобальные" параметры могут конфликтовать со сборками, особенно при использовании нескольких целевых платформ на компьютере сборки. Например, при наличии одновременно проекта MFC и проекта Windows Phone свойства USER будут недопустимыми для одного из них. Многократно используемые страницы свойств обеспечивают большую гибкость и надежность.
>
> Хотя USER-файлы по-прежнему устанавливаются средой Visual Studio и участвуют в наследовании свойств, по умолчанию они являются пустыми. Рекомендуется удалить ссылку на эти файлы в **диспетчере свойств**, чтобы гарантировать работу проектов независимо от параметров конкретного пользователя или конкретного компьютера. Это важно для обеспечения правильного поведения в среде управления исходным кодом (SCC).

Чтобы отобразить **Диспетчер свойств**, в строке меню выберите **View** > **диспетчер свойств** или **View** > другие > **Windows** Диспетчер свойств взависимости от параметров.

Если имеется общий, часто используемый набор свойств, которые нужно применить к нескольким проектам, то с помощью **диспетчера свойств** их можно записать в многоразовый файл *страницы свойств*, который по соглашению имеет расширение PROPS. Эту страницу можно применять к новым проектам, чтобы исключить необходимость в задании свойств с нуля.

![Контекстное меню диспетчер свойств](media/sharingnew.png "шарингнев")

Внутри каждого узла конфигурации отображаются узлы для каждой страницы свойств, которая применяется к этой конфигурации. Система добавляет страницы свойств, которые задают значения в зависимости от параметров, выбранных в мастере приложений при создании проекта. Щелкните правой кнопкой мыши любой узел и выберите пункт "Свойства", чтобы просмотреть свойства, применяемые к этому узлу. Все страницы свойств автоматически импортируются в "главную" страницу свойств проекта (ms.cpp.props) и оцениваются в порядке их следования в диспетчере свойств. Вы можете переместить их, чтобы изменить порядок оценки. Страницы свойств, которые оцениваются позже, переопределяют значения ранее оцененных страниц. Дополнительные сведения о порядке вычисления в файле vcxproj, файлах PROPS и targets, переменных среды и командной строке см. в разделе [наследование свойств проекта](project-property-inheritance.md) .

Если щелкнуть команду **Добавить новую страницу свойств проекта**, а затем выбрать, например, страницу свойств MyProps.props, отображается диалоговое окно страницы свойств. Обратите внимание, что оно относится к странице свойств MyProps; все вносимые изменения записываются на эту страницу, а не в файл проекта (с расширением VCXPROJ).

Свойства на странице свойств переопределяются, если то же свойство задано непосредственно в VCXPROJ-файле.

Страницу свойств можно импортировать любое количество раз. Несколько проектов в решении могут наследовать параметры от одной страницы свойств, и проект может иметь несколько страниц. Страница свойств сама может наследовать параметры от другой страницы свойств.

Также можно создать одну страницу свойства для нескольких конфигураций. Для этого создайте страницу свойств для каждой конфигурации, откройте контекстное меню для одной из них, выберите **Добавить существующую страницу свойств** и добавьте другие страницы. Однако если вы используете одну общую страницу свойств, имейте в виду, что при задании свойства оно устанавливается для всех конфигураций, к которым относится лист, и в интегрированной среде разработки не отображаются проекты и другие вкладки свойств, наследуемые от заданной страницы свойств.

В больших решениях, которые будут содержать много проектов, имеет смысл создать страницу свойств на уровне решения. При добавлении проекта к решению используйте **диспетчер свойств** для добавления этой страницы свойств в проект. При необходимости можно добавить новую страницу свойств на уровне проекта для задания значений, относящихся к данному проекту.

> [!IMPORTANT]
> Файл. props по умолчанию не участвует в системе управления версиями, так как он не создается как элемент проекта. Если требуется включить этот файл в систему управления версиями, можно вручную добавить его как элемент решения.

#### <a name="to-create-a-property-sheet"></a>Создание страницы свойств

1. В строке меню выберите **view** > **диспетчер свойств** или **View** > другие > **Диспетчер свойств** **Windows** . Открывается диалоговое окно **Диспетчер свойств**.

2. Чтобы определить область страницы свойств, выберите элемент, к которому она применяется. Это может быть определенная конфигурация или другая страница свойств. Откройте контекстное меню этого элемента и выберите команду **Добавить новую страницу свойств проекта**. Укажите имя и расположение.

3. В **диспетчере свойств** откройте новую страницу свойств, а затем задайте свойства, которые следует включить.
