---
title: Поделиться или повторно использовать настройки проекта Visual Studio - C
ms.date: 07/17/2019
helpviewer_keywords:
- project properties [C++], reusable
ms.openlocfilehash: bcf54be0531c7150c1506eb6f5dda2b5bc95161f
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81328691"
---
# <a name="share-or-reuse-visual-studio-project-settings"></a>Совместное или повторное использование параметров проекта Visual Studio

Чтобы создать пользовательскую группу настроек, которыми можно поделиться другими или повторно использовать в нескольких проектах, используйте **Property Manager** для создания *листа свойств* (.props file) для хранения настроек для каждого вида проекта, который вы хотите иметь возможность повторно использовать или делиться с другими. Использование листов свойств гораздо менее подвержено ошибкам, чем другие способы создания "глобальных" настроек.

> [!IMPORTANT]
> **USER-файлы и связанные с ними проблемы**
>
> В последних версиях Visual Studio использовались глобальные страницы свойств с расширением имени файла USER, которые были расположены в папке \<профиль_пользователя>\AppData\Local\Microsoft\MSBuild\v4.0\. Мы больше не рекомендуем использовать эти файлы, поскольку они определяют свойства для конфигураций проектов для каждого пользователя и для каждого компьютера. Такие "глобальные" параметры могут конфликтовать со сборками, особенно при использовании нескольких целевых платформ на компьютере сборки. Например, при наличии одновременно проекта MFC и проекта Windows Phone свойства USER будут недопустимыми для одного из них. Многократно используемые страницы свойств обеспечивают большую гибкость и надежность.
>
> Хотя USER-файлы по-прежнему устанавливаются средой Visual Studio и участвуют в наследовании свойств, по умолчанию они являются пустыми. Наилучшей практикой является удаление ссылки на них в **Property Manager,** чтобы убедиться, что ваши проекты работают независимо от любых настроек на пользователя, на компьютере Это важно для обеспечения правильного поведения в среде SCC (управление исходным кодом).

Для отображения **менеджера свойств**в панели меню выберите **«Менеджер** > **свойств»** или **«Другой** > менеджер свойств**Windows»** > **Property Manager**в зависимости от настроек.

Если у вас есть распространенный, часто используемый набор свойств, которые вы хотите применить к нескольким проектам, вы можете использовать **менеджер свойств,** чтобы захватить их в многоразовом файле *листа свойств,* который по конвенции имеет расширение имени файла .props. Эту страницу можно применять к новым проектам, чтобы исключить необходимость в задании свойств с нуля.

![Контекстное меню диспетчера свойств](media/sharingnew.png "ОбменНовым")

Внутри каждого узла конфигурации отображаются узлы для каждой страницы свойств, которая применяется к этой конфигурации. Система добавляет страницы свойств, которые задают значения в зависимости от параметров, выбранных в мастере приложений при создании проекта. Щелкните правой кнопкой мыши любой узел и выберите пункт "Свойства", чтобы просмотреть свойства, применяемые к этому узлу. Все страницы свойств автоматически импортируются в "главную" страницу свойств проекта (ms.cpp.props) и оцениваются в порядке их следования в диспетчере свойств. Вы можете переместить их, чтобы изменить порядок оценки. Страницы свойств, которые оцениваются позже, переопределяют значения ранее оцененных страниц. [Дополнительную](project-property-inheritance.md) информацию о порядке оценки можно увидеть в файле .vcxproj, файлах .props и .targets, переменных среды и командной строке.

Если вы выберете **Добавить новый лист свойств проекта,** а затем выберите, например, лист свойства MyProps.props,props, появляется диалоговая будка страницы свойств. Обратите внимание, что оно относится к странице свойств MyProps; все вносимые изменения записываются на эту страницу, а не в файл проекта (с расширением VCXPROJ).

Свойства на странице свойств переопределяются, если то же свойство задано непосредственно в VCXPROJ-файле.

Страницу свойств можно импортировать любое количество раз. Несколько проектов в решении могут наследовать параметры от одной страницы свойств, и проект может иметь несколько страниц. Страница свойств сама может наследовать параметры от другой страницы свойств.

Также можно создать одну страницу свойства для нескольких конфигураций. Для этого создайте лист свойств для каждой конфигурации, откройте меню ярлыка для одного из них, выберите **Добавить существующий лист свойств,** а затем добавьте другие листы. Однако, если вы используете один общий лист свойств, имейте в виду, что при установке свойства, он получает набор для всех конфигураций, что лист применяется к, и что IDE не показывает, какие проекты или другие листы собственности наследуют из данного листа собственности.

В больших решениях, которые будут содержать много проектов, имеет смысл создать страницу свойств на уровне решения. При добавлении проекта к решению используйте **диспетчер свойств** для добавления этой страницы свойств в проект. При необходимости можно добавить новую страницу свойств на уровне проекта для задания значений, относящихся к данному проекту.

> [!IMPORTANT]
> Файл .props по умолчанию не участвует в управлении исходным ресурсом, поскольку он не создан как элемент проекта. Если требуется включить этот файл в систему управления версиями, можно вручную добавить его как элемент решения.

#### <a name="to-create-a-property-sheet"></a>Создание страницы свойств

1. В панели меню выберите **«Менеджер** **свойств»** > или **«Другой** > менеджер свойств**Windows».** > **Property Manager** **Открывается менеджер по недвижимости.**

2. Чтобы определить область страницы свойств, выберите элемент, к которому она применяется. Это может быть определенная конфигурация или другая страница свойств. Откройте меню ярлыка для этого элемента, а затем выберите **Добавить новый лист свойств проекта.** Укажите имя и расположение.

3. В **Property Manager**откройте новый лист свойств, а затем установите свойства, которые вы хотите включить.
