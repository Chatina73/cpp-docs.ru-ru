---
title: Оптимизация кода
ms.date: 05/06/2019
helpviewer_keywords:
- performance, optimizing code
- optimization
- cl.exe compiler, performance
- optimization, C++ code
- code, optimizing
- performance, compiler
ms.openlocfilehash: f44fb734c8441e10b656c5326c8df4bf6879499a
ms.sourcegitcommit: da32511dd5baebe27451c0458a95f345144bd439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2019
ms.locfileid: "65220179"
---
# <a name="optimizing-your-code"></a>Оптимизация кода

Оптимизировав исполняемый файл, можно добиться баланса между высокой скоростью выполнения и небольшим размером кода. В этом разделе рассматриваются некоторые из механизмов, предоставляемых Visual Studio для оптимизации кода.

## <a name="language-features"></a>Возможности языка

Ниже описаны некоторые средства оптимизации на языке C/C++.

[Оптимизации директивы pragma и ключевые слова](optimization-pragmas-and-keywords.md) \
Список ключевых слов и директивы pragma, что в коде можно использовать для повышения производительности.

[Параметры компилятора, упорядоченные по категориям](reference/compiler-options-listed-by-category.md) \
Список **/O** параметры компилятора, которые влияют на скорость выполнения или кода размер.

[Декларатор ссылки rvalue: & &](../cpp/rvalue-reference-declarator-amp-amp.md) \
Ссылки rvalue поддерживают реализацию *семантику перемещения*. Если перемещение семантику, используемые для реализации библиотеки шаблонов, производительность приложения, использующие эти шаблоны может значительно повысить.

### <a name="the-optimize-pragma"></a>Директива pragma optimize

Если раздел оптимизированного кода возникают ошибки или замедление работы, можно использовать [оптимизировать](../preprocessor/optimize.md) директивы pragma, для отключения оптимизации для этого раздела.

Поместите его между двумя директив pragma, как показано ниже:

```cpp
#pragma optimize("", off)
// some code here
#pragma optimize("", on)
```

## <a name="programming-practices"></a>Примеры программирования

Вы можете заметить дополнительных предупреждений, при компиляции кода с оптимизацией. Такое поведение считается нормальным, так как некоторые предупреждения относятся только к оптимизированного кода. Многие оптимизации этих проблем можно избежать, если некоторые моменты.

Парадоксально, но оптимизация быстродействия программы может вызвать код будет работать медленнее. Это, так как некоторые процессы оптимизации быстродействия увеличить размер кода. К примеру, встраивание функций устраняет затраты на вызовы функций. Тем не менее встраивание слишком большого объема кода программы может увеличиться настолько большим, что номер страницы виртуальной памяти увеличивается при сбоях. Таким образом увеличение быстродействия вследствие отказа от вызовов функции могут быть потеряны в памяти подкачки.

В следующих разделах рассматриваются рекомендуемые методы программирования.

[Рекомендации по оптимизации срочного кода](tips-for-improving-time-critical-code.md) \
Более эффективное кодирование методики может привести к повышению производительности. В этом разделе описываются методы, которые помогут вам убедитесь в том, что срочные части кода выполняются удовлетворительно написания кода.

[Рекомендации по оптимизации](optimization-best-practices.md) \
Предоставляет общие рекомендации по оптимизации приложения.

## <a name="debugging-optimized-code"></a>Отладка оптимизированного кода

Оптимизация может изменить код, созданный компилятором, поэтому рекомендуется отладки приложения и измерения его производительности и затем оптимизации кода.

В следующих разделах приводятся сведения об отладке версии сборки.

- [Отладка в Visual Studio](/visualstudio/debugger/debugging-in-visual-studio)

- [Практическое руководство. Отладка оптимизированного кода](/visualstudio/debugger/how-to-debug-optimized-code)

- [Почему может уменьшиться точность чисел с плавающей запятой](why-floating-point-numbers-may-lose-precision.md)


Ниже представлены сведения об оптимизации создания, загрузки и выполнения кода.

- [Улучшение производительности компилятора](improving-compiler-throughput.md)

- [При использовании имен функций без скобок () код не создается](using-function-name-without-parens-produces-no-code.md)

- [Оптимизация встроенного кода на языке ассемблера](../assembler/inline/optimizing-inline-assembly.md)

- [Настройка оптимизации компилятора для проекта ATL](../atl/reference/specifying-compiler-optimization-for-an-atl-project.md)

- [Способы оптимизации следует использовать для повышения производительности клиентского приложения при загрузке?](../build/dll-frequently-asked-questions.md#mfc_optimization)


## <a name="in-this-section"></a>Содержание раздела

[Оптимизации директивы pragma и ключевые слова](optimization-pragmas-and-keywords.md) \
[Улучшение производительности компилятора](improving-compiler-throughput.md) \
[Почему может уменьшиться точность чисел с плавающей запятой](why-floating-point-numbers-may-lose-precision.md) \
[IEEE-представление с плавающей запятой](ieee-floating-point-representation.md) \
[Рекомендации по оптимизации срочного кода](tips-for-improving-time-critical-code.md) \
[При использовании имен функций без скобок () код не создается](using-function-name-without-parens-produces-no-code.md) \
[Рекомендации по оптимизации](optimization-best-practices.md) \
[Профильная оптимизация](profile-guided-optimizations.md) \
[Переменные среды для профильной оптимизации](environment-variables-for-profile-guided-optimizations.md) \
[Использованием PgoAutoSweep](pgoautosweep.md) \
[pgomgr](pgomgr.md) \
[pgosweep](pgosweep.md) \
[Практическое руководство. Слияние нескольких профилей для профильной оптимизации](how-to-merge-multiple-pgo-profiles-into-a-single-profile.md)

## <a name="see-also"></a>См. также

[Справочные сведения о сборке C/C++](reference/c-cpp-building-reference.md)
