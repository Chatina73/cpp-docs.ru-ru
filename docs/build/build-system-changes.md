---
title: Изменения системы построения
ms.date: 11/04/2016
f1_keywords:
- vc.msbuild.changes
helpviewer_keywords:
- Build system changes, project file (.vcxprog)
- Build system changes, custom build rules
- Build system changes, MSBuild
- MSBuild, build system changes
- Build system changes, .vsprops
- Build system changes, $(Inherit)
- Build system changes, $(NoInherit)
ms.assetid: e564d95f-a6cc-4d97-b57e-1a71daf66f4a
ms.openlocfilehash: a7a98c864a1d0bf617ebf4ededea5e1a59a1af31
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50437158"
---
# <a name="build-system-changes"></a>Изменения системы построения

Система MSBuild используется для построения проектов Visual C++. Тем не менее в Visual Studio 2008 и более ранних выпусках, система VCBuild была использована. Определенные типы файлов и основные понятия, которые зависят от VCBuild не существуют или представляются по-разному в текущей системе. В этом документе обсуждаются различия в текущей системе построения.

## <a name="vcproj-is-now-vcxproj"></a>.vcproj теперь является VCXPROJ-файл

Файлы проекта больше не использовать расширение имени файла .vcproj. Visual Studio автоматически преобразует файлы проекта, которые были созданы с более ранней версии Visual C++ в формат, который используется в текущей системе. Дополнительные сведения о том, как вручную обновить проект, см. в разделе [/Upgrade (devenv.exe)](/visualstudio/ide/reference/upgrade-devenv-exe).

В текущем выпуске расширение имени файла для файла проекта является VCXPROJ-файл.

## <a name="vsprops-is-now-props"></a>.vsprops теперь является расширением PROPS

В более ранних выпусках *страницу свойств проекта* представляет собой XML-файл с расширением .vsprops. Страница свойств проекта позволяет указать параметры для средства сборки, например компилятора или компоновщика и создать пользовательские макросы.

В текущем выпуске расширение имени файла для страницы свойств проекта является расширением props.

## <a name="custom-build-rules-and-rules-files"></a>Настраиваемые правила построения и RULES-файлы

В более ранних выпусках *файл правил* представляет собой XML-файл с расширением имени файла с расширением RULES. Файл правил позволяет определять пользовательские правила сборки и внедрять их в процесс построения проекта Visual C++. Настраиваемое правило построения, который может быть связан один или несколько расширений файлов, позволяет передавать входные файлы инструмент, который создает одно или несколько выходных файлов.

В этом выпуске настраиваемые правила построения представлены три типы файлов, XML, с расширением PROPS и TARGETS, а не файл с расширением RULES. При миграции Rules-файл, который был создан с помощью более ранней версии Visual C++ до текущего выпуска эквивалентное файлы .xml, PROPS и TARGETS создаются и хранятся в проекте вместе с исходным RULES-файлом.

> [!IMPORTANT]
>  В текущем выпуске интегрированной среды разработки не поддерживает создание новых правил. По этой причине самый простой способ использования файла правил из проекта, который был создан с помощью более ранней версии Visual C++ — для переноса проекта до текущего выпуска.

## <a name="inheritance-macros"></a>Макросы наследования

В более ранних выпусках **$(Inherit)** макрос указывает порядок, в котором отображаются наследуемые свойства в командной строке, состоящий в системе сборки проекта. **$(NoInherit)** макрос все вхождения $(Inherit) пропускаются и вызывает все свойства, которые могут быть наследованы, не наследуются. Например, по умолчанию макрос $(Inherit) вызывает файлов, указанных с помощью [/I (Дополнительные каталоги включаемых файлов)](../build/reference/i-additional-include-directories.md) параметр компилятора для добавления в командную строку.

В текущем выпуске наследование поддерживается, указав значение свойства в качестве объединяет один или несколько значений литералов, так и макрос свойств. **$(Inherit)** и **$(NoInherit)** макросы не поддерживаются.

В следующем примере список разделенных точкой с запятой назначается свойство на странице свойств. Список состоит из объединения  *\<значение >* литерал, а для параметра `MyProperty` свойство, которое осуществляется с помощью нотации макроса, **$(**  <em>MyProperty</em>**)**.

```
Property=<value>;$(MyProperty)
```

## <a name="vcxprojuser-files"></a>. vcxproj.user файлов

Файл пользователя (. vcxproj.user) хранит свойства конкретного пользователя, например, отладка и развертывание параметров. Файл vcxproj.user применяется ко всем проектам для конкретного пользователя.

## <a name="vcxprojfilters-file"></a>. vcxproj.filters файла

Когда **обозревателе решений** используется для добавления файла в проект, файл фильтров (. vcxproj.filters) определяет, где в **обозревателе решений** иерархическом представлении, файл будет добавлен, в зависимости от расширения имени файла.

## <a name="vc-directories-settings"></a>Параметры каталогов VC ++

Указанные параметры каталогов Visual C++ на [страница свойств каталогов VC ++](../ide/vcpp-directories-property-page.md). В более ранних версиях Visual Studio параметры каталогов применяются на пользователя, и список исключаемых каталогов, указанный в файле sysincl.dat.

Невозможно изменить параметры каталогов VC ++, при запуске [devenv/resetsettings](/visualstudio/ide/reference/resetsettings-devenv-exe) в командной строке. Также нельзя изменять настройки при открытии **средства** меню, щелкните **Импорт и экспорт параметров**, а затем выберите **сбросить все параметры** параметр.

Перенос параметров каталоги VC ++ из VSSETTINGS-файла, созданного в более ранних версиях Visual C++. Откройте **средства** меню, щелкните **Импорт и экспорт параметров**выберите **импортировать выбранные параметры среды**и следуйте указаниям мастера. Или при запуске Visual Studio в первый раз на **Выбор параметров среды по умолчанию** выберите **перенести параметры из предыдущей версии и применить их вместе с параметрами по умолчанию выбранные ниже**.

## <a name="see-also"></a>См. также

[MSBuild (Visual C++)](../build/msbuild-visual-cpp.md)