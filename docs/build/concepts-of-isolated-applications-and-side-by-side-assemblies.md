---
title: Основные понятия, связанные с изолированными приложениями и параллельными сборками
ms.date: 05/06/2019
helpviewer_keywords:
- side-by-side assemblies [C++]
- isolated assemblies [C++]
ms.assetid: 945a885f-cb3e-4c8a-a0b9-2c2e3e02cc50
ms.openlocfilehash: f75a95ccca214f437152d13e099fbd9d03eaaee2
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69493297"
---
# <a name="concepts-of-isolated-applications-and-side-by-side-assemblies"></a>Основные понятия, связанные с изолированными приложениями и параллельными сборками

Приложение называется [изолированным](/windows/win32/SbsCs/isolated-applications) , если все его компоненты являются [параллельными сборками](/windows/win32/SbsCs/about-side-by-side-assemblies-). Параллельная сборка представляет собой коллекцию ресурсов (группу библиотек DLL, классов окон, серверов COM, библиотек типов или интерфейсов), которые развертываются совместно и могут использоваться приложением во время выполнения. Обычно параллельная сборка — это одна или несколько библиотек DLL.

## <a name="shared-or-private"></a>Совместно используемые и закрытые сборки

Параллельная сборка может быть совместно используемой или закрытой. [Совместно используемые параллельные сборки](/windows/win32/sbscs/about-shared-assemblies-) могут использоваться несколькими приложениями, в манифестах которых задана зависимость от такой сборки. Несколько версий параллельной сборки могут совместно использоваться разными приложениями, выполняющимися в одно и то же время. [Закрытая сборка](/windows/win32/SbsCs/about-private-assemblies-) — это сборка, которая разворачивается вместе с приложением для использования только этим приложением. Закрытые сборки устанавливаются в папку, содержащую исполняемый файл приложения, или в одну из ее вложенных папок.

## <a name="manifests-and-search-order"></a>Манифесты и порядок поиска

Изолированные приложения и параллельные сборки описываются [манифестами](/windows/win32/sbscs/manifests). Манифест представляет собой XML-документ, который может быть внешним файлом или ресурсом, встроенным в приложение или сборку. Файл манифеста изолированного приложения используется для управления именами и версиями совместно используемых параллельных сборок, с которыми должно быть связано приложение во время выполнения. Манифест параллельной сборки задает имена, версии, ресурсы и зависимые сборки параллельных сборок. Манифест совместно используемой параллельной сборки устанавливается в папку %WINDIR%\WinSxS\Manifests\. В случае закрытой сборки рекомендуется включить ее манифест в библиотеку DLL в качестве ресурса с идентификатором 1. Можно также присвоить закрытой сборке имя, совпадающее с именем библиотеки DLL. Дополнительные сведения см. в разделе [о частных сборках](/windows/win32/SbsCs/about-private-assemblies-).

Во время выполнения Windows использует данные о сборке из манифеста приложения для поиска и загрузки соответствующей параллельной сборки. Если в изолированном приложении указана зависимость от сборки, то операционная система сначала выполняет поиск сборки среди совместно используемых сборок в собственном кэше сборок в папке %WINDIR%\WinSxS\. Если в этой папке нужная сборка не обнаруживается, то операционная система выполняет поиск закрытой сборки в папке структуры каталога приложения. Дополнительные сведения см. в разделе [Порядок поиска сборки](/windows/win32/SbsCs/assembly-searching-sequence).

## <a name="changing-dependencies"></a>Изменение зависимостей

Существует возможность изменения зависимостей параллельной сборки после развертывания приложения путем изменения [файлов конфигурации издателя](/windows/win32/SbsCs/publisher-configuration-files) и [файлов конфигурации приложения](/windows/win32/SbsCs/application-configuration-files). Файл конфигурации издателя, также называемый файлом политики издателя, представляет собой XML-файл, который глобально перенаправляет приложения и сборки от использования одной версии параллельной сборки к другой версии той же сборки. Например, вы могли изменить зависимость при развертывании исправления ошибок или исправления безопасности для параллельной сборки и хотите перенаправить все приложения для использования фиксированной версии. Файл конфигурации приложения представляет собой XML-файл, который перенаправляет конкретное приложение от использования одной версии параллельной сборки к другой версии той же сборки. Можно использовать файл конфигурации приложения для перенаправления конкретного приложения на использование версии параллельной сборки, отличной от версии, заданной в файле конфигурации издателя. Дополнительные сведения см. в разделе [Конфигурация](/windows/win32/SbsCs/configuration).

## <a name="visual-c-libraries"></a>Библиотеки Visual C++

В Visual Studio 2005 и Visual Studio 2008 распространяемые библиотеки, такие как ATL, MFC, CRT, OpenMP, MSDIA и стандартная библиотека C++, разворачивались как совместно используемые параллельные сборки в собственном кэше сборок. В текущей версии для распространяемых библиотек используется центральное развертывание. По умолчанию все приложения, созданные с помощью Visual Studio, создаются с использованием манифеста, внедренного в окончательный двоичный файл, а манифест описывает зависимости двоичного файла в библиотеках визуальных C++ элементов. Сведения о создании манифеста C++ для приложений см. в разделе [основные принципы созданияC++ манифеста для C/Programs](understanding-manifest-generation-for-c-cpp-programs.md). Манифест не требуется для приложений, которые статически привязаны к используемым ими библиотекам или используют локальное развертывание. Дополнительные сведения о развертывании см. в разделе [Deployment in Visual C++](../windows/deployment-in-visual-cpp.md).

## <a name="see-also"></a>См. также

[Создание изолированных приложений и параллельных сборок C/C++](building-c-cpp-isolated-applications-and-side-by-side-assemblies.md)
