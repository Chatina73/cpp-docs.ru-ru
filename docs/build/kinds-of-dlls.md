---
title: Виды библиотек DLL
ms.date: 05/06/2019
helpviewer_keywords:
- MFC DLLs [C++], types
- DLLs [C++], types
- DLLs [C++], MFC
ms.assetid: f6a30db9-6138-4b2c-90cc-a17855e499a6
ms.openlocfilehash: dae44d2dd39597420ce2a2c4e1642e8a7f0784e2
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81328503"
---
# <a name="kinds-of-dlls"></a>Виды библиотек DLL

Эта тема предоставляет информацию, которая поможет вам определить вид DLL для создания.

## <a name="different-kinds-of-dlls-available"></a><a name="_core_the_different_kinds_of_dlls_available_with_visual_c.2b2b"></a>Различные виды DLLs доступны

Используя Visual Studio, вы можете создать Win32 DLL в C или C, которые не используют библиотеку Microsoft Foundation Class (MFC). Вы можете создать проект DLL, не относясь к MFC, с помощью Мастера приложений Win32.

Сама библиотека MFC доступна либо в библиотеках статических ссылок, либо в ряде DLL, с MFC DLL Wizard. Если ваш DLL использует MFC, Visual Studio поддерживает три различных сценария разработки DLL:

- Создание регулярного MFC DLL, который статично связывает MFC

- Создание регулярного MFC DLL, который динамически связывает МФЦ

- Строительство расширения MFC DLL, который всегда динамически связать MFC

### <a name="what-do-you-want-to-know-more-about"></a>Дополнительные сведения

- [Общие сведения о библиотеках DLL, не являющихся MFC](non-mfc-dlls-overview.md)

- [Обычные библиотеки DLL MFC, статически связанные с MFC](regular-dlls-statically-linked-to-mfc.md)

- [Обычные библиотеки DLL MFC, динамически связанные с MFC](regular-dlls-dynamically-linked-to-mfc.md)

- [Общие сведения о библиотеках DLL расширений MFC](extension-dlls-overview.md)

- [Какой вид DLL использовать](#_core_which_kind_of_dll_to_use)

## <a name="deciding-which-kind-of-dll-to-use"></a><a name="_core_which_kind_of_dll_to_use"></a>Решение о том, какой вид DLL использовать

Если ваш DLL не использует MFC, используйте Visual Studio для создания не-MFC Win32 DLL. Связь DLL с MFC (статически или динамически) занимает значительное пространство диска и память. Вы не должны ссылаться на MFC, если ваш DLL на самом деле использует MFC.

Если ваш DLL будет использовать MFC и будет использоваться приложениями MFC или не-MFC, вы должны создать либо регулярный MFC DLL, который динамически подсваивывается MFC, либо обычный MFC DLL, который статично связан с MFC. В большинстве случаев, вероятно, вы хотите использовать регулярные MFC DLL, что динамически ссылки на MFC, потому что размер файла DLL будет гораздо меньше, и экономия в памяти от использования общей версии MFC может быть значительным. Если вы статично ссылку на MFC, размер файла вашего DLL будет больше и потенциально занимают дополнительную память, потому что он загружает свою собственную частную копию кода библиотеки MFC.

Создание DLL, который динамически связан с MFC быстрее, чем создание DLL, который статично ссылки на МФЦ, потому что нет необходимости связывать MFC себя. Это особенно верно в отладке сборки, где связующее должно компактный отладки информации. Связывая с DLL, который уже содержит информацию об отладке, меньше информации об отладке для компактного вашего DLL.

Одним из недостатков динамической ссылки на MFC является то, что вы должны распространять общие DLLs Mfcx0.dll и Msvcrxx.dll (или аналогичные файлы) с вашим DLL. MFC DLLs свободно перераспределительных, но вы все равно должны установить DLLs в вашей программе настройки. Кроме того, вы должны отправить Msvcrxx.dll, который содержит C время выполнения библиотеки, которая используется как вашей программы и MFC DLLs себя.

Если ваш DLL будет использоваться только исполнителями MFC, у вас есть выбор между созданием регулярного MFC DLL или расширением MFC DLL. Если DLL реализует многоразовые классы, полученные из существующих классов MFC, или вам необходимо передать объекты, полученные из MFC, между приложением и DLL, необходимо создать DLL расширения MFC.

Если ваш DLL динамически подсваивается на MFC, DLL MFC может быть перераспределен с вашим DLL. Эта архитектура особенно полезна для совместного использования библиотеки классов между несколькими исполняемыми файлами для сохранения дискового пространства и минимизации использования памяти.

### <a name="what-do-you-want-to-know-more-about"></a>Дополнительные сведения

- [Общие сведения о библиотеках DLL, не являющихся MFC](non-mfc-dlls-overview.md)

- [Обычные библиотеки DLL MFC, статически связанные с MFC](regular-dlls-statically-linked-to-mfc.md)

- [Обычные библиотеки DLL MFC, динамически связанные с MFC](regular-dlls-dynamically-linked-to-mfc.md)

- [Общие сведения о библиотеках DLL расширений MFC](extension-dlls-overview.md)

## <a name="see-also"></a>См. также раздел

[Создание библиотек DLL C/C++ в Visual Studio](dlls-in-visual-cpp.md)
