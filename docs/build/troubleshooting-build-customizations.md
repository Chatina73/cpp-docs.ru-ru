---
title: Устранение неполадок настроек построения
ms.date: 11/04/2016
helpviewer_keywords:
- build events [C++], troubleshooting
- builds [C++], build events
- troubleshooting [C++], builds
- build steps [C++], troubleshooting
- events [C++], build
- builds [C++], troubleshooting
- custom build steps [C++], troubleshooting
ms.assetid: e4ceb177-fbee-4ed3-a7d7-80f0d78c1d07
ms.openlocfilehash: 7a45b449dc9c3c4c81add37bbac0813c81133203
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62315252"
---
# <a name="troubleshooting-build-customizations"></a>Устранение неполадок настроек построения

Если работа настраиваемых этапов или событий сборки отличается от ожидаемой, есть несколько вариантов устранения неполадок.

- Убедитесь, что файлы, создаваемые на настраиваемых этапах сборки, соответствуют файлам, которые вы объявляете как выходные.

- Если на настраиваемых этапах сборки создаются файлы, относящиеся к входным данным или зависимостям других этапов сборки (настраиваемых или иных), обязательно добавьте эти файлы в проект. Кроме того, убедитесь, что средства, использующие эти файлы, выполняются после настраиваемого этапа сборки.

- Чтобы узнать, что именно делает настраиваемый этап сборки, добавьте `@echo on` в качестве первой команды. События и этапы сборки помещаются во временный BAT-файл и запускаются при сборке проекта. Таким образом, можно добавить проверку на ошибки в команды события или этапа сборки.

- Проверьте журнал сборки в каталоге промежуточных файлов, чтобы узнать, что именно выполняется. Путь и имя журнала сборки представлены выражением макроса **MSBuild** — **$(IntDir)\\$(MSBuildProjectName).log**.

- Измените параметры проекта для увеличения стандартного объема данных, собираемых в журнале сборки. В меню **Сервис** выберите пункт **Параметры**. В диалоговом окне **Параметры** щелкните узел **Проекты и решения** и узел **Сборка и запуск**. В поле **Степень подробности журнала сборки проекта MSBuild** щелкните **Подробно**.

- Проверьте значения для любого используемого макроса имени файла или каталога. Вы можете выводить макросы по отдельности или добавить `copy %0 command.bat` в начало настраиваемого этапа сборки, чтобы скопировать его команды в command.bat со всеми макросами в развернутом состоянии.

- Выполняйте настраиваемые этапы и события сборки по отдельности, чтобы проверить их поведение.

## <a name="see-also"></a>См. также

[Сведения об этапах настраиваемой сборки и событиях сборки](understanding-custom-build-steps-and-build-events.md)
