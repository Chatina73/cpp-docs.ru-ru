---
title: Строки имени языкового стандарта, языка и страны и региона
ms.date: 12/10/2018
helpviewer_keywords:
- country/region strings
- localization, locale
- locales
- setlocale function
- language strings
ms.assetid: a0e5a0c5-5602-4da0-b65f-de3d6c8530a2
ms.openlocfilehash: 95557c824aafb1092cc7711f19708cd7782683a9
ms.sourcegitcommit: b51703a96ee35ee2376d5f0775b70f03ccbe6d9a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/11/2020
ms.locfileid: "88087011"
---
# <a name="ucrt-locale-names-languages-and-countryregion-strings"></a>UCRT: сведения о строках имени языкового стандарта, языка, а также страны или региона

Аргумент *locale* для функций [setlocale, \_wsetlocale](../c-runtime-library/reference/setlocale-wsetlocale.md), [\_create\_locale](../c-runtime-library/reference/create-locale-wcreate-locale.md) и [\_wcreate\_locale](../c-runtime-library/reference/create-locale-wcreate-locale.md) можно задать с использованием имен языкового стандарта, языков, кодов страны или региона и кодовых страниц, которые поддерживаются в API многоязыковой поддержки Windows. Аргумент *locale* принимает следующую форму:

> *locale* :: "*locale-name*"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\|"*language* \[ **\_** _страна языка — регион_" \[ __.__ *Code-page*]] "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\|"__.__ *кодовая страница*»<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\| "C"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\| ""<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\| NULL

Параметр *locale-name* представлен в формате короткой строки стандарта IETF, например `en-US` для английского языка (США) или `bs-Cyrl-BA` для боснийского (кириллица, Босния и Герцеговина). Такой формат является предпочтительным. Список поддерживаемых имен языковых стандартов по версии операционной системы Windows см. в столбце **тег языка** таблицы в [приложении a: поведение продукта](https://docs.microsoft.com/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c) в \[ MS-LCID]: Справочник по идентификатору языка (LCID) Windows. Этот список ресурсов включает в себя поддерживаемый язык, скрипт и региональные части имен языковых стандартов. Дополнительные сведения о поддерживаемых именах языковых стандартов, имеющих порядок сортировки не по умолчанию, см. в столбце **Имя языкового стандарта** в разделе [Идентификаторы порядка сортировки](/windows/win32/Intl/sort-order-identifiers). В версии Windows 10 или более поздней допускаются имена языкового стандарта, соответствующие допустимым тегам языка [BCP-47](https://tools.ietf.org/html/bcp47). Например, `jp-US` является допустимым тегом BCP-47, однако он работает только для функциональных возможностей языкового стандарта `US`.

*Язык* \[ **\_** _страны и региона_ \[ __.__ *Code – page*]] форма хранится в настройках языкового стандарта для категории, если для создания языкового стандарта используется строка языка, строка языка и строка страны или региона. Набор поддерживаемых строк с названием языка представлен в списке [строк для языка](../c-runtime-library/language-strings.md), а список поддерживаемых строк страны или региона представлен в списке [строк для страны или региона](../c-runtime-library/country-region-strings.md). Если указанный язык не связан с указанной страной или регионом, язык по умолчанию для указанной страны или региона сохраняется в параметре языкового стандарта. Не рекомендуется использовать эту форму для строк с языкового стандарта, внедренных в коде или сериализованных в хранилище, поскольку эти строки чаще подвержены изменениям при обновлении операционной системы, чем форма имени языкового стандарта.

Кодовой страницей (*code-page*) является кодовая страница ANSI/OEM, связанная с этим языковым стандартом. Кодовая страница определяется автоматически при указании языкового стандарта с помощью языка или с помощью языка и страны или региона по отдельности. Особое значение `.ACP` определяет кодовую страницу ANSI для страны или региона. Особое значение `.OCP` определяет кодовую страницу OEM для страны или региона. Например, если указать `"Greek_Greece.ACP"` в качестве языкового стандарта, языковой стандарт сохранится как `Greek_Greece.1253` (кодовая страница ANSI для греческого), а если в качестве языкового стандарта указать `"Greek_Greece.OCP"` , он сохранится как `Greek_Greece.737` (кодовая страница OEM для греческого). Дополнительные сведения о кодовых страницах см. в разделе [Code Pages](../c-runtime-library/code-pages.md). Список поддерживаемых кодовых страниц в Windows см. в разделе [Идентификаторы кодовой страницы](/windows/win32/Intl/code-page-identifiers).

Если только кодовая страница используется для определения языкового стандарта, используются язык и страна или регион пользователя по умолчанию, как указано в [GetUserDefaultLocaleName](/windows/win32/api/winnls/nf-winnls-getuserdefaultlocalename). Например, если указать `".1254"` (ANSI — турецкий) как языковой стандарт пользователя, который настроен на использование английского (США), сохранится языковой стандарт `English_United States.1254`. Не рекомендуется использовать эту форму, поскольку это может привести к нестабильному поведению.

Значение аргумента *locale*`C` задает минимальную подходящую среду ANSI для преобразования C. `C`Языковой стандарт предполагает, что каждый **`char`** тип данных имеет размер 1 байт, а его значение всегда меньше 256. Если аргумент *locale* указывает на пустую строку, языковой стандарт соответствует исходной среде, определенной реализацией.

Можно указать все категории языкового стандарта одновременно для функций `setlocale` и `_wsetlocale` с помощью категории `LC_ALL` . Всем категориям можно задать тот же языковой стандарт, также можно задать каждую категорию по отдельности с помощью аргумента языкового стандарта, имеющего следующую форму:

> *LC-ALL-specifier* :: *locale*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\| \[**LC_COLLATE=**_locale_]\[**;LC_CTYPE=**_locale_]\[**;LC_MONETARY=**_locale_]\[**;LC_NUMERIC=**_locale_]\[**;LC_TIME=**_locale_]

Можно задать несколько типов категорий с разделением точкой с запятой. Типы категорий, которые не заданы, используют текущий параметр языкового стандарта. Например, этот фрагмент кода задает текущий языковой стандарт для всех категорий `de-DE`, а затем задает категории `LC_MONETARY` для `en-GB` и `LC_TIME` для `es-ES`:

```C
_wsetlocale(LC_ALL, L"de-DE");
_wsetlocale(LC_ALL, L"LC_MONETARY=en-GB;LC_TIME=es-ES");
```


## <a name="utf-8-support"></a>Поддержка UTF-8

Поддержку UTF-8 можно включить с помощью кодовой страницы UTF-8 в строке языкового стандарта. Дополнительные сведения см. в [разделе Поддержка UTF `setlocale` -8 статьи](../c-runtime-library/reference/setlocale-wsetlocale.md#utf-8-support) .


## <a name="see-also"></a>Дополнительно

[Справочник по библиотеке времени выполнения C](../c-runtime-library/c-run-time-library-reference.md)<br/>
[_get_current_locale](../c-runtime-library/reference/get-current-locale.md)<br/>
[setlocale, _wsetlocale](../c-runtime-library/reference/setlocale-wsetlocale.md)<br/>
[_create_locale, _wcreate_locale](../c-runtime-library/reference/create-locale-wcreate-locale.md)<br/>
[Строки языка](../c-runtime-library/language-strings.md)<br/>
[Строки страны или региона](../c-runtime-library/country-region-strings.md)
