---
title: Поля спецификации формата. Функции scanf и wscanf
ms.date: 11/04/2016
apilocation:
- msvcr80.dll
- msvcr110.dll
- msvcr90.dll
- msvcr100.dll
- msvcr110_clr0400.dll
- msvcr120.dll
apitype: DLLExport
f1_keywords:
- wscanf
- scanf
helpviewer_keywords:
- width, specifications in scanf function
- scanf format specifications
- scanf width specifications
- scanf type field characters
- type fields, scanf function
- format specification fields for scanf function
- type fields
ms.assetid: 7e95de1b-0b71-4de3-9f81-c9560c78e039
ms.openlocfilehash: 83c380adc1a8985bb232d70c6d7c4cb4a885e789
ms.sourcegitcommit: 6052185696adca270bc9bdbec45a626dd89cdcdd
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/31/2018
ms.locfileid: "50625944"
---
# <a name="format-specification-fields-scanf-and-wscanf-functions"></a>Поля спецификации формата. Функции scanf и wscanf

Приведенные здесь сведения относятся ко всему семейству функций `scanf`, включая безопасные версии, и описывают символы, которые используются, чтобы указать функциям `scanf` порядок анализа входного потока (например, входного потока `stdin` для функции `scanf`) с целью выделения значений, присваиваемых переменным программы.

Спецификация формата имеет следующий вид:

`%`[`*`] [[width](../c-runtime-library/scanf-width-specification.md)] [{[h &#124; l &#124; ll &#124; I64 &#124; L](../c-runtime-library/scanf-width-specification.md)}][type](../c-runtime-library/scanf-type-field-characters.md)

Аргумент `format` определяет интерпретацию входных данных и может содержать один или несколько из следующих символов:

- Пробельные символы: пробел (" "); символ табуляции ("\t"); новая строка ("\n"). Пробельные символы приводят к тому, что функция `scanf` считывает, но не сохраняет все последовательные пробельные символы во входных данных до следующего символа, отличного от пробельного. Один пробельный символ в формате соответствует любому числу (включая 0) и сочетанию пробельных символов во входных данных.

- Символы, отличные от пробельных, за исключением символа процента (`%`). Символ, не являющийся пробельным, приводит к тому, что функция `scanf` считывает, но не сохраняет соответствующий непробельный символ. Если следующий символ во входном потоке не соответствует этому символу, функция `scanf` завершает работу.

- Спецификации формата, начинающиеся со знака процента (`%`). Благодаря спецификации формата функция `scanf` читает и преобразовывает символы из входных данных в значения указанного типа. Значение присваивается аргументу из списка аргументов.

Формат читается слева направо. Ожидается, что символы, не входящие в спецификации форматов, будут соответствовать последовательности символов из входного потока; соответствующие символы входного потока считываются, но не сохраняются. Если символ во входном потоке не соответствует спецификации формата, функция `scanf` завершает работу и символ остается во входном потоке, как если бы он не был прочитан.

При обнаружении первой спецификации формата значение первого поля ввода преобразуется в соответствии с этой спецификацией и сохраняется в расположении, заданном первым параметром `argument`. Вторая спецификация формата приводит к тому, что второе поле ввода преобразовывается и сохраняется во втором параметре `argument`, и так далее до конца строки формата.

Поле ввода определяется как все символы до первого пробельного символа (пробел, символ табуляции или символ новой строки), все символы до первого символа, который невозможно преобразовать согласно спецификации формата, или все символы до тех пор, пока не будет достигнута ширина поля (если она указана). Если для заданной спецификации слишком много аргументов, лишние аргументы вычисляются, но игнорируются. Если аргументов недостаточно для спецификации формата, результаты будут непредсказуемы.

Каждое поле спецификации формата представляет собой один символ или число, указывающее на определенный параметр формата. Символ `type`, который указывается после последнего необязательного поля формата, определяет способ интерпретации поля ввода: как символ, как строка или как число.

Простейшая спецификация формата содержит только символ процента и символ `type` (например, `%s`). Если за символом процента (`%`) следует символ, который не имеет значения как символ управления форматом, этот символ и следующие за ним символы (до следующего символа процента) рассматриваются как обычная последовательность символов, то есть последовательность символов, которая должна соответствовать входными данными. Например, чтобы указать, что во входных данных должен присутствовать символ процента, используйте `%%`.

Звездочка (`*`) за знаком процента отключает назначение следующего поля ввода, которое интерпретируется как поле указанного типа. Поле считывается, но не сохраняется.

Безопасные версии (с суффиксом `_s`) семейства функций `scanf` требуют, чтобы сразу после каждого параметра типа `c`, `C`, `s`, `S` или `[` передавался параметр размера буфера. Дополнительные сведения о безопасных версиях семейства функций `scanf` см. в разделе [scanf_s, _scanf_s_l, wscanf_s, _wscanf_s_l](../c-runtime-library/reference/scanf-s-scanf-s-l-wscanf-s-wscanf-s-l.md).

## <a name="see-also"></a>См. также

[Спецификация ширины scanf](../c-runtime-library/scanf-width-specification.md)<br/>
[Символы поля типа для функции scanf](../c-runtime-library/scanf-type-field-characters.md)<br/>
[scanf, _scanf_l, wscanf, _wscanf_l](../c-runtime-library/reference/scanf-scanf-l-wscanf-wscanf-l.md)<br/>
[scanf_s, _scanf_s_l, wscanf_s, _wscanf_s_l](../c-runtime-library/reference/scanf-s-scanf-s-l-wscanf-s-wscanf-s-l.md)