---
title: Совместимость
ms.date: 11/04/2016
f1_keywords:
- c.programs
helpviewer_keywords:
- CRT, compatibility
- compatibility, C run-time libraries
- compatibility
ms.assetid: 346709cb-edda-4909-9a19-3d253eddb6b7
ms.openlocfilehash: 5e9d2edca8da128343bd14ea86a8c1c0023a244b
ms.sourcegitcommit: 7d64c5f226f925642a25e07498567df8bebb00d4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/08/2019
ms.locfileid: "65446663"
---
# <a name="compatibility"></a>Совместимость

Универсальная библиотека времени выполнения C (UCRT) поддерживает большую часть стандартной библиотеки C, необходимой для соответствия стандарту C++. Она реализует библиотеку C99 (ISO/IEC 9899:1999) за исключением макросов универсального типа, определенных в \<tgmath.h>, и строгой совместимости типов в \<complex.h>. Библиотека UCRT также реализует большое подмножество библиотеки C POSIX.1 (ISO/IEC 9945-1:1996, интерфейс прикладного программирования системы POSIX), но не полностью соответствует какому-либо стандарту POSIX.  Кроме того, UCRT реализует несколько функций и макросов Майкрософт, которые не входят в стандарт.

Функции, относящиеся к реализации Майкрософт Visual C++, находятся в библиотеке vcruntime.  Многие из этих функций предназначены только для внутреннего использования, и их невозможно вызвать с помощью пользовательского кода. Некоторые предназначены для использования при отладке и проверке совместимости реализаций.

Стандартная библиотека C++ резервирует имена, которые начинаются с символа подчеркивания в глобальном пространстве имен, в реализации. Так как функции POSIX находятся в глобальном пространстве имен, но не являются частью стандартной библиотеки среды выполнения C, реализации Майкрософт этих функций содержат символ подчеркивания в начале. Для переносимости библиотека UCRT также поддерживает имена по умолчанию, но компилятор Microsoft C++ выдает предупреждение об устаревании при компиляции кода, который использует их. Устаревшими считаются только имена POSIX по умолчанию, но не функции. Чтобы подавить предупреждение, задайте `_CRT_NONSTDC_NO_WARNINGS` перед включением каких-либо заголовков в код, использующий исходные имена POSIX.

Про некоторые функции в стандартной библиотеке C известно, что имеется тенденция к их небезопасному использованию из-за неправильно используемых параметров и непроверенных буферов. Эти функции часто являются источником проблем с безопасностью в коде. Майкрософт создала набор более безопасных версий этих функций, которые проверяют использование параметров и вызывают обработчик недопустимых параметров при обнаружении проблемы в ходе выполнения.  По умолчанию компилятор Microsoft C++ выдает предупреждение об устаревании, когда используется функция, для которой имеется более безопасный вариант. При компиляции кода в C++ можно задать для `_CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES` значение 1, чтобы устранить большинство предупреждений. Перегрузки шаблонов используются для вызова более безопасных вариантов, сохраняя переносимость исходного кода. Чтобы подавить предупреждение, определите `_CRT_SECURE_NO_WARNINGS` перед тем, как включить какие-либо заголовки в код, который использует эти функции. Для получения дополнительной информации см. [Security Features in the CRT](../c-runtime-library/security-features-in-the-crt.md).

За исключением указанного в документации по конкретным функциям библиотека UCRT совместима с Windows API.  Приложения Microsoft Store для Windows 8 и приложения универсальной платформы Windows (UWP) на Windows 10 не поддерживают некоторые функции. Эти функции перечислены в статье [Функции CRT, которые не поддерживаются в приложениях универсальной платформы Windows](../cppcx/crt-functions-not-supported-in-universal-windows-platform-apps.md), где приведены функции, не поддерживаемые средой выполнения Windows и [UWP](/uwp).

## <a name="related-articles"></a>Связанные статьи

|Заголовок|Описание|
|-----------|-----------------|
|[Приложения UWP, среда выполнения Windows и среда выполнения C](../c-runtime-library/windows-store-apps-the-windows-runtime-and-the-c-run-time.md)|Описывает, когда подпрограммы UCRT несовместимы с универсальными приложениями для Windows или приложениями Microsoft Store.|
|[Совместимость ANSI с C](../c-runtime-library/ansi-c-compliance.md)|Описывает именования, соответствующие стандартам, в UCRT.|
|[UNIX](../c-runtime-library/unix.md)|Рекомендации по переносу программ в UNIX.|
|[Платформы Windows (CRT)](../c-runtime-library/windows-platforms-crt.md)|Перечисление операционных систем, поддерживающих CRT.|
|[Обратная совместимость](../c-runtime-library/backward-compatibility.md)|Описание сопоставлений старых имен CRT с новыми.|
|[Функции библиотеки CRT](../c-runtime-library/crt-library-features.md)|Общие сведения о файлах библиотеки CRT (LIB) и соответствующих параметрах компилятора.|