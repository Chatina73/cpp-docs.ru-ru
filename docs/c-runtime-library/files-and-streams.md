---
title: Файлы и потоки
ms.date: 11/04/2016
helpviewer_keywords:
- files [C++]
- streams
ms.assetid: f61e712b-eac9-4c28-bb18-97c3786ef387
ms.openlocfilehash: ea11ea76ade8a68c2d8a92e08d3652035c996d3d
ms.sourcegitcommit: dedd4c3cb28adec3793329018b9163ffddf890a4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/11/2019
ms.locfileid: "57750797"
---
# <a name="files-and-streams"></a>Файлы и потоки

Программа взаимодействует с целевой средой путем чтения и записи файлов. Файл может представлять собой:

- Набор данных, который можно считывать и записывать многократно.

- Поток байт, создаваемый программой (например, конвейер).

- Поток байт, полученный из периферийного устройства или отправленный на периферийное устройство.

Последние два элемента — это интерактивные файлы. Как правило, файлы являются основным способом взаимодействия с программой. Манипулирование всеми этими типами файлов происходит практически одним и тем же образом — посредством вызова библиотечных функций. Для объявления большинства этих функций необходимо включать стандартный заголовок STDIO.H.

Перед выполнением большинства операций над файлом его необходимо открыть. Открытие файла связывает его с потоком — структурой данных в стандартной библиотеке C, которая сглаживает большинство различий между файлами различных типов. Библиотека поддерживает состояние каждого потока в объекте типа FILE.

Перед запуском программы целевая среда открывает три файла. Вы можете открыть файл, вызвав функцию библиотеки [fopen, _wfopen](../c-runtime-library/reference/fopen-wfopen.md) с двумя аргументами. (Функция `fopen` не рекомендуется к использованию, используйте вместо нее [fopen_s, _wfopen_s](../c-runtime-library/reference/fopen-s-wfopen-s.md)). Первым аргументом является имя файла. Вторым аргументом является строка C, определяющая:

- предполагается ли считывание данных из файла или запись в него данных (либо и то, и другое);

- предполагается ли содержание нового содержимого для файла (или создание нового файла, если он не существовал до этого) или сохранение существующего содержимого;

- может ли запись в файл изменить существующее содержимое или следует только добавить байты в конец файла;

- с текстовым потоком или двоичным потоком требуется работать.

После того как файл успешно открыт, можно определить, является ли поток ориентированным на байты (байтовым потоком), или ориентированным на расширенные символы (расширенный поток). Поток изначально несвязан. Вызов некоторых функций для работы над потоком делает его байтовым, тогда как некоторые другие функции делают его расширенным. Когда поток уже создан, он сохраняет ориентацию до тех пор, пока не будет закрыт функцией [fclose](../c-runtime-library/reference/fclose-fcloseall.md) или [freopen](../c-runtime-library/reference/freopen-wfreopen.md).

© 1989-2001 P.J. Plauger и Jim Brodie. Все права защищены.

## <a name="see-also"></a>См. также

[Текстовые и двоичные потоки](../c-runtime-library/text-and-binary-streams.md)<br/>
[Байты и широкие потоки](../c-runtime-library/byte-and-wide-streams.md)<br/>
[Управление потоками](../c-runtime-library/controlling-streams.md)<br/>
[Состояния потока](../c-runtime-library/stream-states.md)
